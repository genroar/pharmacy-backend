const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./D6qhrOfX.js","./CCt7L0Vq.js","./JN5ZEsO2.js","./LogoTile.yAeRBP6W.css","./index.BQpshzhY.css","./DRBGaOBB.js","./CA36D79J.js","./CMB5x8l7.js","./C_LCcKCc.js","./legal-notice.Czn4C2L1.css","./CXBm_WyW.js","./DejfDbmJ.js","./error-404.C3V-3Mc4.css","./DuA8wLjA.js","./error-500.dGVH929u.css"])))=>i.map(i=>d[i]);
var Zk=Object.defineProperty;var M5=n=>{throw TypeError(n)};var Jk=(n,e,t)=>e in n?Zk(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var pe=(n,e,t)=>Jk(n,typeof e!="symbol"?e+"":e,t),I5=(n,e,t)=>e.has(n)||M5("Cannot "+t);var Ne=(n,e,t)=>(I5(n,e,"read from private field"),t?t.call(n):e.get(n)),sn=(n,e,t)=>e.has(n)?M5("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(n):e.set(n,t),tn=(n,e,t,i)=>(I5(n,e,"write to private field"),i?i.call(n,t):e.set(n,t),t);/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function kb(n){const e=Object.create(null);for(const t of n.split(","))e[t]=1;return t=>t in e}const Pn={},Hf=[],_o=()=>{},ez=()=>!1,Ap=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&(n.charCodeAt(2)>122||n.charCodeAt(2)<97),zb=n=>n.startsWith("onUpdate:"),Ji=Object.assign,Hb=(n,e)=>{const t=n.indexOf(e);t>-1&&n.splice(t,1)},tz=Object.prototype.hasOwnProperty,mn=(n,e)=>tz.call(n,e),Et=Array.isArray,Vf=n=>vp(n)==="[object Map]",c6=n=>vp(n)==="[object Set]",nz=n=>vp(n)==="[object RegExp]",wt=n=>typeof n=="function",Kn=n=>typeof n=="string",Ja=n=>typeof n=="symbol",zn=n=>n!==null&&typeof n=="object",Vb=n=>(zn(n)||wt(n))&&wt(n.then)&&wt(n.catch),u6=Object.prototype.toString,vp=n=>u6.call(n),iz=n=>vp(n).slice(8,-1),f6=n=>vp(n)==="[object Object]",Gb=n=>Kn(n)&&n!=="NaN"&&n[0]!=="-"&&""+parseInt(n,10)===n,Gf=kb(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Zg=n=>{const e=Object.create(null);return t=>e[t]||(e[t]=n(t))},rz=/-(\w)/g,io=Zg(n=>n.replace(rz,(e,t)=>t?t.toUpperCase():"")),sz=/\B([A-Z])/g,Ru=Zg(n=>n.replace(sz,"-$1").toLowerCase()),Jg=Zg(n=>n.charAt(0).toUpperCase()+n.slice(1)),g2=Zg(n=>n?`on${Jg(n)}`:""),Gl=(n,e)=>!Object.is(n,e),e0=(n,...e)=>{for(let t=0;t<n.length;t++)n[t](...e)},d6=(n,e,t,i=!1)=>{Object.defineProperty(n,e,{configurable:!0,enumerable:!1,writable:i,value:t})},oz=n=>{const e=parseFloat(n);return isNaN(e)?n:e},h6=n=>{const e=Kn(n)?Number(n):NaN;return isNaN(e)?n:e};let D5;const eA=()=>D5||(D5=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function tA(n){if(Et(n)){const e={};for(let t=0;t<n.length;t++){const i=n[t],r=Kn(i)?uz(i):tA(i);if(r)for(const s in r)e[s]=r[s]}return e}else if(Kn(n)||zn(n))return n}const az=/;(?![^(]*\))/g,lz=/:([^]+)/,cz=/\/\*[^]*?\*\//g;function uz(n){const e={};return n.replace(cz,"").split(az).forEach(t=>{if(t){const i=t.split(lz);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function yp(n){let e="";if(Kn(n))e=n;else if(Et(n))for(let t=0;t<n.length;t++){const i=yp(n[t]);i&&(e+=i+" ")}else if(zn(n))for(const t in n)n[t]&&(e+=t+" ");return e.trim()}function fz(n){if(!n)return null;let{class:e,style:t}=n;return e&&!Kn(e)&&(n.class=yp(e)),t&&(n.style=tA(t)),n}const dz="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",hz=kb(dz);function p6(n){return!!n||n===""}const m6=n=>!!(n&&n.__v_isRef===!0),If=n=>Kn(n)?n:n==null?"":Et(n)||zn(n)&&(n.toString===u6||!wt(n.toString))?m6(n)?If(n.value):JSON.stringify(n,g6,2):String(n),g6=(n,e)=>m6(e)?g6(n,e.value):Vf(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,r],s)=>(t[A2(i,s)+" =>"]=r,t),{})}:c6(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>A2(t))}:Ja(e)?A2(e):zn(e)&&!Et(e)&&!f6(e)?String(e):e,A2=(n,e="")=>{var t;return Ja(n)?`Symbol(${(t=n.description)!=null?t:e})`:n};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let jr;class A6{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=jr,!e&&jr&&(this.index=(jr.scopes||(jr.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=jr;try{return jr=this,e()}finally{jr=t}}}on(){jr=this}off(){jr=this.parent}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0}}}function pz(n){return new A6(n)}function nA(){return jr}function Fy(n,e=!1){jr&&jr.cleanups.push(n)}let kn;const v2=new WeakSet;class v6{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,jr&&jr.active&&jr.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,v2.has(this)&&(v2.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||_6(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,P5(this),b6(this);const e=kn,t=bo;kn=this,bo=!0;try{return this.fn()}finally{x6(this),kn=e,bo=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)Wb(e);this.deps=this.depsTail=void 0,P5(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?v2.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Oy(this)&&this.run()}get dirty(){return Oy(this)}}let y6=0,t0,n0;function _6(n,e=!1){if(n.flags|=8,e){n.next=n0,n0=n;return}n.next=t0,t0=n}function Qb(){y6++}function jb(){if(--y6>0)return;if(n0){let e=n0;for(n0=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let n;for(;t0;){let e=t0;for(t0=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){n||(n=i)}e=t}}if(n)throw n}function b6(n){for(let e=n.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function x6(n){let e,t=n.depsTail,i=t;for(;i;){const r=i.prevDep;i.version===-1?(i===t&&(t=r),Wb(i),mz(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=r}n.deps=e,n.depsTail=t}function Oy(n){for(let e=n.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(C6(e.dep.computed)||e.dep.version!==e.version))return!0;return!!n._dirty}function C6(n){if(n.flags&4&&!(n.flags&16)||(n.flags&=-17,n.globalVersion===D0))return;n.globalVersion=D0;const e=n.dep;if(n.flags|=2,e.version>0&&!n.isSSR&&n.deps&&!Oy(n)){n.flags&=-3;return}const t=kn,i=bo;kn=n,bo=!0;try{b6(n);const r=n.fn(n._value);(e.version===0||Gl(r,n._value))&&(n._value=r,e.version++)}catch(r){throw e.version++,r}finally{kn=t,bo=i,x6(n),n.flags&=-3}}function Wb(n,e=!1){const{dep:t,prevSub:i,nextSub:r}=n;if(i&&(i.nextSub=r,n.prevSub=void 0),r&&(r.prevSub=i,n.nextSub=void 0),t.subs===n&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let s=t.computed.deps;s;s=s.nextDep)Wb(s,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function mz(n){const{prevDep:e,nextDep:t}=n;e&&(e.nextDep=t,n.prevDep=void 0),t&&(t.prevDep=e,n.nextDep=void 0)}let bo=!0;const S6=[];function ic(){S6.push(bo),bo=!1}function rc(){const n=S6.pop();bo=n===void 0?!0:n}function P5(n){const{cleanup:e}=n;if(n.cleanup=void 0,e){const t=kn;kn=void 0;try{e()}finally{kn=t}}}let D0=0;class gz{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class qb{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(e){if(!kn||!bo||kn===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==kn)t=this.activeLink=new gz(kn,this),kn.deps?(t.prevDep=kn.depsTail,kn.depsTail.nextDep=t,kn.depsTail=t):kn.deps=kn.depsTail=t,w6(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=kn.depsTail,t.nextDep=void 0,kn.depsTail.nextDep=t,kn.depsTail=t,kn.deps===t&&(kn.deps=i)}return t}trigger(e){this.version++,D0++,this.notify(e)}notify(e){Qb();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{jb()}}}function w6(n){if(n.dep.sc++,n.sub.flags&4){const e=n.dep.computed;if(e&&!n.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)w6(i)}const t=n.dep.subs;t!==n&&(n.prevSub=t,t&&(t.nextSub=n)),n.dep.subs=n}}const eg=new WeakMap,uu=Symbol(""),Uy=Symbol(""),P0=Symbol("");function Cr(n,e,t){if(bo&&kn){let i=eg.get(n);i||eg.set(n,i=new Map);let r=i.get(t);r||(i.set(t,r=new qb),r.map=i,r.key=t),r.track()}}function Ba(n,e,t,i,r,s){const o=eg.get(n);if(!o){D0++;return}const a=l=>{l&&l.trigger()};if(Qb(),e==="clear")o.forEach(a);else{const l=Et(n),c=l&&Gb(t);if(l&&t==="length"){const u=Number(i);o.forEach((f,h)=>{(h==="length"||h===P0||!Ja(h)&&h>=u)&&a(f)})}else switch((t!==void 0||o.has(void 0))&&a(o.get(t)),c&&a(o.get(P0)),e){case"add":l?c&&a(o.get("length")):(a(o.get(uu)),Vf(n)&&a(o.get(Uy)));break;case"delete":l||(a(o.get(uu)),Vf(n)&&a(o.get(Uy)));break;case"set":Vf(n)&&a(o.get(uu));break}}jb()}function Az(n,e){const t=eg.get(n);return t&&t.get(e)}function $u(n){const e=an(n);return e===n?e:(Cr(e,"iterate",P0),to(n)?e:e.map(Sr))}function iA(n){return Cr(n=an(n),"iterate",P0),n}const vz={__proto__:null,[Symbol.iterator](){return y2(this,Symbol.iterator,Sr)},concat(...n){return $u(this).concat(...n.map(e=>Et(e)?$u(e):e))},entries(){return y2(this,"entries",n=>(n[1]=Sr(n[1]),n))},every(n,e){return ma(this,"every",n,e,void 0,arguments)},filter(n,e){return ma(this,"filter",n,e,t=>t.map(Sr),arguments)},find(n,e){return ma(this,"find",n,e,Sr,arguments)},findIndex(n,e){return ma(this,"findIndex",n,e,void 0,arguments)},findLast(n,e){return ma(this,"findLast",n,e,Sr,arguments)},findLastIndex(n,e){return ma(this,"findLastIndex",n,e,void 0,arguments)},forEach(n,e){return ma(this,"forEach",n,e,void 0,arguments)},includes(...n){return _2(this,"includes",n)},indexOf(...n){return _2(this,"indexOf",n)},join(n){return $u(this).join(n)},lastIndexOf(...n){return _2(this,"lastIndexOf",n)},map(n,e){return ma(this,"map",n,e,void 0,arguments)},pop(){return hh(this,"pop")},push(...n){return hh(this,"push",n)},reduce(n,...e){return R5(this,"reduce",n,e)},reduceRight(n,...e){return R5(this,"reduceRight",n,e)},shift(){return hh(this,"shift")},some(n,e){return ma(this,"some",n,e,void 0,arguments)},splice(...n){return hh(this,"splice",n)},toReversed(){return $u(this).toReversed()},toSorted(n){return $u(this).toSorted(n)},toSpliced(...n){return $u(this).toSpliced(...n)},unshift(...n){return hh(this,"unshift",n)},values(){return y2(this,"values",Sr)}};function y2(n,e,t){const i=iA(n),r=i[e]();return i!==n&&!to(n)&&(r._next=r.next,r.next=()=>{const s=r._next();return s.value&&(s.value=t(s.value)),s}),r}const yz=Array.prototype;function ma(n,e,t,i,r,s){const o=iA(n),a=o!==n&&!to(n),l=o[e];if(l!==yz[e]){const f=l.apply(n,s);return a?Sr(f):f}let c=t;o!==n&&(a?c=function(f,h){return t.call(this,Sr(f),h,n)}:t.length>2&&(c=function(f,h){return t.call(this,f,h,n)}));const u=l.call(o,c,i);return a&&r?r(u):u}function R5(n,e,t,i){const r=iA(n);let s=t;return r!==n&&(to(n)?t.length>3&&(s=function(o,a,l){return t.call(this,o,a,l,n)}):s=function(o,a,l){return t.call(this,o,Sr(a),l,n)}),r[e](s,...i)}function _2(n,e,t){const i=an(n);Cr(i,"iterate",P0);const r=i[e](...t);return(r===-1||r===!1)&&$b(t[0])?(t[0]=an(t[0]),i[e](...t)):r}function hh(n,e,t=[]){ic(),Qb();const i=an(n)[e].apply(n,t);return jb(),rc(),i}const _z=kb("__proto__,__v_isRef,__isVue"),E6=new Set(Object.getOwnPropertyNames(Symbol).filter(n=>n!=="arguments"&&n!=="caller").map(n=>Symbol[n]).filter(Ja));function bz(n){Ja(n)||(n=String(n));const e=an(this);return Cr(e,"has",n),e.hasOwnProperty(n)}class T6{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const r=this._isReadonly,s=this._isShallow;if(t==="__v_isReactive")return!r;if(t==="__v_isReadonly")return r;if(t==="__v_isShallow")return s;if(t==="__v_raw")return i===(r?s?Pz:P6:s?D6:I6).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=Et(e);if(!r){let l;if(o&&(l=vz[t]))return l;if(t==="hasOwnProperty")return bz}const a=Reflect.get(e,t,Vi(e)?e:i);return(Ja(t)?E6.has(t):_z(t))||(r||Cr(e,"get",t),s)?a:Vi(a)?o&&Gb(t)?a:a.value:zn(a)?r?R6(a):ro(a):a}}class M6 extends T6{constructor(e=!1){super(!1,e)}set(e,t,i,r){let s=e[t];if(!this._isShallow){const l=Kl(s);if(!to(i)&&!Kl(i)&&(s=an(s),i=an(i)),!Et(e)&&Vi(s)&&!Vi(i))return l?!1:(s.value=i,!0)}const o=Et(e)&&Gb(t)?Number(t)<e.length:mn(e,t),a=Reflect.set(e,t,i,Vi(e)?e:r);return e===an(r)&&(o?Gl(i,s)&&Ba(e,"set",t,i):Ba(e,"add",t,i)),a}deleteProperty(e,t){const i=mn(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&i&&Ba(e,"delete",t,void 0),r}has(e,t){const i=Reflect.has(e,t);return(!Ja(t)||!E6.has(t))&&Cr(e,"has",t),i}ownKeys(e){return Cr(e,"iterate",Et(e)?"length":uu),Reflect.ownKeys(e)}}class xz extends T6{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Cz=new M6,Sz=new xz,wz=new M6(!0);const Ny=n=>n,g1=n=>Reflect.getPrototypeOf(n);function Ez(n,e,t){return function(...i){const r=this.__v_raw,s=an(r),o=Vf(s),a=n==="entries"||n===Symbol.iterator&&o,l=n==="keys"&&o,c=r[n](...i),u=t?Ny:e?ky:Sr;return!e&&Cr(s,"iterate",l?Uy:uu),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function A1(n){return function(...e){return n==="delete"?!1:n==="clear"?void 0:this}}function Tz(n,e){const t={get(r){const s=this.__v_raw,o=an(s),a=an(r);n||(Gl(r,a)&&Cr(o,"get",r),Cr(o,"get",a));const{has:l}=g1(o),c=e?Ny:n?ky:Sr;if(l.call(o,r))return c(s.get(r));if(l.call(o,a))return c(s.get(a));s!==o&&s.get(r)},get size(){const r=this.__v_raw;return!n&&Cr(an(r),"iterate",uu),Reflect.get(r,"size",r)},has(r){const s=this.__v_raw,o=an(s),a=an(r);return n||(Gl(r,a)&&Cr(o,"has",r),Cr(o,"has",a)),r===a?s.has(r):s.has(r)||s.has(a)},forEach(r,s){const o=this,a=o.__v_raw,l=an(a),c=e?Ny:n?ky:Sr;return!n&&Cr(l,"iterate",uu),a.forEach((u,f)=>r.call(s,c(u),c(f),o))}};return Ji(t,n?{add:A1("add"),set:A1("set"),delete:A1("delete"),clear:A1("clear")}:{add(r){!e&&!to(r)&&!Kl(r)&&(r=an(r));const s=an(this);return g1(s).has.call(s,r)||(s.add(r),Ba(s,"add",r,r)),this},set(r,s){!e&&!to(s)&&!Kl(s)&&(s=an(s));const o=an(this),{has:a,get:l}=g1(o);let c=a.call(o,r);c||(r=an(r),c=a.call(o,r));const u=l.call(o,r);return o.set(r,s),c?Gl(s,u)&&Ba(o,"set",r,s):Ba(o,"add",r,s),this},delete(r){const s=an(this),{has:o,get:a}=g1(s);let l=o.call(s,r);l||(r=an(r),l=o.call(s,r)),a&&a.call(s,r);const c=s.delete(r);return l&&Ba(s,"delete",r,void 0),c},clear(){const r=an(this),s=r.size!==0,o=r.clear();return s&&Ba(r,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=Ez(r,n,e)}),t}function Xb(n,e){const t=Tz(n,e);return(i,r,s)=>r==="__v_isReactive"?!n:r==="__v_isReadonly"?n:r==="__v_raw"?i:Reflect.get(mn(t,r)&&r in i?t:i,r,s)}const Mz={get:Xb(!1,!1)},Iz={get:Xb(!1,!0)},Dz={get:Xb(!0,!1)};const I6=new WeakMap,D6=new WeakMap,P6=new WeakMap,Pz=new WeakMap;function Rz(n){switch(n){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bz(n){return n.__v_skip||!Object.isExtensible(n)?0:Rz(iz(n))}function ro(n){return Kl(n)?n:Yb(n,!1,Cz,Mz,I6)}function Ua(n){return Yb(n,!1,wz,Iz,D6)}function R6(n){return Yb(n,!0,Sz,Dz,P6)}function Yb(n,e,t,i,r){if(!zn(n)||n.__v_raw&&!(e&&n.__v_isReactive))return n;const s=r.get(n);if(s)return s;const o=Bz(n);if(o===0)return n;const a=new Proxy(n,o===2?i:t);return r.set(n,a),a}function fu(n){return Kl(n)?fu(n.__v_raw):!!(n&&n.__v_isReactive)}function Kl(n){return!!(n&&n.__v_isReadonly)}function to(n){return!!(n&&n.__v_isShallow)}function $b(n){return n?!!n.__v_raw:!1}function an(n){const e=n&&n.__v_raw;return e?an(e):n}function ri(n){return!mn(n,"__v_skip")&&Object.isExtensible(n)&&d6(n,"__v_skip",!0),n}const Sr=n=>zn(n)?ro(n):n,ky=n=>zn(n)?R6(n):n;function Vi(n){return n?n.__v_isRef===!0:!1}function gt(n){return B6(n,!1)}function ds(n){return B6(n,!0)}function B6(n,e){return Vi(n)?n:new Lz(n,e)}class Lz{constructor(e,t){this.dep=new qb,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:an(e),this._value=t?e:Sr(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||to(e)||Kl(e);e=i?e:an(e),Gl(e,t)&&(this._rawValue=e,this._value=i?e:Sr(e),this.dep.trigger())}}function qt(n){return Vi(n)?n.value:n}function xo(n){return wt(n)?n():qt(n)}const Fz={get:(n,e,t)=>e==="__v_raw"?n:qt(Reflect.get(n,e,t)),set:(n,e,t,i)=>{const r=n[e];return Vi(r)&&!Vi(t)?(r.value=t,!0):Reflect.set(n,e,t,i)}};function L6(n){return fu(n)?n:new Proxy(n,Fz)}class Oz{constructor(e,t,i){this._object=e,this._key=t,this._defaultValue=i,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return Az(an(this._object),this._key)}}class Uz{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0,this._value=void 0}get value(){return this._value=this._getter()}}function Kb(n,e,t){return Vi(n)?n:wt(n)?new Uz(n):zn(n)&&arguments.length>1?Nz(n,e,t):gt(n)}function Nz(n,e,t){const i=n[e];return Vi(i)?i:new Oz(n,e,t)}class kz{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new qb(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=D0-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&kn!==this)return _6(this,!0),!0}get value(){const e=this.dep.track();return C6(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function zz(n,e,t=!1){let i,r;return wt(n)?i=n:(i=n.get,r=n.set),new kz(i,r,t)}const v1={},tg=new WeakMap;let qc;function zy(n,e=!1,t=qc){if(t){let i=tg.get(t);i||tg.set(t,i=[]),i.push(n)}}function Hz(n,e,t=Pn){const{immediate:i,deep:r,once:s,scheduler:o,augmentJob:a,call:l}=t,c=_=>r?_:to(_)||r===!1||r===0?La(_,1):La(_);let u,f,h,p,m=!1,g=!1;if(Vi(n)?(f=()=>n.value,m=to(n)):fu(n)?(f=()=>c(n),m=!0):Et(n)?(g=!0,m=n.some(_=>fu(_)||to(_)),f=()=>n.map(_=>{if(Vi(_))return _.value;if(fu(_))return c(_);if(wt(_))return l?l(_,2):_()})):wt(n)?e?f=l?()=>l(n,2):n:f=()=>{if(h){ic();try{h()}finally{rc()}}const _=qc;qc=u;try{return l?l(n,3,[p]):n(p)}finally{qc=_}}:f=_o,e&&r){const _=f,T=r===!0?1/0:r;f=()=>La(_(),T)}const A=nA(),y=()=>{u.stop(),A&&A.active&&Hb(A.effects,u)};if(s&&e){const _=e;e=(...T)=>{_(...T),y()}}let x=g?new Array(n.length).fill(v1):v1;const b=_=>{if(!(!(u.flags&1)||!u.dirty&&!_))if(e){const T=u.run();if(r||m||(g?T.some((M,I)=>Gl(M,x[I])):Gl(T,x))){h&&h();const M=qc;qc=u;try{const I=[T,x===v1?void 0:g&&x[0]===v1?[]:x,p];l?l(e,3,I):e(...I),x=T}finally{qc=M}}}else u.run()};return a&&a(b),u=new v6(f),u.scheduler=o?()=>o(b,!1):b,p=_=>zy(_,!1,u),h=u.onStop=()=>{const _=tg.get(u);if(_){if(l)l(_,4);else for(const T of _)T();tg.delete(u)}},e?i?b(!0):x=u.run():o?o(b.bind(null,!0),!0):u.run(),y.pause=u.pause.bind(u),y.resume=u.resume.bind(u),y.stop=y,y}function La(n,e=1/0,t){if(e<=0||!zn(n)||n.__v_skip||(t=t||new Set,t.has(n)))return n;if(t.add(n),e--,Vi(n))La(n.value,e,t);else if(Et(n))for(let i=0;i<n.length;i++)La(n[i],e,t);else if(c6(n)||Vf(n))n.forEach(i=>{La(i,e,t)});else if(f6(n)){for(const i in n)La(n[i],e,t);for(const i of Object.getOwnPropertySymbols(n))Object.prototype.propertyIsEnumerable.call(n,i)&&La(n[i],e,t)}return n}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function _p(n,e,t,i){try{return i?n(...i):n()}catch(r){Nd(r,e,t)}}function Eo(n,e,t,i){if(wt(n)){const r=_p(n,e,t,i);return r&&Vb(r)&&r.catch(s=>{Nd(s,e,t)}),r}if(Et(n)){const r=[];for(let s=0;s<n.length;s++)r.push(Eo(n[s],e,t,i));return r}}function Nd(n,e,t,i=!0){const r=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||Pn;if(e){let a=e.parent;const l=e.proxy,c=`https://vuejs.org/error-reference/#runtime-${t}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](n,l,c)===!1)return}a=a.parent}if(s){ic(),_p(s,null,10,[n,l,c]),rc();return}}Vz(n,t,r,i,o)}function Vz(n,e,t,i=!0,r=!1){if(r)throw n;console.error(n)}const Xr=[];let ko=-1;const Qf=[];let bl=null,Cf=0;const F6=Promise.resolve();let ng=null;function el(n){const e=ng||F6;return n?e.then(this?n.bind(this):n):e}function Gz(n){let e=ko+1,t=Xr.length;for(;e<t;){const i=e+t>>>1,r=Xr[i],s=R0(r);s<n||s===n&&r.flags&2?e=i+1:t=i}return e}function Zb(n){if(!(n.flags&1)){const e=R0(n),t=Xr[Xr.length-1];!t||!(n.flags&2)&&e>=R0(t)?Xr.push(n):Xr.splice(Gz(e),0,n),n.flags|=1,O6()}}function O6(){ng||(ng=F6.then(U6))}function ig(n){Et(n)?Qf.push(...n):bl&&n.id===-1?bl.splice(Cf+1,0,n):n.flags&1||(Qf.push(n),n.flags|=1),O6()}function B5(n,e,t=ko+1){for(;t<Xr.length;t++){const i=Xr[t];if(i&&i.flags&2){if(n&&i.id!==n.uid)continue;Xr.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function rg(n){if(Qf.length){const e=[...new Set(Qf)].sort((t,i)=>R0(t)-R0(i));if(Qf.length=0,bl){bl.push(...e);return}for(bl=e,Cf=0;Cf<bl.length;Cf++){const t=bl[Cf];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}bl=null,Cf=0}}const R0=n=>n.id==null?n.flags&2?-1:1/0:n.id;function U6(n){try{for(ko=0;ko<Xr.length;ko++){const e=Xr[ko];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),_p(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;ko<Xr.length;ko++){const e=Xr[ko];e&&(e.flags&=-2)}ko=-1,Xr.length=0,rg(),ng=null,(Xr.length||Qf.length)&&U6()}}let Hi=null,N6=null;function sg(n){const e=Hi;return Hi=n,N6=n&&n.type.__scopeId||null,e}function Na(n,e=Hi,t){if(!e||n._n)return n;const i=(...r)=>{i._d&&X5(-1);const s=sg(e);let o;try{o=n(...r)}finally{sg(s),i._d&&X5(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function Qz(n,e){if(Hi===null)return n;const t=lA(Hi),i=n.dirs||(n.dirs=[]);for(let r=0;r<e.length;r++){let[s,o,a,l=Pn]=e[r];s&&(wt(s)&&(s={mounted:s,updated:s}),s.deep&&La(o),i.push({dir:s,instance:t,value:o,oldValue:void 0,arg:a,modifiers:l}))}return n}function Ho(n,e,t,i){const r=n.dirs,s=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];s&&(a.oldValue=s[o].value);let l=a.dir[i];l&&(ic(),Eo(l,t,8,[n.el,a,n,e]),rc())}}const jz=Symbol("_vte"),k6=n=>n.__isTeleport,xl=Symbol("_leaveCb"),y1=Symbol("_enterCb");function Wz(){const n={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ks(()=>{n.isMounted=!0}),xp(()=>{n.isUnmounting=!0}),n}const Gs=[Function,Array],z6={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Gs,onEnter:Gs,onAfterEnter:Gs,onEnterCancelled:Gs,onBeforeLeave:Gs,onLeave:Gs,onAfterLeave:Gs,onLeaveCancelled:Gs,onBeforeAppear:Gs,onAppear:Gs,onAfterAppear:Gs,onAppearCancelled:Gs},H6=n=>{const e=n.subTree;return e.component?H6(e.component):e},qz={name:"BaseTransition",props:z6,setup(n,{slots:e}){const t=Ro(),i=Wz();return()=>{const r=e.default&&Q6(e.default(),!0);if(!r||!r.length)return;const s=V6(r),o=an(n),{mode:a}=o;if(i.isLeaving)return b2(s);const l=L5(s);if(!l)return b2(s);let c=Hy(l,o,i,t,f=>c=f);l.type!==ki&&fd(l,c);let u=t.subTree&&L5(t.subTree);if(u&&u.type!==ki&&!vo(l,u)&&H6(t).type!==ki){let f=Hy(u,o,i,t);if(fd(u,f),a==="out-in"&&l.type!==ki)return i.isLeaving=!0,f.afterLeave=()=>{i.isLeaving=!1,t.job.flags&8||t.update(),delete f.afterLeave,u=void 0},b2(s);a==="in-out"&&l.type!==ki?f.delayLeave=(h,p,m)=>{const g=G6(i,u);g[String(u.key)]=u,h[xl]=()=>{p(),h[xl]=void 0,delete c.delayedLeave,u=void 0},c.delayedLeave=()=>{m(),delete c.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function V6(n){let e=n[0];if(n.length>1){for(const t of n)if(t.type!==ki){e=t;break}}return e}const Xz=qz;function G6(n,e){const{leavingVNodes:t}=n;let i=t.get(e.type);return i||(i=Object.create(null),t.set(e.type,i)),i}function Hy(n,e,t,i,r){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:l,onEnter:c,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:p,onAfterLeave:m,onLeaveCancelled:g,onBeforeAppear:A,onAppear:y,onAfterAppear:x,onAppearCancelled:b}=e,_=String(n.key),T=G6(t,n),M=(w,E)=>{w&&Eo(w,i,9,E)},I=(w,E)=>{const O=E[1];M(w,E),Et(w)?w.every(F=>F.length<=1)&&O():w.length<=1&&O()},P={mode:o,persisted:a,beforeEnter(w){let E=l;if(!t.isMounted)if(s)E=A||l;else return;w[xl]&&w[xl](!0);const O=T[_];O&&vo(n,O)&&O.el[xl]&&O.el[xl](),M(E,[w])},enter(w){let E=c,O=u,F=f;if(!t.isMounted)if(s)E=y||c,O=x||u,F=b||f;else return;let H=!1;const z=w[y1]=X=>{H||(H=!0,X?M(F,[w]):M(O,[w]),P.delayedLeave&&P.delayedLeave(),w[y1]=void 0)};E?I(E,[w,z]):z()},leave(w,E){const O=String(n.key);if(w[y1]&&w[y1](!0),t.isUnmounting)return E();M(h,[w]);let F=!1;const H=w[xl]=z=>{F||(F=!0,E(),z?M(g,[w]):M(m,[w]),w[xl]=void 0,T[O]===n&&delete T[O])};T[O]=n,p?I(p,[w,H]):H()},clone(w){const E=Hy(w,e,t,i,r);return r&&r(E),E}};return P}function b2(n){if(bp(n))return n=qa(n),n.children=null,n}function L5(n){if(!bp(n))return k6(n.type)&&n.children?V6(n.children):n;const{shapeFlag:e,children:t}=n;if(t){if(e&16)return t[0];if(e&32&&wt(t.default))return t.default()}}function fd(n,e){n.shapeFlag&6&&n.component?(n.transition=e,fd(n.component.subTree,e)):n.shapeFlag&128?(n.ssContent.transition=e.clone(n.ssContent),n.ssFallback.transition=e.clone(n.ssFallback)):n.transition=e}function Q6(n,e=!1,t){let i=[],r=0;for(let s=0;s<n.length;s++){let o=n[s];const a=t==null?o.key:String(t)+String(o.key!=null?o.key:s);o.type===Ii?(o.patchFlag&128&&r++,i=i.concat(Q6(o.children,e,a))):(e||o.type!==ki)&&i.push(a!=null?qa(o,{key:a}):o)}if(r>1)for(let s=0;s<i.length;s++)i[s].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function vs(n,e){return wt(n)?Ji({name:n.name},e,{setup:n}):n}function Yz(){const n=Ro();return n?(n.appContext.config.idPrefix||"v")+"-"+n.ids[0]+n.ids[1]++:""}function Jb(n){n.ids=[n.ids[0]+n.ids[2]+++"-",0,0]}function B0(n,e,t,i,r=!1){if(Et(n)){n.forEach((m,g)=>B0(m,e&&(Et(e)?e[g]:e),t,i,r));return}if(Ql(i)&&!r){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&B0(n,e,t,i.component.subTree);return}const s=i.shapeFlag&4?lA(i.component):i.el,o=r?null:s,{i:a,r:l}=n,c=e&&e.r,u=a.refs===Pn?a.refs={}:a.refs,f=a.setupState,h=an(f),p=f===Pn?()=>!1:m=>mn(h,m);if(c!=null&&c!==l&&(Kn(c)?(u[c]=null,p(c)&&(f[c]=null)):Vi(c)&&(c.value=null)),wt(l))_p(l,a,12,[o,u]);else{const m=Kn(l),g=Vi(l);if(m||g){const A=()=>{if(n.f){const y=m?p(l)?f[l]:u[l]:l.value;r?Et(y)&&Hb(y,s):Et(y)?y.includes(s)||y.push(s):m?(u[l]=[s],p(l)&&(f[l]=u[l])):(l.value=[s],n.k&&(u[n.k]=l.value))}else m?(u[l]=o,p(l)&&(f[l]=o)):g&&(l.value=o,n.k&&(u[n.k]=o))};o?(A.id=-1,cr(A,t)):A()}}}let F5=!1;const Ku=()=>{F5||(console.error("Hydration completed but contains mismatches."),F5=!0)},$z=n=>n.namespaceURI.includes("svg")&&n.tagName!=="foreignObject",Kz=n=>n.namespaceURI.includes("MathML"),_1=n=>{if(n.nodeType===1){if($z(n))return"svg";if(Kz(n))return"mathml"}},Df=n=>n.nodeType===8;function Zz(n){const{mt:e,p:t,o:{patchProp:i,createText:r,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:c}}=n,u=(b,_)=>{if(!_.hasChildNodes()){t(null,b,_),rg(),_._vnode=b;return}f(_.firstChild,b,null,null,null),rg(),_._vnode=b},f=(b,_,T,M,I,P=!1)=>{P=P||!!_.dynamicChildren;const w=Df(b)&&b.data==="[",E=()=>g(b,_,T,M,I,w),{type:O,ref:F,shapeFlag:H,patchFlag:z}=_;let X=b.nodeType;_.el=b,z===-2&&(P=!1,_.dynamicChildren=null);let U=null;switch(O){case hu:X!==3?_.children===""?(l(_.el=r(""),o(b),b),U=b):U=E():(b.data!==_.children&&(Ku(),b.data=_.children),U=s(b));break;case ki:x(b)?(U=s(b),y(_.el=b.content.firstChild,b,T)):X!==8||w?U=E():U=s(b);break;case Wf:if(w&&(b=s(b),X=b.nodeType),X===1||X===3){U=b;const G=!_.children.length;for(let j=0;j<_.staticCount;j++)G&&(_.children+=U.nodeType===1?U.outerHTML:U.data),j===_.staticCount-1&&(_.anchor=U),U=s(U);return w?s(U):U}else E();break;case Ii:w?U=m(b,_,T,M,I,P):U=E();break;default:if(H&1)(X!==1||_.type.toLowerCase()!==b.tagName.toLowerCase())&&!x(b)?U=E():U=h(b,_,T,M,I,P);else if(H&6){_.slotScopeIds=I;const G=o(b);if(w?U=A(b):Df(b)&&b.data==="teleport start"?U=A(b,b.data,"teleport end"):U=s(b),e(_,G,null,T,M,_1(G),P),Ql(_)&&!_.type.__asyncResolved){let j;w?(j=dn(Ii),j.anchor=U?U.previousSibling:G.lastChild):j=b.nodeType===3?rx(""):dn("div"),j.el=b,_.component.subTree=j}}else H&64?X!==8?U=E():U=_.type.hydrate(b,_,T,M,I,P,n,p):H&128&&(U=_.type.hydrate(b,_,T,M,_1(o(b)),I,P,n,f))}return F!=null&&B0(F,null,M,_),U},h=(b,_,T,M,I,P)=>{P=P||!!_.dynamicChildren;const{type:w,props:E,patchFlag:O,shapeFlag:F,dirs:H,transition:z}=_,X=w==="input"||w==="option";if(X||O!==-1){H&&Ho(_,null,T,"created");let U=!1;if(x(b)){U=A7(null,z)&&T&&T.vnode.props&&T.vnode.props.appear;const j=b.content.firstChild;U&&z.beforeEnter(j),y(j,b,T),_.el=b=j}if(F&16&&!(E&&(E.innerHTML||E.textContent))){let j=p(b.firstChild,_,b,T,M,I,P);for(;j;){b1(b,1)||Ku();const Y=j;j=j.nextSibling,a(Y)}}else if(F&8){let j=_.children;j[0]===`
`&&(b.tagName==="PRE"||b.tagName==="TEXTAREA")&&(j=j.slice(1)),b.textContent!==j&&(b1(b,0)||Ku(),b.textContent=_.children)}if(E){if(X||!P||O&48){const j=b.tagName.includes("-");for(const Y in E)(X&&(Y.endsWith("value")||Y==="indeterminate")||Ap(Y)&&!Gf(Y)||Y[0]==="."||j)&&i(b,Y,null,E[Y],void 0,T)}else if(E.onClick)i(b,"onClick",null,E.onClick,void 0,T);else if(O&4&&fu(E.style))for(const j in E.style)E.style[j]}let G;(G=E&&E.onVnodeBeforeMount)&&as(G,T,_),H&&Ho(_,null,T,"beforeMount"),((G=E&&E.onVnodeMounted)||H||U)&&S7(()=>{G&&as(G,T,_),U&&z.enter(b),H&&Ho(_,null,T,"mounted")},M)}return b.nextSibling},p=(b,_,T,M,I,P,w)=>{w=w||!!_.dynamicChildren;const E=_.children,O=E.length;for(let F=0;F<O;F++){const H=w?E[F]:E[F]=Ds(E[F]),z=H.type===hu;b?(z&&!w&&F+1<O&&Ds(E[F+1]).type===hu&&(l(r(b.data.slice(H.children.length)),T,s(b)),b.data=H.children),b=f(b,H,M,I,P,w)):z&&!H.children?l(H.el=r(""),T):(b1(T,1)||Ku(),t(null,H,T,null,M,I,_1(T),P))}return b},m=(b,_,T,M,I,P)=>{const{slotScopeIds:w}=_;w&&(I=I?I.concat(w):w);const E=o(b),O=p(s(b),_,E,T,M,I,P);return O&&Df(O)&&O.data==="]"?s(_.anchor=O):(Ku(),l(_.anchor=c("]"),E,O),O)},g=(b,_,T,M,I,P)=>{if(b1(b.parentElement,1)||Ku(),_.el=null,P){const O=A(b);for(;;){const F=s(b);if(F&&F!==O)a(F);else break}}const w=s(b),E=o(b);return a(b),t(null,_,E,w,T,M,_1(E),I),T&&(T.vnode.el=_.el,aA(T,_.el)),w},A=(b,_="[",T="]")=>{let M=0;for(;b;)if(b=s(b),b&&Df(b)&&(b.data===_&&M++,b.data===T)){if(M===0)return s(b);M--}return b},y=(b,_,T)=>{const M=_.parentNode;M&&M.replaceChild(b,_);let I=T;for(;I;)I.vnode.el===_&&(I.vnode.el=I.subTree.el=b),I=I.parent},x=b=>b.nodeType===1&&b.tagName==="TEMPLATE";return[u,f]}const O5="data-allow-mismatch",Jz={0:"text",1:"children",2:"class",3:"style",4:"attribute"};function b1(n,e){if(e===0||e===1)for(;n&&!n.hasAttribute(O5);)n=n.parentElement;const t=n&&n.getAttribute(O5);if(t==null)return!1;if(t==="")return!0;{const i=t.split(",");return e===0&&i.includes("children")?!0:t.split(",").includes(Jz[e])}}eA().requestIdleCallback;eA().cancelIdleCallback;function eH(n,e){if(Df(n)&&n.data==="["){let t=1,i=n.nextSibling;for(;i;){if(i.nodeType===1){if(e(i)===!1)break}else if(Df(i))if(i.data==="]"){if(--t===0)break}else i.data==="["&&t++;i=i.nextSibling}}else e(n)}const Ql=n=>!!n.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function U5(n){wt(n)&&(n={loader:n});const{loader:e,loadingComponent:t,errorComponent:i,delay:r=200,hydrate:s,timeout:o,suspensible:a=!0,onError:l}=n;let c=null,u,f=0;const h=()=>(f++,c=null,p()),p=()=>{let m;return c||(m=c=e().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),l)return new Promise((A,y)=>{l(g,()=>A(h()),()=>y(g),f+1)});throw g}).then(g=>m!==c&&c?c:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),u=g,g)))};return vs({name:"AsyncComponentWrapper",__asyncLoader:p,__asyncHydrate(m,g,A){const y=s?()=>{const x=s(A,b=>eH(m,b));x&&(g.bum||(g.bum=[])).push(x)}:A;u?y():p().then(()=>!g.isUnmounted&&y())},get __asyncResolved(){return u},setup(){const m=zi;if(Jb(m),u)return()=>x2(u,m);const g=b=>{c=null,Nd(b,m,13,!i)};if(a&&m.suspense||hd)return p().then(b=>()=>x2(b,m)).catch(b=>(g(b),()=>i?dn(i,{error:b}):null));const A=gt(!1),y=gt(),x=gt(!!r);return r&&setTimeout(()=>{x.value=!1},r),o!=null&&setTimeout(()=>{if(!A.value&&!y.value){const b=new Error(`Async component timed out after ${o}ms.`);g(b),y.value=b}},o),p().then(()=>{A.value=!0,m.parent&&bp(m.parent.vnode)&&m.parent.update()}).catch(b=>{g(b),y.value=b}),()=>{if(A.value&&u)return x2(u,m);if(y.value&&i)return dn(i,{error:y.value});if(t&&!x.value)return dn(t)}}})}function x2(n,e){const{ref:t,props:i,children:r,ce:s}=e.vnode,o=dn(n,i,r);return o.ref=t,o.ce=s,delete e.vnode.ce,o}const bp=n=>n.type.__isKeepAlive,tH={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(n,{slots:e}){const t=Ro(),i=t.ctx;if(!i.renderer)return()=>{const x=e.default&&e.default();return x&&x.length===1?x[0]:x};const r=new Map,s=new Set;let o=null;const a=t.suspense,{renderer:{p:l,m:c,um:u,o:{createElement:f}}}=i,h=f("div");i.activate=(x,b,_,T,M)=>{const I=x.component;c(x,b,_,0,a),l(I.vnode,x,b,_,I,a,T,x.slotScopeIds,M),cr(()=>{I.isDeactivated=!1,I.a&&e0(I.a);const P=x.props&&x.props.onVnodeMounted;P&&as(P,I.parent,x)},a)},i.deactivate=x=>{const b=x.component;ag(b.m),ag(b.a),c(x,h,null,1,a),cr(()=>{b.da&&e0(b.da);const _=x.props&&x.props.onVnodeUnmounted;_&&as(_,b.parent,x),b.isDeactivated=!0},a)};function p(x){C2(x),u(x,t,a,!0)}function m(x){r.forEach((b,_)=>{const T=$y(b.type);T&&!x(T)&&g(_)})}function g(x){const b=r.get(x);b&&(!o||!vo(b,o))?p(b):o&&C2(o),r.delete(x),s.delete(x)}oi(()=>[n.include,n.exclude],([x,b])=>{x&&m(_=>kh(x,_)),b&&m(_=>!kh(b,_))},{flush:"post",deep:!0});let A=null;const y=()=>{A!=null&&(lg(t.subTree.type)?cr(()=>{r.set(A,x1(t.subTree))},t.subTree.suspense):r.set(A,x1(t.subTree)))};return ks(y),Y6(y),xp(()=>{r.forEach(x=>{const{subTree:b,suspense:_}=t,T=x1(b);if(x.type===T.type&&x.key===T.key){C2(T);const M=T.component.da;M&&cr(M,_);return}p(x)})}),()=>{if(A=null,!e.default)return o=null;const x=e.default(),b=x[0];if(x.length>1)return o=null,x;if(!wu(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let _=x1(b);if(_.type===ki)return o=null,_;const T=_.type,M=$y(Ql(_)?_.type.__asyncResolved||{}:T),{include:I,exclude:P,max:w}=n;if(I&&(!M||!kh(I,M))||P&&M&&kh(P,M))return _.shapeFlag&=-257,o=_,b;const E=_.key==null?T:_.key,O=r.get(E);return _.el&&(_=qa(_),b.shapeFlag&128&&(b.ssContent=_)),A=E,O?(_.el=O.el,_.component=O.component,_.transition&&fd(_,_.transition),_.shapeFlag|=512,s.delete(E),s.add(E)):(s.add(E),w&&s.size>parseInt(w,10)&&g(s.values().next().value)),_.shapeFlag|=256,o=_,lg(b.type)?b:_}}},nH=tH;function kh(n,e){return Et(n)?n.some(t=>kh(t,e)):Kn(n)?n.split(",").includes(e):nz(n)?(n.lastIndex=0,n.test(e)):!1}function j6(n,e){q6(n,"a",e)}function W6(n,e){q6(n,"da",e)}function q6(n,e,t=zi){const i=n.__wdc||(n.__wdc=()=>{let r=t;for(;r;){if(r.isDeactivated)return;r=r.parent}return n()});if(rA(e,i,t),t){let r=t.parent;for(;r&&r.parent;)bp(r.parent.vnode)&&iH(i,e,t,r),r=r.parent}}function iH(n,e,t,i){const r=rA(e,n,i,!0);nl(()=>{Hb(i[e],r)},t)}function C2(n){n.shapeFlag&=-257,n.shapeFlag&=-513}function x1(n){return n.shapeFlag&128?n.ssContent:n}function rA(n,e,t=zi,i=!1){if(t){const r=t[n]||(t[n]=[]),s=e.__weh||(e.__weh=(...o)=>{ic();const a=Eu(t),l=Eo(e,t,n,o);return a(),rc(),l});return i?r.unshift(s):r.push(s),s}}const tl=n=>(e,t=zi)=>{(!hd||n==="sp")&&rA(n,(...i)=>e(...i),t)},ex=tl("bm"),ks=tl("m"),X6=tl("bu"),Y6=tl("u"),xp=tl("bum"),nl=tl("um"),rH=tl("sp"),sH=tl("rtg"),oH=tl("rtc");function $6(n,e=zi){rA("ec",n,e)}const K6="components";function N5(n,e){return e7(K6,n,!0,e)||n}const Z6=Symbol.for("v-ndc");function J6(n){return Kn(n)?e7(K6,n,!1)||n:n||Z6}function e7(n,e,t=!0,i=!1){const r=Hi||zi;if(r){const s=r.type;{const a=$y(s,!1);if(a&&(a===e||a===io(e)||a===Jg(io(e))))return s}const o=k5(r[n]||s[n],e)||k5(r.appContext[n],e);return!o&&i?s:o}}function k5(n,e){return n&&(n[e]||n[io(e)]||n[Jg(io(e))])}function z5(n,e,t,i){let r;const s=t,o=Et(n);if(o||Kn(n)){const a=o&&fu(n);let l=!1;a&&(l=!to(n),n=iA(n)),r=new Array(n.length);for(let c=0,u=n.length;c<u;c++)r[c]=e(l?Sr(n[c]):n[c],c,void 0,s)}else if(typeof n=="number"){r=new Array(n);for(let a=0;a<n;a++)r[a]=e(a+1,a,void 0,s)}else if(zn(n))if(n[Symbol.iterator])r=Array.from(n,(a,l)=>e(a,l,void 0,s));else{const a=Object.keys(n);r=new Array(a.length);for(let l=0,c=a.length;l<c;l++){const u=a[l];r[l]=e(n[u],u,l,s)}}else r=[];return r}function tx(n,e,t={},i,r){if(Hi.ce||Hi.parent&&Ql(Hi.parent)&&Hi.parent.ce)return fi(),$s(Ii,null,[dn("slot",t,i)],64);let s=n[e];s&&s._c&&(s._d=!1),fi();const o=s&&t7(s(t)),a=t.key||o&&o.key,l=$s(Ii,{key:(a&&!Ja(a)?a:`_${e}`)+""},o||[],o&&n._===1?64:-2);return!r&&l.scopeId&&(l.slotScopeIds=[l.scopeId+"-s"]),s&&s._c&&(s._d=!0),l}function t7(n){return n.some(e=>wu(e)?!(e.type===ki||e.type===Ii&&!t7(e.children)):!0)?n:null}const Vy=n=>n?I7(n)?lA(n):Vy(n.parent):null,i0=Ji(Object.create(null),{$:n=>n,$el:n=>n.vnode.el,$data:n=>n.data,$props:n=>n.props,$attrs:n=>n.attrs,$slots:n=>n.slots,$refs:n=>n.refs,$parent:n=>Vy(n.parent),$root:n=>Vy(n.root),$host:n=>n.ce,$emit:n=>n.emit,$options:n=>r7(n),$forceUpdate:n=>n.f||(n.f=()=>{Zb(n.update)}),$nextTick:n=>n.n||(n.n=el.bind(n.proxy)),$watch:n=>TH.bind(n)}),S2=(n,e)=>n!==Pn&&!n.__isScriptSetup&&mn(n,e),aH={get({_:n},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:r,props:s,accessCache:o,type:a,appContext:l}=n;let c;if(e[0]!=="$"){const p=o[e];if(p!==void 0)switch(p){case 1:return i[e];case 2:return r[e];case 4:return t[e];case 3:return s[e]}else{if(S2(i,e))return o[e]=1,i[e];if(r!==Pn&&mn(r,e))return o[e]=2,r[e];if((c=n.propsOptions[0])&&mn(c,e))return o[e]=3,s[e];if(t!==Pn&&mn(t,e))return o[e]=4,t[e];Gy&&(o[e]=0)}}const u=i0[e];let f,h;if(u)return e==="$attrs"&&Cr(n.attrs,"get",""),u(n);if((f=a.__cssModules)&&(f=f[e]))return f;if(t!==Pn&&mn(t,e))return o[e]=4,t[e];if(h=l.config.globalProperties,mn(h,e))return h[e]},set({_:n},e,t){const{data:i,setupState:r,ctx:s}=n;return S2(r,e)?(r[e]=t,!0):i!==Pn&&mn(i,e)?(i[e]=t,!0):mn(n.props,e)||e[0]==="$"&&e.slice(1)in n?!1:(s[e]=t,!0)},has({_:{data:n,setupState:e,accessCache:t,ctx:i,appContext:r,propsOptions:s}},o){let a;return!!t[o]||n!==Pn&&mn(n,o)||S2(e,o)||(a=s[0])&&mn(a,o)||mn(i,o)||mn(i0,o)||mn(r.config.globalProperties,o)},defineProperty(n,e,t){return t.get!=null?n._.accessCache[e]=0:mn(t,"value")&&this.set(n,e,t.value,null),Reflect.defineProperty(n,e,t)}};function rfe(){return lH().attrs}function lH(){const n=Ro();return n.setupContext||(n.setupContext=P7(n))}function H5(n){return Et(n)?n.reduce((e,t)=>(e[t]=null,e),{}):n}function n7(n){const e=Ro();let t=n();return Xy(),Vb(t)&&(t=t.catch(i=>{throw Eu(e),i})),[t,()=>Eu(e)]}let Gy=!0;function cH(n){const e=r7(n),t=n.proxy,i=n.ctx;Gy=!1,e.beforeCreate&&V5(e.beforeCreate,n,"bc");const{data:r,computed:s,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:p,updated:m,activated:g,deactivated:A,beforeDestroy:y,beforeUnmount:x,destroyed:b,unmounted:_,render:T,renderTracked:M,renderTriggered:I,errorCaptured:P,serverPrefetch:w,expose:E,inheritAttrs:O,components:F,directives:H,filters:z}=e;if(c&&uH(c,i,null),o)for(const G in o){const j=o[G];wt(j)&&(i[G]=j.bind(t))}if(r){const G=r.call(t,t);zn(G)&&(n.data=ro(G))}if(Gy=!0,s)for(const G in s){const j=s[G],Y=wt(j)?j.bind(t,t):wt(j.get)?j.get.bind(t,t):_o,Q=!wt(j)&&wt(j.set)?j.set.bind(t):_o,ve=ni({get:Y,set:Q});Object.defineProperty(i,G,{enumerable:!0,configurable:!0,get:()=>ve.value,set:Pe=>ve.value=Pe})}if(a)for(const G in a)i7(a[G],i,t,G);if(l){const G=wt(l)?l.call(t):l;Reflect.ownKeys(G).forEach(j=>{Ga(j,G[j])})}u&&V5(u,n,"c");function U(G,j){Et(j)?j.forEach(Y=>G(Y.bind(t))):j&&G(j.bind(t))}if(U(ex,f),U(ks,h),U(X6,p),U(Y6,m),U(j6,g),U(W6,A),U($6,P),U(oH,M),U(sH,I),U(xp,x),U(nl,_),U(rH,w),Et(E))if(E.length){const G=n.exposed||(n.exposed={});E.forEach(j=>{Object.defineProperty(G,j,{get:()=>t[j],set:Y=>t[j]=Y})})}else n.exposed||(n.exposed={});T&&n.render===_o&&(n.render=T),O!=null&&(n.inheritAttrs=O),F&&(n.components=F),H&&(n.directives=H),w&&Jb(n)}function uH(n,e,t=_o){Et(n)&&(n=Qy(n));for(const i in n){const r=n[i];let s;zn(r)?"default"in r?s=es(r.from||i,r.default,!0):s=es(r.from||i):s=es(r),Vi(s)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[i]=s}}function V5(n,e,t){Eo(Et(n)?n.map(i=>i.bind(e.proxy)):n.bind(e.proxy),e,t)}function i7(n,e,t,i){let r=i.includes(".")?_7(t,i):()=>t[i];if(Kn(n)){const s=e[n];wt(s)&&oi(r,s)}else if(wt(n))oi(r,n.bind(t));else if(zn(n))if(Et(n))n.forEach(s=>i7(s,e,t,i));else{const s=wt(n.handler)?n.handler.bind(t):e[n.handler];wt(s)&&oi(r,s,n)}}function r7(n){const e=n.type,{mixins:t,extends:i}=e,{mixins:r,optionsCache:s,config:{optionMergeStrategies:o}}=n.appContext,a=s.get(e);let l;return a?l=a:!r.length&&!t&&!i?l=e:(l={},r.length&&r.forEach(c=>og(l,c,o,!0)),og(l,e,o)),zn(e)&&s.set(e,l),l}function og(n,e,t,i=!1){const{mixins:r,extends:s}=e;s&&og(n,s,t,!0),r&&r.forEach(o=>og(n,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const a=fH[o]||t&&t[o];n[o]=a?a(n[o],e[o]):e[o]}return n}const fH={data:G5,props:Q5,emits:Q5,methods:zh,computed:zh,beforeCreate:zr,created:zr,beforeMount:zr,mounted:zr,beforeUpdate:zr,updated:zr,beforeDestroy:zr,beforeUnmount:zr,destroyed:zr,unmounted:zr,activated:zr,deactivated:zr,errorCaptured:zr,serverPrefetch:zr,components:zh,directives:zh,watch:hH,provide:G5,inject:dH};function G5(n,e){return e?n?function(){return Ji(wt(n)?n.call(this,this):n,wt(e)?e.call(this,this):e)}:e:n}function dH(n,e){return zh(Qy(n),Qy(e))}function Qy(n){if(Et(n)){const e={};for(let t=0;t<n.length;t++)e[n[t]]=n[t];return e}return n}function zr(n,e){return n?[...new Set([].concat(n,e))]:e}function zh(n,e){return n?Ji(Object.create(null),n,e):e}function Q5(n,e){return n?Et(n)&&Et(e)?[...new Set([...n,...e])]:Ji(Object.create(null),H5(n),H5(e??{})):e}function hH(n,e){if(!n)return e;if(!e)return n;const t=Ji(Object.create(null),n);for(const i in e)t[i]=zr(n[i],e[i]);return t}function s7(){return{app:null,config:{isNativeTag:ez,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let pH=0;function mH(n,e){return function(i,r=null){wt(i)||(i=Ji({},i)),r!=null&&!zn(r)&&(r=null);const s=s7(),o=new WeakSet,a=[];let l=!1;const c=s.app={_uid:pH++,_component:i,_props:r,_container:null,_context:s,_instance:null,version:R7,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&wt(u.install)?(o.add(u),u.install(c,...f)):wt(u)&&(o.add(u),u(c,...f))),c},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),c},component(u,f){return f?(s.components[u]=f,c):s.components[u]},directive(u,f){return f?(s.directives[u]=f,c):s.directives[u]},mount(u,f,h){if(!l){const p=c._ceVNode||dn(i,r);return p.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),f&&e?e(p,u):n(p,u,h),l=!0,c._container=u,u.__vue_app__=c,lA(p.component)}},onUnmount(u){a.push(u)},unmount(){l&&(Eo(a,c._instance,16),n(null,c._container),delete c._container.__vue_app__)},provide(u,f){return s.provides[u]=f,c},runWithContext(u){const f=du;du=c;try{return u()}finally{du=f}}};return c}}let du=null;function Ga(n,e){if(zi){let t=zi.provides;const i=zi.parent&&zi.parent.provides;i===t&&(t=zi.provides=Object.create(i)),t[n]=e}}function es(n,e,t=!1){const i=zi||Hi;if(i||du){const r=du?du._context.provides:i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(r&&n in r)return r[n];if(arguments.length>1)return t&&wt(e)?e.call(i&&i.proxy):e}}function o7(){return!!(zi||Hi||du)}const a7={},l7=()=>Object.create(a7),c7=n=>Object.getPrototypeOf(n)===a7;function gH(n,e,t,i=!1){const r={},s=l7();n.propsDefaults=Object.create(null),u7(n,e,r,s);for(const o in n.propsOptions[0])o in r||(r[o]=void 0);t?n.props=i?r:Ua(r):n.type.props?n.props=r:n.props=s,n.attrs=s}function AH(n,e,t,i){const{props:r,attrs:s,vnode:{patchFlag:o}}=n,a=an(r),[l]=n.propsOptions;let c=!1;if((i||o>0)&&!(o&16)){if(o&8){const u=n.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(oA(n.emitsOptions,h))continue;const p=e[h];if(l)if(mn(s,h))p!==s[h]&&(s[h]=p,c=!0);else{const m=io(h);r[m]=jy(l,a,m,p,n,!1)}else p!==s[h]&&(s[h]=p,c=!0)}}}else{u7(n,e,r,s)&&(c=!0);let u;for(const f in a)(!e||!mn(e,f)&&((u=Ru(f))===f||!mn(e,u)))&&(l?t&&(t[f]!==void 0||t[u]!==void 0)&&(r[f]=jy(l,a,f,void 0,n,!0)):delete r[f]);if(s!==a)for(const f in s)(!e||!mn(e,f))&&(delete s[f],c=!0)}c&&Ba(n.attrs,"set","")}function u7(n,e,t,i){const[r,s]=n.propsOptions;let o=!1,a;if(e)for(let l in e){if(Gf(l))continue;const c=e[l];let u;r&&mn(r,u=io(l))?!s||!s.includes(u)?t[u]=c:(a||(a={}))[u]=c:oA(n.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(s){const l=an(t),c=a||Pn;for(let u=0;u<s.length;u++){const f=s[u];t[f]=jy(r,l,f,c[f],n,!mn(c,f))}}return o}function jy(n,e,t,i,r,s){const o=n[t];if(o!=null){const a=mn(o,"default");if(a&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&wt(l)){const{propsDefaults:c}=r;if(t in c)i=c[t];else{const u=Eu(r);i=c[t]=l.call(null,e),u()}}else i=l;r.ce&&r.ce._setProp(t,i)}o[0]&&(s&&!a?i=!1:o[1]&&(i===""||i===Ru(t))&&(i=!0))}return i}const vH=new WeakMap;function f7(n,e,t=!1){const i=t?vH:e.propsCache,r=i.get(n);if(r)return r;const s=n.props,o={},a=[];let l=!1;if(!wt(n)){const u=f=>{l=!0;const[h,p]=f7(f,e,!0);Ji(o,h),p&&a.push(...p)};!t&&e.mixins.length&&e.mixins.forEach(u),n.extends&&u(n.extends),n.mixins&&n.mixins.forEach(u)}if(!s&&!l)return zn(n)&&i.set(n,Hf),Hf;if(Et(s))for(let u=0;u<s.length;u++){const f=io(s[u]);j5(f)&&(o[f]=Pn)}else if(s)for(const u in s){const f=io(u);if(j5(f)){const h=s[u],p=o[f]=Et(h)||wt(h)?{type:h}:Ji({},h),m=p.type;let g=!1,A=!0;if(Et(m))for(let y=0;y<m.length;++y){const x=m[y],b=wt(x)&&x.name;if(b==="Boolean"){g=!0;break}else b==="String"&&(A=!1)}else g=wt(m)&&m.name==="Boolean";p[0]=g,p[1]=A,(g||mn(p,"default"))&&a.push(f)}}const c=[o,a];return zn(n)&&i.set(n,c),c}function j5(n){return n[0]!=="$"&&!Gf(n)}const d7=n=>n[0]==="_"||n==="$stable",nx=n=>Et(n)?n.map(Ds):[Ds(n)],yH=(n,e,t)=>{if(e._n)return e;const i=Na((...r)=>nx(e(...r)),t);return i._c=!1,i},h7=(n,e,t)=>{const i=n._ctx;for(const r in n){if(d7(r))continue;const s=n[r];if(wt(s))e[r]=yH(r,s,i);else if(s!=null){const o=nx(s);e[r]=()=>o}}},p7=(n,e)=>{const t=nx(e);n.slots.default=()=>t},m7=(n,e,t)=>{for(const i in e)(t||i!=="_")&&(n[i]=e[i])},_H=(n,e,t)=>{const i=n.slots=l7();if(n.vnode.shapeFlag&32){const r=e._;r?(m7(i,e,t),t&&d6(i,"_",r,!0)):h7(e,i)}else e&&p7(n,e)},bH=(n,e,t)=>{const{vnode:i,slots:r}=n;let s=!0,o=Pn;if(i.shapeFlag&32){const a=e._;a?t&&a===1?s=!1:m7(r,e,t):(s=!e.$stable,h7(e,r)),o=e}else e&&(p7(n,e),o={default:1});if(s)for(const a in r)!d7(a)&&o[a]==null&&delete r[a]},cr=S7;function xH(n){return g7(n)}function CH(n){return g7(n,Zz)}function g7(n,e){const t=eA();t.__VUE__=!0;const{insert:i,remove:r,patchProp:s,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:f,nextSibling:h,setScopeId:p=_o,insertStaticContent:m}=n,g=(W,R,le,_e=null,K=null,de=null,Be=void 0,xe=null,k=!!R.dynamicChildren)=>{if(W===R)return;W&&!vo(W,R)&&(_e=J(W),Pe(W,K,de,!0),W=null),R.patchFlag===-2&&(k=!1,R.dynamicChildren=null);const{type:B,ref:ne,shapeFlag:se}=R;switch(B){case hu:A(W,R,le,_e);break;case ki:y(W,R,le,_e);break;case Wf:W==null&&x(R,le,_e,Be);break;case Ii:F(W,R,le,_e,K,de,Be,xe,k);break;default:se&1?T(W,R,le,_e,K,de,Be,xe,k):se&6?H(W,R,le,_e,K,de,Be,xe,k):(se&64||se&128)&&B.process(W,R,le,_e,K,de,Be,xe,k,be)}ne!=null&&K&&B0(ne,W&&W.ref,de,R||W,!R)},A=(W,R,le,_e)=>{if(W==null)i(R.el=a(R.children),le,_e);else{const K=R.el=W.el;R.children!==W.children&&c(K,R.children)}},y=(W,R,le,_e)=>{W==null?i(R.el=l(R.children||""),le,_e):R.el=W.el},x=(W,R,le,_e)=>{[W.el,W.anchor]=m(W.children,R,le,_e,W.el,W.anchor)},b=({el:W,anchor:R},le,_e)=>{let K;for(;W&&W!==R;)K=h(W),i(W,le,_e),W=K;i(R,le,_e)},_=({el:W,anchor:R})=>{let le;for(;W&&W!==R;)le=h(W),r(W),W=le;r(R)},T=(W,R,le,_e,K,de,Be,xe,k)=>{R.type==="svg"?Be="svg":R.type==="math"&&(Be="mathml"),W==null?M(R,le,_e,K,de,Be,xe,k):w(W,R,K,de,Be,xe,k)},M=(W,R,le,_e,K,de,Be,xe)=>{let k,B;const{props:ne,shapeFlag:se,transition:ce,dirs:fe}=W;if(k=W.el=o(W.type,de,ne&&ne.is,ne),se&8?u(k,W.children):se&16&&P(W.children,k,null,_e,K,w2(W,de),Be,xe),fe&&Ho(W,null,_e,"created"),I(k,W,W.scopeId,Be,_e),ne){for(const Le in ne)Le!=="value"&&!Gf(Le)&&s(k,Le,null,ne[Le],de,_e);"value"in ne&&s(k,"value",null,ne.value,de),(B=ne.onVnodeBeforeMount)&&as(B,_e,W)}fe&&Ho(W,null,_e,"beforeMount");const Ie=A7(K,ce);Ie&&ce.beforeEnter(k),i(k,R,le),((B=ne&&ne.onVnodeMounted)||Ie||fe)&&cr(()=>{B&&as(B,_e,W),Ie&&ce.enter(k),fe&&Ho(W,null,_e,"mounted")},K)},I=(W,R,le,_e,K)=>{if(le&&p(W,le),_e)for(let de=0;de<_e.length;de++)p(W,_e[de]);if(K){let de=K.subTree;if(R===de||lg(de.type)&&(de.ssContent===R||de.ssFallback===R)){const Be=K.vnode;I(W,Be,Be.scopeId,Be.slotScopeIds,K.parent)}}},P=(W,R,le,_e,K,de,Be,xe,k=0)=>{for(let B=k;B<W.length;B++){const ne=W[B]=xe?Cl(W[B]):Ds(W[B]);g(null,ne,R,le,_e,K,de,Be,xe)}},w=(W,R,le,_e,K,de,Be)=>{const xe=R.el=W.el;let{patchFlag:k,dynamicChildren:B,dirs:ne}=R;k|=W.patchFlag&16;const se=W.props||Pn,ce=R.props||Pn;let fe;if(le&&Rc(le,!1),(fe=ce.onVnodeBeforeUpdate)&&as(fe,le,R,W),ne&&Ho(R,W,le,"beforeUpdate"),le&&Rc(le,!0),(se.innerHTML&&ce.innerHTML==null||se.textContent&&ce.textContent==null)&&u(xe,""),B?E(W.dynamicChildren,B,xe,le,_e,w2(R,K),de):Be||j(W,R,xe,null,le,_e,w2(R,K),de,!1),k>0){if(k&16)O(xe,se,ce,le,K);else if(k&2&&se.class!==ce.class&&s(xe,"class",null,ce.class,K),k&4&&s(xe,"style",se.style,ce.style,K),k&8){const Ie=R.dynamicProps;for(let Le=0;Le<Ie.length;Le++){const Fe=Ie[Le],dt=se[Fe],Re=ce[Fe];(Re!==dt||Fe==="value")&&s(xe,Fe,dt,Re,K,le)}}k&1&&W.children!==R.children&&u(xe,R.children)}else!Be&&B==null&&O(xe,se,ce,le,K);((fe=ce.onVnodeUpdated)||ne)&&cr(()=>{fe&&as(fe,le,R,W),ne&&Ho(R,W,le,"updated")},_e)},E=(W,R,le,_e,K,de,Be)=>{for(let xe=0;xe<R.length;xe++){const k=W[xe],B=R[xe],ne=k.el&&(k.type===Ii||!vo(k,B)||k.shapeFlag&70)?f(k.el):le;g(k,B,ne,null,_e,K,de,Be,!0)}},O=(W,R,le,_e,K)=>{if(R!==le){if(R!==Pn)for(const de in R)!Gf(de)&&!(de in le)&&s(W,de,R[de],null,K,_e);for(const de in le){if(Gf(de))continue;const Be=le[de],xe=R[de];Be!==xe&&de!=="value"&&s(W,de,xe,Be,K,_e)}"value"in le&&s(W,"value",R.value,le.value,K)}},F=(W,R,le,_e,K,de,Be,xe,k)=>{const B=R.el=W?W.el:a(""),ne=R.anchor=W?W.anchor:a("");let{patchFlag:se,dynamicChildren:ce,slotScopeIds:fe}=R;fe&&(xe=xe?xe.concat(fe):fe),W==null?(i(B,le,_e),i(ne,le,_e),P(R.children||[],le,ne,K,de,Be,xe,k)):se>0&&se&64&&ce&&W.dynamicChildren?(E(W.dynamicChildren,ce,le,K,de,Be,xe),(R.key!=null||K&&R===K.subTree)&&v7(W,R,!0)):j(W,R,le,ne,K,de,Be,xe,k)},H=(W,R,le,_e,K,de,Be,xe,k)=>{R.slotScopeIds=xe,W==null?R.shapeFlag&512?K.ctx.activate(R,le,_e,Be,k):z(R,le,_e,K,de,Be,k):X(W,R,k)},z=(W,R,le,_e,K,de,Be)=>{const xe=W.component=jH(W,_e,K);if(bp(W)&&(xe.ctx.renderer=be),WH(xe,!1,Be),xe.asyncDep){if(K&&K.registerDep(xe,U,Be),!W.el){const k=xe.subTree=dn(ki);y(null,k,R,le)}}else U(xe,W,R,le,K,de,Be)},X=(W,R,le)=>{const _e=R.component=W.component;if(BH(W,R,le))if(_e.asyncDep&&!_e.asyncResolved){G(_e,R,le);return}else _e.next=R,_e.update();else R.el=W.el,_e.vnode=R},U=(W,R,le,_e,K,de,Be)=>{const xe=()=>{if(W.isMounted){let{next:se,bu:ce,u:fe,parent:Ie,vnode:Le}=W;{const Xe=y7(W);if(Xe){se&&(se.el=Le.el,G(W,se,Be)),Xe.asyncDep.then(()=>{W.isUnmounted||xe()});return}}let Fe=se,dt;Rc(W,!1),se?(se.el=Le.el,G(W,se,Be)):se=Le,ce&&e0(ce),(dt=se.props&&se.props.onVnodeBeforeUpdate)&&as(dt,Ie,se,Le),Rc(W,!0);const Re=E2(W),ze=W.subTree;W.subTree=Re,g(ze,Re,f(ze.el),J(ze),W,K,de),se.el=Re.el,Fe===null&&aA(W,Re.el),fe&&cr(fe,K),(dt=se.props&&se.props.onVnodeUpdated)&&cr(()=>as(dt,Ie,se,Le),K)}else{let se;const{el:ce,props:fe}=R,{bm:Ie,m:Le,parent:Fe,root:dt,type:Re}=W,ze=Ql(R);if(Rc(W,!1),Ie&&e0(Ie),!ze&&(se=fe&&fe.onVnodeBeforeMount)&&as(se,Fe,R),Rc(W,!0),ce&&rt){const Xe=()=>{W.subTree=E2(W),rt(ce,W.subTree,W,K,null)};ze&&Re.__asyncHydrate?Re.__asyncHydrate(ce,W,Xe):Xe()}else{dt.ce&&dt.ce._injectChildStyle(Re);const Xe=W.subTree=E2(W);g(null,Xe,le,_e,W,K,de),R.el=Xe.el}if(Le&&cr(Le,K),!ze&&(se=fe&&fe.onVnodeMounted)){const Xe=R;cr(()=>as(se,Fe,Xe),K)}(R.shapeFlag&256||Fe&&Ql(Fe.vnode)&&Fe.vnode.shapeFlag&256)&&W.a&&cr(W.a,K),W.isMounted=!0,R=le=_e=null}};W.scope.on();const k=W.effect=new v6(xe);W.scope.off();const B=W.update=k.run.bind(k),ne=W.job=k.runIfDirty.bind(k);ne.i=W,ne.id=W.uid,k.scheduler=()=>Zb(ne),Rc(W,!0),B()},G=(W,R,le)=>{R.component=W;const _e=W.vnode.props;W.vnode=R,W.next=null,AH(W,R.props,_e,le),bH(W,R.children,le),ic(),B5(W),rc()},j=(W,R,le,_e,K,de,Be,xe,k=!1)=>{const B=W&&W.children,ne=W?W.shapeFlag:0,se=R.children,{patchFlag:ce,shapeFlag:fe}=R;if(ce>0){if(ce&128){Q(B,se,le,_e,K,de,Be,xe,k);return}else if(ce&256){Y(B,se,le,_e,K,de,Be,xe,k);return}}fe&8?(ne&16&&Oe(B,K,de),se!==B&&u(le,se)):ne&16?fe&16?Q(B,se,le,_e,K,de,Be,xe,k):Oe(B,K,de,!0):(ne&8&&u(le,""),fe&16&&P(se,le,_e,K,de,Be,xe,k))},Y=(W,R,le,_e,K,de,Be,xe,k)=>{W=W||Hf,R=R||Hf;const B=W.length,ne=R.length,se=Math.min(B,ne);let ce;for(ce=0;ce<se;ce++){const fe=R[ce]=k?Cl(R[ce]):Ds(R[ce]);g(W[ce],fe,le,null,K,de,Be,xe,k)}B>ne?Oe(W,K,de,!0,!1,se):P(R,le,_e,K,de,Be,xe,k,se)},Q=(W,R,le,_e,K,de,Be,xe,k)=>{let B=0;const ne=R.length;let se=W.length-1,ce=ne-1;for(;B<=se&&B<=ce;){const fe=W[B],Ie=R[B]=k?Cl(R[B]):Ds(R[B]);if(vo(fe,Ie))g(fe,Ie,le,null,K,de,Be,xe,k);else break;B++}for(;B<=se&&B<=ce;){const fe=W[se],Ie=R[ce]=k?Cl(R[ce]):Ds(R[ce]);if(vo(fe,Ie))g(fe,Ie,le,null,K,de,Be,xe,k);else break;se--,ce--}if(B>se){if(B<=ce){const fe=ce+1,Ie=fe<ne?R[fe].el:_e;for(;B<=ce;)g(null,R[B]=k?Cl(R[B]):Ds(R[B]),le,Ie,K,de,Be,xe,k),B++}}else if(B>ce)for(;B<=se;)Pe(W[B],K,de,!0),B++;else{const fe=B,Ie=B,Le=new Map;for(B=Ie;B<=ce;B++){const mt=R[B]=k?Cl(R[B]):Ds(R[B]);mt.key!=null&&Le.set(mt.key,B)}let Fe,dt=0;const Re=ce-Ie+1;let ze=!1,Xe=0;const st=new Array(Re);for(B=0;B<Re;B++)st[B]=0;for(B=fe;B<=se;B++){const mt=W[B];if(dt>=Re){Pe(mt,K,de,!0);continue}let lt;if(mt.key!=null)lt=Le.get(mt.key);else for(Fe=Ie;Fe<=ce;Fe++)if(st[Fe-Ie]===0&&vo(mt,R[Fe])){lt=Fe;break}lt===void 0?Pe(mt,K,de,!0):(st[lt-Ie]=B+1,lt>=Xe?Xe=lt:ze=!0,g(mt,R[lt],le,null,K,de,Be,xe,k),dt++)}const et=ze?SH(st):Hf;for(Fe=et.length-1,B=Re-1;B>=0;B--){const mt=Ie+B,lt=R[mt],Pt=mt+1<ne?R[mt+1].el:_e;st[B]===0?g(null,lt,le,Pt,K,de,Be,xe,k):ze&&(Fe<0||B!==et[Fe]?ve(lt,le,Pt,2):Fe--)}}},ve=(W,R,le,_e,K=null)=>{const{el:de,type:Be,transition:xe,children:k,shapeFlag:B}=W;if(B&6){ve(W.component.subTree,R,le,_e);return}if(B&128){W.suspense.move(R,le,_e);return}if(B&64){Be.move(W,R,le,be);return}if(Be===Ii){i(de,R,le);for(let se=0;se<k.length;se++)ve(k[se],R,le,_e);i(W.anchor,R,le);return}if(Be===Wf){b(W,R,le);return}if(_e!==2&&B&1&&xe)if(_e===0)xe.beforeEnter(de),i(de,R,le),cr(()=>xe.enter(de),K);else{const{leave:se,delayLeave:ce,afterLeave:fe}=xe,Ie=()=>i(de,R,le),Le=()=>{se(de,()=>{Ie(),fe&&fe()})};ce?ce(de,Ie,Le):Le()}else i(de,R,le)},Pe=(W,R,le,_e=!1,K=!1)=>{const{type:de,props:Be,ref:xe,children:k,dynamicChildren:B,shapeFlag:ne,patchFlag:se,dirs:ce,cacheIndex:fe}=W;if(se===-2&&(K=!1),xe!=null&&B0(xe,null,le,W,!0),fe!=null&&(R.renderCache[fe]=void 0),ne&256){R.ctx.deactivate(W);return}const Ie=ne&1&&ce,Le=!Ql(W);let Fe;if(Le&&(Fe=Be&&Be.onVnodeBeforeUnmount)&&as(Fe,R,W),ne&6)he(W.component,le,_e);else{if(ne&128){W.suspense.unmount(le,_e);return}Ie&&Ho(W,null,R,"beforeUnmount"),ne&64?W.type.remove(W,R,le,be,_e):B&&!B.hasOnce&&(de!==Ii||se>0&&se&64)?Oe(B,R,le,!1,!0):(de===Ii&&se&384||!K&&ne&16)&&Oe(k,R,le),_e&&He(W)}(Le&&(Fe=Be&&Be.onVnodeUnmounted)||Ie)&&cr(()=>{Fe&&as(Fe,R,W),Ie&&Ho(W,null,R,"unmounted")},le)},He=W=>{const{type:R,el:le,anchor:_e,transition:K}=W;if(R===Ii){re(le,_e);return}if(R===Wf){_(W);return}const de=()=>{r(le),K&&!K.persisted&&K.afterLeave&&K.afterLeave()};if(W.shapeFlag&1&&K&&!K.persisted){const{leave:Be,delayLeave:xe}=K,k=()=>Be(le,de);xe?xe(W.el,de,k):k()}else de()},re=(W,R)=>{let le;for(;W!==R;)le=h(W),r(W),W=le;r(R)},he=(W,R,le)=>{const{bum:_e,scope:K,job:de,subTree:Be,um:xe,m:k,a:B}=W;ag(k),ag(B),_e&&e0(_e),K.stop(),de&&(de.flags|=8,Pe(Be,W,R,le)),xe&&cr(xe,R),cr(()=>{W.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&W.asyncDep&&!W.asyncResolved&&W.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},Oe=(W,R,le,_e=!1,K=!1,de=0)=>{for(let Be=de;Be<W.length;Be++)Pe(W[Be],R,le,_e,K)},J=W=>{if(W.shapeFlag&6)return J(W.component.subTree);if(W.shapeFlag&128)return W.suspense.next();const R=h(W.anchor||W.el),le=R&&R[jz];return le?h(le):R};let ye=!1;const Se=(W,R,le)=>{W==null?R._vnode&&Pe(R._vnode,null,null,!0):g(R._vnode||null,W,R,null,null,null,le),R._vnode=W,ye||(ye=!0,B5(),rg(),ye=!1)},be={p:g,um:Pe,m:ve,r:He,mt:z,mc:P,pc:j,pbc:E,n:J,o:n};let qe,rt;return e&&([qe,rt]=e(be)),{render:Se,hydrate:qe,createApp:mH(Se,qe)}}function w2({type:n,props:e},t){return t==="svg"&&n==="foreignObject"||t==="mathml"&&n==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function Rc({effect:n,job:e},t){t?(n.flags|=32,e.flags|=4):(n.flags&=-33,e.flags&=-5)}function A7(n,e){return(!n||n&&!n.pendingBranch)&&e&&!e.persisted}function v7(n,e,t=!1){const i=n.children,r=e.children;if(Et(i)&&Et(r))for(let s=0;s<i.length;s++){const o=i[s];let a=r[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[s]=Cl(r[s]),a.el=o.el),!t&&a.patchFlag!==-2&&v7(o,a)),a.type===hu&&(a.el=o.el)}}function SH(n){const e=n.slice(),t=[0];let i,r,s,o,a;const l=n.length;for(i=0;i<l;i++){const c=n[i];if(c!==0){if(r=t[t.length-1],n[r]<c){e[i]=r,t.push(i);continue}for(s=0,o=t.length-1;s<o;)a=s+o>>1,n[t[a]]<c?s=a+1:o=a;c<n[t[s]]&&(s>0&&(e[i]=t[s-1]),t[s]=i)}}for(s=t.length,o=t[s-1];s-- >0;)t[s]=o,o=e[o];return t}function y7(n){const e=n.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:y7(e)}function ag(n){if(n)for(let e=0;e<n.length;e++)n[e].flags|=8}const wH=Symbol.for("v-scx"),EH=()=>es(wH);function sA(n,e){return ix(n,null,e)}function oi(n,e,t){return ix(n,e,t)}function ix(n,e,t=Pn){const{immediate:i,deep:r,flush:s,once:o}=t,a=Ji({},t),l=e&&i||!e&&s!=="post";let c;if(hd){if(s==="sync"){const p=EH();c=p.__watcherHandles||(p.__watcherHandles=[])}else if(!l){const p=()=>{};return p.stop=_o,p.resume=_o,p.pause=_o,p}}const u=zi;a.call=(p,m,g)=>Eo(p,u,m,g);let f=!1;s==="post"?a.scheduler=p=>{cr(p,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(p,m)=>{m?p():Zb(p)}),a.augmentJob=p=>{e&&(p.flags|=4),f&&(p.flags|=2,u&&(p.id=u.uid,p.i=u))};const h=Hz(n,e,a);return hd&&(c?c.push(h):l&&h()),h}function TH(n,e,t){const i=this.proxy,r=Kn(n)?n.includes(".")?_7(i,n):()=>i[n]:n.bind(i,i);let s;wt(e)?s=e:(s=e.handler,t=e);const o=Eu(this),a=ix(r,s.bind(i),t);return o(),a}function _7(n,e){const t=e.split(".");return()=>{let i=n;for(let r=0;r<t.length&&i;r++)i=i[t[r]];return i}}const MH=(n,e)=>e==="modelValue"||e==="model-value"?n.modelModifiers:n[`${e}Modifiers`]||n[`${io(e)}Modifiers`]||n[`${Ru(e)}Modifiers`];function IH(n,e,...t){if(n.isUnmounted)return;const i=n.vnode.props||Pn;let r=t;const s=e.startsWith("update:"),o=s&&MH(i,e.slice(7));o&&(o.trim&&(r=t.map(u=>Kn(u)?u.trim():u)),o.number&&(r=t.map(oz)));let a,l=i[a=g2(e)]||i[a=g2(io(e))];!l&&s&&(l=i[a=g2(Ru(e))]),l&&Eo(l,n,6,r);const c=i[a+"Once"];if(c){if(!n.emitted)n.emitted={};else if(n.emitted[a])return;n.emitted[a]=!0,Eo(c,n,6,r)}}function b7(n,e,t=!1){const i=e.emitsCache,r=i.get(n);if(r!==void 0)return r;const s=n.emits;let o={},a=!1;if(!wt(n)){const l=c=>{const u=b7(c,e,!0);u&&(a=!0,Ji(o,u))};!t&&e.mixins.length&&e.mixins.forEach(l),n.extends&&l(n.extends),n.mixins&&n.mixins.forEach(l)}return!s&&!a?(zn(n)&&i.set(n,null),null):(Et(s)?s.forEach(l=>o[l]=null):Ji(o,s),zn(n)&&i.set(n,o),o)}function oA(n,e){return!n||!Ap(e)?!1:(e=e.slice(2).replace(/Once$/,""),mn(n,e[0].toLowerCase()+e.slice(1))||mn(n,Ru(e))||mn(n,e))}function E2(n){const{type:e,vnode:t,proxy:i,withProxy:r,propsOptions:[s],slots:o,attrs:a,emit:l,render:c,renderCache:u,props:f,data:h,setupState:p,ctx:m,inheritAttrs:g}=n,A=sg(n);let y,x;try{if(t.shapeFlag&4){const _=r||i,T=_;y=Ds(c.call(T,_,u,f,p,h,m)),x=a}else{const _=e;y=Ds(_.length>1?_(f,{attrs:a,slots:o,emit:l}):_(f,null)),x=e.props?a:PH(a)}}catch(_){r0.length=0,Nd(_,n,1),y=dn(ki)}let b=y;if(x&&g!==!1){const _=Object.keys(x),{shapeFlag:T}=b;_.length&&T&7&&(s&&_.some(zb)&&(x=RH(x,s)),b=qa(b,x,!1,!0))}return t.dirs&&(b=qa(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(t.dirs):t.dirs),t.transition&&fd(b,t.transition),y=b,sg(A),y}function DH(n,e=!0){let t;for(let i=0;i<n.length;i++){const r=n[i];if(wu(r)){if(r.type!==ki||r.children==="v-if"){if(t)return;t=r}}else return}return t}const PH=n=>{let e;for(const t in n)(t==="class"||t==="style"||Ap(t))&&((e||(e={}))[t]=n[t]);return e},RH=(n,e)=>{const t={};for(const i in n)(!zb(i)||!(i.slice(9)in e))&&(t[i]=n[i]);return t};function BH(n,e,t){const{props:i,children:r,component:s}=n,{props:o,children:a,patchFlag:l}=e,c=s.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&l>=0){if(l&1024)return!0;if(l&16)return i?W5(i,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==i[h]&&!oA(c,h))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:i===o?!1:i?o?W5(i,o,c):!0:!!o;return!1}function W5(n,e,t){const i=Object.keys(e);if(i.length!==Object.keys(n).length)return!0;for(let r=0;r<i.length;r++){const s=i[r];if(e[s]!==n[s]&&!oA(t,s))return!0}return!1}function aA({vnode:n,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i===n)(n=e.vnode).el=t,e=e.parent;else break}}const lg=n=>n.__isSuspense;let Wy=0;const LH={name:"Suspense",__isSuspense:!0,process(n,e,t,i,r,s,o,a,l,c){if(n==null)FH(e,t,i,r,s,o,a,l,c);else{if(s&&s.deps>0&&!n.suspense.isInFallback){e.suspense=n.suspense,e.suspense.vnode=e,e.el=n.el;return}OH(n,e,t,i,r,o,a,l,c)}},hydrate:UH,normalize:NH},x7=LH;function L0(n,e){const t=n.props&&n.props[e];wt(t)&&t()}function FH(n,e,t,i,r,s,o,a,l){const{p:c,o:{createElement:u}}=l,f=u("div"),h=n.suspense=C7(n,r,i,e,f,t,s,o,a,l);c(null,h.pendingBranch=n.ssContent,f,null,i,h,s,o),h.deps>0?(L0(n,"onPending"),L0(n,"onFallback"),c(null,n.ssFallback,e,t,i,null,s,o),jf(h,n.ssFallback)):h.resolve(!1,!0)}function OH(n,e,t,i,r,s,o,a,{p:l,um:c,o:{createElement:u}}){const f=e.suspense=n.suspense;f.vnode=e,e.el=n.el;const h=e.ssContent,p=e.ssFallback,{activeBranch:m,pendingBranch:g,isInFallback:A,isHydrating:y}=f;if(g)f.pendingBranch=h,vo(h,g)?(l(g,h,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0?f.resolve():A&&(y||(l(m,p,t,i,r,null,s,o,a),jf(f,p)))):(f.pendingId=Wy++,y?(f.isHydrating=!1,f.activeBranch=g):c(g,r,f),f.deps=0,f.effects.length=0,f.hiddenContainer=u("div"),A?(l(null,h,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0?f.resolve():(l(m,p,t,i,r,null,s,o,a),jf(f,p))):m&&vo(h,m)?(l(m,h,t,i,r,f,s,o,a),f.resolve(!0)):(l(null,h,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0&&f.resolve()));else if(m&&vo(h,m))l(m,h,t,i,r,f,s,o,a),jf(f,h);else if(L0(e,"onPending"),f.pendingBranch=h,h.shapeFlag&512?f.pendingId=h.component.suspenseId:f.pendingId=Wy++,l(null,h,f.hiddenContainer,null,r,f,s,o,a),f.deps<=0)f.resolve();else{const{timeout:x,pendingId:b}=f;x>0?setTimeout(()=>{f.pendingId===b&&f.fallback(p)},x):x===0&&f.fallback(p)}}function C7(n,e,t,i,r,s,o,a,l,c,u=!1){const{p:f,m:h,um:p,n:m,o:{parentNode:g,remove:A}}=c;let y;const x=kH(n);x&&e&&e.pendingBranch&&(y=e.pendingId,e.deps++);const b=n.props?h6(n.props.timeout):void 0,_=s,T={vnode:n,parent:e,parentComponent:t,namespace:o,container:i,hiddenContainer:r,deps:0,pendingId:Wy++,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!u,isHydrating:u,isUnmounted:!1,effects:[],resolve(M=!1,I=!1){const{vnode:P,activeBranch:w,pendingBranch:E,pendingId:O,effects:F,parentComponent:H,container:z}=T;let X=!1;T.isHydrating?T.isHydrating=!1:M||(X=w&&E.transition&&E.transition.mode==="out-in",X&&(w.transition.afterLeave=()=>{O===T.pendingId&&(h(E,z,s===_?m(w):s,0),ig(F))}),w&&(g(w.el)===z&&(s=m(w)),p(w,H,T,!0)),X||h(E,z,s,0)),jf(T,E),T.pendingBranch=null,T.isInFallback=!1;let U=T.parent,G=!1;for(;U;){if(U.pendingBranch){U.effects.push(...F),G=!0;break}U=U.parent}!G&&!X&&ig(F),T.effects=[],x&&e&&e.pendingBranch&&y===e.pendingId&&(e.deps--,e.deps===0&&!I&&e.resolve()),L0(P,"onResolve")},fallback(M){if(!T.pendingBranch)return;const{vnode:I,activeBranch:P,parentComponent:w,container:E,namespace:O}=T;L0(I,"onFallback");const F=m(P),H=()=>{T.isInFallback&&(f(null,M,E,F,w,null,O,a,l),jf(T,M))},z=M.transition&&M.transition.mode==="out-in";z&&(P.transition.afterLeave=H),T.isInFallback=!0,p(P,w,null,!0),z||H()},move(M,I,P){T.activeBranch&&h(T.activeBranch,M,I,P),T.container=M},next(){return T.activeBranch&&m(T.activeBranch)},registerDep(M,I,P){const w=!!T.pendingBranch;w&&T.deps++;const E=M.vnode.el;M.asyncDep.catch(O=>{Nd(O,M,0)}).then(O=>{if(M.isUnmounted||T.isUnmounted||T.pendingId!==M.suspenseId)return;M.asyncResolved=!0;const{vnode:F}=M;Yy(M,O),E&&(F.el=E);const H=!E&&M.subTree.el;I(M,F,g(E||M.subTree.el),E?null:m(M.subTree),T,o,P),H&&A(H),aA(M,F.el),w&&--T.deps===0&&T.resolve()})},unmount(M,I){T.isUnmounted=!0,T.activeBranch&&p(T.activeBranch,t,M,I),T.pendingBranch&&p(T.pendingBranch,t,M,I)}};return T}function UH(n,e,t,i,r,s,o,a,l){const c=e.suspense=C7(e,i,t,n.parentNode,document.createElement("div"),null,r,s,o,a,!0),u=l(n,c.pendingBranch=e.ssContent,t,c,s,o);return c.deps===0&&c.resolve(!1,!0),u}function NH(n){const{shapeFlag:e,children:t}=n,i=e&32;n.ssContent=q5(i?t.default:t),n.ssFallback=i?q5(t.fallback):dn(ki)}function q5(n){let e;if(wt(n)){const t=dd&&n._c;t&&(n._d=!1,fi()),n=n(),t&&(n._d=!0,e=fs,w7())}return Et(n)&&(n=DH(n)),n=Ds(n),e&&!n.dynamicChildren&&(n.dynamicChildren=e.filter(t=>t!==n)),n}function S7(n,e){e&&e.pendingBranch?Et(n)?e.effects.push(...n):e.effects.push(n):ig(n)}function jf(n,e){n.activeBranch=e;const{vnode:t,parentComponent:i}=n;let r=e.el;for(;!r&&e.component;)e=e.component.subTree,r=e.el;t.el=r,i&&i.subTree===t&&(i.vnode.el=r,aA(i,r))}function kH(n){const e=n.props&&n.props.suspensible;return e!=null&&e!==!1}const Ii=Symbol.for("v-fgt"),hu=Symbol.for("v-txt"),ki=Symbol.for("v-cmt"),Wf=Symbol.for("v-stc"),r0=[];let fs=null;function fi(n=!1){r0.push(fs=n?null:[])}function w7(){r0.pop(),fs=r0[r0.length-1]||null}let dd=1;function X5(n,e=!1){dd+=n,n<0&&fs&&e&&(fs.hasOnce=!0)}function E7(n){return n.dynamicChildren=dd>0?fs||Hf:null,w7(),dd>0&&fs&&fs.push(n),n}function ka(n,e,t,i,r,s){return E7(ei(n,e,t,i,r,s,!0))}function $s(n,e,t,i,r){return E7(dn(n,e,t,i,r,!0))}function wu(n){return n?n.__v_isVNode===!0:!1}function vo(n,e){return n.type===e.type&&n.key===e.key}const T7=({key:n})=>n??null,Bm=({ref:n,ref_key:e,ref_for:t})=>(typeof n=="number"&&(n=""+n),n!=null?Kn(n)||Vi(n)||wt(n)?{i:Hi,r:n,k:e,f:!!t}:n:null);function ei(n,e=null,t=null,i=0,r=null,s=n===Ii?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:n,props:e,key:e&&T7(e),ref:e&&Bm(e),scopeId:N6,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Hi};return a?(sx(l,t),s&128&&n.normalize(l)):t&&(l.shapeFlag|=Kn(t)?8:16),dd>0&&!o&&fs&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&fs.push(l),l}const dn=zH;function zH(n,e=null,t=null,i=0,r=null,s=!1){if((!n||n===Z6)&&(n=ki),wu(n)){const a=qa(n,e,!0);return t&&sx(a,t),dd>0&&!s&&fs&&(a.shapeFlag&6?fs[fs.indexOf(n)]=a:fs.push(a)),a.patchFlag=-2,a}if(YH(n)&&(n=n.__vccOpts),e){e=M7(e);let{class:a,style:l}=e;a&&!Kn(a)&&(e.class=yp(a)),zn(l)&&($b(l)&&!Et(l)&&(l=Ji({},l)),e.style=tA(l))}const o=Kn(n)?1:lg(n)?128:k6(n)?64:zn(n)?4:wt(n)?2:0;return ei(n,e,t,i,r,o,s,!0)}function M7(n){return n?$b(n)||c7(n)?Ji({},n):n:null}function qa(n,e,t=!1,i=!1){const{props:r,ref:s,patchFlag:o,children:a,transition:l}=n,c=e?VH(r||{},e):r,u={__v_isVNode:!0,__v_skip:!0,type:n.type,props:c,key:c&&T7(c),ref:e&&e.ref?t&&s?Et(s)?s.concat(Bm(e)):[s,Bm(e)]:Bm(e):s,scopeId:n.scopeId,slotScopeIds:n.slotScopeIds,children:a,target:n.target,targetStart:n.targetStart,targetAnchor:n.targetAnchor,staticCount:n.staticCount,shapeFlag:n.shapeFlag,patchFlag:e&&n.type!==Ii?o===-1?16:o|16:o,dynamicProps:n.dynamicProps,dynamicChildren:n.dynamicChildren,appContext:n.appContext,dirs:n.dirs,transition:l,component:n.component,suspense:n.suspense,ssContent:n.ssContent&&qa(n.ssContent),ssFallback:n.ssFallback&&qa(n.ssFallback),el:n.el,anchor:n.anchor,ctx:n.ctx,ce:n.ce};return l&&i&&fd(u,l.clone(u)),u}function rx(n=" ",e=0){return dn(hu,null,n,e)}function HH(n,e){const t=dn(Wf,null,n);return t.staticCount=e,t}function sfe(n="",e=!1){return e?(fi(),$s(ki,null,n)):dn(ki,null,n)}function Ds(n){return n==null||typeof n=="boolean"?dn(ki):Et(n)?dn(Ii,null,n.slice()):wu(n)?Cl(n):dn(hu,null,String(n))}function Cl(n){return n.el===null&&n.patchFlag!==-1||n.memo?n:qa(n)}function sx(n,e){let t=0;const{shapeFlag:i}=n;if(e==null)e=null;else if(Et(e))t=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),sx(n,r()),r._c&&(r._d=!0));return}else{t=32;const r=e._;!r&&!c7(e)?e._ctx=Hi:r===3&&Hi&&(Hi.slots._===1?e._=1:(e._=2,n.patchFlag|=1024))}else wt(e)?(e={default:e,_ctx:Hi},t=32):(e=String(e),i&64?(t=16,e=[rx(e)]):t=8);n.children=e,n.shapeFlag|=t}function VH(...n){const e={};for(let t=0;t<n.length;t++){const i=n[t];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=yp([e.class,i.class]));else if(r==="style")e.style=tA([e.style,i.style]);else if(Ap(r)){const s=e[r],o=i[r];o&&s!==o&&!(Et(s)&&s.includes(o))&&(e[r]=s?[].concat(s,o):o)}else r!==""&&(e[r]=i[r])}return e}function as(n,e,t,i=null){Eo(n,e,7,[t,i])}const GH=s7();let QH=0;function jH(n,e,t){const i=n.type,r=(e?e.appContext:n.appContext)||GH,s={uid:QH++,vnode:n,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new A6(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:f7(i,r),emitsOptions:b7(i,r),emit:null,emitted:null,propsDefaults:Pn,inheritAttrs:i.inheritAttrs,ctx:Pn,data:Pn,props:Pn,attrs:Pn,slots:Pn,refs:Pn,setupState:Pn,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=IH.bind(null,s),n.ce&&n.ce(s),s}let zi=null;const Ro=()=>zi||Hi;let cg,qy;{const n=eA(),e=(t,i)=>{let r;return(r=n[t])||(r=n[t]=[]),r.push(i),s=>{r.length>1?r.forEach(o=>o(s)):r[0](s)}};cg=e("__VUE_INSTANCE_SETTERS__",t=>zi=t),qy=e("__VUE_SSR_SETTERS__",t=>hd=t)}const Eu=n=>{const e=zi;return cg(n),n.scope.on(),()=>{n.scope.off(),cg(e)}},Xy=()=>{zi&&zi.scope.off(),cg(null)};function I7(n){return n.vnode.shapeFlag&4}let hd=!1;function WH(n,e=!1,t=!1){e&&qy(e);const{props:i,children:r}=n.vnode,s=I7(n);gH(n,i,s,e),_H(n,r,t);const o=s?qH(n,e):void 0;return e&&qy(!1),o}function qH(n,e){const t=n.type;n.accessCache=Object.create(null),n.proxy=new Proxy(n.ctx,aH);const{setup:i}=t;if(i){ic();const r=n.setupContext=i.length>1?P7(n):null,s=Eu(n),o=_p(i,n,0,[n.props,r]),a=Vb(o);if(rc(),s(),(a||n.sp)&&!Ql(n)&&Jb(n),a){if(o.then(Xy,Xy),e)return o.then(l=>{Yy(n,l)}).catch(l=>{Nd(l,n,0)});n.asyncDep=o}else Yy(n,o)}else D7(n)}function Yy(n,e,t){wt(e)?n.type.__ssrInlineRender?n.ssrRender=e:n.render=e:zn(e)&&(n.setupState=L6(e)),D7(n)}function D7(n,e,t){const i=n.type;n.render||(n.render=i.render||_o);{const r=Eu(n);ic();try{cH(n)}finally{rc(),r()}}}const XH={get(n,e){return Cr(n,"get",""),n[e]}};function P7(n){const e=t=>{n.exposed=t||{}};return{attrs:new Proxy(n.attrs,XH),slots:n.slots,emit:n.emit,expose:e}}function lA(n){return n.exposed?n.exposeProxy||(n.exposeProxy=new Proxy(L6(ri(n.exposed)),{get(e,t){if(t in e)return e[t];if(t in i0)return i0[t](n)},has(e,t){return t in e||t in i0}})):n.proxy}function $y(n,e=!0){return wt(n)?n.displayName||n.name:n.name||e&&n.__name}function YH(n){return wt(n)&&"__vccOpts"in n}const ni=(n,e)=>zz(n,e,hd);function Mr(n,e,t){const i=arguments.length;return i===2?zn(e)&&!Et(e)?wu(e)?dn(n,null,[e]):dn(n,e):dn(n,null,e):(i>3?t=Array.prototype.slice.call(arguments,2):i===3&&wu(t)&&(t=[t]),dn(n,e,t))}const R7="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ky;const Y5=typeof window<"u"&&window.trustedTypes;if(Y5)try{Ky=Y5.createPolicy("vue",{createHTML:n=>n})}catch{}const B7=Ky?n=>Ky.createHTML(n):n=>n,$H="http://www.w3.org/2000/svg",KH="http://www.w3.org/1998/Math/MathML",wa=typeof document<"u"?document:null,$5=wa&&wa.createElement("template"),ZH={insert:(n,e,t)=>{e.insertBefore(n,t||null)},remove:n=>{const e=n.parentNode;e&&e.removeChild(n)},createElement:(n,e,t,i)=>{const r=e==="svg"?wa.createElementNS($H,n):e==="mathml"?wa.createElementNS(KH,n):t?wa.createElement(n,{is:t}):wa.createElement(n);return n==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:n=>wa.createTextNode(n),createComment:n=>wa.createComment(n),setText:(n,e)=>{n.nodeValue=e},setElementText:(n,e)=>{n.textContent=e},parentNode:n=>n.parentNode,nextSibling:n=>n.nextSibling,querySelector:n=>wa.querySelector(n),setScopeId(n,e){n.setAttribute(e,"")},insertStaticContent(n,e,t,i,r,s){const o=t?t.previousSibling:e.lastChild;if(r&&(r===s||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),t),!(r===s||!(r=r.nextSibling)););else{$5.innerHTML=B7(i==="svg"?`<svg>${n}</svg>`:i==="mathml"?`<math>${n}</math>`:n);const a=$5.content;if(i==="svg"||i==="mathml"){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},ll="transition",ph="animation",F0=Symbol("_vtc"),L7={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},JH=Ji({},z6,L7),eV=n=>(n.displayName="Transition",n.props=JH,n),tV=eV((n,{slots:e})=>Mr(Xz,nV(n),e)),Bc=(n,e=[])=>{Et(n)?n.forEach(t=>t(...e)):n&&n(...e)},K5=n=>n?Et(n)?n.some(e=>e.length>1):n.length>1:!1;function nV(n){const e={};for(const F in n)F in L7||(e[F]=n[F]);if(n.css===!1)return e;const{name:t="v",type:i,duration:r,enterFromClass:s=`${t}-enter-from`,enterActiveClass:o=`${t}-enter-active`,enterToClass:a=`${t}-enter-to`,appearFromClass:l=s,appearActiveClass:c=o,appearToClass:u=a,leaveFromClass:f=`${t}-leave-from`,leaveActiveClass:h=`${t}-leave-active`,leaveToClass:p=`${t}-leave-to`}=n,m=iV(r),g=m&&m[0],A=m&&m[1],{onBeforeEnter:y,onEnter:x,onEnterCancelled:b,onLeave:_,onLeaveCancelled:T,onBeforeAppear:M=y,onAppear:I=x,onAppearCancelled:P=b}=e,w=(F,H,z,X)=>{F._enterCancelled=X,Lc(F,H?u:a),Lc(F,H?c:o),z&&z()},E=(F,H)=>{F._isLeaving=!1,Lc(F,f),Lc(F,p),Lc(F,h),H&&H()},O=F=>(H,z)=>{const X=F?I:x,U=()=>w(H,F,z);Bc(X,[H,U]),Z5(()=>{Lc(H,F?l:s),ga(H,F?u:a),K5(X)||J5(H,i,g,U)})};return Ji(e,{onBeforeEnter(F){Bc(y,[F]),ga(F,s),ga(F,o)},onBeforeAppear(F){Bc(M,[F]),ga(F,l),ga(F,c)},onEnter:O(!1),onAppear:O(!0),onLeave(F,H){F._isLeaving=!0;const z=()=>E(F,H);ga(F,f),F._enterCancelled?(ga(F,h),nC()):(nC(),ga(F,h)),Z5(()=>{F._isLeaving&&(Lc(F,f),ga(F,p),K5(_)||J5(F,i,A,z))}),Bc(_,[F,z])},onEnterCancelled(F){w(F,!1,void 0,!0),Bc(b,[F])},onAppearCancelled(F){w(F,!0,void 0,!0),Bc(P,[F])},onLeaveCancelled(F){E(F),Bc(T,[F])}})}function iV(n){if(n==null)return null;if(zn(n))return[T2(n.enter),T2(n.leave)];{const e=T2(n);return[e,e]}}function T2(n){return h6(n)}function ga(n,e){e.split(/\s+/).forEach(t=>t&&n.classList.add(t)),(n[F0]||(n[F0]=new Set)).add(e)}function Lc(n,e){e.split(/\s+/).forEach(i=>i&&n.classList.remove(i));const t=n[F0];t&&(t.delete(e),t.size||(n[F0]=void 0))}function Z5(n){requestAnimationFrame(()=>{requestAnimationFrame(n)})}let rV=0;function J5(n,e,t,i){const r=n._endId=++rV,s=()=>{r===n._endId&&i()};if(t!=null)return setTimeout(s,t);const{type:o,timeout:a,propCount:l}=sV(n,e);if(!o)return i();const c=o+"end";let u=0;const f=()=>{n.removeEventListener(c,h),s()},h=p=>{p.target===n&&++u>=l&&f()};setTimeout(()=>{u<l&&f()},a+1),n.addEventListener(c,h)}function sV(n,e){const t=window.getComputedStyle(n),i=m=>(t[m]||"").split(", "),r=i(`${ll}Delay`),s=i(`${ll}Duration`),o=eC(r,s),a=i(`${ph}Delay`),l=i(`${ph}Duration`),c=eC(a,l);let u=null,f=0,h=0;e===ll?o>0&&(u=ll,f=o,h=s.length):e===ph?c>0&&(u=ph,f=c,h=l.length):(f=Math.max(o,c),u=f>0?o>c?ll:ph:null,h=u?u===ll?s.length:l.length:0);const p=u===ll&&/\b(transform|all)(,|$)/.test(i(`${ll}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:p}}function eC(n,e){for(;n.length<e.length;)n=n.concat(n);return Math.max(...e.map((t,i)=>tC(t)+tC(n[i])))}function tC(n){return n==="auto"?0:Number(n.slice(0,-1).replace(",","."))*1e3}function nC(){return document.body.offsetHeight}function oV(n,e,t){const i=n[F0];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?n.removeAttribute("class"):t?n.setAttribute("class",e):n.className=e}const ug=Symbol("_vod"),F7=Symbol("_vsh"),aV={beforeMount(n,{value:e},{transition:t}){n[ug]=n.style.display==="none"?"":n.style.display,t&&e?t.beforeEnter(n):mh(n,e)},mounted(n,{value:e},{transition:t}){t&&e&&t.enter(n)},updated(n,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(n),mh(n,!0),i.enter(n)):i.leave(n,()=>{mh(n,!1)}):mh(n,e))},beforeUnmount(n,{value:e}){mh(n,e)}};function mh(n,e){n.style.display=e?n[ug]:"none",n[F7]=!e}const O7=Symbol("");function ofe(n){const e=Ro();if(!e)return;const t=e.ut=(r=n(e.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${e.uid}"]`)).forEach(s=>fg(s,r))},i=()=>{const r=n(e.proxy);e.ce?fg(e.ce,r):Zy(e.subTree,r),t(r)};X6(()=>{ig(i)}),ks(()=>{oi(i,_o,{flush:"post"});const r=new MutationObserver(i);r.observe(e.subTree.el.parentNode,{childList:!0}),nl(()=>r.disconnect())})}function Zy(n,e){if(n.shapeFlag&128){const t=n.suspense;n=t.activeBranch,t.pendingBranch&&!t.isHydrating&&t.effects.push(()=>{Zy(t.activeBranch,e)})}for(;n.component;)n=n.component.subTree;if(n.shapeFlag&1&&n.el)fg(n.el,e);else if(n.type===Ii)n.children.forEach(t=>Zy(t,e));else if(n.type===Wf){let{el:t,anchor:i}=n;for(;t&&(fg(t,e),t!==i);)t=t.nextSibling}}function fg(n,e){if(n.nodeType===1){const t=n.style;let i="";for(const r in e)t.setProperty(`--${r}`,e[r]),i+=`--${r}: ${e[r]};`;t[O7]=i}}const lV=/(^|;)\s*display\s*:/;function cV(n,e,t){const i=n.style,r=Kn(t);let s=!1;if(t&&!r){if(e)if(Kn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();t[a]==null&&Lm(i,a,"")}else for(const o in e)t[o]==null&&Lm(i,o,"");for(const o in t)o==="display"&&(s=!0),Lm(i,o,t[o])}else if(r){if(e!==t){const o=i[O7];o&&(t+=";"+o),i.cssText=t,s=lV.test(t)}}else e&&n.removeAttribute("style");ug in n&&(n[ug]=s?i.display:"",n[F7]&&(i.display="none"))}const iC=/\s*!important$/;function Lm(n,e,t){if(Et(t))t.forEach(i=>Lm(n,e,i));else if(t==null&&(t=""),e.startsWith("--"))n.setProperty(e,t);else{const i=uV(n,e);iC.test(t)?n.setProperty(Ru(i),t.replace(iC,""),"important"):n[i]=t}}const rC=["Webkit","Moz","ms"],M2={};function uV(n,e){const t=M2[e];if(t)return t;let i=io(e);if(i!=="filter"&&i in n)return M2[e]=i;i=Jg(i);for(let r=0;r<rC.length;r++){const s=rC[r]+i;if(s in n)return M2[e]=s}return e}const sC="http://www.w3.org/1999/xlink";function oC(n,e,t,i,r,s=hz(e)){i&&e.startsWith("xlink:")?t==null?n.removeAttributeNS(sC,e.slice(6,e.length)):n.setAttributeNS(sC,e,t):t==null||s&&!p6(t)?n.removeAttribute(e):n.setAttribute(e,s?"":Ja(t)?String(t):t)}function aC(n,e,t,i,r){if(e==="innerHTML"||e==="textContent"){t!=null&&(n[e]=e==="innerHTML"?B7(t):t);return}const s=n.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?n.getAttribute("value")||"":n.value,l=t==null?n.type==="checkbox"?"on":"":String(t);(a!==l||!("_value"in n))&&(n.value=l),t==null&&n.removeAttribute(e),n._value=t;return}let o=!1;if(t===""||t==null){const a=typeof n[e];a==="boolean"?t=p6(t):t==null&&a==="string"?(t="",o=!0):a==="number"&&(t=0,o=!0)}try{n[e]=t}catch{}o&&n.removeAttribute(r||e)}function fV(n,e,t,i){n.addEventListener(e,t,i)}function dV(n,e,t,i){n.removeEventListener(e,t,i)}const lC=Symbol("_vei");function hV(n,e,t,i,r=null){const s=n[lC]||(n[lC]={}),o=s[e];if(i&&o)o.value=i;else{const[a,l]=pV(e);if(i){const c=s[e]=AV(i,r);fV(n,a,c,l)}else o&&(dV(n,a,o,l),s[e]=void 0)}}const cC=/(?:Once|Passive|Capture)$/;function pV(n){let e;if(cC.test(n)){e={};let i;for(;i=n.match(cC);)n=n.slice(0,n.length-i[0].length),e[i[0].toLowerCase()]=!0}return[n[2]===":"?n.slice(3):Ru(n.slice(2)),e]}let I2=0;const mV=Promise.resolve(),gV=()=>I2||(mV.then(()=>I2=0),I2=Date.now());function AV(n,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Eo(vV(i,t.value),e,5,[i])};return t.value=n,t.attached=gV(),t}function vV(n,e){if(Et(e)){const t=n.stopImmediatePropagation;return n.stopImmediatePropagation=()=>{t.call(n),n._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const uC=n=>n.charCodeAt(0)===111&&n.charCodeAt(1)===110&&n.charCodeAt(2)>96&&n.charCodeAt(2)<123,yV=(n,e,t,i,r,s)=>{const o=r==="svg";e==="class"?oV(n,i,o):e==="style"?cV(n,t,i):Ap(e)?zb(e)||hV(n,e,t,i,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_V(n,e,i,o))?(aC(n,e,i),!n.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&oC(n,e,i,o,s,e!=="value")):n._isVueCE&&(/[A-Z]/.test(e)||!Kn(i))?aC(n,io(e),i,s,e):(e==="true-value"?n._trueValue=i:e==="false-value"&&(n._falseValue=i),oC(n,e,i,o))};function _V(n,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in n&&uC(e)&&wt(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&n.tagName==="INPUT"||e==="type"&&n.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=n.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return uC(e)&&Kn(t)?!1:e in n}const U7=Ji({patchProp:yV},ZH);let s0,fC=!1;function bV(){return s0||(s0=xH(U7))}function xV(){return s0=fC?s0:CH(U7),fC=!0,s0}const CV=(...n)=>{const e=bV().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=k7(i);if(!r)return;const s=e._component;!wt(s)&&!s.render&&!s.template&&(s.template=r.innerHTML),r.nodeType===1&&(r.textContent="");const o=t(r,!1,N7(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e},SV=(...n)=>{const e=xV().createApp(...n),{mount:t}=e;return e.mount=i=>{const r=k7(i);if(r)return t(r,!0,N7(r))},e};function N7(n){if(n instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&n instanceof MathMLElement)return"mathml"}function k7(n){return Kn(n)?document.querySelector(n):n}const wV=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,EV=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,TV=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function MV(n,e){if(n==="__proto__"||n==="constructor"&&e&&typeof e=="object"&&"prototype"in e){IV(n);return}return e}function IV(n){console.warn(`[destr] Dropping "${n}" key to prevent prototype pollution.`)}function dg(n,e={}){if(typeof n!="string")return n;const t=n.trim();if(n[0]==='"'&&n.endsWith('"')&&!n.includes("\\"))return t.slice(1,-1);if(t.length<=9){const i=t.toLowerCase();if(i==="true")return!0;if(i==="false")return!1;if(i==="undefined")return;if(i==="null")return null;if(i==="nan")return Number.NaN;if(i==="infinity")return Number.POSITIVE_INFINITY;if(i==="-infinity")return Number.NEGATIVE_INFINITY}if(!TV.test(n)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return n}try{if(wV.test(n)||EV.test(n)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(n,MV)}return JSON.parse(n)}catch(i){if(e.strict)throw i;return n}}const DV=/#/g,PV=/&/g,RV=/\//g,BV=/=/g,ox=/\+/g,LV=/%5e/gi,FV=/%60/gi,OV=/%7c/gi,UV=/%20/gi;function NV(n){return encodeURI(""+n).replace(OV,"|")}function Jy(n){return NV(typeof n=="string"?n:JSON.stringify(n)).replace(ox,"%2B").replace(UV,"+").replace(DV,"%23").replace(PV,"%26").replace(FV,"`").replace(LV,"^").replace(RV,"%2F")}function D2(n){return Jy(n).replace(BV,"%3D")}function hg(n=""){try{return decodeURIComponent(""+n)}catch{return""+n}}function kV(n){return hg(n.replace(ox," "))}function zV(n){return hg(n.replace(ox," "))}function z7(n=""){const e={};n[0]==="?"&&(n=n.slice(1));for(const t of n.split("&")){const i=t.match(/([^=]+)=?(.*)/)||[];if(i.length<2)continue;const r=kV(i[1]);if(r==="__proto__"||r==="constructor")continue;const s=zV(i[2]||"");e[r]===void 0?e[r]=s:Array.isArray(e[r])?e[r].push(s):e[r]=[e[r],s]}return e}function HV(n,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(t=>`${D2(n)}=${Jy(t)}`).join("&"):`${D2(n)}=${Jy(e)}`:D2(n)}function VV(n){return Object.keys(n).filter(e=>n[e]!==void 0).map(e=>HV(e,n[e])).filter(Boolean).join("&")}const GV=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,H7=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,QV=/^([/\\]\s*){2,}[^/\\]/,jV=/^[\s\0]*(blob|data|javascript|vbscript):$/i,WV=/\/$|\/\?|\/#/,qV=/^\.?\//;function na(n,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?GV.test(n):H7.test(n)||(e.acceptRelative?QV.test(n):!1)}function XV(n){return!!n&&jV.test(n)}function e_(n="",e){return e?WV.test(n):n.endsWith("/")}function cA(n="",e){if(!e)return(e_(n)?n.slice(0,-1):n)||"/";if(!e_(n,!0))return n||"/";let t=n,i="";const r=n.indexOf("#");r>=0&&(t=n.slice(0,r),i=n.slice(r));const[s,...o]=t.split("?");return((s.endsWith("/")?s.slice(0,-1):s)||"/")+(o.length>0?`?${o.join("?")}`:"")+i}function pg(n="",e){if(!e)return n.endsWith("/")?n:n+"/";if(e_(n,!0))return n||"/";let t=n,i="";const r=n.indexOf("#");if(r>=0&&(t=n.slice(0,r),i=n.slice(r),!t))return i;const[s,...o]=t.split("?");return s+"/"+(o.length>0?`?${o.join("?")}`:"")+i}function YV(n=""){return n.startsWith("/")}function dC(n=""){return YV(n)?n:"/"+n}function $V(n,e){if(G7(e)||na(n))return n;const t=cA(e);return n.startsWith(t)?n:uA(t,n)}function hC(n,e){if(G7(e))return n;const t=cA(e);if(!n.startsWith(t))return n;const i=n.slice(t.length);return i[0]==="/"?i:"/"+i}function V7(n,e){const t=tG(n),i={...z7(t.search),...e};return t.search=VV(i),nG(t)}function G7(n){return!n||n==="/"}function KV(n){return n&&n!=="/"}function uA(n,...e){let t=n||"";for(const i of e.filter(r=>KV(r)))if(t){const r=i.replace(qV,"");t=pg(t)+r}else t=i;return t}function Q7(...n){var o,a,l,c;const e=/\/(?!\/)/,t=n.filter(Boolean),i=[];let r=0;for(const u of t)if(!(!u||u==="/")){for(const[f,h]of u.split(e).entries())if(!(!h||h===".")){if(h===".."){if(i.length===1&&na(i[0]))continue;i.pop(),r--;continue}if(f===1&&((o=i[i.length-1])!=null&&o.endsWith(":/"))){i[i.length-1]+="/"+h;continue}i.push(h),r++}}let s=i.join("/");return r>=0?(a=t[0])!=null&&a.startsWith("/")&&!s.startsWith("/")?s="/"+s:(l=t[0])!=null&&l.startsWith("./")&&!s.startsWith("./")&&(s="./"+s):s="../".repeat(-1*r)+s,(c=t[t.length-1])!=null&&c.endsWith("/")&&!s.endsWith("/")&&(s+="/"),s}function ZV(n){return JV(n,"https://")}function JV(n,e){let t=n.match(H7);return t||(t=n.match(/^\/{2,}/)),t?e+n.slice(t[0].length):e+n}function eG(n,e,t={}){return t.trailingSlash||(n=pg(n),e=pg(e)),t.leadingSlash||(n=dC(n),e=dC(e)),t.encoding||(n=hg(n),e=hg(e)),n===e}const j7=Symbol.for("ufo:protocolRelative");function tG(n="",e){const t=n.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(t){const[,f,h=""]=t;return{protocol:f.toLowerCase(),pathname:h,href:f+h,auth:"",host:"",search:"",hash:""}}if(!na(n,{acceptRelative:!0}))return pC(n);const[,i="",r,s=""]=n.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,o="",a=""]=s.match(/([^#/?]*)(.*)?/)||[];i==="file:"&&(a=a.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:c,hash:u}=pC(a);return{protocol:i.toLowerCase(),auth:r?r.slice(0,Math.max(0,r.length-1)):"",host:o,pathname:l,search:c,hash:u,[j7]:!i}}function pC(n=""){const[e="",t="",i=""]=(n.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:t,hash:i}}function nG(n){const e=n.pathname||"",t=n.search?(n.search.startsWith("?")?"":"?")+n.search:"",i=n.hash||"",r=n.auth?n.auth+"@":"",s=n.host||"";return(n.protocol||n[j7]?(n.protocol||"")+"//":"")+r+s+e+t+i}class iG extends Error{constructor(e,t){super(e,t),this.name="FetchError",t!=null&&t.cause&&!this.cause&&(this.cause=t.cause)}}function rG(n){var l,c,u,f,h;const e=((l=n.error)==null?void 0:l.message)||((c=n.error)==null?void 0:c.toString())||"",t=((u=n.request)==null?void 0:u.method)||((f=n.options)==null?void 0:f.method)||"GET",i=((h=n.request)==null?void 0:h.url)||String(n.request)||"/",r=`[${t}] ${JSON.stringify(i)}`,s=n.response?`${n.response.status} ${n.response.statusText}`:"<no response>",o=`${r}: ${s}${e?` ${e}`:""}`,a=new iG(o,n.error?{cause:n.error}:void 0);for(const p of["request","options","response"])Object.defineProperty(a,p,{get(){return n[p]}});for(const[p,m]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(a,p,{get(){return n.response&&n.response[m]}});return a}const sG=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function mC(n="GET"){return sG.has(n.toUpperCase())}function oG(n){if(n===void 0)return!1;const e=typeof n;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(n)?!0:n.buffer?!1:n.constructor&&n.constructor.name==="Object"||typeof n.toJSON=="function"}const aG=new Set(["image/svg","application/xml","application/xhtml","application/html"]),lG=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function cG(n=""){if(!n)return"json";const e=n.split(";").shift()||"";return lG.test(e)?"json":aG.has(e)||e.startsWith("text/")?"text":"blob"}function uG(n,e,t,i){const r=fG((e==null?void 0:e.headers)??(n==null?void 0:n.headers),t==null?void 0:t.headers,i);let s;return(t!=null&&t.query||t!=null&&t.params||e!=null&&e.params||e!=null&&e.query)&&(s={...t==null?void 0:t.params,...t==null?void 0:t.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...t,...e,query:s,params:s,headers:r}}function fG(n,e,t){if(!e)return new t(n);const i=new t(e);if(n)for(const[r,s]of Symbol.iterator in n||Array.isArray(n)?n:new t(n))i.set(r,s);return i}async function C1(n,e){if(e)if(Array.isArray(e))for(const t of e)await t(n);else await e(n)}const dG=new Set([408,409,425,429,500,502,503,504]),hG=new Set([101,204,205,304]);function W7(n={}){const{fetch:e=globalThis.fetch,Headers:t=globalThis.Headers,AbortController:i=globalThis.AbortController}=n;async function r(a){const l=a.error&&a.error.name==="AbortError"&&!a.options.timeout||!1;if(a.options.retry!==!1&&!l){let u;typeof a.options.retry=="number"?u=a.options.retry:u=mC(a.options.method)?0:1;const f=a.response&&a.response.status||500;if(u>0&&(Array.isArray(a.options.retryStatusCodes)?a.options.retryStatusCodes.includes(f):dG.has(f))){const h=typeof a.options.retryDelay=="function"?a.options.retryDelay(a):a.options.retryDelay||0;return h>0&&await new Promise(p=>setTimeout(p,h)),s(a.request,{...a.options,retry:u-1})}}const c=rG(a);throw Error.captureStackTrace&&Error.captureStackTrace(c,s),c}const s=async function(l,c={}){const u={request:l,options:uG(l,c,n.defaults,t),response:void 0,error:void 0};u.options.method&&(u.options.method=u.options.method.toUpperCase()),u.options.onRequest&&await C1(u,u.options.onRequest),typeof u.request=="string"&&(u.options.baseURL&&(u.request=$V(u.request,u.options.baseURL)),u.options.query&&(u.request=V7(u.request,u.options.query),delete u.options.query),"query"in u.options&&delete u.options.query,"params"in u.options&&delete u.options.params),u.options.body&&mC(u.options.method)&&(oG(u.options.body)?(u.options.body=typeof u.options.body=="string"?u.options.body:JSON.stringify(u.options.body),u.options.headers=new t(u.options.headers||{}),u.options.headers.has("content-type")||u.options.headers.set("content-type","application/json"),u.options.headers.has("accept")||u.options.headers.set("accept","application/json")):("pipeTo"in u.options.body&&typeof u.options.body.pipeTo=="function"||typeof u.options.body.pipe=="function")&&("duplex"in u.options||(u.options.duplex="half")));let f;if(!u.options.signal&&u.options.timeout){const p=new i;f=setTimeout(()=>{const m=new Error("[TimeoutError]: The operation was aborted due to timeout");m.name="TimeoutError",m.code=23,p.abort(m)},u.options.timeout),u.options.signal=p.signal}try{u.response=await e(u.request,u.options)}catch(p){return u.error=p,u.options.onRequestError&&await C1(u,u.options.onRequestError),await r(u)}finally{f&&clearTimeout(f)}if((u.response.body||u.response._bodyInit)&&!hG.has(u.response.status)&&u.options.method!=="HEAD"){const p=(u.options.parseResponse?"json":u.options.responseType)||cG(u.response.headers.get("content-type")||"");switch(p){case"json":{const m=await u.response.text(),g=u.options.parseResponse||dg;u.response._data=g(m);break}case"stream":{u.response._data=u.response.body||u.response._bodyInit;break}default:u.response._data=await u.response[p]()}}return u.options.onResponse&&await C1(u,u.options.onResponse),!u.options.ignoreResponseError&&u.response.status>=400&&u.response.status<600?(u.options.onResponseError&&await C1(u,u.options.onResponseError),await r(u)):u.response},o=async function(l,c){return(await s(l,c))._data};return o.raw=s,o.native=(...a)=>e(...a),o.create=(a={},l={})=>W7({...n,...l,defaults:{...n.defaults,...l.defaults,...a}}),o}const mg=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),pG=mg.fetch?(...n)=>mg.fetch(...n):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),mG=mg.Headers,gG=mg.AbortController,AG=W7({fetch:pG,Headers:mG,AbortController:gG}),vG=AG,yG=()=>{var n;return((n=window==null?void 0:window.__NUXT__)==null?void 0:n.config)||{}},gg=yG().app,_G=()=>gg.baseURL,bG=()=>gg.buildAssetsDir,ax=(...n)=>Q7(q7(),bG(),...n),q7=(...n)=>{const e=gg.cdnURL||gg.baseURL;return n.length?Q7(e,...n):e};globalThis.__buildAssetsURL=ax,globalThis.__publicAssetsURL=q7;globalThis.$fetch||(globalThis.$fetch=vG.create({baseURL:_G()}));function t_(n,e={},t){for(const i in n){const r=n[i],s=t?`${t}:${i}`:i;typeof r=="object"&&r!==null?t_(r,e,s):typeof r=="function"&&(e[s]=r)}return e}const xG={run:n=>n()},CG=()=>xG,X7=typeof console.createTask<"u"?console.createTask:CG;function SG(n,e){const t=e.shift(),i=X7(t);return n.reduce((r,s)=>r.then(()=>i.run(()=>s(...e))),Promise.resolve())}function wG(n,e){const t=e.shift(),i=X7(t);return Promise.all(n.map(r=>i.run(()=>r(...e))))}function P2(n,e){for(const t of[...n])t(e)}class EG{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(e,t,i={}){if(!e||typeof t!="function")return()=>{};const r=e;let s;for(;this._deprecatedHooks[e];)s=this._deprecatedHooks[e],e=s.to;if(s&&!i.allowDeprecated){let o=s.message;o||(o=`${r} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!t.name)try{Object.defineProperty(t,"name",{get:()=>"_"+e.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[e]=this._hooks[e]||[],this._hooks[e].push(t),()=>{t&&(this.removeHook(e,t),t=void 0)}}hookOnce(e,t){let i,r=(...s)=>(typeof i=="function"&&i(),i=void 0,r=void 0,t(...s));return i=this.hook(e,r),i}removeHook(e,t){if(this._hooks[e]){const i=this._hooks[e].indexOf(t);i!==-1&&this._hooks[e].splice(i,1),this._hooks[e].length===0&&delete this._hooks[e]}}deprecateHook(e,t){this._deprecatedHooks[e]=typeof t=="string"?{to:t}:t;const i=this._hooks[e]||[];delete this._hooks[e];for(const r of i)this.hook(e,r)}deprecateHooks(e){Object.assign(this._deprecatedHooks,e);for(const t in e)this.deprecateHook(t,e[t])}addHooks(e){const t=t_(e),i=Object.keys(t).map(r=>this.hook(r,t[r]));return()=>{for(const r of i.splice(0,i.length))r()}}removeHooks(e){const t=t_(e);for(const i in t)this.removeHook(i,t[i])}removeAllHooks(){for(const e in this._hooks)delete this._hooks[e]}callHook(e,...t){return t.unshift(e),this.callHookWith(SG,e,...t)}callHookParallel(e,...t){return t.unshift(e),this.callHookWith(wG,e,...t)}callHookWith(e,t,...i){const r=this._before||this._after?{name:t,args:i,context:{}}:void 0;this._before&&P2(this._before,r);const s=e(t in this._hooks?[...this._hooks[t]]:[],i);return s instanceof Promise?s.finally(()=>{this._after&&r&&P2(this._after,r)}):(this._after&&r&&P2(this._after,r),s)}beforeEach(e){return this._before=this._before||[],this._before.push(e),()=>{if(this._before!==void 0){const t=this._before.indexOf(e);t!==-1&&this._before.splice(t,1)}}}afterEach(e){return this._after=this._after||[],this._after.push(e),()=>{if(this._after!==void 0){const t=this._after.indexOf(e);t!==-1&&this._after.splice(t,1)}}}}function Y7(){return new EG}function TG(n={}){let e,t=!1;const i=o=>{if(e&&e!==o)throw new Error("Context conflict")};let r;if(n.asyncContext){const o=n.AsyncLocalStorage||globalThis.AsyncLocalStorage;o?r=new o:console.warn("[unctx] `AsyncLocalStorage` is not provided.")}const s=()=>{if(r){const o=r.getStore();if(o!==void 0)return o}return e};return{use:()=>{const o=s();if(o===void 0)throw new Error("Context is not available");return o},tryUse:()=>s(),set:(o,a)=>{a||i(o),e=o,t=!0},unset:()=>{e=void 0,t=!1},call:(o,a)=>{i(o),e=o;try{return r?r.run(o,a):a()}finally{t||(e=void 0)}},async callAsync(o,a){e=o;const l=()=>{e=o},c=()=>e===o?l:void 0;n_.add(c);try{const u=r?r.run(o,a):a();return t||(e=void 0),await u}finally{n_.delete(c)}}}}function MG(n={}){const e={};return{get(t,i={}){return e[t]||(e[t]=TG({...n,...i})),e[t]}}}const Ag=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof global<"u"?global:typeof window<"u"?window:{},gC="__unctx__",IG=Ag[gC]||(Ag[gC]=MG()),DG=(n,e={})=>IG.get(n,e),AC="__unctx_async_handlers__",n_=Ag[AC]||(Ag[AC]=new Set);function qf(n){const e=[];for(const r of n_){const s=r();s&&e.push(s)}const t=()=>{for(const r of e)r()};let i=n();return i&&typeof i=="object"&&"catch"in i&&(i=i.catch(r=>{throw t(),r})),[i,t]}const i_=!1,PG=!1,RG={componentName:"NuxtLink",prefetch:!0,prefetchOn:{visibility:!0}},Pf={value:null,errorValue:null,deep:!0},BG=null,LG="#__nuxt",$7="nuxt-app",vC=36e5,FG="vite:preloadError";function K7(n=$7){return DG(n,{asyncContext:!1})}const OG="__nuxt_plugin";function UG(n){var r;let e=0;const t={_id:n.id||$7||"nuxt-app",_scope:pz(),provide:void 0,globalName:"nuxt",versions:{get nuxt(){return"3.15.4"},get vue(){return t.vueApp.version}},payload:Ua({...((r=n.ssrContext)==null?void 0:r.payload)||{},data:Ua({}),state:ro({}),once:new Set,_errors:Ua({})}),static:{data:{}},runWithContext(s){return t._scope.active&&!nA()?t._scope.run(()=>yC(t,s)):yC(t,s)},isHydrating:!0,deferHydration(){if(!t.isHydrating)return()=>{};e++;let s=!1;return()=>{if(!s&&(s=!0,e--,e===0))return t.isHydrating=!1,t.callHook("app:suspense:resolve")}},_asyncDataPromises:{},_asyncData:Ua({}),_payloadRevivers:{},...n};{const s=window.__NUXT__;if(s)for(const o in s)switch(o){case"data":case"state":case"_errors":Object.assign(t.payload[o],s[o]);break;default:t.payload[o]=s[o]}}t.hooks=Y7(),t.hook=t.hooks.hook,t.callHook=t.hooks.callHook,t.provide=(s,o)=>{const a="$"+s;S1(t,a,o),S1(t.vueApp.config.globalProperties,a,o)},S1(t.vueApp,"$nuxt",t),S1(t.vueApp.config.globalProperties,"$nuxt",t);{window.addEventListener(FG,o=>{t.callHook("app:chunkError",{error:o.payload}),(t.isHydrating||o.payload.message.includes("Unable to preload CSS"))&&o.preventDefault()}),window.useNuxtApp=window.useNuxtApp||Tn;const s=t.hook("app:error",(...o)=>{console.error("[nuxt] error caught during app initialization",...o)});t.hook("app:mounted",s)}const i=t.payload.config;return t.provide("config",i),t}function NG(n,e){e.hooks&&n.hooks.addHooks(e.hooks)}async function kG(n,e){if(typeof e=="function"){const{provide:t}=await n.runWithContext(()=>e(n))||{};if(t&&typeof t=="object")for(const i in t)n.provide(i,t[i])}}async function zG(n,e){const t=[],i=[],r=[],s=[];let o=0;async function a(l){var u;const c=((u=l.dependsOn)==null?void 0:u.filter(f=>e.some(h=>h._name===f)&&!t.includes(f)))??[];if(c.length>0)i.push([new Set(c),l]);else{const f=kG(n,l).then(async()=>{l._name&&(t.push(l._name),await Promise.all(i.map(async([h,p])=>{h.has(l._name)&&(h.delete(l._name),h.size===0&&(o++,await a(p)))})))});l.parallel?r.push(f.catch(h=>s.push(h))):await f}}for(const l of e)NG(n,l);for(const l of e)await a(l);if(await Promise.all(r),o)for(let l=0;l<o;l++)await Promise.all(r);if(s.length)throw s[0]}function so(n){if(typeof n=="function")return n;const e=n._name||n.name;return delete n.name,Object.assign(n.setup||(()=>{}),n,{[OG]:!0,_name:e})}function yC(n,e,t){const i=()=>e();return K7(n._id).set(n),n.vueApp.runWithContext(i)}function HG(n){var t;let e;return o7()&&(e=(t=Ro())==null?void 0:t.appContext.app.$nuxt),e=e||K7(n).tryUse(),e||null}function Tn(n){const e=HG(n);if(!e)throw new Error("[nuxt] instance unavailable");return e}function Bu(n){return Tn().$config}function S1(n,e,t){Object.defineProperty(n,e,{get:()=>t})}function VG(n,e){return{ctx:{table:n},matchAll:t=>J7(t,n)}}function Z7(n){const e={};for(const t in n)e[t]=t==="dynamic"?new Map(Object.entries(n[t]).map(([i,r])=>[i,Z7(r)])):new Map(Object.entries(n[t]));return e}function GG(n){return VG(Z7(n))}function J7(n,e,t){n.endsWith("/")&&(n=n.slice(0,-1)||"/");const i=[];for(const[s,o]of _C(e.wildcard))(n===s||n.startsWith(s+"/"))&&i.push(o);for(const[s,o]of _C(e.dynamic))if(n.startsWith(s+"/")){const a="/"+n.slice(s.length).split("/").splice(2).join("/");i.push(...J7(a,o))}const r=e.static.get(n);return r&&i.push(r),i.filter(Boolean)}function _C(n){return[...n.entries()].sort((e,t)=>e[0].length-t[0].length)}function R2(n){if(n===null||typeof n!="object")return!1;const e=Object.getPrototypeOf(n);return e!==null&&e!==Object.prototype&&Object.getPrototypeOf(e)!==null||Symbol.iterator in n?!1:Symbol.toStringTag in n?Object.prototype.toString.call(n)==="[object Module]":!0}function r_(n,e,t=".",i){if(!R2(e))return r_(n,{},t,i);const r=Object.assign({},e);for(const s in n){if(s==="__proto__"||s==="constructor")continue;const o=n[s];o!=null&&(i&&i(r,s,o,t)||(Array.isArray(o)&&Array.isArray(r[s])?r[s]=[...o,...r[s]]:R2(o)&&R2(r[s])?r[s]=r_(o,r[s],(t?`${t}.`:"")+s.toString(),i):r[s]=o))}return r}function QG(n){return(...e)=>e.reduce((t,i)=>r_(t,i,"",n),{})}const fA=QG();function jG(n,e){try{return e in n}catch{return!1}}class s_ extends Error{constructor(t,i={}){super(t,i);pe(this,"statusCode",500);pe(this,"fatal",!1);pe(this,"unhandled",!1);pe(this,"statusMessage");pe(this,"data");pe(this,"cause");i.cause&&!this.cause&&(this.cause=i.cause)}toJSON(){const t={message:this.message,statusCode:a_(this.statusCode,500)};return this.statusMessage&&(t.statusMessage=eT(this.statusMessage)),this.data!==void 0&&(t.data=this.data),t}}pe(s_,"__h3_error__",!0);function o_(n){if(typeof n=="string")return new s_(n);if(WG(n))return n;const e=new s_(n.message??n.statusMessage??"",{cause:n.cause||n});if(jG(n,"stack"))try{Object.defineProperty(e,"stack",{get(){return n.stack}})}catch{try{e.stack=n.stack}catch{}}if(n.data&&(e.data=n.data),n.statusCode?e.statusCode=a_(n.statusCode,e.statusCode):n.status&&(e.statusCode=a_(n.status,e.statusCode)),n.statusMessage?e.statusMessage=n.statusMessage:n.statusText&&(e.statusMessage=n.statusText),e.statusMessage){const t=e.statusMessage;eT(e.statusMessage)!==t&&console.warn("[h3] Please prefer using `message` for longer error messages instead of `statusMessage`. In the future, `statusMessage` will be sanitized by default.")}return n.fatal!==void 0&&(e.fatal=n.fatal),n.unhandled!==void 0&&(e.unhandled=n.unhandled),e}function WG(n){var e;return((e=n==null?void 0:n.constructor)==null?void 0:e.__h3_error__)===!0}const qG=/[^\u0009\u0020-\u007E]/g;function eT(n=""){return n.replace(qG,"")}function a_(n,e=200){return!n||(typeof n=="string"&&(n=Number.parseInt(n,10)),n<100||n>999)?e:n}const XG=Symbol("layout-meta"),dA=Symbol("route"),As=()=>{var n;return(n=Tn())==null?void 0:n.$router},hA=()=>o7()?es(dA,Tn()._route):Tn()._route;const YG=()=>{try{if(Tn()._processingMiddleware)return!0}catch{return!1}return!1},$G=(n,e)=>{n||(n="/");const t=typeof n=="string"?n:"path"in n?l_(n):As().resolve(n).href;if(e!=null&&e.open){const{target:l="_blank",windowFeatures:c={}}=e.open,u=Object.entries(c).filter(([f,h])=>h!==void 0).map(([f,h])=>`${f.toLowerCase()}=${h}`).join(", ");return open(t,l,u),Promise.resolve()}const i=na(t,{acceptRelative:!0}),r=(e==null?void 0:e.external)||i;if(r){if(!(e!=null&&e.external))throw new Error("Navigating to an external URL is not allowed by default. Use `navigateTo(url, { external: true })`.");const{protocol:l}=new URL(t,window.location.href);if(l&&XV(l))throw new Error(`Cannot navigate to a URL with '${l}' protocol.`)}const s=YG();if(!r&&s)return e!=null&&e.replace?typeof n=="string"?{path:n,replace:!0}:{...n,replace:!0}:n;const o=As(),a=Tn();return r?(a._scope.stop(),e!=null&&e.replace?location.replace(t):location.href=t,s?a.isHydrating?new Promise(()=>{}):!1:Promise.resolve()):e!=null&&e.replace?o.replace(n):o.push(n)};function l_(n){return V7(n.path||"",n.query||{})+(n.hash||"")}const tT="__nuxt_error",pA=()=>Kb(Tn().payload,"error"),Rf=n=>{const e=Cp(n);try{const t=Tn(),i=pA();t.hooks.callHook("app:error",e),i.value=i.value||e}catch{throw e}return e},KG=async(n={})=>{const e=Tn(),t=pA();e.callHook("app:error:cleared",n),n.redirect&&await As().replace(n.redirect),t.value=BG},ZG=n=>!!n&&typeof n=="object"&&tT in n,Cp=n=>{const e=o_(n);return Object.defineProperty(e,tT,{value:!0,configurable:!1,writable:!1}),e};function bC(n){const e=eQ(n),t=new ArrayBuffer(e.length),i=new DataView(t);for(let r=0;r<t.byteLength;r++)i.setUint8(r,e.charCodeAt(r));return t}const JG="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function eQ(n){n.length%4===0&&(n=n.replace(/==?$/,""));let e="",t=0,i=0;for(let r=0;r<n.length;r++)t<<=6,t|=JG.indexOf(n[r]),i+=6,i===24&&(e+=String.fromCharCode((t&16711680)>>16),e+=String.fromCharCode((t&65280)>>8),e+=String.fromCharCode(t&255),t=i=0);return i===12?(t>>=4,e+=String.fromCharCode(t)):i===18&&(t>>=2,e+=String.fromCharCode((t&65280)>>8),e+=String.fromCharCode(t&255)),e}const tQ=-1,nQ=-2,iQ=-3,rQ=-4,sQ=-5,oQ=-6;function aQ(n,e){return lQ(JSON.parse(n),e)}function lQ(n,e){if(typeof n=="number")return r(n,!0);if(!Array.isArray(n)||n.length===0)throw new Error("Invalid input");const t=n,i=Array(t.length);function r(s,o=!1){if(s===tQ)return;if(s===iQ)return NaN;if(s===rQ)return 1/0;if(s===sQ)return-1/0;if(s===oQ)return-0;if(o)throw new Error("Invalid input");if(s in i)return i[s];const a=t[s];if(!a||typeof a!="object")i[s]=a;else if(Array.isArray(a))if(typeof a[0]=="string"){const l=a[0],c=e==null?void 0:e[l];if(c)return i[s]=c(r(a[1]));switch(l){case"Date":i[s]=new Date(a[1]);break;case"Set":const u=new Set;i[s]=u;for(let p=1;p<a.length;p+=1)u.add(r(a[p]));break;case"Map":const f=new Map;i[s]=f;for(let p=1;p<a.length;p+=2)f.set(r(a[p]),r(a[p+1]));break;case"RegExp":i[s]=new RegExp(a[1],a[2]);break;case"Object":i[s]=Object(a[1]);break;case"BigInt":i[s]=BigInt(a[1]);break;case"null":const h=Object.create(null);i[s]=h;for(let p=1;p<a.length;p+=2)h[a[p]]=r(a[p+1]);break;case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":{const p=globalThis[l],m=a[1],g=bC(m),A=new p(g);i[s]=A;break}case"ArrayBuffer":{const p=a[1],m=bC(p);i[s]=m;break}default:throw new Error(`Unknown type ${l}`)}}else{const l=new Array(a.length);i[s]=l;for(let c=0;c<a.length;c+=1){const u=a[c];u!==nQ&&(l[c]=r(u))}}else{const l={};i[s]=l;for(const c in a){const u=a[c];l[c]=r(u)}}return i[s]}return r(0)}function nT(n,e){const t=[],i=e.resolveKeyData||(s=>s.key),r=e.resolveValueData||(s=>s.value);for(const[s,o]of Object.entries(n))t.push(...(Array.isArray(o)?o:[o]).map(a=>{const l={key:s,value:a},c=r(l);return typeof c=="object"?nT(c,e):Array.isArray(c)?c:{[typeof e.key=="function"?e.key(l):e.key]:i(l),[typeof e.value=="function"?e.value(l):e.value]:c}}).flat());return t}function iT(n,e){return Object.entries(n).map(([t,i])=>{if(typeof i=="object"&&(i=iT(i,e)),e.resolve){const r=e.resolve({key:t,value:i});if(typeof r<"u")return r}return typeof i=="number"&&(i=i.toString()),typeof i=="string"&&e.wrapValue&&(i=i.replace(new RegExp(e.wrapValue,"g"),`\\${e.wrapValue}`),i=`${e.wrapValue}${i}${e.wrapValue}`),`${t}${e.keyValueSeparator||""}${i}`}).join(e.entrySeparator||"")}const cQ=new Set(["title","titleTemplate","script","style","noscript"]),Fm=new Set(["base","meta","link","style","script","noscript"]),uQ=new Set(["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"]),fQ=new Set(["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"]),rT=new Set(["tagPosition","tagPriority","tagDuplicateStrategy","children","innerHTML","textContent","processTemplateParams"]),dQ=typeof window<"u";function vg(n){let e=9;for(let t=0;t<n.length;)e=Math.imul(e^n.charCodeAt(t++),9**9);return((e^e>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function c_(n){if(n._h)return n._h;if(n._d)return vg(n._d);let e=`${n.tag}:${n.textContent||n.innerHTML||""}:`;for(const t in n.props)e+=`${t}:${String(n.props[t])},`;return vg(e)}const Or=n=>({keyValue:n,metaKey:"property"}),B2=n=>({keyValue:n}),lx={appleItunesApp:{unpack:{entrySeparator:", ",resolve({key:n,value:e}){return`${za(n)}=${e}`}}},articleExpirationTime:Or("article:expiration_time"),articleModifiedTime:Or("article:modified_time"),articlePublishedTime:Or("article:published_time"),bookReleaseDate:Or("book:release_date"),charset:{metaKey:"charset"},contentSecurityPolicy:{unpack:{entrySeparator:"; ",resolve({key:n,value:e}){return`${za(n)} ${e}`}},metaKey:"http-equiv"},contentType:{metaKey:"http-equiv"},defaultStyle:{metaKey:"http-equiv"},fbAppId:Or("fb:app_id"),msapplicationConfig:B2("msapplication-Config"),msapplicationTileColor:B2("msapplication-TileColor"),msapplicationTileImage:B2("msapplication-TileImage"),ogAudioSecureUrl:Or("og:audio:secure_url"),ogAudioUrl:Or("og:audio"),ogImageSecureUrl:Or("og:image:secure_url"),ogImageUrl:Or("og:image"),ogSiteName:Or("og:site_name"),ogVideoSecureUrl:Or("og:video:secure_url"),ogVideoUrl:Or("og:video"),profileFirstName:Or("profile:first_name"),profileLastName:Or("profile:last_name"),profileUsername:Or("profile:username"),refresh:{metaKey:"http-equiv",unpack:{entrySeparator:";",resolve({key:n,value:e}){if(n==="seconds")return`${e}`}}},robots:{unpack:{entrySeparator:", ",resolve({key:n,value:e}){return typeof e=="boolean"?`${za(n)}`:`${za(n)}:${e}`}}},xUaCompatible:{metaKey:"http-equiv"}},sT=new Set(["og","book","article","profile"]);function oT(n){var i;const e=za(n),t=e.indexOf(":");return sT.has(e.substring(0,t))?"property":((i=lx[n])==null?void 0:i.metaKey)||"name"}function hQ(n){var e;return((e=lx[n])==null?void 0:e.keyValue)||za(n)}function za(n){const e=n.replace(/([A-Z])/g,"-$1").toLowerCase(),t=e.indexOf("-"),i=e.substring(0,t);return i==="twitter"||sT.has(i)?n.replace(/([A-Z])/g,":$1").toLowerCase():e}function u_(n){if(Array.isArray(n))return n.map(t=>u_(t));if(typeof n!="object"||Array.isArray(n))return n;const e={};for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[za(t)]=u_(n[t]));return e}function pQ(n,e){const t=lx[e];return e==="refresh"?`${n.seconds};url=${n.url}`:iT(u_(n),{keyValueSeparator:"=",entrySeparator:", ",resolve({value:i,key:r}){if(i===null)return"";if(typeof i=="boolean")return`${r}`},...t==null?void 0:t.unpack})}const aT=new Set(["og:image","og:video","og:audio","twitter:image"]);function lT(n){const e={};for(const t in n){if(!Object.prototype.hasOwnProperty.call(n,t))continue;const i=n[t];String(i)!=="false"&&t&&(e[t]=i)}return e}function xC(n,e){const t=lT(e),i=za(n),r=oT(i);if(aT.has(i)){const s={};for(const o in t)Object.prototype.hasOwnProperty.call(t,o)&&(s[`${n}${o==="url"?"":`${o[0].toUpperCase()}${o.slice(1)}`}`]=t[o]);return cx(s).sort((o,a)=>{var l,c;return(((l=o[r])==null?void 0:l.length)||0)-(((c=a[r])==null?void 0:c.length)||0)})}return[{[r]:i,...t}]}function cx(n){const e=[],t={};for(const r in n){if(!Object.prototype.hasOwnProperty.call(n,r))continue;const s=n[r];if(!Array.isArray(s)){if(typeof s=="object"&&s){if(aT.has(za(r))){e.push(...xC(r,s));continue}t[r]=lT(s)}else t[r]=s;continue}for(const o of s)e.push(...typeof o=="string"?cx({[r]:o}):xC(r,o))}const i=nT(t,{key({key:r}){return oT(r)},value({key:r}){return r==="charset"?"charset":"content"},resolveKeyData({key:r}){return hQ(r)},resolveValueData({value:r,key:s}){return r===null?"_null":typeof r=="object"?pQ(r,s):typeof r=="number"?r.toString():r}});return[...e,...i].map(r=>(r.content==="_null"&&(r.content=null),r))}function mQ(n,e){return n instanceof Promise?n.then(e):e(n)}function f_(n,e,t,i){const r=i||uT(typeof e=="object"&&typeof e!="function"&&!(e instanceof Promise)?{...e}:{[n==="script"||n==="noscript"||n==="style"?"innerHTML":"textContent"]:e},n==="templateParams"||n==="titleTemplate");if(r instanceof Promise)return r.then(o=>f_(n,e,t,o));const s={tag:n,props:r};for(const o of rT){const a=s.props[o]!==void 0?s.props[o]:t[o];a!==void 0&&((!(o==="innerHTML"||o==="textContent"||o==="children")||cQ.has(s.tag))&&(s[o==="children"?"innerHTML":o]=a),delete s.props[o])}return s.props.body&&(s.tagPosition="bodyClose",delete s.props.body),s.tag==="script"&&typeof s.innerHTML=="object"&&(s.innerHTML=JSON.stringify(s.innerHTML),s.props.type=s.props.type||"application/json"),Array.isArray(s.props.content)?s.props.content.map(o=>({...s,props:{...s.props,content:o}})):s}function gQ(n,e){var i;const t=n==="class"?" ":";";return e&&typeof e=="object"&&!Array.isArray(e)&&(e=Object.entries(e).filter(([,r])=>r).map(([r,s])=>n==="style"?`${r}:${s}`:r)),(i=String(Array.isArray(e)?e.join(t):e))==null?void 0:i.split(t).filter(r=>!!r.trim()).join(t)}function cT(n,e,t,i){for(let r=i;r<t.length;r+=1){const s=t[r];if(s==="class"||s==="style"){n[s]=gQ(s,n[s]);continue}if(n[s]instanceof Promise)return n[s].then(o=>(n[s]=o,cT(n,e,t,r)));if(!e&&!rT.has(s)){const o=String(n[s]),a=s.startsWith("data-");o==="true"||o===""?n[s]=a?"true":!0:n[s]||(a&&o==="false"?n[s]="false":delete n[s])}}}function uT(n,e=!1){const t=cT(n,e,Object.keys(n),0);return t instanceof Promise?t.then(()=>n):n}const AQ=10;function fT(n,e,t){for(let i=t;i<e.length;i+=1){const r=e[i];if(r instanceof Promise)return r.then(s=>(e[i]=s,fT(n,e,i)));Array.isArray(r)?n.push(...r):n.push(r)}}function vQ(n){const e=[],t=n.resolvedInput;for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const s=t[r];if(!(s===void 0||!uQ.has(r))){if(Array.isArray(s)){for(const o of s)e.push(f_(r,o,n));continue}e.push(f_(r,s,n))}}if(e.length===0)return[];const i=[];return mQ(fT(i,e,0),()=>i.map((r,s)=>(r._e=n._i,n.mode&&(r._m=n.mode),r._p=(n._i<<AQ)+s,r)))}const CC=new Set(["onload","onerror","onabort","onprogress","onloadstart"]),SC={base:-10,title:10},wC={critical:-80,high:-10,low:20};function yg(n){const e=n.tagPriority;if(typeof e=="number")return e;let t=100;return n.tag==="meta"?n.props["http-equiv"]==="content-security-policy"?t=-30:n.props.charset?t=-20:n.props.name==="viewport"&&(t=-15):n.tag==="link"&&n.props.rel==="preconnect"?t=20:n.tag in SC&&(t=SC[n.tag]),e&&e in wC?t+wC[e]:t}const yQ=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}],_Q=["name","property","http-equiv"];function dT(n){const{props:e,tag:t}=n;if(fQ.has(t))return t;if(t==="link"&&e.rel==="canonical")return"canonical";if(e.charset)return"charset";if(e.id)return`${t}:id:${e.id}`;for(const i of _Q)if(e[i]!==void 0)return`${t}:${i}:${e[i]}`;return!1}const Sl="%separator";function bQ(n,e,t=!1){var r;let i;if(e==="s"||e==="pageTitle")i=n.pageTitle;else if(e.includes(".")){const s=e.indexOf(".");i=(r=n[e.substring(0,s)])==null?void 0:r[e.substring(s+1)]}else i=n[e];if(i!==void 0)return t?(i||"").replace(/"/g,'\\"'):i||""}const xQ=new RegExp(`${Sl}(?:\\s*${Sl})*`,"g");function w1(n,e,t,i=!1){if(typeof n!="string"||!n.includes("%"))return n;let r=n;try{r=decodeURI(n)}catch{}const s=r.match(/%\w+(?:\.\w+)?/g);if(!s)return n;const o=n.includes(Sl);return n=n.replace(/%\w+(?:\.\w+)?/g,a=>{if(a===Sl||!s.includes(a))return a;const l=bQ(e,a.slice(1),i);return l!==void 0?l:a}).trim(),o&&(n.endsWith(Sl)&&(n=n.slice(0,-Sl.length)),n.startsWith(Sl)&&(n=n.slice(Sl.length)),n=n.replace(xQ,t).trim()),n}function EC(n,e){return n==null?e||null:typeof n=="function"?n(e):n}async function hT(n,e={}){const t=e.document||n.resolvedOptions.document;if(!t||!n.dirty)return;const i={shouldRender:!0,tags:[]};if(await n.hooks.callHook("dom:beforeRender",i),!!i.shouldRender)return n._domUpdatePromise||(n._domUpdatePromise=new Promise(async r=>{var f;const s=(await n.resolveTags()).map(h=>({tag:h,id:Fm.has(h.tag)?c_(h):h.tag,shouldRender:!0}));let o=n._dom;if(!o){o={elMap:{htmlAttrs:t.documentElement,bodyAttrs:t.body}};const h=new Set;for(const p of["body","head"]){const m=(f=t[p])==null?void 0:f.children;for(const g of m){const A=g.tagName.toLowerCase();if(!Fm.has(A))continue;const y={tag:A,props:await uT(g.getAttributeNames().reduce((T,M)=>({...T,[M]:g.getAttribute(M)}),{})),innerHTML:g.innerHTML},x=dT(y);let b=x,_=1;for(;b&&h.has(b);)b=`${x}:${_++}`;b&&(y._d=b,h.add(b)),o.elMap[g.getAttribute("data-hid")||c_(y)]=g}}}o.pendingSideEffects={...o.sideEffects},o.sideEffects={};function a(h,p,m){const g=`${h}:${p}`;o.sideEffects[g]=m,delete o.pendingSideEffects[g]}function l({id:h,$el:p,tag:m}){const g=m.tag.endsWith("Attrs");if(o.elMap[h]=p,g||(m.textContent&&m.textContent!==p.textContent&&(p.textContent=m.textContent),m.innerHTML&&m.innerHTML!==p.innerHTML&&(p.innerHTML=m.innerHTML),a(h,"el",()=>{var A;(A=o.elMap[h])==null||A.remove(),delete o.elMap[h]})),m._eventHandlers)for(const A in m._eventHandlers)Object.prototype.hasOwnProperty.call(m._eventHandlers,A)&&p.getAttribute(`data-${A}`)!==""&&((m.tag==="bodyAttrs"?t.defaultView:p).addEventListener(A.substring(2),m._eventHandlers[A].bind(p)),p.setAttribute(`data-${A}`,""));for(const A in m.props){if(!Object.prototype.hasOwnProperty.call(m.props,A))continue;const y=m.props[A],x=`attr:${A}`;if(A==="class"){if(!y)continue;for(const b of y.split(" "))g&&a(h,`${x}:${b}`,()=>p.classList.remove(b)),!p.classList.contains(b)&&p.classList.add(b)}else if(A==="style"){if(!y)continue;for(const b of y.split(";")){const _=b.indexOf(":"),T=b.substring(0,_).trim(),M=b.substring(_+1).trim();a(h,`${x}:${T}`,()=>{p.style.removeProperty(T)}),p.style.setProperty(T,M)}}else p.getAttribute(A)!==y&&p.setAttribute(A,y===!0?"":String(y)),g&&a(h,x,()=>p.removeAttribute(A))}}const c=[],u={bodyClose:void 0,bodyOpen:void 0,head:void 0};for(const h of s){const{tag:p,shouldRender:m,id:g}=h;if(m){if(p.tag==="title"){t.title=p.textContent;continue}h.$el=h.$el||o.elMap[g],h.$el?l(h):Fm.has(p.tag)&&c.push(h)}}for(const h of c){const p=h.tag.tagPosition||"head";h.$el=t.createElement(h.tag.tag),l(h),u[p]=u[p]||t.createDocumentFragment(),u[p].appendChild(h.$el)}for(const h of s)await n.hooks.callHook("dom:renderTag",h,t,a);u.head&&t.head.appendChild(u.head),u.bodyOpen&&t.body.insertBefore(u.bodyOpen,t.body.firstChild),u.bodyClose&&t.body.appendChild(u.bodyClose);for(const h in o.pendingSideEffects)o.pendingSideEffects[h]();n._dom=o,await n.hooks.callHook("dom:rendered",{renders:s}),r()}).finally(()=>{n._domUpdatePromise=void 0,n.dirty=!1})),n._domUpdatePromise}function CQ(n,e={}){const t=e.delayFn||(i=>setTimeout(i,10));return n._domDebouncedUpdatePromise=n._domDebouncedUpdatePromise||new Promise(i=>t(()=>hT(n,e).then(()=>{delete n._domDebouncedUpdatePromise,i()})))}function SQ(n){return e=>{var i,r;const t=((r=(i=e.resolvedOptions.document)==null?void 0:i.head.querySelector('script[id="unhead:payload"]'))==null?void 0:r.innerHTML)||!1;return t&&e.push(JSON.parse(t)),{mode:"client",hooks:{"entries:updated":s=>{CQ(s,n)}}}}}const wQ=new Set(["templateParams","htmlAttrs","bodyAttrs"]),EQ={hooks:{"tag:normalise":({tag:n})=>{n.props.hid&&(n.key=n.props.hid,delete n.props.hid),n.props.vmid&&(n.key=n.props.vmid,delete n.props.vmid),n.props.key&&(n.key=n.props.key,delete n.props.key);const e=dT(n);e&&!e.startsWith("meta:og:")&&!e.startsWith("meta:twitter:")&&delete n.key;const t=e||(n.key?`${n.tag}:${n.key}`:!1);t&&(n._d=t)},"tags:resolve":n=>{const e=Object.create(null);for(const i of n.tags){const r=(i.key?`${i.tag}:${i.key}`:i._d)||c_(i),s=e[r];if(s){let a=i==null?void 0:i.tagDuplicateStrategy;if(!a&&wQ.has(i.tag)&&(a="merge"),a==="merge"){const l=s.props;l.style&&i.props.style&&(l.style[l.style.length-1]!==";"&&(l.style+=";"),i.props.style=`${l.style} ${i.props.style}`),l.class&&i.props.class?i.props.class=`${l.class} ${i.props.class}`:l.class&&(i.props.class=l.class),e[r].props={...l,...i.props};continue}else if(i._e===s._e){s._duped=s._duped||[],i._d=`${s._d}:${s._duped.length+1}`,s._duped.push(i);continue}else if(yg(i)>yg(s))continue}if(!(i.innerHTML||i.textContent||Object.keys(i.props).length!==0)&&Fm.has(i.tag)){delete e[r];continue}e[r]=i}const t=[];for(const i in e){const r=e[i],s=r._duped;t.push(r),s&&(delete r._duped,t.push(...s))}n.tags=t,n.tags=n.tags.filter(i=>!(i.tag==="meta"&&(i.props.name||i.props.property)&&!i.props.content))}}},TQ=new Set(["script","link","bodyAttrs"]),MQ=n=>({hooks:{"tags:resolve":e=>{for(const t of e.tags){if(!TQ.has(t.tag))continue;const i=t.props;for(const r in i){if(r[0]!=="o"||r[1]!=="n"||!Object.prototype.hasOwnProperty.call(i,r))continue;const s=i[r];typeof s=="function"&&(n.ssr&&CC.has(r)?i[r]=`this.dataset.${r}fired = true`:delete i[r],t._eventHandlers=t._eventHandlers||{},t._eventHandlers[r]=s)}n.ssr&&t._eventHandlers&&(t.props.src||t.props.href)&&(t.key=t.key||vg(t.props.src||t.props.href))}},"dom:renderTag":({$el:e,tag:t})=>{var r,s;const i=e==null?void 0:e.dataset;if(i)for(const o in i){if(!o.endsWith("fired"))continue;const a=o.slice(0,-5);CC.has(a)&&((s=(r=t._eventHandlers)==null?void 0:r[a])==null||s.call(e,new Event(a.substring(2))))}}}}),IQ=new Set(["link","style","script","noscript"]),DQ={hooks:{"tag:normalise":({tag:n})=>{n.key&&IQ.has(n.tag)&&(n.props["data-hid"]=n._h=vg(n.key))}}},PQ={mode:"server",hooks:{"tags:beforeResolve":n=>{const e={};let t=!1;for(const i of n.tags)i._m!=="server"||i.tag!=="titleTemplate"&&i.tag!=="templateParams"&&i.tag!=="title"||(e[i.tag]=i.tag==="title"||i.tag==="titleTemplate"?i.textContent:i.props,t=!0);t&&n.tags.push({tag:"script",innerHTML:JSON.stringify(e),props:{id:"unhead:payload",type:"application/json"}})}}},RQ={hooks:{"tags:resolve":n=>{var e;for(const t of n.tags)if(typeof t.tagPriority=="string")for(const{prefix:i,offset:r}of yQ){if(!t.tagPriority.startsWith(i))continue;const s=t.tagPriority.substring(i.length),o=(e=n.tags.find(a=>a._d===s))==null?void 0:e._p;if(o!==void 0){t._p=o+r;break}}n.tags.sort((t,i)=>{const r=yg(t),s=yg(i);return r<s?-1:r>s?1:t._p-i._p})}}},BQ={meta:"content",link:"href",htmlAttrs:"lang"},LQ=["innerHTML","textContent"],FQ=n=>({hooks:{"tags:resolve":e=>{var o;const{tags:t}=e;let i;for(let a=0;a<t.length;a+=1)t[a].tag==="templateParams"&&(i=e.tags.splice(a,1)[0].props,a-=1);const r=i||{},s=r.separator||"|";delete r.separator,r.pageTitle=w1(r.pageTitle||((o=t.find(a=>a.tag==="title"))==null?void 0:o.textContent)||"",r,s);for(const a of t){if(a.processTemplateParams===!1)continue;const l=BQ[a.tag];if(l&&typeof a.props[l]=="string")a.props[l]=w1(a.props[l],r,s);else if(a.processTemplateParams||a.tag==="titleTemplate"||a.tag==="title")for(const c of LQ)typeof a[c]=="string"&&(a[c]=w1(a[c],r,s,a.tag==="script"&&a.props.type.endsWith("json")))}n._templateParams=r,n._separator=s},"tags:afterResolve":({tags:e})=>{let t;for(let i=0;i<e.length;i+=1){const r=e[i];r.tag==="title"&&r.processTemplateParams!==!1&&(t=r)}t!=null&&t.textContent&&(t.textContent=w1(t.textContent,n._templateParams,n._separator))}}}),OQ={hooks:{"tags:resolve":n=>{const{tags:e}=n;let t,i;for(let r=0;r<e.length;r+=1){const s=e[r];s.tag==="title"?t=s:s.tag==="titleTemplate"&&(i=s)}if(i&&t){const r=EC(i.textContent,t.textContent);r!==null?t.textContent=r||t.textContent:n.tags.splice(n.tags.indexOf(t),1)}else if(i){const r=EC(i.textContent);r!==null&&(i.textContent=r,i.tag="title",i=void 0)}i&&n.tags.splice(n.tags.indexOf(i),1)}}},UQ={hooks:{"tags:afterResolve":n=>{for(const e of n.tags)typeof e.innerHTML=="string"&&(e.innerHTML&&(e.props.type==="application/ld+json"||e.props.type==="application/json")?e.innerHTML=e.innerHTML.replace(/</g,"\\u003C"):e.innerHTML=e.innerHTML.replace(new RegExp(`</${e.tag}`,"g"),`<\\/${e.tag}`))}}};let pT;function NQ(n={}){const e=kQ(n);return e.use(SQ()),pT=e}function TC(n,e){return!n||n==="server"&&e||n==="client"&&!e}function kQ(n={}){const e=Y7();e.addHooks(n.hooks||{}),n.document=n.document||(dQ?document:void 0);const t=!n.document,i=()=>{a.dirty=!0,e.callHook("entries:updated",a)};let r=0,s=[];const o=[],a={plugins:o,dirty:!1,resolvedOptions:n,hooks:e,headEntries(){return s},use(l){const c=typeof l=="function"?l(a):l;(!c.key||!o.some(u=>u.key===c.key))&&(o.push(c),TC(c.mode,t)&&e.addHooks(c.hooks||{}))},push(l,c){c==null||delete c.head;const u={_i:r++,input:l,...c};return TC(u.mode,t)&&(s.push(u),i()),{dispose(){s=s.filter(f=>f._i!==u._i),i()},patch(f){for(const h of s)h._i===u._i&&(h.input=u.input=f);i()}}},async resolveTags(){const l={tags:[],entries:[...s]};await e.callHook("entries:resolve",l);for(const c of l.entries){const u=c.resolvedInput||c.input;if(c.resolvedInput=await(c.transform?c.transform(u):u),c.resolvedInput)for(const f of await vQ(c)){const h={tag:f,entry:c,resolvedOptions:a.resolvedOptions};await e.callHook("tag:normalise",h),l.tags.push(h.tag)}}return await e.callHook("tags:beforeResolve",l),await e.callHook("tags:resolve",l),await e.callHook("tags:afterResolve",l),l.tags},ssr:t};return[EQ,PQ,MQ,DQ,RQ,FQ,OQ,UQ,...(n==null?void 0:n.plugins)||[]].forEach(l=>a.use(l)),a.hooks.callHook("init",a),a}function zQ(){return pT}const HQ=R7[0]==="3";function VQ(n){return typeof n=="function"?n():qt(n)}function _g(n){if(n instanceof Promise||n instanceof Date||n instanceof RegExp)return n;const e=VQ(n);if(!n||!e)return e;if(Array.isArray(e))return e.map(t=>_g(t));if(typeof e=="object"){const t={};for(const i in e)if(Object.prototype.hasOwnProperty.call(e,i)){if(i==="titleTemplate"||i[0]==="o"&&i[1]==="n"){t[i]=qt(e[i]);continue}t[i]=_g(e[i])}return t}return e}const GQ={hooks:{"entries:resolve":n=>{for(const e of n.entries)e.resolvedInput=_g(e.input)}}},mT="usehead";function QQ(n){return{install(t){HQ&&(t.config.globalProperties.$unhead=n,t.config.globalProperties.$head=n,t.provide(mT,n))}}.install}function jQ(n={}){n.domDelayFn=n.domDelayFn||(t=>el(()=>setTimeout(()=>t(),0)));const e=NQ(n);return e.use(GQ),e.install=QQ(e),e}const d_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},h_="__unhead_injection_handler__";function WQ(n){d_[h_]=n}function qQ(){return h_ in d_?d_[h_]():es(mT)||zQ()}function gT(n,e={}){const t=e.head||qQ();if(t)return t.ssr?t.push(n,e):XQ(t,n,e)}function XQ(n,e,t={}){const i=gt(!1),r=gt({});sA(()=>{r.value=i.value?{}:_g(e)});const s=n.push(r.value,t);return oi(r,a=>{s.patch(a)}),Ro()&&(xp(()=>{s.dispose()}),W6(()=>{i.value=!0}),j6(()=>{i.value=!1})),s}function YQ(n,e){const{title:t,titleTemplate:i,...r}=n;return gT({title:t,titleTemplate:i,_flatMeta:r},{...e,transform(s){const o=cx({...s._flatMeta});return delete s._flatMeta,{...s,meta:o}}})}const $Q="modulepreload",KQ=function(n,e){return new URL(n,e).href},MC={},wr=function(e,t,i){let r=Promise.resolve();if(t&&t.length>0){const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),l=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));r=Promise.allSettled(t.map(c=>{if(c=KQ(c,i),c in MC)return;MC[c]=!0;const u=c.endsWith(".css"),f=u?'[rel="stylesheet"]':"";if(!!i)for(let m=o.length-1;m>=0;m--){const g=o[m];if(g.href===c&&(!u||g.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${c}"]${f}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":$Q,u||(p.as="script"),p.crossOrigin="",p.href=c,l&&p.setAttribute("nonce",l),document.head.appendChild(p),u)return new Promise((m,g)=>{p.addEventListener("load",m),p.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return r.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};let Om,Um;function ZQ(){return Om=$fetch(ax(`builds/meta/${Bu().app.buildId}.json`),{responseType:"json"}),Om.then(n=>{Um=GG(n.matcher)}).catch(n=>{console.error("[nuxt] Error fetching app manifest.",n)}),Om}function mA(){return Om||ZQ()}async function ux(n){const e=typeof n=="string"?n:n.path;if(await mA(),!Um)return console.error("[nuxt] Error creating app manifest matcher.",Um),{};try{return fA({},...Um.matchAll(e).reverse())}catch(t){return console.error("[nuxt] Error matching route rules.",t),{}}}async function IC(n,e={}){const t=await ej(n,e),i=Tn(),r=i._payloadCache=i._payloadCache||{};return t in r?r[t]||null:(r[t]=vT(n).then(s=>s?AT(t).then(o=>o||(delete r[t],null)):(r[t]=null,null)),r[t])}const JQ="_payload.json";async function ej(n,e={}){const t=new URL(n,"http://localhost");if(t.host!=="localhost"||na(t.pathname,{acceptRelative:!0}))throw new Error("Payload URL must not include hostname: "+n);const i=Bu(),r=e.hash||(e.fresh?Date.now():i.app.buildId),s=i.app.cdnURL,o=s&&await vT(n)?s:i.app.baseURL;return uA(o,t.pathname,JQ+(r?`?${r}`:""))}async function AT(n){const e=fetch(n).then(t=>t.text().then(yT));try{return await e}catch(t){console.warn("[nuxt] Cannot load payload ",n,t)}return null}async function vT(n=hA().path){const e=Tn();return n=cA(n),(await mA()).prerendered.includes(n)?!0:e.runWithContext(async()=>{const i=await ux({path:n});return!!i.prerender&&!i.redirect})}let Fc=null;async function tj(){var i;if(Fc)return Fc;const n=document.getElementById("__NUXT_DATA__");if(!n)return{};const e=await yT(n.textContent||""),t=n.dataset.src?await AT(n.dataset.src):void 0;return Fc={...e,...t,...window.__NUXT__},(i=Fc.config)!=null&&i.public&&(Fc.config.public=ro(Fc.config.public)),Fc}async function yT(n){return await aQ(n,Tn()._payloadRevivers)}function nj(n,e){Tn()._payloadRevivers[n]=e}const ij=[["NuxtError",n=>Cp(n)],["EmptyShallowRef",n=>ds(n==="_"?void 0:n==="0n"?BigInt(0):dg(n))],["EmptyRef",n=>gt(n==="_"?void 0:n==="0n"?BigInt(0):dg(n))],["ShallowRef",n=>ds(n)],["ShallowReactive",n=>Ua(n)],["Ref",n=>gt(n)],["Reactive",n=>ro(n)]],rj=so({name:"nuxt:revive-payload:client",order:-30,async setup(n){let e,t;for(const[i,r]of ij)nj(i,r);Object.assign(n.payload,([e,t]=qf(()=>n.runWithContext(tj)),e=await e,t(),e)),window.__NUXT__=n.payload}}),sj=[],oj=so({name:"nuxt:head",enforce:"pre",setup(n){const e=jQ({plugins:sj});WQ(()=>Tn().vueApp._context.provides.usehead),n.vueApp.use(e);{let t=!0;const i=async()=>{t=!1,await hT(e)};e.hooks.hook("dom:beforeRender",r=>{r.shouldRender=!t}),n.hooks.hook("page:start",()=>{t=!0}),n.hooks.hook("page:finish",()=>{n.isHydrating||i()}),n.hooks.hook("app:error",i),n.hooks.hook("app:suspense:resolve",i)}}});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Sf=typeof document<"u";function _T(n){return typeof n=="object"||"displayName"in n||"props"in n||"__vccOpts"in n}function aj(n){return n.__esModule||n[Symbol.toStringTag]==="Module"||n.default&&_T(n.default)}const hn=Object.assign;function L2(n,e){const t={};for(const i in e){const r=e[i];t[i]=To(r)?r.map(n):n(r)}return t}const o0=()=>{},To=Array.isArray,bT=/#/g,lj=/&/g,cj=/\//g,uj=/=/g,fj=/\?/g,xT=/\+/g,dj=/%5B/g,hj=/%5D/g,CT=/%5E/g,pj=/%60/g,ST=/%7B/g,mj=/%7C/g,wT=/%7D/g,gj=/%20/g;function fx(n){return encodeURI(""+n).replace(mj,"|").replace(dj,"[").replace(hj,"]")}function Aj(n){return fx(n).replace(ST,"{").replace(wT,"}").replace(CT,"^")}function p_(n){return fx(n).replace(xT,"%2B").replace(gj,"+").replace(bT,"%23").replace(lj,"%26").replace(pj,"`").replace(ST,"{").replace(wT,"}").replace(CT,"^")}function vj(n){return p_(n).replace(uj,"%3D")}function yj(n){return fx(n).replace(bT,"%23").replace(fj,"%3F")}function _j(n){return n==null?"":yj(n).replace(cj,"%2F")}function O0(n){try{return decodeURIComponent(""+n)}catch{}return""+n}const bj=/\/$/,xj=n=>n.replace(bj,"");function F2(n,e,t="/"){let i,r={},s="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(i=e.slice(0,l),s=e.slice(l+1,a>-1?a:e.length),r=n(s)),a>-1&&(i=i||e.slice(0,a),o=e.slice(a,e.length)),i=Ej(i??e,t),{fullPath:i+(s&&"?")+s+o,path:i,query:r,hash:O0(o)}}function Cj(n,e){const t=e.query?n(e.query):"";return e.path+(t&&"?")+t+(e.hash||"")}function DC(n,e){return!e||!n.toLowerCase().startsWith(e.toLowerCase())?n:n.slice(e.length)||"/"}function Sj(n,e,t){const i=e.matched.length-1,r=t.matched.length-1;return i>-1&&i===r&&pd(e.matched[i],t.matched[r])&&ET(e.params,t.params)&&n(e.query)===n(t.query)&&e.hash===t.hash}function pd(n,e){return(n.aliasOf||n)===(e.aliasOf||e)}function ET(n,e){if(Object.keys(n).length!==Object.keys(e).length)return!1;for(const t in n)if(!wj(n[t],e[t]))return!1;return!0}function wj(n,e){return To(n)?PC(n,e):To(e)?PC(e,n):n===e}function PC(n,e){return To(e)?n.length===e.length&&n.every((t,i)=>t===e[i]):n.length===1&&n[0]===e}function Ej(n,e){if(n.startsWith("/"))return n;if(!n)return e;const t=e.split("/"),i=n.split("/"),r=i[i.length-1];(r===".."||r===".")&&i.push("");let s=t.length-1,o,a;for(o=0;o<i.length;o++)if(a=i[o],a!==".")if(a==="..")s>1&&s--;else break;return t.slice(0,s).join("/")+"/"+i.slice(o).join("/")}const go={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var U0;(function(n){n.pop="pop",n.push="push"})(U0||(U0={}));var a0;(function(n){n.back="back",n.forward="forward",n.unknown=""})(a0||(a0={}));function Tj(n){if(!n)if(Sf){const e=document.querySelector("base");n=e&&e.getAttribute("href")||"/",n=n.replace(/^\w+:\/\/[^\/]+/,"")}else n="/";return n[0]!=="/"&&n[0]!=="#"&&(n="/"+n),xj(n)}const Mj=/^[^#]+#/;function Ij(n,e){return n.replace(Mj,"#")+e}function Dj(n,e){const t=document.documentElement.getBoundingClientRect(),i=n.getBoundingClientRect();return{behavior:e.behavior,left:i.left-t.left-(e.left||0),top:i.top-t.top-(e.top||0)}}const gA=()=>({left:window.scrollX,top:window.scrollY});function Pj(n){let e;if("el"in n){const t=n.el,i=typeof t=="string"&&t.startsWith("#"),r=typeof t=="string"?i?document.getElementById(t.slice(1)):document.querySelector(t):t;if(!r)return;e=Dj(r,n)}else e=n;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function RC(n,e){return(history.state?history.state.position-e:-1)+n}const m_=new Map;function Rj(n,e){m_.set(n,e)}function Bj(n){const e=m_.get(n);return m_.delete(n),e}let Lj=()=>location.protocol+"//"+location.host;function TT(n,e){const{pathname:t,search:i,hash:r}=e,s=n.indexOf("#");if(s>-1){let a=r.includes(n.slice(s))?n.slice(s).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),DC(l,"")}return DC(t,n)+i+r}function Fj(n,e,t,i){let r=[],s=[],o=null;const a=({state:h})=>{const p=TT(n,location),m=t.value,g=e.value;let A=0;if(h){if(t.value=p,e.value=h,o&&o===m){o=null;return}A=g?h.position-g.position:0}else i(p);r.forEach(y=>{y(t.value,m,{delta:A,type:U0.pop,direction:A?A>0?a0.forward:a0.back:a0.unknown})})};function l(){o=t.value}function c(h){r.push(h);const p=()=>{const m=r.indexOf(h);m>-1&&r.splice(m,1)};return s.push(p),p}function u(){const{history:h}=window;h.state&&h.replaceState(hn({},h.state,{scroll:gA()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:f}}function BC(n,e,t,i=!1,r=!1){return{back:n,current:e,forward:t,replaced:i,position:window.history.length,scroll:r?gA():null}}function Oj(n){const{history:e,location:t}=window,i={value:TT(n,t)},r={value:e.state};r.value||s(i.value,{back:null,current:i.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(l,c,u){const f=n.indexOf("#"),h=f>-1?(t.host&&document.querySelector("base")?n:n.slice(f))+l:Lj()+n+l;try{e[u?"replaceState":"pushState"](c,"",h),r.value=c}catch(p){console.error(p),t[u?"replace":"assign"](h)}}function o(l,c){const u=hn({},e.state,BC(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});s(l,u,!0),i.value=l}function a(l,c){const u=hn({},r.value,e.state,{forward:l,scroll:gA()});s(u.current,u,!0);const f=hn({},BC(i.value,l,null),{position:u.position+1},c);s(l,f,!1),i.value=l}return{location:i,state:r,push:a,replace:o}}function Uj(n){n=Tj(n);const e=Oj(n),t=Fj(n,e.state,e.location,e.replace);function i(s,o=!0){o||t.pauseListeners(),history.go(s)}const r=hn({location:"",base:n,go:i,createHref:Ij.bind(null,n)},e,t);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Nj(n){return typeof n=="string"||n&&typeof n=="object"}function MT(n){return typeof n=="string"||typeof n=="symbol"}const IT=Symbol("");var LC;(function(n){n[n.aborted=4]="aborted",n[n.cancelled=8]="cancelled",n[n.duplicated=16]="duplicated"})(LC||(LC={}));function md(n,e){return hn(new Error,{type:n,[IT]:!0},e)}function Aa(n,e){return n instanceof Error&&IT in n&&(e==null||!!(n.type&e))}const FC="[^/]+?",kj={sensitive:!1,strict:!1,start:!0,end:!0},zj=/[.+*?^${}()[\]/\\]/g;function Hj(n,e){const t=hn({},kj,e),i=[];let r=t.start?"^":"";const s=[];for(const c of n){const u=c.length?[]:[90];t.strict&&!c.length&&(r+="/");for(let f=0;f<c.length;f++){const h=c[f];let p=40+(t.sensitive?.25:0);if(h.type===0)f||(r+="/"),r+=h.value.replace(zj,"\\$&"),p+=40;else if(h.type===1){const{value:m,repeatable:g,optional:A,regexp:y}=h;s.push({name:m,repeatable:g,optional:A});const x=y||FC;if(x!==FC){p+=10;try{new RegExp(`(${x})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${m}" (${x}): `+_.message)}}let b=g?`((?:${x})(?:/(?:${x}))*)`:`(${x})`;f||(b=A&&c.length<2?`(?:/${b})`:"/"+b),A&&(b+="?"),r+=b,p+=20,A&&(p+=-8),g&&(p+=-20),x===".*"&&(p+=-50)}u.push(p)}i.push(u)}if(t.strict&&t.end){const c=i.length-1;i[c][i[c].length-1]+=.7000000000000001}t.strict||(r+="/?"),t.end?r+="$":t.strict&&!r.endsWith("/")&&(r+="(?:/|$)");const o=new RegExp(r,t.sensitive?"":"i");function a(c){const u=c.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const p=u[h]||"",m=s[h-1];f[m.name]=p&&m.repeatable?p.split("/"):p}return f}function l(c){let u="",f=!1;for(const h of n){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const p of h)if(p.type===0)u+=p.value;else if(p.type===1){const{value:m,repeatable:g,optional:A}=p,y=m in c?c[m]:"";if(To(y)&&!g)throw new Error(`Provided param "${m}" is an array but it is not repeatable (* or + modifiers)`);const x=To(y)?y.join("/"):y;if(!x)if(A)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${m}"`);u+=x}}return u||"/"}return{re:o,score:i,keys:s,parse:a,stringify:l}}function Vj(n,e){let t=0;for(;t<n.length&&t<e.length;){const i=e[t]-n[t];if(i)return i;t++}return n.length<e.length?n.length===1&&n[0]===80?-1:1:n.length>e.length?e.length===1&&e[0]===80?1:-1:0}function DT(n,e){let t=0;const i=n.score,r=e.score;for(;t<i.length&&t<r.length;){const s=Vj(i[t],r[t]);if(s)return s;t++}if(Math.abs(r.length-i.length)===1){if(OC(i))return 1;if(OC(r))return-1}return r.length-i.length}function OC(n){const e=n[n.length-1];return n.length>0&&e[e.length-1]<0}const Gj={type:0,value:""},Qj=/[a-zA-Z0-9_]/;function jj(n){if(!n)return[[]];if(n==="/")return[[Gj]];if(!n.startsWith("/"))throw new Error(`Invalid path "${n}"`);function e(p){throw new Error(`ERR (${t})/"${c}": ${p}`)}let t=0,i=t;const r=[];let s;function o(){s&&r.push(s),s=[]}let a=0,l,c="",u="";function f(){c&&(t===0?s.push({type:0,value:c}):t===1||t===2||t===3?(s.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=l}for(;a<n.length;){if(l=n[a++],l==="\\"&&t!==2){i=t,t=4;continue}switch(t){case 0:l==="/"?(c&&f(),o()):l===":"?(f(),t=1):h();break;case 4:h(),t=i;break;case 1:l==="("?t=2:Qj.test(l)?h():(f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:t=3:u+=l;break;case 3:f(),t=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return t===2&&e(`Unfinished custom RegExp for param "${c}"`),f(),o(),r}function Wj(n,e,t){const i=Hj(jj(n.path),t),r=hn(i,{record:n,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function qj(n,e){const t=[],i=new Map;e=zC({strict:!1,end:!0,sensitive:!1},e);function r(f){return i.get(f)}function s(f,h,p){const m=!p,g=NC(f);g.aliasOf=p&&p.record;const A=zC(e,f),y=[g];if("alias"in f){const _=typeof f.alias=="string"?[f.alias]:f.alias;for(const T of _)y.push(NC(hn({},g,{components:p?p.record.components:g.components,path:T,aliasOf:p?p.record:g})))}let x,b;for(const _ of y){const{path:T}=_;if(h&&T[0]!=="/"){const M=h.record.path,I=M[M.length-1]==="/"?"":"/";_.path=h.record.path+(T&&I+T)}if(x=Wj(_,h,A),p?p.alias.push(x):(b=b||x,b!==x&&b.alias.push(x),m&&f.name&&!kC(x)&&o(f.name)),PT(x)&&l(x),g.children){const M=g.children;for(let I=0;I<M.length;I++)s(M[I],x,p&&p.children[I])}p=p||x}return b?()=>{o(b)}:o0}function o(f){if(MT(f)){const h=i.get(f);h&&(i.delete(f),t.splice(t.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=t.indexOf(f);h>-1&&(t.splice(h,1),f.record.name&&i.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return t}function l(f){const h=$j(f,t);t.splice(h,0,f),f.record.name&&!kC(f)&&i.set(f.record.name,f)}function c(f,h){let p,m={},g,A;if("name"in f&&f.name){if(p=i.get(f.name),!p)throw md(1,{location:f});A=p.record.name,m=hn(UC(h.params,p.keys.filter(b=>!b.optional).concat(p.parent?p.parent.keys.filter(b=>b.optional):[]).map(b=>b.name)),f.params&&UC(f.params,p.keys.map(b=>b.name))),g=p.stringify(m)}else if(f.path!=null)g=f.path,p=t.find(b=>b.re.test(g)),p&&(m=p.parse(g),A=p.record.name);else{if(p=h.name?i.get(h.name):t.find(b=>b.re.test(h.path)),!p)throw md(1,{location:f,currentLocation:h});A=p.record.name,m=hn({},h.params,f.params),g=p.stringify(m)}const y=[];let x=p;for(;x;)y.unshift(x.record),x=x.parent;return{name:A,path:g,params:m,matched:y,meta:Yj(y)}}n.forEach(f=>s(f));function u(){t.length=0,i.clear()}return{addRoute:s,resolve:c,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:r}}function UC(n,e){const t={};for(const i of e)i in n&&(t[i]=n[i]);return t}function NC(n){const e={path:n.path,redirect:n.redirect,name:n.name,meta:n.meta||{},aliasOf:n.aliasOf,beforeEnter:n.beforeEnter,props:Xj(n),children:n.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in n?n.components||null:n.component&&{default:n.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function Xj(n){const e={},t=n.props||!1;if("component"in n)e.default=t;else for(const i in n.components)e[i]=typeof t=="object"?t[i]:t;return e}function kC(n){for(;n;){if(n.record.aliasOf)return!0;n=n.parent}return!1}function Yj(n){return n.reduce((e,t)=>hn(e,t.meta),{})}function zC(n,e){const t={};for(const i in n)t[i]=i in e?e[i]:n[i];return t}function $j(n,e){let t=0,i=e.length;for(;t!==i;){const s=t+i>>1;DT(n,e[s])<0?i=s:t=s+1}const r=Kj(n);return r&&(i=e.lastIndexOf(r,i-1)),i}function Kj(n){let e=n;for(;e=e.parent;)if(PT(e)&&DT(n,e)===0)return e}function PT({record:n}){return!!(n.name||n.components&&Object.keys(n.components).length||n.redirect)}function Zj(n){const e={};if(n===""||n==="?")return e;const i=(n[0]==="?"?n.slice(1):n).split("&");for(let r=0;r<i.length;++r){const s=i[r].replace(xT," "),o=s.indexOf("="),a=O0(o<0?s:s.slice(0,o)),l=o<0?null:O0(s.slice(o+1));if(a in e){let c=e[a];To(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function HC(n){let e="";for(let t in n){const i=n[t];if(t=vj(t),i==null){i!==void 0&&(e+=(e.length?"&":"")+t);continue}(To(i)?i.map(s=>s&&p_(s)):[i&&p_(i)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+t,s!=null&&(e+="="+s))})}return e}function Jj(n){const e={};for(const t in n){const i=n[t];i!==void 0&&(e[t]=To(i)?i.map(r=>r==null?null:""+r):i==null?i:""+i)}return e}const eW=Symbol(""),VC=Symbol(""),dx=Symbol(""),RT=Symbol(""),g_=Symbol("");function gh(){let n=[];function e(i){return n.push(i),()=>{const r=n.indexOf(i);r>-1&&n.splice(r,1)}}function t(){n=[]}return{add:e,list:()=>n.slice(),reset:t}}function wl(n,e,t,i,r,s=o=>o()){const o=i&&(i.enterCallbacks[r]=i.enterCallbacks[r]||[]);return()=>new Promise((a,l)=>{const c=h=>{h===!1?l(md(4,{from:t,to:e})):h instanceof Error?l(h):Nj(h)?l(md(2,{from:e,to:h})):(o&&i.enterCallbacks[r]===o&&typeof h=="function"&&o.push(h),a())},u=s(()=>n.call(i&&i.instances[r],e,t,c));let f=Promise.resolve(u);n.length<3&&(f=f.then(c)),f.catch(h=>l(h))})}function O2(n,e,t,i,r=s=>s()){const s=[];for(const o of n)for(const a in o.components){let l=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(_T(l)){const u=(l.__vccOpts||l)[e];u&&s.push(wl(u,t,i,o,a,r))}else{let c=l();s.push(()=>c.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=aj(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const p=(f.__vccOpts||f)[e];return p&&wl(p,t,i,o,a,r)()}))}}return s}function GC(n){const e=es(dx),t=es(RT),i=ni(()=>{const l=qt(n.to);return e.resolve(l)}),r=ni(()=>{const{matched:l}=i.value,{length:c}=l,u=l[c-1],f=t.matched;if(!u||!f.length)return-1;const h=f.findIndex(pd.bind(null,u));if(h>-1)return h;const p=QC(l[c-2]);return c>1&&QC(u)===p&&f[f.length-1].path!==p?f.findIndex(pd.bind(null,l[c-2])):h}),s=ni(()=>r.value>-1&&sW(t.params,i.value.params)),o=ni(()=>r.value>-1&&r.value===t.matched.length-1&&ET(t.params,i.value.params));function a(l={}){if(rW(l)){const c=e[qt(n.replace)?"replace":"push"](qt(n.to)).catch(o0);return n.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>c),c}return Promise.resolve()}return{route:i,href:ni(()=>i.value.href),isActive:s,isExactActive:o,navigate:a}}function tW(n){return n.length===1?n[0]:n}const nW=vs({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:GC,setup(n,{slots:e}){const t=ro(GC(n)),{options:i}=es(dx),r=ni(()=>({[jC(n.activeClass,i.linkActiveClass,"router-link-active")]:t.isActive,[jC(n.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active")]:t.isExactActive}));return()=>{const s=e.default&&tW(e.default(t));return n.custom?s:Mr("a",{"aria-current":t.isExactActive?n.ariaCurrentValue:null,href:t.href,onClick:t.navigate,class:r.value},s)}}}),iW=nW;function rW(n){if(!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)&&!n.defaultPrevented&&!(n.button!==void 0&&n.button!==0)){if(n.currentTarget&&n.currentTarget.getAttribute){const e=n.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return n.preventDefault&&n.preventDefault(),!0}}function sW(n,e){for(const t in e){const i=e[t],r=n[t];if(typeof i=="string"){if(i!==r)return!1}else if(!To(r)||r.length!==i.length||i.some((s,o)=>s!==r[o]))return!1}return!0}function QC(n){return n?n.aliasOf?n.aliasOf.path:n.path:""}const jC=(n,e,t)=>n??e??t,oW=vs({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(n,{attrs:e,slots:t}){const i=es(g_),r=ni(()=>n.route||i.value),s=es(VC,0),o=ni(()=>{let c=qt(s);const{matched:u}=r.value;let f;for(;(f=u[c])&&!f.components;)c++;return c}),a=ni(()=>r.value.matched[o.value]);Ga(VC,ni(()=>o.value+1)),Ga(eW,a),Ga(g_,r);const l=gt();return oi(()=>[l.value,a.value,n.name],([c,u,f],[h,p,m])=>{u&&(u.instances[f]=c,p&&p!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=p.leaveGuards),u.updateGuards.size||(u.updateGuards=p.updateGuards))),c&&u&&(!p||!pd(u,p)||!h)&&(u.enterCallbacks[f]||[]).forEach(g=>g(c))},{flush:"post"}),()=>{const c=r.value,u=n.name,f=a.value,h=f&&f.components[u];if(!h)return WC(t.default,{Component:h,route:c});const p=f.props[u],m=p?p===!0?c.params:typeof p=="function"?p(c):p:null,A=Mr(h,hn({},m,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(f.instances[u]=null)},ref:l}));return WC(t.default,{Component:A,route:c})||A}}});function WC(n,e){if(!n)return null;const t=n(e);return t.length===1?t[0]:t}const BT=oW;function aW(n){const e=qj(n.routes,n),t=n.parseQuery||Zj,i=n.stringifyQuery||HC,r=n.history,s=gh(),o=gh(),a=gh(),l=ds(go);let c=go;Sf&&n.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=L2.bind(null,J=>""+J),f=L2.bind(null,_j),h=L2.bind(null,O0);function p(J,ye){let Se,be;return MT(J)?(Se=e.getRecordMatcher(J),be=ye):be=J,e.addRoute(be,Se)}function m(J){const ye=e.getRecordMatcher(J);ye&&e.removeRoute(ye)}function g(){return e.getRoutes().map(J=>J.record)}function A(J){return!!e.getRecordMatcher(J)}function y(J,ye){if(ye=hn({},ye||l.value),typeof J=="string"){const R=F2(t,J,ye.path),le=e.resolve({path:R.path},ye),_e=r.createHref(R.fullPath);return hn(R,le,{params:h(le.params),hash:O0(R.hash),redirectedFrom:void 0,href:_e})}let Se;if(J.path!=null)Se=hn({},J,{path:F2(t,J.path,ye.path).path});else{const R=hn({},J.params);for(const le in R)R[le]==null&&delete R[le];Se=hn({},J,{params:f(R)}),ye.params=f(ye.params)}const be=e.resolve(Se,ye),qe=J.hash||"";be.params=u(h(be.params));const rt=Cj(i,hn({},J,{hash:Aj(qe),path:be.path})),W=r.createHref(rt);return hn({fullPath:rt,hash:qe,query:i===HC?Jj(J.query):J.query||{}},be,{redirectedFrom:void 0,href:W})}function x(J){return typeof J=="string"?F2(t,J,l.value.path):hn({},J)}function b(J,ye){if(c!==J)return md(8,{from:ye,to:J})}function _(J){return I(J)}function T(J){return _(hn(x(J),{replace:!0}))}function M(J){const ye=J.matched[J.matched.length-1];if(ye&&ye.redirect){const{redirect:Se}=ye;let be=typeof Se=="function"?Se(J):Se;return typeof be=="string"&&(be=be.includes("?")||be.includes("#")?be=x(be):{path:be},be.params={}),hn({query:J.query,hash:J.hash,params:be.path!=null?{}:J.params},be)}}function I(J,ye){const Se=c=y(J),be=l.value,qe=J.state,rt=J.force,W=J.replace===!0,R=M(Se);if(R)return I(hn(x(R),{state:typeof R=="object"?hn({},qe,R.state):qe,force:rt,replace:W}),ye||Se);const le=Se;le.redirectedFrom=ye;let _e;return!rt&&Sj(i,be,Se)&&(_e=md(16,{to:le,from:be}),ve(be,be,!0,!1)),(_e?Promise.resolve(_e):E(le,be)).catch(K=>Aa(K)?Aa(K,2)?K:Q(K):j(K,le,be)).then(K=>{if(K){if(Aa(K,2))return I(hn({replace:W},x(K.to),{state:typeof K.to=="object"?hn({},qe,K.to.state):qe,force:rt}),ye||le)}else K=F(le,be,!0,W,qe);return O(le,be,K),K})}function P(J,ye){const Se=b(J,ye);return Se?Promise.reject(Se):Promise.resolve()}function w(J){const ye=re.values().next().value;return ye&&typeof ye.runWithContext=="function"?ye.runWithContext(J):J()}function E(J,ye){let Se;const[be,qe,rt]=lW(J,ye);Se=O2(be.reverse(),"beforeRouteLeave",J,ye);for(const R of be)R.leaveGuards.forEach(le=>{Se.push(wl(le,J,ye))});const W=P.bind(null,J,ye);return Se.push(W),Oe(Se).then(()=>{Se=[];for(const R of s.list())Se.push(wl(R,J,ye));return Se.push(W),Oe(Se)}).then(()=>{Se=O2(qe,"beforeRouteUpdate",J,ye);for(const R of qe)R.updateGuards.forEach(le=>{Se.push(wl(le,J,ye))});return Se.push(W),Oe(Se)}).then(()=>{Se=[];for(const R of rt)if(R.beforeEnter)if(To(R.beforeEnter))for(const le of R.beforeEnter)Se.push(wl(le,J,ye));else Se.push(wl(R.beforeEnter,J,ye));return Se.push(W),Oe(Se)}).then(()=>(J.matched.forEach(R=>R.enterCallbacks={}),Se=O2(rt,"beforeRouteEnter",J,ye,w),Se.push(W),Oe(Se))).then(()=>{Se=[];for(const R of o.list())Se.push(wl(R,J,ye));return Se.push(W),Oe(Se)}).catch(R=>Aa(R,8)?R:Promise.reject(R))}function O(J,ye,Se){a.list().forEach(be=>w(()=>be(J,ye,Se)))}function F(J,ye,Se,be,qe){const rt=b(J,ye);if(rt)return rt;const W=ye===go,R=Sf?history.state:{};Se&&(be||W?r.replace(J.fullPath,hn({scroll:W&&R&&R.scroll},qe)):r.push(J.fullPath,qe)),l.value=J,ve(J,ye,Se,W),Q()}let H;function z(){H||(H=r.listen((J,ye,Se)=>{if(!he.listening)return;const be=y(J),qe=M(be);if(qe){I(hn(qe,{replace:!0,force:!0}),be).catch(o0);return}c=be;const rt=l.value;Sf&&Rj(RC(rt.fullPath,Se.delta),gA()),E(be,rt).catch(W=>Aa(W,12)?W:Aa(W,2)?(I(hn(x(W.to),{force:!0}),be).then(R=>{Aa(R,20)&&!Se.delta&&Se.type===U0.pop&&r.go(-1,!1)}).catch(o0),Promise.reject()):(Se.delta&&r.go(-Se.delta,!1),j(W,be,rt))).then(W=>{W=W||F(be,rt,!1),W&&(Se.delta&&!Aa(W,8)?r.go(-Se.delta,!1):Se.type===U0.pop&&Aa(W,20)&&r.go(-1,!1)),O(be,rt,W)}).catch(o0)}))}let X=gh(),U=gh(),G;function j(J,ye,Se){Q(J);const be=U.list();return be.length?be.forEach(qe=>qe(J,ye,Se)):console.error(J),Promise.reject(J)}function Y(){return G&&l.value!==go?Promise.resolve():new Promise((J,ye)=>{X.add([J,ye])})}function Q(J){return G||(G=!J,z(),X.list().forEach(([ye,Se])=>J?Se(J):ye()),X.reset()),J}function ve(J,ye,Se,be){const{scrollBehavior:qe}=n;if(!Sf||!qe)return Promise.resolve();const rt=!Se&&Bj(RC(J.fullPath,0))||(be||!Se)&&history.state&&history.state.scroll||null;return el().then(()=>qe(J,ye,rt)).then(W=>W&&Pj(W)).catch(W=>j(W,J,ye))}const Pe=J=>r.go(J);let He;const re=new Set,he={currentRoute:l,listening:!0,addRoute:p,removeRoute:m,clearRoutes:e.clearRoutes,hasRoute:A,getRoutes:g,resolve:y,options:n,push:_,replace:T,go:Pe,back:()=>Pe(-1),forward:()=>Pe(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:U.add,isReady:Y,install(J){const ye=this;J.component("RouterLink",iW),J.component("RouterView",BT),J.config.globalProperties.$router=ye,Object.defineProperty(J.config.globalProperties,"$route",{enumerable:!0,get:()=>qt(l)}),Sf&&!He&&l.value===go&&(He=!0,_(r.location).catch(qe=>{}));const Se={};for(const qe in go)Object.defineProperty(Se,qe,{get:()=>l.value[qe],enumerable:!0});J.provide(dx,ye),J.provide(RT,Ua(Se)),J.provide(g_,l);const be=J.unmount;re.add(J),J.unmount=function(){re.delete(J),re.size<1&&(c=go,H&&H(),H=null,l.value=go,He=!1,G=!1),be()}}};function Oe(J){return J.reduce((ye,Se)=>ye.then(()=>w(Se)),Promise.resolve())}return he}function lW(n,e){const t=[],i=[],r=[],s=Math.max(e.matched.length,n.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(n.matched.find(c=>pd(c,a))?i.push(a):t.push(a));const l=n.matched[o];l&&(e.matched.find(c=>pd(c,l))||r.push(l))}return[t,i,r]}const cW=/(:\w+)\([^)]+\)/g,uW=/(:\w+)[?+*]/g,fW=/:\w+/g,dW=(n,e)=>e.path.replace(cW,"$1").replace(uW,"$1").replace(fW,t=>{var i;return((i=n.params[t.slice(1)])==null?void 0:i.toString())||""}),A_=(n,e)=>{const t=n.route.matched.find(r=>{var s;return((s=r.components)==null?void 0:s.default)===n.Component.type}),i=e??(t==null?void 0:t.meta.key)??(t&&dW(n.route,t));return typeof i=="function"?i(n.route):i},hW=(n,e)=>({default:()=>n?Mr(nH,n===!0?{}:n,e):e});function hx(n){return Array.isArray(n)?n:[n]}const U2=[{name:"index",path:"/",component:()=>wr(()=>import("./D6qhrOfX.js"),__vite__mapDeps([0,1,2,3,4]),import.meta.url)},{name:"kitchen-sink",path:"/kitchen-sink",component:()=>wr(()=>import("./DRBGaOBB.js"),__vite__mapDeps([5,2,3,1,6]),import.meta.url)},{name:"legal-notice",path:"/legal-notice",component:()=>wr(()=>import("./CMB5x8l7.js"),__vite__mapDeps([7,6,1,8,9]),import.meta.url)},{name:"put-your-hand-in-the-box-the-spirit-of-blueyard",path:"/put-your-hand-in-the-box-the-spirit-of-blueyard",component:()=>wr(()=>import("./CXBm_WyW.js"),__vite__mapDeps([10,6,1,8]),import.meta.url)}],pW=(n,e)=>({default:()=>{var t;return n?Mr(tV,n===!0?{}:n,e):(t=e.default)==null?void 0:t.call(e)}}),mW=/(:\w+)\([^)]+\)/g,gW=/(:\w+)[?+*]/g,AW=/:\w+/g;function qC(n){const e=(n==null?void 0:n.meta.key)??n.path.replace(mW,"$1").replace(gW,"$1").replace(AW,t=>{var i;return((i=n.params[t.slice(1)])==null?void 0:i.toString())||""});return typeof e=="function"?e(n):e}function vW(n,e){return n===e||e===go?!1:qC(n)!==qC(e)?!0:!n.matched.every((i,r)=>{var s,o;return i.components&&i.components.default===((o=(s=e.matched[r])==null?void 0:s.components)==null?void 0:o.default)})}const yW={scrollBehavior(n,e,t){var c;const i=Tn(),r=((c=As().options)==null?void 0:c.scrollBehaviorType)??"auto";let s=t||void 0;const o=typeof n.meta.scrollToTop=="function"?n.meta.scrollToTop(n,e):n.meta.scrollToTop;if(!s&&e&&n&&o!==!1&&vW(n,e)&&(s={left:0,top:0}),n.path===e.path)return e.hash&&!n.hash?{left:0,top:0}:n.hash?{el:n.hash,top:XC(n.hash),behavior:r}:!1;const a=u=>!!(u.meta.pageTransition??i_),l=a(e)&&a(n)?"page:transition:finish":"page:finish";return new Promise(u=>{i.hooks.hookOnce(l,async()=>{await new Promise(f=>setTimeout(f,0)),n.hash&&(s={el:n.hash,top:XC(n.hash),behavior:r}),u(s)})})}};function XC(n){try{const e=document.querySelector(n);if(e)return(Number.parseFloat(getComputedStyle(e).scrollMarginTop)||0)+(Number.parseFloat(getComputedStyle(document.documentElement).scrollPaddingTop)||0)}catch{}return 0}const _W={hashMode:!1,scrollBehaviorType:"auto"},Qs={..._W,...yW},bW=async n=>{var l;let e,t;if(!((l=n.meta)!=null&&l.validate))return;const i=Tn(),r=As(),s=([e,t]=qf(()=>Promise.resolve(n.meta.validate(n))),e=await e,t(),e);if(s===!0)return;const o=Cp({statusCode:s&&s.statusCode||404,statusMessage:s&&s.statusMessage||`Page Not Found: ${n.fullPath}`,data:{path:n.fullPath}}),a=r.beforeResolve(c=>{if(a(),c===n){const u=r.afterEach(async()=>{u(),await i.runWithContext(()=>Rf(o)),window==null||window.history.pushState({},"",n.fullPath)});return!1}})};function Ea(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function LT(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Os={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},gd={duration:.5,overwrite:!1,delay:0},px,fr,Yn,Zo=1e8,Ir=1/Zo,v_=Math.PI*2,xW=v_/4,CW=0,FT=Math.sqrt,SW=Math.cos,wW=Math.sin,er=function(e){return typeof e=="string"},di=function(e){return typeof e=="function"},Xa=function(e){return typeof e=="number"},mx=function(e){return typeof e>"u"},ta=function(e){return typeof e=="object"},hs=function(e){return e!==!1},gx=function(){return typeof window<"u"},E1=function(e){return di(e)||er(e)},OT=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Dr=Array.isArray,y_=/(?:-?\.?\d|\.)+/gi,UT=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Bf=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,N2=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,NT=/[+-]=-?[.\d]+/,kT=/[^,'"\[\]\s]+/gi,EW=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,ii,Vo,__,Ax,Us={},bg={},zT,HT=function(e){return(bg=Ad(e,Us))&&Br},vx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},N0=function(e,t){return!t&&console.warn(e)},VT=function(e,t){return e&&(Us[e]=t)&&bg&&(bg[e]=t)||Us},k0=function(){return 0},TW={suppressEvents:!0,isStart:!0,kill:!1},Nm={suppressEvents:!0,kill:!1},MW={suppressEvents:!0},yx={},jl=[],b_={},GT,Is={},k2={},YC=30,km=[],_x="",bx=function(e){var t=e[0],i,r;if(ta(t)||di(t)||(e=[e]),!(i=(t._gsap||{}).harness)){for(r=km.length;r--&&!km[r].targetTest(t););i=km[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new hM(e[r],i)))||e.splice(r,1);return e},pu=function(e){return e._gsap||bx(eo(e))[0]._gsap},QT=function(e,t,i){return(i=e[t])&&di(i)?e[t]():mx(i)&&e.getAttribute&&e.getAttribute(t)||i},ps=function(e,t){return(e=e.split(",")).forEach(t)||e},_i=function(e){return Math.round(e*1e5)/1e5||0},Mi=function(e){return Math.round(e*1e7)/1e7||0},Xf=function(e,t){var i=t.charAt(0),r=parseFloat(t.substr(2));return e=parseFloat(e),i==="+"?e+r:i==="-"?e-r:i==="*"?e*r:e/r},IW=function(e,t){for(var i=t.length,r=0;e.indexOf(t[r])<0&&++r<i;);return r<i},xg=function(){var e=jl.length,t=jl.slice(0),i,r;for(b_={},jl.length=0,i=0;i<e;i++)r=t[i],r&&r._lazy&&(r.render(r._lazy[0],r._lazy[1],!0)._lazy=0)},jT=function(e,t,i,r){jl.length&&!fr&&xg(),e.render(t,i,fr&&t<0&&(e._initted||e._startAt)),jl.length&&!fr&&xg()},WT=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(kT).length<2?t:er(e)?e.trim():e},qT=function(e){return e},Ns=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},DW=function(e){return function(t,i){for(var r in i)r in t||r==="duration"&&e||r==="ease"||(t[r]=i[r])}},Ad=function(e,t){for(var i in t)e[i]=t[i];return e},$C=function n(e,t){for(var i in t)i!=="__proto__"&&i!=="constructor"&&i!=="prototype"&&(e[i]=ta(t[i])?n(e[i]||(e[i]={}),t[i]):t[i]);return e},Cg=function(e,t){var i={},r;for(r in e)r in t||(i[r]=e[r]);return i},l0=function(e){var t=e.parent||ii,i=e.keyframes?DW(Dr(e.keyframes)):Ns;if(hs(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent||t._dp;return e},PW=function(e,t){for(var i=e.length,r=i===t.length;r&&i--&&e[i]===t[i];);return i<0},XT=function(e,t,i,r,s){var o=e[r],a;if(s)for(a=t[s];o&&o[s]>a;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[r]=t,t._prev=o,t.parent=t._dp=e,t},AA=function(e,t,i,r){i===void 0&&(i="_first"),r===void 0&&(r="_last");var s=t._prev,o=t._next;s?s._next=o:e[i]===t&&(e[i]=o),o?o._prev=s:e[r]===t&&(e[r]=s),t._next=t._prev=t.parent=null},Zl=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},mu=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var i=e;i;)i._dirty=1,i=i.parent;return e},RW=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},x_=function(e,t,i,r){return e._startAt&&(fr?e._startAt.revert(Nm):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,r))},BW=function n(e){return!e||e._ts&&n(e.parent)},KC=function(e){return e._repeat?vd(e._tTime,e=e.duration()+e._rDelay)*e:0},vd=function(e,t){var i=Math.floor(e=Mi(e/t));return e&&i===e?i-1:i},Sg=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},vA=function(e){return e._end=Mi(e._start+(e._tDur/Math.abs(e._ts||e._rts||Ir)||0))},yA=function(e,t){var i=e._dp;return i&&i.smoothChildTiming&&e._ts&&(e._start=Mi(i._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),vA(e),i._dirty||mu(i,e)),e},YT=function(e,t){var i;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(i=Sg(e.rawTime(),t),(!t._dur||Sp(0,t.totalDuration(),i)-t._tTime>Ir)&&t.render(i,!0)),mu(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(i=e;i._dp;)i.rawTime()>=0&&i.totalTime(i._tTime),i=i._dp;e._zTime=-1e-8}},jo=function(e,t,i,r){return t.parent&&Zl(t),t._start=Mi((Xa(i)?i:i||e!==ii?Ws(e,i,t):e._time)+t._delay),t._end=Mi(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),XT(e,t,"_first","_last",e._sort?"_start":0),C_(t)||(e._recent=t),r||YT(e,t),e._ts<0&&yA(e,e._tTime),e},$T=function(e,t){return(Us.ScrollTrigger||vx("scrollTrigger",t))&&Us.ScrollTrigger.create(t,e)},KT=function(e,t,i,r,s){if(Cx(e,t,s),!e._initted)return 1;if(!i&&e._pt&&!fr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&GT!==Rs.frame)return jl.push(e),e._lazy=[s,r],1},LW=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},C_=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},FW=function(e,t,i,r){var s=e.ratio,o=t<0||!t&&(!e._start&&LW(e)&&!(!e._initted&&C_(e))||(e._ts<0||e._dp._ts<0)&&!C_(e))?0:1,a=e._rDelay,l=0,c,u,f;if(a&&e._repeat&&(l=Sp(0,e._tDur,t),u=vd(l,a),e._yoyo&&u&1&&(o=1-o),u!==vd(e._tTime,a)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||fr||r||e._zTime===Ir||!t&&e._zTime){if(!e._initted&&KT(e,t,r,i,l))return;for(f=e._zTime,e._zTime=t||(i?Ir:0),i||(i=t&&!f),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,c=e._pt;c;)c.r(o,c.d),c=c._next;t<0&&x_(e,t,i,!0),e._onUpdate&&!i&&Ls(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&Ls(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&Zl(e,1),!i&&!fr&&(Ls(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},OW=function(e,t,i){var r;if(i>t)for(r=e._first;r&&r._start<=i;){if(r.data==="isPause"&&r._start>t)return r;r=r._next}else for(r=e._last;r&&r._start>=i;){if(r.data==="isPause"&&r._start<t)return r;r=r._prev}},yd=function(e,t,i,r){var s=e._repeat,o=Mi(t)||0,a=e._tTime/e._tDur;return a&&!r&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:Mi(o*(s+1)+e._rDelay*s):o,a>0&&!r&&yA(e,e._tTime=e._tDur*a),e.parent&&vA(e),i||mu(e.parent,e),e},ZC=function(e){return e instanceof $r?mu(e):yd(e,e._dur)},UW={_start:0,endTime:k0,totalDuration:k0},Ws=function n(e,t,i){var r=e.labels,s=e._recent||UW,o=e.duration()>=Zo?s.endTime(!1):e._dur,a,l,c;return er(t)&&(isNaN(t)||t in r)?(l=t.charAt(0),c=t.substr(-1)==="%",a=t.indexOf("="),l==="<"||l===">"?(a>=0&&(t=t.replace(/=/,"")),(l==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(a<0?s:i).totalDuration()/100:1)):a<0?(t in r||(r[t]=o),r[t]):(l=parseFloat(t.charAt(a-1)+t.substr(a+1)),c&&i&&(l=l/100*(Dr(i)?i[0]:i).totalDuration()),a>1?n(e,t.substr(0,a-1),i)+l:o+l)):t==null?o:+t},c0=function(e,t,i){var r=Xa(t[1]),s=(r?2:1)+(e<2?0:1),o=t[s],a,l;if(r&&(o.duration=t[1]),o.parent=i,e){for(a=o,l=i;l&&!("immediateRender"in a);)a=l.vars.defaults||{},l=hs(l.vars.inherit)&&l.parent;o.immediateRender=hs(a.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Ti(t[0],o,t[s+1])},sc=function(e,t){return e||e===0?t(e):t},Sp=function(e,t,i){return i<e?e:i>t?t:i},Er=function(e,t){return!er(e)||!(t=EW.exec(e))?"":t[1]},NW=function(e,t,i){return sc(i,function(r){return Sp(e,t,r)})},S_=[].slice,ZT=function(e,t){return e&&ta(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&ta(e[0]))&&!e.nodeType&&e!==Vo},kW=function(e,t,i){return i===void 0&&(i=[]),e.forEach(function(r){var s;return er(r)&&!t||ZT(r,1)?(s=i).push.apply(s,eo(r)):i.push(r)})||i},eo=function(e,t,i){return Yn&&!t&&Yn.selector?Yn.selector(e):er(e)&&!i&&(__||!_d())?S_.call((t||Ax).querySelectorAll(e),0):Dr(e)?kW(e,i):ZT(e)?S_.call(e,0):e?[e]:[]},w_=function(e){return e=eo(e)[0]||N0("Invalid scope")||{},function(t){var i=e.current||e.nativeElement||e;return eo(t,i.querySelectorAll?i:i===e?N0("Invalid scope")||Ax.createElement("div"):e)}},JT=function(e){return e.sort(function(){return .5-Math.random()})},eM=function(e){if(di(e))return e;var t=ta(e)?e:{each:e},i=gu(t.ease),r=t.from||0,s=parseFloat(t.base)||0,o={},a=r>0&&r<1,l=isNaN(r)||a,c=t.axis,u=r,f=r;return er(r)?u=f={center:.5,edges:.5,end:1}[r]||0:!a&&l&&(u=r[0],f=r[1]),function(h,p,m){var g=(m||t).length,A=o[g],y,x,b,_,T,M,I,P,w;if(!A){if(w=t.grid==="auto"?0:(t.grid||[1,Zo])[1],!w){for(I=-1e8;I<(I=m[w++].getBoundingClientRect().left)&&w<g;);w<g&&w--}for(A=o[g]=[],y=l?Math.min(w,g)*u-.5:r%w,x=w===Zo?0:l?g*f/w-.5:r/w|0,I=0,P=Zo,M=0;M<g;M++)b=M%w-y,_=x-(M/w|0),A[M]=T=c?Math.abs(c==="y"?_:b):FT(b*b+_*_),T>I&&(I=T),T<P&&(P=T);r==="random"&&JT(A),A.max=I-P,A.min=P,A.v=g=(parseFloat(t.amount)||parseFloat(t.each)*(w>g?g-1:c?c==="y"?g/w:w:Math.max(w,g/w))||0)*(r==="edges"?-1:1),A.b=g<0?s-g:s,A.u=Er(t.amount||t.each)||0,i=i&&g<0?uM(i):i}return g=(A[h]-A.min)/A.max||0,Mi(A.b+(i?i(g):g)*A.v)+A.u}},E_=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(i){var r=Mi(Math.round(parseFloat(i)/e)*e*t);return(r-r%1)/t+(Xa(i)?0:Er(i))}},tM=function(e,t){var i=Dr(e),r,s;return!i&&ta(e)&&(r=i=e.radius||Zo,e.values?(e=eo(e.values),(s=!Xa(e[0]))&&(r*=r)):e=E_(e.increment)),sc(t,i?di(e)?function(o){return s=e(o),Math.abs(s-o)<=r?s:o}:function(o){for(var a=parseFloat(s?o.x:o),l=parseFloat(s?o.y:0),c=Zo,u=0,f=e.length,h,p;f--;)s?(h=e[f].x-a,p=e[f].y-l,h=h*h+p*p):h=Math.abs(e[f]-a),h<c&&(c=h,u=f);return u=!r||c<=r?e[u]:o,s||u===o||Xa(o)?u:u+Er(o)}:E_(e))},nM=function(e,t,i,r){return sc(Dr(e)?!t:i===!0?!!(i=0):!r,function(){return Dr(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(r=i<1?Math.pow(10,(i+"").length-2):1)&&Math.floor(Math.round((e-i/2+Math.random()*(t-e+i*.99))/i)*i*r)/r})},zW=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(r){return t.reduce(function(s,o){return o(s)},r)}},HW=function(e,t){return function(i){return e(parseFloat(i))+(t||Er(i))}},VW=function(e,t,i){return rM(e,t,0,1,i)},iM=function(e,t,i){return sc(i,function(r){return e[~~t(r)]})},GW=function n(e,t,i){var r=t-e;return Dr(e)?iM(e,n(0,e.length),t):sc(i,function(s){return(r+(s-e)%r)%r+e})},QW=function n(e,t,i){var r=t-e,s=r*2;return Dr(e)?iM(e,n(0,e.length-1),t):sc(i,function(o){return o=(s+(o-e)%s)%s||0,e+(o>r?s-o:o)})},z0=function(e){for(var t=0,i="",r,s,o,a;~(r=e.indexOf("random(",t));)o=e.indexOf(")",r),a=e.charAt(r+7)==="[",s=e.substr(r+7,o-r-7).match(a?kT:y_),i+=e.substr(t,r-t)+nM(a?s:+s[0],a?0:+s[1],+s[2]||1e-5),t=o+1;return i+e.substr(t,e.length-t)},rM=function(e,t,i,r,s){var o=t-e,a=r-i;return sc(s,function(l){return i+((l-e)/o*a||0)})},jW=function n(e,t,i,r){var s=isNaN(e+t)?0:function(p){return(1-p)*e+p*t};if(!s){var o=er(e),a={},l,c,u,f,h;if(i===!0&&(r=1)&&(i=null),o)e={p:e},t={p:t};else if(Dr(e)&&!Dr(t)){for(u=[],f=e.length,h=f-2,c=1;c<f;c++)u.push(n(e[c-1],e[c]));f--,s=function(m){m*=f;var g=Math.min(h,~~m);return u[g](m-g)},i=t}else r||(e=Ad(Dr(e)?[]:{},e));if(!u){for(l in t)xx.call(a,e,l,"get",t[l]);s=function(m){return Ex(m,a)||(o?e.p:e)}}}return sc(i,s)},JC=function(e,t,i){var r=e.labels,s=Zo,o,a,l;for(o in r)a=r[o]-t,a<0==!!i&&a&&s>(a=Math.abs(a))&&(l=o,s=a);return l},Ls=function(e,t,i){var r=e.vars,s=r[t],o=Yn,a=e._ctx,l,c,u;if(s)return l=r[t+"Params"],c=r.callbackScope||e,i&&jl.length&&xg(),a&&(Yn=a),u=l?s.apply(c,l):s.call(c),Yn=o,u},Hh=function(e){return Zl(e),e.scrollTrigger&&e.scrollTrigger.kill(!!fr),e.progress()<1&&Ls(e,"onInterrupt"),e},Lf,sM=[],oM=function(e){if(e)if(e=!e.name&&e.default||e,gx()||e.headless){var t=e.name,i=di(e),r=t&&!i&&e.init?function(){this._props=[]}:e,s={init:k0,render:Ex,add:xx,kill:aq,modifier:oq,rawVars:0},o={targetTest:0,get:0,getSetter:wx,aliases:{},register:0};if(_d(),e!==r){if(Is[t])return;Ns(r,Ns(Cg(e,s),o)),Ad(r.prototype,Ad(s,Cg(e,o))),Is[r.prop=t]=r,e.targetTest&&(km.push(r),yx[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}VT(t,r),e.register&&e.register(Br,r,ms)}else sM.push(e)},Dn=255,Vh={aqua:[0,Dn,Dn],lime:[0,Dn,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Dn],navy:[0,0,128],white:[Dn,Dn,Dn],olive:[128,128,0],yellow:[Dn,Dn,0],orange:[Dn,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Dn,0,0],pink:[Dn,192,203],cyan:[0,Dn,Dn],transparent:[Dn,Dn,Dn,0]},z2=function(e,t,i){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(i-t)*e*6:e<.5?i:e*3<2?t+(i-t)*(2/3-e)*6:t)*Dn+.5|0},aM=function(e,t,i){var r=e?Xa(e)?[e>>16,e>>8&Dn,e&Dn]:0:Vh.black,s,o,a,l,c,u,f,h,p,m;if(!r){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),Vh[e])r=Vh[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),a=e.charAt(3),e="#"+s+s+o+o+a+a+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return r=parseInt(e.substr(1,6),16),[r>>16,r>>8&Dn,r&Dn,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),r=[e>>16,e>>8&Dn,e&Dn]}else if(e.substr(0,3)==="hsl"){if(r=m=e.match(y_),!t)l=+r[0]%360/360,c=+r[1]/100,u=+r[2]/100,o=u<=.5?u*(c+1):u+c-u*c,s=u*2-o,r.length>3&&(r[3]*=1),r[0]=z2(l+1/3,s,o),r[1]=z2(l,s,o),r[2]=z2(l-1/3,s,o);else if(~e.indexOf("="))return r=e.match(UT),i&&r.length<4&&(r[3]=1),r}else r=e.match(y_)||Vh.transparent;r=r.map(Number)}return t&&!m&&(s=r[0]/Dn,o=r[1]/Dn,a=r[2]/Dn,f=Math.max(s,o,a),h=Math.min(s,o,a),u=(f+h)/2,f===h?l=c=0:(p=f-h,c=u>.5?p/(2-f-h):p/(f+h),l=f===s?(o-a)/p+(o<a?6:0):f===o?(a-s)/p+2:(s-o)/p+4,l*=60),r[0]=~~(l+.5),r[1]=~~(c*100+.5),r[2]=~~(u*100+.5)),i&&r.length<4&&(r[3]=1),r},lM=function(e){var t=[],i=[],r=-1;return e.split(Wl).forEach(function(s){var o=s.match(Bf)||[];t.push.apply(t,o),i.push(r+=o.length+1)}),t.c=i,t},eS=function(e,t,i){var r="",s=(e+r).match(Wl),o=t?"hsla(":"rgba(",a=0,l,c,u,f;if(!s)return e;if(s=s.map(function(h){return(h=aM(h,t,1))&&o+(t?h[0]+","+h[1]+"%,"+h[2]+"%,"+h[3]:h.join(","))+")"}),i&&(u=lM(e),l=i.c,l.join(r)!==u.c.join(r)))for(c=e.replace(Wl,"1").split(Bf),f=c.length-1;a<f;a++)r+=c[a]+(~l.indexOf(a)?s.shift()||o+"0,0,0,0)":(u.length?u:s.length?s:i).shift());if(!c)for(c=e.split(Wl),f=c.length-1;a<f;a++)r+=c[a]+s[a];return r+c[f]},Wl=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in Vh)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),WW=/hsl[a]?\(/,cM=function(e){var t=e.join(" "),i;if(Wl.lastIndex=0,Wl.test(t))return i=WW.test(t),e[1]=eS(e[1],i),e[0]=eS(e[0],i,lM(e[1])),!0},H0,Rs=function(){var n=Date.now,e=500,t=33,i=n(),r=i,s=1e3/240,o=s,a=[],l,c,u,f,h,p,m=function g(A){var y=n()-r,x=A===!0,b,_,T,M;if((y>e||y<0)&&(i+=y-t),r+=y,T=r-i,b=T-o,(b>0||x)&&(M=++f.frame,h=T-f.time*1e3,f.time=T=T/1e3,o+=b+(b>=s?4:s-b),_=1),x||(l=c(g)),_)for(p=0;p<a.length;p++)a[p](T,h,M,A)};return f={time:0,frame:0,tick:function(){m(!0)},deltaRatio:function(A){return h/(1e3/(A||60))},wake:function(){zT&&(!__&&gx()&&(Vo=__=window,Ax=Vo.document||{},Us.gsap=Br,(Vo.gsapVersions||(Vo.gsapVersions=[])).push(Br.version),HT(bg||Vo.GreenSockGlobals||!Vo.gsap&&Vo||{}),sM.forEach(oM)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,l&&f.sleep(),c=u||function(A){return setTimeout(A,o-f.time*1e3+1|0)},H0=1,m(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(l),H0=0,c=k0},lagSmoothing:function(A,y){e=A||1/0,t=Math.min(y||33,e)},fps:function(A){s=1e3/(A||240),o=f.time*1e3+s},add:function(A,y,x){var b=y?function(_,T,M,I){A(_,T,M,I),f.remove(b)}:A;return f.remove(A),a[x?"unshift":"push"](b),_d(),b},remove:function(A,y){~(y=a.indexOf(A))&&a.splice(y,1)&&p>=y&&p--},_listeners:a},f}(),_d=function(){return!H0&&Rs.wake()},Jt={},qW=/^[\d.\-M][\d.\-,\s]/,XW=/["']/g,YW=function(e){for(var t={},i=e.substr(1,e.length-3).split(":"),r=i[0],s=1,o=i.length,a,l,c;s<o;s++)l=i[s],a=s!==o-1?l.lastIndexOf(","):l.length,c=l.substr(0,a),t[r]=isNaN(c)?c.replace(XW,"").trim():+c,r=l.substr(a+1).trim();return t},$W=function(e){var t=e.indexOf("(")+1,i=e.indexOf(")"),r=e.indexOf("(",t);return e.substring(t,~r&&r<i?e.indexOf(")",i+1):i)},KW=function(e){var t=(e+"").split("("),i=Jt[t[0]];return i&&t.length>1&&i.config?i.config.apply(null,~e.indexOf("{")?[YW(t[1])]:$W(e).split(",").map(WT)):Jt._CE&&qW.test(e)?Jt._CE("",e):i},uM=function(e){return function(t){return 1-e(1-t)}},fM=function n(e,t){for(var i=e._first,r;i;)i instanceof $r?n(i,t):i.vars.yoyoEase&&(!i._yoyo||!i._repeat)&&i._yoyo!==t&&(i.timeline?n(i.timeline,t):(r=i._ease,i._ease=i._yEase,i._yEase=r,i._yoyo=t)),i=i._next},gu=function(e,t){return e&&(di(e)?e:Jt[e]||KW(e))||t},Lu=function(e,t,i,r){i===void 0&&(i=function(l){return 1-t(1-l)}),r===void 0&&(r=function(l){return l<.5?t(l*2)/2:1-t((1-l)*2)/2});var s={easeIn:t,easeOut:i,easeInOut:r},o;return ps(e,function(a){Jt[a]=Us[a]=s,Jt[o=a.toLowerCase()]=i;for(var l in s)Jt[o+(l==="easeIn"?".in":l==="easeOut"?".out":".inOut")]=Jt[a+"."+l]=s[l]}),s},dM=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},H2=function n(e,t,i){var r=t>=1?t:1,s=(i||(e?.3:.45))/(t<1?t:1),o=s/v_*(Math.asin(1/r)||0),a=function(u){return u===1?1:r*Math.pow(2,-10*u)*wW((u-o)*s)+1},l=e==="out"?a:e==="in"?function(c){return 1-a(1-c)}:dM(a);return s=v_/s,l.config=function(c,u){return n(e,c,u)},l},V2=function n(e,t){t===void 0&&(t=1.70158);var i=function(o){return o?--o*o*((t+1)*o+t)+1:0},r=e==="out"?i:e==="in"?function(s){return 1-i(1-s)}:dM(i);return r.config=function(s){return n(e,s)},r};ps("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;Lu(n+",Power"+(t-1),e?function(i){return Math.pow(i,t)}:function(i){return i},function(i){return 1-Math.pow(1-i,t)},function(i){return i<.5?Math.pow(i*2,t)/2:1-Math.pow((1-i)*2,t)/2})});Jt.Linear.easeNone=Jt.none=Jt.Linear.easeIn;Lu("Elastic",H2("in"),H2("out"),H2());(function(n,e){var t=1/e,i=2*t,r=2.5*t,s=function(a){return a<t?n*a*a:a<i?n*Math.pow(a-1.5/e,2)+.75:a<r?n*(a-=2.25/e)*a+.9375:n*Math.pow(a-2.625/e,2)+.984375};Lu("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);Lu("Expo",function(n){return Math.pow(2,10*(n-1))*n+n*n*n*n*n*n*(1-n)});Lu("Circ",function(n){return-(FT(1-n*n)-1)});Lu("Sine",function(n){return n===1?1:-SW(n*xW)+1});Lu("Back",V2("in"),V2("out"),V2());Jt.SteppedEase=Jt.steps=Us.SteppedEase={config:function(e,t){e===void 0&&(e=1);var i=1/e,r=e+(t?0:1),s=t?1:0,o=1-Ir;return function(a){return((r*Sp(0,o,a)|0)+s)*i}}};gd.ease=Jt["quad.out"];ps("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return _x+=n+","+n+"Params,"});var hM=function(e,t){this.id=CW++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:QT,this.set=t?t.getSetter:wx},V0=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,yd(this,+t.duration,1,1),this.data=t.data,Yn&&(this._ctx=Yn,Yn.data.push(this)),H0||Rs.wake()}var e=n.prototype;return e.delay=function(i){return i||i===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+i-this._delay),this._delay=i,this):this._delay},e.duration=function(i){return arguments.length?this.totalDuration(this._repeat>0?i+(i+this._rDelay)*this._repeat:i):this.totalDuration()&&this._dur},e.totalDuration=function(i){return arguments.length?(this._dirty=0,yd(this,this._repeat<0?i:(i-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(i,r){if(_d(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(yA(this,i),!s._dp||s.parent||YT(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&i<this._tDur||this._ts<0&&i>0||!this._tDur&&!i)&&jo(this._dp,this,this._start-this._delay)}return(this._tTime!==i||!this._dur&&!r||this._initted&&Math.abs(this._zTime)===Ir||!i&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=i),jT(this,i,r)),this},e.time=function(i,r){return arguments.length?this.totalTime(Math.min(this.totalDuration(),i+KC(this))%(this._dur+this._rDelay)||(i?this._dur:0),r):this._time},e.totalProgress=function(i,r){return arguments.length?this.totalTime(this.totalDuration()*i,r):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>=0&&this._initted?1:0},e.progress=function(i,r){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-i:i)+KC(this),r):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(i,r){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(i-1)*s,r):this._repeat?vd(this._tTime,s)+1:1},e.timeScale=function(i,r){if(!arguments.length)return this._rts===-1e-8?0:this._rts;if(this._rts===i)return this;var s=this.parent&&this._ts?Sg(this.parent._time,this):this._tTime;return this._rts=+i||0,this._ts=this._ps||i===-1e-8?0:this._rts,this.totalTime(Sp(-Math.abs(this._delay),this._tDur,s),r!==!1),vA(this),RW(this)},e.paused=function(i){return arguments.length?(this._ps!==i&&(this._ps=i,i?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_d(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==Ir&&(this._tTime-=Ir)))),this):this._ps},e.startTime=function(i){if(arguments.length){this._start=i;var r=this.parent||this._dp;return r&&(r._sort||!this.parent)&&jo(r,this,i-this._delay),this}return this._start},e.endTime=function(i){return this._start+(hs(i)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(i){var r=this.parent||this._dp;return r?i&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?Sg(r.rawTime(i),this):this._tTime:this._tTime},e.revert=function(i){i===void 0&&(i=MW);var r=fr;return fr=i,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(i),this.totalTime(-.01,i.suppressEvents)),this.data!=="nested"&&i.kill!==!1&&this.kill(),fr=r,this},e.globalTime=function(i){for(var r=this,s=arguments.length?i:r.rawTime();r;)s=r._start+s/(Math.abs(r._ts)||1),r=r._dp;return!this.parent&&this._sat?this._sat.globalTime(i):s},e.repeat=function(i){return arguments.length?(this._repeat=i===1/0?-2:i,ZC(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(i){if(arguments.length){var r=this._time;return this._rDelay=i,ZC(this),r?this.time(r):this}return this._rDelay},e.yoyo=function(i){return arguments.length?(this._yoyo=i,this):this._yoyo},e.seek=function(i,r){return this.totalTime(Ws(this,i),hs(r))},e.restart=function(i,r){return this.play().totalTime(i?-this._delay:0,hs(r)),this._dur||(this._zTime=-1e-8),this},e.play=function(i,r){return i!=null&&this.seek(i,r),this.reversed(!1).paused(!1)},e.reverse=function(i,r){return i!=null&&this.seek(i||this.totalDuration(),r),this.reversed(!0).paused(!1)},e.pause=function(i,r){return i!=null&&this.seek(i,r),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(i){return arguments.length?(!!i!==this.reversed()&&this.timeScale(-this._rts||(i?-1e-8:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-1e-8,this},e.isActive=function(){var i=this.parent||this._dp,r=this._start,s;return!!(!i||this._ts&&this._initted&&i.isActive()&&(s=i.rawTime(!0))>=r&&s<this.endTime(!0)-Ir)},e.eventCallback=function(i,r,s){var o=this.vars;return arguments.length>1?(r?(o[i]=r,s&&(o[i+"Params"]=s),i==="onUpdate"&&(this._onUpdate=r)):delete o[i],this):o[i]},e.then=function(i){var r=this;return new Promise(function(s){var o=di(i)?i:qT,a=function(){var c=r.then;r.then=null,di(o)&&(o=o(r))&&(o.then||o===r)&&(r.then=c),s(o),r.then=c};r._initted&&r.totalProgress()===1&&r._ts>=0||!r._tTime&&r._ts<0?a():r._prom=a})},e.kill=function(){Hh(this)},n}();Ns(V0.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-1e-8,_prom:0,_ps:!1,_rts:1});var $r=function(n){LT(e,n);function e(i,r){var s;return i===void 0&&(i={}),s=n.call(this,i)||this,s.labels={},s.smoothChildTiming=!!i.smoothChildTiming,s.autoRemoveChildren=!!i.autoRemoveChildren,s._sort=hs(i.sortChildren),ii&&jo(i.parent||ii,Ea(s),r),i.reversed&&s.reverse(),i.paused&&s.paused(!0),i.scrollTrigger&&$T(Ea(s),i.scrollTrigger),s}var t=e.prototype;return t.to=function(r,s,o){return c0(0,arguments,this),this},t.from=function(r,s,o){return c0(1,arguments,this),this},t.fromTo=function(r,s,o,a){return c0(2,arguments,this),this},t.set=function(r,s,o){return s.duration=0,s.parent=this,l0(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Ti(r,s,Ws(this,o),1),this},t.call=function(r,s,o){return jo(this,Ti.delayedCall(0,r,s),o)},t.staggerTo=function(r,s,o,a,l,c,u){return o.duration=s,o.stagger=o.stagger||a,o.onComplete=c,o.onCompleteParams=u,o.parent=this,new Ti(r,o,Ws(this,l)),this},t.staggerFrom=function(r,s,o,a,l,c,u){return o.runBackwards=1,l0(o).immediateRender=hs(o.immediateRender),this.staggerTo(r,s,o,a,l,c,u)},t.staggerFromTo=function(r,s,o,a,l,c,u,f){return a.startAt=o,l0(a).immediateRender=hs(a.immediateRender),this.staggerTo(r,s,a,l,c,u,f)},t.render=function(r,s,o){var a=this._time,l=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=r<=0?0:Mi(r),f=this._zTime<0!=r<0&&(this._initted||!c),h,p,m,g,A,y,x,b,_,T,M,I;if(this!==ii&&u>l&&r>=0&&(u=l),u!==this._tTime||o||f){if(a!==this._time&&c&&(u+=this._time-a,r+=this._time-a),h=u,_=this._start,b=this._ts,y=!b,f&&(c||(a=this._zTime),(r||!s)&&(this._zTime=r)),this._repeat){if(M=this._yoyo,A=c+this._rDelay,this._repeat<-1&&r<0)return this.totalTime(A*100+r,s,o);if(h=Mi(u%A),u===l?(g=this._repeat,h=c):(T=Mi(u/A),g=~~T,g&&g===T&&(h=c,g--),h>c&&(h=c)),T=vd(this._tTime,A),!a&&this._tTime&&T!==g&&this._tTime-T*A-this._dur<=0&&(T=g),M&&g&1&&(h=c-h,I=1),g!==T&&!this._lock){var P=M&&T&1,w=P===(M&&g&1);if(g<T&&(P=!P),a=P?0:u%c?c:u,this._lock=1,this.render(a||(I?0:Mi(g*A)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&Ls(this,"onRepeat"),this.vars.repeatRefresh&&!I&&(this.invalidate()._lock=1),a&&a!==this._time||y!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,l=this._tDur,w&&(this._lock=2,a=P?c:-1e-4,this.render(a,!0),this.vars.repeatRefresh&&!I&&this.invalidate()),this._lock=0,!this._ts&&!y)return this;fM(this,I)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=OW(this,Mi(a),Mi(h)),x&&(u-=h-(h=x._start))),this._tTime=u,this._time=h,this._act=!b,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=r,a=0),!a&&h&&!s&&!g&&(Ls(this,"onStart"),this._tTime!==u))return this;if(h>=a&&r>=0)for(p=this._first;p;){if(m=p._next,(p._act||h>=p._start)&&p._ts&&x!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(h-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(h-p._start)*p._ts,s,o),h!==this._time||!this._ts&&!y){x=0,m&&(u+=this._zTime=-1e-8);break}}p=m}else{p=this._last;for(var E=r<0?r:h;p;){if(m=p._prev,(p._act||E<=p._end)&&p._ts&&x!==p){if(p.parent!==this)return this.render(r,s,o);if(p.render(p._ts>0?(E-p._start)*p._ts:(p._dirty?p.totalDuration():p._tDur)+(E-p._start)*p._ts,s,o||fr&&(p._initted||p._startAt)),h!==this._time||!this._ts&&!y){x=0,m&&(u+=this._zTime=E?-1e-8:Ir);break}}p=m}}if(x&&!s&&(this.pause(),x.render(h>=a?0:-1e-8)._zTime=h>=a?1:-1,this._ts))return this._start=_,vA(this),this.render(r,s,o);this._onUpdate&&!s&&Ls(this,"onUpdate",!0),(u===l&&this._tTime>=this.totalDuration()||!u&&a)&&(_===this._start||Math.abs(b)!==Math.abs(this._ts))&&(this._lock||((r||!c)&&(u===l&&this._ts>0||!u&&this._ts<0)&&Zl(this,1),!s&&!(r<0&&!a)&&(u||a||!l)&&(Ls(this,u===l&&r>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<l&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(r,s){var o=this;if(Xa(s)||(s=Ws(this,s,r)),!(r instanceof V0)){if(Dr(r))return r.forEach(function(a){return o.add(a,s)}),this;if(er(r))return this.addLabel(r,s);if(di(r))r=Ti.delayedCall(0,r);else return this}return this!==r?jo(this,r,s):this},t.getChildren=function(r,s,o,a){r===void 0&&(r=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),a===void 0&&(a=-1e8);for(var l=[],c=this._first;c;)c._start>=a&&(c instanceof Ti?s&&l.push(c):(o&&l.push(c),r&&l.push.apply(l,c.getChildren(!0,s,o)))),c=c._next;return l},t.getById=function(r){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===r)return s[o]},t.remove=function(r){return er(r)?this.removeLabel(r):di(r)?this.killTweensOf(r):(r.parent===this&&AA(this,r),r===this._recent&&(this._recent=this._last),mu(this))},t.totalTime=function(r,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=Mi(Rs.time-(this._ts>0?r/this._ts:(this.totalDuration()-r)/-this._ts))),n.prototype.totalTime.call(this,r,s),this._forcing=0,this):this._tTime},t.addLabel=function(r,s){return this.labels[r]=Ws(this,s),this},t.removeLabel=function(r){return delete this.labels[r],this},t.addPause=function(r,s,o){var a=Ti.delayedCall(0,s||k0,o);return a.data="isPause",this._hasPause=1,jo(this,a,Ws(this,r))},t.removePause=function(r){var s=this._first;for(r=Ws(this,r);s;)s._start===r&&s.data==="isPause"&&Zl(s),s=s._next},t.killTweensOf=function(r,s,o){for(var a=this.getTweensOf(r,o),l=a.length;l--;)Bl!==a[l]&&a[l].kill(r,s);return this},t.getTweensOf=function(r,s){for(var o=[],a=eo(r),l=this._first,c=Xa(s),u;l;)l instanceof Ti?IW(l._targets,a)&&(c?(!Bl||l._initted&&l._ts)&&l.globalTime(0)<=s&&l.globalTime(l.totalDuration())>s:!s||l.isActive())&&o.push(l):(u=l.getTweensOf(a,s)).length&&o.push.apply(o,u),l=l._next;return o},t.tweenTo=function(r,s){s=s||{};var o=this,a=Ws(o,r),l=s,c=l.startAt,u=l.onStart,f=l.onStartParams,h=l.immediateRender,p,m=Ti.to(o,Ns({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:a,overwrite:"auto",duration:s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale())||Ir,onStart:function(){if(o.pause(),!p){var A=s.duration||Math.abs((a-(c&&"time"in c?c.time:o._time))/o.timeScale());m._dur!==A&&yd(m,A,0,1).render(m._time,!0,!0),p=1}u&&u.apply(m,f||[])}},s));return h?m.render(0):m},t.tweenFromTo=function(r,s,o){return this.tweenTo(s,Ns({startAt:{time:Ws(this,r)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(r){return r===void 0&&(r=this._time),JC(this,Ws(this,r))},t.previousLabel=function(r){return r===void 0&&(r=this._time),JC(this,Ws(this,r),1)},t.currentLabel=function(r){return arguments.length?this.seek(r,!0):this.previousLabel(this._time+Ir)},t.shiftChildren=function(r,s,o){o===void 0&&(o=0);for(var a=this._first,l=this.labels,c;a;)a._start>=o&&(a._start+=r,a._end+=r),a=a._next;if(s)for(c in l)l[c]>=o&&(l[c]+=r);return mu(this)},t.invalidate=function(r){var s=this._first;for(this._lock=0;s;)s.invalidate(r),s=s._next;return n.prototype.invalidate.call(this,r)},t.clear=function(r){r===void 0&&(r=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),r&&(this.labels={}),mu(this)},t.totalDuration=function(r){var s=0,o=this,a=o._last,l=Zo,c,u,f;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-r:r));if(o._dirty){for(f=o.parent;a;)c=a._prev,a._dirty&&a.totalDuration(),u=a._start,u>l&&o._sort&&a._ts&&!o._lock?(o._lock=1,jo(o,a,u-a._delay,1)._lock=0):l=u,u<0&&a._ts&&(s-=u,(!f&&!o._dp||f&&f.smoothChildTiming)&&(o._start+=u/o._ts,o._time-=u,o._tTime-=u),o.shiftChildren(-u,!1,-1/0),l=0),a._end>s&&a._ts&&(s=a._end),a=c;yd(o,o===ii&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(r){if(ii._ts&&(jT(ii,Sg(r,ii)),GT=Rs.frame),Rs.frame>=YC){YC+=Os.autoSleep||120;var s=ii._first;if((!s||!s._ts)&&Os.autoSleep&&Rs._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Rs.sleep()}}},e}(V0);Ns($r.prototype,{_lock:0,_hasPause:0,_forcing:0});var ZW=function(e,t,i,r,s,o,a){var l=new ms(this._pt,e,t,0,1,yM,null,s),c=0,u=0,f,h,p,m,g,A,y,x;for(l.b=i,l.e=r,i+="",r+="",(y=~r.indexOf("random("))&&(r=z0(r)),o&&(x=[i,r],o(x,e,t),i=x[0],r=x[1]),h=i.match(N2)||[];f=N2.exec(r);)m=f[0],g=r.substring(c,f.index),p?p=(p+1)%5:g.substr(-5)==="rgba("&&(p=1),m!==h[u++]&&(A=parseFloat(h[u-1])||0,l._pt={_next:l._pt,p:g||u===1?g:",",s:A,c:m.charAt(1)==="="?Xf(A,m)-A:parseFloat(m)-A,m:p&&p<4?Math.round:0},c=N2.lastIndex);return l.c=c<r.length?r.substring(c,r.length):"",l.fp=a,(NT.test(r)||y)&&(l.e=0),this._pt=l,l},xx=function(e,t,i,r,s,o,a,l,c,u){di(r)&&(r=r(s||0,e,o));var f=e[t],h=i!=="get"?i:di(f)?c?e[t.indexOf("set")||!di(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():f,p=di(f)?c?iq:AM:Sx,m;if(er(r)&&(~r.indexOf("random(")&&(r=z0(r)),r.charAt(1)==="="&&(m=Xf(h,r)+(Er(h)||0),(m||m===0)&&(r=m))),!u||h!==r||T_)return!isNaN(h*r)&&r!==""?(m=new ms(this._pt,e,t,+h||0,r-(h||0),typeof f=="boolean"?sq:vM,0,p),c&&(m.fp=c),a&&m.modifier(a,this,e),this._pt=m):(!f&&!(t in e)&&vx(t,r),ZW.call(this,e,t,h,r,p,l||Os.stringFilter,c))},JW=function(e,t,i,r,s){if(di(e)&&(e=u0(e,s,t,i,r)),!ta(e)||e.style&&e.nodeType||Dr(e)||OT(e))return er(e)?u0(e,s,t,i,r):e;var o={},a;for(a in e)o[a]=u0(e[a],s,t,i,r);return o},pM=function(e,t,i,r,s,o){var a,l,c,u;if(Is[e]&&(a=new Is[e]).init(s,a.rawVars?t[e]:JW(t[e],r,s,o,i),i,r,o)!==!1&&(i._pt=l=new ms(i._pt,s,e,0,1,a.render,a,0,a.priority),i!==Lf))for(c=i._ptLookup[i._targets.indexOf(s)],u=a._props.length;u--;)c[a._props[u]]=l;return a},Bl,T_,Cx=function n(e,t,i){var r=e.vars,s=r.ease,o=r.startAt,a=r.immediateRender,l=r.lazy,c=r.onUpdate,u=r.runBackwards,f=r.yoyoEase,h=r.keyframes,p=r.autoRevert,m=e._dur,g=e._startAt,A=e._targets,y=e.parent,x=y&&y.data==="nested"?y.vars.targets:A,b=e._overwrite==="auto"&&!px,_=e.timeline,T,M,I,P,w,E,O,F,H,z,X,U,G;if(_&&(!h||!s)&&(s="none"),e._ease=gu(s,gd.ease),e._yEase=f?uM(gu(f===!0?s:f,gd.ease)):0,f&&e._yoyo&&!e._repeat&&(f=e._yEase,e._yEase=e._ease,e._ease=f),e._from=!_&&!!r.runBackwards,!_||h&&!r.stagger){if(F=A[0]?pu(A[0]).harness:0,U=F&&r[F.prop],T=Cg(r,yx),g&&(g._zTime<0&&g.progress(1),t<0&&u&&a&&!p?g.render(-1,!0):g.revert(u&&m?Nm:TW),g._lazy=0),o){if(Zl(e._startAt=Ti.set(A,Ns({data:"isStart",overwrite:!1,parent:y,immediateRender:!0,lazy:!g&&hs(l),startAt:null,delay:0,onUpdate:c&&function(){return Ls(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(fr||!a&&!p)&&e._startAt.revert(Nm),a&&m&&t<=0&&i<=0){t&&(e._zTime=t);return}}else if(u&&m&&!g){if(t&&(a=!1),I=Ns({overwrite:!1,data:"isFromStart",lazy:a&&!g&&hs(l),immediateRender:a,stagger:0,parent:y},T),U&&(I[F.prop]=U),Zl(e._startAt=Ti.set(A,I)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(fr?e._startAt.revert(Nm):e._startAt.render(-1,!0)),e._zTime=t,!a)n(e._startAt,Ir,Ir);else if(!t)return}for(e._pt=e._ptCache=0,l=m&&hs(l)||l&&!m,M=0;M<A.length;M++){if(w=A[M],O=w._gsap||bx(A)[M]._gsap,e._ptLookup[M]=z={},b_[O.id]&&jl.length&&xg(),X=x===A?M:x.indexOf(w),F&&(H=new F).init(w,U||T,e,X,x)!==!1&&(e._pt=P=new ms(e._pt,w,H.name,0,1,H.render,H,0,H.priority),H._props.forEach(function(j){z[j]=P}),H.priority&&(E=1)),!F||U)for(I in T)Is[I]&&(H=pM(I,T,e,X,w,x))?H.priority&&(E=1):z[I]=P=xx.call(e,w,I,"get",T[I],X,x,0,r.stringFilter);e._op&&e._op[M]&&e.kill(w,e._op[M]),b&&e._pt&&(Bl=e,ii.killTweensOf(w,z,e.globalTime(t)),G=!e.parent,Bl=0),e._pt&&l&&(b_[O.id]=1)}E&&_M(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!G,h&&t<=0&&_.render(Zo,!0,!0)},eq=function(e,t,i,r,s,o,a,l){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,f,h,p;if(!c)for(c=e._ptCache[t]=[],h=e._ptLookup,p=e._targets.length;p--;){if(u=h[p][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return T_=1,e.vars[t]="+=0",Cx(e,a),T_=0,l?N0(t+" not eligible for reset"):1;c.push(u)}for(p=c.length;p--;)f=c[p],u=f._pt||f,u.s=(r||r===0)&&!s?r:u.s+(r||0)+o*u.c,u.c=i-u.s,f.e&&(f.e=_i(i)+Er(f.e)),f.b&&(f.b=u.s+Er(f.b))},tq=function(e,t){var i=e[0]?pu(e[0]).harness:0,r=i&&i.aliases,s,o,a,l;if(!r)return t;s=Ad({},t);for(o in r)if(o in s)for(l=r[o].split(","),a=l.length;a--;)s[l[a]]=s[o];return s},nq=function(e,t,i,r){var s=t.ease||r||"power1.inOut",o,a;if(Dr(t))a=i[e]||(i[e]=[]),t.forEach(function(l,c){return a.push({t:c/(t.length-1)*100,v:l,e:s})});else for(o in t)a=i[o]||(i[o]=[]),o==="ease"||a.push({t:parseFloat(e),v:t[o],e:s})},u0=function(e,t,i,r,s){return di(e)?e.call(t,i,r,s):er(e)&&~e.indexOf("random(")?z0(e):e},mM=_x+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",gM={};ps(mM+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return gM[n]=1});var Ti=function(n){LT(e,n);function e(i,r,s,o){var a;typeof r=="number"&&(s.duration=r,r=s,s=null),a=n.call(this,o?r:l0(r))||this;var l=a.vars,c=l.duration,u=l.delay,f=l.immediateRender,h=l.stagger,p=l.overwrite,m=l.keyframes,g=l.defaults,A=l.scrollTrigger,y=l.yoyoEase,x=r.parent||ii,b=(Dr(i)||OT(i)?Xa(i[0]):"length"in r)?[i]:eo(i),_,T,M,I,P,w,E,O;if(a._targets=b.length?bx(b):N0("GSAP target "+i+" not found. https://gsap.com",!Os.nullTargetWarn)||[],a._ptLookup=[],a._overwrite=p,m||h||E1(c)||E1(u)){if(r=a.vars,_=a.timeline=new $r({data:"nested",defaults:g||{},targets:x&&x.data==="nested"?x.vars.targets:b}),_.kill(),_.parent=_._dp=Ea(a),_._start=0,h||E1(c)||E1(u)){if(I=b.length,E=h&&eM(h),ta(h))for(P in h)~mM.indexOf(P)&&(O||(O={}),O[P]=h[P]);for(T=0;T<I;T++)M=Cg(r,gM),M.stagger=0,y&&(M.yoyoEase=y),O&&Ad(M,O),w=b[T],M.duration=+u0(c,Ea(a),T,w,b),M.delay=(+u0(u,Ea(a),T,w,b)||0)-a._delay,!h&&I===1&&M.delay&&(a._delay=u=M.delay,a._start+=u,M.delay=0),_.to(w,M,E?E(T,w,b):0),_._ease=Jt.none;_.duration()?c=u=0:a.timeline=0}else if(m){l0(Ns(_.vars.defaults,{ease:"none"})),_._ease=gu(m.ease||r.ease||"none");var F=0,H,z,X;if(Dr(m))m.forEach(function(U){return _.to(b,U,">")}),_.duration();else{M={};for(P in m)P==="ease"||P==="easeEach"||nq(P,m[P],M,m.easeEach);for(P in M)for(H=M[P].sort(function(U,G){return U.t-G.t}),F=0,T=0;T<H.length;T++)z=H[T],X={ease:z.e,duration:(z.t-(T?H[T-1].t:0))/100*c},X[P]=z.v,_.to(b,X,F),F+=X.duration;_.duration()<c&&_.to({},{duration:c-_.duration()})}}c||a.duration(c=_.duration())}else a.timeline=0;return p===!0&&!px&&(Bl=Ea(a),ii.killTweensOf(b),Bl=0),jo(x,Ea(a),s),r.reversed&&a.reverse(),r.paused&&a.paused(!0),(f||!c&&!m&&a._start===Mi(x._time)&&hs(f)&&BW(Ea(a))&&x.data!=="nested")&&(a._tTime=-1e-8,a.render(Math.max(0,-u)||0)),A&&$T(Ea(a),A),a}var t=e.prototype;return t.render=function(r,s,o){var a=this._time,l=this._tDur,c=this._dur,u=r<0,f=r>l-Ir&&!u?l:r<Ir?0:r,h,p,m,g,A,y,x,b,_;if(!c)FW(this,r,s,o);else if(f!==this._tTime||!r||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u||this._lazy){if(h=f,b=this.timeline,this._repeat){if(g=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(g*100+r,s,o);if(h=Mi(f%g),f===l?(m=this._repeat,h=c):(A=Mi(f/g),m=~~A,m&&m===A?(h=c,m--):h>c&&(h=c)),y=this._yoyo&&m&1,y&&(_=this._yEase,h=c-h),A=vd(this._tTime,g),h===a&&!o&&this._initted&&m===A)return this._tTime=f,this;m!==A&&(b&&this._yEase&&fM(b,y),this.vars.repeatRefresh&&!y&&!this._lock&&h!==g&&this._initted&&(this._lock=o=1,this.render(Mi(g*m),!0).invalidate()._lock=0))}if(!this._initted){if(KT(this,u?r:h,o,s,f))return this._tTime=0,this;if(a!==this._time&&!(o&&this.vars.repeatRefresh&&m!==A))return this;if(c!==this._dur)return this.render(r,s,o)}if(this._tTime=f,this._time=h,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(_||this._ease)(h/c),this._from&&(this.ratio=x=1-x),h&&!a&&!s&&!m&&(Ls(this,"onStart"),this._tTime!==f))return this;for(p=this._pt;p;)p.r(x,p.d),p=p._next;b&&b.render(r<0?r:b._dur*b._ease(h/this._dur),s,o)||this._startAt&&(this._zTime=r),this._onUpdate&&!s&&(u&&x_(this,r,s,o),Ls(this,"onUpdate")),this._repeat&&m!==A&&this.vars.onRepeat&&!s&&this.parent&&Ls(this,"onRepeat"),(f===this._tDur||!f)&&this._tTime===f&&(u&&!this._onUpdate&&x_(this,r,!0,!0),(r||!c)&&(f===this._tDur&&this._ts>0||!f&&this._ts<0)&&Zl(this,1),!s&&!(u&&!a)&&(f||a||y)&&(Ls(this,f===l?"onComplete":"onReverseComplete",!0),this._prom&&!(f<l&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(r){return(!r||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(r),n.prototype.invalidate.call(this,r)},t.resetTo=function(r,s,o,a,l){H0||Rs.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||Cx(this,c),u=this._ease(c/this._dur),eq(this,r,s,o,a,u,c,l)?this.resetTo(r,s,o,a,1):(yA(this,0),this.parent||XT(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(r,s){if(s===void 0&&(s="all"),!r&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?Hh(this):this.scrollTrigger&&this.scrollTrigger.kill(!!fr),this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(r,s,Bl&&Bl.vars.overwrite!==!0)._first||Hh(this),this.parent&&o!==this.timeline.totalDuration()&&yd(this,this._dur*this.timeline._tDur/o,0,1),this}var a=this._targets,l=r?eo(r):a,c=this._ptLookup,u=this._pt,f,h,p,m,g,A,y;if((!s||s==="all")&&PW(a,l))return s==="all"&&(this._pt=0),Hh(this);for(f=this._op=this._op||[],s!=="all"&&(er(s)&&(g={},ps(s,function(x){return g[x]=1}),s=g),s=tq(a,s)),y=a.length;y--;)if(~l.indexOf(a[y])){h=c[y],s==="all"?(f[y]=s,m=h,p={}):(p=f[y]=f[y]||{},m=s);for(g in m)A=h&&h[g],A&&((!("kill"in A.d)||A.d.kill(g)===!0)&&AA(this,A,"_pt"),delete h[g]),p!=="all"&&(p[g]=1)}return this._initted&&!this._pt&&u&&Hh(this),this},e.to=function(r,s){return new e(r,s,arguments[2])},e.from=function(r,s){return c0(1,arguments)},e.delayedCall=function(r,s,o,a){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:r,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:a})},e.fromTo=function(r,s,o){return c0(2,arguments)},e.set=function(r,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(r,s)},e.killTweensOf=function(r,s,o){return ii.killTweensOf(r,s,o)},e}(V0);Ns(Ti.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});ps("staggerTo,staggerFrom,staggerFromTo",function(n){Ti[n]=function(){var e=new $r,t=S_.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var Sx=function(e,t,i){return e[t]=i},AM=function(e,t,i){return e[t](i)},iq=function(e,t,i,r){return e[t](r.fp,i)},rq=function(e,t,i){return e.setAttribute(t,i)},wx=function(e,t){return di(e[t])?AM:mx(e[t])&&e.setAttribute?rq:Sx},vM=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},sq=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},yM=function(e,t){var i=t._pt,r="";if(!e&&t.b)r=t.b;else if(e===1&&t.e)r=t.e;else{for(;i;)r=i.p+(i.m?i.m(i.s+i.c*e):Math.round((i.s+i.c*e)*1e4)/1e4)+r,i=i._next;r+=t.c}t.set(t.t,t.p,r,t)},Ex=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},oq=function(e,t,i,r){for(var s=this._pt,o;s;)o=s._next,s.p===r&&s.modifier(e,t,i),s=o},aq=function(e){for(var t=this._pt,i,r;t;)r=t._next,t.p===e&&!t.op||t.op===e?AA(this,t,"_pt"):t.dep||(i=1),t=r;return!i},lq=function(e,t,i,r){r.mSet(e,t,r.m.call(r.tween,i,r.mt),r)},_M=function(e){for(var t=e._pt,i,r,s,o;t;){for(i=t._next,r=s;r&&r.pr>t.pr;)r=r._next;(t._prev=r?r._prev:o)?t._prev._next=t:s=t,(t._next=r)?r._prev=t:o=t,t=i}e._pt=s},ms=function(){function n(t,i,r,s,o,a,l,c,u){this.t=i,this.s=s,this.c=o,this.p=r,this.r=a||vM,this.d=l||this,this.set=c||Sx,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(i,r,s){this.mSet=this.mSet||this.set,this.set=lq,this.m=i,this.mt=s,this.tween=r},n}();ps(_x+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return yx[n]=1});Us.TweenMax=Us.TweenLite=Ti;Us.TimelineLite=Us.TimelineMax=$r;ii=new $r({sortChildren:!1,defaults:gd,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Os.stringFilter=cM;var Au=[],zm={},cq=[],tS=0,uq=0,G2=function(e){return(zm[e]||cq).map(function(t){return t()})},M_=function(){var e=Date.now(),t=[];e-tS>2&&(G2("matchMediaInit"),Au.forEach(function(i){var r=i.queries,s=i.conditions,o,a,l,c;for(a in r)o=Vo.matchMedia(r[a]).matches,o&&(l=1),o!==s[a]&&(s[a]=o,c=1);c&&(i.revert(),l&&t.push(i))}),G2("matchMediaRevert"),t.forEach(function(i){return i.onMatch(i,function(r){return i.add(null,r)})}),tS=e,G2("matchMedia"))},bM=function(){function n(t,i){this.selector=i&&w_(i),this.data=[],this._r=[],this.isReverted=!1,this.id=uq++,t&&this.add(t)}var e=n.prototype;return e.add=function(i,r,s){di(i)&&(s=r,r=i,i=di);var o=this,a=function(){var c=Yn,u=o.selector,f;return c&&c!==o&&c.data.push(o),s&&(o.selector=w_(s)),Yn=o,f=r.apply(o,arguments),di(f)&&o._r.push(f),Yn=c,o.selector=u,o.isReverted=!1,f};return o.last=a,i===di?a(o,function(l){return o.add(null,l)}):i?o[i]=a:a},e.ignore=function(i){var r=Yn;Yn=null,i(this),Yn=r},e.getTweens=function(){var i=[];return this.data.forEach(function(r){return r instanceof n?i.push.apply(i,r.getTweens()):r instanceof Ti&&!(r.parent&&r.parent.data==="nested")&&i.push(r)}),i},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(i,r){var s=this;if(i?function(){for(var a=s.getTweens(),l=s.data.length,c;l--;)c=s.data[l],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return a.splice(a.indexOf(u),1)}));for(a.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,f){return f.g-u.g||-1/0}).forEach(function(u){return u.t.revert(i)}),l=s.data.length;l--;)c=s.data[l],c instanceof $r?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof Ti)&&c.revert&&c.revert(i);s._r.forEach(function(u){return u(i,s)}),s.isReverted=!0}():this.data.forEach(function(a){return a.kill&&a.kill()}),this.clear(),r)for(var o=Au.length;o--;)Au[o].id===this.id&&Au.splice(o,1)},e.revert=function(i){this.kill(i||{})},n}(),fq=function(){function n(t){this.contexts=[],this.scope=t,Yn&&Yn.data.push(this)}var e=n.prototype;return e.add=function(i,r,s){ta(i)||(i={matches:i});var o=new bM(0,s||this.scope),a=o.conditions={},l,c,u;Yn&&!o.selector&&(o.selector=Yn.selector),this.contexts.push(o),r=o.add("onMatch",r),o.queries=i;for(c in i)c==="all"?u=1:(l=Vo.matchMedia(i[c]),l&&(Au.indexOf(o)<0&&Au.push(o),(a[c]=l.matches)&&(u=1),l.addListener?l.addListener(M_):l.addEventListener("change",M_)));return u&&r(o,function(f){return o.add(null,f)}),this},e.revert=function(i){this.kill(i||{})},e.kill=function(i){this.contexts.forEach(function(r){return r.kill(i,!0)})},n}(),wg={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(r){return oM(r)})},timeline:function(e){return new $r(e)},getTweensOf:function(e,t){return ii.getTweensOf(e,t)},getProperty:function(e,t,i,r){er(e)&&(e=eo(e)[0]);var s=pu(e||{}).get,o=i?qT:WT;return i==="native"&&(i=""),e&&(t?o((Is[t]&&Is[t].get||s)(e,t,i,r)):function(a,l,c){return o((Is[a]&&Is[a].get||s)(e,a,l,c))})},quickSetter:function(e,t,i){if(e=eo(e),e.length>1){var r=e.map(function(u){return Br.quickSetter(u,t,i)}),s=r.length;return function(u){for(var f=s;f--;)r[f](u)}}e=e[0]||{};var o=Is[t],a=pu(e),l=a.harness&&(a.harness.aliases||{})[t]||t,c=o?function(u){var f=new o;Lf._pt=0,f.init(e,i?u+i:u,Lf,0,[e]),f.render(1,f),Lf._pt&&Ex(1,Lf)}:a.set(e,l);return o?c:function(u){return c(e,l,i?u+i:u,a,1)}},quickTo:function(e,t,i){var r,s=Br.to(e,Ns((r={},r[t]="+=0.1",r.paused=!0,r.stagger=0,r),i||{})),o=function(l,c,u){return s.resetTo(t,l,c,u)};return o.tween=s,o},isTweening:function(e){return ii.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=gu(e.ease,gd.ease)),$C(gd,e||{})},config:function(e){return $C(Os,e||{})},registerEffect:function(e){var t=e.name,i=e.effect,r=e.plugins,s=e.defaults,o=e.extendTimeline;(r||"").split(",").forEach(function(a){return a&&!Is[a]&&!Us[a]&&N0(t+" effect requires "+a+" plugin.")}),k2[t]=function(a,l,c){return i(eo(a),Ns(l||{},s),c)},o&&($r.prototype[t]=function(a,l,c){return this.add(k2[t](a,ta(l)?l:(c=l)&&{},this),c)})},registerEase:function(e,t){Jt[e]=gu(t)},parseEase:function(e,t){return arguments.length?gu(e,t):Jt},getById:function(e){return ii.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var i=new $r(e),r,s;for(i.smoothChildTiming=hs(e.smoothChildTiming),ii.remove(i),i._dp=0,i._time=i._tTime=ii._time,r=ii._first;r;)s=r._next,(t||!(!r._dur&&r instanceof Ti&&r.vars.onComplete===r._targets[0]))&&jo(i,r,r._start-r._delay),r=s;return jo(ii,i,0),i},context:function(e,t){return e?new bM(e,t):Yn},matchMedia:function(e){return new fq(e)},matchMediaRefresh:function(){return Au.forEach(function(e){var t=e.conditions,i,r;for(r in t)t[r]&&(t[r]=!1,i=1);i&&e.revert()})||M_()},addEventListener:function(e,t){var i=zm[e]||(zm[e]=[]);~i.indexOf(t)||i.push(t)},removeEventListener:function(e,t){var i=zm[e],r=i&&i.indexOf(t);r>=0&&i.splice(r,1)},utils:{wrap:GW,wrapYoyo:QW,distribute:eM,random:nM,snap:tM,normalize:VW,getUnit:Er,clamp:NW,splitColor:aM,toArray:eo,selector:w_,mapRange:rM,pipe:zW,unitize:HW,interpolate:jW,shuffle:JT},install:HT,effects:k2,ticker:Rs,updateRoot:$r.updateRoot,plugins:Is,globalTimeline:ii,core:{PropTween:ms,globals:VT,Tween:Ti,Timeline:$r,Animation:V0,getCache:pu,_removeLinkedListItem:AA,reverting:function(){return fr},context:function(e){return e&&Yn&&(Yn.data.push(e),e._ctx=Yn),Yn},suppressOverwrites:function(e){return px=e}}};ps("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return wg[n]=Ti[n]});Rs.add($r.updateRoot);Lf=wg.to({},{duration:0});var dq=function(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i},hq=function(e,t){var i=e._targets,r,s,o;for(r in t)for(s=i.length;s--;)o=e._ptLookup[s][r],o&&(o=o.d)&&(o._pt&&(o=dq(o,r)),o&&o.modifier&&o.modifier(t[r],e,i[s],r))},Q2=function(e,t){return{name:e,rawVars:1,init:function(r,s,o){o._onInit=function(a){var l,c;if(er(s)&&(l={},ps(s,function(u){return l[u]=1}),s=l),t){l={};for(c in s)l[c]=t(s[c]);s=l}hq(a,s)}}}},Br=wg.registerPlugin({name:"attr",init:function(e,t,i,r,s){var o,a,l;this.tween=i;for(o in t)l=e.getAttribute(o)||"",a=this.add(e,"setAttribute",(l||0)+"",t[o],r,s,0,0,o),a.op=o,a.b=l,this._props.push(o)},render:function(e,t){for(var i=t._pt;i;)fr?i.set(i.t,i.p,i.b,i):i.r(e,i.d),i=i._next}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i],0,0,0,0,0,1)}},Q2("roundProps",E_),Q2("modifiers"),Q2("snap",tM))||wg;Ti.version=$r.version=Br.version="3.12.7";zT=1;gx()&&_d();Jt.Power0;Jt.Power1;Jt.Power2;Jt.Power3;Jt.Power4;Jt.Linear;Jt.Quad;Jt.Cubic;Jt.Quart;Jt.Quint;Jt.Strong;Jt.Elastic;Jt.Back;Jt.SteppedEase;Jt.Bounce;Jt.Sine;Jt.Expo;Jt.Circ;/*!
 * CSSPlugin 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var nS,Ll,Yf,Tx,iu,iS,Mx,pq=function(){return typeof window<"u"},Ya={},Xc=180/Math.PI,$f=Math.PI/180,Zu=Math.atan2,rS=1e8,Ix=/([A-Z])/g,mq=/(left|right|width|margin|padding|x)/i,gq=/[\s,\(]\S/,Yo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},I_=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},Aq=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},vq=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},yq=function(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)},xM=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},CM=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},_q=function(e,t,i){return e.style[t]=i},bq=function(e,t,i){return e.style.setProperty(t,i)},xq=function(e,t,i){return e._gsap[t]=i},Cq=function(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i},Sq=function(e,t,i,r,s){var o=e._gsap;o.scaleX=o.scaleY=i,o.renderTransform(s,o)},wq=function(e,t,i,r,s){var o=e._gsap;o[t]=i,o.renderTransform(s,o)},si="transform",gs=si+"Origin",Eq=function n(e,t){var i=this,r=this.target,s=r.style,o=r._gsap;if(e in Ya&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Yo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(a){return i.tfm[a]=Ma(r,a)}):this.tfm[e]=o.x?o[e]:Ma(r,e),e===gs&&(this.tfm.zOrigin=o.zOrigin);else return Yo.transform.split(",").forEach(function(a){return n.call(i,a,t)});if(this.props.indexOf(si)>=0)return;o.svg&&(this.svgo=r.getAttribute("data-svg-origin"),this.props.push(gs,t,"")),e=si}(s||t)&&this.props.push(e,t,s[e])},SM=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Tq=function(){var e=this.props,t=this.target,i=t.style,r=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?e[s+1]===2?t[e[s]](e[s+2]):t[e[s]]=e[s+2]:e[s+2]?i[e[s]]=e[s+2]:i.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(Ix,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)r[o]=this.tfm[o];r.svg&&(r.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=Mx(),(!s||!s.isStart)&&!i[si]&&(SM(i),r.zOrigin&&i[gs]&&(i[gs]+=" "+r.zOrigin+"px",r.zOrigin=0,r.renderTransform()),r.uncache=1)}},wM=function(e,t){var i={target:e,props:[],revert:Tq,save:Eq};return e._gsap||Br.core.getCache(e),t&&e.style&&e.nodeType&&t.split(",").forEach(function(r){return i.save(r)}),i},EM,D_=function(e,t){var i=Ll.createElementNS?Ll.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):Ll.createElement(e);return i&&i.style?i:Ll.createElement(e)},Jo=function n(e,t,i){var r=getComputedStyle(e);return r[t]||r.getPropertyValue(t.replace(Ix,"-$1").toLowerCase())||r.getPropertyValue(t)||!i&&n(e,bd(t)||t,1)||""},sS="O,Moz,ms,Ms,Webkit".split(","),bd=function(e,t,i){var r=t||iu,s=r.style,o=5;if(e in s&&!i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(sS[o]+e in s););return o<0?null:(o===3?"ms":o>=0?sS[o]:"")+e},P_=function(){pq()&&window.document&&(nS=window,Ll=nS.document,Yf=Ll.documentElement,iu=D_("div")||{style:{}},D_("div"),si=bd(si),gs=si+"Origin",iu.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",EM=!!bd("perspective"),Mx=Br.core.reverting,Tx=1)},oS=function(e){var t=e.ownerSVGElement,i=D_("svg",t&&t.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=e.cloneNode(!0),s;r.style.display="block",i.appendChild(r),Yf.appendChild(i);try{s=r.getBBox()}catch{}return i.removeChild(r),Yf.removeChild(i),s},aS=function(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])},TM=function(e){var t,i;try{t=e.getBBox()}catch{t=oS(e),i=1}return t&&(t.width||t.height)||i||(t=oS(e)),t&&!t.width&&!t.x&&!t.y?{x:+aS(e,["x","cx","x1"])||0,y:+aS(e,["y","cy","y1"])||0,width:0,height:0}:t},MM=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&TM(e))},Tu=function(e,t){if(t){var i=e.style,r;t in Ya&&t!==gs&&(t=si),i.removeProperty?(r=t.substr(0,2),(r==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),i.removeProperty(r==="--"?t:t.replace(Ix,"-$1").toLowerCase())):i.removeAttribute(t)}},Fl=function(e,t,i,r,s,o){var a=new ms(e._pt,t,i,0,1,o?CM:xM);return e._pt=a,a.b=r,a.e=s,e._props.push(i),a},lS={deg:1,rad:1,turn:1},Mq={grid:1,flex:1},Jl=function n(e,t,i,r){var s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",a=iu.style,l=mq.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(l?"Width":"Height"),f=100,h=r==="px",p=r==="%",m,g,A,y;if(r===o||!s||lS[r]||lS[o])return s;if(o!=="px"&&!h&&(s=n(e,t,i,"px")),y=e.getCTM&&MM(e),(p||o==="%")&&(Ya[t]||~t.indexOf("adius")))return m=y?e.getBBox()[l?"width":"height"]:e[u],_i(p?s/m*f:s/100*m);if(a[l?"width":"height"]=f+(h?o:r),g=r!=="rem"&&~t.indexOf("adius")||r==="em"&&e.appendChild&&!c?e:e.parentNode,y&&(g=(e.ownerSVGElement||{}).parentNode),(!g||g===Ll||!g.appendChild)&&(g=Ll.body),A=g._gsap,A&&p&&A.width&&l&&A.time===Rs.time&&!A.uncache)return _i(s/A.width*f);if(p&&(t==="height"||t==="width")){var x=e.style[t];e.style[t]=f+r,m=e[u],x?e.style[t]=x:Tu(e,t)}else(p||o==="%")&&!Mq[Jo(g,"display")]&&(a.position=Jo(e,"position")),g===e&&(a.position="static"),g.appendChild(iu),m=iu[u],g.removeChild(iu),a.position="absolute";return l&&p&&(A=pu(g),A.time=Rs.time,A.width=g[u]),_i(h?m*s/f:m&&s?f/m*s:0)},Ma=function(e,t,i,r){var s;return Tx||P_(),t in Yo&&t!=="transform"&&(t=Yo[t],~t.indexOf(",")&&(t=t.split(",")[0])),Ya[t]&&t!=="transform"?(s=Q0(e,r),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:Tg(Jo(e,gs))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||r||~(s+"").indexOf("calc("))&&(s=Eg[t]&&Eg[t](e,t,i)||Jo(e,t)||QT(e,t)||(t==="opacity"?1:0))),i&&!~(s+"").trim().indexOf(" ")?Jl(e,t,s,i)+i:s},Iq=function(e,t,i,r){if(!i||i==="none"){var s=bd(t,e,1),o=s&&Jo(e,s,1);o&&o!==i?(t=s,i=o):t==="borderColor"&&(i=Jo(e,"borderTopColor"))}var a=new ms(this._pt,e.style,t,0,1,yM),l=0,c=0,u,f,h,p,m,g,A,y,x,b,_,T;if(a.b=i,a.e=r,i+="",r+="",r==="auto"&&(g=e.style[t],e.style[t]=r,r=Jo(e,t)||r,g?e.style[t]=g:Tu(e,t)),u=[i,r],cM(u),i=u[0],r=u[1],h=i.match(Bf)||[],T=r.match(Bf)||[],T.length){for(;f=Bf.exec(r);)A=f[0],x=r.substring(l,f.index),m?m=(m+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(m=1),A!==(g=h[c++]||"")&&(p=parseFloat(g)||0,_=g.substr((p+"").length),A.charAt(1)==="="&&(A=Xf(p,A)+_),y=parseFloat(A),b=A.substr((y+"").length),l=Bf.lastIndex-b.length,b||(b=b||Os.units[t]||_,l===r.length&&(r+=b,a.e+=b)),_!==b&&(p=Jl(e,t,g,b)||0),a._pt={_next:a._pt,p:x||c===1?x:",",s:p,c:y-p,m:m&&m<4||t==="zIndex"?Math.round:0});a.c=l<r.length?r.substring(l,r.length):""}else a.r=t==="display"&&r==="none"?CM:xM;return NT.test(r)&&(a.e=0),this._pt=a,a},cS={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},Dq=function(e){var t=e.split(" "),i=t[0],r=t[1]||"50%";return(i==="top"||i==="bottom"||r==="left"||r==="right")&&(e=i,i=r,r=e),t[0]=cS[i]||i,t[1]=cS[r]||r,t.join(" ")},Pq=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i=t.t,r=i.style,s=t.u,o=i._gsap,a,l,c;if(s==="all"||s===!0)r.cssText="",l=1;else for(s=s.split(","),c=s.length;--c>-1;)a=s[c],Ya[a]&&(l=1,a=a==="transformOrigin"?gs:si),Tu(i,a);l&&(Tu(i,si),o&&(o.svg&&i.removeAttribute("transform"),r.scale=r.rotate=r.translate="none",Q0(i,1),o.uncache=1,SM(r)))}},Eg={clearProps:function(e,t,i,r,s){if(s.data!=="isFromStart"){var o=e._pt=new ms(e._pt,t,i,0,0,Pq);return o.u=r,o.pr=-10,o.tween=s,e._props.push(i),1}}},G0=[1,0,0,1,0,0],IM={},DM=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},uS=function(e){var t=Jo(e,si);return DM(t)?G0:t.substr(7).match(UT).map(_i)},Dx=function(e,t){var i=e._gsap||pu(e),r=e.style,s=uS(e),o,a,l,c;return i.svg&&e.getAttribute("transform")?(l=e.transform.baseVal.consolidate().matrix,s=[l.a,l.b,l.c,l.d,l.e,l.f],s.join(",")==="1,0,0,1,0,0"?G0:s):(s===G0&&!e.offsetParent&&e!==Yf&&!i.svg&&(l=r.display,r.display="block",o=e.parentNode,(!o||!e.offsetParent&&!e.getBoundingClientRect().width)&&(c=1,a=e.nextElementSibling,Yf.appendChild(e)),s=uS(e),l?r.display=l:Tu(e,"display"),c&&(a?o.insertBefore(e,a):o?o.appendChild(e):Yf.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},R_=function(e,t,i,r,s,o){var a=e._gsap,l=s||Dx(e,!0),c=a.xOrigin||0,u=a.yOrigin||0,f=a.xOffset||0,h=a.yOffset||0,p=l[0],m=l[1],g=l[2],A=l[3],y=l[4],x=l[5],b=t.split(" "),_=parseFloat(b[0])||0,T=parseFloat(b[1])||0,M,I,P,w;i?l!==G0&&(I=p*A-m*g)&&(P=_*(A/I)+T*(-g/I)+(g*x-A*y)/I,w=_*(-m/I)+T*(p/I)-(p*x-m*y)/I,_=P,T=w):(M=TM(e),_=M.x+(~b[0].indexOf("%")?_/100*M.width:_),T=M.y+(~(b[1]||b[0]).indexOf("%")?T/100*M.height:T)),r||r!==!1&&a.smooth?(y=_-c,x=T-u,a.xOffset=f+(y*p+x*g)-y,a.yOffset=h+(y*m+x*A)-x):a.xOffset=a.yOffset=0,a.xOrigin=_,a.yOrigin=T,a.smooth=!!r,a.origin=t,a.originIsAbsolute=!!i,e.style[gs]="0px 0px",o&&(Fl(o,a,"xOrigin",c,_),Fl(o,a,"yOrigin",u,T),Fl(o,a,"xOffset",f,a.xOffset),Fl(o,a,"yOffset",h,a.yOffset)),e.setAttribute("data-svg-origin",_+" "+T)},Q0=function(e,t){var i=e._gsap||new hM(e);if("x"in i&&!t&&!i.uncache)return i;var r=e.style,s=i.scaleX<0,o="px",a="deg",l=getComputedStyle(e),c=Jo(e,gs)||"0",u,f,h,p,m,g,A,y,x,b,_,T,M,I,P,w,E,O,F,H,z,X,U,G,j,Y,Q,ve,Pe,He,re,he;return u=f=h=g=A=y=x=b=_=0,p=m=1,i.svg=!!(e.getCTM&&MM(e)),l.translate&&((l.translate!=="none"||l.scale!=="none"||l.rotate!=="none")&&(r[si]=(l.translate!=="none"?"translate3d("+(l.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(l.rotate!=="none"?"rotate("+l.rotate+") ":"")+(l.scale!=="none"?"scale("+l.scale.split(" ").join(",")+") ":"")+(l[si]!=="none"?l[si]:"")),r.scale=r.rotate=r.translate="none"),I=Dx(e,i.svg),i.svg&&(i.uncache?(j=e.getBBox(),c=i.xOrigin-j.x+"px "+(i.yOrigin-j.y)+"px",G=""):G=!t&&e.getAttribute("data-svg-origin"),R_(e,G||c,!!G||i.originIsAbsolute,i.smooth!==!1,I)),T=i.xOrigin||0,M=i.yOrigin||0,I!==G0&&(O=I[0],F=I[1],H=I[2],z=I[3],u=X=I[4],f=U=I[5],I.length===6?(p=Math.sqrt(O*O+F*F),m=Math.sqrt(z*z+H*H),g=O||F?Zu(F,O)*Xc:0,x=H||z?Zu(H,z)*Xc+g:0,x&&(m*=Math.abs(Math.cos(x*$f))),i.svg&&(u-=T-(T*O+M*H),f-=M-(T*F+M*z))):(he=I[6],He=I[7],Q=I[8],ve=I[9],Pe=I[10],re=I[11],u=I[12],f=I[13],h=I[14],P=Zu(he,Pe),A=P*Xc,P&&(w=Math.cos(-P),E=Math.sin(-P),G=X*w+Q*E,j=U*w+ve*E,Y=he*w+Pe*E,Q=X*-E+Q*w,ve=U*-E+ve*w,Pe=he*-E+Pe*w,re=He*-E+re*w,X=G,U=j,he=Y),P=Zu(-H,Pe),y=P*Xc,P&&(w=Math.cos(-P),E=Math.sin(-P),G=O*w-Q*E,j=F*w-ve*E,Y=H*w-Pe*E,re=z*E+re*w,O=G,F=j,H=Y),P=Zu(F,O),g=P*Xc,P&&(w=Math.cos(P),E=Math.sin(P),G=O*w+F*E,j=X*w+U*E,F=F*w-O*E,U=U*w-X*E,O=G,X=j),A&&Math.abs(A)+Math.abs(g)>359.9&&(A=g=0,y=180-y),p=_i(Math.sqrt(O*O+F*F+H*H)),m=_i(Math.sqrt(U*U+he*he)),P=Zu(X,U),x=Math.abs(P)>2e-4?P*Xc:0,_=re?1/(re<0?-re:re):0),i.svg&&(G=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!DM(Jo(e,si)),G&&e.setAttribute("transform",G))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(p*=-1,x+=g<=0?180:-180,g+=g<=0?180:-180):(m*=-1,x+=x<=0?180:-180)),t=t||i.uncache,i.x=u-((i.xPercent=u&&(!t&&i.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*i.xPercent/100:0)+o,i.y=f-((i.yPercent=f&&(!t&&i.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-f)?-50:0)))?e.offsetHeight*i.yPercent/100:0)+o,i.z=h+o,i.scaleX=_i(p),i.scaleY=_i(m),i.rotation=_i(g)+a,i.rotationX=_i(A)+a,i.rotationY=_i(y)+a,i.skewX=x+a,i.skewY=b+a,i.transformPerspective=_+o,(i.zOrigin=parseFloat(c.split(" ")[2])||!t&&i.zOrigin||0)&&(r[gs]=Tg(c)),i.xOffset=i.yOffset=0,i.force3D=Os.force3D,i.renderTransform=i.svg?Bq:EM?PM:Rq,i.uncache=0,i},Tg=function(e){return(e=e.split(" "))[0]+" "+e[1]},j2=function(e,t,i){var r=Er(t);return _i(parseFloat(t)+parseFloat(Jl(e,"x",i+"px",r)))+r},Rq=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,PM(e,t)},Oc="0deg",Ah="0px",Uc=") ",PM=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.z,c=i.rotation,u=i.rotationY,f=i.rotationX,h=i.skewX,p=i.skewY,m=i.scaleX,g=i.scaleY,A=i.transformPerspective,y=i.force3D,x=i.target,b=i.zOrigin,_="",T=y==="auto"&&e&&e!==1||y===!0;if(b&&(f!==Oc||u!==Oc)){var M=parseFloat(u)*$f,I=Math.sin(M),P=Math.cos(M),w;M=parseFloat(f)*$f,w=Math.cos(M),o=j2(x,o,I*w*-b),a=j2(x,a,-Math.sin(M)*-b),l=j2(x,l,P*w*-b+b)}A!==Ah&&(_+="perspective("+A+Uc),(r||s)&&(_+="translate("+r+"%, "+s+"%) "),(T||o!==Ah||a!==Ah||l!==Ah)&&(_+=l!==Ah||T?"translate3d("+o+", "+a+", "+l+") ":"translate("+o+", "+a+Uc),c!==Oc&&(_+="rotate("+c+Uc),u!==Oc&&(_+="rotateY("+u+Uc),f!==Oc&&(_+="rotateX("+f+Uc),(h!==Oc||p!==Oc)&&(_+="skew("+h+", "+p+Uc),(m!==1||g!==1)&&(_+="scale("+m+", "+g+Uc),x.style[si]=_||"translate(0, 0)"},Bq=function(e,t){var i=t||this,r=i.xPercent,s=i.yPercent,o=i.x,a=i.y,l=i.rotation,c=i.skewX,u=i.skewY,f=i.scaleX,h=i.scaleY,p=i.target,m=i.xOrigin,g=i.yOrigin,A=i.xOffset,y=i.yOffset,x=i.forceCSS,b=parseFloat(o),_=parseFloat(a),T,M,I,P,w;l=parseFloat(l),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,l+=u),l||c?(l*=$f,c*=$f,T=Math.cos(l)*f,M=Math.sin(l)*f,I=Math.sin(l-c)*-h,P=Math.cos(l-c)*h,c&&(u*=$f,w=Math.tan(c-u),w=Math.sqrt(1+w*w),I*=w,P*=w,u&&(w=Math.tan(u),w=Math.sqrt(1+w*w),T*=w,M*=w)),T=_i(T),M=_i(M),I=_i(I),P=_i(P)):(T=f,P=h,M=I=0),(b&&!~(o+"").indexOf("px")||_&&!~(a+"").indexOf("px"))&&(b=Jl(p,"x",o,"px"),_=Jl(p,"y",a,"px")),(m||g||A||y)&&(b=_i(b+m-(m*T+g*I)+A),_=_i(_+g-(m*M+g*P)+y)),(r||s)&&(w=p.getBBox(),b=_i(b+r/100*w.width),_=_i(_+s/100*w.height)),w="matrix("+T+","+M+","+I+","+P+","+b+","+_+")",p.setAttribute("transform",w),x&&(p.style[si]=w)},Lq=function(e,t,i,r,s){var o=360,a=er(s),l=parseFloat(s)*(a&&~s.indexOf("rad")?Xc:1),c=l-r,u=r+c+"deg",f,h;return a&&(f=s.split("_")[1],f==="short"&&(c%=o,c!==c%(o/2)&&(c+=c<0?o:-360)),f==="cw"&&c<0?c=(c+o*rS)%o-~~(c/o)*o:f==="ccw"&&c>0&&(c=(c-o*rS)%o-~~(c/o)*o)),e._pt=h=new ms(e._pt,t,i,r,c,Aq),h.e=u,h.u="deg",e._props.push(i),h},fS=function(e,t){for(var i in t)e[i]=t[i];return e},Fq=function(e,t,i){var r=fS({},i._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=i.style,a,l,c,u,f,h,p,m;r.svg?(c=i.getAttribute("transform"),i.setAttribute("transform",""),o[si]=t,a=Q0(i,1),Tu(i,si),i.setAttribute("transform",c)):(c=getComputedStyle(i)[si],o[si]=t,a=Q0(i,1),o[si]=c);for(l in Ya)c=r[l],u=a[l],c!==u&&s.indexOf(l)<0&&(p=Er(c),m=Er(u),f=p!==m?Jl(i,l,c,m):parseFloat(c),h=parseFloat(u),e._pt=new ms(e._pt,a,l,f,h-f,I_),e._pt.u=m||0,e._props.push(l));fS(a,r)};ps("padding,margin,Width,Radius",function(n,e){var t="Top",i="Right",r="Bottom",s="Left",o=(e<3?[t,i,r,s]:[t+s,t+i,r+i,r+s]).map(function(a){return e<2?n+a:"border"+a+n});Eg[e>1?"border"+n:n]=function(a,l,c,u,f){var h,p;if(arguments.length<4)return h=o.map(function(m){return Ma(a,m,c)}),p=h.join(" "),p.split(h[0]).length===5?h[0]:p;h=(u+"").split(" "),p={},o.forEach(function(m,g){return p[m]=h[g]=h[g]||h[(g-1)/2|0]}),a.init(l,p,f)}});var Px={name:"css",register:P_,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,r,s){var o=this._props,a=e.style,l=i.vars.startAt,c,u,f,h,p,m,g,A,y,x,b,_,T,M,I,P;Tx||P_(),this.styles=this.styles||wM(e),P=this.styles.props,this.tween=i;for(g in t)if(g!=="autoRound"&&(u=t[g],!(Is[g]&&pM(g,t,i,r,e,s)))){if(p=typeof u,m=Eg[g],p==="function"&&(u=u.call(i,r,e,s),p=typeof u),p==="string"&&~u.indexOf("random(")&&(u=z0(u)),m)m(this,e,g,u,i)&&(I=1);else if(g.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(g)+"").trim(),u+="",Wl.lastIndex=0,Wl.test(c)||(A=Er(c),y=Er(u)),y?A!==y&&(c=Jl(e,g,c,y)+y):A&&(u+=A),this.add(a,"setProperty",c,u,r,s,0,0,g),o.push(g),P.push(g,0,a[g]);else if(p!=="undefined"){if(l&&g in l?(c=typeof l[g]=="function"?l[g].call(i,r,e,s):l[g],er(c)&&~c.indexOf("random(")&&(c=z0(c)),Er(c+"")||c==="auto"||(c+=Os.units[g]||Er(Ma(e,g))||""),(c+"").charAt(1)==="="&&(c=Ma(e,g))):c=Ma(e,g),h=parseFloat(c),x=p==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),f=parseFloat(u),g in Yo&&(g==="autoAlpha"&&(h===1&&Ma(e,"visibility")==="hidden"&&f&&(h=0),P.push("visibility",0,a.visibility),Fl(this,a,"visibility",h?"inherit":"hidden",f?"inherit":"hidden",!f)),g!=="scale"&&g!=="transform"&&(g=Yo[g],~g.indexOf(",")&&(g=g.split(",")[0]))),b=g in Ya,b){if(this.styles.save(g),_||(T=e._gsap,T.renderTransform&&!t.parseTransform||Q0(e,t.parseTransform),M=t.smoothOrigin!==!1&&T.smooth,_=this._pt=new ms(this._pt,a,si,0,1,T.renderTransform,T,0,-1),_.dep=1),g==="scale")this._pt=new ms(this._pt,T,"scaleY",T.scaleY,(x?Xf(T.scaleY,x+f):f)-T.scaleY||0,I_),this._pt.u=0,o.push("scaleY",g),g+="X";else if(g==="transformOrigin"){P.push(gs,0,a[gs]),u=Dq(u),T.svg?R_(e,u,0,M,0,this):(y=parseFloat(u.split(" ")[2])||0,y!==T.zOrigin&&Fl(this,T,"zOrigin",T.zOrigin,y),Fl(this,a,g,Tg(c),Tg(u)));continue}else if(g==="svgOrigin"){R_(e,u,1,M,0,this);continue}else if(g in IM){Lq(this,T,g,h,x?Xf(h,x+u):u);continue}else if(g==="smoothOrigin"){Fl(this,T,"smooth",T.smooth,u);continue}else if(g==="force3D"){T[g]=u;continue}else if(g==="transform"){Fq(this,u,e);continue}}else g in a||(g=bd(g)||g);if(b||(f||f===0)&&(h||h===0)&&!gq.test(u)&&g in a)A=(c+"").substr((h+"").length),f||(f=0),y=Er(u)||(g in Os.units?Os.units[g]:A),A!==y&&(h=Jl(e,g,c,y)),this._pt=new ms(this._pt,b?T:a,g,h,(x?Xf(h,x+f):f)-h,!b&&(y==="px"||g==="zIndex")&&t.autoRound!==!1?yq:I_),this._pt.u=y||0,A!==y&&y!=="%"&&(this._pt.b=c,this._pt.r=vq);else if(g in a)Iq.call(this,e,g,c,x?x+u:u);else if(g in e)this.add(e,g,c||e[g],x?x+u:u,r,s);else if(g!=="parseTransform"){vx(g,u);continue}b||(g in a?P.push(g,0,a[g]):typeof e[g]=="function"?P.push(g,2,e[g]()):P.push(g,1,c||e[g])),o.push(g)}}I&&_M(this)},render:function(e,t){if(t.tween._time||!Mx())for(var i=t._pt;i;)i.r(e,i.d),i=i._next;else t.styles.revert()},get:Ma,aliases:Yo,getSetter:function(e,t,i){var r=Yo[t];return r&&r.indexOf(",")<0&&(t=r),t in Ya&&t!==gs&&(e._gsap.x||Ma(e,"x"))?i&&iS===i?t==="scale"?Cq:xq:(iS=i||{})&&(t==="scale"?Sq:wq):e.style&&!mx(e.style[t])?_q:~t.indexOf("-")?bq:wx(e,t)},core:{_removeProperty:Tu,_getMatrix:Dx}};Br.utils.checkPrefix=bd;Br.core.getStyleSaver=wM;(function(n,e,t,i){var r=ps(n+","+e+","+t,function(s){Ya[s]=1});ps(e,function(s){Os.units[s]="deg",IM[s]=1}),Yo[r[13]]=n+","+e,ps(i,function(s){var o=s.split(":");Yo[o[1]]=r[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");ps("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Os.units[n]="px"});Br.registerPlugin(Px);var dr=Br.registerPlugin(Px)||Br;dr.core.Tween;const Oq={onLeave:(n,e)=>{dr.to(n,{opacity:0,duration:.5}).then(e)},onBeforeEnter:n=>{n.style.opacity="0"},onEnter:n=>dr.to(n,{opacity:1,duration:.5})};var Uq=0;function Nq(){return Uq++}var El=typeof window<"u",dS=El&&window.requestAnimationFrame,hS=El&&window.cancelAnimationFrame,kq=class{constructor(n=Number.POSITIVE_INFINITY){pe(this,"callbacks");pe(this,"fps");pe(this,"time");pe(this,"lastTickDate");this.callbacks=[],this.fps=n,this.time=0,this.lastTickDate=performance.now()}get executionTime(){return 1e3/this.fps}dispatch(n,e){var t;for(let i=0;i<this.callbacks.length;i++)(t=this.callbacks[i])==null||t.callback(n,e)}raf(n,e){if(this.time+=e,this.fps===Number.POSITIVE_INFINITY)this.dispatch(n,e);else if(this.time>=this.executionTime){this.time=this.time%this.executionTime;const t=n-this.lastTickDate;this.lastTickDate=n,this.dispatch(n,t)}}add({callback:n,priority:e}){typeof n!="function"&&console.error("Tempus.add: callback is not a function");const t=Nq();return this.callbacks.push({callback:n,priority:e,uid:t}),this.callbacks.sort((i,r)=>i.priority-r.priority),()=>this.remove(t)}remove(n){this.callbacks=this.callbacks.filter(({uid:e})=>n!==e)}},zq=class{constructor(){pe(this,"framerates");pe(this,"time");pe(this,"raf",n=>{if(!El)return;requestAnimationFrame(this.raf,!0);const e=n-this.time;this.time=n;for(const t of Object.values(this.framerates))t.raf(n,e)});this.framerates={},this.time=El?performance.now():0,El&&requestAnimationFrame(this.raf)}add(n,{priority:e=0,fps:t=Number.POSITIVE_INFINITY}={}){if(El&&typeof t=="number")return this.framerates[t]||(this.framerates[t]=new kq(t)),this.framerates[t].add({callback:n,priority:e})}patch(){El&&(window.requestAnimationFrame=(n,{priority:e=0,fps:t=Number.POSITIVE_INFINITY}={})=>n===this.raf||!n.toString().includes("requestAnimationFrame(")?dS(n):(n.__tempusPatched||(n.__tempusPatched=!0,n.__tempusUnsubscribe=this.add(n,{priority:e,fps:t})),n.__tempusUnsubscribe),window.cancelAnimationFrame=n=>{if(typeof n=="function"){n==null||n();return}return hS(n)})}unpatch(){El&&(window.requestAnimationFrame=dS,window.cancelAnimationFrame=hS)}},RM=new zq;function Rx(n){return nA()?(Fy(n),!0):!1}const BM=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Hq=n=>n!=null,Vq=Object.prototype.toString,Gq=n=>Vq.call(n)==="[object Object]",Yc=()=>{},Qq=jq();function jq(){var n,e;return BM&&((n=window==null?void 0:window.navigator)==null?void 0:n.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((e=window==null?void 0:window.navigator)==null?void 0:e.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function LM(n){return Ro()}function Hm(n){return Array.isArray(n)?n:[n]}function _A(n,e=!0,t){LM()?ks(n,t):e?n():el(n)}function Wq(n,e){LM()&&nl(n,e)}function qq(n,e,t){return oi(n,e,{...t,immediate:!0})}const kd=BM?window:void 0;function ru(n){var e;const t=xo(n);return(e=t==null?void 0:t.$el)!=null?e:t}function Kr(...n){const e=[],t=()=>{e.forEach(a=>a()),e.length=0},i=(a,l,c,u)=>(a.addEventListener(l,c,u),()=>a.removeEventListener(l,c,u)),r=ni(()=>{const a=Hm(xo(n[0])).filter(l=>l!=null);return a.every(l=>typeof l!="string")?a:void 0}),s=qq(()=>{var a,l;return[(l=(a=r.value)==null?void 0:a.map(c=>ru(c)))!=null?l:[kd].filter(c=>c!=null),Hm(xo(r.value?n[1]:n[0])),Hm(qt(r.value?n[2]:n[1])),xo(r.value?n[3]:n[2])]},([a,l,c,u])=>{if(t(),!(a!=null&&a.length)||!(l!=null&&l.length)||!(c!=null&&c.length))return;const f=Gq(u)?{...u}:u;e.push(...a.flatMap(h=>l.flatMap(p=>c.map(m=>i(h,p,m,f)))))},{flush:"post"}),o=()=>{s(),t()};return Rx(t),o}let pS=!1;function Xq(n,e,t={}){const{window:i=kd,ignore:r=[],capture:s=!0,detectIframe:o=!1,controls:a=!1}=t;if(!i)return a?{stop:Yc,cancel:Yc,trigger:Yc}:Yc;if(Qq&&!pS){pS=!0;const A={passive:!0};Array.from(i.document.body.children).forEach(y=>Kr(y,"click",Yc,A)),Kr(i.document.documentElement,"click",Yc,A)}let l=!0;const c=A=>xo(r).some(y=>{if(typeof y=="string")return Array.from(i.document.querySelectorAll(y)).some(x=>x===A.target||A.composedPath().includes(x));{const x=ru(y);return x&&(A.target===x||A.composedPath().includes(x))}});function u(A){const y=xo(A);return y&&y.$.subTree.shapeFlag===16}function f(A,y){const x=xo(A),b=x.$.subTree&&x.$.subTree.children;return b==null||!Array.isArray(b)?!1:b.some(_=>_.el===y.target||y.composedPath().includes(_.el))}const h=A=>{const y=ru(n);if(A.target!=null&&!(!(y instanceof Element)&&u(n)&&f(n,A))&&!(!y||y===A.target||A.composedPath().includes(y))){if("detail"in A&&A.detail===0&&(l=!c(A)),!l){l=!0;return}e(A)}};let p=!1;const m=[Kr(i,"click",A=>{p||(p=!0,setTimeout(()=>{p=!1},0),h(A))},{passive:!0,capture:s}),Kr(i,"pointerdown",A=>{const y=ru(n);l=!c(A)&&!!(y&&!A.composedPath().includes(y))},{passive:!0}),o&&Kr(i,"blur",A=>{setTimeout(()=>{var y;const x=ru(n);((y=i.document.activeElement)==null?void 0:y.tagName)==="IFRAME"&&!(x!=null&&x.contains(i.document.activeElement))&&e(A)},0)},{passive:!0})].filter(Boolean),g=()=>m.forEach(A=>A());return a?{stop:g,cancel:()=>{l=!1},trigger:A=>{l=!0,h(A),l=!1}}:g}function Yq(){const n=ds(!1),e=Ro();return e&&ks(()=>{n.value=!0},e),n}function $q(n){const e=Yq();return ni(()=>(e.value,!!n()))}function Kq(n,e,t={}){const{window:i=kd,...r}=t;let s;const o=$q(()=>i&&"MutationObserver"in i),a=()=>{s&&(s.disconnect(),s=void 0)},l=ni(()=>{const h=xo(n),p=Hm(h).map(ru).filter(Hq);return new Set(p)}),c=oi(()=>l.value,h=>{a(),o.value&&h.size&&(s=new MutationObserver(e),h.forEach(p=>s.observe(p,r)))},{immediate:!0,flush:"post"}),u=()=>s==null?void 0:s.takeRecords(),f=()=>{c(),a()};return Rx(f),{isSupported:o,stop:f,takeRecords:u}}function Zq(n,e,t={}){const{window:i=kd,document:r=i==null?void 0:i.document,flush:s="sync"}=t;if(!i||!r)return Yc;let o;const a=u=>{o==null||o(),o=u},l=sA(()=>{const u=ru(n);if(u){const{stop:f}=Kq(r,h=>{h.map(m=>[...m.removedNodes]).flat().some(m=>m===u||m.contains(u))&&e(h)},{window:i,childList:!0,subtree:!0});a(f)}},{flush:s}),c=()=>{l(),a()};return Rx(c),c}function Jq(n={}){var e;const{window:t=kd,deep:i=!0,triggerOnRemoval:r=!1}=n,s=(e=n.document)!=null?e:t==null?void 0:t.document,o=()=>{var c;let u=s==null?void 0:s.activeElement;if(i)for(;u!=null&&u.shadowRoot;)u=(c=u==null?void 0:u.shadowRoot)==null?void 0:c.activeElement;return u},a=gt(),l=()=>{a.value=o()};if(t){const c={capture:!0,passive:!0};Kr(t,"blur",u=>{u.relatedTarget===null&&l()},c),Kr(t,"focus",l,c)}return r&&Zq(a,l,{document:s}),l(),a}const eX={page:n=>[n.pageX,n.pageY],client:n=>[n.clientX,n.clientY],screen:n=>[n.screenX,n.screenY],movement:n=>n instanceof MouseEvent?[n.movementX,n.movementY]:null};function tX(n={}){const{type:e="page",touch:t=!0,resetOnTouchEnds:i=!1,initialValue:r={x:0,y:0},window:s=kd,target:o=s,scroll:a=!0,eventFilter:l}=n;let c=null,u=0,f=0;const h=ds(r.x),p=ds(r.y),m=ds(null),g=typeof e=="function"?e:eX[e],A=I=>{const P=g(I);c=I,P&&([h.value,p.value]=P,m.value="mouse"),s&&(u=s.scrollX,f=s.scrollY)},y=I=>{if(I.touches.length>0){const P=g(I.touches[0]);P&&([h.value,p.value]=P,m.value="touch")}},x=()=>{if(!c||!s)return;const I=g(c);c instanceof MouseEvent&&I&&(h.value=I[0]+s.scrollX-u,p.value=I[1]+s.scrollY-f)},b=()=>{h.value=r.x,p.value=r.y},_=l?I=>l(()=>A(I),{}):I=>A(I),T=l?I=>l(()=>y(I),{}):I=>y(I),M=l?()=>l(()=>x(),{}):()=>x();if(o){const I={passive:!0};Kr(o,["mousemove","dragover"],_,I),t&&e!=="movement"&&(Kr(o,["touchstart","touchmove"],T,I),i&&Kr(o,"touchend",b,I)),a&&e==="page"&&Kr(s,"scroll",M,I)}return{x:h,y:p,sourceType:m}}/*!
 * paths 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var nX=/[achlmqstvz]|(-?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/ig,iX=/[\+\-]?\d*\.?\d+e[\+\-]?\d+/ig,rX=Math.PI/180,T1=Math.sin,M1=Math.cos,f0=Math.abs,vh=Math.sqrt,sX=function(e){return typeof e=="number"},mS=1e5,cl=function(e){return Math.round(e*mS)/mS||0};function oX(n,e,t,i,r,s,o){for(var a=n.length,l,c,u,f,h;--a>-1;)for(l=n[a],c=l.length,u=0;u<c;u+=2)f=l[u],h=l[u+1],l[u]=f*e+h*i+s,l[u+1]=f*t+h*r+o;return n._dirty=1,n}function aX(n,e,t,i,r,s,o,a,l){if(!(n===a&&e===l)){t=f0(t),i=f0(i);var c=r%360*rX,u=M1(c),f=T1(c),h=Math.PI,p=h*2,m=(n-a)/2,g=(e-l)/2,A=u*m+f*g,y=-f*m+u*g,x=A*A,b=y*y,_=x/(t*t)+b/(i*i);_>1&&(t=vh(_)*t,i=vh(_)*i);var T=t*t,M=i*i,I=(T*M-T*b-M*x)/(T*b+M*x);I<0&&(I=0);var P=(s===o?-1:1)*vh(I),w=P*(t*y/i),E=P*-(i*A/t),O=(n+a)/2,F=(e+l)/2,H=O+(u*w-f*E),z=F+(f*w+u*E),X=(A-w)/t,U=(y-E)/i,G=(-A-w)/t,j=(-y-E)/i,Y=X*X+U*U,Q=(U<0?-1:1)*Math.acos(X/vh(Y)),ve=(X*j-U*G<0?-1:1)*Math.acos((X*G+U*j)/vh(Y*(G*G+j*j)));isNaN(ve)&&(ve=h),!o&&ve>0?ve-=p:o&&ve<0&&(ve+=p),Q%=p,ve%=p;var Pe=Math.ceil(f0(ve)/(p/4)),He=[],re=ve/Pe,he=4/3*T1(re/2)/(1+M1(re/2)),Oe=u*t,J=f*t,ye=f*-i,Se=u*i,be;for(be=0;be<Pe;be++)r=Q+be*re,A=M1(r),y=T1(r),X=M1(r+=re),U=T1(r),He.push(A-he*y,y+he*A,X+he*U,U-he*X,X,U);for(be=0;be<He.length;be+=2)A=He[be],y=He[be+1],He[be]=A*Oe+y*ye+H,He[be+1]=A*J+y*Se+z;return He[be-2]=a,He[be-1]=l,He}}function lX(n){var e=(n+"").replace(iX,function(w){var E=+w;return E<1e-4&&E>-1e-4?0:E}).match(nX)||[],t=[],i=0,r=0,s=2/3,o=e.length,a=0,l="ERROR: malformed path: "+n,c,u,f,h,p,m,g,A,y,x,b,_,T,M,I,P=function(E,O,F,H){x=(F-E)/3,b=(H-O)/3,g.push(E+x,O+b,F-x,H-b,F,H)};if(!n||!isNaN(e[0])||isNaN(e[1]))return console.log(l),t;for(c=0;c<o;c++)if(T=p,isNaN(e[c])?(p=e[c].toUpperCase(),m=p!==e[c]):c--,f=+e[c+1],h=+e[c+2],m&&(f+=i,h+=r),c||(A=f,y=h),p==="M")g&&(g.length<8?t.length-=1:a+=g.length),i=A=f,r=y=h,g=[f,h],t.push(g),c+=2,p="L";else if(p==="C")g||(g=[0,0]),m||(i=r=0),g.push(f,h,i+e[c+3]*1,r+e[c+4]*1,i+=e[c+5]*1,r+=e[c+6]*1),c+=6;else if(p==="S")x=i,b=r,(T==="C"||T==="S")&&(x+=i-g[g.length-4],b+=r-g[g.length-3]),m||(i=r=0),g.push(x,b,f,h,i+=e[c+3]*1,r+=e[c+4]*1),c+=4;else if(p==="Q")x=i+(f-i)*s,b=r+(h-r)*s,m||(i=r=0),i+=e[c+3]*1,r+=e[c+4]*1,g.push(x,b,i+(f-i)*s,r+(h-r)*s,i,r),c+=4;else if(p==="T")x=i-g[g.length-4],b=r-g[g.length-3],g.push(i+x,r+b,f+(i+x*1.5-f)*s,h+(r+b*1.5-h)*s,i=f,r=h),c+=2;else if(p==="H")P(i,r,i=f,r),c+=1;else if(p==="V")P(i,r,i,r=f+(m?r-i:0)),c+=1;else if(p==="L"||p==="Z")p==="Z"&&(f=A,h=y,g.closed=!0),(p==="L"||f0(i-f)>.5||f0(r-h)>.5)&&(P(i,r,f,h),p==="L"&&(c+=2)),i=f,r=h;else if(p==="A"){if(M=e[c+4],I=e[c+5],x=e[c+6],b=e[c+7],u=7,M.length>1&&(M.length<3?(b=x,x=I,u--):(b=I,x=M.substr(2),u-=2),I=M.charAt(1),M=M.charAt(0)),_=aX(i,r,+e[c+1],+e[c+2],+e[c+3],+M,+I,(m?i:0)+x*1,(m?r:0)+b*1),c+=u,_)for(u=0;u<_.length;u++)g.push(_[u]);i=g[g.length-2],r=g[g.length-1]}else console.log(l);return c=g.length,c<6?(t.pop(),c=0):g[0]===g[c-2]&&g[1]===g[c-1]&&(g.closed=!0),t.totalPoints=a+c,t}function cX(n){sX(n[0])&&(n=[n]);var e="",t=n.length,i,r,s,o;for(r=0;r<t;r++){for(o=n[r],e+="M"+cl(o[0])+","+cl(o[1])+" C",i=o.length,s=2;s<i;s++)e+=cl(o[s++])+","+cl(o[s++])+" "+cl(o[s++])+","+cl(o[s++])+" "+cl(o[s++])+","+cl(o[s])+" ";o.closed&&(e+="z")}return e}/*!
 * CustomEase 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var cs,FM,OM=function(){return cs||typeof window<"u"&&(cs=window.gsap)&&cs.registerPlugin&&cs},gS=function(){cs=OM(),cs?(cs.registerEase("_CE",Ol.create),FM=1):console.warn("Please gsap.registerPlugin(CustomEase)")},uX=1e20,I1=function(e){return~~(e*1e3+(e<0?-.5:.5))/1e3},fX=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/gi,dX=/[cLlsSaAhHvVtTqQ]/g,hX=function(e){var t=e.length,i=uX,r;for(r=1;r<t;r+=6)+e[r]<i&&(i=+e[r]);return i},pX=function(e,t,i){!i&&i!==0&&(i=Math.max(+e[e.length-1],+e[1]));var r=+e[0]*-1,s=-i,o=e.length,a=1/(+e[o-2]+r),l=-t||(Math.abs(+e[o-1]-+e[1])<.01*(+e[o-2]-+e[0])?hX(e)+s:+e[o-1]+s),c;for(l?l=1/l:l=-a,c=0;c<o;c+=2)e[c]=(+e[c]+r)*a,e[c+1]=(+e[c+1]+s)*l},mX=function n(e,t,i,r,s,o,a,l,c,u,f){var h=(e+i)/2,p=(t+r)/2,m=(i+s)/2,g=(r+o)/2,A=(s+a)/2,y=(o+l)/2,x=(h+m)/2,b=(p+g)/2,_=(m+A)/2,T=(g+y)/2,M=(x+_)/2,I=(b+T)/2,P=a-e,w=l-t,E=Math.abs((i-a)*w-(r-l)*P),O=Math.abs((s-a)*w-(o-l)*P),F;return u||(u=[{x:e,y:t},{x:a,y:l}],f=1),u.splice(f||u.length-1,0,{x:M,y:I}),(E+O)*(E+O)>c*(P*P+w*w)&&(F=u.length,n(e,t,h,p,x,b,M,I,c,u,f),n(M,I,_,T,A,y,a,l,c,u,f+1+(u.length-F))),u},Ol=function(){function n(t,i,r){FM||gS(),this.id=t,this.setData(i,r)}var e=n.prototype;return e.setData=function(i,r){r=r||{},i=i||"0,0,1,1";var s=i.match(fX),o=1,a=[],l=[],c=r.precision||1,u=c<=1,f,h,p,m,g,A,y,x,b;if(this.data=i,(dX.test(i)||~i.indexOf("M")&&i.indexOf("C")<0)&&(s=lX(i)[0]),f=s.length,f===4)s.unshift(0,0),s.push(1,1),f=8;else if((f-2)%6)throw"Invalid CustomEase";for((+s[0]!=0||+s[f-2]!=1)&&pX(s,r.height,r.originY),this.segment=s,m=2;m<f;m+=6)h={x:+s[m-2],y:+s[m-1]},p={x:+s[m+4],y:+s[m+5]},a.push(h,p),mX(h.x,h.y,+s[m],+s[m+1],+s[m+2],+s[m+3],p.x,p.y,1/(c*2e5),a,a.length-1);for(f=a.length,m=0;m<f;m++)y=a[m],x=a[m-1]||y,(y.x>x.x||x.y!==y.y&&x.x===y.x||y===x)&&y.x<=1?(x.cx=y.x-x.x,x.cy=y.y-x.y,x.n=y,x.nx=y.x,u&&m>1&&Math.abs(x.cy/x.cx-a[m-2].cy/a[m-2].cx)>2&&(u=0),x.cx<o&&(x.cx?o=x.cx:(x.cx=.001,m===f-1&&(x.x-=.001,o=Math.min(o,.001),u=0)))):(a.splice(m--,1),f--);if(f=1/o+1|0,g=1/f,A=0,y=a[0],u){for(m=0;m<f;m++)b=m*g,y.nx<b&&(y=a[++A]),h=y.y+(b-y.x)/y.cx*y.cy,l[m]={x:b,cx:g,y:h,cy:0,nx:9},m&&(l[m-1].cy=h-l[m-1].y);A=a[a.length-1],l[f-1].cy=A.y-h,l[f-1].cx=A.x-l[l.length-1].x}else{for(m=0;m<f;m++)y.nx<m*g&&(y=a[++A]),l[m]=y;A<a.length-1&&(l[m-1]=a[a.length-2])}return this.ease=function(_){var T=l[_*f|0]||l[f-1];return T.nx<_&&(T=T.n),T.y+(_-T.x)/T.cx*T.cy},this.ease.custom=this,this.id&&cs&&cs.registerEase(this.id,this.ease),this},e.getSVGData=function(i){return n.getSVGData(this,i)},n.create=function(i,r,s){return new n(i,r,s).ease},n.register=function(i){cs=i,gS()},n.get=function(i){return cs.parseEase(i)},n.getSVGData=function(i,r){r=r||{};var s=r.width||100,o=r.height||100,a=r.x||0,l=(r.y||0)+o,c=cs.utils.toArray(r.path)[0],u,f,h,p,m,g,A,y,x,b;if(r.invert&&(o=-o,l=0),typeof i=="string"&&(i=cs.parseEase(i)),i.custom&&(i=i.custom),i instanceof n)u=cX(oX([i.segment],s,0,0,-o,a,l));else{for(u=[a,l],A=Math.max(5,(r.precision||1)*200),p=1/A,A+=2,y=5/A,x=I1(a+p*s),b=I1(l+i(p)*-o),f=(b-l)/(x-a),h=2;h<A;h++)m=I1(a+h*p*s),g=I1(l+i(h*p)*-o),(Math.abs((g-b)/(m-x)-f)>y||h===A-1)&&(u.push(x,b),f=(g-b)/(m-x)),x=m,b=g;u="M"+u.join(",")}return c&&c.setAttribute("d",u),u},n}();Ol.version="3.12.7";Ol.headless=!0;OM()&&cs.registerPlugin(Ol);function gX(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function AX(n,e,t){return e&&gX(n.prototype,e),n}/*!
 * Observer 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var ur,Vm,Bs,Ul,Nl,Kf,UM,$c,d0,NM,Ha,mo,kM,zM=function(){return ur||typeof window<"u"&&(ur=window.gsap)&&ur.registerPlugin&&ur},HM=1,Ff=[],Ht=[],ea=[],h0=Date.now,B_=function(e,t){return t},vX=function(){var e=d0.core,t=e.bridge||{},i=e._scrollers,r=e._proxies;i.push.apply(i,Ht),r.push.apply(r,ea),Ht=i,ea=r,B_=function(o,a){return t[o](a)}},ql=function(e,t){return~ea.indexOf(e)&&ea[ea.indexOf(e)+1][t]},p0=function(e){return!!~NM.indexOf(e)},Hr=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:r!==!1,capture:!!s})},Ur=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},D1="scrollLeft",P1="scrollTop",L_=function(){return Ha&&Ha.isPressed||Ht.cache++},Mg=function(e,t){var i=function r(s){if(s||s===0){HM&&(Bs.history.scrollRestoration="manual");var o=Ha&&Ha.isPressed;s=r.v=Math.round(s)||(Ha&&Ha.iOS?1:0),e(s),r.cacheID=Ht.cache,o&&B_("ss",s)}else(t||Ht.cache!==r.cacheID||B_("ref"))&&(r.cacheID=Ht.cache,r.v=e());return r.v+r.offset};return i.offset=0,e&&i},Zr={s:D1,p:"left",p2:"Left",os:"right",os2:"Right",d:"width",d2:"Width",a:"x",sc:Mg(function(n){return arguments.length?Bs.scrollTo(n,Ni.sc()):Bs.pageXOffset||Ul[D1]||Nl[D1]||Kf[D1]||0})},Ni={s:P1,p:"top",p2:"Top",os:"bottom",os2:"Bottom",d:"height",d2:"Height",a:"y",op:Zr,sc:Mg(function(n){return arguments.length?Bs.scrollTo(Zr.sc(),n):Bs.pageYOffset||Ul[P1]||Nl[P1]||Kf[P1]||0})},ls=function(e,t){return(t&&t._ctx&&t._ctx.selector||ur.utils.toArray)(e)[0]||(typeof e=="string"&&ur.config().nullTargetWarn!==!1?console.warn("Element not found:",e):null)},ec=function(e,t){var i=t.s,r=t.sc;p0(e)&&(e=Ul.scrollingElement||Nl);var s=Ht.indexOf(e),o=r===Ni.sc?1:2;!~s&&(s=Ht.push(e)-1),Ht[s+o]||Hr(e,"scroll",L_);var a=Ht[s+o],l=a||(Ht[s+o]=Mg(ql(e,i),!0)||(p0(e)?r:Mg(function(c){return arguments.length?e[i]=c:e[i]})));return l.target=e,a||(l.smooth=ur.getProperty(e,"scrollBehavior")==="smooth"),l},F_=function(e,t,i){var r=e,s=e,o=h0(),a=o,l=t||50,c=Math.max(500,l*3),u=function(m,g){var A=h0();g||A-o>l?(s=r,r=m,a=o,o=A):i?r+=m:r=s+(m-s)/(A-a)*(o-a)},f=function(){s=r=i?0:r,a=o=0},h=function(m){var g=a,A=s,y=h0();return(m||m===0)&&m!==r&&u(m),o===a||y-a>c?0:(r+(i?A:-A))/((i?y:o)-g)*1e3};return{update:u,reset:f,getVelocity:h}},yh=function(e,t){return t&&!e._gsapAllow&&e.preventDefault(),e.changedTouches?e.changedTouches[0]:e},AS=function(e){var t=Math.max.apply(Math,e),i=Math.min.apply(Math,e);return Math.abs(t)>=Math.abs(i)?t:i},VM=function(){d0=ur.core.globals().ScrollTrigger,d0&&d0.core&&vX()},GM=function(e){return ur=e||zM(),!Vm&&ur&&typeof document<"u"&&document.body&&(Bs=window,Ul=document,Nl=Ul.documentElement,Kf=Ul.body,NM=[Bs,Ul,Nl,Kf],ur.utils.clamp,kM=ur.core.context||function(){},$c="onpointerenter"in Kf?"pointer":"mouse",UM=bi.isTouch=Bs.matchMedia&&Bs.matchMedia("(hover: none), (pointer: coarse)").matches?1:"ontouchstart"in Bs||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?2:0,mo=bi.eventTypes=("ontouchstart"in Nl?"touchstart,touchmove,touchcancel,touchend":"onpointerdown"in Nl?"pointerdown,pointermove,pointercancel,pointerup":"mousedown,mousemove,mouseup,mouseup").split(","),setTimeout(function(){return HM=0},500),VM(),Vm=1),Vm};Zr.op=Ni;Ht.cache=0;var bi=function(){function n(t){this.init(t)}var e=n.prototype;return e.init=function(i){Vm||GM(ur)||console.warn("Please gsap.registerPlugin(Observer)"),d0||VM();var r=i.tolerance,s=i.dragMinimum,o=i.type,a=i.target,l=i.lineHeight,c=i.debounce,u=i.preventDefault,f=i.onStop,h=i.onStopDelay,p=i.ignore,m=i.wheelSpeed,g=i.event,A=i.onDragStart,y=i.onDragEnd,x=i.onDrag,b=i.onPress,_=i.onRelease,T=i.onRight,M=i.onLeft,I=i.onUp,P=i.onDown,w=i.onChangeX,E=i.onChangeY,O=i.onChange,F=i.onToggleX,H=i.onToggleY,z=i.onHover,X=i.onHoverEnd,U=i.onMove,G=i.ignoreCheck,j=i.isNormalizer,Y=i.onGestureStart,Q=i.onGestureEnd,ve=i.onWheel,Pe=i.onEnable,He=i.onDisable,re=i.onClick,he=i.scrollSpeed,Oe=i.capture,J=i.allowClicks,ye=i.lockAxis,Se=i.onLockAxis;this.target=a=ls(a)||Nl,this.vars=i,p&&(p=ur.utils.toArray(p)),r=r||1e-9,s=s||0,m=m||1,he=he||1,o=o||"wheel,touch,pointer",c=c!==!1,l||(l=parseFloat(Bs.getComputedStyle(Kf).lineHeight)||22);var be,qe,rt,W,R,le,_e,K=this,de=0,Be=0,xe=i.passive||!u&&i.passive!==!1,k=ec(a,Zr),B=ec(a,Ni),ne=k(),se=B(),ce=~o.indexOf("touch")&&!~o.indexOf("pointer")&&mo[0]==="pointerdown",fe=p0(a),Ie=a.ownerDocument||Ul,Le=[0,0,0],Fe=[0,0,0],dt=0,Re=function(){return dt=h0()},ze=function(ot,Mt){return(K.event=ot)&&p&&~p.indexOf(ot.target)||Mt&&ce&&ot.pointerType!=="touch"||G&&G(ot,Mt)},Xe=function(){K._vx.reset(),K._vy.reset(),qe.pause(),f&&f(K)},st=function(){var ot=K.deltaX=AS(Le),Mt=K.deltaY=AS(Fe),Ze=Math.abs(ot)>=r,Ct=Math.abs(Mt)>=r;O&&(Ze||Ct)&&O(K,ot,Mt,Le,Fe),Ze&&(T&&K.deltaX>0&&T(K),M&&K.deltaX<0&&M(K),w&&w(K),F&&K.deltaX<0!=de<0&&F(K),de=K.deltaX,Le[0]=Le[1]=Le[2]=0),Ct&&(P&&K.deltaY>0&&P(K),I&&K.deltaY<0&&I(K),E&&E(K),H&&K.deltaY<0!=Be<0&&H(K),Be=K.deltaY,Fe[0]=Fe[1]=Fe[2]=0),(W||rt)&&(U&&U(K),rt&&(A&&rt===1&&A(K),x&&x(K),rt=0),W=!1),le&&!(le=!1)&&Se&&Se(K),R&&(ve(K),R=!1),be=0},et=function(ot,Mt,Ze){Le[Ze]+=ot,Fe[Ze]+=Mt,K._vx.update(ot),K._vy.update(Mt),c?be||(be=requestAnimationFrame(st)):st()},mt=function(ot,Mt){ye&&!_e&&(K.axis=_e=Math.abs(ot)>Math.abs(Mt)?"x":"y",le=!0),_e!=="y"&&(Le[2]+=ot,K._vx.update(ot,!0)),_e!=="x"&&(Fe[2]+=Mt,K._vy.update(Mt,!0)),c?be||(be=requestAnimationFrame(st)):st()},lt=function(ot){if(!ze(ot,1)){ot=yh(ot,u);var Mt=ot.clientX,Ze=ot.clientY,Ct=Mt-K.x,ct=Ze-K.y,bt=K.isDragging;K.x=Mt,K.y=Ze,(bt||(Ct||ct)&&(Math.abs(K.startX-Mt)>=s||Math.abs(K.startY-Ze)>=s))&&(rt=bt?2:1,bt||(K.isDragging=!0),mt(Ct,ct))}},Pt=K.onPress=function($e){ze($e,1)||$e&&$e.button||(K.axis=_e=null,qe.pause(),K.isPressed=!0,$e=yh($e),de=Be=0,K.startX=K.x=$e.clientX,K.startY=K.y=$e.clientY,K._vx.reset(),K._vy.reset(),Hr(j?a:Ie,mo[1],lt,xe,!0),K.deltaX=K.deltaY=0,b&&b(K))},te=K.onRelease=function($e){if(!ze($e,1)){Ur(j?a:Ie,mo[1],lt,!0);var ot=!isNaN(K.y-K.startY),Mt=K.isDragging,Ze=Mt&&(Math.abs(K.x-K.startX)>3||Math.abs(K.y-K.startY)>3),Ct=yh($e);!Ze&&ot&&(K._vx.reset(),K._vy.reset(),u&&J&&ur.delayedCall(.08,function(){if(h0()-dt>300&&!$e.defaultPrevented){if($e.target.click)$e.target.click();else if(Ie.createEvent){var ct=Ie.createEvent("MouseEvents");ct.initMouseEvent("click",!0,!0,Bs,1,Ct.screenX,Ct.screenY,Ct.clientX,Ct.clientY,!1,!1,!1,!1,0,null),$e.target.dispatchEvent(ct)}}})),K.isDragging=K.isGesturing=K.isPressed=!1,f&&Mt&&!j&&qe.restart(!0),rt&&st(),y&&Mt&&y(K),_&&_(K,Ze)}},je=function(ot){return ot.touches&&ot.touches.length>1&&(K.isGesturing=!0)&&Y(ot,K.isDragging)},Ce=function(){return(K.isGesturing=!1)||Q(K)},Me=function(ot){if(!ze(ot)){var Mt=k(),Ze=B();et((Mt-ne)*he,(Ze-se)*he,1),ne=Mt,se=Ze,f&&qe.restart(!0)}},We=function(ot){if(!ze(ot)){ot=yh(ot,u),ve&&(R=!0);var Mt=(ot.deltaMode===1?l:ot.deltaMode===2?Bs.innerHeight:1)*m;et(ot.deltaX*Mt,ot.deltaY*Mt,0),f&&!j&&qe.restart(!0)}},Ye=function(ot){if(!ze(ot)){var Mt=ot.clientX,Ze=ot.clientY,Ct=Mt-K.x,ct=Ze-K.y;K.x=Mt,K.y=Ze,W=!0,f&&qe.restart(!0),(Ct||ct)&&mt(Ct,ct)}},_t=function(ot){K.event=ot,z(K)},Wt=function(ot){K.event=ot,X(K)},Rn=function(ot){return ze(ot)||yh(ot,u)&&re(K)};qe=K._dc=ur.delayedCall(h||.25,Xe).pause(),K.deltaX=K.deltaY=0,K._vx=F_(0,50,!0),K._vy=F_(0,50,!0),K.scrollX=k,K.scrollY=B,K.isDragging=K.isGesturing=K.isPressed=!1,kM(this),K.enable=function($e){return K.isEnabled||(Hr(fe?Ie:a,"scroll",L_),o.indexOf("scroll")>=0&&Hr(fe?Ie:a,"scroll",Me,xe,Oe),o.indexOf("wheel")>=0&&Hr(a,"wheel",We,xe,Oe),(o.indexOf("touch")>=0&&UM||o.indexOf("pointer")>=0)&&(Hr(a,mo[0],Pt,xe,Oe),Hr(Ie,mo[2],te),Hr(Ie,mo[3],te),J&&Hr(a,"click",Re,!0,!0),re&&Hr(a,"click",Rn),Y&&Hr(Ie,"gesturestart",je),Q&&Hr(Ie,"gestureend",Ce),z&&Hr(a,$c+"enter",_t),X&&Hr(a,$c+"leave",Wt),U&&Hr(a,$c+"move",Ye)),K.isEnabled=!0,K.isDragging=K.isGesturing=K.isPressed=W=rt=!1,K._vx.reset(),K._vy.reset(),ne=k(),se=B(),$e&&$e.type&&Pt($e),Pe&&Pe(K)),K},K.disable=function(){K.isEnabled&&(Ff.filter(function($e){return $e!==K&&p0($e.target)}).length||Ur(fe?Ie:a,"scroll",L_),K.isPressed&&(K._vx.reset(),K._vy.reset(),Ur(j?a:Ie,mo[1],lt,!0)),Ur(fe?Ie:a,"scroll",Me,Oe),Ur(a,"wheel",We,Oe),Ur(a,mo[0],Pt,Oe),Ur(Ie,mo[2],te),Ur(Ie,mo[3],te),Ur(a,"click",Re,!0),Ur(a,"click",Rn),Ur(Ie,"gesturestart",je),Ur(Ie,"gestureend",Ce),Ur(a,$c+"enter",_t),Ur(a,$c+"leave",Wt),Ur(a,$c+"move",Ye),K.isEnabled=K.isPressed=K.isDragging=!1,He&&He(K))},K.kill=K.revert=function(){K.disable();var $e=Ff.indexOf(K);$e>=0&&Ff.splice($e,1),Ha===K&&(Ha=0)},Ff.push(K),j&&p0(a)&&(Ha=K),K.enable(g)},AX(n,[{key:"velocityX",get:function(){return this._vx.getVelocity()}},{key:"velocityY",get:function(){return this._vy.getVelocity()}}]),n}();bi.version="3.12.7";bi.create=function(n){return new bi(n)};bi.register=GM;bi.getAll=function(){return Ff.slice()};bi.getById=function(n){return Ff.filter(function(e){return e.vars.id===n})[0]};zM()&&ur.registerPlugin(bi);/*!
 * ScrollTrigger 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var at,wf,zt,Nn,Ps,pn,Bx,Ig,j0,m0,Gh,R1,_r,bA,O_,Wr,vS,yS,Ef,QM,W2,jM,Gr,U_,WM,qM,yl,N_,Lx,Zf,Fx,Dg,k_,q2,B1=1,xr=Date.now,X2=xr(),no=0,Qh=0,_S=function(e,t,i){var r=Ts(e)&&(e.substr(0,6)==="clamp("||e.indexOf("max")>-1);return i["_"+t+"Clamp"]=r,r?e.substr(6,e.length-7):e},bS=function(e,t){return t&&(!Ts(e)||e.substr(0,6)!=="clamp(")?"clamp("+e+")":e},yX=function n(){return Qh&&requestAnimationFrame(n)},xS=function(){return bA=1},CS=function(){return bA=0},Go=function(e){return e},jh=function(e){return Math.round(e*1e5)/1e5||0},XM=function(){return typeof window<"u"},YM=function(){return at||XM()&&(at=window.gsap)&&at.registerPlugin&&at},Mu=function(e){return!!~Bx.indexOf(e)},$M=function(e){return(e==="Height"?Fx:zt["inner"+e])||Ps["client"+e]||pn["client"+e]},KM=function(e){return ql(e,"getBoundingClientRect")||(Mu(e)?function(){return qm.width=zt.innerWidth,qm.height=Fx,qm}:function(){return Fa(e)})},_X=function(e,t,i){var r=i.d,s=i.d2,o=i.a;return(o=ql(e,"getBoundingClientRect"))?function(){return o()[r]}:function(){return(t?$M(s):e["client"+s])||0}},bX=function(e,t){return!t||~ea.indexOf(e)?KM(e):function(){return qm}},$o=function(e,t){var i=t.s,r=t.d2,s=t.d,o=t.a;return Math.max(0,(i="scroll"+r)&&(o=ql(e,i))?o()-KM(e)()[s]:Mu(e)?(Ps[i]||pn[i])-$M(r):e[i]-e["offset"+r])},L1=function(e,t){for(var i=0;i<Ef.length;i+=3)(!t||~t.indexOf(Ef[i+1]))&&e(Ef[i],Ef[i+1],Ef[i+2])},Ts=function(e){return typeof e=="string"},Tr=function(e){return typeof e=="function"},Wh=function(e){return typeof e=="number"},Kc=function(e){return typeof e=="object"},_h=function(e,t,i){return e&&e.progress(t?0:1)&&i&&e.pause()},Y2=function(e,t){if(e.enabled){var i=e._ctx?e._ctx.add(function(){return t(e)}):t(e);i&&i.totalTime&&(e.callbackAnimation=i)}},Ju=Math.abs,ZM="left",JM="top",Ox="right",Ux="bottom",vu="width",yu="height",g0="Right",A0="Left",v0="Top",y0="Bottom",Ei="padding",Xs="margin",xd="Width",Nx="Height",Oi="px",Ys=function(e){return zt.getComputedStyle(e)},xX=function(e){var t=Ys(e).position;e.style.position=t==="absolute"||t==="fixed"?t:"relative"},SS=function(e,t){for(var i in t)i in e||(e[i]=t[i]);return e},Fa=function(e,t){var i=t&&Ys(e)[O_]!=="matrix(1, 0, 0, 1, 0, 0)"&&at.to(e,{x:0,y:0,xPercent:0,yPercent:0,rotation:0,rotationX:0,rotationY:0,scale:1,skewX:0,skewY:0}).progress(1),r=e.getBoundingClientRect();return i&&i.progress(0).kill(),r},Pg=function(e,t){var i=t.d2;return e["offset"+i]||e["client"+i]||0},eI=function(e){var t=[],i=e.labels,r=e.duration(),s;for(s in i)t.push(i[s]/r);return t},CX=function(e){return function(t){return at.utils.snap(eI(e),t)}},kx=function(e){var t=at.utils.snap(e),i=Array.isArray(e)&&e.slice(0).sort(function(r,s){return r-s});return i?function(r,s,o){o===void 0&&(o=.001);var a;if(!s)return t(r);if(s>0){for(r-=o,a=0;a<i.length;a++)if(i[a]>=r)return i[a];return i[a-1]}else for(a=i.length,r+=o;a--;)if(i[a]<=r)return i[a];return i[0]}:function(r,s,o){o===void 0&&(o=.001);var a=t(r);return!s||Math.abs(a-r)<o||a-r<0==s<0?a:t(s<0?r-e:r+e)}},SX=function(e){return function(t,i){return kx(eI(e))(t,i.direction)}},F1=function(e,t,i,r){return i.split(",").forEach(function(s){return e(t,s,r)})},$i=function(e,t,i,r,s){return e.addEventListener(t,i,{passive:!r,capture:!!s})},Yi=function(e,t,i,r){return e.removeEventListener(t,i,!!r)},O1=function(e,t,i){i=i&&i.wheelHandler,i&&(e(t,"wheel",i),e(t,"touchmove",i))},wS={startColor:"green",endColor:"red",indent:0,fontSize:"16px",fontWeight:"normal"},U1={toggleActions:"play",anticipatePin:0},Rg={top:0,left:0,center:.5,bottom:1,right:1},Gm=function(e,t){if(Ts(e)){var i=e.indexOf("="),r=~i?+(e.charAt(i-1)+1)*parseFloat(e.substr(i+1)):0;~i&&(e.indexOf("%")>i&&(r*=t/100),e=e.substr(0,i-1)),e=r+(e in Rg?Rg[e]*t:~e.indexOf("%")?parseFloat(e)*t/100:parseFloat(e)||0)}return e},N1=function(e,t,i,r,s,o,a,l){var c=s.startColor,u=s.endColor,f=s.fontSize,h=s.indent,p=s.fontWeight,m=Nn.createElement("div"),g=Mu(i)||ql(i,"pinType")==="fixed",A=e.indexOf("scroller")!==-1,y=g?pn:i,x=e.indexOf("start")!==-1,b=x?c:u,_="border-color:"+b+";font-size:"+f+";color:"+b+";font-weight:"+p+";pointer-events:none;white-space:nowrap;font-family:sans-serif,Arial;z-index:1000;padding:4px 8px;border-width:0;border-style:solid;";return _+="position:"+((A||l)&&g?"fixed;":"absolute;"),(A||l||!g)&&(_+=(r===Ni?Ox:Ux)+":"+(o+parseFloat(h))+"px;"),a&&(_+="box-sizing:border-box;text-align:left;width:"+a.offsetWidth+"px;"),m._isStart=x,m.setAttribute("class","gsap-marker-"+e+(t?" marker-"+t:"")),m.style.cssText=_,m.innerText=t||t===0?e+"-"+t:e,y.children[0]?y.insertBefore(m,y.children[0]):y.appendChild(m),m._offset=m["offset"+r.op.d2],Qm(m,0,r,x),m},Qm=function(e,t,i,r){var s={display:"block"},o=i[r?"os2":"p2"],a=i[r?"p2":"os2"];e._isFlipped=r,s[i.a+"Percent"]=r?-100:0,s[i.a]=r?"1px":0,s["border"+o+xd]=1,s["border"+a+xd]=0,s[i.p]=t+"px",at.set(e,s)},Nt=[],z_={},W0,ES=function(){return xr()-no>34&&(W0||(W0=requestAnimationFrame(Qa)))},ef=function(){(!Gr||!Gr.isPressed||Gr.startX>pn.clientWidth)&&(Ht.cache++,Gr?W0||(W0=requestAnimationFrame(Qa)):Qa(),no||Du("scrollStart"),no=xr())},$2=function(){qM=zt.innerWidth,WM=zt.innerHeight},qh=function(e){Ht.cache++,(e===!0||!_r&&!jM&&!Nn.fullscreenElement&&!Nn.webkitFullscreenElement&&(!U_||qM!==zt.innerWidth||Math.abs(zt.innerHeight-WM)>zt.innerHeight*.25))&&Ig.restart(!0)},Iu={},wX=[],tI=function n(){return Yi(Dt,"scrollEnd",n)||su(!0)},Du=function(e){return Iu[e]&&Iu[e].map(function(t){return t()})||wX},Es=[],nI=function(e){for(var t=0;t<Es.length;t+=5)(!e||Es[t+4]&&Es[t+4].query===e)&&(Es[t].style.cssText=Es[t+1],Es[t].getBBox&&Es[t].setAttribute("transform",Es[t+2]||""),Es[t+3].uncache=1)},zx=function(e,t){var i;for(Wr=0;Wr<Nt.length;Wr++)i=Nt[Wr],i&&(!t||i._ctx===t)&&(e?i.kill(1):i.revert(!0,!0));Dg=!0,t&&nI(t),t||Du("revert")},iI=function(e,t){Ht.cache++,(t||!qr)&&Ht.forEach(function(i){return Tr(i)&&i.cacheID++&&(i.rec=0)}),Ts(e)&&(zt.history.scrollRestoration=Lx=e)},qr,_u=0,TS,EX=function(){if(TS!==_u){var e=TS=_u;requestAnimationFrame(function(){return e===_u&&su(!0)})}},rI=function(){pn.appendChild(Zf),Fx=!Gr&&Zf.offsetHeight||zt.innerHeight,pn.removeChild(Zf)},MS=function(e){return j0(".gsap-marker-start, .gsap-marker-end, .gsap-marker-scroller-start, .gsap-marker-scroller-end").forEach(function(t){return t.style.display=e?"none":"block"})},su=function(e,t){if(Ps=Nn.documentElement,pn=Nn.body,Bx=[zt,Nn,Ps,pn],no&&!e&&!Dg){$i(Dt,"scrollEnd",tI);return}rI(),qr=Dt.isRefreshing=!0,Ht.forEach(function(r){return Tr(r)&&++r.cacheID&&(r.rec=r())});var i=Du("refreshInit");QM&&Dt.sort(),t||zx(),Ht.forEach(function(r){Tr(r)&&(r.smooth&&(r.target.style.scrollBehavior="auto"),r(0))}),Nt.slice(0).forEach(function(r){return r.refresh()}),Dg=!1,Nt.forEach(function(r){if(r._subPinOffset&&r.pin){var s=r.vars.horizontal?"offsetWidth":"offsetHeight",o=r.pin[s];r.revert(!0,1),r.adjustPinSpacing(r.pin[s]-o),r.refresh()}}),k_=1,MS(!0),Nt.forEach(function(r){var s=$o(r.scroller,r._dir),o=r.vars.end==="max"||r._endClamp&&r.end>s,a=r._startClamp&&r.start>=s;(o||a)&&r.setPositions(a?s-1:r.start,o?Math.max(a?s:r.start+1,s):r.end,!0)}),MS(!1),k_=0,i.forEach(function(r){return r&&r.render&&r.render(-1)}),Ht.forEach(function(r){Tr(r)&&(r.smooth&&requestAnimationFrame(function(){return r.target.style.scrollBehavior="smooth"}),r.rec&&r(r.rec))}),iI(Lx,1),Ig.pause(),_u++,qr=2,Qa(2),Nt.forEach(function(r){return Tr(r.vars.onRefresh)&&r.vars.onRefresh(r)}),qr=Dt.isRefreshing=!1,Du("refresh")},H_=0,jm=1,_0,Qa=function(e){if(e===2||!qr&&!Dg){Dt.isUpdating=!0,_0&&_0.update(0);var t=Nt.length,i=xr(),r=i-X2>=50,s=t&&Nt[0].scroll();if(jm=H_>s?-1:1,qr||(H_=s),r&&(no&&!bA&&i-no>200&&(no=0,Du("scrollEnd")),Gh=X2,X2=i),jm<0){for(Wr=t;Wr-- >0;)Nt[Wr]&&Nt[Wr].update(0,r);jm=1}else for(Wr=0;Wr<t;Wr++)Nt[Wr]&&Nt[Wr].update(0,r);Dt.isUpdating=!1}W0=0},V_=[ZM,JM,Ux,Ox,Xs+y0,Xs+g0,Xs+v0,Xs+A0,"display","flexShrink","float","zIndex","gridColumnStart","gridColumnEnd","gridRowStart","gridRowEnd","gridArea","justifySelf","alignSelf","placeSelf","order"],Wm=V_.concat([vu,yu,"boxSizing","max"+xd,"max"+Nx,"position",Xs,Ei,Ei+v0,Ei+g0,Ei+y0,Ei+A0]),TX=function(e,t,i){Jf(i);var r=e._gsap;if(r.spacerIsNative)Jf(r.spacerState);else if(e._gsap.swappedIn){var s=t.parentNode;s&&(s.insertBefore(e,t),s.removeChild(t))}e._gsap.swappedIn=!1},K2=function(e,t,i,r){if(!e._gsap.swappedIn){for(var s=V_.length,o=t.style,a=e.style,l;s--;)l=V_[s],o[l]=i[l];o.position=i.position==="absolute"?"absolute":"relative",i.display==="inline"&&(o.display="inline-block"),a[Ux]=a[Ox]="auto",o.flexBasis=i.flexBasis||"auto",o.overflow="visible",o.boxSizing="border-box",o[vu]=Pg(e,Zr)+Oi,o[yu]=Pg(e,Ni)+Oi,o[Ei]=a[Xs]=a[JM]=a[ZM]="0",Jf(r),a[vu]=a["max"+xd]=i[vu],a[yu]=a["max"+Nx]=i[yu],a[Ei]=i[Ei],e.parentNode!==t&&(e.parentNode.insertBefore(t,e),t.appendChild(e)),e._gsap.swappedIn=!0}},MX=/([A-Z])/g,Jf=function(e){if(e){var t=e.t.style,i=e.length,r=0,s,o;for((e.t._gsap||at.core.getCache(e.t)).uncache=1;r<i;r+=2)o=e[r+1],s=e[r],o?t[s]=o:t[s]&&t.removeProperty(s.replace(MX,"-$1").toLowerCase())}},k1=function(e){for(var t=Wm.length,i=e.style,r=[],s=0;s<t;s++)r.push(Wm[s],i[Wm[s]]);return r.t=e,r},IX=function(e,t,i){for(var r=[],s=e.length,o=i?8:0,a;o<s;o+=2)a=e[o],r.push(a,a in t?t[a]:e[o+1]);return r.t=e.t,r},qm={left:0,top:0},IS=function(e,t,i,r,s,o,a,l,c,u,f,h,p,m){Tr(e)&&(e=e(l)),Ts(e)&&e.substr(0,3)==="max"&&(e=h+(e.charAt(4)==="="?Gm("0"+e.substr(3),i):0));var g=p?p.time():0,A,y,x;if(p&&p.seek(0),isNaN(e)||(e=+e),Wh(e))p&&(e=at.utils.mapRange(p.scrollTrigger.start,p.scrollTrigger.end,0,h,e)),a&&Qm(a,i,r,!0);else{Tr(t)&&(t=t(l));var b=(e||"0").split(" "),_,T,M,I;x=ls(t,l)||pn,_=Fa(x)||{},(!_||!_.left&&!_.top)&&Ys(x).display==="none"&&(I=x.style.display,x.style.display="block",_=Fa(x),I?x.style.display=I:x.style.removeProperty("display")),T=Gm(b[0],_[r.d]),M=Gm(b[1]||"0",i),e=_[r.p]-c[r.p]-u+T+s-M,a&&Qm(a,M,r,i-M<20||a._isStart&&M>20),i-=i-M}if(m&&(l[m]=e||-.001,e<0&&(e=0)),o){var P=e+i,w=o._isStart;A="scroll"+r.d2,Qm(o,P,r,w&&P>20||!w&&(f?Math.max(pn[A],Ps[A]):o.parentNode[A])<=P+1),f&&(c=Fa(a),f&&(o.style[r.op.p]=c[r.op.p]-r.op.m-o._offset+Oi))}return p&&x&&(A=Fa(x),p.seek(h),y=Fa(x),p._caScrollDist=A[r.p]-y[r.p],e=e/p._caScrollDist*h),p&&p.seek(g),p?e:Math.round(e)},DX=/(webkit|moz|length|cssText|inset)/i,DS=function(e,t,i,r){if(e.parentNode!==t){var s=e.style,o,a;if(t===pn){e._stOrig=s.cssText,a=Ys(e);for(o in a)!+o&&!DX.test(o)&&a[o]&&typeof s[o]=="string"&&o!=="0"&&(s[o]=a[o]);s.top=i,s.left=r}else s.cssText=e._stOrig;at.core.getCache(e).uncache=1,t.appendChild(e)}},sI=function(e,t,i){var r=t,s=r;return function(o){var a=Math.round(e());return a!==r&&a!==s&&Math.abs(a-r)>3&&Math.abs(a-s)>3&&(o=a,i&&i()),s=r,r=Math.round(o),r}},z1=function(e,t,i){var r={};r[t.p]="+="+i,at.set(e,r)},PS=function(e,t){var i=ec(e,t),r="_scroll"+t.p2,s=function o(a,l,c,u,f){var h=o.tween,p=l.onComplete,m={};c=c||i();var g=sI(i,c,function(){h.kill(),o.tween=0});return f=u&&f||0,u=u||a-c,h&&h.kill(),l[r]=a,l.inherit=!1,l.modifiers=m,m[r]=function(){return g(c+u*h.ratio+f*h.ratio*h.ratio)},l.onUpdate=function(){Ht.cache++,o.tween&&Qa()},l.onComplete=function(){o.tween=0,p&&p.call(h)},h=o.tween=at.to(e,l),h};return e[r]=i,i.wheelHandler=function(){return s.tween&&s.tween.kill()&&(s.tween=0)},$i(e,"wheel",i.wheelHandler),Dt.isTouch&&$i(e,"touchmove",i.wheelHandler),s},Dt=function(){function n(t,i){wf||n.register(at)||console.warn("Please gsap.registerPlugin(ScrollTrigger)"),N_(this),this.init(t,i)}var e=n.prototype;return e.init=function(i,r){if(this.progress=this.start=0,this.vars&&this.kill(!0,!0),!Qh){this.update=this.refresh=this.kill=Go;return}i=SS(Ts(i)||Wh(i)||i.nodeType?{trigger:i}:i,U1);var s=i,o=s.onUpdate,a=s.toggleClass,l=s.id,c=s.onToggle,u=s.onRefresh,f=s.scrub,h=s.trigger,p=s.pin,m=s.pinSpacing,g=s.invalidateOnRefresh,A=s.anticipatePin,y=s.onScrubComplete,x=s.onSnapComplete,b=s.once,_=s.snap,T=s.pinReparent,M=s.pinSpacer,I=s.containerAnimation,P=s.fastScrollEnd,w=s.preventOverlaps,E=i.horizontal||i.containerAnimation&&i.horizontal!==!1?Zr:Ni,O=!f&&f!==0,F=ls(i.scroller||zt),H=at.core.getCache(F),z=Mu(F),X=("pinType"in i?i.pinType:ql(F,"pinType")||z&&"fixed")==="fixed",U=[i.onEnter,i.onLeave,i.onEnterBack,i.onLeaveBack],G=O&&i.toggleActions.split(" "),j="markers"in i?i.markers:U1.markers,Y=z?0:parseFloat(Ys(F)["border"+E.p2+xd])||0,Q=this,ve=i.onRefreshInit&&function(){return i.onRefreshInit(Q)},Pe=_X(F,z,E),He=bX(F,z),re=0,he=0,Oe=0,J=ec(F,E),ye,Se,be,qe,rt,W,R,le,_e,K,de,Be,xe,k,B,ne,se,ce,fe,Ie,Le,Fe,dt,Re,ze,Xe,st,et,mt,lt,Pt,te,je,Ce,Me,We,Ye,_t,Wt;if(Q._startClamp=Q._endClamp=!1,Q._dir=E,A*=45,Q.scroller=F,Q.scroll=I?I.time.bind(I):J,qe=J(),Q.vars=i,r=r||i.animation,"refreshPriority"in i&&(QM=1,i.refreshPriority===-9999&&(_0=Q)),H.tweenScroll=H.tweenScroll||{top:PS(F,Ni),left:PS(F,Zr)},Q.tweenTo=ye=H.tweenScroll[E.p],Q.scrubDuration=function(Ze){je=Wh(Ze)&&Ze,je?te?te.duration(Ze):te=at.to(r,{ease:"expo",totalProgress:"+=0",inherit:!1,duration:je,paused:!0,onComplete:function(){return y&&y(Q)}}):(te&&te.progress(1).kill(),te=0)},r&&(r.vars.lazy=!1,r._initted&&!Q.isReverted||r.vars.immediateRender!==!1&&i.immediateRender!==!1&&r.duration()&&r.render(0,!0,!0),Q.animation=r.pause(),r.scrollTrigger=Q,Q.scrubDuration(f),lt=0,l||(l=r.vars.id)),_&&((!Kc(_)||_.push)&&(_={snapTo:_}),"scrollBehavior"in pn.style&&at.set(z?[pn,Ps]:F,{scrollBehavior:"auto"}),Ht.forEach(function(Ze){return Tr(Ze)&&Ze.target===(z?Nn.scrollingElement||Ps:F)&&(Ze.smooth=!1)}),be=Tr(_.snapTo)?_.snapTo:_.snapTo==="labels"?CX(r):_.snapTo==="labelsDirectional"?SX(r):_.directional!==!1?function(Ze,Ct){return kx(_.snapTo)(Ze,xr()-he<500?0:Ct.direction)}:at.utils.snap(_.snapTo),Ce=_.duration||{min:.1,max:2},Ce=Kc(Ce)?m0(Ce.min,Ce.max):m0(Ce,Ce),Me=at.delayedCall(_.delay||je/2||.1,function(){var Ze=J(),Ct=xr()-he<500,ct=ye.tween;if((Ct||Math.abs(Q.getVelocity())<10)&&!ct&&!bA&&re!==Ze){var bt=(Ze-W)/k,Vn=r&&!O?r.totalProgress():bt,Rt=Ct?0:(Vn-Pt)/(xr()-Gh)*1e3||0,$t=at.utils.clamp(-bt,1-bt,Ju(Rt/2)*Rt/.185),Qn=bt+(_.inertia===!1?0:$t),ln,cn,Ot=_,tr=Ot.onStart,rn=Ot.onInterrupt,li=Ot.onComplete;if(ln=be(Qn,Q),Wh(ln)||(ln=Qn),cn=Math.max(0,Math.round(W+ln*k)),Ze<=R&&Ze>=W&&cn!==Ze){if(ct&&!ct._initted&&ct.data<=Ju(cn-Ze))return;_.inertia===!1&&($t=ln-bt),ye(cn,{duration:Ce(Ju(Math.max(Ju(Qn-Vn),Ju(ln-Vn))*.185/Rt/.05||0)),ease:_.ease||"power3",data:Ju(cn-Ze),onInterrupt:function(){return Me.restart(!0)&&rn&&rn(Q)},onComplete:function(){Q.update(),re=J(),r&&!O&&(te?te.resetTo("totalProgress",ln,r._tTime/r._tDur):r.progress(ln)),lt=Pt=r&&!O?r.totalProgress():Q.progress,x&&x(Q),li&&li(Q)}},Ze,$t*k,cn-Ze-$t*k),tr&&tr(Q,ye.tween)}}else Q.isActive&&re!==Ze&&Me.restart(!0)}).pause()),l&&(z_[l]=Q),h=Q.trigger=ls(h||p!==!0&&p),Wt=h&&h._gsap&&h._gsap.stRevert,Wt&&(Wt=Wt(Q)),p=p===!0?h:ls(p),Ts(a)&&(a={targets:h,className:a}),p&&(m===!1||m===Xs||(m=!m&&p.parentNode&&p.parentNode.style&&Ys(p.parentNode).display==="flex"?!1:Ei),Q.pin=p,Se=at.core.getCache(p),Se.spacer?B=Se.pinState:(M&&(M=ls(M),M&&!M.nodeType&&(M=M.current||M.nativeElement),Se.spacerIsNative=!!M,M&&(Se.spacerState=k1(M))),Se.spacer=ce=M||Nn.createElement("div"),ce.classList.add("pin-spacer"),l&&ce.classList.add("pin-spacer-"+l),Se.pinState=B=k1(p)),i.force3D!==!1&&at.set(p,{force3D:!0}),Q.spacer=ce=Se.spacer,mt=Ys(p),Re=mt[m+E.os2],Ie=at.getProperty(p),Le=at.quickSetter(p,E.a,Oi),K2(p,ce,mt),se=k1(p)),j){Be=Kc(j)?SS(j,wS):wS,K=N1("scroller-start",l,F,E,Be,0),de=N1("scroller-end",l,F,E,Be,0,K),fe=K["offset"+E.op.d2];var Rn=ls(ql(F,"content")||F);le=this.markerStart=N1("start",l,Rn,E,Be,fe,0,I),_e=this.markerEnd=N1("end",l,Rn,E,Be,fe,0,I),I&&(_t=at.quickSetter([le,_e],E.a,Oi)),!X&&!(ea.length&&ql(F,"fixedMarkers")===!0)&&(xX(z?pn:F),at.set([K,de],{force3D:!0}),Xe=at.quickSetter(K,E.a,Oi),et=at.quickSetter(de,E.a,Oi))}if(I){var $e=I.vars.onUpdate,ot=I.vars.onUpdateParams;I.eventCallback("onUpdate",function(){Q.update(0,0,1),$e&&$e.apply(I,ot||[])})}if(Q.previous=function(){return Nt[Nt.indexOf(Q)-1]},Q.next=function(){return Nt[Nt.indexOf(Q)+1]},Q.revert=function(Ze,Ct){if(!Ct)return Q.kill(!0);var ct=Ze!==!1||!Q.enabled,bt=_r;ct!==Q.isReverted&&(ct&&(We=Math.max(J(),Q.scroll.rec||0),Oe=Q.progress,Ye=r&&r.progress()),le&&[le,_e,K,de].forEach(function(Vn){return Vn.style.display=ct?"none":"block"}),ct&&(_r=Q,Q.update(ct)),p&&(!T||!Q.isActive)&&(ct?TX(p,ce,B):K2(p,ce,Ys(p),ze)),ct||Q.update(ct),_r=bt,Q.isReverted=ct)},Q.refresh=function(Ze,Ct,ct,bt){if(!((_r||!Q.enabled)&&!Ct)){if(p&&Ze&&no){$i(n,"scrollEnd",tI);return}!qr&&ve&&ve(Q),_r=Q,ye.tween&&!ct&&(ye.tween.kill(),ye.tween=0),te&&te.pause(),g&&r&&r.revert({kill:!1}).invalidate(),Q.isReverted||Q.revert(!0,!0),Q._subPinOffset=!1;var Vn=Pe(),Rt=He(),$t=I?I.duration():$o(F,E),Qn=k<=.01,ln=0,cn=bt||0,Ot=Kc(ct)?ct.end:i.end,tr=i.endTrigger||h,rn=Kc(ct)?ct.start:i.start||(i.start===0||!h?0:p?"0 0":"0 100%"),li=Q.pinnedContainer=i.pinnedContainer&&ls(i.pinnedContainer,Q),hr=h&&Math.max(0,Nt.indexOf(Q))||0,Zn=hr,Jn,V,ae,Ae,me,oe,Ue,Je,tt,it,pt,yt,ht;for(j&&Kc(ct)&&(yt=at.getProperty(K,E.p),ht=at.getProperty(de,E.p));Zn-- >0;)oe=Nt[Zn],oe.end||oe.refresh(0,1)||(_r=Q),Ue=oe.pin,Ue&&(Ue===h||Ue===p||Ue===li)&&!oe.isReverted&&(it||(it=[]),it.unshift(oe),oe.revert(!0,!0)),oe!==Nt[Zn]&&(hr--,Zn--);for(Tr(rn)&&(rn=rn(Q)),rn=_S(rn,"start",Q),W=IS(rn,h,Vn,E,J(),le,K,Q,Rt,Y,X,$t,I,Q._startClamp&&"_startClamp")||(p?-.001:0),Tr(Ot)&&(Ot=Ot(Q)),Ts(Ot)&&!Ot.indexOf("+=")&&(~Ot.indexOf(" ")?Ot=(Ts(rn)?rn.split(" ")[0]:"")+Ot:(ln=Gm(Ot.substr(2),Vn),Ot=Ts(rn)?rn:(I?at.utils.mapRange(0,I.duration(),I.scrollTrigger.start,I.scrollTrigger.end,W):W)+ln,tr=h)),Ot=_S(Ot,"end",Q),R=Math.max(W,IS(Ot||(tr?"100% 0":$t),tr,Vn,E,J()+ln,_e,de,Q,Rt,Y,X,$t,I,Q._endClamp&&"_endClamp"))||-.001,ln=0,Zn=hr;Zn--;)oe=Nt[Zn],Ue=oe.pin,Ue&&oe.start-oe._pinPush<=W&&!I&&oe.end>0&&(Jn=oe.end-(Q._startClamp?Math.max(0,oe.start):oe.start),(Ue===h&&oe.start-oe._pinPush<W||Ue===li)&&isNaN(rn)&&(ln+=Jn*(1-oe.progress)),Ue===p&&(cn+=Jn));if(W+=ln,R+=ln,Q._startClamp&&(Q._startClamp+=ln),Q._endClamp&&!qr&&(Q._endClamp=R||-.001,R=Math.min(R,$o(F,E))),k=R-W||(W-=.01)&&.001,Qn&&(Oe=at.utils.clamp(0,1,at.utils.normalize(W,R,We))),Q._pinPush=cn,le&&ln&&(Jn={},Jn[E.a]="+="+ln,li&&(Jn[E.p]="-="+J()),at.set([le,_e],Jn)),p&&!(k_&&Q.end>=$o(F,E)))Jn=Ys(p),Ae=E===Ni,ae=J(),Fe=parseFloat(Ie(E.a))+cn,!$t&&R>1&&(pt=(z?Nn.scrollingElement||Ps:F).style,pt={style:pt,value:pt["overflow"+E.a.toUpperCase()]},z&&Ys(pn)["overflow"+E.a.toUpperCase()]!=="scroll"&&(pt.style["overflow"+E.a.toUpperCase()]="scroll")),K2(p,ce,Jn),se=k1(p),V=Fa(p,!0),Je=X&&ec(F,Ae?Zr:Ni)(),m?(ze=[m+E.os2,k+cn+Oi],ze.t=ce,Zn=m===Ei?Pg(p,E)+k+cn:0,Zn&&(ze.push(E.d,Zn+Oi),ce.style.flexBasis!=="auto"&&(ce.style.flexBasis=Zn+Oi)),Jf(ze),li&&Nt.forEach(function(Tt){Tt.pin===li&&Tt.vars.pinSpacing!==!1&&(Tt._subPinOffset=!0)}),X&&J(We)):(Zn=Pg(p,E),Zn&&ce.style.flexBasis!=="auto"&&(ce.style.flexBasis=Zn+Oi)),X&&(me={top:V.top+(Ae?ae-W:Je)+Oi,left:V.left+(Ae?Je:ae-W)+Oi,boxSizing:"border-box",position:"fixed"},me[vu]=me["max"+xd]=Math.ceil(V.width)+Oi,me[yu]=me["max"+Nx]=Math.ceil(V.height)+Oi,me[Xs]=me[Xs+v0]=me[Xs+g0]=me[Xs+y0]=me[Xs+A0]="0",me[Ei]=Jn[Ei],me[Ei+v0]=Jn[Ei+v0],me[Ei+g0]=Jn[Ei+g0],me[Ei+y0]=Jn[Ei+y0],me[Ei+A0]=Jn[Ei+A0],ne=IX(B,me,T),qr&&J(0)),r?(tt=r._initted,W2(1),r.render(r.duration(),!0,!0),dt=Ie(E.a)-Fe+k+cn,st=Math.abs(k-dt)>1,X&&st&&ne.splice(ne.length-2,2),r.render(0,!0,!0),tt||r.invalidate(!0),r.parent||r.totalTime(r.totalTime()),W2(0)):dt=k,pt&&(pt.value?pt.style["overflow"+E.a.toUpperCase()]=pt.value:pt.style.removeProperty("overflow-"+E.a));else if(h&&J()&&!I)for(V=h.parentNode;V&&V!==pn;)V._pinOffset&&(W-=V._pinOffset,R-=V._pinOffset),V=V.parentNode;it&&it.forEach(function(Tt){return Tt.revert(!1,!0)}),Q.start=W,Q.end=R,qe=rt=qr?We:J(),!I&&!qr&&(qe<We&&J(We),Q.scroll.rec=0),Q.revert(!1,!0),he=xr(),Me&&(re=-1,Me.restart(!0)),_r=0,r&&O&&(r._initted||Ye)&&r.progress()!==Ye&&r.progress(Ye||0,!0).render(r.time(),!0,!0),(Qn||Oe!==Q.progress||I||g||r&&!r._initted)&&(r&&!O&&r.totalProgress(I&&W<-.001&&!Oe?at.utils.normalize(W,R,0):Oe,!0),Q.progress=Qn||(qe-W)/k===Oe?0:Oe),p&&m&&(ce._pinOffset=Math.round(Q.progress*dt)),te&&te.invalidate(),isNaN(yt)||(yt-=at.getProperty(K,E.p),ht-=at.getProperty(de,E.p),z1(K,E,yt),z1(le,E,yt-(bt||0)),z1(de,E,ht),z1(_e,E,ht-(bt||0))),Qn&&!qr&&Q.update(),u&&!qr&&!xe&&(xe=!0,u(Q),xe=!1)}},Q.getVelocity=function(){return(J()-rt)/(xr()-Gh)*1e3||0},Q.endAnimation=function(){_h(Q.callbackAnimation),r&&(te?te.progress(1):r.paused()?O||_h(r,Q.direction<0,1):_h(r,r.reversed()))},Q.labelToScroll=function(Ze){return r&&r.labels&&(W||Q.refresh()||W)+r.labels[Ze]/r.duration()*k||0},Q.getTrailing=function(Ze){var Ct=Nt.indexOf(Q),ct=Q.direction>0?Nt.slice(0,Ct).reverse():Nt.slice(Ct+1);return(Ts(Ze)?ct.filter(function(bt){return bt.vars.preventOverlaps===Ze}):ct).filter(function(bt){return Q.direction>0?bt.end<=W:bt.start>=R})},Q.update=function(Ze,Ct,ct){if(!(I&&!ct&&!Ze)){var bt=qr===!0?We:Q.scroll(),Vn=Ze?0:(bt-W)/k,Rt=Vn<0?0:Vn>1?1:Vn||0,$t=Q.progress,Qn,ln,cn,Ot,tr,rn,li,hr;if(Ct&&(rt=qe,qe=I?J():bt,_&&(Pt=lt,lt=r&&!O?r.totalProgress():Rt)),A&&p&&!_r&&!B1&&no&&(!Rt&&W<bt+(bt-rt)/(xr()-Gh)*A?Rt=1e-4:Rt===1&&R>bt+(bt-rt)/(xr()-Gh)*A&&(Rt=.9999)),Rt!==$t&&Q.enabled){if(Qn=Q.isActive=!!Rt&&Rt<1,ln=!!$t&&$t<1,rn=Qn!==ln,tr=rn||!!Rt!=!!$t,Q.direction=Rt>$t?1:-1,Q.progress=Rt,tr&&!_r&&(cn=Rt&&!$t?0:Rt===1?1:$t===1?2:3,O&&(Ot=!rn&&G[cn+1]!=="none"&&G[cn+1]||G[cn],hr=r&&(Ot==="complete"||Ot==="reset"||Ot in r))),w&&(rn||hr)&&(hr||f||!r)&&(Tr(w)?w(Q):Q.getTrailing(w).forEach(function(ae){return ae.endAnimation()})),O||(te&&!_r&&!B1?(te._dp._time-te._start!==te._time&&te.render(te._dp._time-te._start),te.resetTo?te.resetTo("totalProgress",Rt,r._tTime/r._tDur):(te.vars.totalProgress=Rt,te.invalidate().restart())):r&&r.totalProgress(Rt,!!(_r&&(he||Ze)))),p){if(Ze&&m&&(ce.style[m+E.os2]=Re),!X)Le(jh(Fe+dt*Rt));else if(tr){if(li=!Ze&&Rt>$t&&R+1>bt&&bt+1>=$o(F,E),T)if(!Ze&&(Qn||li)){var Zn=Fa(p,!0),Jn=bt-W;DS(p,pn,Zn.top+(E===Ni?Jn:0)+Oi,Zn.left+(E===Ni?0:Jn)+Oi)}else DS(p,ce);Jf(Qn||li?ne:se),st&&Rt<1&&Qn||Le(Fe+(Rt===1&&!li?dt:0))}}_&&!ye.tween&&!_r&&!B1&&Me.restart(!0),a&&(rn||b&&Rt&&(Rt<1||!q2))&&j0(a.targets).forEach(function(ae){return ae.classList[Qn||b?"add":"remove"](a.className)}),o&&!O&&!Ze&&o(Q),tr&&!_r?(O&&(hr&&(Ot==="complete"?r.pause().totalProgress(1):Ot==="reset"?r.restart(!0).pause():Ot==="restart"?r.restart(!0):r[Ot]()),o&&o(Q)),(rn||!q2)&&(c&&rn&&Y2(Q,c),U[cn]&&Y2(Q,U[cn]),b&&(Rt===1?Q.kill(!1,1):U[cn]=0),rn||(cn=Rt===1?1:3,U[cn]&&Y2(Q,U[cn]))),P&&!Qn&&Math.abs(Q.getVelocity())>(Wh(P)?P:2500)&&(_h(Q.callbackAnimation),te?te.progress(1):_h(r,Ot==="reverse"?1:!Rt,1))):O&&o&&!_r&&o(Q)}if(et){var V=I?bt/I.duration()*(I._caScrollDist||0):bt;Xe(V+(K._isFlipped?1:0)),et(V)}_t&&_t(-bt/I.duration()*(I._caScrollDist||0))}},Q.enable=function(Ze,Ct){Q.enabled||(Q.enabled=!0,$i(F,"resize",qh),z||$i(F,"scroll",ef),ve&&$i(n,"refreshInit",ve),Ze!==!1&&(Q.progress=Oe=0,qe=rt=re=J()),Ct!==!1&&Q.refresh())},Q.getTween=function(Ze){return Ze&&ye?ye.tween:te},Q.setPositions=function(Ze,Ct,ct,bt){if(I){var Vn=I.scrollTrigger,Rt=I.duration(),$t=Vn.end-Vn.start;Ze=Vn.start+$t*Ze/Rt,Ct=Vn.start+$t*Ct/Rt}Q.refresh(!1,!1,{start:bS(Ze,ct&&!!Q._startClamp),end:bS(Ct,ct&&!!Q._endClamp)},bt),Q.update()},Q.adjustPinSpacing=function(Ze){if(ze&&Ze){var Ct=ze.indexOf(E.d)+1;ze[Ct]=parseFloat(ze[Ct])+Ze+Oi,ze[1]=parseFloat(ze[1])+Ze+Oi,Jf(ze)}},Q.disable=function(Ze,Ct){if(Q.enabled&&(Ze!==!1&&Q.revert(!0,!0),Q.enabled=Q.isActive=!1,Ct||te&&te.pause(),We=0,Se&&(Se.uncache=1),ve&&Yi(n,"refreshInit",ve),Me&&(Me.pause(),ye.tween&&ye.tween.kill()&&(ye.tween=0)),!z)){for(var ct=Nt.length;ct--;)if(Nt[ct].scroller===F&&Nt[ct]!==Q)return;Yi(F,"resize",qh),z||Yi(F,"scroll",ef)}},Q.kill=function(Ze,Ct){Q.disable(Ze,Ct),te&&!Ct&&te.kill(),l&&delete z_[l];var ct=Nt.indexOf(Q);ct>=0&&Nt.splice(ct,1),ct===Wr&&jm>0&&Wr--,ct=0,Nt.forEach(function(bt){return bt.scroller===Q.scroller&&(ct=1)}),ct||qr||(Q.scroll.rec=0),r&&(r.scrollTrigger=null,Ze&&r.revert({kill:!1}),Ct||r.kill()),le&&[le,_e,K,de].forEach(function(bt){return bt.parentNode&&bt.parentNode.removeChild(bt)}),_0===Q&&(_0=0),p&&(Se&&(Se.uncache=1),ct=0,Nt.forEach(function(bt){return bt.pin===p&&ct++}),ct||(Se.spacer=0)),i.onKill&&i.onKill(Q)},Nt.push(Q),Q.enable(!1,!1),Wt&&Wt(Q),r&&r.add&&!k){var Mt=Q.update;Q.update=function(){Q.update=Mt,Ht.cache++,W||R||Q.refresh()},at.delayedCall(.01,Q.update),k=.01,W=R=0}else Q.refresh();p&&EX()},n.register=function(i){return wf||(at=i||YM(),XM()&&window.document&&n.enable(),wf=Qh),wf},n.defaults=function(i){if(i)for(var r in i)U1[r]=i[r];return U1},n.disable=function(i,r){Qh=0,Nt.forEach(function(o){return o[r?"kill":"disable"](i)}),Yi(zt,"wheel",ef),Yi(Nn,"scroll",ef),clearInterval(R1),Yi(Nn,"touchcancel",Go),Yi(pn,"touchstart",Go),F1(Yi,Nn,"pointerdown,touchstart,mousedown",xS),F1(Yi,Nn,"pointerup,touchend,mouseup",CS),Ig.kill(),L1(Yi);for(var s=0;s<Ht.length;s+=3)O1(Yi,Ht[s],Ht[s+1]),O1(Yi,Ht[s],Ht[s+2])},n.enable=function(){if(zt=window,Nn=document,Ps=Nn.documentElement,pn=Nn.body,at&&(j0=at.utils.toArray,m0=at.utils.clamp,N_=at.core.context||Go,W2=at.core.suppressOverwrites||Go,Lx=zt.history.scrollRestoration||"auto",H_=zt.pageYOffset||0,at.core.globals("ScrollTrigger",n),pn)){Qh=1,Zf=document.createElement("div"),Zf.style.height="100vh",Zf.style.position="absolute",rI(),yX(),bi.register(at),n.isTouch=bi.isTouch,yl=bi.isTouch&&/(iPad|iPhone|iPod|Mac)/g.test(navigator.userAgent),U_=bi.isTouch===1,$i(zt,"wheel",ef),Bx=[zt,Nn,Ps,pn],at.matchMedia?(n.matchMedia=function(c){var u=at.matchMedia(),f;for(f in c)u.add(f,c[f]);return u},at.addEventListener("matchMediaInit",function(){return zx()}),at.addEventListener("matchMediaRevert",function(){return nI()}),at.addEventListener("matchMedia",function(){su(0,1),Du("matchMedia")}),at.matchMedia().add("(orientation: portrait)",function(){return $2(),$2})):console.warn("Requires GSAP 3.11.0 or later"),$2(),$i(Nn,"scroll",ef);var i=pn.hasAttribute("style"),r=pn.style,s=r.borderTopStyle,o=at.core.Animation.prototype,a,l;for(o.revert||Object.defineProperty(o,"revert",{value:function(){return this.time(-.01,!0)}}),r.borderTopStyle="solid",a=Fa(pn),Ni.m=Math.round(a.top+Ni.sc())||0,Zr.m=Math.round(a.left+Zr.sc())||0,s?r.borderTopStyle=s:r.removeProperty("border-top-style"),i||(pn.setAttribute("style",""),pn.removeAttribute("style")),R1=setInterval(ES,250),at.delayedCall(.5,function(){return B1=0}),$i(Nn,"touchcancel",Go),$i(pn,"touchstart",Go),F1($i,Nn,"pointerdown,touchstart,mousedown",xS),F1($i,Nn,"pointerup,touchend,mouseup",CS),O_=at.utils.checkPrefix("transform"),Wm.push(O_),wf=xr(),Ig=at.delayedCall(.2,su).pause(),Ef=[Nn,"visibilitychange",function(){var c=zt.innerWidth,u=zt.innerHeight;Nn.hidden?(vS=c,yS=u):(vS!==c||yS!==u)&&qh()},Nn,"DOMContentLoaded",su,zt,"load",su,zt,"resize",qh],L1($i),Nt.forEach(function(c){return c.enable(0,1)}),l=0;l<Ht.length;l+=3)O1(Yi,Ht[l],Ht[l+1]),O1(Yi,Ht[l],Ht[l+2])}},n.config=function(i){"limitCallbacks"in i&&(q2=!!i.limitCallbacks);var r=i.syncInterval;r&&clearInterval(R1)||(R1=r)&&setInterval(ES,r),"ignoreMobileResize"in i&&(U_=n.isTouch===1&&i.ignoreMobileResize),"autoRefreshEvents"in i&&(L1(Yi)||L1($i,i.autoRefreshEvents||"none"),jM=(i.autoRefreshEvents+"").indexOf("resize")===-1)},n.scrollerProxy=function(i,r){var s=ls(i),o=Ht.indexOf(s),a=Mu(s);~o&&Ht.splice(o,a?6:2),r&&(a?ea.unshift(zt,r,pn,r,Ps,r):ea.unshift(s,r))},n.clearMatchMedia=function(i){Nt.forEach(function(r){return r._ctx&&r._ctx.query===i&&r._ctx.kill(!0,!0)})},n.isInViewport=function(i,r,s){var o=(Ts(i)?ls(i):i).getBoundingClientRect(),a=o[s?vu:yu]*r||0;return s?o.right-a>0&&o.left+a<zt.innerWidth:o.bottom-a>0&&o.top+a<zt.innerHeight},n.positionInViewport=function(i,r,s){Ts(i)&&(i=ls(i));var o=i.getBoundingClientRect(),a=o[s?vu:yu],l=r==null?a/2:r in Rg?Rg[r]*a:~r.indexOf("%")?parseFloat(r)*a/100:parseFloat(r)||0;return s?(o.left+l)/zt.innerWidth:(o.top+l)/zt.innerHeight},n.killAll=function(i){if(Nt.slice(0).forEach(function(s){return s.vars.id!=="ScrollSmoother"&&s.kill()}),i!==!0){var r=Iu.killAll||[];Iu={},r.forEach(function(s){return s()})}},n}();Dt.version="3.12.7";Dt.saveStyles=function(n){return n?j0(n).forEach(function(e){if(e&&e.style){var t=Es.indexOf(e);t>=0&&Es.splice(t,5),Es.push(e,e.style.cssText,e.getBBox&&e.getAttribute("transform"),at.core.getCache(e),N_())}}):Es};Dt.revert=function(n,e){return zx(!n,e)};Dt.create=function(n,e){return new Dt(n,e)};Dt.refresh=function(n){return n?qh(!0):(wf||Dt.register())&&su(!0)};Dt.update=function(n){return++Ht.cache&&Qa(n===!0?2:0)};Dt.clearScrollMemory=iI;Dt.maxScroll=function(n,e){return $o(n,e?Zr:Ni)};Dt.getScrollFunc=function(n,e){return ec(ls(n),e?Zr:Ni)};Dt.getById=function(n){return z_[n]};Dt.getAll=function(){return Nt.filter(function(n){return n.vars.id!=="ScrollSmoother"})};Dt.isScrolling=function(){return!!no};Dt.snapDirectional=kx;Dt.addEventListener=function(n,e){var t=Iu[n]||(Iu[n]=[]);~t.indexOf(e)||t.push(e)};Dt.removeEventListener=function(n,e){var t=Iu[n],i=t&&t.indexOf(e);i>=0&&t.splice(i,1)};Dt.batch=function(n,e){var t=[],i={},r=e.interval||.016,s=e.batchMax||1e9,o=function(c,u){var f=[],h=[],p=at.delayedCall(r,function(){u(f,h),f=[],h=[]}).pause();return function(m){f.length||p.restart(!0),f.push(m.trigger),h.push(m),s<=f.length&&p.progress(1)}},a;for(a in e)i[a]=a.substr(0,2)==="on"&&Tr(e[a])&&a!=="onRefreshInit"?o(a,e[a]):e[a];return Tr(s)&&(s=s(),$i(Dt,"refresh",function(){return s=e.batchMax()})),j0(n).forEach(function(l){var c={};for(a in i)c[a]=i[a];c.trigger=l,t.push(Dt.create(c))}),t};var RS=function(e,t,i,r){return t>r?e(r):t<0&&e(0),i>r?(r-t)/(i-t):i<0?t/(t-i):1},Z2=function n(e,t){t===!0?e.style.removeProperty("touch-action"):e.style.touchAction=t===!0?"auto":t?"pan-"+t+(bi.isTouch?" pinch-zoom":""):"none",e===Ps&&n(pn,t)},H1={auto:1,scroll:1},PX=function(e){var t=e.event,i=e.target,r=e.axis,s=(t.changedTouches?t.changedTouches[0]:t).target,o=s._gsap||at.core.getCache(s),a=xr(),l;if(!o._isScrollT||a-o._isScrollT>2e3){for(;s&&s!==pn&&(s.scrollHeight<=s.clientHeight&&s.scrollWidth<=s.clientWidth||!(H1[(l=Ys(s)).overflowY]||H1[l.overflowX]));)s=s.parentNode;o._isScroll=s&&s!==i&&!Mu(s)&&(H1[(l=Ys(s)).overflowY]||H1[l.overflowX]),o._isScrollT=a}(o._isScroll||r==="x")&&(t.stopPropagation(),t._gsapAllow=!0)},oI=function(e,t,i,r){return bi.create({target:e,capture:!0,debounce:!1,lockAxis:!0,type:t,onWheel:r=r&&PX,onPress:r,onDrag:r,onScroll:r,onEnable:function(){return i&&$i(Nn,bi.eventTypes[0],LS,!1,!0)},onDisable:function(){return Yi(Nn,bi.eventTypes[0],LS,!0)}})},RX=/(input|label|select|textarea)/i,BS,LS=function(e){var t=RX.test(e.target.tagName);(t||BS)&&(e._gsapAllow=!0,BS=t)},BX=function(e){Kc(e)||(e={}),e.preventDefault=e.isNormalizer=e.allowClicks=!0,e.type||(e.type="wheel,touch"),e.debounce=!!e.debounce,e.id=e.id||"normalizer";var t=e,i=t.normalizeScrollX,r=t.momentum,s=t.allowNestedScroll,o=t.onRelease,a,l,c=ls(e.target)||Ps,u=at.core.globals().ScrollSmoother,f=u&&u.get(),h=yl&&(e.content&&ls(e.content)||f&&e.content!==!1&&!f.smooth()&&f.content()),p=ec(c,Ni),m=ec(c,Zr),g=1,A=(bi.isTouch&&zt.visualViewport?zt.visualViewport.scale*zt.visualViewport.width:zt.outerWidth)/zt.innerWidth,y=0,x=Tr(r)?function(){return r(a)}:function(){return r||2.8},b,_,T=oI(c,e.type,!0,s),M=function(){return _=!1},I=Go,P=Go,w=function(){l=$o(c,Ni),P=m0(yl?1:0,l),i&&(I=m0(0,$o(c,Zr))),b=_u},E=function(){h._gsap.y=jh(parseFloat(h._gsap.y)+p.offset)+"px",h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+parseFloat(h._gsap.y)+", 0, 1)",p.offset=p.cacheID=0},O=function(){if(_){requestAnimationFrame(M);var j=jh(a.deltaY/2),Y=P(p.v-j);if(h&&Y!==p.v+p.offset){p.offset=Y-p.v;var Q=jh((parseFloat(h&&h._gsap.y)||0)-p.offset);h.style.transform="matrix3d(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, "+Q+", 0, 1)",h._gsap.y=Q+"px",p.cacheID=Ht.cache,Qa()}return!0}p.offset&&E(),_=!0},F,H,z,X,U=function(){w(),F.isActive()&&F.vars.scrollY>l&&(p()>l?F.progress(1)&&p(l):F.resetTo("scrollY",l))};return h&&at.set(h,{y:"+=0"}),e.ignoreCheck=function(G){return yl&&G.type==="touchmove"&&O()||g>1.05&&G.type!=="touchstart"||a.isGesturing||G.touches&&G.touches.length>1},e.onPress=function(){_=!1;var G=g;g=jh((zt.visualViewport&&zt.visualViewport.scale||1)/A),F.pause(),G!==g&&Z2(c,g>1.01?!0:i?!1:"x"),H=m(),z=p(),w(),b=_u},e.onRelease=e.onGestureStart=function(G,j){if(p.offset&&E(),!j)X.restart(!0);else{Ht.cache++;var Y=x(),Q,ve;i&&(Q=m(),ve=Q+Y*.05*-G.velocityX/.227,Y*=RS(m,Q,ve,$o(c,Zr)),F.vars.scrollX=I(ve)),Q=p(),ve=Q+Y*.05*-G.velocityY/.227,Y*=RS(p,Q,ve,$o(c,Ni)),F.vars.scrollY=P(ve),F.invalidate().duration(Y).play(.01),(yl&&F.vars.scrollY>=l||Q>=l-1)&&at.to({},{onUpdate:U,duration:Y})}o&&o(G)},e.onWheel=function(){F._ts&&F.pause(),xr()-y>1e3&&(b=0,y=xr())},e.onChange=function(G,j,Y,Q,ve){if(_u!==b&&w(),j&&i&&m(I(Q[2]===j?H+(G.startX-G.x):m()+j-Q[1])),Y){p.offset&&E();var Pe=ve[2]===Y,He=Pe?z+G.startY-G.y:p()+Y-ve[1],re=P(He);Pe&&He!==re&&(z+=re-He),p(re)}(Y||j)&&Qa()},e.onEnable=function(){Z2(c,i?!1:"x"),Dt.addEventListener("refresh",U),$i(zt,"resize",U),p.smooth&&(p.target.style.scrollBehavior="auto",p.smooth=m.smooth=!1),T.enable()},e.onDisable=function(){Z2(c,!0),Yi(zt,"resize",U),Dt.removeEventListener("refresh",U),T.kill()},e.lockAxis=e.lockAxis!==!1,a=new bi(e),a.iOS=yl,yl&&!p()&&p(1),yl&&at.ticker.add(Go),X=a._dc,F=at.to(a,{ease:"power4",paused:!0,inherit:!1,scrollX:i?"+=0.1":"+=0",scrollY:"+=0.1",modifiers:{scrollY:sI(p,p(),function(){return F.pause()})},onUpdate:Qa,onComplete:X.vars.onComplete}),a};Dt.sort=function(n){if(Tr(n))return Nt.sort(n);var e=zt.pageYOffset||0;return Dt.getAll().forEach(function(t){return t._sortY=t.trigger?e+t.trigger.getBoundingClientRect().top:t.start+zt.innerHeight}),Nt.sort(n||function(t,i){return(t.vars.refreshPriority||0)*-1e6+(t.vars.containerAnimation?1e6:t._sortY)-((i.vars.containerAnimation?1e6:i._sortY)+(i.vars.refreshPriority||0)*-1e6)})};Dt.observe=function(n){return new bi(n)};Dt.normalizeScroll=function(n){if(typeof n>"u")return Gr;if(n===!0&&Gr)return Gr.enable();if(n===!1){Gr&&Gr.kill(),Gr=n;return}var e=n instanceof bi?n:BX(n);return Gr&&Gr.target===e.target&&Gr.kill(),Mu(e.target)&&(Gr=e),e};Dt.core={_getVelocityProp:F_,_inputObserver:oI,_scrollers:Ht,_proxies:ea,bridge:{ss:function(){no||Du("scrollStart"),no=xr()},ref:function(){return _r}}};YM()&&at.registerPlugin(Dt);/*!
 * strings: 3.12.7
 * https://gsap.com
 *
 * Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var LX=/([\uD800-\uDBFF][\uDC00-\uDFFF](?:[\u200D\uFE0F][\uD800-\uDBFF][\uDC00-\uDFFF]){2,}|\uD83D\uDC69(?:\u200D(?:(?:\uD83D\uDC69\u200D)?\uD83D\uDC67|(?:\uD83D\uDC69\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|\uD83D\uDC69\u200D(?:\uD83D\uDC69\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C\uDFF3\uFE0F\u200D\uD83C\uDF08|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2642\u2640]\uFE0F|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDD27\uDCBC\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC6F\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3C-\uDD3E\uDDD6-\uDDDF])\u200D[\u2640\u2642]\uFE0F|\uD83C\uDDFD\uD83C\uDDF0|\uD83C\uDDF6\uD83C\uDDE6|\uD83C\uDDF4\uD83C\uDDF2|\uD83C\uDDE9(?:\uD83C[\uDDEA\uDDEC\uDDEF\uDDF0\uDDF2\uDDF4\uDDFF])|\uD83C\uDDF7(?:\uD83C[\uDDEA\uDDF4\uDDF8\uDDFA\uDDFC])|\uD83C\uDDE8(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDEE\uDDF0-\uDDF5\uDDF7\uDDFA-\uDDFF])|(?:\u26F9|\uD83C[\uDFCC\uDFCB]|\uD83D\uDD75)(?:\uFE0F\u200D[\u2640\u2642]|(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2640\u2642])\uFE0F|(?:\uD83D\uDC41\uFE0F\u200D\uD83D\uDDE8|\uD83D\uDC69(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\uD83D\uDC69\u200D[\u2695\u2696\u2708]|\uD83D\uDC68(?:(?:\uD83C[\uDFFB-\uDFFF])\u200D[\u2695\u2696\u2708]|\u200D[\u2695\u2696\u2708]))\uFE0F|\uD83C\uDDF2(?:\uD83C[\uDDE6\uDDE8-\uDDED\uDDF0-\uDDFF])|\uD83D\uDC69\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]|\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D(?:\uD83D[\uDC68\uDC69])|\uD83D[\uDC68\uDC69]))|\uD83C\uDDF1(?:\uD83C[\uDDE6-\uDDE8\uDDEE\uDDF0\uDDF7-\uDDFB\uDDFE])|\uD83C\uDDEF(?:\uD83C[\uDDEA\uDDF2\uDDF4\uDDF5])|\uD83C\uDDED(?:\uD83C[\uDDF0\uDDF2\uDDF3\uDDF7\uDDF9\uDDFA])|\uD83C\uDDEB(?:\uD83C[\uDDEE-\uDDF0\uDDF2\uDDF4\uDDF7])|[#\*0-9]\uFE0F\u20E3|\uD83C\uDDE7(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEF\uDDF1-\uDDF4\uDDF6-\uDDF9\uDDFB\uDDFC\uDDFE\uDDFF])|\uD83C\uDDE6(?:\uD83C[\uDDE8-\uDDEC\uDDEE\uDDF1\uDDF2\uDDF4\uDDF6-\uDDFA\uDDFC\uDDFD\uDDFF])|\uD83C\uDDFF(?:\uD83C[\uDDE6\uDDF2\uDDFC])|\uD83C\uDDF5(?:\uD83C[\uDDE6\uDDEA-\uDDED\uDDF0-\uDDF3\uDDF7-\uDDF9\uDDFC\uDDFE])|\uD83C\uDDFB(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDEE\uDDF3\uDDFA])|\uD83C\uDDF3(?:\uD83C[\uDDE6\uDDE8\uDDEA-\uDDEC\uDDEE\uDDF1\uDDF4\uDDF5\uDDF7\uDDFA\uDDFF])|\uD83C\uDFF4\uDB40\uDC67\uDB40\uDC62(?:\uDB40\uDC77\uDB40\uDC6C\uDB40\uDC73|\uDB40\uDC73\uDB40\uDC63\uDB40\uDC74|\uDB40\uDC65\uDB40\uDC6E\uDB40\uDC67)\uDB40\uDC7F|\uD83D\uDC68(?:\u200D(?:\u2764\uFE0F\u200D(?:\uD83D\uDC8B\u200D)?\uD83D\uDC68|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66\u200D\uD83D\uDC66|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67\u200D(?:\uD83D[\uDC66\uDC67])|\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92])|(?:\uD83C[\uDFFB-\uDFFF])\u200D(?:\uD83C[\uDF3E\uDF73\uDF93\uDFA4\uDFA8\uDFEB\uDFED]|\uD83D[\uDCBB\uDCBC\uDD27\uDD2C\uDE80\uDE92]))|\uD83C\uDDF8(?:\uD83C[\uDDE6-\uDDEA\uDDEC-\uDDF4\uDDF7-\uDDF9\uDDFB\uDDFD-\uDDFF])|\uD83C\uDDF0(?:\uD83C[\uDDEA\uDDEC-\uDDEE\uDDF2\uDDF3\uDDF5\uDDF7\uDDFC\uDDFE\uDDFF])|\uD83C\uDDFE(?:\uD83C[\uDDEA\uDDF9])|\uD83C\uDDEE(?:\uD83C[\uDDE8-\uDDEA\uDDF1-\uDDF4\uDDF6-\uDDF9])|\uD83C\uDDF9(?:\uD83C[\uDDE6\uDDE8\uDDE9\uDDEB-\uDDED\uDDEF-\uDDF4\uDDF7\uDDF9\uDDFB\uDDFC\uDDFF])|\uD83C\uDDEC(?:\uD83C[\uDDE6\uDDE7\uDDE9-\uDDEE\uDDF1-\uDDF3\uDDF5-\uDDFA\uDDFC\uDDFE])|\uD83C\uDDFA(?:\uD83C[\uDDE6\uDDEC\uDDF2\uDDF3\uDDF8\uDDFE\uDDFF])|\uD83C\uDDEA(?:\uD83C[\uDDE6\uDDE8\uDDEA\uDDEC\uDDED\uDDF7-\uDDFA])|\uD83C\uDDFC(?:\uD83C[\uDDEB\uDDF8])|(?:\u26F9|\uD83C[\uDFCB\uDFCC]|\uD83D\uDD75)(?:\uD83C[\uDFFB-\uDFFF])|(?:\uD83C[\uDFC3\uDFC4\uDFCA]|\uD83D[\uDC6E\uDC71\uDC73\uDC77\uDC81\uDC82\uDC86\uDC87\uDE45-\uDE47\uDE4B\uDE4D\uDE4E\uDEA3\uDEB4-\uDEB6]|\uD83E[\uDD26\uDD37-\uDD39\uDD3D\uDD3E\uDDD6-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u270A-\u270D]|\uD83C[\uDF85\uDFC2\uDFC7]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66\uDC67\uDC70\uDC72\uDC74-\uDC76\uDC78\uDC7C\uDC83\uDC85\uDCAA\uDD74\uDD7A\uDD90\uDD95\uDD96\uDE4C\uDE4F\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD30-\uDD36\uDDD1-\uDDD5])(?:\uD83C[\uDFFB-\uDFFF])|\uD83D\uDC68(?:\u200D(?:(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC67|(?:(?:\uD83D[\uDC68\uDC69])\u200D)?\uD83D\uDC66)|\uD83C[\uDFFB-\uDFFF])|(?:[\u261D\u26F9\u270A-\u270D]|\uD83C[\uDF85\uDFC2-\uDFC4\uDFC7\uDFCA-\uDFCC]|\uD83D[\uDC42\uDC43\uDC46-\uDC50\uDC66-\uDC69\uDC6E\uDC70-\uDC78\uDC7C\uDC81-\uDC83\uDC85-\uDC87\uDCAA\uDD74\uDD75\uDD7A\uDD90\uDD95\uDD96\uDE45-\uDE47\uDE4B-\uDE4F\uDEA3\uDEB4-\uDEB6\uDEC0\uDECC]|\uD83E[\uDD18-\uDD1C\uDD1E\uDD1F\uDD26\uDD30-\uDD39\uDD3D\uDD3E\uDDD1-\uDDDD])(?:\uD83C[\uDFFB-\uDFFF])?|(?:[\u231A\u231B\u23E9-\u23EC\u23F0\u23F3\u25FD\u25FE\u2614\u2615\u2648-\u2653\u267F\u2693\u26A1\u26AA\u26AB\u26BD\u26BE\u26C4\u26C5\u26CE\u26D4\u26EA\u26F2\u26F3\u26F5\u26FA\u26FD\u2705\u270A\u270B\u2728\u274C\u274E\u2753-\u2755\u2757\u2795-\u2797\u27B0\u27BF\u2B1B\u2B1C\u2B50\u2B55]|\uD83C[\uDC04\uDCCF\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE1A\uDE2F\uDE32-\uDE36\uDE38-\uDE3A\uDE50\uDE51\uDF00-\uDF20\uDF2D-\uDF35\uDF37-\uDF7C\uDF7E-\uDF93\uDFA0-\uDFCA\uDFCF-\uDFD3\uDFE0-\uDFF0\uDFF4\uDFF8-\uDFFF]|\uD83D[\uDC00-\uDC3E\uDC40\uDC42-\uDCFC\uDCFF-\uDD3D\uDD4B-\uDD4E\uDD50-\uDD67\uDD7A\uDD95\uDD96\uDDA4\uDDFB-\uDE4F\uDE80-\uDEC5\uDECC\uDED0-\uDED2\uDEEB\uDEEC\uDEF4-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])|(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u2660\u2663\u2665\u2666\u2668\u267B\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDEE0-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEF8]|\uD83E[\uDD10-\uDD3A\uDD3C-\uDD3E\uDD40-\uDD45\uDD47-\uDD4C\uDD50-\uDD6B\uDD80-\uDD97\uDDC0\uDDD0-\uDDE6])\uFE0F)/;function aI(n){var e=n.nodeType,t="";if(e===1||e===9||e===11){if(typeof n.textContent=="string")return n.textContent;for(n=n.firstChild;n;n=n.nextSibling)t+=aI(n)}else if(e===3||e===4)return n.nodeValue;return t}/*!
 * SplitText: 3.12.7
 * https://gsap.com
 *
 * @license Copyright 2008-2025, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Of,G_,lI,bh,cI,xA,FX=/(?:\r|\n|\t\t)/g,OX=/(?:\s\s+)/g,UX="",uI=function(e){Of=document,G_=window,bh=bh||e||G_.gsap||console.warn("Please gsap.registerPlugin(SplitText)"),bh&&(xA=bh.utils.toArray,cI=bh.core.context||function(){},lI=1)},fI=function(e){return G_.getComputedStyle(e)},Hx=function(e){return e.position==="absolute"||e.absolute===!0},NX=function(e,t){for(var i=t.length,r;--i>-1;)if(r=t[i],e.substr(0,r.length)===r)return r.length},kX=" style='position:relative;display:inline-block;'",FS=function(e,t){e===void 0&&(e="");var i=~e.indexOf("++"),r=1;return i&&(e=e.split("++").join("")),function(){return"<"+t+kX+(e?" class='"+e+(i?r++:"")+"'>":">")}},dI=function n(e,t,i){var r=e.nodeType;if(r===1||r===9||r===11)for(e=e.firstChild;e;e=e.nextSibling)n(e,t,i);else(r===3||r===4)&&(e.nodeValue=e.nodeValue.split(t).join(i))},J2=function(e,t){for(var i=t.length;--i>-1;)e.push(t[i])},OS=function(e,t,i){for(var r;e&&e!==t;){if(r=e._next||e.nextSibling,r)return r.textContent.charAt(0)===i;e=e.parentNode||e._parent}},zX=function n(e){var t=xA(e.childNodes),i=t.length,r,s;for(r=0;r<i;r++)s=t[r],s._isSplit?n(s):r&&s.previousSibling&&s.previousSibling.nodeType===3?(s.previousSibling.nodeValue+=s.nodeType===3?s.nodeValue:s.firstChild.nodeValue,e.removeChild(s)):s.nodeType!==3&&(e.insertBefore(s.firstChild,s),e.removeChild(s))},Fo=function(e,t){return parseFloat(t[e])||0},HX=function(e,t,i,r,s,o,a){var l=fI(e),c=Fo("paddingLeft",l),u=-999,f=Fo("borderBottomWidth",l)+Fo("borderTopWidth",l),h=Fo("borderLeftWidth",l)+Fo("borderRightWidth",l),p=Fo("paddingTop",l)+Fo("paddingBottom",l),m=Fo("paddingLeft",l)+Fo("paddingRight",l),g=Fo("fontSize",l)*(t.lineThreshold||.2),A=l.textAlign,y=[],x=[],b=[],_=t.wordDelimiter||" ",T=t.tag?t.tag:t.span?"span":"div",M=t.type||t.split||"chars,words,lines",I=s&&~M.indexOf("lines")?[]:null,P=~M.indexOf("words"),w=~M.indexOf("chars"),E=Hx(t),O=t.linesClass,F=~(O||"").indexOf("++"),H=[],z=l.display==="flex",X=e.style.display,U,G,j,Y,Q,ve,Pe,He,re,he,Oe,J;for(F&&(O=O.split("++").join("")),z&&(e.style.display="block"),G=e.getElementsByTagName("*"),j=G.length,Q=[],U=0;U<j;U++)Q[U]=G[U];if(I||E)for(U=0;U<j;U++)Y=Q[U],ve=Y.parentNode===e,(ve||E||w&&!P)&&(J=Y.offsetTop,I&&ve&&Math.abs(J-u)>g&&(Y.nodeName!=="BR"||U===0)&&(Pe=[],I.push(Pe),u=J),E&&(Y._x=Y.offsetLeft,Y._y=J,Y._w=Y.offsetWidth,Y._h=Y.offsetHeight),I&&((Y._isSplit&&ve||!w&&ve||P&&ve||!P&&Y.parentNode.parentNode===e&&!Y.parentNode._isSplit)&&(Pe.push(Y),Y._x-=c,OS(Y,e,_)&&(Y._wordEnd=!0)),Y.nodeName==="BR"&&(Y.nextSibling&&Y.nextSibling.nodeName==="BR"||U===0)&&I.push([])));for(U=0;U<j;U++){if(Y=Q[U],ve=Y.parentNode===e,Y.nodeName==="BR"){I||E?(Y.parentNode&&Y.parentNode.removeChild(Y),Q.splice(U--,1),j--):P||e.appendChild(Y);continue}if(E&&(re=Y.style,!P&&!ve&&(Y._x+=Y.parentNode._x,Y._y+=Y.parentNode._y),re.left=Y._x+"px",re.top=Y._y+"px",re.position="absolute",re.display="block",re.width=Y._w+1+"px",re.height=Y._h+"px"),!P&&w)if(Y._isSplit)for(Y._next=G=Y.nextSibling,Y.parentNode.appendChild(Y);G&&G.nodeType===3&&G.textContent===" ";)Y._next=G.nextSibling,Y.parentNode.appendChild(G),G=G.nextSibling;else Y.parentNode._isSplit?(Y._parent=Y.parentNode,!Y.previousSibling&&Y.firstChild&&(Y.firstChild._isFirst=!0),Y.nextSibling&&Y.nextSibling.textContent===" "&&!Y.nextSibling.nextSibling&&H.push(Y.nextSibling),Y._next=Y.nextSibling&&Y.nextSibling._isFirst?null:Y.nextSibling,Y.parentNode.removeChild(Y),Q.splice(U--,1),j--):ve||(J=!Y.nextSibling&&OS(Y.parentNode,e,_),Y.parentNode._parent&&Y.parentNode._parent.appendChild(Y),J&&Y.parentNode.appendChild(Of.createTextNode(" ")),T==="span"&&(Y.style.display="inline"),y.push(Y));else Y.parentNode._isSplit&&!Y._isSplit&&Y.innerHTML!==""?x.push(Y):w&&!Y._isSplit&&(T==="span"&&(Y.style.display="inline"),y.push(Y))}for(U=H.length;--U>-1;)H[U].parentNode.removeChild(H[U]);if(I){for(E&&(he=Of.createElement(T),e.appendChild(he),Oe=he.offsetWidth+"px",J=he.offsetParent===e?0:e.offsetLeft,e.removeChild(he)),re=e.style.cssText,e.style.cssText="display:none;";e.firstChild;)e.removeChild(e.firstChild);for(He=_===" "&&(!E||!P&&!w),U=0;U<I.length;U++){for(Pe=I[U],he=Of.createElement(T),he.style.cssText="display:block;text-align:"+A+";position:"+(E?"absolute;":"relative;"),O&&(he.className=O+(F?U+1:"")),b.push(he),j=Pe.length,G=0;G<j;G++)Pe[G].nodeName!=="BR"&&(Y=Pe[G],he.appendChild(Y),He&&Y._wordEnd&&he.appendChild(Of.createTextNode(" ")),E&&(G===0&&(he.style.top=Y._y+"px",he.style.left=c+J+"px"),Y.style.top="0px",J&&(Y.style.left=Y._x-J+"px")));j===0?he.innerHTML="&nbsp;":!P&&!w&&(zX(he),dI(he,""," ")),E&&(he.style.width=Oe,he.style.height=Y._h+"px"),e.appendChild(he)}e.style.cssText=re}E&&(a>e.clientHeight&&(e.style.height=a-p+"px",e.clientHeight<a&&(e.style.height=a+f+"px")),o>e.clientWidth&&(e.style.width=o-m+"px",e.clientWidth<o&&(e.style.width=o+h+"px"))),z&&(X?e.style.display=X:e.style.removeProperty("display")),J2(i,y),P&&J2(r,x),J2(s,b)},VX=function(e,t,i,r){var s=t.tag?t.tag:t.span?"span":"div",o=t.type||t.split||"chars,words,lines",a=~o.indexOf("chars"),l=Hx(t),c=t.wordDelimiter||" ",u=function(E){return E===c||E===UX&&c===" "},f=c!==" "?"":l?"&#173; ":" ",h="</"+s+">",p=1,m=t.specialChars?typeof t.specialChars=="function"?t.specialChars:NX:null,g,A,y,x,b,_,T,M,I=Of.createElement("div"),P=e.parentNode;for(P.insertBefore(I,e),I.textContent=e.nodeValue,P.removeChild(e),e=I,g=aI(e),T=g.indexOf("<")!==-1,t.reduceWhiteSpace!==!1&&(g=g.replace(OX," ").replace(FX,"")),T&&(g=g.split("<").join("{{LT}}")),b=g.length,A=(g.charAt(0)===" "?f:"")+i(),y=0;y<b;y++)if(_=g.charAt(y),m&&(M=m(g.substr(y),t.specialChars)))_=g.substr(y,M||1),A+=a&&_!==" "?r()+_+"</"+s+">":_,y+=M-1;else if(u(_)&&!u(g.charAt(y-1))&&y){for(A+=p?h:"",p=0;u(g.charAt(y+1));)A+=f,y++;y===b-1?A+=f:g.charAt(y+1)!==")"&&(A+=f+i(),p=1)}else _==="{"&&g.substr(y,6)==="{{LT}}"?(A+=a?r()+"{{LT}}</"+s+">":"{{LT}}",y+=5):_.charCodeAt(0)>=55296&&_.charCodeAt(0)<=56319||g.charCodeAt(y+1)>=65024&&g.charCodeAt(y+1)<=65039?(x=((g.substr(y,12).split(LX)||[])[1]||"").length||2,A+=a&&_!==" "?r()+g.substr(y,x)+"</"+s+">":g.substr(y,x),y+=x-1):A+=a&&_!==" "?r()+_+"</"+s+">":_;e.outerHTML=A+(p?h:""),T&&dI(P,"{{LT}}","<")},GX=function n(e,t,i,r){var s=xA(e.childNodes),o=s.length,a=Hx(t),l,c;if(e.nodeType!==3||o>1){for(t.absolute=!1,l=0;l<o;l++)c=s[l],c._next=c._isFirst=c._parent=c._wordEnd=null,(c.nodeType!==3||/\S+/.test(c.nodeValue))&&(a&&c.nodeType!==3&&fI(c).display==="inline"&&(c.style.display="inline-block",c.style.position="relative"),c._isSplit=!0,n(c,t,i,r));t.absolute=a,e._isSplit=!0;return}VX(e,t,i,r)},Cd=function(){function n(t,i){lI||uI(),this.elements=xA(t),this.chars=[],this.words=[],this.lines=[],this._originals=[],this.vars=i||{},cI(this),this.split(i)}var e=n.prototype;return e.split=function(i){this.isSplit&&this.revert(),this.vars=i=i||this.vars,this._originals.length=this.chars.length=this.words.length=this.lines.length=0;for(var r=this.elements.length,s=i.tag?i.tag:i.span?"span":"div",o=FS(i.wordsClass,s),a=FS(i.charsClass,s),l,c,u;--r>-1;)u=this.elements[r],this._originals[r]={html:u.innerHTML,style:u.getAttribute("style")},l=u.clientHeight,c=u.clientWidth,GX(u,i,o,a),HX(u,i,this.chars,this.words,this.lines,c,l);return this.chars.reverse(),this.words.reverse(),this.lines.reverse(),this.isSplit=!0,this},e.revert=function(){var i=this._originals;if(!i)throw"revert() call wasn't scoped properly.";return this.elements.forEach(function(r,s){r.innerHTML=i[s].html,r.setAttribute("style",i[s].style||"")}),this.chars=[],this.words=[],this.lines=[],this.isSplit=!1,this},n.create=function(i,r){return new n(i,r)},n}();Cd.version="3.12.7";Cd.register=uI;var Ao=Br.registerPlugin(Px)||Br;Ao.core.Tween;function Q_(n){n.forEach(e=>{e()})}function QX(n,e=300){let t;return function(...i){clearTimeout(t),t=setTimeout(function(){n(...i)},e)}}let US=!1;const kl=new Set;function oc(n,e){return kl.add(n),e&&n(),_A(()=>{US||(window.addEventListener("resize",QX(()=>Q_(kl),100)),US=!0)}),Wq(()=>{kl.delete(n)}),{remove:()=>{kl.delete(n)}}}const hI=gt(0),pI=gt(0);let j_=!1;const NS=()=>{hI.value=window.innerWidth,pI.value=window.innerHeight,j_=!0};function mI(){return j_||oc(NS),_A(()=>{j_||NS()}),{width:hI,height:pI}}function jX(n,e){const t=gt(document.createElement("div")),i=gt(document.createElement("div")),{height:r}=mI(),s=gt(0),o=gt(0),a=gt(40),l=gt(0),c=gt(0),u=gt(0),f=gt(!1),h=()=>{if(s.value=(n.limit+r.value)/r.value,s.value<=1){i.value.style.height="0";return}a.value=Math.max(r.value/s.value,40),i.value.style.height=`${a.value}px`,o.value=r.value-a.value},p=()=>{var I;return(I=t.value)==null?void 0:I.classList.replace("opacity-0","opacity-30")},m=()=>{var I;return(I=t.value)==null?void 0:I.classList.replace("opacity-30","opacity-0")},g=()=>{n.on("scroll",()=>{l.value=n.scroll/n.limit*(r.value-a.value)});const I=n.dimensions.onWrapperResize;n.dimensions.onWrapperResize=()=>{I(),setTimeout(h,1)}},A=()=>{t.value.classList.add("fixed","top-0","right-0","h-full","w-[20px]","z-[999]","opacity-0","transition-opacity","duration-100","hover:opacity-30","has-[:hover]:!opacity-80","touch:!hidden"),i.value.classList.add("py-6","mx-auto","w-[10px]","cursor-grab"),i.value.innerHTML='<div class="bg-scrollbar rounded-[10px] w-full h-full"></div>',t.value.appendChild(i.value),document.body.appendChild(t.value)},y=()=>{i.value.style.transform=`translate(0px, ${l.value}px)`,Math.abs(n.velocity)>0?p():m()},x=()=>{oi(e,I=>t.value.style.display=I?"none":"block"),oi(l,y),oi(f,()=>{document.body.style.userSelect=f.value?"none":"",document.body.classList.toggle("cursor-grabbing",f.value),i.value.classList.toggle("cursor-grabbing",f.value)})},b=I=>{c.value=I.clientY,u.value=I.clientY,f.value=!0,t.value.classList.add("!opacity-80")},_=I=>{!f.value||n.isStopped||(c.value=I.clientY,l.value-=u.value-c.value,l.value=Math.min(Math.max(l.value,0),o.value),u.value=c.value,n.scrollTo(l.value/o.value*n.limit,{immediate:!0}))},T=()=>{f.value=!1,t.value.classList.remove("!opacity-80")},M=()=>{Kr(i,"mousedown",b),Kr(window,"mousemove",_),Kr(window,"mouseup",T)};g(),A(),x(),M()}let kS=!1;const W_=gt(!1),_l=gt();oi(_l,n=>{kS||!n||(n.on("scroll",Dt.update),RM.add(e=>{n&&n.raf(e)},{priority:-1}),Dt.defaults({scroller:n==null?void 0:n.options.wrapper}),n.options.wrapper&&Dt.scrollerProxy(n.options.wrapper,{scrollTop:e=>(e&&n.scrollTo(e,{immediate:!0}),n.options.wrapper.scrollTop),getBoundingClientRect(){const{width:e,height:t}=mI();return{top:0,left:0,width:e.value,height:t.value}}}),jX(n,W_),kS=!0)});function CA(n){return _l.value,{Lenis:_l,lockScroll:()=>{var e;(e=_l.value)==null||e.stop(),W_.value=!0},unlockScroll:()=>{var e;(e=_l.value)==null||e.start(),W_.value=!1},scrollTo:(e,t)=>{var i;(i=_l.value)==null||i.scrollTo(qt(e),t)},setLenisInstance:e=>{_l.value||(_l.value=e)}}}const xh=gt([]),e3=gt(!1),t3=gt(0),n3=gt(0),WX=()=>{document!=null&&document.fonts&&Wo(document.fonts.ready);const n=document==null?void 0:document.querySelectorAll('img:not([loading="lazy"])');n&&n.forEach(e=>{Wo(new Promise((t,i)=>{e.complete?e.naturalWidth!==0?t(e):i(new Error("Image not loaded",{cause:e})):(e.addEventListener("load",()=>{t(e)},{once:!0}),e.addEventListener("error",r=>{i(new Error("Image not loaded",{cause:r}))},{once:!0}))}))})};function Wo(n){return n&&xh.value.push(n),{promise:n,isLoaded:e3,progress:n3,checkIfLoaded:()=>(e3.value=!1,t3.value=0,n3.value=0,WX(),xh.value.forEach(e=>{e.then(()=>{t3.value++,n3.value=Math.floor(t3.value/xh.value.length*100)})}),Promise.allSettled(xh.value).then(()=>{e3.value=!0,xh.value=[]}))}}const{scrollTo:zS,lockScroll:qX,unlockScroll:XX,Lenis:YX}=CA(),{checkIfLoaded:$X}=Wo(),KX=(n,e)=>{const t={css:!1,name:"default",mode:"out-in"},i=Oq;t.onBeforeLeave=r=>{typeof(i==null?void 0:i.onBeforeLeave)<"u"&&(i==null||i.onBeforeLeave(r))},t.onLeave=(r,s)=>{qX(),i==null||i.onLeave(r,s)},t.onBeforeEnter=r=>{typeof(i==null?void 0:i.onBeforeEnter)<"u"&&(i==null||i.onBeforeEnter(r))},t.onEnter=(r,s)=>{zS("top",{force:!0,immediate:!0}),$X().then(()=>{XX(),i==null||i.onEnter(r).then(()=>{el().then(()=>{const o=window.location.hash;o&&setTimeout(()=>{const a=Number(o.replace("#section-","")),l=document.querySelector(`[data-section="${a}"]`);l&&YX.value&&zS(l,{duration:2,force:!0})},50)}),s()})})},e.meta.pageTransition=t,n.meta.pageTransition=t},ZX=async n=>{let e,t;const i=([e,t]=qf(()=>ux({path:n.path})),e=await e,t(),e);if(i.redirect)return na(i.redirect,{acceptRelative:!0})?(window.location.href=i.redirect,!1):i.redirect},JX=[bW,KX,ZX],b0={};function eY(n,e,t){const{pathname:i,search:r,hash:s}=e,o=n.indexOf("#");if(o>-1){const c=s.includes(n.slice(o))?n.slice(o).length:1;let u=s.slice(c);return u[0]!=="/"&&(u="/"+u),hC(u,"")}const a=hC(i,n),l=!t||eG(a,t,{trailingSlash:!0})?a:t;return l+(l.includes("?")?"":r)+s}const tY=so({name:"nuxt:router",enforce:"pre",async setup(n){var A;let e,t,i=Bu().app.baseURL;const r=((A=Qs.history)==null?void 0:A.call(Qs,i))??Uj(i),s=Qs.routes?([e,t]=qf(()=>Qs.routes(U2)),e=await e,t(),e??U2):U2;let o;const a=aW({...Qs,scrollBehavior:(y,x,b)=>{if(x===go){o=b;return}if(Qs.scrollBehavior){if(a.options.scrollBehavior=Qs.scrollBehavior,"scrollRestoration"in window.history){const _=a.beforeEach(()=>{_(),window.history.scrollRestoration="manual"})}return Qs.scrollBehavior(y,go,o||b)}},history:r,routes:s});Qs.routes&&Qs.routes,"scrollRestoration"in window.history&&(window.history.scrollRestoration="auto"),n.vueApp.use(a);const l=ds(a.currentRoute.value);a.afterEach((y,x)=>{l.value=x}),Object.defineProperty(n.vueApp.config.globalProperties,"previousRoute",{get:()=>l.value});const c=eY(i,window.location,n.payload.path),u=ds(a.currentRoute.value),f=()=>{u.value=a.currentRoute.value};n.hook("page:finish",f),a.afterEach((y,x)=>{var b,_,T,M;((_=(b=y.matched[0])==null?void 0:b.components)==null?void 0:_.default)===((M=(T=x.matched[0])==null?void 0:T.components)==null?void 0:M.default)&&f()});const h={};for(const y in u.value)Object.defineProperty(h,y,{get:()=>u.value[y],enumerable:!0});n._route=Ua(h),n._middleware=n._middleware||{global:[],named:{}};const p=pA();a.afterEach(async(y,x,b)=>{delete n._processingMiddleware,!n.isHydrating&&p.value&&await n.runWithContext(KG),b&&await n.callHook("page:loading:end")});try{[e,t]=qf(()=>a.isReady()),await e,t()}catch(y){[e,t]=qf(()=>n.runWithContext(()=>Rf(y))),await e,t()}const m=c!==a.currentRoute.value.fullPath?a.resolve(c):a.currentRoute.value;f();const g=n.payload.state._layout;return a.beforeEach(async(y,x)=>{var b;await n.callHook("page:loading:start"),y.meta=ro(y.meta),n.isHydrating&&g&&!Kl(y.meta.layout)&&(y.meta.layout=g),n._processingMiddleware=!0;{const _=new Set([...JX,...n._middleware.global]);for(const T of y.matched){const M=T.meta.middleware;if(M)for(const I of hx(M))_.add(I)}{const T=await n.runWithContext(()=>ux({path:y.path}));if(T.appMiddleware)for(const M in T.appMiddleware)T.appMiddleware[M]?_.add(M):_.delete(M)}for(const T of _){const M=typeof T=="string"?n._middleware.named[T]||await((b=b0[T])==null?void 0:b.call(b0).then(P=>P.default||P)):T;if(!M)throw new Error(`Unknown route middleware: '${T}'.`);const I=await n.runWithContext(()=>M(y,x));if(!n.payload.serverRendered&&n.isHydrating&&(I===!1||I instanceof Error)){const P=I||o_({statusCode:404,statusMessage:`Page Not Found: ${c}`});return await n.runWithContext(()=>Rf(P)),!1}if(I!==!0&&(I||I===!1))return I}}}),a.onError(async()=>{delete n._processingMiddleware,await n.callHook("page:loading:end")}),a.afterEach(async(y,x)=>{y.matched.length===0&&await n.runWithContext(()=>Rf(o_({statusCode:404,fatal:!1,statusMessage:`Page not found: ${y.fullPath}`,data:{path:y.fullPath}})))}),n.hooks.hookOnce("app:created",async()=>{try{"name"in m&&(m.name=void 0),await a.replace({...m,force:!0}),a.options.scrollBehavior=Qs.scrollBehavior}catch(y){await n.runWithContext(()=>Rf(y))}}),{provide:{router:a}}}}),q_=globalThis.requestIdleCallback||(n=>{const e=Date.now(),t={didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-e))};return setTimeout(()=>{n(t)},1)}),nY=globalThis.cancelIdleCallback||(n=>{clearTimeout(n)}),SA=n=>{const e=Tn();e.isHydrating?e.hooks.hookOnce("app:suspense:resolve",()=>{q_(()=>n())}):q_(()=>n())},iY=n=>n==="defer"||n===!1;function rY(...n){var g;const e=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(e);let[t,i,r={}]=n;if(typeof t!="string")throw new TypeError("[nuxt] [asyncData] key must be a string.");if(typeof i!="function")throw new TypeError("[nuxt] [asyncData] handler must be a function.");const s=Tn(),o=i,a=()=>Pf.value,l=()=>s.isHydrating?s.payload.data[t]:s.static.data[t];r.server=r.server??!0,r.default=r.default??a,r.getCachedData=r.getCachedData??l,r.lazy=r.lazy??!1,r.immediate=r.immediate??!0,r.deep=r.deep??Pf.deep,r.dedupe=r.dedupe??"cancel";const c=r.getCachedData(t,s),u=c!=null;if(!s._asyncData[t]||!r.immediate){(g=s.payload._errors)[t]??(g[t]=Pf.errorValue);const A=r.deep?gt:ds;s._asyncData[t]={data:A(u?c:r.default()),pending:gt(!u),error:Kb(s.payload._errors,t),status:gt("idle"),_default:r.default}}const f={...s._asyncData[t]};delete f._default,f.refresh=f.execute=(A={})=>{if(s._asyncDataPromises[t]){if(iY(A.dedupe??r.dedupe))return s._asyncDataPromises[t];s._asyncDataPromises[t].cancelled=!0}if(A._initial||s.isHydrating&&A._initial!==!1){const x=A._initial?c:r.getCachedData(t,s);if(x!=null)return Promise.resolve(x)}f.pending.value=!0,f.status.value="pending";const y=new Promise((x,b)=>{try{x(o(s))}catch(_){b(_)}}).then(async x=>{if(y.cancelled)return s._asyncDataPromises[t];let b=x;r.transform&&(b=await r.transform(x)),r.pick&&(b=oY(b,r.pick)),s.payload.data[t]=b,f.data.value=b,f.error.value=Pf.errorValue,f.status.value="success"}).catch(x=>{if(y.cancelled)return s._asyncDataPromises[t];f.error.value=Cp(x),f.data.value=qt(r.default()),f.status.value="error"}).finally(()=>{y.cancelled||(f.pending.value=!1,delete s._asyncDataPromises[t])});return s._asyncDataPromises[t]=y,s._asyncDataPromises[t]},f.clear=()=>sY(s,t);const h=()=>f.refresh({_initial:!0}),p=r.server!==!1&&s.payload.serverRendered;{const A=Ro();if(A&&p&&r.immediate&&!A.sp&&(A.sp=[]),A&&!A._nuxtOnBeforeMountCbs){A._nuxtOnBeforeMountCbs=[];const b=A._nuxtOnBeforeMountCbs;ex(()=>{b.forEach(_=>{_()}),b.splice(0,b.length)}),nl(()=>b.splice(0,b.length))}p&&s.isHydrating&&(f.error.value||c!=null)?(f.pending.value=!1,f.status.value=f.error.value?"error":"success"):A&&(s.payload.serverRendered&&s.isHydrating||r.lazy)&&r.immediate?A._nuxtOnBeforeMountCbs.push(h):r.immediate&&h();const y=nA();if(r.watch){const b=oi(r.watch,()=>f.refresh());y&&Fy(b)}const x=s.hook("app:data:refresh",async b=>{(!b||b.includes(t))&&await f.refresh()});y&&Fy(x)}const m=Promise.resolve(s._asyncDataPromises[t]).then(()=>f);return Object.assign(m,f),m}function sY(n,e){e in n.payload.data&&(n.payload.data[e]=void 0),e in n.payload._errors&&(n.payload._errors[e]=Pf.errorValue),n._asyncData[e]&&(n._asyncData[e].data.value=void 0,n._asyncData[e].error.value=Pf.errorValue,n._asyncData[e].pending.value=!1,n._asyncData[e].status.value="idle"),e in n._asyncDataPromises&&(n._asyncDataPromises[e]&&(n._asyncDataPromises[e].cancelled=!0),n._asyncDataPromises[e]=void 0)}function oY(n,e){const t={};for(const i of e)t[i]=n[i];return t}const aY="$s";function lY(...n){const e=typeof n[n.length-1]=="string"?n.pop():void 0;typeof n[0]!="string"&&n.unshift(e);const[t,i]=n;if(!t||typeof t!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+t);if(i!==void 0&&typeof i!="function")throw new Error("[nuxt] [useState] init must be a function: "+i);const r=aY+t,s=Tn(),o=Kb(s.payload.state,r);if(o.value===void 0&&i){const a=i();if(Vi(a))return s.payload.state[r]=a,a;o.value=a}return o}const HS=Object.freeze({ignoreUnknown:!1,respectType:!1,respectFunctionNames:!1,respectFunctionProperties:!1,unorderedObjects:!0,unorderedArrays:!1,unorderedSets:!1,excludeKeys:void 0,excludeValues:void 0,replacer:void 0});function cY(n,e){e?e={...HS,...e}:e=HS;const t=gI(e);return t.dispatch(n),t.toString()}const uY=Object.freeze(["prototype","__proto__","constructor"]);function gI(n){let e="",t=new Map;const i=r=>{e+=r};return{toString(){return e},getContext(){return t},dispatch(r){return n.replacer&&(r=n.replacer(r)),this[r===null?"null":typeof r](r)},object(r){if(r&&typeof r.toJSON=="function")return this.object(r.toJSON());const s=Object.prototype.toString.call(r);let o="";const a=s.length;a<10?o="unknown:["+s+"]":o=s.slice(8,a-1),o=o.toLowerCase();let l=null;if((l=t.get(r))===void 0)t.set(r,t.size);else return this.dispatch("[CIRCULAR:"+l+"]");if(typeof Buffer<"u"&&Buffer.isBuffer&&Buffer.isBuffer(r))return i("buffer:"),i(r.toString("utf8"));if(o!=="object"&&o!=="function"&&o!=="asyncfunction")this[o]?this[o](r):n.ignoreUnknown||this.unkown(r,o);else{let c=Object.keys(r);n.unorderedObjects&&(c=c.sort());let u=[];n.respectType!==!1&&!VS(r)&&(u=uY),n.excludeKeys&&(c=c.filter(h=>!n.excludeKeys(h)),u=u.filter(h=>!n.excludeKeys(h))),i("object:"+(c.length+u.length)+":");const f=h=>{this.dispatch(h),i(":"),n.excludeValues||this.dispatch(r[h]),i(",")};for(const h of c)f(h);for(const h of u)f(h)}},array(r,s){if(s=s===void 0?n.unorderedArrays!==!1:s,i("array:"+r.length+":"),!s||r.length<=1){for(const l of r)this.dispatch(l);return}const o=new Map,a=r.map(l=>{const c=gI(n);c.dispatch(l);for(const[u,f]of c.getContext())o.set(u,f);return c.toString()});return t=o,a.sort(),this.array(a,!1)},date(r){return i("date:"+r.toJSON())},symbol(r){return i("symbol:"+r.toString())},unkown(r,s){if(i(s),!!r&&(i(":"),r&&typeof r.entries=="function"))return this.array(Array.from(r.entries()),!0)},error(r){return i("error:"+r.toString())},boolean(r){return i("bool:"+r)},string(r){i("string:"+r.length+":"),i(r)},function(r){i("fn:"),VS(r)?this.dispatch("[native]"):this.dispatch(r.toString()),n.respectFunctionNames!==!1&&this.dispatch("function-name:"+String(r.name)),n.respectFunctionProperties&&this.object(r)},number(r){return i("number:"+r)},xml(r){return i("xml:"+r.toString())},null(){return i("Null")},undefined(){return i("Undefined")},regexp(r){return i("regex:"+r.toString())},uint8array(r){return i("uint8array:"),this.dispatch(Array.prototype.slice.call(r))},uint8clampedarray(r){return i("uint8clampedarray:"),this.dispatch(Array.prototype.slice.call(r))},int8array(r){return i("int8array:"),this.dispatch(Array.prototype.slice.call(r))},uint16array(r){return i("uint16array:"),this.dispatch(Array.prototype.slice.call(r))},int16array(r){return i("int16array:"),this.dispatch(Array.prototype.slice.call(r))},uint32array(r){return i("uint32array:"),this.dispatch(Array.prototype.slice.call(r))},int32array(r){return i("int32array:"),this.dispatch(Array.prototype.slice.call(r))},float32array(r){return i("float32array:"),this.dispatch(Array.prototype.slice.call(r))},float64array(r){return i("float64array:"),this.dispatch(Array.prototype.slice.call(r))},arraybuffer(r){return i("arraybuffer:"),this.dispatch(new Uint8Array(r))},url(r){return i("url:"+r.toString())},map(r){i("map:");const s=[...r];return this.array(s,n.unorderedSets!==!1)},set(r){i("set:");const s=[...r];return this.array(s,n.unorderedSets!==!1)},file(r){return i("file:"),this.dispatch([r.name,r.size,r.type,r.lastModfied])},blob(){if(n.ignoreUnknown)return i("[blob]");throw new Error(`Hashing Blob objects is currently not supported
Use "options.replacer" or "options.ignoreUnknown"
`)},domwindow(){return i("domwindow")},bigint(r){return i("bigint:"+r.toString())},process(){return i("process")},timer(){return i("timer")},pipe(){return i("pipe")},tcp(){return i("tcp")},udp(){return i("udp")},tty(){return i("tty")},statwatcher(){return i("statwatcher")},securecontext(){return i("securecontext")},connection(){return i("connection")},zlib(){return i("zlib")},context(){return i("context")},nodescript(){return i("nodescript")},httpparser(){return i("httpparser")},dataview(){return i("dataview")},signal(){return i("signal")},fsevent(){return i("fsevent")},tlswrap(){return i("tlswrap")}}}const AI="[native code] }",fY=AI.length;function VS(n){return typeof n!="function"?!1:Function.prototype.toString.call(n).slice(-fY)===AI}var dY=Object.defineProperty,hY=(n,e,t)=>e in n?dY(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,Uf=(n,e,t)=>(hY(n,typeof e!="symbol"?e+"":e,t),t);class Xl{constructor(e,t){Uf(this,"words"),Uf(this,"sigBytes"),e=this.words=e||[],this.sigBytes=t===void 0?e.length*4:t}toString(e){return(e||pY).stringify(this)}concat(e){if(this.clamp(),this.sigBytes%4)for(let t=0;t<e.sigBytes;t++){const i=e.words[t>>>2]>>>24-t%4*8&255;this.words[this.sigBytes+t>>>2]|=i<<24-(this.sigBytes+t)%4*8}else for(let t=0;t<e.sigBytes;t+=4)this.words[this.sigBytes+t>>>2]=e.words[t>>>2];return this.sigBytes+=e.sigBytes,this}clamp(){this.words[this.sigBytes>>>2]&=4294967295<<32-this.sigBytes%4*8,this.words.length=Math.ceil(this.sigBytes/4)}clone(){return new Xl([...this.words])}}const pY={stringify(n){const e=[];for(let t=0;t<n.sigBytes;t++){const i=n.words[t>>>2]>>>24-t%4*8&255;e.push((i>>>4).toString(16),(i&15).toString(16))}return e.join("")}},mY={stringify(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=[];for(let i=0;i<n.sigBytes;i+=3){const r=n.words[i>>>2]>>>24-i%4*8&255,s=n.words[i+1>>>2]>>>24-(i+1)%4*8&255,o=n.words[i+2>>>2]>>>24-(i+2)%4*8&255,a=r<<16|s<<8|o;for(let l=0;l<4&&i*8+l*6<n.sigBytes*8;l++)t.push(e.charAt(a>>>6*(3-l)&63))}return t.join("")}},gY={parse(n){const e=n.length,t=[];for(let i=0;i<e;i++)t[i>>>2]|=(n.charCodeAt(i)&255)<<24-i%4*8;return new Xl(t,e)}},AY={parse(n){return gY.parse(unescape(encodeURIComponent(n)))}};class vY{constructor(){Uf(this,"_data",new Xl),Uf(this,"_nDataBytes",0),Uf(this,"_minBufferSize",0),Uf(this,"blockSize",512/32)}reset(){this._data=new Xl,this._nDataBytes=0}_append(e){typeof e=="string"&&(e=AY.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes}_doProcessBlock(e,t){}_process(e){let t,i=this._data.sigBytes/(this.blockSize*4);e?i=Math.ceil(i):i=Math.max((i|0)-this._minBufferSize,0);const r=i*this.blockSize,s=Math.min(r*4,this._data.sigBytes);if(r){for(let o=0;o<r;o+=this.blockSize)this._doProcessBlock(this._data.words,o);t=this._data.words.splice(0,r),this._data.sigBytes-=s}return new Xl(t,s)}}class yY extends vY{update(e){return this._append(e),this._process(),this}finalize(e){e&&this._append(e)}}var _Y=Object.defineProperty,bY=(n,e,t)=>e in n?_Y(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,xY=(n,e,t)=>(bY(n,e+"",t),t);const GS=[1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225],CY=[1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998],Nc=[];class SY extends yY{constructor(){super(...arguments),xY(this,"_hash",new Xl([...GS]))}reset(){super.reset(),this._hash=new Xl([...GS])}_doProcessBlock(e,t){const i=this._hash.words;let r=i[0],s=i[1],o=i[2],a=i[3],l=i[4],c=i[5],u=i[6],f=i[7];for(let h=0;h<64;h++){if(h<16)Nc[h]=e[t+h]|0;else{const b=Nc[h-15],_=(b<<25|b>>>7)^(b<<14|b>>>18)^b>>>3,T=Nc[h-2],M=(T<<15|T>>>17)^(T<<13|T>>>19)^T>>>10;Nc[h]=_+Nc[h-7]+M+Nc[h-16]}const p=l&c^~l&u,m=r&s^r&o^s&o,g=(r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22),A=(l<<26|l>>>6)^(l<<21|l>>>11)^(l<<7|l>>>25),y=f+A+p+CY[h]+Nc[h],x=g+m;f=u,u=c,c=l,l=a+y|0,a=o,o=s,s=r,r=y+x|0}i[0]=i[0]+r|0,i[1]=i[1]+s|0,i[2]=i[2]+o|0,i[3]=i[3]+a|0,i[4]=i[4]+l|0,i[5]=i[5]+c|0,i[6]=i[6]+u|0,i[7]=i[7]+f|0}finalize(e){super.finalize(e);const t=this._nDataBytes*8,i=this._data.sigBytes*8;return this._data.words[i>>>5]|=128<<24-i%32,this._data.words[(i+64>>>9<<4)+14]=Math.floor(t/4294967296),this._data.words[(i+64>>>9<<4)+15]=t,this._data.sigBytes=this._data.words.length*4,this._process(),this._hash}}function wY(n){return new SY().finalize(n).toString(mY)}function EY(n,e={}){const t=typeof n=="string"?n:cY(n,e);return wY(t).slice(0,10)}async function vI(n,e=As()){const{path:t,matched:i}=e.resolve(n);if(!i.length||(e._routePreloaded||(e._routePreloaded=new Set),e._routePreloaded.has(t)))return;const r=e._preloadPromises=e._preloadPromises||[];if(r.length>4)return Promise.all(r).then(()=>vI(n,e));e._routePreloaded.add(t);const s=i.map(o=>{var a;return(a=o.components)==null?void 0:a.default}).filter(o=>typeof o=="function");for(const o of s){const a=Promise.resolve(o()).catch(()=>{}).finally(()=>r.splice(r.indexOf(a)));r.push(a)}await Promise.all(r)}function TY(n={}){const e=n.path||window.location.pathname;let t={};try{t=dg(sessionStorage.getItem("nuxt:reload")||"{}")}catch{}if(n.force||(t==null?void 0:t.path)!==e||(t==null?void 0:t.expires)<Date.now()){try{sessionStorage.setItem("nuxt:reload",JSON.stringify({path:e,expires:Date.now()+(n.ttl??1e4)}))}catch{}if(n.persistState)try{sessionStorage.setItem("nuxt:reload:state",JSON.stringify({state:Tn().payload.state}))}catch{}window.location.pathname!==e?window.location.href=e:window.location.reload()}}const MY=(...n)=>n.find(e=>e!==void 0);function IY(n){const e=n.componentName||"NuxtLink";function t(s){return typeof s=="string"&&s.startsWith("#")}function i(s,o){if(!s||n.trailingSlash!=="append"&&n.trailingSlash!=="remove")return s;if(typeof s=="string")return QS(s,n.trailingSlash);const a="path"in s&&s.path!==void 0?s.path:o(s).path;return{...s,name:void 0,path:QS(a,n.trailingSlash)}}function r(s){const o=As(),a=Bu(),l=ni(()=>!!s.target&&s.target!=="_self"),c=ni(()=>{const A=s.to||s.href||"";return typeof A=="string"&&na(A,{acceptRelative:!0})}),u=N5("RouterLink"),f=typeof u!="string"?u.useLink:void 0,h=ni(()=>{if(s.external)return!0;const A=s.to||s.href||"";return typeof A=="object"?!1:A===""||c.value}),p=ni(()=>{const A=s.to||s.href||"";return h.value?A:i(A,o.resolve)}),m=h.value||f==null?void 0:f({...s,to:p}),g=ni(()=>{var A;if(!p.value||c.value||t(p.value))return p.value;if(h.value){const y=typeof p.value=="object"&&"path"in p.value?l_(p.value):p.value,x=typeof y=="object"?o.resolve(y).href:y;return i(x,o.resolve)}return typeof p.value=="object"?((A=o.resolve(p.value))==null?void 0:A.href)??null:i(uA(a.app.baseURL,p.value),o.resolve)});return{to:p,hasTarget:l,isAbsoluteUrl:c,isExternal:h,href:g,isActive:(m==null?void 0:m.isActive)??ni(()=>p.value===o.currentRoute.value.path),isExactActive:(m==null?void 0:m.isExactActive)??ni(()=>p.value===o.currentRoute.value.path),route:(m==null?void 0:m.route)??ni(()=>o.resolve(p.value)),async navigate(){await $G(g.value,{replace:s.replace,external:h.value||l.value})}}}return vs({name:e,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:r,setup(s,{slots:o}){const a=As(),{to:l,href:c,navigate:u,isExternal:f,hasTarget:h,isAbsoluteUrl:p}=r(s),m=gt(!1),g=gt(null),A=b=>{var _;g.value=s.custom?(_=b==null?void 0:b.$el)==null?void 0:_.nextElementSibling:b==null?void 0:b.$el};function y(b){var _,T;return!m.value&&(typeof s.prefetchOn=="string"?s.prefetchOn===b:((_=s.prefetchOn)==null?void 0:_[b])??((T=n.prefetchOn)==null?void 0:T[b]))&&(s.prefetch??n.prefetch)!==!1&&s.noPrefetch!==!0&&s.target!=="_blank"&&!RY()}async function x(b=Tn()){if(m.value)return;m.value=!0;const _=typeof l.value=="string"?l.value:f.value?l_(l.value):a.resolve(l.value).fullPath,T=f.value?new URL(_,window.location.href).href:_;await Promise.all([b.hooks.callHook("link:prefetch",T).catch(()=>{}),!f.value&&!h.value&&vI(l.value,a).catch(()=>{})])}if(y("visibility")){const b=Tn();let _,T=null;ks(()=>{const M=DY();SA(()=>{_=q_(()=>{var I;(I=g==null?void 0:g.value)!=null&&I.tagName&&(T=M.observe(g.value,async()=>{T==null||T(),T=null,await x(b)}))})})}),xp(()=>{_&&nY(_),T==null||T(),T=null})}return()=>{var T;if(!f.value&&!h.value&&!t(l.value)){const M={ref:A,to:l.value,activeClass:s.activeClass||n.activeClass,exactActiveClass:s.exactActiveClass||n.exactActiveClass,replace:s.replace,ariaCurrentValue:s.ariaCurrentValue,custom:s.custom};return s.custom||(y("interaction")&&(M.onPointerenter=x.bind(null,void 0),M.onFocus=x.bind(null,void 0)),m.value&&(M.class=s.prefetchedClass||n.prefetchedClass),M.rel=s.rel||void 0),Mr(N5("RouterLink"),M,o.default)}const b=s.target||null,_=MY(s.noRel?"":s.rel,n.externalRelAttribute,p.value||h.value?"noopener noreferrer":"")||null;return s.custom?o.default?o.default({href:c.value,navigate:u,prefetch:x,get route(){if(!c.value)return;const M=new URL(c.value,window.location.href);return{path:M.pathname,fullPath:M.pathname,get query(){return z7(M.search)},hash:M.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:c.value}},rel:_,target:b,isExternal:f.value||h.value,isActive:!1,isExactActive:!1}):null:Mr("a",{ref:g,href:c.value||null,rel:_,target:b},(T=o.default)==null?void 0:T.call(o))}}})}const yI=IY(RG);function QS(n,e){const t=e==="append"?pg:cA;return na(n)&&!n.startsWith("http")?n:t(n,!0)}function DY(){const n=Tn();if(n._observer)return n._observer;let e=null;const t=new Map,i=(s,o)=>(e||(e=new IntersectionObserver(a=>{for(const l of a){const c=t.get(l.target);(l.isIntersecting||l.intersectionRatio>0)&&c&&c()}})),t.set(s,o),e.observe(s),()=>{t.delete(s),e==null||e.unobserve(s),t.size===0&&(e==null||e.disconnect(),e=null)});return n._observer={observe:i}}const PY=/2g/;function RY(){const n=navigator.connection;return!!(n&&(n.saveData||PY.test(n.effectiveType)))}function BY(n){typeof n.indexable<"u"&&(n.indexable=String(n.indexable)!=="false"),typeof n.trailingSlash<"u"&&!n.trailingSlash&&(n.trailingSlash=String(n.trailingSlash)!=="false"),n.url&&!na(String(n.url),{acceptRelative:!0,strict:!1})&&(n.url=ZV(String(n.url)));const e=Object.keys(n).sort((i,r)=>i.localeCompare(r)),t={};for(const i of e)t[i]=n[i];return t}function LY(n){const t=[];function i(s){if(!s||typeof s!="object"||Object.keys(s).length===0)return()=>{};s._context;const o={};for(const l in s){const c=s[l];typeof c<"u"&&c!==""&&(o[l]=c)}let a;return Object.keys(o).filter(l=>!l.startsWith("_")).length>0&&(a=t.push(o)),()=>{typeof a<"u"&&t.splice(a-1,1)}}function r(s){var a;const o={};s!=null&&s.debug&&(o._context={}),o._priority={};for(const l in t.sort((c,u)=>(c._priority||0)-(u._priority||0)))for(const c in t[l]){const u=c,f=s!=null&&s.resolveRefs?xo(t[l][c]):t[l][c];!c.startsWith("_")&&typeof f<"u"&&(o[c]=f,typeof t[l]._priority<"u"&&t[l]._priority!==-1&&(o._priority[u]=t[l]._priority),s!=null&&s.debug&&(o._context[u]=((a=t[l]._context)==null?void 0:a[u])||t[l]._context||"anonymous"))}return s!=null&&s.skipNormalize?o:BY(o)}return{stack:t,push:i,get:r}}const FY=so({name:"nuxt-site-config:init",enforce:"pre",async setup(n){var i;const e=LY(),t=lY("site-config");{const r=t.value||window.__NUXT_SITE_CONFIG__||{};for(const s in r)s[0]!=="_"&&e.push({[s]:r[s],_priority:((i=r._priority)==null?void 0:i[s])||-1})}return{provide:{nuxtSiteConfig:e}}}}),OY=so({name:"nuxt:payload",setup(n){As().beforeResolve(async(e,t)=>{if(e.path===t.path)return;const i=await IC(e.path);i&&Object.assign(n.static.data,i.data)}),SA(()=>{var e;n.hooks.hook("link:prefetch",async t=>{const{hostname:i}=new URL(t,window.location.href);i===window.location.hostname&&await IC(t)}),((e=navigator.connection)==null?void 0:e.effectiveType)!=="slow-2g"&&setTimeout(mA,1e3)})}}),UY=so(()=>{const n=As();SA(()=>{n.beforeResolve(async()=>{await new Promise(e=>{setTimeout(e,100),requestAnimationFrame(()=>{setTimeout(e,0)})})})})}),NY=so(n=>{let e;async function t(){const i=await mA();e&&clearTimeout(e),e=setTimeout(t,vC);try{const r=await $fetch(ax("builds/latest.json")+`?${Date.now()}`);r.id!==i.id&&n.hooks.callHook("app:manifest:update",r)}catch{}}SA(()=>{e=setTimeout(t,vC)})}),kY=so({name:"nuxt:chunk-reload",setup(n){const e=As(),t=Bu(),i=new Set;e.beforeEach(()=>{i.clear()}),n.hook("app:chunkError",({error:s})=>{i.add(s)});function r(s){const a="href"in s&&s.href[0]==="#"?t.app.baseURL+s.href:uA(t.app.baseURL,s.fullPath);TY({path:a,persistState:!0})}n.hook("app:manifest:update",()=>{e.beforeResolve(r)}),e.onError((s,o)=>{i.has(s)&&r(o)})}}),zY=so({name:"nuxt:global-components"}),V1={},HY=so({name:"nuxt:prefetch",setup(n){const e=As();n.hooks.hook("app:mounted",()=>{e.beforeEach(async t=>{var r;const i=(r=t==null?void 0:t.meta)==null?void 0:r.layout;i&&typeof V1[i]=="function"&&await V1[i]()})}),n.hooks.hook("link:prefetch",t=>{if(na(t))return;const i=e.resolve(t);if(!i)return;const r=i.meta.layout;let s=hx(i.meta.middleware);s=s.filter(o=>typeof o=="string");for(const o of s)typeof b0[o]=="function"&&b0[o]();r&&typeof V1[r]=="function"&&V1[r]()})}});/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const Vx="173",ed={ROTATE:0,DOLLY:1,PAN:2},Nf={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},VY=0,jS=1,GY=2,_I=1,QY=2,zo=3,Mo=0,Pr=1,Ks=2,Co=0,bu=1,q0=2,X_=3,Y_=4,bI=5,eu=100,jY=101,WY=102,qY=103,XY=104,YY=200,$Y=201,KY=202,ZY=203,$_=204,K_=205,JY=206,e$=207,t$=208,n$=209,i$=210,r$=211,s$=212,o$=213,a$=214,Z_=0,J_=1,eb=2,Sd=3,tb=4,nb=5,ib=6,rb=7,xI=0,l$=1,c$=2,Yl=0,CI=1,SI=2,wI=3,EI=4,TI=5,MI=6,II=7,WS="attached",u$="detached",Gx=300,tc=301,wd=302,$a=303,sb=304,wA=306,ts=1e3,ti=1001,Ed=1002,Rr=1003,DI=1004,Xh=1005,Yt=1006,Xm=1007,Fs=1008,Qx=1008,Ki=1009,PI=1010,RI=1011,X0=1012,jx=1013,Pu=1014,Zt=1015,nn=1016,Wx=1017,qx=1018,Td=1020,BI=35902,LI=1021,FI=1022,hi=1023,OI=1024,UI=1025,td=1026,Md=1027,zl=1028,Xx=1029,ou=1030,Yx=1031,$x=1033,Ym=33776,x0=33777,$m=33778,C0=33779,Bg=35840,ob=35841,Lg=35842,ab=35843,Fg=36196,Og=37492,Ug=37496,Y0=37808,lb=37809,cb=37810,ub=37811,$0=37812,fb=37813,db=37814,hb=37815,pb=37816,mb=37817,gb=37818,Ab=37819,vb=37820,yb=37821,S0=36492,_b=36494,Ng=36495,NI=36283,bb=36284,xb=36285,Cb=36286,K0=2300,Z0=2301,i3=2302,qS=2400,XS=2401,YS=2402,f$=2500,d$=0,kI=1,Sb=2,h$=3200,Kx=3201,zI=0,p$=1,qo="",En="srgb",pi="srgb-linear",kg="linear",yn="srgb",tf=7680,$S=519,m$=512,g$=513,A$=514,HI=515,v$=516,y$=517,_$=518,b$=519,wb=35044,KS="300 es",Ko=2e3,zg=2001;class ac{addEventListener(e,t){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(t)===-1&&i[e].push(t)}hasEventListener(e,t){const i=this._listeners;return i===void 0?!1:i[e]!==void 0&&i[e].indexOf(t)!==-1}removeEventListener(e,t){const i=this._listeners;if(i===void 0)return;const r=i[e];if(r!==void 0){const s=r.indexOf(t);s!==-1&&r.splice(s,1)}}dispatchEvent(e){const t=this._listeners;if(t===void 0)return;const i=t[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const vr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ZS=1234567;const w0=Math.PI/180,Id=180/Math.PI;function So(){const n=Math.random()*4294967295|0,e=Math.random()*4294967295|0,t=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(vr[n&255]+vr[n>>8&255]+vr[n>>16&255]+vr[n>>24&255]+"-"+vr[e&255]+vr[e>>8&255]+"-"+vr[e>>16&15|64]+vr[e>>24&255]+"-"+vr[t&63|128]+vr[t>>8&255]+"-"+vr[t>>16&255]+vr[t>>24&255]+vr[i&255]+vr[i>>8&255]+vr[i>>16&255]+vr[i>>24&255]).toLowerCase()}function Ft(n,e,t){return Math.max(e,Math.min(t,n))}function Zx(n,e){return(n%e+e)%e}function x$(n,e,t,i,r){return i+(n-e)*(r-i)/(t-e)}function C$(n,e,t){return n!==e?(t-n)/(e-n):0}function E0(n,e,t){return(1-t)*n+t*e}function S$(n,e,t,i){return E0(n,e,1-Math.exp(-t*i))}function w$(n,e=1){return e-Math.abs(Zx(n,e*2)-e)}function E$(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*(3-2*n))}function T$(n,e,t){return n<=e?0:n>=t?1:(n=(n-e)/(t-e),n*n*n*(n*(n*6-15)+10))}function M$(n,e){return n+Math.floor(Math.random()*(e-n+1))}function I$(n,e){return n+Math.random()*(e-n)}function D$(n){return n*(.5-Math.random())}function P$(n){n!==void 0&&(ZS=n);let e=ZS+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function R$(n){return n*w0}function B$(n){return n*Id}function L$(n){return(n&n-1)===0&&n!==0}function F$(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))}function O$(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function U$(n,e,t,i,r){const s=Math.cos,o=Math.sin,a=s(t/2),l=o(t/2),c=s((e+i)/2),u=o((e+i)/2),f=s((e-i)/2),h=o((e-i)/2),p=s((i-e)/2),m=o((i-e)/2);switch(r){case"XYX":n.set(a*u,l*f,l*h,a*c);break;case"YZY":n.set(l*h,a*u,l*f,a*c);break;case"ZXZ":n.set(l*f,l*h,a*u,a*c);break;case"XZX":n.set(a*u,l*m,l*p,a*c);break;case"YXY":n.set(l*p,a*u,l*m,a*c);break;case"ZYZ":n.set(l*m,l*p,a*u,a*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function yo(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function _n(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(n*4294967295);case Uint16Array:return Math.round(n*65535);case Uint8Array:return Math.round(n*255);case Int32Array:return Math.round(n*2147483647);case Int16Array:return Math.round(n*32767);case Int8Array:return Math.round(n*127);default:throw new Error("Invalid component type.")}}const gn={DEG2RAD:w0,RAD2DEG:Id,generateUUID:So,clamp:Ft,euclideanModulo:Zx,mapLinear:x$,inverseLerp:C$,lerp:E0,damp:S$,pingpong:w$,smoothstep:E$,smootherstep:T$,randInt:M$,randFloat:I$,randFloatSpread:D$,seededRandom:P$,degToRad:R$,radToDeg:B$,isPowerOfTwo:L$,ceilPowerOfTwo:F$,floorPowerOfTwo:O$,setQuaternionFromProperEuler:U$,normalize:_n,denormalize:yo};class De{constructor(e=0,t=0){De.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Lt{constructor(e,t,i,r,s,o,a,l,c){Lt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c)}set(e,t,i,r,s,o,a,l,c){const u=this.elements;return u[0]=e,u[1]=r,u[2]=a,u[3]=t,u[4]=s,u[5]=l,u[6]=i,u[7]=o,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],l=i[6],c=i[1],u=i[4],f=i[7],h=i[2],p=i[5],m=i[8],g=r[0],A=r[3],y=r[6],x=r[1],b=r[4],_=r[7],T=r[2],M=r[5],I=r[8];return s[0]=o*g+a*x+l*T,s[3]=o*A+a*b+l*M,s[6]=o*y+a*_+l*I,s[1]=c*g+u*x+f*T,s[4]=c*A+u*b+f*M,s[7]=c*y+u*_+f*I,s[2]=h*g+p*x+m*T,s[5]=h*A+p*b+m*M,s[8]=h*y+p*_+m*I,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8];return t*o*u-t*a*c-i*s*u+i*a*l+r*s*c-r*o*l}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=u*o-a*c,h=a*l-u*s,p=c*s-o*l,m=t*f+i*h+r*p;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=f*g,e[1]=(r*c-u*i)*g,e[2]=(a*i-r*o)*g,e[3]=h*g,e[4]=(u*t-r*l)*g,e[5]=(r*s-a*t)*g,e[6]=p*g,e[7]=(i*l-c*t)*g,e[8]=(o*t-i*s)*g,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const l=Math.cos(s),c=Math.sin(s);return this.set(i*l,i*c,-i*(l*o+c*a)+o+e,-r*c,r*l,-r*(-c*o+l*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(r3.makeScale(e,t)),this}rotate(e){return this.premultiply(r3.makeRotation(-e)),this}translate(e,t){return this.premultiply(r3.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const r3=new Lt;function VI(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function J0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function N$(){const n=J0("canvas");return n.style.display="block",n}const JS={};function Tf(n){n in JS||(JS[n]=!0,console.warn(n))}function k$(n,e,t){return new Promise(function(i,r){function s(){switch(n.clientWaitSync(e,n.SYNC_FLUSH_COMMANDS_BIT,0)){case n.WAIT_FAILED:r();break;case n.TIMEOUT_EXPIRED:setTimeout(s,t);break;default:i()}}setTimeout(s,t)})}function z$(n){const e=n.elements;e[2]=.5*e[2]+.5*e[3],e[6]=.5*e[6]+.5*e[7],e[10]=.5*e[10]+.5*e[11],e[14]=.5*e[14]+.5*e[15]}function H$(n){const e=n.elements;e[11]===-1?(e[10]=-e[10]-1,e[14]=-e[14]):(e[10]=-e[10],e[14]=-e[14]+1)}const ew=new Lt().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),tw=new Lt().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function V$(){const n={enabled:!0,workingColorSpace:pi,spaces:{},convert:function(r,s,o){return this.enabled===!1||s===o||!s||!o||(this.spaces[s].transfer===yn&&(r.r=ja(r.r),r.g=ja(r.g),r.b=ja(r.b)),this.spaces[s].primaries!==this.spaces[o].primaries&&(r.applyMatrix3(this.spaces[s].toXYZ),r.applyMatrix3(this.spaces[o].fromXYZ)),this.spaces[o].transfer===yn&&(r.r=nd(r.r),r.g=nd(r.g),r.b=nd(r.b))),r},fromWorkingColorSpace:function(r,s){return this.convert(r,this.workingColorSpace,s)},toWorkingColorSpace:function(r,s){return this.convert(r,s,this.workingColorSpace)},getPrimaries:function(r){return this.spaces[r].primaries},getTransfer:function(r){return r===qo?kg:this.spaces[r].transfer},getLuminanceCoefficients:function(r,s=this.workingColorSpace){return r.fromArray(this.spaces[s].luminanceCoefficients)},define:function(r){Object.assign(this.spaces,r)},_getMatrix:function(r,s,o){return r.copy(this.spaces[s].toXYZ).multiply(this.spaces[o].fromXYZ)},_getDrawingBufferColorSpace:function(r){return this.spaces[r].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(r=this.workingColorSpace){return this.spaces[r].workingColorSpaceConfig.unpackColorSpace}},e=[.64,.33,.3,.6,.15,.06],t=[.2126,.7152,.0722],i=[.3127,.329];return n.define({[pi]:{primaries:e,whitePoint:i,transfer:kg,toXYZ:ew,fromXYZ:tw,luminanceCoefficients:t,workingColorSpaceConfig:{unpackColorSpace:En},outputColorSpaceConfig:{drawingBufferColorSpace:En}},[En]:{primaries:e,whitePoint:i,transfer:yn,toXYZ:ew,fromXYZ:tw,luminanceCoefficients:t,outputColorSpaceConfig:{drawingBufferColorSpace:En}}}),n}const Xt=V$();function ja(n){return n<.04045?n*.0773993808:Math.pow(n*.9478672986+.0521327014,2.4)}function nd(n){return n<.0031308?n*12.92:1.055*Math.pow(n,.41666)-.055}let nf;class G${static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{nf===void 0&&(nf=J0("canvas")),nf.width=e.width,nf.height=e.height;const i=nf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=nf}return t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=J0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=ja(s[o]/255)*255;return i.putImageData(r,0,0),t}else if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t instanceof Uint8Array||t instanceof Uint8ClampedArray?t[i]=Math.floor(ja(t[i]/255)*255):t[i]=ja(t[i]);return{data:t,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Q$=0;class GI{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Q$++}),this.uuid=So(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)r[o].isDataTexture?s.push(s3(r[o].image)):s.push(s3(r[o]))}else s=s3(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function s3(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?G$.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let j$=0;class xn extends ac{constructor(e=xn.DEFAULT_IMAGE,t=xn.DEFAULT_MAPPING,i=ti,r=ti,s=Yt,o=Fs,a=hi,l=Ki,c=xn.DEFAULT_ANISOTROPY,u=qo){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:j$++}),this.uuid=So(),this.name="",this.source=new GI(e),this.mipmaps=[],this.mapping=t,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=s,this.minFilter=o,this.anisotropy=c,this.format=a,this.internalFormat=null,this.type=l,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Lt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const t=e===void 0||typeof e=="string";if(!t&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),t||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Gx)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case ts:e.x=e.x-Math.floor(e.x);break;case ti:e.x=e.x<0?0:1;break;case Ed:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case ts:e.y=e.y-Math.floor(e.y);break;case ti:e.y=e.y<0?0:1;break;case Ed:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}xn.DEFAULT_IMAGE=null;xn.DEFAULT_MAPPING=Gx;xn.DEFAULT_ANISOTROPY=1;class Vt{constructor(e=0,t=0,i=0,r=1){Vt.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const l=e.elements,c=l[0],u=l[4],f=l[8],h=l[1],p=l[5],m=l[9],g=l[2],A=l[6],y=l[10];if(Math.abs(u-h)<.01&&Math.abs(f-g)<.01&&Math.abs(m-A)<.01){if(Math.abs(u+h)<.1&&Math.abs(f+g)<.1&&Math.abs(m+A)<.1&&Math.abs(c+p+y-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const b=(c+1)/2,_=(p+1)/2,T=(y+1)/2,M=(u+h)/4,I=(f+g)/4,P=(m+A)/4;return b>_&&b>T?b<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(b),r=M/i,s=I/i):_>T?_<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(_),i=M/r,s=P/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=I/s,r=P/s),this.set(i,r,s,t),this}let x=Math.sqrt((A-m)*(A-m)+(f-g)*(f-g)+(h-u)*(h-u));return Math.abs(x)<.001&&(x=1),this.x=(A-m)/x,this.y=(f-g)/x,this.z=(h-u)/x,this.w=Math.acos((c+p+y-1)/2),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this.w=t[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this.w=Ft(this.w,e.w,t.w),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this.w=Ft(this.w,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class W$ extends ac{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new Vt(0,0,e,t),this.scissorTest=!1,this.viewport=new Vt(0,0,e,t);const r={width:e,height:t,depth:1};i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Yt,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},i);const s=new xn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace);s.flipY=!1,s.generateMipmaps=i.generateMipmaps,s.internalFormat=i.internalFormat,this.textures=[];const o=i.count;for(let a=0;a<o;a++)this.textures[a]=s.clone(),this.textures[a].isRenderTargetTexture=!0,this.textures[a].renderTarget=this;this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.resolveDepthBuffer=i.resolveDepthBuffer,this.resolveStencilBuffer=i.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=i.depthTexture,this.samples=i.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,t,i=1){if(this.width!==e||this.height!==t||this.depth!==i){this.width=e,this.height=t,this.depth=i;for(let r=0,s=this.textures.length;r<s;r++)this.textures[r].image.width=e,this.textures[r].image.height=t,this.textures[r].image.depth=i;this.dispose()}this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let i=0,r=e.textures.length;i<r;i++)this.textures[i]=e.textures[i].clone(),this.textures[i].isRenderTargetTexture=!0,this.textures[i].renderTarget=this;const t=Object.assign({},e.texture.image);return this.texture.source=new GI(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ai extends W${constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class QI extends xn{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Rr,this.minFilter=Rr,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class jI extends xn{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=Rr,this.minFilter=Rr,this.wrapR=ti,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Xn{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let l=i[r+0],c=i[r+1],u=i[r+2],f=i[r+3];const h=s[o+0],p=s[o+1],m=s[o+2],g=s[o+3];if(a===0){e[t+0]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f;return}if(a===1){e[t+0]=h,e[t+1]=p,e[t+2]=m,e[t+3]=g;return}if(f!==g||l!==h||c!==p||u!==m){let A=1-a;const y=l*h+c*p+u*m+f*g,x=y>=0?1:-1,b=1-y*y;if(b>Number.EPSILON){const T=Math.sqrt(b),M=Math.atan2(T,y*x);A=Math.sin(A*M)/T,a=Math.sin(a*M)/T}const _=a*x;if(l=l*A+h*_,c=c*A+p*_,u=u*A+m*_,f=f*A+g*_,A===1-a){const T=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=T,c*=T,u*=T,f*=T}}e[t]=l,e[t+1]=c,e[t+2]=u,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],l=i[r+1],c=i[r+2],u=i[r+3],f=s[o],h=s[o+1],p=s[o+2],m=s[o+3];return e[t]=a*m+u*f+l*p-c*h,e[t+1]=l*m+u*h+c*f-a*p,e[t+2]=c*m+u*p+a*h-l*f,e[t+3]=u*m-a*f-l*h-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t=!0){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,l=Math.sin,c=a(i/2),u=a(r/2),f=a(s/2),h=l(i/2),p=l(r/2),m=l(s/2);switch(o){case"XYZ":this._x=h*u*f+c*p*m,this._y=c*p*f-h*u*m,this._z=c*u*m+h*p*f,this._w=c*u*f-h*p*m;break;case"YXZ":this._x=h*u*f+c*p*m,this._y=c*p*f-h*u*m,this._z=c*u*m-h*p*f,this._w=c*u*f+h*p*m;break;case"ZXY":this._x=h*u*f-c*p*m,this._y=c*p*f+h*u*m,this._z=c*u*m+h*p*f,this._w=c*u*f-h*p*m;break;case"ZYX":this._x=h*u*f-c*p*m,this._y=c*p*f+h*u*m,this._z=c*u*m-h*p*f,this._w=c*u*f+h*p*m;break;case"YZX":this._x=h*u*f+c*p*m,this._y=c*p*f+h*u*m,this._z=c*u*m-h*p*f,this._w=c*u*f-h*p*m;break;case"XZY":this._x=h*u*f-c*p*m,this._y=c*p*f-h*u*m,this._z=c*u*m+h*p*f,this._w=c*u*f+h*p*m;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return t===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],l=t[9],c=t[2],u=t[6],f=t[10],h=i+a+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(o-r)*p}else if(i>a&&i>f){const p=2*Math.sqrt(1+i-a-f);this._w=(u-l)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+c)/p}else if(a>f){const p=2*Math.sqrt(1+a-i-f);this._w=(s-c)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-i-a);this._w=(o-r)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Ft(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,l=t._y,c=t._z,u=t._w;return this._x=i*u+o*a+r*c-s*l,this._y=r*u+o*l+s*a-i*c,this._z=s*u+o*c+i*l-r*a,this._w=o*u-i*a-r*l-s*c,this._onChangeCallback(),this}slerp(e,t){if(t===0)return this;if(t===1)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const l=1-a*a;if(l<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*i+t*this._x,this._y=p*r+t*this._y,this._z=p*s+t*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,a),f=Math.sin((1-t)*u)/c,h=Math.sin(t*u)/c;return this._w=o*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=2*Math.PI*Math.random(),t=2*Math.PI*Math.random(),i=Math.random(),r=Math.sqrt(1-i),s=Math.sqrt(i);return this.set(r*Math.sin(e),r*Math.cos(e),s*Math.sin(t),s*Math.cos(t))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,t=0,i=0){Z.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return i===void 0&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(nw.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(nw.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,l=e.w,c=2*(o*r-a*i),u=2*(a*t-s*r),f=2*(s*i-o*t);return this.x=t+l*c+o*f-a*u,this.y=i+l*u+a*c-s*f,this.z=r+l*f+s*u-o*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Ft(this.x,e.x,t.x),this.y=Ft(this.y,e.y,t.y),this.z=Ft(this.z,e.z,t.z),this}clampScalar(e,t){return this.x=Ft(this.x,e,t),this.y=Ft(this.y,e,t),this.z=Ft(this.z,e,t),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Ft(i,e,t))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,l=t.z;return this.x=r*l-s*a,this.y=s*o-i*l,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(t===0)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return o3.copy(this).projectOnVector(e),this.sub(o3)}reflect(e){return this.sub(o3.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(t===0)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(Ft(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,t*4)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,t*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,t=Math.random()*2-1,i=Math.sqrt(1-t*t);return this.x=i*Math.cos(e),this.y=t,this.z=i*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const o3=new Z,nw=new Xn;class zs{constructor(e=new Z(1/0,1/0,1/0),t=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(fo.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(fo.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=fo.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(i!==void 0){const s=i.getAttribute("position");if(t===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let o=0,a=s.count;o<a;o++)e.isMesh===!0?e.getVertexPosition(o,fo):fo.fromBufferAttribute(s,o),fo.applyMatrix4(e.matrixWorld),this.expandByPoint(fo);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),G1.copy(e.boundingBox)):(i.boundingBox===null&&i.computeBoundingBox(),G1.copy(i.boundingBox)),G1.applyMatrix4(e.matrixWorld),this.union(G1)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,fo),fo.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Ch),Q1.subVectors(this.max,Ch),rf.subVectors(e.a,Ch),sf.subVectors(e.b,Ch),of.subVectors(e.c,Ch),ul.subVectors(sf,rf),fl.subVectors(of,sf),kc.subVectors(rf,of);let t=[0,-ul.z,ul.y,0,-fl.z,fl.y,0,-kc.z,kc.y,ul.z,0,-ul.x,fl.z,0,-fl.x,kc.z,0,-kc.x,-ul.y,ul.x,0,-fl.y,fl.x,0,-kc.y,kc.x,0];return!a3(t,rf,sf,of,Q1)||(t=[1,0,0,0,1,0,0,0,1],!a3(t,rf,sf,of,Q1))?!1:(j1.crossVectors(ul,fl),t=[j1.x,j1.y,j1.z],a3(t,rf,sf,of,Q1))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,fo).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(fo).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(va[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),va[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),va[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),va[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),va[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),va[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),va[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),va[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(va),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const va=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],fo=new Z,G1=new zs,rf=new Z,sf=new Z,of=new Z,ul=new Z,fl=new Z,kc=new Z,Ch=new Z,Q1=new Z,j1=new Z,zc=new Z;function a3(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){zc.fromArray(n,s);const a=r.x*Math.abs(zc.x)+r.y*Math.abs(zc.y)+r.z*Math.abs(zc.z),l=e.dot(zc),c=t.dot(zc),u=i.dot(zc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>a)return!1}return!0}const q$=new zs,Sh=new Z,l3=new Z;class oo{constructor(e=new Z,t=-1){this.isSphere=!0,this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;t!==void 0?i.copy(t):q$.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Sh.subVectors(e,this.center);const t=Sh.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=(i-this.radius)*.5;this.center.addScaledVector(Sh,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(l3.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Sh.copy(e.center).add(l3)),this.expandByPoint(Sh.copy(e.center).sub(l3))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const ya=new Z,c3=new Z,W1=new Z,dl=new Z,u3=new Z,q1=new Z,f3=new Z;class zd{constructor(e=new Z,t=new Z(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ya)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=ya.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ya.copy(this.origin).addScaledVector(this.direction,t),ya.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){c3.copy(e).add(t).multiplyScalar(.5),W1.copy(t).sub(e).normalize(),dl.copy(this.origin).sub(c3);const s=e.distanceTo(t)*.5,o=-this.direction.dot(W1),a=dl.dot(this.direction),l=-dl.dot(W1),c=dl.lengthSq(),u=Math.abs(1-o*o);let f,h,p,m;if(u>0)if(f=o*l-a,h=o*a-l,m=s*u,f>=0)if(h>=-m)if(h<=m){const g=1/u;f*=g,h*=g,p=f*(f+o*h+2*a)+h*(o*f+h+2*l)+c}else h=s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*l)+c;else h=-s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*l)+c;else h<=-m?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+h*(h+2*l)+c):h<=m?(f=0,h=Math.min(Math.max(-s,-l),s),p=h*(h+2*l)+c):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+h*(h+2*l)+c);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*l)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(c3).addScaledVector(W1,h),p}intersectSphere(e,t){ya.subVectors(e.center,this.origin);const i=ya.dot(this.direction),r=ya.dot(ya)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,l=i+o;return l<0?null:a<0?this.at(l,t):this.at(a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(t===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return i===null?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return t===0||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,h=this.origin;return c>=0?(i=(e.min.x-h.x)*c,r=(e.max.x-h.x)*c):(i=(e.max.x-h.x)*c,r=(e.min.x-h.x)*c),u>=0?(s=(e.min.y-h.y)*u,o=(e.max.y-h.y)*u):(s=(e.max.y-h.y)*u,o=(e.min.y-h.y)*u),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),i>l||a>r)||((a>i||i!==i)&&(i=a),(l<r||r!==r)&&(r=l),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return this.intersectBox(e,ya)!==null}intersectTriangle(e,t,i,r,s){u3.subVectors(t,e),q1.subVectors(i,e),f3.crossVectors(u3,q1);let o=this.direction.dot(f3),a;if(o>0){if(r)return null;a=1}else if(o<0)a=-1,o=-o;else return null;dl.subVectors(this.origin,e);const l=a*this.direction.dot(q1.crossVectors(dl,q1));if(l<0)return null;const c=a*this.direction.dot(u3.cross(dl));if(c<0||l+c>o)return null;const u=-a*dl.dot(f3);return u<0?null:this.at(u/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class xt{constructor(e,t,i,r,s,o,a,l,c,u,f,h,p,m,g,A){xt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,t,i,r,s,o,a,l,c,u,f,h,p,m,g,A)}set(e,t,i,r,s,o,a,l,c,u,f,h,p,m,g,A){const y=this.elements;return y[0]=e,y[4]=t,y[8]=i,y[12]=r,y[1]=s,y[5]=o,y[9]=a,y[13]=l,y[2]=c,y[6]=u,y[10]=f,y[14]=h,y[3]=p,y[7]=m,y[11]=g,y[15]=A,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new xt().fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/af.setFromMatrixColumn(e,0).length(),s=1/af.setFromMatrixColumn(e,1).length(),o=1/af.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),l=Math.cos(r),c=Math.sin(r),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const h=o*u,p=o*f,m=a*u,g=a*f;t[0]=l*u,t[4]=-l*f,t[8]=c,t[1]=p+m*c,t[5]=h-g*c,t[9]=-a*l,t[2]=g-h*c,t[6]=m+p*c,t[10]=o*l}else if(e.order==="YXZ"){const h=l*u,p=l*f,m=c*u,g=c*f;t[0]=h+g*a,t[4]=m*a-p,t[8]=o*c,t[1]=o*f,t[5]=o*u,t[9]=-a,t[2]=p*a-m,t[6]=g+h*a,t[10]=o*l}else if(e.order==="ZXY"){const h=l*u,p=l*f,m=c*u,g=c*f;t[0]=h-g*a,t[4]=-o*f,t[8]=m+p*a,t[1]=p+m*a,t[5]=o*u,t[9]=g-h*a,t[2]=-o*c,t[6]=a,t[10]=o*l}else if(e.order==="ZYX"){const h=o*u,p=o*f,m=a*u,g=a*f;t[0]=l*u,t[4]=m*c-p,t[8]=h*c+g,t[1]=l*f,t[5]=g*c+h,t[9]=p*c-m,t[2]=-c,t[6]=a*l,t[10]=o*l}else if(e.order==="YZX"){const h=o*l,p=o*c,m=a*l,g=a*c;t[0]=l*u,t[4]=g-h*f,t[8]=m*f+p,t[1]=f,t[5]=o*u,t[9]=-a*u,t[2]=-c*u,t[6]=p*f+m,t[10]=h-g*f}else if(e.order==="XZY"){const h=o*l,p=o*c,m=a*l,g=a*c;t[0]=l*u,t[4]=-f,t[8]=c*u,t[1]=h*f+g,t[5]=o*u,t[9]=p*f-m,t[2]=m*f-p,t[6]=a*u,t[10]=g*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(X$,e,Y$)}lookAt(e,t,i){const r=this.elements;return Ss.subVectors(e,t),Ss.lengthSq()===0&&(Ss.z=1),Ss.normalize(),hl.crossVectors(i,Ss),hl.lengthSq()===0&&(Math.abs(i.z)===1?Ss.x+=1e-4:Ss.z+=1e-4,Ss.normalize(),hl.crossVectors(i,Ss)),hl.normalize(),X1.crossVectors(Ss,hl),r[0]=hl.x,r[4]=X1.x,r[8]=Ss.x,r[1]=hl.y,r[5]=X1.y,r[9]=Ss.y,r[2]=hl.z,r[6]=X1.z,r[10]=Ss.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],l=i[8],c=i[12],u=i[1],f=i[5],h=i[9],p=i[13],m=i[2],g=i[6],A=i[10],y=i[14],x=i[3],b=i[7],_=i[11],T=i[15],M=r[0],I=r[4],P=r[8],w=r[12],E=r[1],O=r[5],F=r[9],H=r[13],z=r[2],X=r[6],U=r[10],G=r[14],j=r[3],Y=r[7],Q=r[11],ve=r[15];return s[0]=o*M+a*E+l*z+c*j,s[4]=o*I+a*O+l*X+c*Y,s[8]=o*P+a*F+l*U+c*Q,s[12]=o*w+a*H+l*G+c*ve,s[1]=u*M+f*E+h*z+p*j,s[5]=u*I+f*O+h*X+p*Y,s[9]=u*P+f*F+h*U+p*Q,s[13]=u*w+f*H+h*G+p*ve,s[2]=m*M+g*E+A*z+y*j,s[6]=m*I+g*O+A*X+y*Y,s[10]=m*P+g*F+A*U+y*Q,s[14]=m*w+g*H+A*G+y*ve,s[3]=x*M+b*E+_*z+T*j,s[7]=x*I+b*O+_*X+T*Y,s[11]=x*P+b*F+_*U+T*Q,s[15]=x*w+b*H+_*G+T*ve,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],l=e[9],c=e[13],u=e[2],f=e[6],h=e[10],p=e[14],m=e[3],g=e[7],A=e[11],y=e[15];return m*(+s*l*f-r*c*f-s*a*h+i*c*h+r*a*p-i*l*p)+g*(+t*l*p-t*c*h+s*o*h-r*o*p+r*c*u-s*l*u)+A*(+t*c*f-t*a*p-s*o*f+i*o*p+s*a*u-i*c*u)+y*(-r*a*u-t*l*f+t*a*h+r*o*f-i*o*h+i*l*u)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],p=e[11],m=e[12],g=e[13],A=e[14],y=e[15],x=f*A*c-g*h*c+g*l*p-a*A*p-f*l*y+a*h*y,b=m*h*c-u*A*c-m*l*p+o*A*p+u*l*y-o*h*y,_=u*g*c-m*f*c+m*a*p-o*g*p-u*a*y+o*f*y,T=m*f*l-u*g*l-m*a*h+o*g*h+u*a*A-o*f*A,M=t*x+i*b+r*_+s*T;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const I=1/M;return e[0]=x*I,e[1]=(g*h*s-f*A*s-g*r*p+i*A*p+f*r*y-i*h*y)*I,e[2]=(a*A*s-g*l*s+g*r*c-i*A*c-a*r*y+i*l*y)*I,e[3]=(f*l*s-a*h*s-f*r*c+i*h*c+a*r*p-i*l*p)*I,e[4]=b*I,e[5]=(u*A*s-m*h*s+m*r*p-t*A*p-u*r*y+t*h*y)*I,e[6]=(m*l*s-o*A*s-m*r*c+t*A*c+o*r*y-t*l*y)*I,e[7]=(o*h*s-u*l*s+u*r*c-t*h*c-o*r*p+t*l*p)*I,e[8]=_*I,e[9]=(m*f*s-u*g*s-m*i*p+t*g*p+u*i*y-t*f*y)*I,e[10]=(o*g*s-m*a*s+m*i*c-t*g*c-o*i*y+t*a*y)*I,e[11]=(u*a*s-o*f*s-u*i*c+t*f*c+o*i*p-t*a*p)*I,e[12]=T*I,e[13]=(u*g*r-m*f*r+m*i*h-t*g*h-u*i*A+t*f*A)*I,e[14]=(m*a*r-o*g*r-m*i*l+t*g*l+o*i*A-t*a*A)*I,e[15]=(o*f*r-u*a*r+u*i*l-t*f*l-o*i*h+t*a*h)*I,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,r))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,l=e.z,c=s*o,u=s*a;return this.set(c*o+i,c*a-r*l,c*l+r*a,0,c*a+r*l,u*a+i,u*l-r*o,0,c*l-r*a,u*l+r*o,s*l*l+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,l=t._w,c=s+s,u=o+o,f=a+a,h=s*c,p=s*u,m=s*f,g=o*u,A=o*f,y=a*f,x=l*c,b=l*u,_=l*f,T=i.x,M=i.y,I=i.z;return r[0]=(1-(g+y))*T,r[1]=(p+_)*T,r[2]=(m-b)*T,r[3]=0,r[4]=(p-_)*M,r[5]=(1-(h+y))*M,r[6]=(A+x)*M,r[7]=0,r[8]=(m+b)*I,r[9]=(A-x)*I,r[10]=(1-(h+g))*I,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=af.set(r[0],r[1],r[2]).length();const o=af.set(r[4],r[5],r[6]).length(),a=af.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],ho.copy(this);const c=1/s,u=1/o,f=1/a;return ho.elements[0]*=c,ho.elements[1]*=c,ho.elements[2]*=c,ho.elements[4]*=u,ho.elements[5]*=u,ho.elements[6]*=u,ho.elements[8]*=f,ho.elements[9]*=f,ho.elements[10]*=f,t.setFromRotationMatrix(ho),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Ko){const l=this.elements,c=2*s/(t-e),u=2*s/(i-r),f=(t+e)/(t-e),h=(i+r)/(i-r);let p,m;if(a===Ko)p=-(o+s)/(o-s),m=-2*o*s/(o-s);else if(a===zg)p=-o/(o-s),m=-o*s/(o-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=m,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Ko){const l=this.elements,c=1/(t-e),u=1/(i-r),f=1/(o-s),h=(t+e)*c,p=(i+r)*u;let m,g;if(a===Ko)m=(o+s)*f,g=-2*f;else if(a===zg)m=s*f,g=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=g,l[14]=-m,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const af=new Z,ho=new xt,X$=new Z(0,0,0),Y$=new Z(1,1,1),hl=new Z,X1=new Z,Ss=new Z,iw=new xt,rw=new Xn;class Di{constructor(e=0,t=0,i=0,r=Di.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=t,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,t,i,r=this._order){return this._x=e,this._y=t,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,t=this._order,i=!0){const r=e.elements,s=r[0],o=r[4],a=r[8],l=r[1],c=r[5],u=r[9],f=r[2],h=r[6],p=r[10];switch(t){case"XYZ":this._y=Math.asin(Ft(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-o,s)):(this._x=Math.atan2(h,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Ft(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(a,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Ft(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-o,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Ft(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-o,c));break;case"YZX":this._z=Math.asin(Ft(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(a,p));break;case"XZY":this._z=Math.asin(-Ft(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,c),this._y=Math.atan2(a,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+t)}return this._order=t,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,t,i){return iw.makeRotationFromQuaternion(e),this.setFromRotationMatrix(iw,t,i)}setFromVector3(e,t=this._order){return this.set(e.x,e.y,e.z,t)}reorder(e){return rw.setFromEuler(this),this.setFromQuaternion(rw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}Di.DEFAULT_ORDER="XYZ";class Jx{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let $$=0;const sw=new Z,lf=new Xn,_a=new xt,Y1=new Z,wh=new Z,K$=new Z,Z$=new Xn,ow=new Z(1,0,0),aw=new Z(0,1,0),lw=new Z(0,0,1),cw={type:"added"},J$={type:"removed"},cf={type:"childadded",child:null},d3={type:"childremoved",child:null};class jt extends ac{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:$$++}),this.uuid=So(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=jt.DEFAULT_UP.clone();const e=new Z,t=new Di,i=new Xn,r=new Z(1,1,1);function s(){i.setFromEuler(t,!1)}function o(){t.setFromQuaternion(i,void 0,!1)}t._onChange(s),i._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:t},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new xt},normalMatrix:{value:new Lt}}),this.matrix=new xt,this.matrixWorld=new xt,this.matrixAutoUpdate=jt.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Jx,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,t){this.quaternion.setFromAxisAngle(e,t)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,t){return lf.setFromAxisAngle(e,t),this.quaternion.multiply(lf),this}rotateOnWorldAxis(e,t){return lf.setFromAxisAngle(e,t),this.quaternion.premultiply(lf),this}rotateX(e){return this.rotateOnAxis(ow,e)}rotateY(e){return this.rotateOnAxis(aw,e)}rotateZ(e){return this.rotateOnAxis(lw,e)}translateOnAxis(e,t){return sw.copy(e).applyQuaternion(this.quaternion),this.position.add(sw.multiplyScalar(t)),this}translateX(e){return this.translateOnAxis(ow,e)}translateY(e){return this.translateOnAxis(aw,e)}translateZ(e){return this.translateOnAxis(lw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(_a.copy(this.matrixWorld).invert())}lookAt(e,t,i){e.isVector3?Y1.copy(e):Y1.set(e,t,i);const r=this.parent;this.updateWorldMatrix(!0,!1),wh.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_a.lookAt(wh,Y1,this.up):_a.lookAt(Y1,wh,this.up),this.quaternion.setFromRotationMatrix(_a),r&&(_a.extractRotation(r.matrixWorld),lf.setFromRotationMatrix(_a),this.quaternion.premultiply(lf.invert()))}add(e){if(arguments.length>1){for(let t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(cw),cf.child=e,this.dispatchEvent(cf),cf.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const t=this.children.indexOf(e);return t!==-1&&(e.parent=null,this.children.splice(t,1),e.dispatchEvent(J$),d3.child=e,this.dispatchEvent(d3),d3.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),_a.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),_a.multiply(e.parent.matrixWorld)),e.applyMatrix4(_a),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(cw),cf.child=e,this.dispatchEvent(cf),cf.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,t){if(this[e]===t)return this;for(let i=0,r=this.children.length;i<r;i++){const o=this.children[i].getObjectByProperty(e,t);if(o!==void 0)return o}}getObjectsByProperty(e,t,i=[]){this[e]===t&&i.push(this);const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].getObjectsByProperty(e,t,i);return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wh,e,K$),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(wh,Z$,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const t=this.matrixWorld.elements;return e.set(t[8],t[9],t[10]).normalize()}raycast(){}traverse(e){e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].traverseVisible(e)}traverseAncestors(e){const t=this.parent;t!==null&&(e(t),t.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const t=this.children;for(let i=0,r=t.length;i<r;i++)t[i].updateMatrixWorld(e)}updateWorldMatrix(e,t){const i=this.parent;if(e===!0&&i!==null&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),t===!0){const r=this.children;for(let s=0,o=r.length;s<o;s++)r[s].updateWorldMatrix(!1,!0)}}toJSON(e){const t=e===void 0||typeof e=="string",i={};t&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(r.type="BatchedMesh",r.perObjectFrustumCulled=this.perObjectFrustumCulled,r.sortObjects=this.sortObjects,r.drawRanges=this._drawRanges,r.reservedRanges=this._reservedRanges,r.visibility=this._visibility,r.active=this._active,r.bounds=this._bounds.map(a=>({boxInitialized:a.boxInitialized,boxMin:a.box.min.toArray(),boxMax:a.box.max.toArray(),sphereInitialized:a.sphereInitialized,sphereRadius:a.sphere.radius,sphereCenter:a.sphere.center.toArray()})),r.maxInstanceCount=this._maxInstanceCount,r.maxVertexCount=this._maxVertexCount,r.maxIndexCount=this._maxIndexCount,r.geometryInitialized=this._geometryInitialized,r.geometryCount=this._geometryCount,r.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(r.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(r.boundingSphere={center:r.boundingSphere.center.toArray(),radius:r.boundingSphere.radius}),this.boundingBox!==null&&(r.boundingBox={min:r.boundingBox.min.toArray(),max:r.boundingBox.max.toArray()}));function s(a,l){return a[l.uuid]===void 0&&(a[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=s(e.geometries,this.geometry);const a=this.geometry.parameters;if(a!==void 0&&a.shapes!==void 0){const l=a.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const a=[];for(let l=0,c=this.material.length;l<c;l++)a.push(s(e.materials,this.material[l]));r.material=a}else r.material=s(e.materials,this.material);if(this.children.length>0){r.children=[];for(let a=0;a<this.children.length;a++)r.children.push(this.children[a].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let a=0;a<this.animations.length;a++){const l=this.animations[a];r.animations.push(s(e.animations,l))}}if(t){const a=o(e.geometries),l=o(e.materials),c=o(e.textures),u=o(e.images),f=o(e.shapes),h=o(e.skeletons),p=o(e.animations),m=o(e.nodes);a.length>0&&(i.geometries=a),l.length>0&&(i.materials=l),c.length>0&&(i.textures=c),u.length>0&&(i.images=u),f.length>0&&(i.shapes=f),h.length>0&&(i.skeletons=h),p.length>0&&(i.animations=p),m.length>0&&(i.nodes=m)}return i.object=r,i;function o(a){const l=[];for(const c in a){const u=a[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,t=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),t===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}jt.DEFAULT_UP=new Z(0,1,0);jt.DEFAULT_MATRIX_AUTO_UPDATE=!0;jt.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const po=new Z,ba=new Z,h3=new Z,xa=new Z,uf=new Z,ff=new Z,uw=new Z,p3=new Z,m3=new Z,g3=new Z,A3=new Vt,v3=new Vt,y3=new Vt;class Zs{constructor(e=new Z,t=new Z,i=new Z){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),po.subVectors(e,t),r.cross(po);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){po.subVectors(r,t),ba.subVectors(i,t),h3.subVectors(e,t);const o=po.dot(po),a=po.dot(ba),l=po.dot(h3),c=ba.dot(ba),u=ba.dot(h3),f=o*c-a*a;if(f===0)return s.set(0,0,0),null;const h=1/f,p=(c*l-a*u)*h,m=(o*u-a*l)*h;return s.set(1-p-m,m,p)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,xa)===null?!1:xa.x>=0&&xa.y>=0&&xa.x+xa.y<=1}static getInterpolation(e,t,i,r,s,o,a,l){return this.getBarycoord(e,t,i,r,xa)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,xa.x),l.addScaledVector(o,xa.y),l.addScaledVector(a,xa.z),l)}static getInterpolatedAttribute(e,t,i,r,s,o){return A3.setScalar(0),v3.setScalar(0),y3.setScalar(0),A3.fromBufferAttribute(e,t),v3.fromBufferAttribute(e,i),y3.fromBufferAttribute(e,r),o.setScalar(0),o.addScaledVector(A3,s.x),o.addScaledVector(v3,s.y),o.addScaledVector(y3,s.z),o}static isFrontFacing(e,t,i,r){return po.subVectors(i,t),ba.subVectors(e,t),po.cross(ba).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return po.subVectors(this.c,this.b),ba.subVectors(this.a,this.b),po.cross(ba).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Zs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return Zs.getBarycoord(e,this.a,this.b,this.c,t)}getInterpolation(e,t,i,r,s){return Zs.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return Zs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Zs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;uf.subVectors(r,i),ff.subVectors(s,i),p3.subVectors(e,i);const l=uf.dot(p3),c=ff.dot(p3);if(l<=0&&c<=0)return t.copy(i);m3.subVectors(e,r);const u=uf.dot(m3),f=ff.dot(m3);if(u>=0&&f<=u)return t.copy(r);const h=l*f-u*c;if(h<=0&&l>=0&&u<=0)return o=l/(l-u),t.copy(i).addScaledVector(uf,o);g3.subVectors(e,s);const p=uf.dot(g3),m=ff.dot(g3);if(m>=0&&p<=m)return t.copy(s);const g=p*c-l*m;if(g<=0&&c>=0&&m<=0)return a=c/(c-m),t.copy(i).addScaledVector(ff,a);const A=u*m-p*f;if(A<=0&&f-u>=0&&p-m>=0)return uw.subVectors(s,r),a=(f-u)/(f-u+(p-m)),t.copy(r).addScaledVector(uw,a);const y=1/(A+g+h);return o=g*y,a=h*y,t.copy(i).addScaledVector(uf,o).addScaledVector(ff,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const WI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},pl={h:0,s:0,l:0},$1={h:0,s:0,l:0};function _3(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*6*(2/3-t):n}class ke{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(t===void 0&&i===void 0){const r=e;r&&r.isColor?this.copy(r):typeof r=="number"?this.setHex(r):typeof r=="string"&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=En){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Xt.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Xt.workingColorSpace){return this.r=e,this.g=t,this.b=i,Xt.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Xt.workingColorSpace){if(e=Zx(e,1),t=Ft(t,0,1),i=Ft(i,0,1),t===0)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=_3(o,s,e+1/3),this.g=_3(o,s,e),this.b=_3(o,s,e-1/3)}return Xt.toWorkingColorSpace(this,r),this}setStyle(e,t=En){function i(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const o=r[1],a=r[2];switch(o){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(o===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(o===6)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=En){const i=WI[e.toLowerCase()];return i!==void 0?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=ja(e.r),this.g=ja(e.g),this.b=ja(e.b),this}copyLinearToSRGB(e){return this.r=nd(e.r),this.g=nd(e.g),this.b=nd(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=En){return Xt.fromWorkingColorSpace(yr.copy(this),e),Math.round(Ft(yr.r*255,0,255))*65536+Math.round(Ft(yr.g*255,0,255))*256+Math.round(Ft(yr.b*255,0,255))}getHexString(e=En){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Xt.workingColorSpace){Xt.fromWorkingColorSpace(yr.copy(this),t);const i=yr.r,r=yr.g,s=yr.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let l,c;const u=(a+o)/2;if(a===o)l=0,c=0;else{const f=o-a;switch(c=u<=.5?f/(o+a):f/(2-o-a),o){case i:l=(r-s)/f+(r<s?6:0);break;case r:l=(s-i)/f+2;break;case s:l=(i-r)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,t=Xt.workingColorSpace){return Xt.fromWorkingColorSpace(yr.copy(this),t),e.r=yr.r,e.g=yr.g,e.b=yr.b,e}getStyle(e=En){Xt.fromWorkingColorSpace(yr.copy(this),e);const t=yr.r,i=yr.g,r=yr.b;return e!==En?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(t*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,t,i){return this.getHSL(pl),this.setHSL(pl.h+e,pl.s+t,pl.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(pl),e.getHSL($1);const i=E0(pl.h,$1.h,t),r=E0(pl.s,$1.s,t),s=E0(pl.l,$1.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const yr=new ke;ke.NAMES=WI;let eK=0;class wo extends ac{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:eK++}),this.uuid=So(),this.name="",this.type="Material",this.blending=bu,this.side=Mo,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=$_,this.blendDst=K_,this.blendEquation=eu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ke(0,0,0),this.blendAlpha=0,this.depthFunc=Sd,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=$S,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=tf,this.stencilZFail=tf,this.stencilZPass=tf,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const t in e){const i=e[t];if(i===void 0){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];if(r===void 0){console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i}}toJSON(e){const t=e===void 0||typeof e=="string";t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(i.dispersion=this.dispersion),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(i.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapRotation!==void 0&&(i.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==bu&&(i.blending=this.blending),this.side!==Mo&&(i.side=this.side),this.vertexColors===!0&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=!0),this.blendSrc!==$_&&(i.blendSrc=this.blendSrc),this.blendDst!==K_&&(i.blendDst=this.blendDst),this.blendEquation!==eu&&(i.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(i.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(i.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(i.blendAlpha=this.blendAlpha),this.depthFunc!==Sd&&(i.depthFunc=this.depthFunc),this.depthTest===!1&&(i.depthTest=this.depthTest),this.depthWrite===!1&&(i.depthWrite=this.depthWrite),this.colorWrite===!1&&(i.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(i.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==$S&&(i.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(i.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==tf&&(i.stencilFail=this.stencilFail),this.stencilZFail!==tf&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==tf&&(i.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(i.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaHash===!0&&(i.alphaHash=!0),this.alphaToCoverage===!0&&(i.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=!0),this.forceSinglePass===!0&&(i.forceSinglePass=!0),this.wireframe===!0&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=!0),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(s){const o=[];for(const a in s){const l=s[a];delete l.metadata,o.push(l)}return o}if(t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(t!==null){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}onBuild(){console.warn("Material: onBuild() has been removed.")}}class Jr extends wo{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Di,this.combine=xI,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Oa=tK();function tK(){const n=new ArrayBuffer(4),e=new Float32Array(n),t=new Uint32Array(n),i=new Uint32Array(512),r=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(i[l]=0,i[l|256]=32768,r[l]=24,r[l|256]=24):c<-14?(i[l]=1024>>-c-14,i[l|256]=1024>>-c-14|32768,r[l]=-c-1,r[l|256]=-c-1):c<=15?(i[l]=c+15<<10,i[l|256]=c+15<<10|32768,r[l]=13,r[l|256]=13):c<128?(i[l]=31744,i[l|256]=64512,r[l]=24,r[l|256]=24):(i[l]=31744,i[l|256]=64512,r[l]=13,r[l|256]=13)}const s=new Uint32Array(2048),o=new Uint32Array(64),a=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;(c&8388608)===0;)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(a[l]=1024);return{floatView:e,uint32View:t,baseTable:i,shiftTable:r,mantissaTable:s,exponentTable:o,offsetTable:a}}function nK(n){Math.abs(n)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),n=Ft(n,-65504,65504),Oa.floatView[0]=n;const e=Oa.uint32View[0],t=e>>23&511;return Oa.baseTable[t]+((e&8388607)>>Oa.shiftTable[t])}function iK(n){const e=n>>10;return Oa.uint32View[0]=Oa.mantissaTable[Oa.offsetTable[e]+(n&1023)]+Oa.exponentTable[e],Oa.floatView[0]}const K1={toHalfFloat:nK,fromHalfFloat:iK},Si=new Z,Z1=new De;let rK=0;class Gi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:rK++}),this.name="",this.array=e,this.itemSize=t,this.count=e!==void 0?e.length/t:0,this.normalized=i,this.usage=wb,this.updateRanges=[],this.gpuType=Zt,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let t=0,i=this.count;t<i;t++)Z1.fromBufferAttribute(this,t),Z1.applyMatrix3(e),this.setXY(t,Z1.x,Z1.y);else if(this.itemSize===3)for(let t=0,i=this.count;t<i;t++)Si.fromBufferAttribute(this,t),Si.applyMatrix3(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Si.fromBufferAttribute(this,t),Si.applyMatrix4(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Si.fromBufferAttribute(this,t),Si.applyNormalMatrix(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Si.fromBufferAttribute(this,t),Si.transformDirection(e),this.setXYZ(t,Si.x,Si.y,Si.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=yo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=_n(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=yo(t,this.array)),t}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=yo(t,this.array)),t}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=yo(t,this.array)),t}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=yo(t,this.array)),t}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),i=_n(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),i=_n(i,this.array),r=_n(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=_n(t,this.array),i=_n(i,this.array),r=_n(r,this.array),s=_n(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==wb&&(e.usage=this.usage),e}}class qI extends Gi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class XI extends Gi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class en extends Gi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let sK=0;const js=new xt,b3=new jt,df=new Z,ws=new zs,Eh=new zs,Xi=new Z;class Hn extends ac{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:sK++}),this.uuid=So(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(VI(e)?XI:qI)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;t!==void 0&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const s=new Lt().getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return js.makeRotationFromQuaternion(e),this.applyMatrix4(js),this}rotateX(e){return js.makeRotationX(e),this.applyMatrix4(js),this}rotateY(e){return js.makeRotationY(e),this.applyMatrix4(js),this}rotateZ(e){return js.makeRotationZ(e),this.applyMatrix4(js),this}translate(e,t,i){return js.makeTranslation(e,t,i),this.applyMatrix4(js),this}scale(e,t,i){return js.makeScale(e,t,i),this.applyMatrix4(js),this}lookAt(e){return b3.lookAt(e),b3.updateMatrix(),this.applyMatrix4(b3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(df).negate(),this.translate(df.x,df.y,df.z),this}setFromPoints(e){const t=this.getAttribute("position");if(t===void 0){const i=[];for(let r=0,s=e.length;r<s;r++){const o=e[r];i.push(o.x,o.y,o.z||0)}this.setAttribute("position",new en(i,3))}else{const i=Math.min(e.length,t.count);for(let r=0;r<i;r++){const s=e[r];t.setXYZ(r,s.x,s.y,s.z||0)}e.length>t.count&&console.warn("THREE.BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),t.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++){const s=t[i];ws.setFromBufferAttribute(s),this.morphTargetsRelative?(Xi.addVectors(this.boundingBox.min,ws.min),this.boundingBox.expandByPoint(Xi),Xi.addVectors(this.boundingBox.max,ws.max),this.boundingBox.expandByPoint(Xi)):(this.boundingBox.expandByPoint(ws.min),this.boundingBox.expandByPoint(ws.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new Z,1/0);return}if(e){const i=this.boundingSphere.center;if(ws.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++){const a=t[s];Eh.setFromBufferAttribute(a),this.morphTargetsRelative?(Xi.addVectors(ws.min,Eh.min),ws.expandByPoint(Xi),Xi.addVectors(ws.max,Eh.max),ws.expandByPoint(Xi)):(ws.expandByPoint(Eh.min),ws.expandByPoint(Eh.max))}ws.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Xi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Xi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],l=this.morphTargetsRelative;for(let c=0,u=a.count;c<u;c++)Xi.fromBufferAttribute(a,c),l&&(df.fromBufferAttribute(e,c),Xi.add(df)),r=Math.max(r,i.distanceToSquared(Xi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(e===null||t.position===void 0||t.normal===void 0||t.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=t.position,r=t.normal,s=t.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Gi(new Float32Array(4*i.count),4));const o=this.getAttribute("tangent"),a=[],l=[];for(let P=0;P<i.count;P++)a[P]=new Z,l[P]=new Z;const c=new Z,u=new Z,f=new Z,h=new De,p=new De,m=new De,g=new Z,A=new Z;function y(P,w,E){c.fromBufferAttribute(i,P),u.fromBufferAttribute(i,w),f.fromBufferAttribute(i,E),h.fromBufferAttribute(s,P),p.fromBufferAttribute(s,w),m.fromBufferAttribute(s,E),u.sub(c),f.sub(c),p.sub(h),m.sub(h);const O=1/(p.x*m.y-m.x*p.y);isFinite(O)&&(g.copy(u).multiplyScalar(m.y).addScaledVector(f,-p.y).multiplyScalar(O),A.copy(f).multiplyScalar(p.x).addScaledVector(u,-m.x).multiplyScalar(O),a[P].add(g),a[w].add(g),a[E].add(g),l[P].add(A),l[w].add(A),l[E].add(A))}let x=this.groups;x.length===0&&(x=[{start:0,count:e.count}]);for(let P=0,w=x.length;P<w;++P){const E=x[P],O=E.start,F=E.count;for(let H=O,z=O+F;H<z;H+=3)y(e.getX(H+0),e.getX(H+1),e.getX(H+2))}const b=new Z,_=new Z,T=new Z,M=new Z;function I(P){T.fromBufferAttribute(r,P),M.copy(T);const w=a[P];b.copy(w),b.sub(T.multiplyScalar(T.dot(w))).normalize(),_.crossVectors(M,w);const O=_.dot(l[P])<0?-1:1;o.setXYZW(P,b.x,b.y,b.z,O)}for(let P=0,w=x.length;P<w;++P){const E=x[P],O=E.start,F=E.count;for(let H=O,z=O+F;H<z;H+=3)I(e.getX(H+0)),I(e.getX(H+1)),I(e.getX(H+2))}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(t!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new Gi(new Float32Array(t.count*3),3),this.setAttribute("normal",i);else for(let h=0,p=i.count;h<p;h++)i.setXYZ(h,0,0,0);const r=new Z,s=new Z,o=new Z,a=new Z,l=new Z,c=new Z,u=new Z,f=new Z;if(e)for(let h=0,p=e.count;h<p;h+=3){const m=e.getX(h+0),g=e.getX(h+1),A=e.getX(h+2);r.fromBufferAttribute(t,m),s.fromBufferAttribute(t,g),o.fromBufferAttribute(t,A),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),a.fromBufferAttribute(i,m),l.fromBufferAttribute(i,g),c.fromBufferAttribute(i,A),a.add(u),l.add(u),c.add(u),i.setXYZ(m,a.x,a.y,a.z),i.setXYZ(g,l.x,l.y,l.z),i.setXYZ(A,c.x,c.y,c.z)}else for(let h=0,p=t.count;h<p;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),u.subVectors(o,s),f.subVectors(r,s),u.cross(f),i.setXYZ(h+0,u.x,u.y,u.z),i.setXYZ(h+1,u.x,u.y,u.z),i.setXYZ(h+2,u.x,u.y,u.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Xi.fromBufferAttribute(e,t),Xi.normalize(),e.setXYZ(t,Xi.x,Xi.y,Xi.z)}toNonIndexed(){function e(a,l){const c=a.array,u=a.itemSize,f=a.normalized,h=new c.constructor(l.length*u);let p=0,m=0;for(let g=0,A=l.length;g<A;g++){a.isInterleavedBufferAttribute?p=l[g]*a.data.stride+a.offset:p=l[g]*u;for(let y=0;y<u;y++)h[m++]=c[p++]}return new Gi(h,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new Hn,i=this.index.array,r=this.attributes;for(const a in r){const l=r[a],c=e(l,i);t.setAttribute(a,c)}const s=this.morphAttributes;for(const a in s){const l=[],c=s[a];for(let u=0,f=c.length;u<f;u++){const h=c[u],p=e(h,i);l.push(p)}t.morphAttributes[a]=l}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,l=o.length;a<l;a++){const c=o[a];t.addGroup(c.start,c.count,c.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const t=this.index;t!==null&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const l in i){const c=i[l];e.data.attributes[l]=c.toJSON(e.data)}const r={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,h=c.length;f<h;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(r[l]=u,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return a!==null&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(t));const r=e.attributes;for(const c in r){const u=r[c];this.setAttribute(c,u.clone(t))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let h=0,p=f.length;h<p;h++)u.push(f[h].clone(t));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let c=0,u=o.length;c<u;c++){const f=o[c];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;a!==null&&(this.boundingBox=a.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const fw=new xt,Hc=new zd,J1=new oo,dw=new Z,em=new Z,tm=new Z,nm=new Z,x3=new Z,im=new Z,hw=new Z,rm=new Z;class Qe extends jt{constructor(e=new Hn,t=new Jr){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,r=i.attributes.position,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(r,e);const a=this.morphTargetInfluences;if(s&&a){im.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=a[l],f=s[l];u!==0&&(x3.fromBufferAttribute(f,e),o?im.addScaledVector(x3,u):im.addScaledVector(x3.sub(t),u))}t.add(im)}return t}raycast(e,t){const i=this.geometry,r=this.material,s=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),J1.copy(i.boundingSphere),J1.applyMatrix4(s),Hc.copy(e.ray).recast(e.near),!(J1.containsPoint(Hc.origin)===!1&&(Hc.intersectSphere(J1,dw)===null||Hc.origin.distanceToSquared(dw)>(e.far-e.near)**2))&&(fw.copy(s).invert(),Hc.copy(e.ray).applyMatrix4(fw),!(i.boundingBox!==null&&Hc.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,t,Hc)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(a!==null)if(Array.isArray(o))for(let m=0,g=h.length;m<g;m++){const A=h[m],y=o[A.materialIndex],x=Math.max(A.start,p.start),b=Math.min(a.count,Math.min(A.start+A.count,p.start+p.count));for(let _=x,T=b;_<T;_+=3){const M=a.getX(_),I=a.getX(_+1),P=a.getX(_+2);r=sm(this,y,e,i,c,u,f,M,I,P),r&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const m=Math.max(0,p.start),g=Math.min(a.count,p.start+p.count);for(let A=m,y=g;A<y;A+=3){const x=a.getX(A),b=a.getX(A+1),_=a.getX(A+2);r=sm(this,o,e,i,c,u,f,x,b,_),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}else if(l!==void 0)if(Array.isArray(o))for(let m=0,g=h.length;m<g;m++){const A=h[m],y=o[A.materialIndex],x=Math.max(A.start,p.start),b=Math.min(l.count,Math.min(A.start+A.count,p.start+p.count));for(let _=x,T=b;_<T;_+=3){const M=_,I=_+1,P=_+2;r=sm(this,y,e,i,c,u,f,M,I,P),r&&(r.faceIndex=Math.floor(_/3),r.face.materialIndex=A.materialIndex,t.push(r))}}else{const m=Math.max(0,p.start),g=Math.min(l.count,p.start+p.count);for(let A=m,y=g;A<y;A+=3){const x=A,b=A+1,_=A+2;r=sm(this,o,e,i,c,u,f,x,b,_),r&&(r.faceIndex=Math.floor(A/3),t.push(r))}}}}function oK(n,e,t,i,r,s,o,a){let l;if(e.side===Pr?l=i.intersectTriangle(o,s,r,!0,a):l=i.intersectTriangle(r,s,o,e.side===Mo,a),l===null)return null;rm.copy(a),rm.applyMatrix4(n.matrixWorld);const c=t.ray.origin.distanceTo(rm);return c<t.near||c>t.far?null:{distance:c,point:rm.clone(),object:n}}function sm(n,e,t,i,r,s,o,a,l,c){n.getVertexPosition(a,em),n.getVertexPosition(l,tm),n.getVertexPosition(c,nm);const u=oK(n,e,t,i,em,tm,nm,hw);if(u){const f=new Z;Zs.getBarycoord(hw,em,tm,nm,f),r&&(u.uv=Zs.getInterpolatedAttribute(r,a,l,c,f,new De)),s&&(u.uv1=Zs.getInterpolatedAttribute(s,a,l,c,f,new De)),o&&(u.normal=Zs.getInterpolatedAttribute(o,a,l,c,f,new Z),u.normal.dot(i.direction)>0&&u.normal.multiplyScalar(-1));const h={a,b:l,c,normal:new Z,materialIndex:0};Zs.getNormal(em,tm,nm,h.normal),u.face=h,u.barycoord=f}return u}class ui extends Hn{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const l=[],c=[],u=[],f=[];let h=0,p=0;m("z","y","x",-1,-1,i,t,e,o,s,0),m("z","y","x",1,-1,i,t,-e,o,s,1),m("x","z","y",1,1,e,i,t,r,o,2),m("x","z","y",1,-1,e,i,-t,r,o,3),m("x","y","z",1,-1,e,t,i,r,s,4),m("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(l),this.setAttribute("position",new en(c,3)),this.setAttribute("normal",new en(u,3)),this.setAttribute("uv",new en(f,2));function m(g,A,y,x,b,_,T,M,I,P,w){const E=_/I,O=T/P,F=_/2,H=T/2,z=M/2,X=I+1,U=P+1;let G=0,j=0;const Y=new Z;for(let Q=0;Q<U;Q++){const ve=Q*O-H;for(let Pe=0;Pe<X;Pe++){const He=Pe*E-F;Y[g]=He*x,Y[A]=ve*b,Y[y]=z,c.push(Y.x,Y.y,Y.z),Y[g]=0,Y[A]=0,Y[y]=M>0?1:-1,u.push(Y.x,Y.y,Y.z),f.push(Pe/I),f.push(1-Q/P),G+=1}}for(let Q=0;Q<P;Q++)for(let ve=0;ve<I;ve++){const Pe=h+ve+X*Q,He=h+ve+X*(Q+1),re=h+(ve+1)+X*(Q+1),he=h+(ve+1)+X*Q;l.push(Pe,He,he),l.push(He,re,he),j+=6}a.addGroup(p,j,w),p+=j,h+=G}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ui(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Dd(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():Array.isArray(r)?e[t][i]=r.slice():e[t][i]=r}}return e}function Vr(n){const e={};for(let t=0;t<n.length;t++){const i=Dd(n[t]);for(const r in i)e[r]=i[r]}return e}function aK(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}function YI(n){const e=n.getRenderTarget();return e===null?n.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Xt.workingColorSpace}const Io={clone:Dd,merge:Vr};var lK=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,cK=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Cn extends wo{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=lK,this.fragmentShader=cK,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Dd(e.uniforms),this.uniformsGroups=aK(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;o&&o.isTexture?t.uniforms[r]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?t.uniforms[r]={type:"c",value:o.getHex()}:o&&o.isVector2?t.uniforms[r]={type:"v2",value:o.toArray()}:o&&o.isVector3?t.uniforms[r]={type:"v3",value:o.toArray()}:o&&o.isVector4?t.uniforms[r]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?t.uniforms[r]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?t.uniforms[r]={type:"m4",value:o.toArray()}:t.uniforms[r]={value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class EA extends jt{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new xt,this.projectionMatrix=new xt,this.projectionMatrixInverse=new xt,this.coordinateSystem=Ko}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const ml=new Z,pw=new De,mw=new De;class Zi extends EA{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=Id*2*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(w0*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Id*2*Math.atan(Math.tan(w0*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,t,i){ml.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),t.set(ml.x,ml.y).multiplyScalar(-e/ml.z),ml.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),i.set(ml.x,ml.y).multiplyScalar(-e/ml.z)}getViewSize(e,t){return this.getViewBounds(e,pw,mw),t.subVectors(mw,pw)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(w0*.5*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,c=o.fullHeight;s+=o.offsetX*r/l,t-=o.offsetY*i/c,r*=o.width/l,i*=o.height/c}const a=this.filmOffset;a!==0&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,this.view!==null&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}const hf=-90,pf=1;class $I extends jt{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new Zi(hf,pf,e,t);r.layers=this.layers,this.add(r);const s=new Zi(hf,pf,e,t);s.layers=this.layers,this.add(s);const o=new Zi(hf,pf,e,t);o.layers=this.layers,this.add(o);const a=new Zi(hf,pf,e,t);a.layers=this.layers,this.add(a);const l=new Zi(hf,pf,e,t);l.layers=this.layers,this.add(l);const c=new Zi(hf,pf,e,t);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,l]=t;for(const c of t)this.remove(c);if(e===Ko)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===zg)i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of t)this.add(c),c.updateMatrixWorld()}update(e,t){this.parent===null&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,l,c,u]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const g=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,l),e.setRenderTarget(i,4,r),e.render(t,c),i.texture.generateMipmaps=g,e.setRenderTarget(i,5,r),e.render(t,u),e.setRenderTarget(f,h,p),e.xr.enabled=m,i.texture.needsPMREMUpdate=!0}}class ep extends xn{constructor(e,t,i,r,s,o,a,l,c,u){e=e!==void 0?e:[],t=t!==void 0?t:tc,super(e,t,i,r,s,o,a,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Hg extends ai{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];this.texture=new ep(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!1,this.texture.minFilter=t.minFilter!==void 0?t.minFilter:Yt}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new ui(5,5,5),s=new Cn({name:"CubemapFromEquirect",uniforms:Dd(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Pr,blending:Co});s.uniforms.tEquirect.value=t;const o=new Qe(r,s),a=t.minFilter;return t.minFilter===Fs&&(t.minFilter=Yt),new $I(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}class Va extends jt{constructor(){super(),this.isGroup=!0,this.type="Group"}}const uK={type:"move"};class C3{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Va,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Va,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Va,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,l=this._grip,c=this._hand;if(e&&t.session.visibilityState!=="visible-blurred"){if(c&&e.hand){o=!0;for(const g of e.hand.values()){const A=t.getJointPose(g,i),y=this._getHandJoint(c,g);A!==null&&(y.matrix.fromArray(A.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=A.radius),y.visible=A!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],h=u.position.distanceTo(f.position),p=.02,m=.005;c.inputState.pinching&&h>p+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&h<=p-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));a!==null&&(r=t.getPose(e.targetRaySpace,i),r===null&&s!==null&&(r=s),r!==null&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(uK)))}return a!==null&&(a.visible=r!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=o!==null),this}_getHandJoint(e,t){if(e.joints[t.jointName]===void 0){const i=new Va;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Wa extends jt{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new Di,this.environmentIntensity=1,this.environmentRotation=new Di,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return this.fog!==null&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(t.object.backgroundIntensity=this.backgroundIntensity),t.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(t.object.environmentIntensity=this.environmentIntensity),t.object.environmentRotation=this.environmentRotation.toArray(),t}}class e4{constructor(e,t){this.isInterleavedBuffer=!0,this.array=e,this.stride=t,this.count=e!==void 0?e.length/t:0,this.usage=wb,this.updateRanges=[],this.version=0,this.uuid=So()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,t){this.updateRanges.push({start:e,count:t})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,t,i){e*=this.stride,i*=t.stride;for(let r=0,s=this.stride;r<s;r++)this.array[e+r]=t.array[i+r];return this}set(e,t=0){return this.array.set(e,t),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const t=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(t,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=So()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Nr=new Z;class fn{constructor(e,t,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=t,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let t=0,i=this.data.count;t<i;t++)Nr.fromBufferAttribute(this,t),Nr.applyMatrix4(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Nr.fromBufferAttribute(this,t),Nr.applyNormalMatrix(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Nr.fromBufferAttribute(this,t),Nr.transformDirection(e),this.setXYZ(t,Nr.x,Nr.y,Nr.z);return this}getComponent(e,t){let i=this.array[e*this.data.stride+this.offset+t];return this.normalized&&(i=yo(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=_n(i,this.array)),this.data.array[e*this.data.stride+this.offset+t]=i,this}setX(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset]=t,this}setY(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+1]=t,this}setZ(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+2]=t,this}setW(e,t){return this.normalized&&(t=_n(t,this.array)),this.data.array[e*this.data.stride+this.offset+3]=t,this}getX(e){let t=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(t=yo(t,this.array)),t}getY(e){let t=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(t=yo(t,this.array)),t}getZ(e){let t=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(t=yo(t,this.array)),t}getW(e){let t=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(t=yo(t,this.array)),t}setXY(e,t,i){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),i=_n(i,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this}setXYZ(e,t,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),i=_n(i,this.array),r=_n(r,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e=e*this.data.stride+this.offset,this.normalized&&(t=_n(t,this.array),i=_n(i,this.array),r=_n(r,this.array),s=_n(s,this.array)),this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return new Gi(new this.array.constructor(t),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fn(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const t=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)t.push(this.data.array[r+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:t,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class KI extends wo{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let mf;const Th=new Z,gf=new Z,Af=new Z,vf=new De,Mh=new De,ZI=new xt,om=new Z,Ih=new Z,am=new Z,gw=new De,S3=new De,Aw=new De;class yf extends jt{constructor(e=new KI){if(super(),this.isSprite=!0,this.type="Sprite",mf===void 0){mf=new Hn;const t=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),i=new e4(t,5);mf.setIndex([0,1,2,0,2,3]),mf.setAttribute("position",new fn(i,3,0,!1)),mf.setAttribute("uv",new fn(i,2,3,!1))}this.geometry=mf,this.material=e,this.center=new De(.5,.5)}raycast(e,t){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),gf.setFromMatrixScale(this.matrixWorld),ZI.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Af.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&gf.multiplyScalar(-Af.z);const i=this.material.rotation;let r,s;i!==0&&(s=Math.cos(i),r=Math.sin(i));const o=this.center;lm(om.set(-.5,-.5,0),Af,o,gf,r,s),lm(Ih.set(.5,-.5,0),Af,o,gf,r,s),lm(am.set(.5,.5,0),Af,o,gf,r,s),gw.set(0,0),S3.set(1,0),Aw.set(1,1);let a=e.ray.intersectTriangle(om,Ih,am,!1,Th);if(a===null&&(lm(Ih.set(-.5,.5,0),Af,o,gf,r,s),S3.set(0,1),a=e.ray.intersectTriangle(om,am,Ih,!1,Th),a===null))return;const l=e.ray.origin.distanceTo(Th);l<e.near||l>e.far||t.push({distance:l,point:Th.clone(),uv:Zs.getInterpolation(Th,om,Ih,am,gw,S3,Aw,new De),face:null,object:this})}copy(e,t){return super.copy(e,t),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function lm(n,e,t,i,r,s){vf.subVectors(n,t).addScalar(.5).multiply(i),r!==void 0?(Mh.x=s*vf.x-r*vf.y,Mh.y=r*vf.x+s*vf.y):Mh.copy(vf),n.copy(e),n.x+=Mh.x,n.y+=Mh.y,n.applyMatrix4(ZI)}const vw=new Z,yw=new Vt,_w=new Vt,fK=new Z,bw=new xt,cm=new Z,w3=new oo,xw=new xt,E3=new zd;class dK extends Qe{constructor(e,t){super(e,t),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=WS,this.bindMatrix=new xt,this.bindMatrixInverse=new xt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new zs),this.boundingBox.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cm),this.boundingBox.expandByPoint(cm)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new oo),this.boundingSphere.makeEmpty();const t=e.getAttribute("position");for(let i=0;i<t.count;i++)this.getVertexPosition(i,cm),this.boundingSphere.expandByPoint(cm)}copy(e,t){return super.copy(e,t),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,t){const i=this.material,r=this.matrixWorld;i!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),w3.copy(this.boundingSphere),w3.applyMatrix4(r),e.ray.intersectsSphere(w3)!==!1&&(xw.copy(r).invert(),E3.copy(e.ray).applyMatrix4(xw),!(this.boundingBox!==null&&E3.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,t,E3)))}getVertexPosition(e,t){return super.getVertexPosition(e,t),this.applyBoneTransform(e,t),t}bind(e,t){this.skeleton=e,t===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.copy(t).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Vt,t=this.geometry.attributes.skinWeight;for(let i=0,r=t.count;i<r;i++){e.fromBufferAttribute(t,i);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),t.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===WS?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===u$?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,t){const i=this.skeleton,r=this.geometry;yw.fromBufferAttribute(r.attributes.skinIndex,e),_w.fromBufferAttribute(r.attributes.skinWeight,e),vw.copy(t).applyMatrix4(this.bindMatrix),t.set(0,0,0);for(let s=0;s<4;s++){const o=_w.getComponent(s);if(o!==0){const a=yw.getComponent(s);bw.multiplyMatrices(i.bones[a].matrixWorld,i.boneInverses[a]),t.addScaledVector(fK.copy(vw).applyMatrix4(bw),o)}}return t.applyMatrix4(this.bindMatrixInverse)}}class JI extends jt{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Hd extends xn{constructor(e=null,t=1,i=1,r,s,o,a,l,c=Rr,u=Rr,f,h){super(null,o,a,l,c,u,r,s,f,h),this.isDataTexture=!0,this.image={data:e,width:t,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Cw=new xt,hK=new xt;class t4{constructor(e=[],t=[]){this.uuid=So(),this.bones=e.slice(0),this.boneInverses=t,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,t=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),t.length===0)this.calculateInverses();else if(e.length!==t.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new xt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,t=this.bones.length;e<t;e++){const i=new xt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,t=this.bones.length;e<t;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,t=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let s=0,o=e.length;s<o;s++){const a=e[s]?e[s].matrixWorld:hK;Cw.multiplyMatrices(a,t[s]),Cw.toArray(i,s*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new t4(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const t=new Float32Array(e*e*4);t.set(this.boneMatrices);const i=new Hd(t,e,e,hi,Zt);return i.needsUpdate=!0,this.boneMatrices=t,this.boneTexture=i,this}getBoneByName(e){for(let t=0,i=this.bones.length;t<i;t++){const r=this.bones[t];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,t){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const s=e.bones[i];let o=t[s];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),o=new JI),this.bones.push(o),this.boneInverses.push(new xt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const t=this.bones,i=this.boneInverses;for(let r=0,s=t.length;r<s;r++){const o=t[r];e.bones.push(o.uuid);const a=i[r];e.boneInverses.push(a.toArray())}return e}}class Do extends Gi{constructor(e,t,i,r=1){super(e,t,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const _f=new xt,Sw=new xt,um=[],ww=new zs,pK=new xt,Dh=new Qe,Ph=new oo;class wp extends Qe{constructor(e,t,i){super(e,t),this.isInstancedMesh=!0,this.instanceMatrix=new Do(new Float32Array(i*16),16),this.instanceColor=null,this.morphTexture=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,pK)}computeBoundingBox(){const e=this.geometry,t=this.count;this.boundingBox===null&&(this.boundingBox=new zs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,_f),ww.copy(e.boundingBox).applyMatrix4(_f),this.boundingBox.union(ww)}computeBoundingSphere(){const e=this.geometry,t=this.count;this.boundingSphere===null&&(this.boundingSphere=new oo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<t;i++)this.getMatrixAt(i,_f),Ph.copy(e.boundingSphere).applyMatrix4(_f),this.boundingSphere.union(Ph)}copy(e,t){return super.copy(e,t),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,t){t.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,t){t.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,t){const i=t.morphTargetInfluences,r=this.morphTexture.source.data.data,s=i.length+1,o=e*s+1;for(let a=0;a<i.length;a++)i[a]=r[o+a]}raycast(e,t){const i=this.matrixWorld,r=this.count;if(Dh.geometry=this.geometry,Dh.material=this.material,Dh.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Ph.copy(this.boundingSphere),Ph.applyMatrix4(i),e.ray.intersectsSphere(Ph)!==!1))for(let s=0;s<r;s++){this.getMatrixAt(s,_f),Sw.multiplyMatrices(i,_f),Dh.matrixWorld=Sw,Dh.raycast(e,um);for(let o=0,a=um.length;o<a;o++){const l=um[o];l.instanceId=s,l.object=this,t.push(l)}um.length=0}}setColorAt(e,t){this.instanceColor===null&&(this.instanceColor=new Do(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),t.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,t){t.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,t){const i=t.morphTargetInfluences,r=i.length+1;this.morphTexture===null&&(this.morphTexture=new Hd(new Float32Array(r*this.count),r,this.count,zl,Zt));const s=this.morphTexture.source.data.data;let o=0;for(let c=0;c<i.length;c++)o+=i[c];const a=this.geometry.morphTargetsRelative?1:1-o,l=r*e;s[l]=a,s.set(i,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}const T3=new Z,mK=new Z,gK=new Lt;class Tl{constructor(e=new Z(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=T3.subVectors(i,t).cross(mK.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(T3),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||gK.getNormalMatrix(e),r=this.coplanarPoint(T3).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const Vc=new oo,fm=new Z;class n4{constructor(e=new Tl,t=new Tl,i=new Tl,r=new Tl,s=new Tl,o=new Tl){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ko){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],l=r[3],c=r[4],u=r[5],f=r[6],h=r[7],p=r[8],m=r[9],g=r[10],A=r[11],y=r[12],x=r[13],b=r[14],_=r[15];if(i[0].setComponents(l-s,h-c,A-p,_-y).normalize(),i[1].setComponents(l+s,h+c,A+p,_+y).normalize(),i[2].setComponents(l+o,h+u,A+m,_+x).normalize(),i[3].setComponents(l-o,h-u,A-m,_-x).normalize(),i[4].setComponents(l-a,h-f,A-g,_-b).normalize(),t===Ko)i[5].setComponents(l+a,h+f,A+g,_+b).normalize();else if(t===zg)i[5].setComponents(a,f,g,b).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),Vc.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;t.boundingSphere===null&&t.computeBoundingSphere(),Vc.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Vc)}intersectsSprite(e){return Vc.center.set(0,0,0),Vc.radius=.7071067811865476,Vc.applyMatrix4(e.matrixWorld),this.intersectsSphere(Vc)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(fm.x=r.normal.x>0?e.max.x:e.min.x,fm.y=r.normal.y>0?e.max.y:e.min.y,fm.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(fm)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}class Fu extends wo{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ke(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Vg=new Z,Gg=new Z,Ew=new xt,Rh=new zd,dm=new oo,M3=new Z,Tw=new Z;class Ms extends jt{constructor(e=new Hn,t=new Fu){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[0];for(let r=1,s=t.count;r<s;r++)Vg.fromBufferAttribute(t,r-1),Gg.fromBufferAttribute(t,r),i[r]=i[r-1],i[r]+=Vg.distanceTo(Gg);e.setAttribute("lineDistance",new en(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Line.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),dm.copy(i.boundingSphere),dm.applyMatrix4(r),dm.radius+=s,e.ray.intersectsSphere(dm)===!1)return;Ew.copy(r).invert(),Rh.copy(e.ray).applyMatrix4(Ew);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=this.isLineSegments?2:1,u=i.index,h=i.attributes.position;if(u!==null){const p=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=p,A=m-1;g<A;g+=c){const y=u.getX(g),x=u.getX(g+1),b=hm(this,e,Rh,l,y,x,g);b&&t.push(b)}if(this.isLineLoop){const g=u.getX(m-1),A=u.getX(p),y=hm(this,e,Rh,l,g,A,m-1);y&&t.push(y)}}else{const p=Math.max(0,o.start),m=Math.min(h.count,o.start+o.count);for(let g=p,A=m-1;g<A;g+=c){const y=hm(this,e,Rh,l,g,g+1,g);y&&t.push(y)}if(this.isLineLoop){const g=hm(this,e,Rh,l,m-1,p,m-1);g&&t.push(g)}}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function hm(n,e,t,i,r,s,o){const a=n.geometry.attributes.position;if(Vg.fromBufferAttribute(a,r),Gg.fromBufferAttribute(a,s),t.distanceSqToSegment(Vg,Gg,M3,Tw)>i)return;M3.applyMatrix4(n.matrixWorld);const c=e.ray.origin.distanceTo(M3);if(!(c<e.near||c>e.far))return{distance:c,point:Tw.clone().applyMatrix4(n.matrixWorld),index:o,face:null,faceIndex:null,barycoord:null,object:n}}const Mw=new Z,Iw=new Z;class TA extends Ms{constructor(e,t){super(e,t),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const t=e.attributes.position,i=[];for(let r=0,s=t.count;r<s;r+=2)Mw.fromBufferAttribute(t,r),Iw.fromBufferAttribute(t,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+Mw.distanceTo(Iw);e.setAttribute("lineDistance",new en(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class AK extends Ms{constructor(e,t){super(e,t),this.isLineLoop=!0,this.type="LineLoop"}}class eD extends wo{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ke(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const Dw=new xt,Eb=new zd,pm=new oo,mm=new Z;class vK extends jt{constructor(e=new Hn,t=new eD){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,t){const i=this.geometry,r=this.matrixWorld,s=e.params.Points.threshold,o=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),pm.copy(i.boundingSphere),pm.applyMatrix4(r),pm.radius+=s,e.ray.intersectsSphere(pm)===!1)return;Dw.copy(r).invert(),Eb.copy(e.ray).applyMatrix4(Dw);const a=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=a*a,c=i.index,f=i.attributes.position;if(c!==null){const h=Math.max(0,o.start),p=Math.min(c.count,o.start+o.count);for(let m=h,g=p;m<g;m++){const A=c.getX(m);mm.fromBufferAttribute(f,A),Pw(mm,A,l,r,e,t,this)}}else{const h=Math.max(0,o.start),p=Math.min(f.count,o.start+o.count);for(let m=h,g=p;m<g;m++)mm.fromBufferAttribute(f,m),Pw(mm,m,l,r,e,t,this)}}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}}function Pw(n,e,t,i,r,s,o){const a=Eb.distanceSqToPoint(n);if(a<t){const l=new Z;Eb.closestPointToPoint(n,l),l.applyMatrix4(i);const c=r.ray.origin.distanceTo(l);if(c<r.near||c>r.far)return;s.push({distance:c,distanceToRay:Math.sqrt(a),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:o})}}class MA extends xn{constructor(e,t,i,r,s,o,a,l,c,u,f,h){super(null,o,a,l,c,u,r,s,f,h),this.isCompressedTexture=!0,this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class yK extends MA{constructor(e,t,i,r,s,o){super(e,t,i,s,o),this.isCompressedArrayTexture=!0,this.image.depth=r,this.wrapR=ti,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class _K extends MA{constructor(e,t,i){super(void 0,e[0].width,e[0].height,t,i,tc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class bK extends xn{constructor(e,t,i,r,s,o,a,l,c){super(e,t,i,r,s,o,a,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class tD extends xn{constructor(e,t,i,r,s,o,a,l,c,u=td){if(u!==td&&u!==Md)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&u===td&&(i=Pu),i===void 0&&u===Md&&(i=Td),super(null,r,s,o,a,l,u,i,c),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=a!==void 0?a:Rr,this.minFilter=l!==void 0?l:Rr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return this.compareFunction!==null&&(t.compareFunction=this.compareFunction),t}}class ar extends Hn{constructor(e=1,t=1,i=1,r=32,s=1,o=!1,a=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:r,heightSegments:s,openEnded:o,thetaStart:a,thetaLength:l};const c=this;r=Math.floor(r),s=Math.floor(s);const u=[],f=[],h=[],p=[];let m=0;const g=[],A=i/2;let y=0;x(),o===!1&&(e>0&&b(!0),t>0&&b(!1)),this.setIndex(u),this.setAttribute("position",new en(f,3)),this.setAttribute("normal",new en(h,3)),this.setAttribute("uv",new en(p,2));function x(){const _=new Z,T=new Z;let M=0;const I=(t-e)/i;for(let P=0;P<=s;P++){const w=[],E=P/s,O=E*(t-e)+e;for(let F=0;F<=r;F++){const H=F/r,z=H*l+a,X=Math.sin(z),U=Math.cos(z);T.x=O*X,T.y=-E*i+A,T.z=O*U,f.push(T.x,T.y,T.z),_.set(X,I,U).normalize(),h.push(_.x,_.y,_.z),p.push(H,1-E),w.push(m++)}g.push(w)}for(let P=0;P<r;P++)for(let w=0;w<s;w++){const E=g[w][P],O=g[w+1][P],F=g[w+1][P+1],H=g[w][P+1];(e>0||w!==0)&&(u.push(E,O,H),M+=3),(t>0||w!==s-1)&&(u.push(O,F,H),M+=3)}c.addGroup(y,M,0),y+=M}function b(_){const T=m,M=new De,I=new Z;let P=0;const w=_===!0?e:t,E=_===!0?1:-1;for(let F=1;F<=r;F++)f.push(0,A*E,0),h.push(0,E,0),p.push(.5,.5),m++;const O=m;for(let F=0;F<=r;F++){const z=F/r*l+a,X=Math.cos(z),U=Math.sin(z);I.x=w*U,I.y=A*E,I.z=w*X,f.push(I.x,I.y,I.z),h.push(0,E,0),M.x=X*.5+.5,M.y=U*.5*E+.5,p.push(M.x,M.y),m++}for(let F=0;F<r;F++){const H=T+F,z=O+F;_===!0?u.push(z,z+1,H):u.push(z+1,z,H),P+=3}c.addGroup(y,P,_===!0?1:2),y+=P}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ar(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class i4 extends Hn{constructor(e=[],t=[],i=1,r=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:r};const s=[],o=[];a(r),c(i),u(),this.setAttribute("position",new en(s,3)),this.setAttribute("normal",new en(s.slice(),3)),this.setAttribute("uv",new en(o,2)),r===0?this.computeVertexNormals():this.normalizeNormals();function a(x){const b=new Z,_=new Z,T=new Z;for(let M=0;M<t.length;M+=3)p(t[M+0],b),p(t[M+1],_),p(t[M+2],T),l(b,_,T,x)}function l(x,b,_,T){const M=T+1,I=[];for(let P=0;P<=M;P++){I[P]=[];const w=x.clone().lerp(_,P/M),E=b.clone().lerp(_,P/M),O=M-P;for(let F=0;F<=O;F++)F===0&&P===M?I[P][F]=w:I[P][F]=w.clone().lerp(E,F/O)}for(let P=0;P<M;P++)for(let w=0;w<2*(M-P)-1;w++){const E=Math.floor(w/2);w%2===0?(h(I[P][E+1]),h(I[P+1][E]),h(I[P][E])):(h(I[P][E+1]),h(I[P+1][E+1]),h(I[P+1][E]))}}function c(x){const b=new Z;for(let _=0;_<s.length;_+=3)b.x=s[_+0],b.y=s[_+1],b.z=s[_+2],b.normalize().multiplyScalar(x),s[_+0]=b.x,s[_+1]=b.y,s[_+2]=b.z}function u(){const x=new Z;for(let b=0;b<s.length;b+=3){x.x=s[b+0],x.y=s[b+1],x.z=s[b+2];const _=A(x)/2/Math.PI+.5,T=y(x)/Math.PI+.5;o.push(_,1-T)}m(),f()}function f(){for(let x=0;x<o.length;x+=6){const b=o[x+0],_=o[x+2],T=o[x+4],M=Math.max(b,_,T),I=Math.min(b,_,T);M>.9&&I<.1&&(b<.2&&(o[x+0]+=1),_<.2&&(o[x+2]+=1),T<.2&&(o[x+4]+=1))}}function h(x){s.push(x.x,x.y,x.z)}function p(x,b){const _=x*3;b.x=e[_+0],b.y=e[_+1],b.z=e[_+2]}function m(){const x=new Z,b=new Z,_=new Z,T=new Z,M=new De,I=new De,P=new De;for(let w=0,E=0;w<s.length;w+=9,E+=6){x.set(s[w+0],s[w+1],s[w+2]),b.set(s[w+3],s[w+4],s[w+5]),_.set(s[w+6],s[w+7],s[w+8]),M.set(o[E+0],o[E+1]),I.set(o[E+2],o[E+3]),P.set(o[E+4],o[E+5]),T.copy(x).add(b).add(_).divideScalar(3);const O=A(T);g(M,E+0,x,O),g(I,E+2,b,O),g(P,E+4,_,O)}}function g(x,b,_,T){T<0&&x.x===1&&(o[b]=x.x-1),_.x===0&&_.z===0&&(o[b]=T/2/Math.PI+.5)}function A(x){return Math.atan2(x.z,-x.x)}function y(x){return Math.atan2(-x.y,Math.sqrt(x.x*x.x+x.z*x.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new i4(e.vertices,e.indices,e.radius,e.details)}}class kf extends i4{constructor(e=1,t=0){const i=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],r=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(i,r,e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}}static fromJSON(e){return new kf(e.radius,e.detail)}}class ao extends Hn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),l=Math.floor(r),c=a+1,u=l+1,f=e/a,h=t/l,p=[],m=[],g=[],A=[];for(let y=0;y<u;y++){const x=y*h-o;for(let b=0;b<c;b++){const _=b*f-s;m.push(_,-x,0),g.push(0,0,1),A.push(b/a),A.push(1-y/l)}}for(let y=0;y<l;y++)for(let x=0;x<a;x++){const b=x+c*y,_=x+c*(y+1),T=x+1+c*(y+1),M=x+1+c*y;p.push(b,_,M),p.push(_,T,M)}this.setIndex(p),this.setAttribute("position",new en(m,3)),this.setAttribute("normal",new en(g,3)),this.setAttribute("uv",new en(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ao(e.width,e.height,e.widthSegments,e.heightSegments)}}class Vd extends Hn{constructor(e=1,t=32,i=16,r=0,s=Math.PI*2,o=0,a=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:r,phiLength:s,thetaStart:o,thetaLength:a},t=Math.max(3,Math.floor(t)),i=Math.max(2,Math.floor(i));const l=Math.min(o+a,Math.PI);let c=0;const u=[],f=new Z,h=new Z,p=[],m=[],g=[],A=[];for(let y=0;y<=i;y++){const x=[],b=y/i;let _=0;y===0&&o===0?_=.5/t:y===i&&l===Math.PI&&(_=-.5/t);for(let T=0;T<=t;T++){const M=T/t;f.x=-e*Math.cos(r+M*s)*Math.sin(o+b*a),f.y=e*Math.cos(o+b*a),f.z=e*Math.sin(r+M*s)*Math.sin(o+b*a),m.push(f.x,f.y,f.z),h.copy(f).normalize(),g.push(h.x,h.y,h.z),A.push(M+_,1-b),x.push(c++)}u.push(x)}for(let y=0;y<i;y++)for(let x=0;x<t;x++){const b=u[y][x+1],_=u[y][x],T=u[y+1][x],M=u[y+1][x+1];(y!==0||o>0)&&p.push(b,_,M),(y!==i-1||l<Math.PI)&&p.push(_,T,M)}this.setIndex(p),this.setAttribute("position",new en(m,3)),this.setAttribute("normal",new en(g,3)),this.setAttribute("uv",new en(A,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vd(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class tu extends Hn{constructor(e=1,t=.4,i=12,r=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:r,arc:s},i=Math.floor(i),r=Math.floor(r);const o=[],a=[],l=[],c=[],u=new Z,f=new Z,h=new Z;for(let p=0;p<=i;p++)for(let m=0;m<=r;m++){const g=m/r*s,A=p/i*Math.PI*2;f.x=(e+t*Math.cos(A))*Math.cos(g),f.y=(e+t*Math.cos(A))*Math.sin(g),f.z=t*Math.sin(A),a.push(f.x,f.y,f.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),h.subVectors(f,u).normalize(),l.push(h.x,h.y,h.z),c.push(m/r),c.push(p/i)}for(let p=1;p<=i;p++)for(let m=1;m<=r;m++){const g=(r+1)*p+m-1,A=(r+1)*(p-1)+m-1,y=(r+1)*(p-1)+m,x=(r+1)*p+m;o.push(g,A,x),o.push(A,y,x)}this.setIndex(o),this.setAttribute("position",new en(a,3)),this.setAttribute("normal",new en(l,3)),this.setAttribute("uv",new en(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tu(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class xK extends Hn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const t=[],i=new Set,r=new Z,s=new Z;if(e.index!==null){const o=e.attributes.position,a=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:a.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],h=f.start,p=f.count;for(let m=h,g=h+p;m<g;m+=3)for(let A=0;A<3;A++){const y=a.getX(m+A),x=a.getX(m+(A+1)%3);r.fromBufferAttribute(o,y),s.fromBufferAttribute(o,x),Rw(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}}else{const o=e.attributes.position;for(let a=0,l=o.count/3;a<l;a++)for(let c=0;c<3;c++){const u=3*a+c,f=3*a+(c+1)%3;r.fromBufferAttribute(o,u),s.fromBufferAttribute(o,f),Rw(r,s,i)===!0&&(t.push(r.x,r.y,r.z),t.push(s.x,s.y,s.z))}}this.setAttribute("position",new en(t,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function Rw(n,e,t){const i=`${n.x},${n.y},${n.z}-${e.x},${e.y},${e.z}`,r=`${e.x},${e.y},${e.z}-${n.x},${n.y},${n.z}`;return t.has(i)===!0||t.has(r)===!0?!1:(t.add(i),t.add(r),!0)}class CK extends Cn{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class r4 extends wo{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new ke(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ke(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=zI,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new Di,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lo extends r4{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new De(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Ft(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(t){this.ior=(1+.4*t)/(1-.4*t)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ke(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ke(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ke(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class SK extends wo{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=h$,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class wK extends wo{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function gm(n,e,t){return!n||!t&&n.constructor===e?n:typeof e.BYTES_PER_ELEMENT=="number"?new e(n):Array.prototype.slice.call(n)}function EK(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function TK(n){function e(r,s){return n[r]-n[s]}const t=n.length,i=new Array(t);for(let r=0;r!==t;++r)i[r]=r;return i.sort(e),i}function Bw(n,e,t){const i=n.length,r=new n.constructor(i);for(let s=0,o=0;o!==i;++s){const a=t[s]*e;for(let l=0;l!==e;++l)r[o++]=n[a+l]}return r}function nD(n,e,t,i){let r=1,s=n[0];for(;s!==void 0&&s[i]===void 0;)s=n[r++];if(s===void 0)return;let o=s[i];if(o!==void 0)if(Array.isArray(o))do o=s[i],o!==void 0&&(e.push(s.time),t.push.apply(t,o)),s=n[r++];while(s!==void 0);else if(o.toArray!==void 0)do o=s[i],o!==void 0&&(e.push(s.time),o.toArray(t,t.length)),s=n[r++];while(s!==void 0);else do o=s[i],o!==void 0&&(e.push(s.time),t.push(o)),s=n[r++];while(s!==void 0)}class Ep{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];n:{e:{let o;t:{i:if(!(e<r)){for(let a=i+2;;){if(r===void 0){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break e}o=t.length;break t}if(!(e>=s)){const a=t[1];e<a&&(i=2,s=a);for(let l=i-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===l)break;if(r=s,s=t[--i-1],e>=s)break e}o=i,i=0;break t}break n}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class MK extends Ep{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:qS,endingEnd:qS}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],l=r[o];if(a===void 0)switch(this.getSettings_().endingStart){case XS:s=e,a=2*t-i;break;case YS:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(l===void 0)switch(this.getSettings_().endingEnd){case XS:o=e,l=2*i-t;break;case YS:o=1,l=i+r[1]-r[0];break;default:o=e-1,l=t}const c=(i-t)*.5,u=this.valueSize;this._weightPrev=c/(t-a),this._weightNext=c/(l-i),this._offsetPrev=s*u,this._offsetNext=o*u}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,m=(i-t)/(r-t),g=m*m,A=g*m,y=-h*A+2*h*g-h*m,x=(1+h)*A+(-1.5-2*h)*g+(-.5+h)*m+1,b=(-1-p)*A+(1.5+p)*g+.5*m,_=p*A-p*g;for(let T=0;T!==a;++T)s[T]=y*o[u+T]+x*o[c+T]+b*o[l+T]+_*o[f+T];return s}}class IK extends Ep{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=e*a,c=l-a,u=(i-t)/(r-t),f=1-u;for(let h=0;h!==a;++h)s[h]=o[c+h]*f+o[l+h]*u;return s}}class DK extends Ep{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class ia{constructor(e,t,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(t===void 0||t.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=gm(t,this.TimeBufferType),this.values=gm(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:gm(e.times,Array),values:gm(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new DK(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new IK(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new MK(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case K0:t=this.InterpolantFactoryMethodDiscrete;break;case Z0:t=this.InterpolantFactoryMethodLinear;break;case i3:t=this.InterpolantFactoryMethodSmooth;break}if(t===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return K0;case this.InterpolantFactoryMethodLinear:return Z0;case this.InterpolantFactoryMethodSmooth:return i3}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(e!==1){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;o!==-1&&i[o]>t;)--o;if(++o,s!==0||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const l=i[a];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,l,o),e=!1;break}o=l}if(r!==void 0&&EK(r))for(let a=0,l=r.length;a!==l;++a){const c=r[a];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=this.getInterpolation()===i3,s=e.length-1;let o=1;for(let a=1;a<s;++a){let l=!1;const c=e[a],u=e[a+1];if(c!==u&&(a!==1||c!==e[0]))if(r)l=!0;else{const f=a*i,h=f-i,p=f+i;for(let m=0;m!==i;++m){const g=t[f+m];if(g!==t[h+m]||g!==t[p+m]){l=!0;break}}}if(l){if(a!==o){e[o]=e[a];const f=a*i,h=o*i;for(let p=0;p!==i;++p)t[h+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,l=o*i,c=0;c!==i;++c)t[l+c]=t[a+c];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),i=this.constructor,r=new i(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}ia.prototype.TimeBufferType=Float32Array;ia.prototype.ValueBufferType=Float32Array;ia.prototype.DefaultInterpolation=Z0;class Gd extends ia{constructor(e,t,i){super(e,t,i)}}Gd.prototype.ValueTypeName="bool";Gd.prototype.ValueBufferType=Array;Gd.prototype.DefaultInterpolation=K0;Gd.prototype.InterpolantFactoryMethodLinear=void 0;Gd.prototype.InterpolantFactoryMethodSmooth=void 0;class iD extends ia{}iD.prototype.ValueTypeName="color";class Pd extends ia{}Pd.prototype.ValueTypeName="number";class PK extends Ep{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=(i-t)/(r-t);let c=e*a;for(let u=c+a;c!==u;c+=4)Xn.slerpFlat(s,0,o,c-a,o,c,l);return s}}class Rd extends ia{InterpolantFactoryMethodLinear(e){return new PK(this.times,this.values,this.getValueSize(),e)}}Rd.prototype.ValueTypeName="quaternion";Rd.prototype.InterpolantFactoryMethodSmooth=void 0;class Qd extends ia{constructor(e,t,i){super(e,t,i)}}Qd.prototype.ValueTypeName="string";Qd.prototype.ValueBufferType=Array;Qd.prototype.DefaultInterpolation=K0;Qd.prototype.InterpolantFactoryMethodLinear=void 0;Qd.prototype.InterpolantFactoryMethodSmooth=void 0;class Bd extends ia{}Bd.prototype.ValueTypeName="vector";class RK{constructor(e="",t=-1,i=[],r=f$){this.name=e,this.tracks=i,this.duration=t,this.blendMode=r,this.uuid=So(),this.duration<0&&this.resetDuration()}static parse(e){const t=[],i=e.tracks,r=1/(e.fps||1);for(let o=0,a=i.length;o!==a;++o)t.push(LK(i[o]).scale(r));const s=new this(e.name,e.duration,t,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const t=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:t,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,o=i.length;s!==o;++s)t.push(ia.toJSON(i[s]));return r}static CreateFromMorphTargetSequence(e,t,i,r){const s=t.length,o=[];for(let a=0;a<s;a++){let l=[],c=[];l.push((a+s-1)%s,a,(a+1)%s),c.push(0,1,0);const u=TK(l);l=Bw(l,1,u),c=Bw(c,1,u),!r&&l[0]===0&&(l.push(s),c.push(c[0])),o.push(new Pd(".morphTargetInfluences["+t[a].name+"]",l,c).scale(1/i))}return new this(e,-1,o)}static findByName(e,t){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===t)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,t,i){const r={},s=/^([\w-]*?)([\d]+)$/;for(let a=0,l=e.length;a<l;a++){const c=e[a],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let h=r[f];h||(r[f]=h=[]),h.push(c)}}const o=[];for(const a in r)o.push(this.CreateFromMorphTargetSequence(a,r[a],t,i));return o}static parseAnimation(e,t){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(f,h,p,m,g){if(p.length!==0){const A=[],y=[];nD(p,A,y,m),A.length!==0&&g.push(new f(h,A,y))}},r=[],s=e.name||"default",o=e.fps||30,a=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const h=c[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const p={};let m;for(m=0;m<h.length;m++)if(h[m].morphTargets)for(let g=0;g<h[m].morphTargets.length;g++)p[h[m].morphTargets[g]]=-1;for(const g in p){const A=[],y=[];for(let x=0;x!==h[m].morphTargets.length;++x){const b=h[m];A.push(b.time),y.push(b.morphTarget===g?1:0)}r.push(new Pd(".morphTargetInfluence["+g+"]",A,y))}l=p.length*o}else{const p=".bones["+t[f].name+"]";i(Bd,p+".position",h,"pos",r),i(Rd,p+".quaternion",h,"rot",r),i(Bd,p+".scale",h,"scl",r)}}return r.length===0?null:new this(s,l,r,a)}resetDuration(){const e=this.tracks;let t=0;for(let i=0,r=e.length;i!==r;++i){const s=this.tracks[i];t=Math.max(t,s.times[s.times.length-1])}return this.duration=t,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let t=0;t<this.tracks.length;t++)e=e&&this.tracks[t].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let t=0;t<this.tracks.length;t++)e.push(this.tracks[t].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function BK(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Pd;case"vector":case"vector2":case"vector3":case"vector4":return Bd;case"color":return iD;case"quaternion":return Rd;case"bool":case"boolean":return Gd;case"string":return Qd}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+n)}function LK(n){if(n.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=BK(n.type);if(n.times===void 0){const t=[],i=[];nD(n.keys,t,i,"value"),n.times=t,n.values=i}return e.parse!==void 0?e.parse(n):new e(n.name,n.times,n.values,n.interpolation)}const Hl={enabled:!1,files:{},add:function(n,e){this.enabled!==!1&&(this.files[n]=e)},get:function(n){if(this.enabled!==!1)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class FK{constructor(e,t,i){const r=this;let s=!1,o=0,a=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(u){a++,s===!1&&r.onStart!==void 0&&r.onStart(u,o,a),s=!0},this.itemEnd=function(u){o++,r.onProgress!==void 0&&r.onProgress(u,o,a),o===a&&(s=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(u){r.onError!==void 0&&r.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,h=c.length;f<h;f+=2){const p=c[f],m=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return m}return null}}}const OK=new FK;class ra{constructor(e){this.manager=e!==void 0?e:OK,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,t){const i=this;return new Promise(function(r,s){i.load(e,r,t,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}ra.DEFAULT_MATERIAL_NAME="__DEFAULT";const Ca={};class UK extends Error{constructor(e,t){super(e),this.response=t}}class $l extends ra{constructor(e){super(e)}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Hl.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(Ca[e]!==void 0){Ca[e].push({onLoad:t,onProgress:i,onError:r});return}Ca[e]=[],Ca[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,l=this.responseType;fetch(o).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=Ca[e],f=c.body.getReader(),h=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),p=h?parseInt(h):0,m=p!==0;let g=0;const A=new ReadableStream({start(y){x();function x(){f.read().then(({done:b,value:_})=>{if(b)y.close();else{g+=_.byteLength;const T=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:p});for(let M=0,I=u.length;M<I;M++){const P=u[M];P.onProgress&&P.onProgress(T)}y.enqueue(_),x()}},b=>{y.error(b)})}}});return new Response(A)}else throw new UK(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,a));case"json":return c.json();default:if(a===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return c.arrayBuffer().then(m=>p.decode(m))}}}).then(c=>{Hl.add(e,c);const u=Ca[e];delete Ca[e];for(let f=0,h=u.length;f<h;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=Ca[e];if(u===void 0)throw this.manager.itemError(e),c;delete Ca[e];for(let f=0,h=u.length;f<h;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class rD extends ra{constructor(e){super(e)}load(e,t,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Hl.get(e);if(o!==void 0)return s.manager.itemStart(e),setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o;const a=J0("img");function l(){u(),Hl.add(e,this),t&&t(this),s.manager.itemEnd(e)}function c(f){u(),r&&r(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){a.removeEventListener("load",l,!1),a.removeEventListener("error",c,!1)}return a.addEventListener("load",l,!1),a.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(a.crossOrigin=this.crossOrigin),s.manager.itemStart(e),a.src=e,a}}class NK extends ra{constructor(e){super(e)}load(e,t,i,r){const s=new ep;s.colorSpace=En;const o=new rD(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let a=0;function l(c){o.load(e[c],function(u){s.images[c]=u,a++,a===6&&(s.needsUpdate=!0,t&&t(s))},void 0,r)}for(let c=0;c<e.length;++c)l(c);return s}}class kK extends ra{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new Hd,a=new $l(this.manager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(s.withCredentials),a.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(r!==void 0)r(u);else{console.error(u);return}}c.image!==void 0?o.image=c.image:c.data!==void 0&&(o.image.width=c.width,o.image.height=c.height,o.image.data=c.data),o.wrapS=c.wrapS!==void 0?c.wrapS:ti,o.wrapT=c.wrapT!==void 0?c.wrapT:ti,o.magFilter=c.magFilter!==void 0?c.magFilter:Yt,o.minFilter=c.minFilter!==void 0?c.minFilter:Yt,o.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(o.colorSpace=c.colorSpace),c.flipY!==void 0&&(o.flipY=c.flipY),c.format!==void 0&&(o.format=c.format),c.type!==void 0&&(o.type=c.type),c.mipmaps!==void 0&&(o.mipmaps=c.mipmaps,o.minFilter=Fs),c.mipmapCount===1&&(o.minFilter=Yt),c.generateMipmaps!==void 0&&(o.generateMipmaps=c.generateMipmaps),o.needsUpdate=!0,t&&t(o,c)},i,r),o}}class sD extends ra{constructor(e){super(e)}load(e,t,i,r){const s=new xn,o=new rD(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(a){s.image=a,s.needsUpdate=!0,t!==void 0&&t(s)},i,r),s}}class IA extends jt{constructor(e,t=1){super(),this.isLight=!0,this.type="Light",this.color=new ke(e),this.intensity=t}dispose(){}copy(e,t){return super.copy(e,t),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const t=super.toJSON(e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,this.groundColor!==void 0&&(t.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(t.object.distance=this.distance),this.angle!==void 0&&(t.object.angle=this.angle),this.decay!==void 0&&(t.object.decay=this.decay),this.penumbra!==void 0&&(t.object.penumbra=this.penumbra),this.shadow!==void 0&&(t.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(t.object.target=this.target.uuid),t}}const I3=new xt,Lw=new Z,Fw=new Z;class s4{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new De(512,512),this.map=null,this.mapPass=null,this.matrix=new xt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new n4,this._frameExtents=new De(1,1),this._viewportCount=1,this._viewports=[new Vt(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const t=this.camera,i=this.matrix;Lw.setFromMatrixPosition(e.matrixWorld),t.position.copy(Lw),Fw.setFromMatrixPosition(e.target.matrixWorld),t.lookAt(Fw),t.updateMatrixWorld(),I3.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),this._frustum.setFromProjectionMatrix(I3),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(I3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class zK extends s4{constructor(){super(new Zi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const t=this.camera,i=Id*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,s=e.distance||t.far;(i!==t.fov||r!==t.aspect||s!==t.far)&&(t.fov=i,t.aspect=r,t.far=s,t.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class HK extends IA{constructor(e,t,i=0,r=Math.PI/3,s=0,o=2){super(e,t),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.distance=i,this.angle=r,this.penumbra=s,this.decay=o,this.map=null,this.shadow=new zK}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const Ow=new xt,Bh=new Z,D3=new Z;class VK extends s4{constructor(){super(new Zi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new De(4,2),this._viewportCount=6,this._viewports=[new Vt(2,1,1,1),new Vt(0,1,1,1),new Vt(3,1,1,1),new Vt(1,1,1,1),new Vt(3,0,1,1),new Vt(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,t=0){const i=this.camera,r=this.matrix,s=e.distance||i.far;s!==i.far&&(i.far=s,i.updateProjectionMatrix()),Bh.setFromMatrixPosition(e.matrixWorld),i.position.copy(Bh),D3.copy(i.position),D3.add(this._cubeDirections[t]),i.up.copy(this._cubeUps[t]),i.lookAt(D3),i.updateMatrixWorld(),r.makeTranslation(-Bh.x,-Bh.y,-Bh.z),Ow.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Ow)}}class GK extends IA{constructor(e,t,i=0,r=2){super(e,t),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new VK}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,t){return super.copy(e,t),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Ou extends EA{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,l=r-t;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,o=s+c*this.view.width,a-=u*this.view.offsetY,l=a-u*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,this.view!==null&&(t.object.view=Object.assign({},this.view)),t}}class QK extends s4{constructor(){super(new Ou(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class Qg extends IA{constructor(e,t){super(e,t),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(jt.DEFAULT_UP),this.updateMatrix(),this.target=new jt,this.shadow=new QK}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class jK extends IA{constructor(e,t){super(e,t),this.isAmbientLight=!0,this.type="AmbientLight"}}class T0{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let t="";for(let i=0,r=e.length;i<r;i++)t+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(t))}catch{return t}}static extractUrlBase(e){const t=e.lastIndexOf("/");return t===-1?"./":e.slice(0,t+1)}static resolveURL(e,t){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(t)&&/^\//.test(e)&&(t=t.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:t+e)}}class WK extends Hn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class qK extends ra{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,t,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,o=Hl.get(e);if(o!==void 0){if(s.manager.itemStart(e),o.then){o.then(c=>{t&&t(c),s.manager.itemEnd(e)}).catch(c=>{r&&r(c)});return}return setTimeout(function(){t&&t(o),s.manager.itemEnd(e)},0),o}const a={};a.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",a.headers=this.requestHeader;const l=fetch(e,a).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Hl.add(e,c),t&&t(c),s.manager.itemEnd(e),c}).catch(function(c){r&&r(c),Hl.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});Hl.add(e,l),s.manager.itemStart(e)}}class XK extends Zi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e,this.index=0}}class oD{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Uw(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Uw();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}}function Uw(){return performance.now()}const o4="\\[\\]\\.:\\/",YK=new RegExp("["+o4+"]","g"),a4="[^"+o4+"]",$K="[^"+o4.replace("\\.","")+"]",KK=/((?:WC+[\/:])*)/.source.replace("WC",a4),ZK=/(WCOD+)?/.source.replace("WCOD",$K),JK=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",a4),eZ=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",a4),tZ=new RegExp("^"+KK+ZK+JK+eZ+"$"),nZ=["material","materials","bones","map"];class iZ{constructor(e,t,i){const r=i||bn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}class bn{constructor(e,t,i){this.path=t,this.parsedPath=i||bn.parseTrackName(t),this.node=bn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,t,i){return e&&e.isAnimationObjectGroup?new bn.Composite(e,t,i):new bn(e,t,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(YK,"")}static parseTrackName(e){const t=tZ.exec(e);if(t===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:t[2],objectName:t[3],objectIndex:t[4],propertyName:t[5],propertyIndex:t[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const s=i.nodeName.substring(r+1);nZ.indexOf(s)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=s)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,t){if(t===void 0||t===""||t==="."||t===-1||t===e.name||t===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(t);if(i!==void 0)return i}if(e.children){const i=function(s){for(let o=0;o<s.length;o++){const a=s[o];if(a.name===t||a.uuid===t)return a;const l=i(a.children);if(l)return l}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,t){e[t]=this.targetObject[this.propertyName]}_getValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)e[t++]=i[r]}_getValue_arrayElement(e,t){e[t]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,t){this.resolvedProperty.toArray(e,t)}_setValue_direct(e,t){this.targetObject[this.propertyName]=e[t]}_setValue_direct_setNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,t){this.targetObject[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++]}_setValue_array_setNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,t){const i=this.resolvedProperty;for(let r=0,s=i.length;r!==s;++r)i[r]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,t){this.resolvedProperty[this.propertyIndex]=e[t]}_setValue_arrayElement_setNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,t){this.resolvedProperty.fromArray(e,t)}_setValue_fromArray_setNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,t){this.bind(),this.getValue(e,t)}_setValue_unbound(e,t){this.bind(),this.setValue(e,t)}bind(){let e=this.node;const t=this.parsedPath,i=t.objectName,r=t.propertyName;let s=t.propertyIndex;if(e||(e=bn.findNode(this.rootNode,t.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(i){let c=t.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const o=e[r];if(o===void 0){const c=t.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let a=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?a=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(a=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=s}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=r;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][a]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}bn.Composite=iZ;bn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};bn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};bn.prototype.GetterByBindingType=[bn.prototype._getValue_direct,bn.prototype._getValue_array,bn.prototype._getValue_arrayElement,bn.prototype._getValue_toArray];bn.prototype.SetterByBindingTypeAndVersioning=[[bn.prototype._setValue_direct,bn.prototype._setValue_direct_setNeedsUpdate,bn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_array,bn.prototype._setValue_array_setNeedsUpdate,bn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_arrayElement,bn.prototype._setValue_arrayElement_setNeedsUpdate,bn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[bn.prototype._setValue_fromArray,bn.prototype._setValue_fromArray_setNeedsUpdate,bn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Yr extends e4{constructor(e,t,i=1){super(e,t),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const t=super.clone(e);return t.meshPerAttribute=this.meshPerAttribute,t}toJSON(e){const t=super.toJSON(e);return t.isInstancedInterleavedBuffer=!0,t.meshPerAttribute=this.meshPerAttribute,t}}const Nw=new xt;class l4{constructor(e,t,i=0,r=1/0){this.ray=new zd(e,t),this.near=i,this.far=r,this.camera=null,this.layers=new Jx,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,t){this.ray.set(e,t)}setFromCamera(e,t){t.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize(),this.camera=t):t.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(t.near+t.far)/(t.near-t.far)).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld),this.camera=t):console.error("THREE.Raycaster: Unsupported camera type: "+t.type)}setFromXRController(e){return Nw.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(Nw),this}intersectObject(e,t=!0,i=[]){return Tb(e,this,i,t),i.sort(kw),i}intersectObjects(e,t=!0,i=[]){for(let r=0,s=e.length;r<s;r++)Tb(e[r],this,i,t);return i.sort(kw),i}}function kw(n,e){return n.distance-e.distance}function Tb(n,e,t,i){let r=!0;if(n.layers.test(e.layers)&&n.raycast(e,t)===!1&&(r=!1),r===!0&&i===!0){const s=n.children;for(let o=0,a=s.length;o<a;o++)Tb(s[o],e,t,!0)}}class zw{constructor(e=1,t=0,i=0){return this.radius=e,this.phi=t,this.theta=i,this}set(e,t,i){return this.radius=e,this.phi=t,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Ft(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,t,i){return this.radius=Math.sqrt(e*e+t*t+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(Ft(t/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}const Hw=new Z,Am=new Z;class rZ{constructor(e=new Z,t=new Z){this.start=e,this.end=t}set(e,t){return this.start.copy(e),this.end.copy(t),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,t){return this.delta(t).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,t){Hw.subVectors(e,this.start),Am.subVectors(this.end,this.start);const i=Am.dot(Am);let s=Am.dot(Hw)/i;return t&&(s=Ft(s,0,1)),s}closestPointToPoint(e,t,i){const r=this.closestPointToPointParameter(e,t);return this.delta(i).multiplyScalar(r).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}class aD extends TA{constructor(e=10,t=10,i=4473924,r=8947848){i=new ke(i),r=new ke(r);const s=t/2,o=e/t,a=e/2,l=[],c=[];for(let h=0,p=0,m=-a;h<=t;h++,m+=o){l.push(-a,0,m,a,0,m),l.push(m,0,-a,m,0,a);const g=h===s?i:r;g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3,g.toArray(c,p),p+=3}const u=new Hn;u.setAttribute("position",new en(l,3)),u.setAttribute("color",new en(c,3));const f=new Fu({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Vw=new Z,vm=new Z,Gw=new Z;class Qw extends jt{constructor(e,t,i){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,this.type="DirectionalLightHelper",t===void 0&&(t=1);let r=new Hn;r.setAttribute("position",new en([-t,t,0,t,t,0,t,-t,0,-t,-t,0,-t,t,0],3));const s=new Fu({fog:!1,toneMapped:!1});this.lightPlane=new Ms(r,s),this.add(this.lightPlane),r=new Hn,r.setAttribute("position",new en([0,0,0,0,0,1],3)),this.targetLine=new Ms(r,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Vw.setFromMatrixPosition(this.light.matrixWorld),vm.setFromMatrixPosition(this.light.target.matrixWorld),Gw.subVectors(vm,Vw),this.lightPlane.lookAt(vm),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(vm),this.targetLine.scale.z=Gw.length()}}const ym=new Z,ci=new EA;class c4 extends TA{constructor(e){const t=new Hn,i=new Fu({color:16777215,vertexColors:!0,toneMapped:!1}),r=[],s=[],o={};a("n1","n2"),a("n2","n4"),a("n4","n3"),a("n3","n1"),a("f1","f2"),a("f2","f4"),a("f4","f3"),a("f3","f1"),a("n1","f1"),a("n2","f2"),a("n3","f3"),a("n4","f4"),a("p","n1"),a("p","n2"),a("p","n3"),a("p","n4"),a("u1","u2"),a("u2","u3"),a("u3","u1"),a("c","t"),a("p","c"),a("cn1","cn2"),a("cn3","cn4"),a("cf1","cf2"),a("cf3","cf4");function a(m,g){l(m),l(g)}function l(m){r.push(0,0,0),s.push(0,0,0),o[m]===void 0&&(o[m]=[]),o[m].push(r.length/3-1)}t.setAttribute("position",new en(r,3)),t.setAttribute("color",new en(s,3)),super(t,i),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const c=new ke(16755200),u=new ke(16711680),f=new ke(43775),h=new ke(16777215),p=new ke(3355443);this.setColors(c,u,f,h,p)}setColors(e,t,i,r,s){const a=this.geometry.getAttribute("color");a.setXYZ(0,e.r,e.g,e.b),a.setXYZ(1,e.r,e.g,e.b),a.setXYZ(2,e.r,e.g,e.b),a.setXYZ(3,e.r,e.g,e.b),a.setXYZ(4,e.r,e.g,e.b),a.setXYZ(5,e.r,e.g,e.b),a.setXYZ(6,e.r,e.g,e.b),a.setXYZ(7,e.r,e.g,e.b),a.setXYZ(8,e.r,e.g,e.b),a.setXYZ(9,e.r,e.g,e.b),a.setXYZ(10,e.r,e.g,e.b),a.setXYZ(11,e.r,e.g,e.b),a.setXYZ(12,e.r,e.g,e.b),a.setXYZ(13,e.r,e.g,e.b),a.setXYZ(14,e.r,e.g,e.b),a.setXYZ(15,e.r,e.g,e.b),a.setXYZ(16,e.r,e.g,e.b),a.setXYZ(17,e.r,e.g,e.b),a.setXYZ(18,e.r,e.g,e.b),a.setXYZ(19,e.r,e.g,e.b),a.setXYZ(20,e.r,e.g,e.b),a.setXYZ(21,e.r,e.g,e.b),a.setXYZ(22,e.r,e.g,e.b),a.setXYZ(23,e.r,e.g,e.b),a.setXYZ(24,t.r,t.g,t.b),a.setXYZ(25,t.r,t.g,t.b),a.setXYZ(26,t.r,t.g,t.b),a.setXYZ(27,t.r,t.g,t.b),a.setXYZ(28,t.r,t.g,t.b),a.setXYZ(29,t.r,t.g,t.b),a.setXYZ(30,t.r,t.g,t.b),a.setXYZ(31,t.r,t.g,t.b),a.setXYZ(32,i.r,i.g,i.b),a.setXYZ(33,i.r,i.g,i.b),a.setXYZ(34,i.r,i.g,i.b),a.setXYZ(35,i.r,i.g,i.b),a.setXYZ(36,i.r,i.g,i.b),a.setXYZ(37,i.r,i.g,i.b),a.setXYZ(38,r.r,r.g,r.b),a.setXYZ(39,r.r,r.g,r.b),a.setXYZ(40,s.r,s.g,s.b),a.setXYZ(41,s.r,s.g,s.b),a.setXYZ(42,s.r,s.g,s.b),a.setXYZ(43,s.r,s.g,s.b),a.setXYZ(44,s.r,s.g,s.b),a.setXYZ(45,s.r,s.g,s.b),a.setXYZ(46,s.r,s.g,s.b),a.setXYZ(47,s.r,s.g,s.b),a.setXYZ(48,s.r,s.g,s.b),a.setXYZ(49,s.r,s.g,s.b),a.needsUpdate=!0}update(){const e=this.geometry,t=this.pointMap,i=1,r=1;ci.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse);const s=this.camera.coordinateSystem===Ko?-1:0;vi("c",t,e,ci,0,0,s),vi("t",t,e,ci,0,0,1),vi("n1",t,e,ci,-1,-1,s),vi("n2",t,e,ci,i,-1,s),vi("n3",t,e,ci,-1,r,s),vi("n4",t,e,ci,i,r,s),vi("f1",t,e,ci,-1,-1,1),vi("f2",t,e,ci,i,-1,1),vi("f3",t,e,ci,-1,r,1),vi("f4",t,e,ci,i,r,1),vi("u1",t,e,ci,i*.7,r*1.1,s),vi("u2",t,e,ci,-1*.7,r*1.1,s),vi("u3",t,e,ci,0,r*2,s),vi("cf1",t,e,ci,-1,0,1),vi("cf2",t,e,ci,i,0,1),vi("cf3",t,e,ci,0,-1,1),vi("cf4",t,e,ci,0,r,1),vi("cn1",t,e,ci,-1,0,s),vi("cn2",t,e,ci,i,0,s),vi("cn3",t,e,ci,0,-1,s),vi("cn4",t,e,ci,0,r,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function vi(n,e,t,i,r,s,o){ym.set(r,s,o).unproject(i);const a=e[n];if(a!==void 0){const l=t.getAttribute("position");for(let c=0,u=a.length;c<u;c++)l.setXYZ(a[c],ym.x,ym.y,ym.z)}}class sZ extends TA{constructor(e,t=16776960){const i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),r=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Hn;s.setIndex(new Gi(i,1)),s.setAttribute("position",new en(r,3)),super(s,new Fu({color:t,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const t=this.box;t.isEmpty()||(t.getCenter(this.position),t.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class lD extends ac{constructor(e,t=null){super(),this.object=e,this.domElement=t,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(){}disconnect(){}dispose(){}update(){}}function jw(n,e,t,i){const r=oZ(i);switch(t){case LI:return n*e;case OI:return n*e;case UI:return n*e*2;case zl:return n*e/r.components*r.byteLength;case Xx:return n*e/r.components*r.byteLength;case ou:return n*e*2/r.components*r.byteLength;case Yx:return n*e*2/r.components*r.byteLength;case FI:return n*e*3/r.components*r.byteLength;case hi:return n*e*4/r.components*r.byteLength;case $x:return n*e*4/r.components*r.byteLength;case Ym:case x0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case $m:case C0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case ob:case ab:return Math.max(n,16)*Math.max(e,8)/4;case Bg:case Lg:return Math.max(n,8)*Math.max(e,8)/2;case Fg:case Og:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*8;case Ug:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case Y0:return Math.floor((n+3)/4)*Math.floor((e+3)/4)*16;case lb:return Math.floor((n+4)/5)*Math.floor((e+3)/4)*16;case cb:return Math.floor((n+4)/5)*Math.floor((e+4)/5)*16;case ub:return Math.floor((n+5)/6)*Math.floor((e+4)/5)*16;case $0:return Math.floor((n+5)/6)*Math.floor((e+5)/6)*16;case fb:return Math.floor((n+7)/8)*Math.floor((e+4)/5)*16;case db:return Math.floor((n+7)/8)*Math.floor((e+5)/6)*16;case hb:return Math.floor((n+7)/8)*Math.floor((e+7)/8)*16;case pb:return Math.floor((n+9)/10)*Math.floor((e+4)/5)*16;case mb:return Math.floor((n+9)/10)*Math.floor((e+5)/6)*16;case gb:return Math.floor((n+9)/10)*Math.floor((e+7)/8)*16;case Ab:return Math.floor((n+9)/10)*Math.floor((e+9)/10)*16;case vb:return Math.floor((n+11)/12)*Math.floor((e+9)/10)*16;case yb:return Math.floor((n+11)/12)*Math.floor((e+11)/12)*16;case S0:case _b:case Ng:return Math.ceil(n/4)*Math.ceil(e/4)*16;case NI:case bb:return Math.ceil(n/4)*Math.ceil(e/4)*8;case xb:case Cb:return Math.ceil(n/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${t} format.`)}function oZ(n){switch(n){case Ki:case PI:return{byteLength:1,components:1};case X0:case RI:case nn:return{byteLength:2,components:1};case Wx:case qx:return{byteLength:2,components:4};case Pu:case jx:case Zt:return{byteLength:4,components:1};case BI:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${n}.`)}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:Vx}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=Vx);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function cD(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){e!==!0&&t!==null&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function aZ(n){const e=new WeakMap;function t(a,l){const c=a.array,u=a.usage,f=c.byteLength,h=n.createBuffer();n.bindBuffer(l,h),n.bufferData(l,c,u),a.onUploadCallback();let p;if(c instanceof Float32Array)p=n.FLOAT;else if(c instanceof Uint16Array)a.isFloat16BufferAttribute?p=n.HALF_FLOAT:p=n.UNSIGNED_SHORT;else if(c instanceof Int16Array)p=n.SHORT;else if(c instanceof Uint32Array)p=n.UNSIGNED_INT;else if(c instanceof Int32Array)p=n.INT;else if(c instanceof Int8Array)p=n.BYTE;else if(c instanceof Uint8Array)p=n.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)p=n.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:h,type:p,bytesPerElement:c.BYTES_PER_ELEMENT,version:a.version,size:f}}function i(a,l,c){const u=l.array,f=l.updateRanges;if(n.bindBuffer(c,a),f.length===0)n.bufferSubData(c,0,u);else{f.sort((p,m)=>p.start-m.start);let h=0;for(let p=1;p<f.length;p++){const m=f[h],g=f[p];g.start<=m.start+m.count+1?m.count=Math.max(m.count,g.start+g.count-m.start):(++h,f[h]=g)}f.length=h+1;for(let p=0,m=f.length;p<m;p++){const g=f[p];n.bufferSubData(c,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function r(a){return a.isInterleavedBufferAttribute&&(a=a.data),e.get(a)}function s(a){a.isInterleavedBufferAttribute&&(a=a.data);const l=e.get(a);l&&(n.deleteBuffer(l.buffer),e.delete(a))}function o(a,l){if(a.isInterleavedBufferAttribute&&(a=a.data),a.isGLBufferAttribute){const u=e.get(a);(!u||u.version<a.version)&&e.set(a,{buffer:a.buffer,type:a.type,bytesPerElement:a.elementSize,version:a.version});return}const c=e.get(a);if(c===void 0)e.set(a,t(a,l));else if(c.version<a.version){if(c.size!==a.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");i(c.buffer,a,l),c.version=a.version}}return{get:r,remove:s,update:o}}var lZ=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,cZ=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,uZ=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,fZ=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,dZ=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,hZ=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,pZ=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,mZ=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,gZ=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,AZ=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,vZ=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,yZ=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,_Z=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,bZ=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,xZ=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,CZ=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,SZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,wZ=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,EZ=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,TZ=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,MZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,IZ=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,DZ=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,PZ=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,RZ=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,BZ=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,LZ=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,FZ=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,OZ=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,UZ=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,NZ="gl_FragColor = linearToOutputTexel( gl_FragColor );",kZ=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,zZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,HZ=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,VZ=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,GZ=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,QZ=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,jZ=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,WZ=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,qZ=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,XZ=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,YZ=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$Z=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,KZ=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,ZZ=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,JZ=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,eJ=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,tJ=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,nJ=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,iJ=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,rJ=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,sJ=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,oJ=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,aJ=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lJ=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,cJ=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,uJ=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,fJ=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,dJ=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,hJ=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,pJ=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,mJ=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,gJ=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,AJ=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,vJ=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,yJ=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,_J=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,bJ=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,xJ=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,CJ=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,SJ=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,wJ=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,EJ=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,TJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,MJ=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,IJ=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,DJ=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,PJ=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,RJ=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,BJ=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,LJ=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,FJ=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,OJ=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,UJ=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,NJ=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,kJ=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,zJ=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,HJ=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,VJ=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,GJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,QJ=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,jJ=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,WJ=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,qJ=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,XJ=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,YJ=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$J=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,KJ=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,ZJ=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,JJ=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,eee=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,tee=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,nee=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,iee=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,ree=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,see=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,oee=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const aee=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,lee=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,cee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,uee=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,dee=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,pee=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,mee=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,gee=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,Aee=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,vee=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,yee=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,_ee=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,bee=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,xee=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cee=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,See=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wee=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,Eee=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tee=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,Mee=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Iee=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Dee=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Pee=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Ree=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bee=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Lee=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Fee=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Oee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Uee=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Nee=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,kee=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,zee=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,ut={alphahash_fragment:lZ,alphahash_pars_fragment:cZ,alphamap_fragment:uZ,alphamap_pars_fragment:fZ,alphatest_fragment:dZ,alphatest_pars_fragment:hZ,aomap_fragment:pZ,aomap_pars_fragment:mZ,batching_pars_vertex:gZ,batching_vertex:AZ,begin_vertex:vZ,beginnormal_vertex:yZ,bsdfs:_Z,iridescence_fragment:bZ,bumpmap_pars_fragment:xZ,clipping_planes_fragment:CZ,clipping_planes_pars_fragment:SZ,clipping_planes_pars_vertex:wZ,clipping_planes_vertex:EZ,color_fragment:TZ,color_pars_fragment:MZ,color_pars_vertex:IZ,color_vertex:DZ,common:PZ,cube_uv_reflection_fragment:RZ,defaultnormal_vertex:BZ,displacementmap_pars_vertex:LZ,displacementmap_vertex:FZ,emissivemap_fragment:OZ,emissivemap_pars_fragment:UZ,colorspace_fragment:NZ,colorspace_pars_fragment:kZ,envmap_fragment:zZ,envmap_common_pars_fragment:HZ,envmap_pars_fragment:VZ,envmap_pars_vertex:GZ,envmap_physical_pars_fragment:eJ,envmap_vertex:QZ,fog_vertex:jZ,fog_pars_vertex:WZ,fog_fragment:qZ,fog_pars_fragment:XZ,gradientmap_pars_fragment:YZ,lightmap_pars_fragment:$Z,lights_lambert_fragment:KZ,lights_lambert_pars_fragment:ZZ,lights_pars_begin:JZ,lights_toon_fragment:tJ,lights_toon_pars_fragment:nJ,lights_phong_fragment:iJ,lights_phong_pars_fragment:rJ,lights_physical_fragment:sJ,lights_physical_pars_fragment:oJ,lights_fragment_begin:aJ,lights_fragment_maps:lJ,lights_fragment_end:cJ,logdepthbuf_fragment:uJ,logdepthbuf_pars_fragment:fJ,logdepthbuf_pars_vertex:dJ,logdepthbuf_vertex:hJ,map_fragment:pJ,map_pars_fragment:mJ,map_particle_fragment:gJ,map_particle_pars_fragment:AJ,metalnessmap_fragment:vJ,metalnessmap_pars_fragment:yJ,morphinstance_vertex:_J,morphcolor_vertex:bJ,morphnormal_vertex:xJ,morphtarget_pars_vertex:CJ,morphtarget_vertex:SJ,normal_fragment_begin:wJ,normal_fragment_maps:EJ,normal_pars_fragment:TJ,normal_pars_vertex:MJ,normal_vertex:IJ,normalmap_pars_fragment:DJ,clearcoat_normal_fragment_begin:PJ,clearcoat_normal_fragment_maps:RJ,clearcoat_pars_fragment:BJ,iridescence_pars_fragment:LJ,opaque_fragment:FJ,packing:OJ,premultiplied_alpha_fragment:UJ,project_vertex:NJ,dithering_fragment:kJ,dithering_pars_fragment:zJ,roughnessmap_fragment:HJ,roughnessmap_pars_fragment:VJ,shadowmap_pars_fragment:GJ,shadowmap_pars_vertex:QJ,shadowmap_vertex:jJ,shadowmask_pars_fragment:WJ,skinbase_vertex:qJ,skinning_pars_vertex:XJ,skinning_vertex:YJ,skinnormal_vertex:$J,specularmap_fragment:KJ,specularmap_pars_fragment:ZJ,tonemapping_fragment:JJ,tonemapping_pars_fragment:eee,transmission_fragment:tee,transmission_pars_fragment:nee,uv_pars_fragment:iee,uv_pars_vertex:ree,uv_vertex:see,worldpos_vertex:oee,background_vert:aee,background_frag:lee,backgroundCube_vert:cee,backgroundCube_frag:uee,cube_vert:fee,cube_frag:dee,depth_vert:hee,depth_frag:pee,distanceRGBA_vert:mee,distanceRGBA_frag:gee,equirect_vert:Aee,equirect_frag:vee,linedashed_vert:yee,linedashed_frag:_ee,meshbasic_vert:bee,meshbasic_frag:xee,meshlambert_vert:Cee,meshlambert_frag:See,meshmatcap_vert:wee,meshmatcap_frag:Eee,meshnormal_vert:Tee,meshnormal_frag:Mee,meshphong_vert:Iee,meshphong_frag:Dee,meshphysical_vert:Pee,meshphysical_frag:Ree,meshtoon_vert:Bee,meshtoon_frag:Lee,points_vert:Fee,points_frag:Oee,shadow_vert:Uee,shadow_frag:Nee,sprite_vert:kee,sprite_frag:zee},Ke={common:{diffuse:{value:new ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Lt}},envmap:{envMap:{value:null},envMapRotation:{value:new Lt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Lt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Lt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Lt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Lt},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Lt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Lt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Lt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Lt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0},uvTransform:{value:new Lt}},sprite:{diffuse:{value:new ke(16777215)},opacity:{value:1},center:{value:new De(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Lt},alphaMap:{value:null},alphaMapTransform:{value:new Lt},alphaTest:{value:0}}},us={basic:{uniforms:Vr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.fog]),vertexShader:ut.meshbasic_vert,fragmentShader:ut.meshbasic_frag},lambert:{uniforms:Vr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new ke(0)}}]),vertexShader:ut.meshlambert_vert,fragmentShader:ut.meshlambert_frag},phong:{uniforms:Vr([Ke.common,Ke.specularmap,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,Ke.lights,{emissive:{value:new ke(0)},specular:{value:new ke(1118481)},shininess:{value:30}}]),vertexShader:ut.meshphong_vert,fragmentShader:ut.meshphong_frag},standard:{uniforms:Vr([Ke.common,Ke.envmap,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.roughnessmap,Ke.metalnessmap,Ke.fog,Ke.lights,{emissive:{value:new ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag},toon:{uniforms:Vr([Ke.common,Ke.aomap,Ke.lightmap,Ke.emissivemap,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.gradientmap,Ke.fog,Ke.lights,{emissive:{value:new ke(0)}}]),vertexShader:ut.meshtoon_vert,fragmentShader:ut.meshtoon_frag},matcap:{uniforms:Vr([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,Ke.fog,{matcap:{value:null}}]),vertexShader:ut.meshmatcap_vert,fragmentShader:ut.meshmatcap_frag},points:{uniforms:Vr([Ke.points,Ke.fog]),vertexShader:ut.points_vert,fragmentShader:ut.points_frag},dashed:{uniforms:Vr([Ke.common,Ke.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ut.linedashed_vert,fragmentShader:ut.linedashed_frag},depth:{uniforms:Vr([Ke.common,Ke.displacementmap]),vertexShader:ut.depth_vert,fragmentShader:ut.depth_frag},normal:{uniforms:Vr([Ke.common,Ke.bumpmap,Ke.normalmap,Ke.displacementmap,{opacity:{value:1}}]),vertexShader:ut.meshnormal_vert,fragmentShader:ut.meshnormal_frag},sprite:{uniforms:Vr([Ke.sprite,Ke.fog]),vertexShader:ut.sprite_vert,fragmentShader:ut.sprite_frag},background:{uniforms:{uvTransform:{value:new Lt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ut.background_vert,fragmentShader:ut.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new Lt}},vertexShader:ut.backgroundCube_vert,fragmentShader:ut.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ut.cube_vert,fragmentShader:ut.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ut.equirect_vert,fragmentShader:ut.equirect_frag},distanceRGBA:{uniforms:Vr([Ke.common,Ke.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ut.distanceRGBA_vert,fragmentShader:ut.distanceRGBA_frag},shadow:{uniforms:Vr([Ke.lights,Ke.fog,{color:{value:new ke(0)},opacity:{value:1}}]),vertexShader:ut.shadow_vert,fragmentShader:ut.shadow_frag}};us.physical={uniforms:Vr([us.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Lt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Lt},clearcoatNormalScale:{value:new De(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Lt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Lt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Lt},sheen:{value:0},sheenColor:{value:new ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Lt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Lt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Lt},transmissionSamplerSize:{value:new De},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Lt},attenuationDistance:{value:0},attenuationColor:{value:new ke(0)},specularColor:{value:new ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Lt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Lt},anisotropyVector:{value:new De},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Lt}}]),vertexShader:ut.meshphysical_vert,fragmentShader:ut.meshphysical_frag};const _m={r:0,b:0,g:0},Gc=new Di,Hee=new xt;function Vee(n,e,t,i,r,s,o){const a=new ke(0);let l=s===!0?0:1,c,u,f=null,h=0,p=null;function m(b){let _=b.isScene===!0?b.background:null;return _&&_.isTexture&&(_=(b.backgroundBlurriness>0?t:e).get(_)),_}function g(b){let _=!1;const T=m(b);T===null?y(a,l):T&&T.isColor&&(y(T,1),_=!0);const M=n.xr.getEnvironmentBlendMode();M==="additive"?i.buffers.color.setClear(0,0,0,1,o):M==="alpha-blend"&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||_)&&(i.buffers.depth.setTest(!0),i.buffers.depth.setMask(!0),i.buffers.color.setMask(!0),n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil))}function A(b,_){const T=m(_);T&&(T.isCubeTexture||T.mapping===wA)?(u===void 0&&(u=new Qe(new ui(1,1,1),new Cn({name:"BackgroundCubeMaterial",uniforms:Dd(us.backgroundCube.uniforms),vertexShader:us.backgroundCube.vertexShader,fragmentShader:us.backgroundCube.fragmentShader,side:Pr,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,I,P){this.matrixWorld.copyPosition(P.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(u)),Gc.copy(_.backgroundRotation),Gc.x*=-1,Gc.y*=-1,Gc.z*=-1,T.isCubeTexture&&T.isRenderTargetTexture===!1&&(Gc.y*=-1,Gc.z*=-1),u.material.uniforms.envMap.value=T,u.material.uniforms.flipEnvMap.value=T.isCubeTexture&&T.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(Hee.makeRotationFromEuler(Gc)),u.material.toneMapped=Xt.getTransfer(T.colorSpace)!==yn,(f!==T||h!==T.version||p!==n.toneMapping)&&(u.material.needsUpdate=!0,f=T,h=T.version,p=n.toneMapping),u.layers.enableAll(),b.unshift(u,u.geometry,u.material,0,0,null)):T&&T.isTexture&&(c===void 0&&(c=new Qe(new ao(2,2),new Cn({name:"BackgroundMaterial",uniforms:Dd(us.background.uniforms),vertexShader:us.background.vertexShader,fragmentShader:us.background.fragmentShader,side:Mo,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=T,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.toneMapped=Xt.getTransfer(T.colorSpace)!==yn,T.matrixAutoUpdate===!0&&T.updateMatrix(),c.material.uniforms.uvTransform.value.copy(T.matrix),(f!==T||h!==T.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=T,h=T.version,p=n.toneMapping),c.layers.enableAll(),b.unshift(c,c.geometry,c.material,0,0,null))}function y(b,_){b.getRGB(_m,YI(n)),i.buffers.color.setClear(_m.r,_m.g,_m.b,_,o)}function x(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return a},setClearColor:function(b,_=1){a.set(b),l=_,y(a,l)},getClearAlpha:function(){return l},setClearAlpha:function(b){l=b,y(a,l)},render:g,addToRenderList:A,dispose:x}}function Gee(n,e){const t=n.getParameter(n.MAX_VERTEX_ATTRIBS),i={},r=h(null);let s=r,o=!1;function a(E,O,F,H,z){let X=!1;const U=f(H,F,O);s!==U&&(s=U,c(s.object)),X=p(E,H,F,z),X&&m(E,H,F,z),z!==null&&e.update(z,n.ELEMENT_ARRAY_BUFFER),(X||o)&&(o=!1,_(E,O,F,H),z!==null&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,e.get(z).buffer))}function l(){return n.createVertexArray()}function c(E){return n.bindVertexArray(E)}function u(E){return n.deleteVertexArray(E)}function f(E,O,F){const H=F.wireframe===!0;let z=i[E.id];z===void 0&&(z={},i[E.id]=z);let X=z[O.id];X===void 0&&(X={},z[O.id]=X);let U=X[H];return U===void 0&&(U=h(l()),X[H]=U),U}function h(E){const O=[],F=[],H=[];for(let z=0;z<t;z++)O[z]=0,F[z]=0,H[z]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:O,enabledAttributes:F,attributeDivisors:H,object:E,attributes:{},index:null}}function p(E,O,F,H){const z=s.attributes,X=O.attributes;let U=0;const G=F.getAttributes();for(const j in G)if(G[j].location>=0){const Q=z[j];let ve=X[j];if(ve===void 0&&(j==="instanceMatrix"&&E.instanceMatrix&&(ve=E.instanceMatrix),j==="instanceColor"&&E.instanceColor&&(ve=E.instanceColor)),Q===void 0||Q.attribute!==ve||ve&&Q.data!==ve.data)return!0;U++}return s.attributesNum!==U||s.index!==H}function m(E,O,F,H){const z={},X=O.attributes;let U=0;const G=F.getAttributes();for(const j in G)if(G[j].location>=0){let Q=X[j];Q===void 0&&(j==="instanceMatrix"&&E.instanceMatrix&&(Q=E.instanceMatrix),j==="instanceColor"&&E.instanceColor&&(Q=E.instanceColor));const ve={};ve.attribute=Q,Q&&Q.data&&(ve.data=Q.data),z[j]=ve,U++}s.attributes=z,s.attributesNum=U,s.index=H}function g(){const E=s.newAttributes;for(let O=0,F=E.length;O<F;O++)E[O]=0}function A(E){y(E,0)}function y(E,O){const F=s.newAttributes,H=s.enabledAttributes,z=s.attributeDivisors;F[E]=1,H[E]===0&&(n.enableVertexAttribArray(E),H[E]=1),z[E]!==O&&(n.vertexAttribDivisor(E,O),z[E]=O)}function x(){const E=s.newAttributes,O=s.enabledAttributes;for(let F=0,H=O.length;F<H;F++)O[F]!==E[F]&&(n.disableVertexAttribArray(F),O[F]=0)}function b(E,O,F,H,z,X,U){U===!0?n.vertexAttribIPointer(E,O,F,z,X):n.vertexAttribPointer(E,O,F,H,z,X)}function _(E,O,F,H){g();const z=H.attributes,X=F.getAttributes(),U=O.defaultAttributeValues;for(const G in X){const j=X[G];if(j.location>=0){let Y=z[G];if(Y===void 0&&(G==="instanceMatrix"&&E.instanceMatrix&&(Y=E.instanceMatrix),G==="instanceColor"&&E.instanceColor&&(Y=E.instanceColor)),Y!==void 0){const Q=Y.normalized,ve=Y.itemSize,Pe=e.get(Y);if(Pe===void 0)continue;const He=Pe.buffer,re=Pe.type,he=Pe.bytesPerElement,Oe=re===n.INT||re===n.UNSIGNED_INT||Y.gpuType===jx;if(Y.isInterleavedBufferAttribute){const J=Y.data,ye=J.stride,Se=Y.offset;if(J.isInstancedInterleavedBuffer){for(let be=0;be<j.locationSize;be++)y(j.location+be,J.meshPerAttribute);E.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=J.meshPerAttribute*J.count)}else for(let be=0;be<j.locationSize;be++)A(j.location+be);n.bindBuffer(n.ARRAY_BUFFER,He);for(let be=0;be<j.locationSize;be++)b(j.location+be,ve/j.locationSize,re,Q,ye*he,(Se+ve/j.locationSize*be)*he,Oe)}else{if(Y.isInstancedBufferAttribute){for(let J=0;J<j.locationSize;J++)y(j.location+J,Y.meshPerAttribute);E.isInstancedMesh!==!0&&H._maxInstanceCount===void 0&&(H._maxInstanceCount=Y.meshPerAttribute*Y.count)}else for(let J=0;J<j.locationSize;J++)A(j.location+J);n.bindBuffer(n.ARRAY_BUFFER,He);for(let J=0;J<j.locationSize;J++)b(j.location+J,ve/j.locationSize,re,Q,ve*he,ve/j.locationSize*J*he,Oe)}}else if(U!==void 0){const Q=U[G];if(Q!==void 0)switch(Q.length){case 2:n.vertexAttrib2fv(j.location,Q);break;case 3:n.vertexAttrib3fv(j.location,Q);break;case 4:n.vertexAttrib4fv(j.location,Q);break;default:n.vertexAttrib1fv(j.location,Q)}}}}x()}function T(){P();for(const E in i){const O=i[E];for(const F in O){const H=O[F];for(const z in H)u(H[z].object),delete H[z];delete O[F]}delete i[E]}}function M(E){if(i[E.id]===void 0)return;const O=i[E.id];for(const F in O){const H=O[F];for(const z in H)u(H[z].object),delete H[z];delete O[F]}delete i[E.id]}function I(E){for(const O in i){const F=i[O];if(F[E.id]===void 0)continue;const H=F[E.id];for(const z in H)u(H[z].object),delete H[z];delete F[E.id]}}function P(){w(),o=!0,s!==r&&(s=r,c(s.object))}function w(){r.geometry=null,r.program=null,r.wireframe=!1}return{setup:a,reset:P,resetDefaultState:w,dispose:T,releaseStatesOfGeometry:M,releaseStatesOfProgram:I,initAttributes:g,enableAttribute:A,disableUnusedAttributes:x}}function Qee(n,e,t){let i;function r(c){i=c}function s(c,u){n.drawArrays(i,c,u),t.update(u,i,1)}function o(c,u,f){f!==0&&(n.drawArraysInstanced(i,c,u,f),t.update(u,i,f))}function a(c,u,f){if(f===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(i,c,0,u,0,f);let p=0;for(let m=0;m<f;m++)p+=u[m];t.update(p,i,1)}function l(c,u,f,h){if(f===0)return;const p=e.get("WEBGL_multi_draw");if(p===null)for(let m=0;m<c.length;m++)o(c[m],u[m],h[m]);else{p.multiDrawArraysInstancedWEBGL(i,c,0,u,0,h,0,f);let m=0;for(let g=0;g<f;g++)m+=u[g]*h[g];t.update(m,i,1)}}this.setMode=r,this.render=s,this.renderInstances=o,this.renderMultiDraw=a,this.renderMultiDrawInstances=l}function jee(n,e,t,i){let r;function s(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const I=e.get("EXT_texture_filter_anisotropic");r=n.getParameter(I.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function o(I){return!(I!==hi&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_FORMAT))}function a(I){const P=I===nn&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(I!==Ki&&i.convert(I)!==n.getParameter(n.IMPLEMENTATION_COLOR_READ_TYPE)&&I!==Zt&&!P)}function l(I){if(I==="highp"){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";I="mediump"}return I==="mediump"&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=t.precision!==void 0?t.precision:"highp";const u=l(c);u!==c&&(console.warn("THREE.WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const f=t.logarithmicDepthBuffer===!0,h=t.reverseDepthBuffer===!0&&e.has("EXT_clip_control"),p=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),m=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=n.getParameter(n.MAX_TEXTURE_SIZE),A=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),y=n.getParameter(n.MAX_VERTEX_ATTRIBS),x=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),b=n.getParameter(n.MAX_VARYING_VECTORS),_=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),T=m>0,M=n.getParameter(n.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:a,precision:c,logarithmicDepthBuffer:f,reverseDepthBuffer:h,maxTextures:p,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:A,maxAttributes:y,maxVertexUniforms:x,maxVaryings:b,maxFragmentUniforms:_,vertexTextures:T,maxSamples:M}}function Wee(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new Tl,a=new Lt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=f.length!==0||h||i!==0||r;return r=h,i=f.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){t=u(f,h,0)},this.setState=function(f,h,p){const m=f.clippingPlanes,g=f.clipIntersection,A=f.clipShadows,y=n.get(f);if(!r||m===null||m.length===0||s&&!A)s?u(null):c();else{const x=s?0:i,b=x*4;let _=y.clippingState||null;l.value=_,_=u(m,h,b,p);for(let T=0;T!==b;++T)_[T]=t[T];y.clippingState=_,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=x}};function c(){l.value!==t&&(l.value=t,l.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function u(f,h,p,m){const g=f!==null?f.length:0;let A=null;if(g!==0){if(A=l.value,m!==!0||A===null){const y=p+g*4,x=h.matrixWorldInverse;a.getNormalMatrix(x),(A===null||A.length<y)&&(A=new Float32Array(y));for(let b=0,_=p;b!==g;++b,_+=4)o.copy(f[b]).applyMatrix4(x,a),o.normal.toArray(A,_),A[_+3]=o.constant}l.value=A,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,A}}function qee(n){let e=new WeakMap;function t(o,a){return a===$a?o.mapping=tc:a===sb&&(o.mapping=wd),o}function i(o){if(o&&o.isTexture){const a=o.mapping;if(a===$a||a===sb)if(e.has(o)){const l=e.get(o).texture;return t(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const c=new Hg(l.height);return c.fromEquirectangularTexture(n,o),e.set(o,c),o.addEventListener("dispose",r),t(c.texture,o.mapping)}else return null}}return o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const l=e.get(a);l!==void 0&&(e.delete(a),l.dispose())}function s(){e=new WeakMap}return{get:i,dispose:s}}const zf=4,Ww=[.125,.215,.35,.446,.526,.582],nu=20,P3=new Ou,qw=new ke;let R3=null,B3=0,L3=0,F3=!1;const Zc=(1+Math.sqrt(5))/2,bf=1/Zc,Xw=[new Z(-Zc,bf,0),new Z(Zc,bf,0),new Z(-bf,0,Zc),new Z(bf,0,Zc),new Z(0,Zc,-bf),new Z(0,Zc,bf),new Z(-1,1,-1),new Z(1,1,-1),new Z(-1,1,1),new Z(1,1,1)];class Mb{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){R3=this._renderer.getRenderTarget(),B3=this._renderer.getActiveCubeFace(),L3=this._renderer.getActiveMipmapLevel(),F3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Kw(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=$w(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(R3,B3,L3),this._renderer.xr.enabled=F3,e.scissorTest=!1,bm(e,0,0,e.width,e.height)}_fromTexture(e,t){e.mapping===tc||e.mapping===wd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),R3=this._renderer.getRenderTarget(),B3=this._renderer.getActiveCubeFace(),L3=this._renderer.getActiveMipmapLevel(),F3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Yt,minFilter:Yt,generateMipmaps:!1,type:nn,format:hi,colorSpace:pi,depthBuffer:!1},r=Yw(e,t,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Yw(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Xee(s)),this._blurMaterial=Yee(s,e,t)}return r}_compileMaterial(e){const t=new Qe(this._lodPlanes[0],e);this._renderer.compile(t,P3)}_sceneToCubeUV(e,t,i,r){const a=new Zi(90,1,t,i),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,h=u.toneMapping;u.getClearColor(qw),u.toneMapping=Yl,u.autoClear=!1;const p=new Jr({name:"PMREM.Background",side:Pr,depthWrite:!1,depthTest:!1}),m=new Qe(new ui,p);let g=!1;const A=e.background;A?A.isColor&&(p.color.copy(A),e.background=null,g=!0):(p.color.copy(qw),g=!0);for(let y=0;y<6;y++){const x=y%3;x===0?(a.up.set(0,l[y],0),a.lookAt(c[y],0,0)):x===1?(a.up.set(0,0,l[y]),a.lookAt(0,c[y],0)):(a.up.set(0,l[y],0),a.lookAt(0,0,c[y]));const b=this._cubeSize;bm(r,x*b,y>2?b:0,b,b),u.setRenderTarget(r),g&&u.render(m,a),u.render(e,a)}m.geometry.dispose(),m.material.dispose(),u.toneMapping=h,u.autoClear=f,e.background=A}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===tc||e.mapping===wd;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=Kw()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=$w());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new Qe(this._lodPlanes[0],s),a=s.uniforms;a.envMap.value=e;const l=this._cubeSize;bm(t,0,0,3*l,2*l),i.setRenderTarget(t),i.render(o,P3)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;const r=this._lodPlanes.length;for(let s=1;s<r;s++){const o=Math.sqrt(this._sigmas[s]*this._sigmas[s]-this._sigmas[s-1]*this._sigmas[s-1]),a=Xw[(r-s-1)%Xw.length];this._blur(e,s-1,s,o,a)}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const l=this._renderer,c=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new Qe(this._lodPlanes[r],c),h=c.uniforms,p=this._sizeLods[i]-1,m=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*nu-1),g=s/m,A=isFinite(s)?1+Math.floor(u*g):nu;A>nu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${A} samples when the maximum is set to ${nu}`);const y=[];let x=0;for(let I=0;I<nu;++I){const P=I/g,w=Math.exp(-P*P/2);y.push(w),I===0?x+=w:I<A&&(x+=2*w)}for(let I=0;I<y.length;I++)y[I]=y[I]/x;h.envMap.value=e.texture,h.samples.value=A,h.weights.value=y,h.latitudinal.value=o==="latitudinal",a&&(h.poleAxis.value=a);const{_lodMax:b}=this;h.dTheta.value=m,h.mipInt.value=b-i;const _=this._sizeLods[r],T=3*_*(r>b-zf?r-b+zf:0),M=4*(this._cubeSize-_);bm(t,T,M,3*_,2*_),l.setRenderTarget(t),l.render(f,P3)}}function Xee(n){const e=[],t=[],i=[];let r=n;const s=n-zf+1+Ww.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let l=1/a;o>n-zf?l=Ww[o-n+zf-1]:o===0&&(l=0),i.push(l);const c=1/(a-2),u=-c,f=1+c,h=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,m=6,g=3,A=2,y=1,x=new Float32Array(g*m*p),b=new Float32Array(A*m*p),_=new Float32Array(y*m*p);for(let M=0;M<p;M++){const I=M%3*2/3-1,P=M>2?0:-1,w=[I,P,0,I+2/3,P,0,I+2/3,P+1,0,I,P,0,I+2/3,P+1,0,I,P+1,0];x.set(w,g*m*M),b.set(h,A*m*M);const E=[M,M,M,M,M,M];_.set(E,y*m*M)}const T=new Hn;T.setAttribute("position",new Gi(x,g)),T.setAttribute("uv",new Gi(b,A)),T.setAttribute("faceIndex",new Gi(_,y)),e.push(T),r>zf&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}function Yw(n,e,t){const i=new ai(n,e,t);return i.texture.mapping=wA,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function bm(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function Yee(n,e,t){const i=new Float32Array(nu),r=new Z(0,1,0);return new Cn({name:"SphericalGaussianBlur",defines:{n:nu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:u4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function $w(){return new Cn({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:u4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function Kw(){return new Cn({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:u4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Co,depthTest:!1,depthWrite:!1})}function u4(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function $ee(n){let e=new WeakMap,t=null;function i(a){if(a&&a.isTexture){const l=a.mapping,c=l===$a||l===sb,u=l===tc||l===wd;if(c||u){let f=e.get(a);const h=f!==void 0?f.texture.pmremVersion:0;if(a.isRenderTargetTexture&&a.pmremVersion!==h)return t===null&&(t=new Mb(n)),f=c?t.fromEquirectangular(a,f):t.fromCubemap(a,f),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),f.texture;if(f!==void 0)return f.texture;{const p=a.image;return c&&p&&p.height>0||u&&p&&r(p)?(t===null&&(t=new Mb(n)),f=c?t.fromEquirectangular(a):t.fromCubemap(a),f.texture.pmremVersion=a.pmremVersion,e.set(a,f),a.addEventListener("dispose",s),f.texture):null}}}return a}function r(a){let l=0;const c=6;for(let u=0;u<c;u++)a[u]!==void 0&&l++;return l===c}function s(a){const l=a.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function o(){e=new WeakMap,t!==null&&(t.dispose(),t=null)}return{get:i,dispose:o}}function Kee(n){const e={};function t(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return t(i)!==null},init:function(){t("EXT_color_buffer_float"),t("WEBGL_clip_cull_distance"),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture"),t("WEBGL_render_shared_exponent")},get:function(i){const r=t(i);return r===null&&Tf("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function Zee(n,e,t,i){const r={},s=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const m in h.attributes)e.remove(h.attributes[m]);h.removeEventListener("dispose",o),delete r[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),i.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,t.memory.geometries--}function a(f,h){return r[h.id]===!0||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h}function l(f){const h=f.attributes;for(const p in h)e.update(h[p],n.ARRAY_BUFFER)}function c(f){const h=[],p=f.index,m=f.attributes.position;let g=0;if(p!==null){const x=p.array;g=p.version;for(let b=0,_=x.length;b<_;b+=3){const T=x[b+0],M=x[b+1],I=x[b+2];h.push(T,M,M,I,I,T)}}else if(m!==void 0){const x=m.array;g=m.version;for(let b=0,_=x.length/3-1;b<_;b+=3){const T=b+0,M=b+1,I=b+2;h.push(T,M,M,I,I,T)}}else return;const A=new(VI(h)?XI:qI)(h,1);A.version=g;const y=s.get(f);y&&e.remove(y),s.set(f,A)}function u(f){const h=s.get(f);if(h){const p=f.index;p!==null&&h.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:a,update:l,getWireframeAttribute:u}}function Jee(n,e,t){let i;function r(h){i=h}let s,o;function a(h){s=h.type,o=h.bytesPerElement}function l(h,p){n.drawElements(i,p,s,h*o),t.update(p,i,1)}function c(h,p,m){m!==0&&(n.drawElementsInstanced(i,p,s,h*o,m),t.update(p,i,m))}function u(h,p,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(i,p,0,s,h,0,m);let A=0;for(let y=0;y<m;y++)A+=p[y];t.update(A,i,1)}function f(h,p,m,g){if(m===0)return;const A=e.get("WEBGL_multi_draw");if(A===null)for(let y=0;y<h.length;y++)c(h[y]/o,p[y],g[y]);else{A.multiDrawElementsInstancedWEBGL(i,p,0,s,h,0,g,0,m);let y=0;for(let x=0;x<m;x++)y+=p[x]*g[x];t.update(y,i,1)}}this.setMode=r,this.setIndex=a,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=f}function ete(n){const e={geometries:0,textures:0},t={frame:0,calls:0,triangles:0,points:0,lines:0};function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0}return{memory:e,render:t,programs:null,autoReset:!0,reset:r,update:i}}function tte(n,e,t){const i=new WeakMap,r=new Vt;function s(o,a,l){const c=o.morphTargetInfluences,u=a.morphAttributes.position||a.morphAttributes.normal||a.morphAttributes.color,f=u!==void 0?u.length:0;let h=i.get(a);if(h===void 0||h.count!==f){let w=function(){I.dispose(),i.delete(a),a.removeEventListener("dispose",w)};h!==void 0&&h.texture.dispose();const p=a.morphAttributes.position!==void 0,m=a.morphAttributes.normal!==void 0,g=a.morphAttributes.color!==void 0,A=a.morphAttributes.position||[],y=a.morphAttributes.normal||[],x=a.morphAttributes.color||[];let b=0;p===!0&&(b=1),m===!0&&(b=2),g===!0&&(b=3);let _=a.attributes.position.count*b,T=1;_>e.maxTextureSize&&(T=Math.ceil(_/e.maxTextureSize),_=e.maxTextureSize);const M=new Float32Array(_*T*4*f),I=new QI(M,_,T,f);I.type=Zt,I.needsUpdate=!0;const P=b*4;for(let E=0;E<f;E++){const O=A[E],F=y[E],H=x[E],z=_*T*4*E;for(let X=0;X<O.count;X++){const U=X*P;p===!0&&(r.fromBufferAttribute(O,X),M[z+U+0]=r.x,M[z+U+1]=r.y,M[z+U+2]=r.z,M[z+U+3]=0),m===!0&&(r.fromBufferAttribute(F,X),M[z+U+4]=r.x,M[z+U+5]=r.y,M[z+U+6]=r.z,M[z+U+7]=0),g===!0&&(r.fromBufferAttribute(H,X),M[z+U+8]=r.x,M[z+U+9]=r.y,M[z+U+10]=r.z,M[z+U+11]=H.itemSize===4?r.w:1)}}h={count:f,texture:I,size:new De(_,T)},i.set(a,h),a.addEventListener("dispose",w)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(n,"morphTexture",o.morphTexture,t);else{let p=0;for(let g=0;g<c.length;g++)p+=c[g];const m=a.morphTargetsRelative?1:1-p;l.getUniforms().setValue(n,"morphTargetBaseInfluence",m),l.getUniforms().setValue(n,"morphTargetInfluences",c)}l.getUniforms().setValue(n,"morphTargetsTexture",h.texture,t),l.getUniforms().setValue(n,"morphTargetsTextureSize",h.size)}return{update:s}}function nte(n,e,t,i){let r=new WeakMap;function s(l){const c=i.render.frame,u=l.geometry,f=e.get(l,u);if(r.get(f)!==c&&(e.update(f),r.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",a)===!1&&l.addEventListener("dispose",a),r.get(l)!==c&&(t.update(l.instanceMatrix,n.ARRAY_BUFFER),l.instanceColor!==null&&t.update(l.instanceColor,n.ARRAY_BUFFER),r.set(l,c))),l.isSkinnedMesh){const h=l.skeleton;r.get(h)!==c&&(h.update(),r.set(h,c))}return f}function o(){r=new WeakMap}function a(l){const c=l.target;c.removeEventListener("dispose",a),t.remove(c.instanceMatrix),c.instanceColor!==null&&t.remove(c.instanceColor)}return{update:s,dispose:o}}const uD=new xn,Zw=new tD(1,1),fD=new QI,dD=new jI,hD=new ep,Jw=[],e8=[],t8=new Float32Array(16),n8=new Float32Array(9),i8=new Float32Array(4);function jd(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=Jw[r];if(s===void 0&&(s=new Float32Array(r),Jw[r]=s),e!==0){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Qi(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function ji(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function DA(n,e){let t=e8[e];t===void 0&&(t=new Int32Array(e),e8[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function ite(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function rte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qi(t,e))return;n.uniform2fv(this.addr,e),ji(t,e)}}function ste(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(e.r!==void 0)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Qi(t,e))return;n.uniform3fv(this.addr,e),ji(t,e)}}function ote(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qi(t,e))return;n.uniform4fv(this.addr,e),ji(t,e)}}function ate(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qi(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),ji(t,e)}else{if(Qi(t,i))return;i8.set(i),n.uniformMatrix2fv(this.addr,!1,i8),ji(t,i)}}function lte(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qi(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),ji(t,e)}else{if(Qi(t,i))return;n8.set(i),n.uniformMatrix3fv(this.addr,!1,n8),ji(t,i)}}function cte(n,e){const t=this.cache,i=e.elements;if(i===void 0){if(Qi(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),ji(t,e)}else{if(Qi(t,i))return;t8.set(i),n.uniformMatrix4fv(this.addr,!1,t8),ji(t,i)}}function ute(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function fte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qi(t,e))return;n.uniform2iv(this.addr,e),ji(t,e)}}function dte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Qi(t,e))return;n.uniform3iv(this.addr,e),ji(t,e)}}function hte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qi(t,e))return;n.uniform4iv(this.addr,e),ji(t,e)}}function pte(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function mte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Qi(t,e))return;n.uniform2uiv(this.addr,e),ji(t,e)}}function gte(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Qi(t,e))return;n.uniform3uiv(this.addr,e),ji(t,e)}}function Ate(n,e){const t=this.cache;if(e.x!==void 0)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Qi(t,e))return;n.uniform4uiv(this.addr,e),ji(t,e)}}function vte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r);let s;this.type===n.SAMPLER_2D_SHADOW?(Zw.compareFunction=HI,s=Zw):s=uD,t.setTexture2D(e||s,r)}function yte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||dD,r)}function _te(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||hD,r)}function bte(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||fD,r)}function xte(n){switch(n){case 5126:return ite;case 35664:return rte;case 35665:return ste;case 35666:return ote;case 35674:return ate;case 35675:return lte;case 35676:return cte;case 5124:case 35670:return ute;case 35667:case 35671:return fte;case 35668:case 35672:return dte;case 35669:case 35673:return hte;case 5125:return pte;case 36294:return mte;case 36295:return gte;case 36296:return Ate;case 35678:case 36198:case 36298:case 36306:case 35682:return vte;case 35679:case 36299:case 36307:return yte;case 35680:case 36300:case 36308:case 36293:return _te;case 36289:case 36303:case 36311:case 36292:return bte}}function Cte(n,e){n.uniform1fv(this.addr,e)}function Ste(n,e){const t=jd(e,this.size,2);n.uniform2fv(this.addr,t)}function wte(n,e){const t=jd(e,this.size,3);n.uniform3fv(this.addr,t)}function Ete(n,e){const t=jd(e,this.size,4);n.uniform4fv(this.addr,t)}function Tte(n,e){const t=jd(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function Mte(n,e){const t=jd(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Ite(n,e){const t=jd(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Dte(n,e){n.uniform1iv(this.addr,e)}function Pte(n,e){n.uniform2iv(this.addr,e)}function Rte(n,e){n.uniform3iv(this.addr,e)}function Bte(n,e){n.uniform4iv(this.addr,e)}function Lte(n,e){n.uniform1uiv(this.addr,e)}function Fte(n,e){n.uniform2uiv(this.addr,e)}function Ote(n,e){n.uniform3uiv(this.addr,e)}function Ute(n,e){n.uniform4uiv(this.addr,e)}function Nte(n,e,t){const i=this.cache,r=e.length,s=DA(t,r);Qi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||uD,s[o])}function kte(n,e,t){const i=this.cache,r=e.length,s=DA(t,r);Qi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||dD,s[o])}function zte(n,e,t){const i=this.cache,r=e.length,s=DA(t,r);Qi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||hD,s[o])}function Hte(n,e,t){const i=this.cache,r=e.length,s=DA(t,r);Qi(i,s)||(n.uniform1iv(this.addr,s),ji(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||fD,s[o])}function Vte(n){switch(n){case 5126:return Cte;case 35664:return Ste;case 35665:return wte;case 35666:return Ete;case 35674:return Tte;case 35675:return Mte;case 35676:return Ite;case 5124:case 35670:return Dte;case 35667:case 35671:return Pte;case 35668:case 35672:return Rte;case 35669:case 35673:return Bte;case 5125:return Lte;case 36294:return Fte;case 36295:return Ote;case 36296:return Ute;case 35678:case 36198:case 36298:case 36306:case 35682:return Nte;case 35679:case 36299:case 36307:return kte;case 35680:case 36300:case 36308:case 36293:return zte;case 36289:case 36303:case 36311:case 36292:return Hte}}class Gte{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.setValue=xte(t.type)}}class Qte{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.type=t.type,this.size=t.size,this.setValue=Vte(t.type)}}class jte{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const O3=/(\w+)(\])?(\[|\.)?/g;function r8(n,e){n.seq.push(e),n.map[e.id]=e}function Wte(n,e,t){const i=n.name,r=i.length;for(O3.lastIndex=0;;){const s=O3.exec(i),o=O3.lastIndex;let a=s[1];const l=s[2]==="]",c=s[3];if(l&&(a=a|0),c===void 0||c==="["&&o+2===r){r8(t,c===void 0?new Gte(a,n,e):new Qte(a,n,e));break}else{let f=t.map[a];f===void 0&&(f=new jte(a),r8(t,f)),t=f}}}class Km{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r),o=e.getUniformLocation(t,s.name);Wte(s,o,this)}}setValue(e,t,i,r){const s=this.map[t];s!==void 0&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],l=i[a.id];l.needsUpdate!==!1&&a.setValue(e,l.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function s8(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const qte=37297;let Xte=0;function Yte(n,e){const t=n.split(`
`),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join(`
`)}const o8=new Lt;function $te(n){Xt._getMatrix(o8,Xt.workingColorSpace,n);const e=`mat3( ${o8.elements.map(t=>t.toFixed(4))} )`;switch(Xt.getTransfer(n)){case kg:return[e,"LinearTransferOETF"];case yn:return[e,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space: ",n),[e,"LinearTransferOETF"]}}function a8(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&r==="")return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+`

`+r+`

`+Yte(n.getShaderSource(e),o)}else return r}function Kte(n,e){const t=$te(e);return[`vec4 ${n}( vec4 value ) {`,`	return ${t[1]}( vec4( value.rgb * ${t[0]}, value.a ) );`,"}"].join(`
`)}function Zte(n,e){let t;switch(e){case CI:t="Linear";break;case SI:t="Reinhard";break;case wI:t="Cineon";break;case EI:t="ACESFilmic";break;case MI:t="AgX";break;case II:t="Neutral";break;case TI:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}const xm=new Z;function Jte(){Xt.getLuminanceCoefficients(xm);const n=xm.x.toFixed(4),e=xm.y.toFixed(4),t=xm.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${n}, ${e}, ${t} );`,"	return dot( weights, rgb );","}"].join(`
`)}function ene(n){return[n.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",n.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(Yh).join(`
`)}function tne(n){const e=[];for(const t in n){const i=n[t];i!==!1&&e.push("#define "+t+" "+i)}return e.join(`
`)}function nne(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}function Yh(n){return n!==""}function l8(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function c8(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const ine=/^[ \t]*#include +<([\w\d./]+)>/gm;function Ib(n){return n.replace(ine,sne)}const rne=new Map;function sne(n,e){let t=ut[e];if(t===void 0){const i=rne.get(e);if(i!==void 0)t=ut[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i);else throw new Error("Can not resolve #include <"+e+">")}return Ib(t)}const one=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function u8(n){return n.replace(one,ane)}function ane(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function f8(n){let e=`precision ${n.precision} float;
	precision ${n.precision} int;
	precision ${n.precision} sampler2D;
	precision ${n.precision} samplerCube;
	precision ${n.precision} sampler3D;
	precision ${n.precision} sampler2DArray;
	precision ${n.precision} sampler2DShadow;
	precision ${n.precision} samplerCubeShadow;
	precision ${n.precision} sampler2DArrayShadow;
	precision ${n.precision} isampler2D;
	precision ${n.precision} isampler3D;
	precision ${n.precision} isamplerCube;
	precision ${n.precision} isampler2DArray;
	precision ${n.precision} usampler2D;
	precision ${n.precision} usampler3D;
	precision ${n.precision} usamplerCube;
	precision ${n.precision} usampler2DArray;
	`;return n.precision==="highp"?e+=`
#define HIGH_PRECISION`:n.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:n.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function lne(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===_I?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===QY?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===zo&&(e="SHADOWMAP_TYPE_VSM"),e}function cne(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case tc:case wd:e="ENVMAP_TYPE_CUBE";break;case wA:e="ENVMAP_TYPE_CUBE_UV";break}return e}function une(n){let e="ENVMAP_MODE_REFLECTION";if(n.envMap)switch(n.envMapMode){case wd:e="ENVMAP_MODE_REFRACTION";break}return e}function fne(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case xI:e="ENVMAP_BLENDING_MULTIPLY";break;case l$:e="ENVMAP_BLENDING_MIX";break;case c$:e="ENVMAP_BLENDING_ADD";break}return e}function dne(n){const e=n.envMapCubeUVHeight;if(e===null)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),7*16)),texelHeight:i,maxMip:t}}function hne(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const l=lne(t),c=cne(t),u=une(t),f=fne(t),h=dne(t),p=ene(t),m=tne(s),g=r.createProgram();let A,y,x=t.glslVersion?"#version "+t.glslVersion+`
`:"";t.isRawShaderMaterial?(A=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(Yh).join(`
`),A.length>0&&(A+=`
`),y=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m].filter(Yh).join(`
`),y.length>0&&(y+=`
`)):(A=[f8(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",t.batching?"#define USE_BATCHING":"",t.batchingColor?"#define USE_BATCHING_COLOR":"",t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.instancingMorph?"#define USE_INSTANCING_MORPH":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+u:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&t.flatShading===!1?"#define USE_MORPHNORMALS":"",t.morphColors?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Yh).join(`
`),y=[f8(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,m,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.envMap?"#define "+u:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.dispersion?"#define USE_DISPERSION":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&t.flatShading===!1?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor||t.batchingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+l:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.reverseDepthBuffer?"#define USE_REVERSEDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Yl?"#define TONE_MAPPING":"",t.toneMapping!==Yl?ut.tonemapping_pars_fragment:"",t.toneMapping!==Yl?Zte("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",ut.colorspace_pars_fragment,Kte("linearToOutputTexel",t.outputColorSpace),Jte(),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"",`
`].filter(Yh).join(`
`)),o=Ib(o),o=l8(o,t),o=c8(o,t),a=Ib(a),a=l8(a,t),a=c8(a,t),o=u8(o),a=u8(a),t.isRawShaderMaterial!==!0&&(x=`#version 300 es
`,A=[p,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+A,y=["#define varying in",t.glslVersion===KS?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===KS?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const b=x+A+o,_=x+y+a,T=s8(r,r.VERTEX_SHADER,b),M=s8(r,r.FRAGMENT_SHADER,_);r.attachShader(g,T),r.attachShader(g,M),t.index0AttributeName!==void 0?r.bindAttribLocation(g,0,t.index0AttributeName):t.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g);function I(O){if(n.debug.checkShaderErrors){const F=r.getProgramInfoLog(g).trim(),H=r.getShaderInfoLog(T).trim(),z=r.getShaderInfoLog(M).trim();let X=!0,U=!0;if(r.getProgramParameter(g,r.LINK_STATUS)===!1)if(X=!1,typeof n.debug.onShaderError=="function")n.debug.onShaderError(r,g,T,M);else{const G=a8(r,T,"vertex"),j=a8(r,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+`

Material Name: `+O.name+`
Material Type: `+O.type+`

Program Info Log: `+F+`
`+G+`
`+j)}else F!==""?console.warn("THREE.WebGLProgram: Program Info Log:",F):(H===""||z==="")&&(U=!1);U&&(O.diagnostics={runnable:X,programLog:F,vertexShader:{log:H,prefix:A},fragmentShader:{log:z,prefix:y}})}r.deleteShader(T),r.deleteShader(M),P=new Km(r,g),w=nne(r,g)}let P;this.getUniforms=function(){return P===void 0&&I(this),P};let w;this.getAttributes=function(){return w===void 0&&I(this),w};let E=t.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return E===!1&&(E=r.getProgramParameter(g,qte)),E},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=Xte++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=T,this.fragmentShader=M,this}let pne=0;class mne{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const t=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(t),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return o.has(r)===!1&&(o.add(r),r.usedTimes++),o.has(s)===!1&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return i===void 0&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return i===void 0&&(i=new gne(e),t.set(e,i)),i}}class gne{constructor(e){this.id=pne++,this.code=e,this.usedTimes=0}}function Ane(n,e,t,i,r,s,o){const a=new Jx,l=new mne,c=new Set,u=[],f=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(w){return c.add(w),w===0?"uv":`uv${w}`}function A(w,E,O,F,H){const z=F.fog,X=H.geometry,U=w.isMeshStandardMaterial?F.environment:null,G=(w.isMeshStandardMaterial?t:e).get(w.envMap||U),j=G&&G.mapping===wA?G.image.height:null,Y=m[w.type];w.precision!==null&&(p=r.getMaxPrecision(w.precision),p!==w.precision&&console.warn("THREE.WebGLProgram.getParameters:",w.precision,"not supported, using",p,"instead."));const Q=X.morphAttributes.position||X.morphAttributes.normal||X.morphAttributes.color,ve=Q!==void 0?Q.length:0;let Pe=0;X.morphAttributes.position!==void 0&&(Pe=1),X.morphAttributes.normal!==void 0&&(Pe=2),X.morphAttributes.color!==void 0&&(Pe=3);let He,re,he,Oe;if(Y){const $e=us[Y];He=$e.vertexShader,re=$e.fragmentShader}else He=w.vertexShader,re=w.fragmentShader,l.update(w),he=l.getVertexShaderID(w),Oe=l.getFragmentShaderID(w);const J=n.getRenderTarget(),ye=n.state.buffers.depth.getReversed(),Se=H.isInstancedMesh===!0,be=H.isBatchedMesh===!0,qe=!!w.map,rt=!!w.matcap,W=!!G,R=!!w.aoMap,le=!!w.lightMap,_e=!!w.bumpMap,K=!!w.normalMap,de=!!w.displacementMap,Be=!!w.emissiveMap,xe=!!w.metalnessMap,k=!!w.roughnessMap,B=w.anisotropy>0,ne=w.clearcoat>0,se=w.dispersion>0,ce=w.iridescence>0,fe=w.sheen>0,Ie=w.transmission>0,Le=B&&!!w.anisotropyMap,Fe=ne&&!!w.clearcoatMap,dt=ne&&!!w.clearcoatNormalMap,Re=ne&&!!w.clearcoatRoughnessMap,ze=ce&&!!w.iridescenceMap,Xe=ce&&!!w.iridescenceThicknessMap,st=fe&&!!w.sheenColorMap,et=fe&&!!w.sheenRoughnessMap,mt=!!w.specularMap,lt=!!w.specularColorMap,Pt=!!w.specularIntensityMap,te=Ie&&!!w.transmissionMap,je=Ie&&!!w.thicknessMap,Ce=!!w.gradientMap,Me=!!w.alphaMap,We=w.alphaTest>0,Ye=!!w.alphaHash,_t=!!w.extensions;let Wt=Yl;w.toneMapped&&(J===null||J.isXRRenderTarget===!0)&&(Wt=n.toneMapping);const Rn={shaderID:Y,shaderType:w.type,shaderName:w.name,vertexShader:He,fragmentShader:re,defines:w.defines,customVertexShaderID:he,customFragmentShaderID:Oe,isRawShaderMaterial:w.isRawShaderMaterial===!0,glslVersion:w.glslVersion,precision:p,batching:be,batchingColor:be&&H._colorsTexture!==null,instancing:Se,instancingColor:Se&&H.instanceColor!==null,instancingMorph:Se&&H.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:J===null?n.outputColorSpace:J.isXRRenderTarget===!0?J.texture.colorSpace:pi,alphaToCoverage:!!w.alphaToCoverage,map:qe,matcap:rt,envMap:W,envMapMode:W&&G.mapping,envMapCubeUVHeight:j,aoMap:R,lightMap:le,bumpMap:_e,normalMap:K,displacementMap:h&&de,emissiveMap:Be,normalMapObjectSpace:K&&w.normalMapType===p$,normalMapTangentSpace:K&&w.normalMapType===zI,metalnessMap:xe,roughnessMap:k,anisotropy:B,anisotropyMap:Le,clearcoat:ne,clearcoatMap:Fe,clearcoatNormalMap:dt,clearcoatRoughnessMap:Re,dispersion:se,iridescence:ce,iridescenceMap:ze,iridescenceThicknessMap:Xe,sheen:fe,sheenColorMap:st,sheenRoughnessMap:et,specularMap:mt,specularColorMap:lt,specularIntensityMap:Pt,transmission:Ie,transmissionMap:te,thicknessMap:je,gradientMap:Ce,opaque:w.transparent===!1&&w.blending===bu&&w.alphaToCoverage===!1,alphaMap:Me,alphaTest:We,alphaHash:Ye,combine:w.combine,mapUv:qe&&g(w.map.channel),aoMapUv:R&&g(w.aoMap.channel),lightMapUv:le&&g(w.lightMap.channel),bumpMapUv:_e&&g(w.bumpMap.channel),normalMapUv:K&&g(w.normalMap.channel),displacementMapUv:de&&g(w.displacementMap.channel),emissiveMapUv:Be&&g(w.emissiveMap.channel),metalnessMapUv:xe&&g(w.metalnessMap.channel),roughnessMapUv:k&&g(w.roughnessMap.channel),anisotropyMapUv:Le&&g(w.anisotropyMap.channel),clearcoatMapUv:Fe&&g(w.clearcoatMap.channel),clearcoatNormalMapUv:dt&&g(w.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&g(w.clearcoatRoughnessMap.channel),iridescenceMapUv:ze&&g(w.iridescenceMap.channel),iridescenceThicknessMapUv:Xe&&g(w.iridescenceThicknessMap.channel),sheenColorMapUv:st&&g(w.sheenColorMap.channel),sheenRoughnessMapUv:et&&g(w.sheenRoughnessMap.channel),specularMapUv:mt&&g(w.specularMap.channel),specularColorMapUv:lt&&g(w.specularColorMap.channel),specularIntensityMapUv:Pt&&g(w.specularIntensityMap.channel),transmissionMapUv:te&&g(w.transmissionMap.channel),thicknessMapUv:je&&g(w.thicknessMap.channel),alphaMapUv:Me&&g(w.alphaMap.channel),vertexTangents:!!X.attributes.tangent&&(K||B),vertexColors:w.vertexColors,vertexAlphas:w.vertexColors===!0&&!!X.attributes.color&&X.attributes.color.itemSize===4,pointsUvs:H.isPoints===!0&&!!X.attributes.uv&&(qe||Me),fog:!!z,useFog:w.fog===!0,fogExp2:!!z&&z.isFogExp2,flatShading:w.flatShading===!0,sizeAttenuation:w.sizeAttenuation===!0,logarithmicDepthBuffer:f,reverseDepthBuffer:ye,skinning:H.isSkinnedMesh===!0,morphTargets:X.morphAttributes.position!==void 0,morphNormals:X.morphAttributes.normal!==void 0,morphColors:X.morphAttributes.color!==void 0,morphTargetsCount:ve,morphTextureStride:Pe,numDirLights:E.directional.length,numPointLights:E.point.length,numSpotLights:E.spot.length,numSpotLightMaps:E.spotLightMap.length,numRectAreaLights:E.rectArea.length,numHemiLights:E.hemi.length,numDirLightShadows:E.directionalShadowMap.length,numPointLightShadows:E.pointShadowMap.length,numSpotLightShadows:E.spotShadowMap.length,numSpotLightShadowsWithMaps:E.numSpotLightShadowsWithMaps,numLightProbes:E.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:w.dithering,shadowMapEnabled:n.shadowMap.enabled&&O.length>0,shadowMapType:n.shadowMap.type,toneMapping:Wt,decodeVideoTexture:qe&&w.map.isVideoTexture===!0&&Xt.getTransfer(w.map.colorSpace)===yn,decodeVideoTextureEmissive:Be&&w.emissiveMap.isVideoTexture===!0&&Xt.getTransfer(w.emissiveMap.colorSpace)===yn,premultipliedAlpha:w.premultipliedAlpha,doubleSided:w.side===Ks,flipSided:w.side===Pr,useDepthPacking:w.depthPacking>=0,depthPacking:w.depthPacking||0,index0AttributeName:w.index0AttributeName,extensionClipCullDistance:_t&&w.extensions.clipCullDistance===!0&&i.has("WEBGL_clip_cull_distance"),extensionMultiDraw:(_t&&w.extensions.multiDraw===!0||be)&&i.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:w.customProgramCacheKey()};return Rn.vertexUv1s=c.has(1),Rn.vertexUv2s=c.has(2),Rn.vertexUv3s=c.has(3),c.clear(),Rn}function y(w){const E=[];if(w.shaderID?E.push(w.shaderID):(E.push(w.customVertexShaderID),E.push(w.customFragmentShaderID)),w.defines!==void 0)for(const O in w.defines)E.push(O),E.push(w.defines[O]);return w.isRawShaderMaterial===!1&&(x(E,w),b(E,w),E.push(n.outputColorSpace)),E.push(w.customProgramCacheKey),E.join()}function x(w,E){w.push(E.precision),w.push(E.outputColorSpace),w.push(E.envMapMode),w.push(E.envMapCubeUVHeight),w.push(E.mapUv),w.push(E.alphaMapUv),w.push(E.lightMapUv),w.push(E.aoMapUv),w.push(E.bumpMapUv),w.push(E.normalMapUv),w.push(E.displacementMapUv),w.push(E.emissiveMapUv),w.push(E.metalnessMapUv),w.push(E.roughnessMapUv),w.push(E.anisotropyMapUv),w.push(E.clearcoatMapUv),w.push(E.clearcoatNormalMapUv),w.push(E.clearcoatRoughnessMapUv),w.push(E.iridescenceMapUv),w.push(E.iridescenceThicknessMapUv),w.push(E.sheenColorMapUv),w.push(E.sheenRoughnessMapUv),w.push(E.specularMapUv),w.push(E.specularColorMapUv),w.push(E.specularIntensityMapUv),w.push(E.transmissionMapUv),w.push(E.thicknessMapUv),w.push(E.combine),w.push(E.fogExp2),w.push(E.sizeAttenuation),w.push(E.morphTargetsCount),w.push(E.morphAttributeCount),w.push(E.numDirLights),w.push(E.numPointLights),w.push(E.numSpotLights),w.push(E.numSpotLightMaps),w.push(E.numHemiLights),w.push(E.numRectAreaLights),w.push(E.numDirLightShadows),w.push(E.numPointLightShadows),w.push(E.numSpotLightShadows),w.push(E.numSpotLightShadowsWithMaps),w.push(E.numLightProbes),w.push(E.shadowMapType),w.push(E.toneMapping),w.push(E.numClippingPlanes),w.push(E.numClipIntersection),w.push(E.depthPacking)}function b(w,E){a.disableAll(),E.supportsVertexTextures&&a.enable(0),E.instancing&&a.enable(1),E.instancingColor&&a.enable(2),E.instancingMorph&&a.enable(3),E.matcap&&a.enable(4),E.envMap&&a.enable(5),E.normalMapObjectSpace&&a.enable(6),E.normalMapTangentSpace&&a.enable(7),E.clearcoat&&a.enable(8),E.iridescence&&a.enable(9),E.alphaTest&&a.enable(10),E.vertexColors&&a.enable(11),E.vertexAlphas&&a.enable(12),E.vertexUv1s&&a.enable(13),E.vertexUv2s&&a.enable(14),E.vertexUv3s&&a.enable(15),E.vertexTangents&&a.enable(16),E.anisotropy&&a.enable(17),E.alphaHash&&a.enable(18),E.batching&&a.enable(19),E.dispersion&&a.enable(20),E.batchingColor&&a.enable(21),w.push(a.mask),a.disableAll(),E.fog&&a.enable(0),E.useFog&&a.enable(1),E.flatShading&&a.enable(2),E.logarithmicDepthBuffer&&a.enable(3),E.reverseDepthBuffer&&a.enable(4),E.skinning&&a.enable(5),E.morphTargets&&a.enable(6),E.morphNormals&&a.enable(7),E.morphColors&&a.enable(8),E.premultipliedAlpha&&a.enable(9),E.shadowMapEnabled&&a.enable(10),E.doubleSided&&a.enable(11),E.flipSided&&a.enable(12),E.useDepthPacking&&a.enable(13),E.dithering&&a.enable(14),E.transmission&&a.enable(15),E.sheen&&a.enable(16),E.opaque&&a.enable(17),E.pointsUvs&&a.enable(18),E.decodeVideoTexture&&a.enable(19),E.decodeVideoTextureEmissive&&a.enable(20),E.alphaToCoverage&&a.enable(21),w.push(a.mask)}function _(w){const E=m[w.type];let O;if(E){const F=us[E];O=Io.clone(F.uniforms)}else O=w.uniforms;return O}function T(w,E){let O;for(let F=0,H=u.length;F<H;F++){const z=u[F];if(z.cacheKey===E){O=z,++O.usedTimes;break}}return O===void 0&&(O=new hne(n,E,w,s),u.push(O)),O}function M(w){if(--w.usedTimes===0){const E=u.indexOf(w);u[E]=u[u.length-1],u.pop(),w.destroy()}}function I(w){l.remove(w)}function P(){l.dispose()}return{getParameters:A,getProgramCacheKey:y,getUniforms:_,acquireProgram:T,releaseProgram:M,releaseShaderCache:I,programs:u,dispose:P}}function vne(){let n=new WeakMap;function e(o){return n.has(o)}function t(o){let a=n.get(o);return a===void 0&&(a={},n.set(o,a)),a}function i(o){n.delete(o)}function r(o,a,l){n.get(o)[a]=l}function s(){n=new WeakMap}return{has:e,get:t,remove:i,update:r,dispose:s}}function yne(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function d8(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function h8(){const n=[];let e=0;const t=[],i=[],r=[];function s(){e=0,t.length=0,i.length=0,r.length=0}function o(f,h,p,m,g,A){let y=n[e];return y===void 0?(y={id:f.id,object:f,geometry:h,material:p,groupOrder:m,renderOrder:f.renderOrder,z:g,group:A},n[e]=y):(y.id=f.id,y.object=f,y.geometry=h,y.material=p,y.groupOrder=m,y.renderOrder=f.renderOrder,y.z=g,y.group=A),e++,y}function a(f,h,p,m,g,A){const y=o(f,h,p,m,g,A);p.transmission>0?i.push(y):p.transparent===!0?r.push(y):t.push(y)}function l(f,h,p,m,g,A){const y=o(f,h,p,m,g,A);p.transmission>0?i.unshift(y):p.transparent===!0?r.unshift(y):t.unshift(y)}function c(f,h){t.length>1&&t.sort(f||yne),i.length>1&&i.sort(h||d8),r.length>1&&r.sort(h||d8)}function u(){for(let f=e,h=n.length;f<h;f++){const p=n[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:t,transmissive:i,transparent:r,init:s,push:a,unshift:l,finish:u,sort:c}}function _ne(){let n=new WeakMap;function e(i,r){const s=n.get(i);let o;return s===void 0?(o=new h8,n.set(i,[o])):r>=s.length?(o=new h8,s.push(o)):o=s[r],o}function t(){n=new WeakMap}return{get:e,dispose:t}}function bne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new Z,color:new ke};break;case"SpotLight":t={position:new Z,direction:new Z,color:new ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new Z,color:new ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new Z,skyColor:new ke,groundColor:new ke};break;case"RectAreaLight":t={color:new ke,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return n[e.id]=t,t}}}function xne(){const n={};return{get:function(e){if(n[e.id]!==void 0)return n[e.id];let t;switch(e.type){case"DirectionalLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":t={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break}return n[e.id]=t,t}}}let Cne=0;function Sne(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function wne(n){const e=new bne,t=xne(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)i.probe.push(new Z);const r=new Z,s=new xt,o=new xt;function a(c){let u=0,f=0,h=0;for(let w=0;w<9;w++)i.probe[w].set(0,0,0);let p=0,m=0,g=0,A=0,y=0,x=0,b=0,_=0,T=0,M=0,I=0;c.sort(Sne);for(let w=0,E=c.length;w<E;w++){const O=c[w],F=O.color,H=O.intensity,z=O.distance,X=O.shadow&&O.shadow.map?O.shadow.map.texture:null;if(O.isAmbientLight)u+=F.r*H,f+=F.g*H,h+=F.b*H;else if(O.isLightProbe){for(let U=0;U<9;U++)i.probe[U].addScaledVector(O.sh.coefficients[U],H);I++}else if(O.isDirectionalLight){const U=e.get(O);if(U.color.copy(O.color).multiplyScalar(O.intensity),O.castShadow){const G=O.shadow,j=t.get(O);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.directionalShadow[p]=j,i.directionalShadowMap[p]=X,i.directionalShadowMatrix[p]=O.shadow.matrix,x++}i.directional[p]=U,p++}else if(O.isSpotLight){const U=e.get(O);U.position.setFromMatrixPosition(O.matrixWorld),U.color.copy(F).multiplyScalar(H),U.distance=z,U.coneCos=Math.cos(O.angle),U.penumbraCos=Math.cos(O.angle*(1-O.penumbra)),U.decay=O.decay,i.spot[g]=U;const G=O.shadow;if(O.map&&(i.spotLightMap[T]=O.map,T++,G.updateMatrices(O),O.castShadow&&M++),i.spotLightMatrix[g]=G.matrix,O.castShadow){const j=t.get(O);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,i.spotShadow[g]=j,i.spotShadowMap[g]=X,_++}g++}else if(O.isRectAreaLight){const U=e.get(O);U.color.copy(F).multiplyScalar(H),U.halfWidth.set(O.width*.5,0,0),U.halfHeight.set(0,O.height*.5,0),i.rectArea[A]=U,A++}else if(O.isPointLight){const U=e.get(O);if(U.color.copy(O.color).multiplyScalar(O.intensity),U.distance=O.distance,U.decay=O.decay,O.castShadow){const G=O.shadow,j=t.get(O);j.shadowIntensity=G.intensity,j.shadowBias=G.bias,j.shadowNormalBias=G.normalBias,j.shadowRadius=G.radius,j.shadowMapSize=G.mapSize,j.shadowCameraNear=G.camera.near,j.shadowCameraFar=G.camera.far,i.pointShadow[m]=j,i.pointShadowMap[m]=X,i.pointShadowMatrix[m]=O.shadow.matrix,b++}i.point[m]=U,m++}else if(O.isHemisphereLight){const U=e.get(O);U.skyColor.copy(O.color).multiplyScalar(H),U.groundColor.copy(O.groundColor).multiplyScalar(H),i.hemi[y]=U,y++}}A>0&&(n.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ke.LTC_FLOAT_1,i.rectAreaLTC2=Ke.LTC_FLOAT_2):(i.rectAreaLTC1=Ke.LTC_HALF_1,i.rectAreaLTC2=Ke.LTC_HALF_2)),i.ambient[0]=u,i.ambient[1]=f,i.ambient[2]=h;const P=i.hash;(P.directionalLength!==p||P.pointLength!==m||P.spotLength!==g||P.rectAreaLength!==A||P.hemiLength!==y||P.numDirectionalShadows!==x||P.numPointShadows!==b||P.numSpotShadows!==_||P.numSpotMaps!==T||P.numLightProbes!==I)&&(i.directional.length=p,i.spot.length=g,i.rectArea.length=A,i.point.length=m,i.hemi.length=y,i.directionalShadow.length=x,i.directionalShadowMap.length=x,i.pointShadow.length=b,i.pointShadowMap.length=b,i.spotShadow.length=_,i.spotShadowMap.length=_,i.directionalShadowMatrix.length=x,i.pointShadowMatrix.length=b,i.spotLightMatrix.length=_+T-M,i.spotLightMap.length=T,i.numSpotLightShadowsWithMaps=M,i.numLightProbes=I,P.directionalLength=p,P.pointLength=m,P.spotLength=g,P.rectAreaLength=A,P.hemiLength=y,P.numDirectionalShadows=x,P.numPointShadows=b,P.numSpotShadows=_,P.numSpotMaps=T,P.numLightProbes=I,i.version=Cne++)}function l(c,u){let f=0,h=0,p=0,m=0,g=0;const A=u.matrixWorldInverse;for(let y=0,x=c.length;y<x;y++){const b=c[y];if(b.isDirectionalLight){const _=i.directional[f];_.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(r),_.direction.transformDirection(A),f++}else if(b.isSpotLight){const _=i.spot[p];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(A),_.direction.setFromMatrixPosition(b.matrixWorld),r.setFromMatrixPosition(b.target.matrixWorld),_.direction.sub(r),_.direction.transformDirection(A),p++}else if(b.isRectAreaLight){const _=i.rectArea[m];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(A),o.identity(),s.copy(b.matrixWorld),s.premultiply(A),o.extractRotation(s),_.halfWidth.set(b.width*.5,0,0),_.halfHeight.set(0,b.height*.5,0),_.halfWidth.applyMatrix4(o),_.halfHeight.applyMatrix4(o),m++}else if(b.isPointLight){const _=i.point[h];_.position.setFromMatrixPosition(b.matrixWorld),_.position.applyMatrix4(A),h++}else if(b.isHemisphereLight){const _=i.hemi[g];_.direction.setFromMatrixPosition(b.matrixWorld),_.direction.transformDirection(A),g++}}}return{setup:a,setupView:l,state:i}}function p8(n){const e=new wne(n),t=[],i=[];function r(u){c.camera=u,t.length=0,i.length=0}function s(u){t.push(u)}function o(u){i.push(u)}function a(){e.setup(t)}function l(u){e.setupView(t,u)}const c={lightsArray:t,shadowsArray:i,camera:null,lights:e,transmissionRenderTarget:{}};return{init:r,state:c,setupLights:a,setupLightsView:l,pushLight:s,pushShadow:o}}function Ene(n){let e=new WeakMap;function t(r,s=0){const o=e.get(r);let a;return o===void 0?(a=new p8(n),e.set(r,[a])):s>=o.length?(a=new p8(n),o.push(a)):a=o[s],a}function i(){e=new WeakMap}return{get:t,dispose:i}}const Tne=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,Mne=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Ine(n,e,t){let i=new n4;const r=new De,s=new De,o=new Vt,a=new SK({depthPacking:Kx}),l=new wK,c={},u=t.maxTextureSize,f={[Mo]:Pr,[Pr]:Mo,[Ks]:Ks},h=new Cn({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new De},radius:{value:4}},vertexShader:Tne,fragmentShader:Mne}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const m=new Hn;m.setAttribute("position",new Gi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Qe(m,h),A=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=_I;let y=this.type;this.render=function(M,I,P){if(A.enabled===!1||A.autoUpdate===!1&&A.needsUpdate===!1||M.length===0)return;const w=n.getRenderTarget(),E=n.getActiveCubeFace(),O=n.getActiveMipmapLevel(),F=n.state;F.setBlending(Co),F.buffers.color.setClear(1,1,1,1),F.buffers.depth.setTest(!0),F.setScissorTest(!1);const H=y!==zo&&this.type===zo,z=y===zo&&this.type!==zo;for(let X=0,U=M.length;X<U;X++){const G=M[X],j=G.shadow;if(j===void 0){console.warn("THREE.WebGLShadowMap:",G,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;r.copy(j.mapSize);const Y=j.getFrameExtents();if(r.multiply(Y),s.copy(j.mapSize),(r.x>u||r.y>u)&&(r.x>u&&(s.x=Math.floor(u/Y.x),r.x=s.x*Y.x,j.mapSize.x=s.x),r.y>u&&(s.y=Math.floor(u/Y.y),r.y=s.y*Y.y,j.mapSize.y=s.y)),j.map===null||H===!0||z===!0){const ve=this.type!==zo?{minFilter:Rr,magFilter:Rr}:{};j.map!==null&&j.map.dispose(),j.map=new ai(r.x,r.y,ve),j.map.texture.name=G.name+".shadowMap",j.camera.updateProjectionMatrix()}n.setRenderTarget(j.map),n.clear();const Q=j.getViewportCount();for(let ve=0;ve<Q;ve++){const Pe=j.getViewport(ve);o.set(s.x*Pe.x,s.y*Pe.y,s.x*Pe.z,s.y*Pe.w),F.viewport(o),j.updateMatrices(G,ve),i=j.getFrustum(),_(I,P,j.camera,G,this.type)}j.isPointLightShadow!==!0&&this.type===zo&&x(j,P),j.needsUpdate=!1}y=this.type,A.needsUpdate=!1,n.setRenderTarget(w,E,O)};function x(M,I){const P=e.update(g);h.defines.VSM_SAMPLES!==M.blurSamples&&(h.defines.VSM_SAMPLES=M.blurSamples,p.defines.VSM_SAMPLES=M.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new ai(r.x,r.y)),h.uniforms.shadow_pass.value=M.map.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,n.setRenderTarget(M.mapPass),n.clear(),n.renderBufferDirect(I,null,P,h,g,null),p.uniforms.shadow_pass.value=M.mapPass.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,n.setRenderTarget(M.map),n.clear(),n.renderBufferDirect(I,null,P,p,g,null)}function b(M,I,P,w){let E=null;const O=P.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(O!==void 0)E=O;else if(E=P.isPointLight===!0?l:a,n.localClippingEnabled&&I.clipShadows===!0&&Array.isArray(I.clippingPlanes)&&I.clippingPlanes.length!==0||I.displacementMap&&I.displacementScale!==0||I.alphaMap&&I.alphaTest>0||I.map&&I.alphaTest>0){const F=E.uuid,H=I.uuid;let z=c[F];z===void 0&&(z={},c[F]=z);let X=z[H];X===void 0&&(X=E.clone(),z[H]=X,I.addEventListener("dispose",T)),E=X}if(E.visible=I.visible,E.wireframe=I.wireframe,w===zo?E.side=I.shadowSide!==null?I.shadowSide:I.side:E.side=I.shadowSide!==null?I.shadowSide:f[I.side],E.alphaMap=I.alphaMap,E.alphaTest=I.alphaTest,E.map=I.map,E.clipShadows=I.clipShadows,E.clippingPlanes=I.clippingPlanes,E.clipIntersection=I.clipIntersection,E.displacementMap=I.displacementMap,E.displacementScale=I.displacementScale,E.displacementBias=I.displacementBias,E.wireframeLinewidth=I.wireframeLinewidth,E.linewidth=I.linewidth,P.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const F=n.properties.get(E);F.light=P}return E}function _(M,I,P,w,E){if(M.visible===!1)return;if(M.layers.test(I.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&E===zo)&&(!M.frustumCulled||i.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(P.matrixWorldInverse,M.matrixWorld);const H=e.update(M),z=M.material;if(Array.isArray(z)){const X=H.groups;for(let U=0,G=X.length;U<G;U++){const j=X[U],Y=z[j.materialIndex];if(Y&&Y.visible){const Q=b(M,Y,w,E);M.onBeforeShadow(n,M,I,P,H,Q,j),n.renderBufferDirect(P,null,H,Q,M,j),M.onAfterShadow(n,M,I,P,H,Q,j)}}}else if(z.visible){const X=b(M,z,w,E);M.onBeforeShadow(n,M,I,P,H,X,null),n.renderBufferDirect(P,null,H,X,M,null),M.onAfterShadow(n,M,I,P,H,X,null)}}const F=M.children;for(let H=0,z=F.length;H<z;H++)_(F[H],I,P,w,E)}function T(M){M.target.removeEventListener("dispose",T);for(const P in c){const w=c[P],E=M.target.uuid;E in w&&(w[E].dispose(),delete w[E])}}}const Dne={[Z_]:J_,[eb]:ib,[tb]:rb,[Sd]:nb,[J_]:Z_,[ib]:eb,[rb]:tb,[nb]:Sd};function Pne(n,e){function t(){let te=!1;const je=new Vt;let Ce=null;const Me=new Vt(0,0,0,0);return{setMask:function(We){Ce!==We&&!te&&(n.colorMask(We,We,We,We),Ce=We)},setLocked:function(We){te=We},setClear:function(We,Ye,_t,Wt,Rn){Rn===!0&&(We*=Wt,Ye*=Wt,_t*=Wt),je.set(We,Ye,_t,Wt),Me.equals(je)===!1&&(n.clearColor(We,Ye,_t,Wt),Me.copy(je))},reset:function(){te=!1,Ce=null,Me.set(-1,0,0,0)}}}function i(){let te=!1,je=!1,Ce=null,Me=null,We=null;return{setReversed:function(Ye){if(je!==Ye){const _t=e.get("EXT_clip_control");je?_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.ZERO_TO_ONE_EXT):_t.clipControlEXT(_t.LOWER_LEFT_EXT,_t.NEGATIVE_ONE_TO_ONE_EXT);const Wt=We;We=null,this.setClear(Wt)}je=Ye},getReversed:function(){return je},setTest:function(Ye){Ye?J(n.DEPTH_TEST):ye(n.DEPTH_TEST)},setMask:function(Ye){Ce!==Ye&&!te&&(n.depthMask(Ye),Ce=Ye)},setFunc:function(Ye){if(je&&(Ye=Dne[Ye]),Me!==Ye){switch(Ye){case Z_:n.depthFunc(n.NEVER);break;case J_:n.depthFunc(n.ALWAYS);break;case eb:n.depthFunc(n.LESS);break;case Sd:n.depthFunc(n.LEQUAL);break;case tb:n.depthFunc(n.EQUAL);break;case nb:n.depthFunc(n.GEQUAL);break;case ib:n.depthFunc(n.GREATER);break;case rb:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}Me=Ye}},setLocked:function(Ye){te=Ye},setClear:function(Ye){We!==Ye&&(je&&(Ye=1-Ye),n.clearDepth(Ye),We=Ye)},reset:function(){te=!1,Ce=null,Me=null,We=null,je=!1}}}function r(){let te=!1,je=null,Ce=null,Me=null,We=null,Ye=null,_t=null,Wt=null,Rn=null;return{setTest:function($e){te||($e?J(n.STENCIL_TEST):ye(n.STENCIL_TEST))},setMask:function($e){je!==$e&&!te&&(n.stencilMask($e),je=$e)},setFunc:function($e,ot,Mt){(Ce!==$e||Me!==ot||We!==Mt)&&(n.stencilFunc($e,ot,Mt),Ce=$e,Me=ot,We=Mt)},setOp:function($e,ot,Mt){(Ye!==$e||_t!==ot||Wt!==Mt)&&(n.stencilOp($e,ot,Mt),Ye=$e,_t=ot,Wt=Mt)},setLocked:function($e){te=$e},setClear:function($e){Rn!==$e&&(n.clearStencil($e),Rn=$e)},reset:function(){te=!1,je=null,Ce=null,Me=null,We=null,Ye=null,_t=null,Wt=null,Rn=null}}}const s=new t,o=new i,a=new r,l=new WeakMap,c=new WeakMap;let u={},f={},h=new WeakMap,p=[],m=null,g=!1,A=null,y=null,x=null,b=null,_=null,T=null,M=null,I=new ke(0,0,0),P=0,w=!1,E=null,O=null,F=null,H=null,z=null;const X=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let U=!1,G=0;const j=n.getParameter(n.VERSION);j.indexOf("WebGL")!==-1?(G=parseFloat(/^WebGL (\d)/.exec(j)[1]),U=G>=1):j.indexOf("OpenGL ES")!==-1&&(G=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),U=G>=2);let Y=null,Q={};const ve=n.getParameter(n.SCISSOR_BOX),Pe=n.getParameter(n.VIEWPORT),He=new Vt().fromArray(ve),re=new Vt().fromArray(Pe);function he(te,je,Ce,Me){const We=new Uint8Array(4),Ye=n.createTexture();n.bindTexture(te,Ye),n.texParameteri(te,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(te,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let _t=0;_t<Ce;_t++)te===n.TEXTURE_3D||te===n.TEXTURE_2D_ARRAY?n.texImage3D(je,0,n.RGBA,1,1,Me,0,n.RGBA,n.UNSIGNED_BYTE,We):n.texImage2D(je+_t,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,We);return Ye}const Oe={};Oe[n.TEXTURE_2D]=he(n.TEXTURE_2D,n.TEXTURE_2D,1),Oe[n.TEXTURE_CUBE_MAP]=he(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),Oe[n.TEXTURE_2D_ARRAY]=he(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),Oe[n.TEXTURE_3D]=he(n.TEXTURE_3D,n.TEXTURE_3D,1,1),s.setClear(0,0,0,1),o.setClear(1),a.setClear(0),J(n.DEPTH_TEST),o.setFunc(Sd),_e(!1),K(jS),J(n.CULL_FACE),R(Co);function J(te){u[te]!==!0&&(n.enable(te),u[te]=!0)}function ye(te){u[te]!==!1&&(n.disable(te),u[te]=!1)}function Se(te,je){return f[te]!==je?(n.bindFramebuffer(te,je),f[te]=je,te===n.DRAW_FRAMEBUFFER&&(f[n.FRAMEBUFFER]=je),te===n.FRAMEBUFFER&&(f[n.DRAW_FRAMEBUFFER]=je),!0):!1}function be(te,je){let Ce=p,Me=!1;if(te){Ce=h.get(je),Ce===void 0&&(Ce=[],h.set(je,Ce));const We=te.textures;if(Ce.length!==We.length||Ce[0]!==n.COLOR_ATTACHMENT0){for(let Ye=0,_t=We.length;Ye<_t;Ye++)Ce[Ye]=n.COLOR_ATTACHMENT0+Ye;Ce.length=We.length,Me=!0}}else Ce[0]!==n.BACK&&(Ce[0]=n.BACK,Me=!0);Me&&n.drawBuffers(Ce)}function qe(te){return m!==te?(n.useProgram(te),m=te,!0):!1}const rt={[eu]:n.FUNC_ADD,[jY]:n.FUNC_SUBTRACT,[WY]:n.FUNC_REVERSE_SUBTRACT};rt[qY]=n.MIN,rt[XY]=n.MAX;const W={[YY]:n.ZERO,[$Y]:n.ONE,[KY]:n.SRC_COLOR,[$_]:n.SRC_ALPHA,[i$]:n.SRC_ALPHA_SATURATE,[t$]:n.DST_COLOR,[JY]:n.DST_ALPHA,[ZY]:n.ONE_MINUS_SRC_COLOR,[K_]:n.ONE_MINUS_SRC_ALPHA,[n$]:n.ONE_MINUS_DST_COLOR,[e$]:n.ONE_MINUS_DST_ALPHA,[r$]:n.CONSTANT_COLOR,[s$]:n.ONE_MINUS_CONSTANT_COLOR,[o$]:n.CONSTANT_ALPHA,[a$]:n.ONE_MINUS_CONSTANT_ALPHA};function R(te,je,Ce,Me,We,Ye,_t,Wt,Rn,$e){if(te===Co){g===!0&&(ye(n.BLEND),g=!1);return}if(g===!1&&(J(n.BLEND),g=!0),te!==bI){if(te!==A||$e!==w){if((y!==eu||_!==eu)&&(n.blendEquation(n.FUNC_ADD),y=eu,_=eu),$e)switch(te){case bu:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case q0:n.blendFunc(n.ONE,n.ONE);break;case X_:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Y_:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}else switch(te){case bu:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case q0:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case X_:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case Y_:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",te);break}x=null,b=null,T=null,M=null,I.set(0,0,0),P=0,A=te,w=$e}return}We=We||je,Ye=Ye||Ce,_t=_t||Me,(je!==y||We!==_)&&(n.blendEquationSeparate(rt[je],rt[We]),y=je,_=We),(Ce!==x||Me!==b||Ye!==T||_t!==M)&&(n.blendFuncSeparate(W[Ce],W[Me],W[Ye],W[_t]),x=Ce,b=Me,T=Ye,M=_t),(Wt.equals(I)===!1||Rn!==P)&&(n.blendColor(Wt.r,Wt.g,Wt.b,Rn),I.copy(Wt),P=Rn),A=te,w=!1}function le(te,je){te.side===Ks?ye(n.CULL_FACE):J(n.CULL_FACE);let Ce=te.side===Pr;je&&(Ce=!Ce),_e(Ce),te.blending===bu&&te.transparent===!1?R(Co):R(te.blending,te.blendEquation,te.blendSrc,te.blendDst,te.blendEquationAlpha,te.blendSrcAlpha,te.blendDstAlpha,te.blendColor,te.blendAlpha,te.premultipliedAlpha),o.setFunc(te.depthFunc),o.setTest(te.depthTest),o.setMask(te.depthWrite),s.setMask(te.colorWrite);const Me=te.stencilWrite;a.setTest(Me),Me&&(a.setMask(te.stencilWriteMask),a.setFunc(te.stencilFunc,te.stencilRef,te.stencilFuncMask),a.setOp(te.stencilFail,te.stencilZFail,te.stencilZPass)),Be(te.polygonOffset,te.polygonOffsetFactor,te.polygonOffsetUnits),te.alphaToCoverage===!0?J(n.SAMPLE_ALPHA_TO_COVERAGE):ye(n.SAMPLE_ALPHA_TO_COVERAGE)}function _e(te){E!==te&&(te?n.frontFace(n.CW):n.frontFace(n.CCW),E=te)}function K(te){te!==VY?(J(n.CULL_FACE),te!==O&&(te===jS?n.cullFace(n.BACK):te===GY?n.cullFace(n.FRONT):n.cullFace(n.FRONT_AND_BACK))):ye(n.CULL_FACE),O=te}function de(te){te!==F&&(U&&n.lineWidth(te),F=te)}function Be(te,je,Ce){te?(J(n.POLYGON_OFFSET_FILL),(H!==je||z!==Ce)&&(n.polygonOffset(je,Ce),H=je,z=Ce)):ye(n.POLYGON_OFFSET_FILL)}function xe(te){te?J(n.SCISSOR_TEST):ye(n.SCISSOR_TEST)}function k(te){te===void 0&&(te=n.TEXTURE0+X-1),Y!==te&&(n.activeTexture(te),Y=te)}function B(te,je,Ce){Ce===void 0&&(Y===null?Ce=n.TEXTURE0+X-1:Ce=Y);let Me=Q[Ce];Me===void 0&&(Me={type:void 0,texture:void 0},Q[Ce]=Me),(Me.type!==te||Me.texture!==je)&&(Y!==Ce&&(n.activeTexture(Ce),Y=Ce),n.bindTexture(te,je||Oe[te]),Me.type=te,Me.texture=je)}function ne(){const te=Q[Y];te!==void 0&&te.type!==void 0&&(n.bindTexture(te.type,null),te.type=void 0,te.texture=void 0)}function se(){try{n.compressedTexImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function fe(){try{n.texSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Ie(){try{n.texSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Le(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Fe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function dt(){try{n.texStorage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Re(){try{n.texStorage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function ze(){try{n.texImage2D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function Xe(){try{n.texImage3D.apply(n,arguments)}catch(te){console.error("THREE.WebGLState:",te)}}function st(te){He.equals(te)===!1&&(n.scissor(te.x,te.y,te.z,te.w),He.copy(te))}function et(te){re.equals(te)===!1&&(n.viewport(te.x,te.y,te.z,te.w),re.copy(te))}function mt(te,je){let Ce=c.get(je);Ce===void 0&&(Ce=new WeakMap,c.set(je,Ce));let Me=Ce.get(te);Me===void 0&&(Me=n.getUniformBlockIndex(je,te.name),Ce.set(te,Me))}function lt(te,je){const Me=c.get(je).get(te);l.get(je)!==Me&&(n.uniformBlockBinding(je,Me,te.__bindingPointIndex),l.set(je,Me))}function Pt(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),o.setReversed(!1),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),u={},Y=null,Q={},f={},h=new WeakMap,p=[],m=null,g=!1,A=null,y=null,x=null,b=null,_=null,T=null,M=null,I=new ke(0,0,0),P=0,w=!1,E=null,O=null,F=null,H=null,z=null,He.set(0,0,n.canvas.width,n.canvas.height),re.set(0,0,n.canvas.width,n.canvas.height),s.reset(),o.reset(),a.reset()}return{buffers:{color:s,depth:o,stencil:a},enable:J,disable:ye,bindFramebuffer:Se,drawBuffers:be,useProgram:qe,setBlending:R,setMaterial:le,setFlipSided:_e,setCullFace:K,setLineWidth:de,setPolygonOffset:Be,setScissorTest:xe,activeTexture:k,bindTexture:B,unbindTexture:ne,compressedTexImage2D:se,compressedTexImage3D:ce,texImage2D:ze,texImage3D:Xe,updateUBOMapping:mt,uniformBlockBinding:lt,texStorage2D:dt,texStorage3D:Re,texSubImage2D:fe,texSubImage3D:Ie,compressedTexSubImage2D:Le,compressedTexSubImage3D:Fe,scissor:st,viewport:et,reset:Pt}}function Rne(n,e,t,i,r,s,o){const a=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new De,u=new WeakMap;let f;const h=new WeakMap;let p=!1;try{p=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(k,B){return p?new OffscreenCanvas(k,B):J0("canvas")}function g(k,B,ne){let se=1;const ce=xe(k);if((ce.width>ne||ce.height>ne)&&(se=ne/Math.max(ce.width,ce.height)),se<1)if(typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&k instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&k instanceof ImageBitmap||typeof VideoFrame<"u"&&k instanceof VideoFrame){const fe=Math.floor(se*ce.width),Ie=Math.floor(se*ce.height);f===void 0&&(f=m(fe,Ie));const Le=B?m(fe,Ie):f;return Le.width=fe,Le.height=Ie,Le.getContext("2d").drawImage(k,0,0,fe,Ie),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+ce.width+"x"+ce.height+") to ("+fe+"x"+Ie+")."),Le}else return"data"in k&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+ce.width+"x"+ce.height+")."),k;return k}function A(k){return k.generateMipmaps}function y(k){n.generateMipmap(k)}function x(k){return k.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:k.isWebGL3DRenderTarget?n.TEXTURE_3D:k.isWebGLArrayRenderTarget||k.isCompressedArrayTexture?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D}function b(k,B,ne,se,ce=!1){if(k!==null){if(n[k]!==void 0)return n[k];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+k+"'")}let fe=B;if(B===n.RED&&(ne===n.FLOAT&&(fe=n.R32F),ne===n.HALF_FLOAT&&(fe=n.R16F),ne===n.UNSIGNED_BYTE&&(fe=n.R8)),B===n.RED_INTEGER&&(ne===n.UNSIGNED_BYTE&&(fe=n.R8UI),ne===n.UNSIGNED_SHORT&&(fe=n.R16UI),ne===n.UNSIGNED_INT&&(fe=n.R32UI),ne===n.BYTE&&(fe=n.R8I),ne===n.SHORT&&(fe=n.R16I),ne===n.INT&&(fe=n.R32I)),B===n.RG&&(ne===n.FLOAT&&(fe=n.RG32F),ne===n.HALF_FLOAT&&(fe=n.RG16F),ne===n.UNSIGNED_BYTE&&(fe=n.RG8)),B===n.RG_INTEGER&&(ne===n.UNSIGNED_BYTE&&(fe=n.RG8UI),ne===n.UNSIGNED_SHORT&&(fe=n.RG16UI),ne===n.UNSIGNED_INT&&(fe=n.RG32UI),ne===n.BYTE&&(fe=n.RG8I),ne===n.SHORT&&(fe=n.RG16I),ne===n.INT&&(fe=n.RG32I)),B===n.RGB_INTEGER&&(ne===n.UNSIGNED_BYTE&&(fe=n.RGB8UI),ne===n.UNSIGNED_SHORT&&(fe=n.RGB16UI),ne===n.UNSIGNED_INT&&(fe=n.RGB32UI),ne===n.BYTE&&(fe=n.RGB8I),ne===n.SHORT&&(fe=n.RGB16I),ne===n.INT&&(fe=n.RGB32I)),B===n.RGBA_INTEGER&&(ne===n.UNSIGNED_BYTE&&(fe=n.RGBA8UI),ne===n.UNSIGNED_SHORT&&(fe=n.RGBA16UI),ne===n.UNSIGNED_INT&&(fe=n.RGBA32UI),ne===n.BYTE&&(fe=n.RGBA8I),ne===n.SHORT&&(fe=n.RGBA16I),ne===n.INT&&(fe=n.RGBA32I)),B===n.RGB&&ne===n.UNSIGNED_INT_5_9_9_9_REV&&(fe=n.RGB9_E5),B===n.RGBA){const Ie=ce?kg:Xt.getTransfer(se);ne===n.FLOAT&&(fe=n.RGBA32F),ne===n.HALF_FLOAT&&(fe=n.RGBA16F),ne===n.UNSIGNED_BYTE&&(fe=Ie===yn?n.SRGB8_ALPHA8:n.RGBA8),ne===n.UNSIGNED_SHORT_4_4_4_4&&(fe=n.RGBA4),ne===n.UNSIGNED_SHORT_5_5_5_1&&(fe=n.RGB5_A1)}return(fe===n.R16F||fe===n.R32F||fe===n.RG16F||fe===n.RG32F||fe===n.RGBA16F||fe===n.RGBA32F)&&e.get("EXT_color_buffer_float"),fe}function _(k,B){let ne;return k?B===null||B===Pu||B===Td?ne=n.DEPTH24_STENCIL8:B===Zt?ne=n.DEPTH32F_STENCIL8:B===X0&&(ne=n.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):B===null||B===Pu||B===Td?ne=n.DEPTH_COMPONENT24:B===Zt?ne=n.DEPTH_COMPONENT32F:B===X0&&(ne=n.DEPTH_COMPONENT16),ne}function T(k,B){return A(k)===!0||k.isFramebufferTexture&&k.minFilter!==Rr&&k.minFilter!==Yt?Math.log2(Math.max(B.width,B.height))+1:k.mipmaps!==void 0&&k.mipmaps.length>0?k.mipmaps.length:k.isCompressedTexture&&Array.isArray(k.image)?B.mipmaps.length:1}function M(k){const B=k.target;B.removeEventListener("dispose",M),P(B),B.isVideoTexture&&u.delete(B)}function I(k){const B=k.target;B.removeEventListener("dispose",I),E(B)}function P(k){const B=i.get(k);if(B.__webglInit===void 0)return;const ne=k.source,se=h.get(ne);if(se){const ce=se[B.__cacheKey];ce.usedTimes--,ce.usedTimes===0&&w(k),Object.keys(se).length===0&&h.delete(ne)}i.remove(k)}function w(k){const B=i.get(k);n.deleteTexture(B.__webglTexture);const ne=k.source,se=h.get(ne);delete se[B.__cacheKey],o.memory.textures--}function E(k){const B=i.get(k);if(k.depthTexture&&(k.depthTexture.dispose(),i.remove(k.depthTexture)),k.isWebGLCubeRenderTarget)for(let se=0;se<6;se++){if(Array.isArray(B.__webglFramebuffer[se]))for(let ce=0;ce<B.__webglFramebuffer[se].length;ce++)n.deleteFramebuffer(B.__webglFramebuffer[se][ce]);else n.deleteFramebuffer(B.__webglFramebuffer[se]);B.__webglDepthbuffer&&n.deleteRenderbuffer(B.__webglDepthbuffer[se])}else{if(Array.isArray(B.__webglFramebuffer))for(let se=0;se<B.__webglFramebuffer.length;se++)n.deleteFramebuffer(B.__webglFramebuffer[se]);else n.deleteFramebuffer(B.__webglFramebuffer);if(B.__webglDepthbuffer&&n.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&n.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer)for(let se=0;se<B.__webglColorRenderbuffer.length;se++)B.__webglColorRenderbuffer[se]&&n.deleteRenderbuffer(B.__webglColorRenderbuffer[se]);B.__webglDepthRenderbuffer&&n.deleteRenderbuffer(B.__webglDepthRenderbuffer)}const ne=k.textures;for(let se=0,ce=ne.length;se<ce;se++){const fe=i.get(ne[se]);fe.__webglTexture&&(n.deleteTexture(fe.__webglTexture),o.memory.textures--),i.remove(ne[se])}i.remove(k)}let O=0;function F(){O=0}function H(){const k=O;return k>=r.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+k+" texture units while this GPU supports only "+r.maxTextures),O+=1,k}function z(k){const B=[];return B.push(k.wrapS),B.push(k.wrapT),B.push(k.wrapR||0),B.push(k.magFilter),B.push(k.minFilter),B.push(k.anisotropy),B.push(k.internalFormat),B.push(k.format),B.push(k.type),B.push(k.generateMipmaps),B.push(k.premultiplyAlpha),B.push(k.flipY),B.push(k.unpackAlignment),B.push(k.colorSpace),B.join()}function X(k,B){const ne=i.get(k);if(k.isVideoTexture&&de(k),k.isRenderTargetTexture===!1&&k.version>0&&ne.__version!==k.version){const se=k.image;if(se===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(se.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{re(ne,k,B);return}}t.bindTexture(n.TEXTURE_2D,ne.__webglTexture,n.TEXTURE0+B)}function U(k,B){const ne=i.get(k);if(k.version>0&&ne.__version!==k.version){re(ne,k,B);return}t.bindTexture(n.TEXTURE_2D_ARRAY,ne.__webglTexture,n.TEXTURE0+B)}function G(k,B){const ne=i.get(k);if(k.version>0&&ne.__version!==k.version){re(ne,k,B);return}t.bindTexture(n.TEXTURE_3D,ne.__webglTexture,n.TEXTURE0+B)}function j(k,B){const ne=i.get(k);if(k.version>0&&ne.__version!==k.version){he(ne,k,B);return}t.bindTexture(n.TEXTURE_CUBE_MAP,ne.__webglTexture,n.TEXTURE0+B)}const Y={[ts]:n.REPEAT,[ti]:n.CLAMP_TO_EDGE,[Ed]:n.MIRRORED_REPEAT},Q={[Rr]:n.NEAREST,[DI]:n.NEAREST_MIPMAP_NEAREST,[Xh]:n.NEAREST_MIPMAP_LINEAR,[Yt]:n.LINEAR,[Xm]:n.LINEAR_MIPMAP_NEAREST,[Fs]:n.LINEAR_MIPMAP_LINEAR},ve={[m$]:n.NEVER,[b$]:n.ALWAYS,[g$]:n.LESS,[HI]:n.LEQUAL,[A$]:n.EQUAL,[_$]:n.GEQUAL,[v$]:n.GREATER,[y$]:n.NOTEQUAL};function Pe(k,B){if(B.type===Zt&&e.has("OES_texture_float_linear")===!1&&(B.magFilter===Yt||B.magFilter===Xm||B.magFilter===Xh||B.magFilter===Fs||B.minFilter===Yt||B.minFilter===Xm||B.minFilter===Xh||B.minFilter===Fs)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),n.texParameteri(k,n.TEXTURE_WRAP_S,Y[B.wrapS]),n.texParameteri(k,n.TEXTURE_WRAP_T,Y[B.wrapT]),(k===n.TEXTURE_3D||k===n.TEXTURE_2D_ARRAY)&&n.texParameteri(k,n.TEXTURE_WRAP_R,Y[B.wrapR]),n.texParameteri(k,n.TEXTURE_MAG_FILTER,Q[B.magFilter]),n.texParameteri(k,n.TEXTURE_MIN_FILTER,Q[B.minFilter]),B.compareFunction&&(n.texParameteri(k,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(k,n.TEXTURE_COMPARE_FUNC,ve[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(B.magFilter===Rr||B.minFilter!==Xh&&B.minFilter!==Fs||B.type===Zt&&e.has("OES_texture_float_linear")===!1)return;if(B.anisotropy>1||i.get(B).__currentAnisotropy){const ne=e.get("EXT_texture_filter_anisotropic");n.texParameterf(k,ne.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,r.getMaxAnisotropy())),i.get(B).__currentAnisotropy=B.anisotropy}}}function He(k,B){let ne=!1;k.__webglInit===void 0&&(k.__webglInit=!0,B.addEventListener("dispose",M));const se=B.source;let ce=h.get(se);ce===void 0&&(ce={},h.set(se,ce));const fe=z(B);if(fe!==k.__cacheKey){ce[fe]===void 0&&(ce[fe]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,ne=!0),ce[fe].usedTimes++;const Ie=ce[k.__cacheKey];Ie!==void 0&&(ce[k.__cacheKey].usedTimes--,Ie.usedTimes===0&&w(B)),k.__cacheKey=fe,k.__webglTexture=ce[fe].texture}return ne}function re(k,B,ne){let se=n.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(se=n.TEXTURE_2D_ARRAY),B.isData3DTexture&&(se=n.TEXTURE_3D);const ce=He(k,B),fe=B.source;t.bindTexture(se,k.__webglTexture,n.TEXTURE0+ne);const Ie=i.get(fe);if(fe.version!==Ie.__version||ce===!0){t.activeTexture(n.TEXTURE0+ne);const Le=Xt.getPrimaries(Xt.workingColorSpace),Fe=B.colorSpace===qo?null:Xt.getPrimaries(B.colorSpace),dt=B.colorSpace===qo||Le===Fe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);let Re=g(B.image,!1,r.maxTextureSize);Re=Be(B,Re);const ze=s.convert(B.format,B.colorSpace),Xe=s.convert(B.type);let st=b(B.internalFormat,ze,Xe,B.colorSpace,B.isVideoTexture);Pe(se,B);let et;const mt=B.mipmaps,lt=B.isVideoTexture!==!0,Pt=Ie.__version===void 0||ce===!0,te=fe.dataReady,je=T(B,Re);if(B.isDepthTexture)st=_(B.format===Md,B.type),Pt&&(lt?t.texStorage2D(n.TEXTURE_2D,1,st,Re.width,Re.height):t.texImage2D(n.TEXTURE_2D,0,st,Re.width,Re.height,0,ze,Xe,null));else if(B.isDataTexture)if(mt.length>0){lt&&Pt&&t.texStorage2D(n.TEXTURE_2D,je,st,mt[0].width,mt[0].height);for(let Ce=0,Me=mt.length;Ce<Me;Ce++)et=mt[Ce],lt?te&&t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,et.width,et.height,ze,Xe,et.data):t.texImage2D(n.TEXTURE_2D,Ce,st,et.width,et.height,0,ze,Xe,et.data);B.generateMipmaps=!1}else lt?(Pt&&t.texStorage2D(n.TEXTURE_2D,je,st,Re.width,Re.height),te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,Re.width,Re.height,ze,Xe,Re.data)):t.texImage2D(n.TEXTURE_2D,0,st,Re.width,Re.height,0,ze,Xe,Re.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){lt&&Pt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,je,st,mt[0].width,mt[0].height,Re.depth);for(let Ce=0,Me=mt.length;Ce<Me;Ce++)if(et=mt[Ce],B.format!==hi)if(ze!==null)if(lt){if(te)if(B.layerUpdates.size>0){const We=jw(et.width,et.height,B.format,B.type);for(const Ye of B.layerUpdates){const _t=et.data.subarray(Ye*We/et.data.BYTES_PER_ELEMENT,(Ye+1)*We/et.data.BYTES_PER_ELEMENT);t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ce,0,0,Ye,et.width,et.height,1,ze,_t)}B.clearLayerUpdates()}else t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,Ce,0,0,0,et.width,et.height,Re.depth,ze,et.data)}else t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,Ce,st,et.width,et.height,Re.depth,0,et.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else lt?te&&t.texSubImage3D(n.TEXTURE_2D_ARRAY,Ce,0,0,0,et.width,et.height,Re.depth,ze,Xe,et.data):t.texImage3D(n.TEXTURE_2D_ARRAY,Ce,st,et.width,et.height,Re.depth,0,ze,Xe,et.data)}else{lt&&Pt&&t.texStorage2D(n.TEXTURE_2D,je,st,mt[0].width,mt[0].height);for(let Ce=0,Me=mt.length;Ce<Me;Ce++)et=mt[Ce],B.format!==hi?ze!==null?lt?te&&t.compressedTexSubImage2D(n.TEXTURE_2D,Ce,0,0,et.width,et.height,ze,et.data):t.compressedTexImage2D(n.TEXTURE_2D,Ce,st,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):lt?te&&t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,et.width,et.height,ze,Xe,et.data):t.texImage2D(n.TEXTURE_2D,Ce,st,et.width,et.height,0,ze,Xe,et.data)}else if(B.isDataArrayTexture)if(lt){if(Pt&&t.texStorage3D(n.TEXTURE_2D_ARRAY,je,st,Re.width,Re.height,Re.depth),te)if(B.layerUpdates.size>0){const Ce=jw(Re.width,Re.height,B.format,B.type);for(const Me of B.layerUpdates){const We=Re.data.subarray(Me*Ce/Re.data.BYTES_PER_ELEMENT,(Me+1)*Ce/Re.data.BYTES_PER_ELEMENT);t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,Me,Re.width,Re.height,1,ze,Xe,We)}B.clearLayerUpdates()}else t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Re.width,Re.height,Re.depth,ze,Xe,Re.data)}else t.texImage3D(n.TEXTURE_2D_ARRAY,0,st,Re.width,Re.height,Re.depth,0,ze,Xe,Re.data);else if(B.isData3DTexture)lt?(Pt&&t.texStorage3D(n.TEXTURE_3D,je,st,Re.width,Re.height,Re.depth),te&&t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Re.width,Re.height,Re.depth,ze,Xe,Re.data)):t.texImage3D(n.TEXTURE_3D,0,st,Re.width,Re.height,Re.depth,0,ze,Xe,Re.data);else if(B.isFramebufferTexture){if(Pt)if(lt)t.texStorage2D(n.TEXTURE_2D,je,st,Re.width,Re.height);else{let Ce=Re.width,Me=Re.height;for(let We=0;We<je;We++)t.texImage2D(n.TEXTURE_2D,We,st,Ce,Me,0,ze,Xe,null),Ce>>=1,Me>>=1}}else if(mt.length>0){if(lt&&Pt){const Ce=xe(mt[0]);t.texStorage2D(n.TEXTURE_2D,je,st,Ce.width,Ce.height)}for(let Ce=0,Me=mt.length;Ce<Me;Ce++)et=mt[Ce],lt?te&&t.texSubImage2D(n.TEXTURE_2D,Ce,0,0,ze,Xe,et):t.texImage2D(n.TEXTURE_2D,Ce,st,ze,Xe,et);B.generateMipmaps=!1}else if(lt){if(Pt){const Ce=xe(Re);t.texStorage2D(n.TEXTURE_2D,je,st,Ce.width,Ce.height)}te&&t.texSubImage2D(n.TEXTURE_2D,0,0,0,ze,Xe,Re)}else t.texImage2D(n.TEXTURE_2D,0,st,ze,Xe,Re);A(B)&&y(se),Ie.__version=fe.version,B.onUpdate&&B.onUpdate(B)}k.__version=B.version}function he(k,B,ne){if(B.image.length!==6)return;const se=He(k,B),ce=B.source;t.bindTexture(n.TEXTURE_CUBE_MAP,k.__webglTexture,n.TEXTURE0+ne);const fe=i.get(ce);if(ce.version!==fe.__version||se===!0){t.activeTexture(n.TEXTURE0+ne);const Ie=Xt.getPrimaries(Xt.workingColorSpace),Le=B.colorSpace===qo?null:Xt.getPrimaries(B.colorSpace),Fe=B.colorSpace===qo||Ie===Le?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,B.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,B.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Fe);const dt=B.isCompressedTexture||B.image[0].isCompressedTexture,Re=B.image[0]&&B.image[0].isDataTexture,ze=[];for(let Me=0;Me<6;Me++)!dt&&!Re?ze[Me]=g(B.image[Me],!0,r.maxCubemapSize):ze[Me]=Re?B.image[Me].image:B.image[Me],ze[Me]=Be(B,ze[Me]);const Xe=ze[0],st=s.convert(B.format,B.colorSpace),et=s.convert(B.type),mt=b(B.internalFormat,st,et,B.colorSpace),lt=B.isVideoTexture!==!0,Pt=fe.__version===void 0||se===!0,te=ce.dataReady;let je=T(B,Xe);Pe(n.TEXTURE_CUBE_MAP,B);let Ce;if(dt){lt&&Pt&&t.texStorage2D(n.TEXTURE_CUBE_MAP,je,mt,Xe.width,Xe.height);for(let Me=0;Me<6;Me++){Ce=ze[Me].mipmaps;for(let We=0;We<Ce.length;We++){const Ye=Ce[We];B.format!==hi?st!==null?lt?te&&t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We,0,0,Ye.width,Ye.height,st,Ye.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We,mt,Ye.width,Ye.height,0,Ye.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):lt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We,0,0,Ye.width,Ye.height,st,et,Ye.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We,mt,Ye.width,Ye.height,0,st,et,Ye.data)}}}else{if(Ce=B.mipmaps,lt&&Pt){Ce.length>0&&je++;const Me=xe(ze[0]);t.texStorage2D(n.TEXTURE_CUBE_MAP,je,mt,Me.width,Me.height)}for(let Me=0;Me<6;Me++)if(Re){lt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,ze[Me].width,ze[Me].height,st,et,ze[Me].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,mt,ze[Me].width,ze[Me].height,0,st,et,ze[Me].data);for(let We=0;We<Ce.length;We++){const _t=Ce[We].image[Me].image;lt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We+1,0,0,_t.width,_t.height,st,et,_t.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We+1,mt,_t.width,_t.height,0,st,et,_t.data)}}else{lt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,0,0,st,et,ze[Me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,0,mt,st,et,ze[Me]);for(let We=0;We<Ce.length;We++){const Ye=Ce[We];lt?te&&t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We+1,0,0,st,et,Ye.image[Me]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Me,We+1,mt,st,et,Ye.image[Me])}}}A(B)&&y(n.TEXTURE_CUBE_MAP),fe.__version=ce.version,B.onUpdate&&B.onUpdate(B)}k.__version=B.version}function Oe(k,B,ne,se,ce,fe){const Ie=s.convert(ne.format,ne.colorSpace),Le=s.convert(ne.type),Fe=b(ne.internalFormat,Ie,Le,ne.colorSpace),dt=i.get(B),Re=i.get(ne);if(Re.__renderTarget=B,!dt.__hasExternalTextures){const ze=Math.max(1,B.width>>fe),Xe=Math.max(1,B.height>>fe);ce===n.TEXTURE_3D||ce===n.TEXTURE_2D_ARRAY?t.texImage3D(ce,fe,Fe,ze,Xe,B.depth,0,Ie,Le,null):t.texImage2D(ce,fe,Fe,ze,Xe,0,Ie,Le,null)}t.bindFramebuffer(n.FRAMEBUFFER,k),K(B)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,se,ce,Re.__webglTexture,0,_e(B)):(ce===n.TEXTURE_2D||ce>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&ce<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,se,ce,Re.__webglTexture,fe),t.bindFramebuffer(n.FRAMEBUFFER,null)}function J(k,B,ne){if(n.bindRenderbuffer(n.RENDERBUFFER,k),B.depthBuffer){const se=B.depthTexture,ce=se&&se.isDepthTexture?se.type:null,fe=_(B.stencilBuffer,ce),Ie=B.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Le=_e(B);K(B)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Le,fe,B.width,B.height):ne?n.renderbufferStorageMultisample(n.RENDERBUFFER,Le,fe,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,fe,B.width,B.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,Ie,n.RENDERBUFFER,k)}else{const se=B.textures;for(let ce=0;ce<se.length;ce++){const fe=se[ce],Ie=s.convert(fe.format,fe.colorSpace),Le=s.convert(fe.type),Fe=b(fe.internalFormat,Ie,Le,fe.colorSpace),dt=_e(B);ne&&K(B)===!1?n.renderbufferStorageMultisample(n.RENDERBUFFER,dt,Fe,B.width,B.height):K(B)?a.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,dt,Fe,B.width,B.height):n.renderbufferStorage(n.RENDERBUFFER,Fe,B.width,B.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function ye(k,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,k),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const se=i.get(B.depthTexture);se.__renderTarget=B,(!se.__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),X(B.depthTexture,0);const ce=se.__webglTexture,fe=_e(B);if(B.depthTexture.format===td)K(B)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ce,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,ce,0);else if(B.depthTexture.format===Md)K(B)?a.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ce,0,fe):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,ce,0);else throw new Error("Unknown depthTexture format")}function Se(k){const B=i.get(k),ne=k.isWebGLCubeRenderTarget===!0;if(B.__boundDepthTexture!==k.depthTexture){const se=k.depthTexture;if(B.__depthDisposeCallback&&B.__depthDisposeCallback(),se){const ce=()=>{delete B.__boundDepthTexture,delete B.__depthDisposeCallback,se.removeEventListener("dispose",ce)};se.addEventListener("dispose",ce),B.__depthDisposeCallback=ce}B.__boundDepthTexture=se}if(k.depthTexture&&!B.__autoAllocateDepthBuffer){if(ne)throw new Error("target.depthTexture not supported in Cube render targets");ye(B.__webglFramebuffer,k)}else if(ne){B.__webglDepthbuffer=[];for(let se=0;se<6;se++)if(t.bindFramebuffer(n.FRAMEBUFFER,B.__webglFramebuffer[se]),B.__webglDepthbuffer[se]===void 0)B.__webglDepthbuffer[se]=n.createRenderbuffer(),J(B.__webglDepthbuffer[se],k,!1);else{const ce=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,fe=B.__webglDepthbuffer[se];n.bindRenderbuffer(n.RENDERBUFFER,fe),n.framebufferRenderbuffer(n.FRAMEBUFFER,ce,n.RENDERBUFFER,fe)}}else if(t.bindFramebuffer(n.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer===void 0)B.__webglDepthbuffer=n.createRenderbuffer(),J(B.__webglDepthbuffer,k,!1);else{const se=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,ce=B.__webglDepthbuffer;n.bindRenderbuffer(n.RENDERBUFFER,ce),n.framebufferRenderbuffer(n.FRAMEBUFFER,se,n.RENDERBUFFER,ce)}t.bindFramebuffer(n.FRAMEBUFFER,null)}function be(k,B,ne){const se=i.get(k);B!==void 0&&Oe(se.__webglFramebuffer,k,k.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),ne!==void 0&&Se(k)}function qe(k){const B=k.texture,ne=i.get(k),se=i.get(B);k.addEventListener("dispose",I);const ce=k.textures,fe=k.isWebGLCubeRenderTarget===!0,Ie=ce.length>1;if(Ie||(se.__webglTexture===void 0&&(se.__webglTexture=n.createTexture()),se.__version=B.version,o.memory.textures++),fe){ne.__webglFramebuffer=[];for(let Le=0;Le<6;Le++)if(B.mipmaps&&B.mipmaps.length>0){ne.__webglFramebuffer[Le]=[];for(let Fe=0;Fe<B.mipmaps.length;Fe++)ne.__webglFramebuffer[Le][Fe]=n.createFramebuffer()}else ne.__webglFramebuffer[Le]=n.createFramebuffer()}else{if(B.mipmaps&&B.mipmaps.length>0){ne.__webglFramebuffer=[];for(let Le=0;Le<B.mipmaps.length;Le++)ne.__webglFramebuffer[Le]=n.createFramebuffer()}else ne.__webglFramebuffer=n.createFramebuffer();if(Ie)for(let Le=0,Fe=ce.length;Le<Fe;Le++){const dt=i.get(ce[Le]);dt.__webglTexture===void 0&&(dt.__webglTexture=n.createTexture(),o.memory.textures++)}if(k.samples>0&&K(k)===!1){ne.__webglMultisampledFramebuffer=n.createFramebuffer(),ne.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,ne.__webglMultisampledFramebuffer);for(let Le=0;Le<ce.length;Le++){const Fe=ce[Le];ne.__webglColorRenderbuffer[Le]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,ne.__webglColorRenderbuffer[Le]);const dt=s.convert(Fe.format,Fe.colorSpace),Re=s.convert(Fe.type),ze=b(Fe.internalFormat,dt,Re,Fe.colorSpace,k.isXRRenderTarget===!0),Xe=_e(k);n.renderbufferStorageMultisample(n.RENDERBUFFER,Xe,ze,k.width,k.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Le,n.RENDERBUFFER,ne.__webglColorRenderbuffer[Le])}n.bindRenderbuffer(n.RENDERBUFFER,null),k.depthBuffer&&(ne.__webglDepthRenderbuffer=n.createRenderbuffer(),J(ne.__webglDepthRenderbuffer,k,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(fe){t.bindTexture(n.TEXTURE_CUBE_MAP,se.__webglTexture),Pe(n.TEXTURE_CUBE_MAP,B);for(let Le=0;Le<6;Le++)if(B.mipmaps&&B.mipmaps.length>0)for(let Fe=0;Fe<B.mipmaps.length;Fe++)Oe(ne.__webglFramebuffer[Le][Fe],k,B,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,Fe);else Oe(ne.__webglFramebuffer[Le],k,B,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Le,0);A(B)&&y(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Ie){for(let Le=0,Fe=ce.length;Le<Fe;Le++){const dt=ce[Le],Re=i.get(dt);t.bindTexture(n.TEXTURE_2D,Re.__webglTexture),Pe(n.TEXTURE_2D,dt),Oe(ne.__webglFramebuffer,k,dt,n.COLOR_ATTACHMENT0+Le,n.TEXTURE_2D,0),A(dt)&&y(n.TEXTURE_2D)}t.unbindTexture()}else{let Le=n.TEXTURE_2D;if((k.isWebGL3DRenderTarget||k.isWebGLArrayRenderTarget)&&(Le=k.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY),t.bindTexture(Le,se.__webglTexture),Pe(Le,B),B.mipmaps&&B.mipmaps.length>0)for(let Fe=0;Fe<B.mipmaps.length;Fe++)Oe(ne.__webglFramebuffer[Fe],k,B,n.COLOR_ATTACHMENT0,Le,Fe);else Oe(ne.__webglFramebuffer,k,B,n.COLOR_ATTACHMENT0,Le,0);A(B)&&y(Le),t.unbindTexture()}k.depthBuffer&&Se(k)}function rt(k){const B=k.textures;for(let ne=0,se=B.length;ne<se;ne++){const ce=B[ne];if(A(ce)){const fe=x(k),Ie=i.get(ce).__webglTexture;t.bindTexture(fe,Ie),y(fe),t.unbindTexture()}}}const W=[],R=[];function le(k){if(k.samples>0){if(K(k)===!1){const B=k.textures,ne=k.width,se=k.height;let ce=n.COLOR_BUFFER_BIT;const fe=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ie=i.get(k),Le=B.length>1;if(Le)for(let Fe=0;Fe<B.length;Fe++)t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Fe,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Fe,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglFramebuffer);for(let Fe=0;Fe<B.length;Fe++){if(k.resolveDepthBuffer&&(k.depthBuffer&&(ce|=n.DEPTH_BUFFER_BIT),k.stencilBuffer&&k.resolveStencilBuffer&&(ce|=n.STENCIL_BUFFER_BIT)),Le){n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Fe]);const dt=i.get(B[Fe]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,dt,0)}n.blitFramebuffer(0,0,ne,se,0,0,ne,se,ce,n.NEAREST),l===!0&&(W.length=0,R.length=0,W.push(n.COLOR_ATTACHMENT0+Fe),k.depthBuffer&&k.resolveDepthBuffer===!1&&(W.push(fe),R.push(fe),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,R)),n.invalidateFramebuffer(n.READ_FRAMEBUFFER,W))}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Le)for(let Fe=0;Fe<B.length;Fe++){t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Fe,n.RENDERBUFFER,Ie.__webglColorRenderbuffer[Fe]);const dt=i.get(B[Fe]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ie.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Fe,n.TEXTURE_2D,dt,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ie.__webglMultisampledFramebuffer)}else if(k.depthBuffer&&k.resolveDepthBuffer===!1&&l){const B=k.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT;n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[B])}}}function _e(k){return Math.min(r.maxSamples,k.samples)}function K(k){const B=i.get(k);return k.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function de(k){const B=o.render.frame;u.get(k)!==B&&(u.set(k,B),k.update())}function Be(k,B){const ne=k.colorSpace,se=k.format,ce=k.type;return k.isCompressedTexture===!0||k.isVideoTexture===!0||ne!==pi&&ne!==qo&&(Xt.getTransfer(ne)===yn?(se!==hi||ce!==Ki)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ne)),B}function xe(k){return typeof HTMLImageElement<"u"&&k instanceof HTMLImageElement?(c.width=k.naturalWidth||k.width,c.height=k.naturalHeight||k.height):typeof VideoFrame<"u"&&k instanceof VideoFrame?(c.width=k.displayWidth,c.height=k.displayHeight):(c.width=k.width,c.height=k.height),c}this.allocateTextureUnit=H,this.resetTextureUnits=F,this.setTexture2D=X,this.setTexture2DArray=U,this.setTexture3D=G,this.setTextureCube=j,this.rebindTextures=be,this.setupRenderTarget=qe,this.updateRenderTargetMipmap=rt,this.updateMultisampleRenderTarget=le,this.setupDepthRenderbuffer=Se,this.setupFrameBufferTexture=Oe,this.useMultisampledRTT=K}function Bne(n,e){function t(i,r=qo){let s;const o=Xt.getTransfer(r);if(i===Ki)return n.UNSIGNED_BYTE;if(i===Wx)return n.UNSIGNED_SHORT_4_4_4_4;if(i===qx)return n.UNSIGNED_SHORT_5_5_5_1;if(i===BI)return n.UNSIGNED_INT_5_9_9_9_REV;if(i===PI)return n.BYTE;if(i===RI)return n.SHORT;if(i===X0)return n.UNSIGNED_SHORT;if(i===jx)return n.INT;if(i===Pu)return n.UNSIGNED_INT;if(i===Zt)return n.FLOAT;if(i===nn)return n.HALF_FLOAT;if(i===LI)return n.ALPHA;if(i===FI)return n.RGB;if(i===hi)return n.RGBA;if(i===OI)return n.LUMINANCE;if(i===UI)return n.LUMINANCE_ALPHA;if(i===td)return n.DEPTH_COMPONENT;if(i===Md)return n.DEPTH_STENCIL;if(i===zl)return n.RED;if(i===Xx)return n.RED_INTEGER;if(i===ou)return n.RG;if(i===Yx)return n.RG_INTEGER;if(i===$x)return n.RGBA_INTEGER;if(i===Ym||i===x0||i===$m||i===C0)if(o===yn)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(i===Ym)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(i===x0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(i===$m)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(i===C0)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(i===Ym)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(i===x0)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(i===$m)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(i===C0)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(i===Bg||i===ob||i===Lg||i===ab)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(i===Bg)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(i===ob)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(i===Lg)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(i===ab)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(i===Fg||i===Og||i===Ug)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(i===Fg||i===Og)return o===yn?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(i===Ug)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(i===Y0||i===lb||i===cb||i===ub||i===$0||i===fb||i===db||i===hb||i===pb||i===mb||i===gb||i===Ab||i===vb||i===yb)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(i===Y0)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(i===lb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(i===cb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(i===ub)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(i===$0)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(i===fb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(i===db)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(i===hb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(i===pb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(i===mb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(i===gb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(i===Ab)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(i===vb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(i===yb)return o===yn?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(i===S0||i===_b||i===Ng)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(i===S0)return o===yn?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(i===_b)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(i===Ng)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(i===NI||i===bb||i===xb||i===Cb)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(i===S0)return s.COMPRESSED_RED_RGTC1_EXT;if(i===bb)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(i===xb)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(i===Cb)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return i===Td?n.UNSIGNED_INT_24_8:n[i]!==void 0?n[i]:null}return{convert:t}}const Lne=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Fne=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class One{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,t,i){if(this.texture===null){const r=new xn,s=e.properties.get(r);s.__webglTexture=t.texture,(t.depthNear!==i.depthNear||t.depthFar!==i.depthFar)&&(this.depthNear=t.depthNear,this.depthFar=t.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const t=e.cameras[0].viewport,i=new Cn({vertexShader:Lne,fragmentShader:Fne,uniforms:{depthColor:{value:this.texture},depthWidth:{value:t.z},depthHeight:{value:t.w}}});this.mesh=new Qe(new ao(20,20),i)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class Une extends ac{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",l=1,c=null,u=null,f=null,h=null,p=null,m=null;const g=new One,A=t.getContextAttributes();let y=null,x=null;const b=[],_=[],T=new De;let M=null;const I=new Zi;I.viewport=new Vt;const P=new Zi;P.viewport=new Vt;const w=[I,P],E=new XK;let O=null,F=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(re){let he=b[re];return he===void 0&&(he=new C3,b[re]=he),he.getTargetRaySpace()},this.getControllerGrip=function(re){let he=b[re];return he===void 0&&(he=new C3,b[re]=he),he.getGripSpace()},this.getHand=function(re){let he=b[re];return he===void 0&&(he=new C3,b[re]=he),he.getHandSpace()};function H(re){const he=_.indexOf(re.inputSource);if(he===-1)return;const Oe=b[he];Oe!==void 0&&(Oe.update(re.inputSource,re.frame,c||o),Oe.dispatchEvent({type:re.type,data:re.inputSource}))}function z(){r.removeEventListener("select",H),r.removeEventListener("selectstart",H),r.removeEventListener("selectend",H),r.removeEventListener("squeeze",H),r.removeEventListener("squeezestart",H),r.removeEventListener("squeezeend",H),r.removeEventListener("end",z),r.removeEventListener("inputsourceschange",X);for(let re=0;re<b.length;re++){const he=_[re];he!==null&&(_[re]=null,b[re].disconnect(he))}O=null,F=null,g.reset(),e.setRenderTarget(y),p=null,h=null,f=null,r=null,x=null,He.stop(),i.isPresenting=!1,e.setPixelRatio(M),e.setSize(T.width,T.height,!1),i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(re){s=re,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(re){a=re,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||o},this.setReferenceSpace=function(re){c=re},this.getBaseLayer=function(){return h!==null?h:p},this.getBinding=function(){return f},this.getFrame=function(){return m},this.getSession=function(){return r},this.setSession=async function(re){if(r=re,r!==null){if(y=e.getRenderTarget(),r.addEventListener("select",H),r.addEventListener("selectstart",H),r.addEventListener("selectend",H),r.addEventListener("squeeze",H),r.addEventListener("squeezestart",H),r.addEventListener("squeezeend",H),r.addEventListener("end",z),r.addEventListener("inputsourceschange",X),A.xrCompatible!==!0&&await t.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(T),typeof XRWebGLBinding<"u"&&"createProjectionLayer"in XRWebGLBinding.prototype){let Oe=null,J=null,ye=null;A.depth&&(ye=A.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,Oe=A.stencil?Md:td,J=A.stencil?Td:Pu);const Se={colorFormat:t.RGBA8,depthFormat:ye,scaleFactor:s};f=new XRWebGLBinding(r,t),h=f.createProjectionLayer(Se),r.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),x=new ai(h.textureWidth,h.textureHeight,{format:hi,type:Ki,depthTexture:new tD(h.textureWidth,h.textureHeight,J,void 0,void 0,void 0,void 0,void 0,void 0,Oe),stencilBuffer:A.stencil,colorSpace:e.outputColorSpace,samples:A.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}else{const Oe={antialias:A.antialias,alpha:!0,depth:A.depth,stencil:A.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(r,t,Oe),r.updateRenderState({baseLayer:p}),e.setPixelRatio(1),e.setSize(p.framebufferWidth,p.framebufferHeight,!1),x=new ai(p.framebufferWidth,p.framebufferHeight,{format:hi,type:Ki,colorSpace:e.outputColorSpace,stencilBuffer:A.stencil})}x.isXRRenderTarget=!0,this.setFoveation(l),c=null,o=await r.requestReferenceSpace(a),He.setContext(r),He.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode},this.getDepthTexture=function(){return g.getDepthTexture()};function X(re){for(let he=0;he<re.removed.length;he++){const Oe=re.removed[he],J=_.indexOf(Oe);J>=0&&(_[J]=null,b[J].disconnect(Oe))}for(let he=0;he<re.added.length;he++){const Oe=re.added[he];let J=_.indexOf(Oe);if(J===-1){for(let Se=0;Se<b.length;Se++)if(Se>=_.length){_.push(Oe),J=Se;break}else if(_[Se]===null){_[Se]=Oe,J=Se;break}if(J===-1)break}const ye=b[J];ye&&ye.connect(Oe)}}const U=new Z,G=new Z;function j(re,he,Oe){U.setFromMatrixPosition(he.matrixWorld),G.setFromMatrixPosition(Oe.matrixWorld);const J=U.distanceTo(G),ye=he.projectionMatrix.elements,Se=Oe.projectionMatrix.elements,be=ye[14]/(ye[10]-1),qe=ye[14]/(ye[10]+1),rt=(ye[9]+1)/ye[5],W=(ye[9]-1)/ye[5],R=(ye[8]-1)/ye[0],le=(Se[8]+1)/Se[0],_e=be*R,K=be*le,de=J/(-R+le),Be=de*-R;if(he.matrixWorld.decompose(re.position,re.quaternion,re.scale),re.translateX(Be),re.translateZ(de),re.matrixWorld.compose(re.position,re.quaternion,re.scale),re.matrixWorldInverse.copy(re.matrixWorld).invert(),ye[10]===-1)re.projectionMatrix.copy(he.projectionMatrix),re.projectionMatrixInverse.copy(he.projectionMatrixInverse);else{const xe=be+de,k=qe+de,B=_e-Be,ne=K+(J-Be),se=rt*qe/k*xe,ce=W*qe/k*xe;re.projectionMatrix.makePerspective(B,ne,se,ce,xe,k),re.projectionMatrixInverse.copy(re.projectionMatrix).invert()}}function Y(re,he){he===null?re.matrixWorld.copy(re.matrix):re.matrixWorld.multiplyMatrices(he.matrixWorld,re.matrix),re.matrixWorldInverse.copy(re.matrixWorld).invert()}this.updateCamera=function(re){if(r===null)return;let he=re.near,Oe=re.far;g.texture!==null&&(g.depthNear>0&&(he=g.depthNear),g.depthFar>0&&(Oe=g.depthFar)),E.near=P.near=I.near=he,E.far=P.far=I.far=Oe,(O!==E.near||F!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),O=E.near,F=E.far),I.layers.mask=re.layers.mask|2,P.layers.mask=re.layers.mask|4,E.layers.mask=I.layers.mask|P.layers.mask;const J=re.parent,ye=E.cameras;Y(E,J);for(let Se=0;Se<ye.length;Se++)Y(ye[Se],J);ye.length===2?j(E,I,P):E.projectionMatrix.copy(I.projectionMatrix),Q(re,E,J)};function Q(re,he,Oe){Oe===null?re.matrix.copy(he.matrixWorld):(re.matrix.copy(Oe.matrixWorld),re.matrix.invert(),re.matrix.multiply(he.matrixWorld)),re.matrix.decompose(re.position,re.quaternion,re.scale),re.updateMatrixWorld(!0),re.projectionMatrix.copy(he.projectionMatrix),re.projectionMatrixInverse.copy(he.projectionMatrixInverse),re.isPerspectiveCamera&&(re.fov=Id*2*Math.atan(1/re.projectionMatrix.elements[5]),re.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(h===null&&p===null))return l},this.setFoveation=function(re){l=re,h!==null&&(h.fixedFoveation=re),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=re)},this.hasDepthSensing=function(){return g.texture!==null},this.getDepthSensingMesh=function(){return g.getMesh(E)};let ve=null;function Pe(re,he){if(u=he.getViewerPose(c||o),m=he,u!==null){const Oe=u.views;p!==null&&(e.setRenderTargetFramebuffer(x,p.framebuffer),e.setRenderTarget(x));let J=!1;Oe.length!==E.cameras.length&&(E.cameras.length=0,J=!0);for(let be=0;be<Oe.length;be++){const qe=Oe[be];let rt=null;if(p!==null)rt=p.getViewport(qe);else{const R=f.getViewSubImage(h,qe);rt=R.viewport,be===0&&(e.setRenderTargetTextures(x,R.colorTexture,h.ignoreDepthValues?void 0:R.depthStencilTexture),e.setRenderTarget(x))}let W=w[be];W===void 0&&(W=new Zi,W.layers.enable(be),W.viewport=new Vt,w[be]=W),W.matrix.fromArray(qe.transform.matrix),W.matrix.decompose(W.position,W.quaternion,W.scale),W.projectionMatrix.fromArray(qe.projectionMatrix),W.projectionMatrixInverse.copy(W.projectionMatrix).invert(),W.viewport.set(rt.x,rt.y,rt.width,rt.height),be===0&&(E.matrix.copy(W.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),J===!0&&E.cameras.push(W)}const ye=r.enabledFeatures;if(ye&&ye.includes("depth-sensing")&&r.depthUsage=="gpu-optimized"&&f){const be=f.getDepthInformation(Oe[0]);be&&be.isValid&&be.texture&&g.init(e,be,r.renderState)}}for(let Oe=0;Oe<b.length;Oe++){const J=_[Oe],ye=b[Oe];J!==null&&ye!==void 0&&ye.update(J,he,c||o)}ve&&ve(re,he),he.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:he}),m=null}const He=new cD;He.setAnimationLoop(Pe),this.setAnimationLoop=function(re){ve=re},this.dispose=function(){}}}const Qc=new Di,Nne=new xt;function kne(n,e){function t(A,y){A.matrixAutoUpdate===!0&&A.updateMatrix(),y.value.copy(A.matrix)}function i(A,y){y.color.getRGB(A.fogColor.value,YI(n)),y.isFog?(A.fogNear.value=y.near,A.fogFar.value=y.far):y.isFogExp2&&(A.fogDensity.value=y.density)}function r(A,y,x,b,_){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(A,y):y.isMeshToonMaterial?(s(A,y),f(A,y)):y.isMeshPhongMaterial?(s(A,y),u(A,y)):y.isMeshStandardMaterial?(s(A,y),h(A,y),y.isMeshPhysicalMaterial&&p(A,y,_)):y.isMeshMatcapMaterial?(s(A,y),m(A,y)):y.isMeshDepthMaterial?s(A,y):y.isMeshDistanceMaterial?(s(A,y),g(A,y)):y.isMeshNormalMaterial?s(A,y):y.isLineBasicMaterial?(o(A,y),y.isLineDashedMaterial&&a(A,y)):y.isPointsMaterial?l(A,y,x,b):y.isSpriteMaterial?c(A,y):y.isShadowMaterial?(A.color.value.copy(y.color),A.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(A,y){A.opacity.value=y.opacity,y.color&&A.diffuse.value.copy(y.color),y.emissive&&A.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(A.map.value=y.map,t(y.map,A.mapTransform)),y.alphaMap&&(A.alphaMap.value=y.alphaMap,t(y.alphaMap,A.alphaMapTransform)),y.bumpMap&&(A.bumpMap.value=y.bumpMap,t(y.bumpMap,A.bumpMapTransform),A.bumpScale.value=y.bumpScale,y.side===Pr&&(A.bumpScale.value*=-1)),y.normalMap&&(A.normalMap.value=y.normalMap,t(y.normalMap,A.normalMapTransform),A.normalScale.value.copy(y.normalScale),y.side===Pr&&A.normalScale.value.negate()),y.displacementMap&&(A.displacementMap.value=y.displacementMap,t(y.displacementMap,A.displacementMapTransform),A.displacementScale.value=y.displacementScale,A.displacementBias.value=y.displacementBias),y.emissiveMap&&(A.emissiveMap.value=y.emissiveMap,t(y.emissiveMap,A.emissiveMapTransform)),y.specularMap&&(A.specularMap.value=y.specularMap,t(y.specularMap,A.specularMapTransform)),y.alphaTest>0&&(A.alphaTest.value=y.alphaTest);const x=e.get(y),b=x.envMap,_=x.envMapRotation;b&&(A.envMap.value=b,Qc.copy(_),Qc.x*=-1,Qc.y*=-1,Qc.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(Qc.y*=-1,Qc.z*=-1),A.envMapRotation.value.setFromMatrix4(Nne.makeRotationFromEuler(Qc)),A.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,A.reflectivity.value=y.reflectivity,A.ior.value=y.ior,A.refractionRatio.value=y.refractionRatio),y.lightMap&&(A.lightMap.value=y.lightMap,A.lightMapIntensity.value=y.lightMapIntensity,t(y.lightMap,A.lightMapTransform)),y.aoMap&&(A.aoMap.value=y.aoMap,A.aoMapIntensity.value=y.aoMapIntensity,t(y.aoMap,A.aoMapTransform))}function o(A,y){A.diffuse.value.copy(y.color),A.opacity.value=y.opacity,y.map&&(A.map.value=y.map,t(y.map,A.mapTransform))}function a(A,y){A.dashSize.value=y.dashSize,A.totalSize.value=y.dashSize+y.gapSize,A.scale.value=y.scale}function l(A,y,x,b){A.diffuse.value.copy(y.color),A.opacity.value=y.opacity,A.size.value=y.size*x,A.scale.value=b*.5,y.map&&(A.map.value=y.map,t(y.map,A.uvTransform)),y.alphaMap&&(A.alphaMap.value=y.alphaMap,t(y.alphaMap,A.alphaMapTransform)),y.alphaTest>0&&(A.alphaTest.value=y.alphaTest)}function c(A,y){A.diffuse.value.copy(y.color),A.opacity.value=y.opacity,A.rotation.value=y.rotation,y.map&&(A.map.value=y.map,t(y.map,A.mapTransform)),y.alphaMap&&(A.alphaMap.value=y.alphaMap,t(y.alphaMap,A.alphaMapTransform)),y.alphaTest>0&&(A.alphaTest.value=y.alphaTest)}function u(A,y){A.specular.value.copy(y.specular),A.shininess.value=Math.max(y.shininess,1e-4)}function f(A,y){y.gradientMap&&(A.gradientMap.value=y.gradientMap)}function h(A,y){A.metalness.value=y.metalness,y.metalnessMap&&(A.metalnessMap.value=y.metalnessMap,t(y.metalnessMap,A.metalnessMapTransform)),A.roughness.value=y.roughness,y.roughnessMap&&(A.roughnessMap.value=y.roughnessMap,t(y.roughnessMap,A.roughnessMapTransform)),y.envMap&&(A.envMapIntensity.value=y.envMapIntensity)}function p(A,y,x){A.ior.value=y.ior,y.sheen>0&&(A.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),A.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(A.sheenColorMap.value=y.sheenColorMap,t(y.sheenColorMap,A.sheenColorMapTransform)),y.sheenRoughnessMap&&(A.sheenRoughnessMap.value=y.sheenRoughnessMap,t(y.sheenRoughnessMap,A.sheenRoughnessMapTransform))),y.clearcoat>0&&(A.clearcoat.value=y.clearcoat,A.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(A.clearcoatMap.value=y.clearcoatMap,t(y.clearcoatMap,A.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(A.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,t(y.clearcoatRoughnessMap,A.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(A.clearcoatNormalMap.value=y.clearcoatNormalMap,t(y.clearcoatNormalMap,A.clearcoatNormalMapTransform),A.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Pr&&A.clearcoatNormalScale.value.negate())),y.dispersion>0&&(A.dispersion.value=y.dispersion),y.iridescence>0&&(A.iridescence.value=y.iridescence,A.iridescenceIOR.value=y.iridescenceIOR,A.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],A.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(A.iridescenceMap.value=y.iridescenceMap,t(y.iridescenceMap,A.iridescenceMapTransform)),y.iridescenceThicknessMap&&(A.iridescenceThicknessMap.value=y.iridescenceThicknessMap,t(y.iridescenceThicknessMap,A.iridescenceThicknessMapTransform))),y.transmission>0&&(A.transmission.value=y.transmission,A.transmissionSamplerMap.value=x.texture,A.transmissionSamplerSize.value.set(x.width,x.height),y.transmissionMap&&(A.transmissionMap.value=y.transmissionMap,t(y.transmissionMap,A.transmissionMapTransform)),A.thickness.value=y.thickness,y.thicknessMap&&(A.thicknessMap.value=y.thicknessMap,t(y.thicknessMap,A.thicknessMapTransform)),A.attenuationDistance.value=y.attenuationDistance,A.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(A.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(A.anisotropyMap.value=y.anisotropyMap,t(y.anisotropyMap,A.anisotropyMapTransform))),A.specularIntensity.value=y.specularIntensity,A.specularColor.value.copy(y.specularColor),y.specularColorMap&&(A.specularColorMap.value=y.specularColorMap,t(y.specularColorMap,A.specularColorMapTransform)),y.specularIntensityMap&&(A.specularIntensityMap.value=y.specularIntensityMap,t(y.specularIntensityMap,A.specularIntensityMapTransform))}function m(A,y){y.matcap&&(A.matcap.value=y.matcap)}function g(A,y){const x=e.get(y).light;A.referencePosition.value.setFromMatrixPosition(x.matrixWorld),A.nearDistance.value=x.shadow.camera.near,A.farDistance.value=x.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function zne(n,e,t,i){let r={},s={},o=[];const a=n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS);function l(x,b){const _=b.program;i.uniformBlockBinding(x,_)}function c(x,b){let _=r[x.id];_===void 0&&(m(x),_=u(x),r[x.id]=_,x.addEventListener("dispose",A));const T=b.program;i.updateUBOMapping(x,T);const M=e.render.frame;s[x.id]!==M&&(h(x),s[x.id]=M)}function u(x){const b=f();x.__bindingPointIndex=b;const _=n.createBuffer(),T=x.__size,M=x.usage;return n.bindBuffer(n.UNIFORM_BUFFER,_),n.bufferData(n.UNIFORM_BUFFER,T,M),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,b,_),_}function f(){for(let x=0;x<a;x++)if(o.indexOf(x)===-1)return o.push(x),x;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(x){const b=r[x.id],_=x.uniforms,T=x.__cache;n.bindBuffer(n.UNIFORM_BUFFER,b);for(let M=0,I=_.length;M<I;M++){const P=Array.isArray(_[M])?_[M]:[_[M]];for(let w=0,E=P.length;w<E;w++){const O=P[w];if(p(O,M,w,T)===!0){const F=O.__offset,H=Array.isArray(O.value)?O.value:[O.value];let z=0;for(let X=0;X<H.length;X++){const U=H[X],G=g(U);typeof U=="number"||typeof U=="boolean"?(O.__data[0]=U,n.bufferSubData(n.UNIFORM_BUFFER,F+z,O.__data)):U.isMatrix3?(O.__data[0]=U.elements[0],O.__data[1]=U.elements[1],O.__data[2]=U.elements[2],O.__data[3]=0,O.__data[4]=U.elements[3],O.__data[5]=U.elements[4],O.__data[6]=U.elements[5],O.__data[7]=0,O.__data[8]=U.elements[6],O.__data[9]=U.elements[7],O.__data[10]=U.elements[8],O.__data[11]=0):(U.toArray(O.__data,z),z+=G.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,F,O.__data)}}}n.bindBuffer(n.UNIFORM_BUFFER,null)}function p(x,b,_,T){const M=x.value,I=b+"_"+_;if(T[I]===void 0)return typeof M=="number"||typeof M=="boolean"?T[I]=M:T[I]=M.clone(),!0;{const P=T[I];if(typeof M=="number"||typeof M=="boolean"){if(P!==M)return T[I]=M,!0}else if(P.equals(M)===!1)return P.copy(M),!0}return!1}function m(x){const b=x.uniforms;let _=0;const T=16;for(let I=0,P=b.length;I<P;I++){const w=Array.isArray(b[I])?b[I]:[b[I]];for(let E=0,O=w.length;E<O;E++){const F=w[E],H=Array.isArray(F.value)?F.value:[F.value];for(let z=0,X=H.length;z<X;z++){const U=H[z],G=g(U),j=_%T,Y=j%G.boundary,Q=j+Y;_+=Y,Q!==0&&T-Q<G.storage&&(_+=T-Q),F.__data=new Float32Array(G.storage/Float32Array.BYTES_PER_ELEMENT),F.__offset=_,_+=G.storage}}}const M=_%T;return M>0&&(_+=T-M),x.__size=_,x.__cache={},this}function g(x){const b={boundary:0,storage:0};return typeof x=="number"||typeof x=="boolean"?(b.boundary=4,b.storage=4):x.isVector2?(b.boundary=8,b.storage=8):x.isVector3||x.isColor?(b.boundary=16,b.storage=12):x.isVector4?(b.boundary=16,b.storage=16):x.isMatrix3?(b.boundary=48,b.storage=48):x.isMatrix4?(b.boundary=64,b.storage=64):x.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",x),b}function A(x){const b=x.target;b.removeEventListener("dispose",A);const _=o.indexOf(b.__bindingPointIndex);o.splice(_,1),n.deleteBuffer(r[b.id]),delete r[b.id],delete s[b.id]}function y(){for(const x in r)n.deleteBuffer(r[x]);o=[],r={},s={}}return{bind:l,update:c,dispose:y}}class Hne{constructor(e={}){const{canvas:t=N$(),context:i=null,depth:r=!0,stencil:s=!1,alpha:o=!1,antialias:a=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1,reverseDepthBuffer:h=!1}=e;this.isWebGLRenderer=!0;let p;if(i!==null){if(typeof WebGLRenderingContext<"u"&&i instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");p=i.getContextAttributes().alpha}else p=o;const m=new Uint32Array(4),g=new Int32Array(4);let A=null,y=null;const x=[],b=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=En,this.toneMapping=Yl,this.toneMappingExposure=1;const _=this;let T=!1,M=0,I=0,P=null,w=-1,E=null;const O=new Vt,F=new Vt;let H=null;const z=new ke(0);let X=0,U=t.width,G=t.height,j=1,Y=null,Q=null;const ve=new Vt(0,0,U,G),Pe=new Vt(0,0,U,G);let He=!1;const re=new n4;let he=!1,Oe=!1;this.transmissionResolutionScale=1;const J=new xt,ye=new xt,Se=new Z,be=new Vt,qe={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let rt=!1;function W(){return P===null?j:1}let R=i;function le(V,ae){return t.getContext(V,ae)}try{const V={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine",`three.js r${Vx}`),t.addEventListener("webglcontextlost",Me,!1),t.addEventListener("webglcontextrestored",We,!1),t.addEventListener("webglcontextcreationerror",Ye,!1),R===null){const ae="webgl2";if(R=le(ae,V),R===null)throw le(ae)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(V){throw console.error("THREE.WebGLRenderer: "+V.message),V}let _e,K,de,Be,xe,k,B,ne,se,ce,fe,Ie,Le,Fe,dt,Re,ze,Xe,st,et,mt,lt,Pt,te;function je(){_e=new Kee(R),_e.init(),lt=new Bne(R,_e),K=new jee(R,_e,e,lt),de=new Pne(R,_e),K.reverseDepthBuffer&&h&&de.buffers.depth.setReversed(!0),Be=new ete(R),xe=new vne,k=new Rne(R,_e,de,xe,K,lt,Be),B=new qee(_),ne=new $ee(_),se=new aZ(R),Pt=new Gee(R,se),ce=new Zee(R,se,Be,Pt),fe=new nte(R,ce,se,Be),st=new tte(R,K,k),Re=new Wee(xe),Ie=new Ane(_,B,ne,_e,K,Pt,Re),Le=new kne(_,xe),Fe=new _ne,dt=new Ene(_e),Xe=new Vee(_,B,ne,de,fe,p,l),ze=new Ine(_,fe,K),te=new zne(R,Be,K,de),et=new Qee(R,_e,Be),mt=new Jee(R,_e,Be),Be.programs=Ie.programs,_.capabilities=K,_.extensions=_e,_.properties=xe,_.renderLists=Fe,_.shadowMap=ze,_.state=de,_.info=Be}je();const Ce=new Une(_,R);this.xr=Ce,this.getContext=function(){return R},this.getContextAttributes=function(){return R.getContextAttributes()},this.forceContextLoss=function(){const V=_e.get("WEBGL_lose_context");V&&V.loseContext()},this.forceContextRestore=function(){const V=_e.get("WEBGL_lose_context");V&&V.restoreContext()},this.getPixelRatio=function(){return j},this.setPixelRatio=function(V){V!==void 0&&(j=V,this.setSize(U,G,!1))},this.getSize=function(V){return V.set(U,G)},this.setSize=function(V,ae,Ae=!0){if(Ce.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}U=V,G=ae,t.width=Math.floor(V*j),t.height=Math.floor(ae*j),Ae===!0&&(t.style.width=V+"px",t.style.height=ae+"px"),this.setViewport(0,0,V,ae)},this.getDrawingBufferSize=function(V){return V.set(U*j,G*j).floor()},this.setDrawingBufferSize=function(V,ae,Ae){U=V,G=ae,j=Ae,t.width=Math.floor(V*Ae),t.height=Math.floor(ae*Ae),this.setViewport(0,0,V,ae)},this.getCurrentViewport=function(V){return V.copy(O)},this.getViewport=function(V){return V.copy(ve)},this.setViewport=function(V,ae,Ae,me){V.isVector4?ve.set(V.x,V.y,V.z,V.w):ve.set(V,ae,Ae,me),de.viewport(O.copy(ve).multiplyScalar(j).round())},this.getScissor=function(V){return V.copy(Pe)},this.setScissor=function(V,ae,Ae,me){V.isVector4?Pe.set(V.x,V.y,V.z,V.w):Pe.set(V,ae,Ae,me),de.scissor(F.copy(Pe).multiplyScalar(j).round())},this.getScissorTest=function(){return He},this.setScissorTest=function(V){de.setScissorTest(He=V)},this.setOpaqueSort=function(V){Y=V},this.setTransparentSort=function(V){Q=V},this.getClearColor=function(V){return V.copy(Xe.getClearColor())},this.setClearColor=function(){Xe.setClearColor.apply(Xe,arguments)},this.getClearAlpha=function(){return Xe.getClearAlpha()},this.setClearAlpha=function(){Xe.setClearAlpha.apply(Xe,arguments)},this.clear=function(V=!0,ae=!0,Ae=!0){let me=0;if(V){let oe=!1;if(P!==null){const Ue=P.texture.format;oe=Ue===$x||Ue===Yx||Ue===Xx}if(oe){const Ue=P.texture.type,Je=Ue===Ki||Ue===Pu||Ue===X0||Ue===Td||Ue===Wx||Ue===qx,tt=Xe.getClearColor(),it=Xe.getClearAlpha(),pt=tt.r,yt=tt.g,ht=tt.b;Je?(m[0]=pt,m[1]=yt,m[2]=ht,m[3]=it,R.clearBufferuiv(R.COLOR,0,m)):(g[0]=pt,g[1]=yt,g[2]=ht,g[3]=it,R.clearBufferiv(R.COLOR,0,g))}else me|=R.COLOR_BUFFER_BIT}ae&&(me|=R.DEPTH_BUFFER_BIT),Ae&&(me|=R.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),R.clear(me)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",Me,!1),t.removeEventListener("webglcontextrestored",We,!1),t.removeEventListener("webglcontextcreationerror",Ye,!1),Xe.dispose(),Fe.dispose(),dt.dispose(),xe.dispose(),B.dispose(),ne.dispose(),fe.dispose(),Pt.dispose(),te.dispose(),Ie.dispose(),Ce.dispose(),Ce.removeEventListener("sessionstart",Ze),Ce.removeEventListener("sessionend",Ct),ct.stop()};function Me(V){V.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),T=!0}function We(){console.log("THREE.WebGLRenderer: Context Restored."),T=!1;const V=Be.autoReset,ae=ze.enabled,Ae=ze.autoUpdate,me=ze.needsUpdate,oe=ze.type;je(),Be.autoReset=V,ze.enabled=ae,ze.autoUpdate=Ae,ze.needsUpdate=me,ze.type=oe}function Ye(V){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",V.statusMessage)}function _t(V){const ae=V.target;ae.removeEventListener("dispose",_t),Wt(ae)}function Wt(V){Rn(V),xe.remove(V)}function Rn(V){const ae=xe.get(V).programs;ae!==void 0&&(ae.forEach(function(Ae){Ie.releaseProgram(Ae)}),V.isShaderMaterial&&Ie.releaseShaderCache(V))}this.renderBufferDirect=function(V,ae,Ae,me,oe,Ue){ae===null&&(ae=qe);const Je=oe.isMesh&&oe.matrixWorld.determinant()<0,tt=tr(V,ae,Ae,me,oe);de.setMaterial(me,Je);let it=Ae.index,pt=1;if(me.wireframe===!0){if(it=ce.getWireframeAttribute(Ae),it===void 0)return;pt=2}const yt=Ae.drawRange,ht=Ae.attributes.position;let Tt=yt.start*pt,Kt=(yt.start+yt.count)*pt;Ue!==null&&(Tt=Math.max(Tt,Ue.start*pt),Kt=Math.min(Kt,(Ue.start+Ue.count)*pt)),it!==null?(Tt=Math.max(Tt,0),Kt=Math.min(Kt,it.count)):ht!=null&&(Tt=Math.max(Tt,0),Kt=Math.min(Kt,ht.count));const jn=Kt-Tt;if(jn<0||jn===1/0)return;Pt.setup(oe,me,tt,Ae,it);let Bn,Ut=et;if(it!==null&&(Bn=se.get(it),Ut=mt,Ut.setIndex(Bn)),oe.isMesh)me.wireframe===!0?(de.setLineWidth(me.wireframeLinewidth*W()),Ut.setMode(R.LINES)):Ut.setMode(R.TRIANGLES);else if(oe.isLine){let At=me.linewidth;At===void 0&&(At=1),de.setLineWidth(At*W()),oe.isLineSegments?Ut.setMode(R.LINES):oe.isLineLoop?Ut.setMode(R.LINE_LOOP):Ut.setMode(R.LINE_STRIP)}else oe.isPoints?Ut.setMode(R.POINTS):oe.isSprite&&Ut.setMode(R.TRIANGLES);if(oe.isBatchedMesh)if(oe._multiDrawInstances!==null)Ut.renderMultiDrawInstances(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount,oe._multiDrawInstances);else if(_e.get("WEBGL_multi_draw"))Ut.renderMultiDraw(oe._multiDrawStarts,oe._multiDrawCounts,oe._multiDrawCount);else{const At=oe._multiDrawStarts,gi=oe._multiDrawCounts,Gt=oe._multiDrawCount,Lr=it?se.get(it).bytesPerElement:1,Bo=xe.get(me).currentProgram.getUniforms();for(let nr=0;nr<Gt;nr++)Bo.setValue(R,"_gl_DrawID",nr),Ut.render(At[nr]/Lr,gi[nr])}else if(oe.isInstancedMesh)Ut.renderInstances(Tt,jn,oe.count);else if(Ae.isInstancedBufferGeometry){const At=Ae._maxInstanceCount!==void 0?Ae._maxInstanceCount:1/0,gi=Math.min(Ae.instanceCount,At);Ut.renderInstances(Tt,jn,gi)}else Ut.render(Tt,jn)};function $e(V,ae,Ae){V.transparent===!0&&V.side===Ks&&V.forceSinglePass===!1?(V.side=Pr,V.needsUpdate=!0,ln(V,ae,Ae),V.side=Mo,V.needsUpdate=!0,ln(V,ae,Ae),V.side=Ks):ln(V,ae,Ae)}this.compile=function(V,ae,Ae=null){Ae===null&&(Ae=V),y=dt.get(Ae),y.init(ae),b.push(y),Ae.traverseVisible(function(oe){oe.isLight&&oe.layers.test(ae.layers)&&(y.pushLight(oe),oe.castShadow&&y.pushShadow(oe))}),V!==Ae&&V.traverseVisible(function(oe){oe.isLight&&oe.layers.test(ae.layers)&&(y.pushLight(oe),oe.castShadow&&y.pushShadow(oe))}),y.setupLights();const me=new Set;return V.traverse(function(oe){if(!(oe.isMesh||oe.isPoints||oe.isLine||oe.isSprite))return;const Ue=oe.material;if(Ue)if(Array.isArray(Ue))for(let Je=0;Je<Ue.length;Je++){const tt=Ue[Je];$e(tt,Ae,oe),me.add(tt)}else $e(Ue,Ae,oe),me.add(Ue)}),b.pop(),y=null,me},this.compileAsync=function(V,ae,Ae=null){const me=this.compile(V,ae,Ae);return new Promise(oe=>{function Ue(){if(me.forEach(function(Je){xe.get(Je).currentProgram.isReady()&&me.delete(Je)}),me.size===0){oe(V);return}setTimeout(Ue,10)}_e.get("KHR_parallel_shader_compile")!==null?Ue():setTimeout(Ue,10)})};let ot=null;function Mt(V){ot&&ot(V)}function Ze(){ct.stop()}function Ct(){ct.start()}const ct=new cD;ct.setAnimationLoop(Mt),typeof self<"u"&&ct.setContext(self),this.setAnimationLoop=function(V){ot=V,Ce.setAnimationLoop(V),V===null?ct.stop():ct.start()},Ce.addEventListener("sessionstart",Ze),Ce.addEventListener("sessionend",Ct),this.render=function(V,ae){if(ae!==void 0&&ae.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(T===!0)return;if(V.matrixWorldAutoUpdate===!0&&V.updateMatrixWorld(),ae.parent===null&&ae.matrixWorldAutoUpdate===!0&&ae.updateMatrixWorld(),Ce.enabled===!0&&Ce.isPresenting===!0&&(Ce.cameraAutoUpdate===!0&&Ce.updateCamera(ae),ae=Ce.getCamera()),V.isScene===!0&&V.onBeforeRender(_,V,ae,P),y=dt.get(V,b.length),y.init(ae),b.push(y),ye.multiplyMatrices(ae.projectionMatrix,ae.matrixWorldInverse),re.setFromProjectionMatrix(ye),Oe=this.localClippingEnabled,he=Re.init(this.clippingPlanes,Oe),A=Fe.get(V,x.length),A.init(),x.push(A),Ce.enabled===!0&&Ce.isPresenting===!0){const Ue=_.xr.getDepthSensingMesh();Ue!==null&&bt(Ue,ae,-1/0,_.sortObjects)}bt(V,ae,0,_.sortObjects),A.finish(),_.sortObjects===!0&&A.sort(Y,Q),rt=Ce.enabled===!1||Ce.isPresenting===!1||Ce.hasDepthSensing()===!1,rt&&Xe.addToRenderList(A,V),this.info.render.frame++,he===!0&&Re.beginShadows();const Ae=y.state.shadowsArray;ze.render(Ae,V,ae),he===!0&&Re.endShadows(),this.info.autoReset===!0&&this.info.reset();const me=A.opaque,oe=A.transmissive;if(y.setupLights(),ae.isArrayCamera){const Ue=ae.cameras;if(oe.length>0)for(let Je=0,tt=Ue.length;Je<tt;Je++){const it=Ue[Je];Rt(me,oe,V,it)}rt&&Xe.render(V);for(let Je=0,tt=Ue.length;Je<tt;Je++){const it=Ue[Je];Vn(A,V,it,it.viewport)}}else oe.length>0&&Rt(me,oe,V,ae),rt&&Xe.render(V),Vn(A,V,ae);P!==null&&I===0&&(k.updateMultisampleRenderTarget(P),k.updateRenderTargetMipmap(P)),V.isScene===!0&&V.onAfterRender(_,V,ae),Pt.resetDefaultState(),w=-1,E=null,b.pop(),b.length>0?(y=b[b.length-1],he===!0&&Re.setGlobalState(_.clippingPlanes,y.state.camera)):y=null,x.pop(),x.length>0?A=x[x.length-1]:A=null};function bt(V,ae,Ae,me){if(V.visible===!1)return;if(V.layers.test(ae.layers)){if(V.isGroup)Ae=V.renderOrder;else if(V.isLOD)V.autoUpdate===!0&&V.update(ae);else if(V.isLight)y.pushLight(V),V.castShadow&&y.pushShadow(V);else if(V.isSprite){if(!V.frustumCulled||re.intersectsSprite(V)){me&&be.setFromMatrixPosition(V.matrixWorld).applyMatrix4(ye);const Je=fe.update(V),tt=V.material;tt.visible&&A.push(V,Je,tt,Ae,be.z,null)}}else if((V.isMesh||V.isLine||V.isPoints)&&(!V.frustumCulled||re.intersectsObject(V))){const Je=fe.update(V),tt=V.material;if(me&&(V.boundingSphere!==void 0?(V.boundingSphere===null&&V.computeBoundingSphere(),be.copy(V.boundingSphere.center)):(Je.boundingSphere===null&&Je.computeBoundingSphere(),be.copy(Je.boundingSphere.center)),be.applyMatrix4(V.matrixWorld).applyMatrix4(ye)),Array.isArray(tt)){const it=Je.groups;for(let pt=0,yt=it.length;pt<yt;pt++){const ht=it[pt],Tt=tt[ht.materialIndex];Tt&&Tt.visible&&A.push(V,Je,Tt,Ae,be.z,ht)}}else tt.visible&&A.push(V,Je,tt,Ae,be.z,null)}}const Ue=V.children;for(let Je=0,tt=Ue.length;Je<tt;Je++)bt(Ue[Je],ae,Ae,me)}function Vn(V,ae,Ae,me){const oe=V.opaque,Ue=V.transmissive,Je=V.transparent;y.setupLightsView(Ae),he===!0&&Re.setGlobalState(_.clippingPlanes,Ae),me&&de.viewport(O.copy(me)),oe.length>0&&$t(oe,ae,Ae),Ue.length>0&&$t(Ue,ae,Ae),Je.length>0&&$t(Je,ae,Ae),de.buffers.depth.setTest(!0),de.buffers.depth.setMask(!0),de.buffers.color.setMask(!0),de.setPolygonOffset(!1)}function Rt(V,ae,Ae,me){if((Ae.isScene===!0?Ae.overrideMaterial:null)!==null)return;y.state.transmissionRenderTarget[me.id]===void 0&&(y.state.transmissionRenderTarget[me.id]=new ai(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")||_e.has("EXT_color_buffer_float")?nn:Ki,minFilter:Fs,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Xt.workingColorSpace}));const Ue=y.state.transmissionRenderTarget[me.id],Je=me.viewport||O;Ue.setSize(Je.z*_.transmissionResolutionScale,Je.w*_.transmissionResolutionScale);const tt=_.getRenderTarget();_.setRenderTarget(Ue),_.getClearColor(z),X=_.getClearAlpha(),X<1&&_.setClearColor(16777215,.5),_.clear(),rt&&Xe.render(Ae);const it=_.toneMapping;_.toneMapping=Yl;const pt=me.viewport;if(me.viewport!==void 0&&(me.viewport=void 0),y.setupLightsView(me),he===!0&&Re.setGlobalState(_.clippingPlanes,me),$t(V,Ae,me),k.updateMultisampleRenderTarget(Ue),k.updateRenderTargetMipmap(Ue),_e.has("WEBGL_multisampled_render_to_texture")===!1){let yt=!1;for(let ht=0,Tt=ae.length;ht<Tt;ht++){const Kt=ae[ht],jn=Kt.object,Bn=Kt.geometry,Ut=Kt.material,At=Kt.group;if(Ut.side===Ks&&jn.layers.test(me.layers)){const gi=Ut.side;Ut.side=Pr,Ut.needsUpdate=!0,Qn(jn,Ae,me,Bn,Ut,At),Ut.side=gi,Ut.needsUpdate=!0,yt=!0}}yt===!0&&(k.updateMultisampleRenderTarget(Ue),k.updateRenderTargetMipmap(Ue))}_.setRenderTarget(tt),_.setClearColor(z,X),pt!==void 0&&(me.viewport=pt),_.toneMapping=it}function $t(V,ae,Ae){const me=ae.isScene===!0?ae.overrideMaterial:null;for(let oe=0,Ue=V.length;oe<Ue;oe++){const Je=V[oe],tt=Je.object,it=Je.geometry,pt=me===null?Je.material:me,yt=Je.group;tt.layers.test(Ae.layers)&&Qn(tt,ae,Ae,it,pt,yt)}}function Qn(V,ae,Ae,me,oe,Ue){V.onBeforeRender(_,ae,Ae,me,oe,Ue),V.modelViewMatrix.multiplyMatrices(Ae.matrixWorldInverse,V.matrixWorld),V.normalMatrix.getNormalMatrix(V.modelViewMatrix),oe.onBeforeRender(_,ae,Ae,me,V,Ue),oe.transparent===!0&&oe.side===Ks&&oe.forceSinglePass===!1?(oe.side=Pr,oe.needsUpdate=!0,_.renderBufferDirect(Ae,ae,me,oe,V,Ue),oe.side=Mo,oe.needsUpdate=!0,_.renderBufferDirect(Ae,ae,me,oe,V,Ue),oe.side=Ks):_.renderBufferDirect(Ae,ae,me,oe,V,Ue),V.onAfterRender(_,ae,Ae,me,oe,Ue)}function ln(V,ae,Ae){ae.isScene!==!0&&(ae=qe);const me=xe.get(V),oe=y.state.lights,Ue=y.state.shadowsArray,Je=oe.state.version,tt=Ie.getParameters(V,oe.state,Ue,ae,Ae),it=Ie.getProgramCacheKey(tt);let pt=me.programs;me.environment=V.isMeshStandardMaterial?ae.environment:null,me.fog=ae.fog,me.envMap=(V.isMeshStandardMaterial?ne:B).get(V.envMap||me.environment),me.envMapRotation=me.environment!==null&&V.envMap===null?ae.environmentRotation:V.envMapRotation,pt===void 0&&(V.addEventListener("dispose",_t),pt=new Map,me.programs=pt);let yt=pt.get(it);if(yt!==void 0){if(me.currentProgram===yt&&me.lightsStateVersion===Je)return Ot(V,tt),yt}else tt.uniforms=Ie.getUniforms(V),V.onBeforeCompile(tt,_),yt=Ie.acquireProgram(tt,it),pt.set(it,yt),me.uniforms=tt.uniforms;const ht=me.uniforms;return(!V.isShaderMaterial&&!V.isRawShaderMaterial||V.clipping===!0)&&(ht.clippingPlanes=Re.uniform),Ot(V,tt),me.needsLights=li(V),me.lightsStateVersion=Je,me.needsLights&&(ht.ambientLightColor.value=oe.state.ambient,ht.lightProbe.value=oe.state.probe,ht.directionalLights.value=oe.state.directional,ht.directionalLightShadows.value=oe.state.directionalShadow,ht.spotLights.value=oe.state.spot,ht.spotLightShadows.value=oe.state.spotShadow,ht.rectAreaLights.value=oe.state.rectArea,ht.ltc_1.value=oe.state.rectAreaLTC1,ht.ltc_2.value=oe.state.rectAreaLTC2,ht.pointLights.value=oe.state.point,ht.pointLightShadows.value=oe.state.pointShadow,ht.hemisphereLights.value=oe.state.hemi,ht.directionalShadowMap.value=oe.state.directionalShadowMap,ht.directionalShadowMatrix.value=oe.state.directionalShadowMatrix,ht.spotShadowMap.value=oe.state.spotShadowMap,ht.spotLightMatrix.value=oe.state.spotLightMatrix,ht.spotLightMap.value=oe.state.spotLightMap,ht.pointShadowMap.value=oe.state.pointShadowMap,ht.pointShadowMatrix.value=oe.state.pointShadowMatrix),me.currentProgram=yt,me.uniformsList=null,yt}function cn(V){if(V.uniformsList===null){const ae=V.currentProgram.getUniforms();V.uniformsList=Km.seqWithValue(ae.seq,V.uniforms)}return V.uniformsList}function Ot(V,ae){const Ae=xe.get(V);Ae.outputColorSpace=ae.outputColorSpace,Ae.batching=ae.batching,Ae.batchingColor=ae.batchingColor,Ae.instancing=ae.instancing,Ae.instancingColor=ae.instancingColor,Ae.instancingMorph=ae.instancingMorph,Ae.skinning=ae.skinning,Ae.morphTargets=ae.morphTargets,Ae.morphNormals=ae.morphNormals,Ae.morphColors=ae.morphColors,Ae.morphTargetsCount=ae.morphTargetsCount,Ae.numClippingPlanes=ae.numClippingPlanes,Ae.numIntersection=ae.numClipIntersection,Ae.vertexAlphas=ae.vertexAlphas,Ae.vertexTangents=ae.vertexTangents,Ae.toneMapping=ae.toneMapping}function tr(V,ae,Ae,me,oe){ae.isScene!==!0&&(ae=qe),k.resetTextureUnits();const Ue=ae.fog,Je=me.isMeshStandardMaterial?ae.environment:null,tt=P===null?_.outputColorSpace:P.isXRRenderTarget===!0?P.texture.colorSpace:pi,it=(me.isMeshStandardMaterial?ne:B).get(me.envMap||Je),pt=me.vertexColors===!0&&!!Ae.attributes.color&&Ae.attributes.color.itemSize===4,yt=!!Ae.attributes.tangent&&(!!me.normalMap||me.anisotropy>0),ht=!!Ae.morphAttributes.position,Tt=!!Ae.morphAttributes.normal,Kt=!!Ae.morphAttributes.color;let jn=Yl;me.toneMapped&&(P===null||P.isXRRenderTarget===!0)&&(jn=_.toneMapping);const Bn=Ae.morphAttributes.position||Ae.morphAttributes.normal||Ae.morphAttributes.color,Ut=Bn!==void 0?Bn.length:0,At=xe.get(me),gi=y.state.lights;if(he===!0&&(Oe===!0||V!==E)){const Pi=V===E&&me.id===w;Re.setState(me,V,Pi)}let Gt=!1;me.version===At.__version?(At.needsLights&&At.lightsStateVersion!==gi.state.version||At.outputColorSpace!==tt||oe.isBatchedMesh&&At.batching===!1||!oe.isBatchedMesh&&At.batching===!0||oe.isBatchedMesh&&At.batchingColor===!0&&oe.colorTexture===null||oe.isBatchedMesh&&At.batchingColor===!1&&oe.colorTexture!==null||oe.isInstancedMesh&&At.instancing===!1||!oe.isInstancedMesh&&At.instancing===!0||oe.isSkinnedMesh&&At.skinning===!1||!oe.isSkinnedMesh&&At.skinning===!0||oe.isInstancedMesh&&At.instancingColor===!0&&oe.instanceColor===null||oe.isInstancedMesh&&At.instancingColor===!1&&oe.instanceColor!==null||oe.isInstancedMesh&&At.instancingMorph===!0&&oe.morphTexture===null||oe.isInstancedMesh&&At.instancingMorph===!1&&oe.morphTexture!==null||At.envMap!==it||me.fog===!0&&At.fog!==Ue||At.numClippingPlanes!==void 0&&(At.numClippingPlanes!==Re.numPlanes||At.numIntersection!==Re.numIntersection)||At.vertexAlphas!==pt||At.vertexTangents!==yt||At.morphTargets!==ht||At.morphNormals!==Tt||At.morphColors!==Kt||At.toneMapping!==jn||At.morphTargetsCount!==Ut)&&(Gt=!0):(Gt=!0,At.__version=me.version);let Lr=At.currentProgram;Gt===!0&&(Lr=ln(me,ae,oe));let Bo=!1,nr=!1,aa=!1;const Sn=Lr.getUniforms(),Ai=At.uniforms;if(de.useProgram(Lr.program)&&(Bo=!0,nr=!0,aa=!0),me.id!==w&&(w=me.id,nr=!0),Bo||E!==V){de.buffers.depth.getReversed()?(J.copy(V.projectionMatrix),z$(J),H$(J),Sn.setValue(R,"projectionMatrix",J)):Sn.setValue(R,"projectionMatrix",V.projectionMatrix),Sn.setValue(R,"viewMatrix",V.matrixWorldInverse);const xi=Sn.map.cameraPosition;xi!==void 0&&xi.setValue(R,Se.setFromMatrixPosition(V.matrixWorld)),K.logarithmicDepthBuffer&&Sn.setValue(R,"logDepthBufFC",2/(Math.log(V.far+1)/Math.LN2)),(me.isMeshPhongMaterial||me.isMeshToonMaterial||me.isMeshLambertMaterial||me.isMeshBasicMaterial||me.isMeshStandardMaterial||me.isShaderMaterial)&&Sn.setValue(R,"isOrthographic",V.isOrthographicCamera===!0),E!==V&&(E=V,nr=!0,aa=!0)}if(oe.isSkinnedMesh){Sn.setOptional(R,oe,"bindMatrix"),Sn.setOptional(R,oe,"bindMatrixInverse");const Pi=oe.skeleton;Pi&&(Pi.boneTexture===null&&Pi.computeBoneTexture(),Sn.setValue(R,"boneTexture",Pi.boneTexture,k))}oe.isBatchedMesh&&(Sn.setOptional(R,oe,"batchingTexture"),Sn.setValue(R,"batchingTexture",oe._matricesTexture,k),Sn.setOptional(R,oe,"batchingIdTexture"),Sn.setValue(R,"batchingIdTexture",oe._indirectTexture,k),Sn.setOptional(R,oe,"batchingColorTexture"),oe._colorsTexture!==null&&Sn.setValue(R,"batchingColorTexture",oe._colorsTexture,k));const ir=Ae.morphAttributes;if((ir.position!==void 0||ir.normal!==void 0||ir.color!==void 0)&&st.update(oe,Ae,Lr),(nr||At.receiveShadow!==oe.receiveShadow)&&(At.receiveShadow=oe.receiveShadow,Sn.setValue(R,"receiveShadow",oe.receiveShadow)),me.isMeshGouraudMaterial&&me.envMap!==null&&(Ai.envMap.value=it,Ai.flipEnvMap.value=it.isCubeTexture&&it.isRenderTargetTexture===!1?-1:1),me.isMeshStandardMaterial&&me.envMap===null&&ae.environment!==null&&(Ai.envMapIntensity.value=ae.environmentIntensity),nr&&(Sn.setValue(R,"toneMappingExposure",_.toneMappingExposure),At.needsLights&&rn(Ai,aa),Ue&&me.fog===!0&&Le.refreshFogUniforms(Ai,Ue),Le.refreshMaterialUniforms(Ai,me,j,G,y.state.transmissionRenderTarget[V.id]),Km.upload(R,cn(At),Ai,k)),me.isShaderMaterial&&me.uniformsNeedUpdate===!0&&(Km.upload(R,cn(At),Ai,k),me.uniformsNeedUpdate=!1),me.isSpriteMaterial&&Sn.setValue(R,"center",oe.center),Sn.setValue(R,"modelViewMatrix",oe.modelViewMatrix),Sn.setValue(R,"normalMatrix",oe.normalMatrix),Sn.setValue(R,"modelMatrix",oe.matrixWorld),me.isShaderMaterial||me.isRawShaderMaterial){const Pi=me.uniformsGroups;for(let xi=0,uc=Pi.length;xi<uc;xi++){const pr=Pi[xi];te.update(pr,Lr),te.bind(pr,Lr)}}return Lr}function rn(V,ae){V.ambientLightColor.needsUpdate=ae,V.lightProbe.needsUpdate=ae,V.directionalLights.needsUpdate=ae,V.directionalLightShadows.needsUpdate=ae,V.pointLights.needsUpdate=ae,V.pointLightShadows.needsUpdate=ae,V.spotLights.needsUpdate=ae,V.spotLightShadows.needsUpdate=ae,V.rectAreaLights.needsUpdate=ae,V.hemisphereLights.needsUpdate=ae}function li(V){return V.isMeshLambertMaterial||V.isMeshToonMaterial||V.isMeshPhongMaterial||V.isMeshStandardMaterial||V.isShadowMaterial||V.isShaderMaterial&&V.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return I},this.getRenderTarget=function(){return P},this.setRenderTargetTextures=function(V,ae,Ae){xe.get(V.texture).__webglTexture=ae,xe.get(V.depthTexture).__webglTexture=Ae;const me=xe.get(V);me.__hasExternalTextures=!0,me.__autoAllocateDepthBuffer=Ae===void 0,me.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),me.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(V,ae){const Ae=xe.get(V);Ae.__webglFramebuffer=ae,Ae.__useDefaultFramebuffer=ae===void 0};const hr=R.createFramebuffer();this.setRenderTarget=function(V,ae=0,Ae=0){P=V,M=ae,I=Ae;let me=!0,oe=null,Ue=!1,Je=!1;if(V){const it=xe.get(V);if(it.__useDefaultFramebuffer!==void 0)de.bindFramebuffer(R.FRAMEBUFFER,null),me=!1;else if(it.__webglFramebuffer===void 0)k.setupRenderTarget(V);else if(it.__hasExternalTextures)k.rebindTextures(V,xe.get(V.texture).__webglTexture,xe.get(V.depthTexture).__webglTexture);else if(V.depthBuffer){const ht=V.depthTexture;if(it.__boundDepthTexture!==ht){if(ht!==null&&xe.has(ht)&&(V.width!==ht.image.width||V.height!==ht.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");k.setupDepthRenderbuffer(V)}}const pt=V.texture;(pt.isData3DTexture||pt.isDataArrayTexture||pt.isCompressedArrayTexture)&&(Je=!0);const yt=xe.get(V).__webglFramebuffer;V.isWebGLCubeRenderTarget?(Array.isArray(yt[ae])?oe=yt[ae][Ae]:oe=yt[ae],Ue=!0):V.samples>0&&k.useMultisampledRTT(V)===!1?oe=xe.get(V).__webglMultisampledFramebuffer:Array.isArray(yt)?oe=yt[Ae]:oe=yt,O.copy(V.viewport),F.copy(V.scissor),H=V.scissorTest}else O.copy(ve).multiplyScalar(j).floor(),F.copy(Pe).multiplyScalar(j).floor(),H=He;if(Ae!==0&&(oe=hr),de.bindFramebuffer(R.FRAMEBUFFER,oe)&&me&&de.drawBuffers(V,oe),de.viewport(O),de.scissor(F),de.setScissorTest(H),Ue){const it=xe.get(V.texture);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_CUBE_MAP_POSITIVE_X+ae,it.__webglTexture,Ae)}else if(Je){const it=xe.get(V.texture),pt=ae;R.framebufferTextureLayer(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,it.__webglTexture,Ae,pt)}else if(V!==null&&Ae!==0){const it=xe.get(V.texture);R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,it.__webglTexture,Ae)}w=-1},this.readRenderTargetPixels=function(V,ae,Ae,me,oe,Ue,Je){if(!(V&&V.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let tt=xe.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&Je!==void 0&&(tt=tt[Je]),tt){de.bindFramebuffer(R.FRAMEBUFFER,tt);try{const it=V.texture,pt=it.format,yt=it.type;if(!K.textureFormatReadable(pt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!K.textureTypeReadable(yt)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}ae>=0&&ae<=V.width-me&&Ae>=0&&Ae<=V.height-oe&&R.readPixels(ae,Ae,me,oe,lt.convert(pt),lt.convert(yt),Ue)}finally{const it=P!==null?xe.get(P).__webglFramebuffer:null;de.bindFramebuffer(R.FRAMEBUFFER,it)}}},this.readRenderTargetPixelsAsync=async function(V,ae,Ae,me,oe,Ue,Je){if(!(V&&V.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let tt=xe.get(V).__webglFramebuffer;if(V.isWebGLCubeRenderTarget&&Je!==void 0&&(tt=tt[Je]),tt){const it=V.texture,pt=it.format,yt=it.type;if(!K.textureFormatReadable(pt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!K.textureTypeReadable(yt))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(ae>=0&&ae<=V.width-me&&Ae>=0&&Ae<=V.height-oe){de.bindFramebuffer(R.FRAMEBUFFER,tt);const ht=R.createBuffer();R.bindBuffer(R.PIXEL_PACK_BUFFER,ht),R.bufferData(R.PIXEL_PACK_BUFFER,Ue.byteLength,R.STREAM_READ),R.readPixels(ae,Ae,me,oe,lt.convert(pt),lt.convert(yt),0);const Tt=P!==null?xe.get(P).__webglFramebuffer:null;de.bindFramebuffer(R.FRAMEBUFFER,Tt);const Kt=R.fenceSync(R.SYNC_GPU_COMMANDS_COMPLETE,0);return R.flush(),await k$(R,Kt,4),R.bindBuffer(R.PIXEL_PACK_BUFFER,ht),R.getBufferSubData(R.PIXEL_PACK_BUFFER,0,Ue),R.deleteBuffer(ht),R.deleteSync(Kt),Ue}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")}},this.copyFramebufferToTexture=function(V,ae=null,Ae=0){V.isTexture!==!0&&(Tf("WebGLRenderer: copyFramebufferToTexture function signature has changed."),ae=arguments[0]||null,V=arguments[1]);const me=Math.pow(2,-Ae),oe=Math.floor(V.image.width*me),Ue=Math.floor(V.image.height*me),Je=ae!==null?ae.x:0,tt=ae!==null?ae.y:0;k.setTexture2D(V,0),R.copyTexSubImage2D(R.TEXTURE_2D,Ae,0,0,Je,tt,oe,Ue),de.unbindTexture()};const Zn=R.createFramebuffer(),Jn=R.createFramebuffer();this.copyTextureToTexture=function(V,ae,Ae=null,me=null,oe=0,Ue=null){V.isTexture!==!0&&(Tf("WebGLRenderer: copyTextureToTexture function signature has changed."),me=arguments[0]||null,V=arguments[1],ae=arguments[2],Ue=arguments[3]||0,Ae=null),Ue===null&&(oe!==0?(Tf("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),Ue=oe,oe=0):Ue=0);let Je,tt,it,pt,yt,ht,Tt,Kt,jn;const Bn=V.isCompressedTexture?V.mipmaps[Ue]:V.image;if(Ae!==null)Je=Ae.max.x-Ae.min.x,tt=Ae.max.y-Ae.min.y,it=Ae.isBox3?Ae.max.z-Ae.min.z:1,pt=Ae.min.x,yt=Ae.min.y,ht=Ae.isBox3?Ae.min.z:0;else{const ir=Math.pow(2,-oe);Je=Math.floor(Bn.width*ir),tt=Math.floor(Bn.height*ir),V.isDataArrayTexture?it=Bn.depth:V.isData3DTexture?it=Math.floor(Bn.depth*ir):it=1,pt=0,yt=0,ht=0}me!==null?(Tt=me.x,Kt=me.y,jn=me.z):(Tt=0,Kt=0,jn=0);const Ut=lt.convert(ae.format),At=lt.convert(ae.type);let gi;ae.isData3DTexture?(k.setTexture3D(ae,0),gi=R.TEXTURE_3D):ae.isDataArrayTexture||ae.isCompressedArrayTexture?(k.setTexture2DArray(ae,0),gi=R.TEXTURE_2D_ARRAY):(k.setTexture2D(ae,0),gi=R.TEXTURE_2D),R.pixelStorei(R.UNPACK_FLIP_Y_WEBGL,ae.flipY),R.pixelStorei(R.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ae.premultiplyAlpha),R.pixelStorei(R.UNPACK_ALIGNMENT,ae.unpackAlignment);const Gt=R.getParameter(R.UNPACK_ROW_LENGTH),Lr=R.getParameter(R.UNPACK_IMAGE_HEIGHT),Bo=R.getParameter(R.UNPACK_SKIP_PIXELS),nr=R.getParameter(R.UNPACK_SKIP_ROWS),aa=R.getParameter(R.UNPACK_SKIP_IMAGES);R.pixelStorei(R.UNPACK_ROW_LENGTH,Bn.width),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,Bn.height),R.pixelStorei(R.UNPACK_SKIP_PIXELS,pt),R.pixelStorei(R.UNPACK_SKIP_ROWS,yt),R.pixelStorei(R.UNPACK_SKIP_IMAGES,ht);const Sn=V.isDataArrayTexture||V.isData3DTexture,Ai=ae.isDataArrayTexture||ae.isData3DTexture;if(V.isDepthTexture){const ir=xe.get(V),Pi=xe.get(ae),xi=xe.get(ir.__renderTarget),uc=xe.get(Pi.__renderTarget);de.bindFramebuffer(R.READ_FRAMEBUFFER,xi.__webglFramebuffer),de.bindFramebuffer(R.DRAW_FRAMEBUFFER,uc.__webglFramebuffer);for(let pr=0;pr<it;pr++)Sn&&(R.framebufferTextureLayer(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,xe.get(V).__webglTexture,oe,ht+pr),R.framebufferTextureLayer(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,xe.get(ae).__webglTexture,Ue,jn+pr)),R.blitFramebuffer(pt,yt,Je,tt,Tt,Kt,Je,tt,R.DEPTH_BUFFER_BIT,R.NEAREST);de.bindFramebuffer(R.READ_FRAMEBUFFER,null),de.bindFramebuffer(R.DRAW_FRAMEBUFFER,null)}else if(oe!==0||V.isRenderTargetTexture||xe.has(V)){const ir=xe.get(V),Pi=xe.get(ae);de.bindFramebuffer(R.READ_FRAMEBUFFER,Zn),de.bindFramebuffer(R.DRAW_FRAMEBUFFER,Jn);for(let xi=0;xi<it;xi++)Sn?R.framebufferTextureLayer(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,ir.__webglTexture,oe,ht+xi):R.framebufferTexture2D(R.READ_FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,ir.__webglTexture,oe),Ai?R.framebufferTextureLayer(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,Pi.__webglTexture,Ue,jn+xi):R.framebufferTexture2D(R.DRAW_FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,Pi.__webglTexture,Ue),oe!==0?R.blitFramebuffer(pt,yt,Je,tt,Tt,Kt,Je,tt,R.COLOR_BUFFER_BIT,R.NEAREST):Ai?R.copyTexSubImage3D(gi,Ue,Tt,Kt,jn+xi,pt,yt,Je,tt):R.copyTexSubImage2D(gi,Ue,Tt,Kt,pt,yt,Je,tt);de.bindFramebuffer(R.READ_FRAMEBUFFER,null),de.bindFramebuffer(R.DRAW_FRAMEBUFFER,null)}else Ai?V.isDataTexture||V.isData3DTexture?R.texSubImage3D(gi,Ue,Tt,Kt,jn,Je,tt,it,Ut,At,Bn.data):ae.isCompressedArrayTexture?R.compressedTexSubImage3D(gi,Ue,Tt,Kt,jn,Je,tt,it,Ut,Bn.data):R.texSubImage3D(gi,Ue,Tt,Kt,jn,Je,tt,it,Ut,At,Bn):V.isDataTexture?R.texSubImage2D(R.TEXTURE_2D,Ue,Tt,Kt,Je,tt,Ut,At,Bn.data):V.isCompressedTexture?R.compressedTexSubImage2D(R.TEXTURE_2D,Ue,Tt,Kt,Bn.width,Bn.height,Ut,Bn.data):R.texSubImage2D(R.TEXTURE_2D,Ue,Tt,Kt,Je,tt,Ut,At,Bn);R.pixelStorei(R.UNPACK_ROW_LENGTH,Gt),R.pixelStorei(R.UNPACK_IMAGE_HEIGHT,Lr),R.pixelStorei(R.UNPACK_SKIP_PIXELS,Bo),R.pixelStorei(R.UNPACK_SKIP_ROWS,nr),R.pixelStorei(R.UNPACK_SKIP_IMAGES,aa),Ue===0&&ae.generateMipmaps&&R.generateMipmap(gi),de.unbindTexture()},this.copyTextureToTexture3D=function(V,ae,Ae=null,me=null,oe=0){return V.isTexture!==!0&&(Tf("WebGLRenderer: copyTextureToTexture3D function signature has changed."),Ae=arguments[0]||null,me=arguments[1]||null,V=arguments[2],ae=arguments[3],oe=arguments[4]||0),Tf('WebGLRenderer: copyTextureToTexture3D function has been deprecated. Use "copyTextureToTexture" instead.'),this.copyTextureToTexture(V,ae,Ae,me,oe)},this.initRenderTarget=function(V){xe.get(V).__webglFramebuffer===void 0&&k.setupRenderTarget(V)},this.initTexture=function(V){V.isCubeTexture?k.setTextureCube(V,0):V.isData3DTexture?k.setTexture3D(V,0):V.isDataArrayTexture||V.isCompressedArrayTexture?k.setTexture2DArray(V,0):k.setTexture2D(V,0),de.unbindTexture()},this.resetState=function(){M=0,I=0,P=null,de.reset(),Pt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ko}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorspace=Xt._getDrawingBufferColorSpace(e),t.unpackColorSpace=Xt._getUnpackColorSpace()}}class Vne{add(e,t=0,i=1/0){const r=RM.add(e,{priority:t,fps:i});return e._remove=r,r}remove(e){e._remove&&e._remove()}}function m8(n,e){if(e===d$)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),n;if(e===Sb||e===kI){let t=n.getIndex();if(t===null){const o=[],a=n.getAttribute("position");if(a!==void 0){for(let l=0;l<a.count;l++)o.push(l);n.setIndex(o),t=n.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),n}const i=t.count-2,r=[];if(e===Sb)for(let o=1;o<=i;o++)r.push(t.getX(0)),r.push(t.getX(o)),r.push(t.getX(o+1));else for(let o=0;o<i;o++)o%2===0?(r.push(t.getX(o)),r.push(t.getX(o+1)),r.push(t.getX(o+2))):(r.push(t.getX(o+2)),r.push(t.getX(o+1)),r.push(t.getX(o)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=n.clone();return s.setIndex(r),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),n}class Gne extends ra{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(t){return new Xne(t)}),this.register(function(t){return new Yne(t)}),this.register(function(t){return new rie(t)}),this.register(function(t){return new sie(t)}),this.register(function(t){return new oie(t)}),this.register(function(t){return new Kne(t)}),this.register(function(t){return new Zne(t)}),this.register(function(t){return new Jne(t)}),this.register(function(t){return new eie(t)}),this.register(function(t){return new qne(t)}),this.register(function(t){return new tie(t)}),this.register(function(t){return new $ne(t)}),this.register(function(t){return new iie(t)}),this.register(function(t){return new nie(t)}),this.register(function(t){return new jne(t)}),this.register(function(t){return new aie(t)}),this.register(function(t){return new lie(t)})}load(e,t,i,r){const s=this;let o;if(this.resourcePath!=="")o=this.resourcePath;else if(this.path!==""){const c=T0.extractUrlBase(e);o=T0.resolveURL(c,this.path)}else o=T0.extractUrlBase(e);this.manager.itemStart(e);const a=function(c){r?r(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new $l(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,o,function(u){t(u),s.manager.itemEnd(e)},a)}catch(u){a(u)}},i,a)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,t,i,r){let s;const o={},a={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===pD){try{o[Qt.KHR_BINARY_GLTF]=new cie(e)}catch(f){r&&r(f);return}s=JSON.parse(o[Qt.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new xie(s,{path:t||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const f=this.pluginCallbacks[u](c);f.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),a[f.name]=f,o[f.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const f=s.extensionsUsed[u],h=s.extensionsRequired||[];switch(f){case Qt.KHR_MATERIALS_UNLIT:o[f]=new Wne;break;case Qt.KHR_DRACO_MESH_COMPRESSION:o[f]=new uie(s,this.dracoLoader);break;case Qt.KHR_TEXTURE_TRANSFORM:o[f]=new fie;break;case Qt.KHR_MESH_QUANTIZATION:o[f]=new die;break;default:h.indexOf(f)>=0&&a[f]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+f+'".')}}c.setExtensions(o),c.setPlugins(a),c.parse(i,r)}parseAsync(e,t){const i=this;return new Promise(function(r,s){i.parse(e,t,r,s)})}}function Qne(){let n={};return{get:function(e){return n[e]},add:function(e,t){n[e]=t},remove:function(e){delete n[e]},removeAll:function(){n={}}}}const Qt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class jne{constructor(e){this.parser=e,this.name=Qt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,t=this.parser.json.nodes||[];for(let i=0,r=t.length;i<r;i++){const s=t[i];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const t=this.parser,i="light:"+e;let r=t.cache.get(i);if(r)return r;const s=t.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new ke(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],pi);const f=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new Qg(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new GK(u),c.distance=f;break;case"spot":c=new HK(u),c.distance=f,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),Ta(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=t.createUniqueName(l.name||"light_"+e),r=Promise.resolve(c),t.cache.add(i,r),r}getDependency(e,t){if(e==="light")return this._loadLight(t)}createNodeAttachment(e){const t=this,i=this.parser,s=i.json.nodes[e],a=(s.extensions&&s.extensions[this.name]||{}).light;return a===void 0?null:this._loadLight(a).then(function(l){return i._getNodeRef(t.cache,a,l)})}}class Wne{constructor(){this.name=Qt.KHR_MATERIALS_UNLIT}getMaterialType(){return Jr}extendParams(e,t,i){const r=[];e.color=new ke(1,1,1),e.opacity=1;const s=t.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const o=s.baseColorFactor;e.color.setRGB(o[0],o[1],o[2],pi),e.opacity=o[3]}s.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",s.baseColorTexture,En))}return Promise.all(r)}}class qne{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name].emissiveStrength;return s!==void 0&&(t.emissiveIntensity=s),Promise.resolve()}}class Xne{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];if(o.clearcoatFactor!==void 0&&(t.clearcoat=o.clearcoatFactor),o.clearcoatTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatMap",o.clearcoatTexture)),o.clearcoatRoughnessFactor!==void 0&&(t.clearcoatRoughness=o.clearcoatRoughnessFactor),o.clearcoatRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"clearcoatRoughnessMap",o.clearcoatRoughnessTexture)),o.clearcoatNormalTexture!==void 0&&(s.push(i.assignTexture(t,"clearcoatNormalMap",o.clearcoatNormalTexture)),o.clearcoatNormalTexture.scale!==void 0)){const a=o.clearcoatNormalTexture.scale;t.clearcoatNormalScale=new De(a,a)}return Promise.all(s)}}class Yne{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_DISPERSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class $ne{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.iridescenceFactor!==void 0&&(t.iridescence=o.iridescenceFactor),o.iridescenceTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceMap",o.iridescenceTexture)),o.iridescenceIor!==void 0&&(t.iridescenceIOR=o.iridescenceIor),t.iridescenceThicknessRange===void 0&&(t.iridescenceThicknessRange=[100,400]),o.iridescenceThicknessMinimum!==void 0&&(t.iridescenceThicknessRange[0]=o.iridescenceThicknessMinimum),o.iridescenceThicknessMaximum!==void 0&&(t.iridescenceThicknessRange[1]=o.iridescenceThicknessMaximum),o.iridescenceThicknessTexture!==void 0&&s.push(i.assignTexture(t,"iridescenceThicknessMap",o.iridescenceThicknessTexture)),Promise.all(s)}}class Kne{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[];t.sheenColor=new ke(0,0,0),t.sheenRoughness=0,t.sheen=1;const o=r.extensions[this.name];if(o.sheenColorFactor!==void 0){const a=o.sheenColorFactor;t.sheenColor.setRGB(a[0],a[1],a[2],pi)}return o.sheenRoughnessFactor!==void 0&&(t.sheenRoughness=o.sheenRoughnessFactor),o.sheenColorTexture!==void 0&&s.push(i.assignTexture(t,"sheenColorMap",o.sheenColorTexture,En)),o.sheenRoughnessTexture!==void 0&&s.push(i.assignTexture(t,"sheenRoughnessMap",o.sheenRoughnessTexture)),Promise.all(s)}}class Zne{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.transmissionFactor!==void 0&&(t.transmission=o.transmissionFactor),o.transmissionTexture!==void 0&&s.push(i.assignTexture(t,"transmissionMap",o.transmissionTexture)),Promise.all(s)}}class Jne{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.thickness=o.thicknessFactor!==void 0?o.thicknessFactor:0,o.thicknessTexture!==void 0&&s.push(i.assignTexture(t,"thicknessMap",o.thicknessTexture)),t.attenuationDistance=o.attenuationDistance||1/0;const a=o.attenuationColor||[1,1,1];return t.attenuationColor=new ke().setRGB(a[0],a[1],a[2],pi),Promise.all(s)}}class eie{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=r.extensions[this.name];return t.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class tie{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];t.specularIntensity=o.specularFactor!==void 0?o.specularFactor:1,o.specularTexture!==void 0&&s.push(i.assignTexture(t,"specularIntensityMap",o.specularTexture));const a=o.specularColorFactor||[1,1,1];return t.specularColor=new ke().setRGB(a[0],a[1],a[2],pi),o.specularColorTexture!==void 0&&s.push(i.assignTexture(t,"specularColorMap",o.specularColorTexture,En)),Promise.all(s)}}class nie{constructor(e){this.parser=e,this.name=Qt.EXT_MATERIALS_BUMP}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return t.bumpScale=o.bumpFactor!==void 0?o.bumpFactor:1,o.bumpTexture!==void 0&&s.push(i.assignTexture(t,"bumpMap",o.bumpTexture)),Promise.all(s)}}class iie{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:lo}extendMaterialParams(e,t){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const s=[],o=r.extensions[this.name];return o.anisotropyStrength!==void 0&&(t.anisotropy=o.anisotropyStrength),o.anisotropyRotation!==void 0&&(t.anisotropyRotation=o.anisotropyRotation),o.anisotropyTexture!==void 0&&s.push(i.assignTexture(t,"anisotropyMap",o.anisotropyTexture)),Promise.all(s)}}class rie{constructor(e){this.parser=e,this.name=Qt.KHR_TEXTURE_BASISU}loadTexture(e){const t=this.parser,i=t.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const s=r.extensions[this.name],o=t.options.ktx2Loader;if(!o){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return t.loadTextureImage(e,s.source,o)}}class sie{constructor(e){this.parser=e,this.name=Qt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class oie{constructor(e){this.parser=e,this.name=Qt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const t=this.name,i=this.parser,r=i.json,s=r.textures[e];if(!s.extensions||!s.extensions[t])return null;const o=s.extensions[t],a=r.images[o.source];let l=i.textureLoader;if(a.uri){const c=i.options.manager.getHandler(a.uri);c!==null&&(l=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,o.source,l);if(r.extensionsRequired&&r.extensionsRequired.indexOf(t)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const t=new Image;t.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",t.onload=t.onerror=function(){e(t.height===1)}})),this.isSupported}}class aie{constructor(e){this.name=Qt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const t=this.parser.json,i=t.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],s=this.parser.getDependency("buffer",r.buffer),o=this.parser.options.meshoptDecoder;if(!o||!o.supported){if(t.extensionsRequired&&t.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(a){const l=r.byteOffset||0,c=r.byteLength||0,u=r.count,f=r.byteStride,h=new Uint8Array(a,l,c);return o.decodeGltfBufferAsync?o.decodeGltfBufferAsync(u,f,h,r.mode,r.filter).then(function(p){return p.buffer}):o.ready.then(function(){const p=new ArrayBuffer(u*f);return o.decodeGltfBuffer(new Uint8Array(p),u,f,h,r.mode,r.filter),p})})}else return null}}class lie{constructor(e){this.name=Qt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const t=this.parser.json,i=t.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=t.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==qs.TRIANGLES&&c.mode!==qs.TRIANGLE_STRIP&&c.mode!==qs.TRIANGLE_FAN&&c.mode!==void 0)return null;const o=i.extensions[this.name].attributes,a=[],l={};for(const c in o)a.push(this.parser.getDependency("accessor",o[c]).then(u=>(l[c]=u,l[c])));return a.length<1?null:(a.push(this.parser.createNodeMesh(e)),Promise.all(a).then(c=>{const u=c.pop(),f=u.isGroup?u.children:[u],h=c[0].count,p=[];for(const m of f){const g=new xt,A=new Z,y=new Xn,x=new Z(1,1,1),b=new wp(m.geometry,m.material,h);for(let _=0;_<h;_++)l.TRANSLATION&&A.fromBufferAttribute(l.TRANSLATION,_),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,_),l.SCALE&&x.fromBufferAttribute(l.SCALE,_),b.setMatrixAt(_,g.compose(A,y,x));for(const _ in l)if(_==="_COLOR_0"){const T=l[_];b.instanceColor=new Do(T.array,T.itemSize,T.normalized)}else _!=="TRANSLATION"&&_!=="ROTATION"&&_!=="SCALE"&&m.geometry.setAttribute(_,l[_]);jt.prototype.copy.call(b,m),this.parser.assignFinalMaterial(b),p.push(b)}return u.isGroup?(u.clear(),u.add(...p),u):p[0]}))}}const pD="glTF",Lh=12,g8={JSON:1313821514,BIN:5130562};class cie{constructor(e){this.name=Qt.KHR_BINARY_GLTF,this.content=null,this.body=null;const t=new DataView(e,0,Lh),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:t.getUint32(4,!0),length:t.getUint32(8,!0)},this.header.magic!==pD)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-Lh,s=new DataView(e,Lh);let o=0;for(;o<r;){const a=s.getUint32(o,!0);o+=4;const l=s.getUint32(o,!0);if(o+=4,l===g8.JSON){const c=new Uint8Array(e,Lh+o,a);this.content=i.decode(c)}else if(l===g8.BIN){const c=Lh+o;this.body=e.slice(c,c+a)}o+=a}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class uie{constructor(e,t){if(!t)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=t,this.dracoLoader.preload()}decodePrimitive(e,t){const i=this.json,r=this.dracoLoader,s=e.extensions[this.name].bufferView,o=e.extensions[this.name].attributes,a={},l={},c={};for(const u in o){const f=Db[u]||u.toLowerCase();a[f]=o[u]}for(const u in e.attributes){const f=Db[u]||u.toLowerCase();if(o[u]!==void 0){const h=i.accessors[e.attributes[u]],p=id[h.componentType];c[f]=p.name,l[f]=h.normalized===!0}}return t.getDependency("bufferView",s).then(function(u){return new Promise(function(f,h){r.decodeDracoFile(u,function(p){for(const m in p.attributes){const g=p.attributes[m],A=l[m];A!==void 0&&(g.normalized=A)}f(p)},a,c,pi,h)})})}}class fie{constructor(){this.name=Qt.KHR_TEXTURE_TRANSFORM}extendTexture(e,t){return(t.texCoord===void 0||t.texCoord===e.channel)&&t.offset===void 0&&t.rotation===void 0&&t.scale===void 0||(e=e.clone(),t.texCoord!==void 0&&(e.channel=t.texCoord),t.offset!==void 0&&e.offset.fromArray(t.offset),t.rotation!==void 0&&(e.rotation=t.rotation),t.scale!==void 0&&e.repeat.fromArray(t.scale),e.needsUpdate=!0),e}}class die{constructor(){this.name=Qt.KHR_MESH_QUANTIZATION}}class mD extends Ep{constructor(e,t,i,r){super(e,t,i,r)}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r*3+r;for(let o=0;o!==r;o++)t[o]=i[s+o];return t}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,l=a*2,c=a*3,u=r-t,f=(i-t)/u,h=f*f,p=h*f,m=e*c,g=m-c,A=-2*p+3*h,y=p-h,x=1-A,b=y-h+f;for(let _=0;_!==a;_++){const T=o[g+_+a],M=o[g+_+l]*u,I=o[m+_+a],P=o[m+_]*u;s[_]=x*T+b*M+A*I+y*P}return s}}const hie=new Xn;class pie extends mD{interpolate_(e,t,i,r){const s=super.interpolate_(e,t,i,r);return hie.fromArray(s).normalize().toArray(s),s}}const qs={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},id={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},A8={9728:Rr,9729:Yt,9984:DI,9985:Xm,9986:Xh,9987:Fs},v8={33071:ti,33648:Ed,10497:ts},U3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},Db={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},gl={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},mie={CUBICSPLINE:void 0,LINEAR:Z0,STEP:K0},N3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function gie(n){return n.DefaultMaterial===void 0&&(n.DefaultMaterial=new r4({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Mo})),n.DefaultMaterial}function jc(n,e,t){for(const i in t.extensions)n[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=t.extensions[i])}function Ta(n,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(n.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function Aie(n,e,t){let i=!1,r=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const f=e[c];if(f.POSITION!==void 0&&(i=!0),f.NORMAL!==void 0&&(r=!0),f.COLOR_0!==void 0&&(s=!0),i&&r&&s)break}if(!i&&!r&&!s)return Promise.resolve(n);const o=[],a=[],l=[];for(let c=0,u=e.length;c<u;c++){const f=e[c];if(i){const h=f.POSITION!==void 0?t.getDependency("accessor",f.POSITION):n.attributes.position;o.push(h)}if(r){const h=f.NORMAL!==void 0?t.getDependency("accessor",f.NORMAL):n.attributes.normal;a.push(h)}if(s){const h=f.COLOR_0!==void 0?t.getDependency("accessor",f.COLOR_0):n.attributes.color;l.push(h)}}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l)]).then(function(c){const u=c[0],f=c[1],h=c[2];return i&&(n.morphAttributes.position=u),r&&(n.morphAttributes.normal=f),s&&(n.morphAttributes.color=h),n.morphTargetsRelative=!0,n})}function vie(n,e){if(n.updateMorphTargets(),e.weights!==void 0)for(let t=0,i=e.weights.length;t<i;t++)n.morphTargetInfluences[t]=e.weights[t];if(e.extras&&Array.isArray(e.extras.targetNames)){const t=e.extras.targetNames;if(n.morphTargetInfluences.length===t.length){n.morphTargetDictionary={};for(let i=0,r=t.length;i<r;i++)n.morphTargetDictionary[t[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function yie(n){let e;const t=n.extensions&&n.extensions[Qt.KHR_DRACO_MESH_COMPRESSION];if(t?e="draco:"+t.bufferView+":"+t.indices+":"+k3(t.attributes):e=n.indices+":"+k3(n.attributes)+":"+n.mode,n.targets!==void 0)for(let i=0,r=n.targets.length;i<r;i++)e+=":"+k3(n.targets[i]);return e}function k3(n){let e="";const t=Object.keys(n).sort();for(let i=0,r=t.length;i<r;i++)e+=t[i]+":"+n[t[i]]+";";return e}function Pb(n){switch(n){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function _ie(n){return n.search(/\.jpe?g($|\?)/i)>0||n.search(/^data\:image\/jpeg/)===0?"image/jpeg":n.search(/\.webp($|\?)/i)>0||n.search(/^data\:image\/webp/)===0?"image/webp":n.search(/\.ktx2($|\?)/i)>0||n.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const bie=new xt;class xie{constructor(e={},t={}){this.json=e,this.extensions={},this.plugins={},this.options=t,this.cache=new Qne,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=-1,s=!1,o=-1;if(typeof navigator<"u"){const a=navigator.userAgent;i=/^((?!chrome|android).)*safari/i.test(a)===!0;const l=a.match(/Version\/(\d+)/);r=i&&l?parseInt(l[1],10):-1,s=a.indexOf("Firefox")>-1,o=s?a.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||i&&r<17||s&&o<98?this.textureLoader=new sD(this.options.manager):this.textureLoader=new qK(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new $l(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,t){const i=this,r=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(o){return o._markDefs&&o._markDefs()}),Promise.all(this._invokeAll(function(o){return o.beforeRoot&&o.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(o){const a={scene:o[0][r.scene||0],scenes:o[0],animations:o[1],cameras:o[2],asset:r.asset,parser:i,userData:{}};return jc(s,a,r),Ta(a,r),Promise.all(i._invokeAll(function(l){return l.afterRoot&&l.afterRoot(a)})).then(function(){for(const l of a.scenes)l.updateMatrixWorld();e(a)})}).catch(t)}_markDefs(){const e=this.json.nodes||[],t=this.json.skins||[],i=this.json.meshes||[];for(let r=0,s=t.length;r<s;r++){const o=t[r].joints;for(let a=0,l=o.length;a<l;a++)e[o[a]].isBone=!0}for(let r=0,s=e.length;r<s;r++){const o=e[r];o.mesh!==void 0&&(this._addNodeRef(this.meshCache,o.mesh),o.skin!==void 0&&(i[o.mesh].isSkinnedMesh=!0)),o.camera!==void 0&&this._addNodeRef(this.cameraCache,o.camera)}}_addNodeRef(e,t){t!==void 0&&(e.refs[t]===void 0&&(e.refs[t]=e.uses[t]=0),e.refs[t]++)}_getNodeRef(e,t,i){if(e.refs[t]<=1)return i;const r=i.clone(),s=(o,a)=>{const l=this.associations.get(o);l!=null&&this.associations.set(a,l);for(const[c,u]of o.children.entries())s(u,a.children[c])};return s(i,r),r.name+="_instance_"+e.uses[t]++,r}_invokeOne(e){const t=Object.values(this.plugins);t.push(this);for(let i=0;i<t.length;i++){const r=e(t[i]);if(r)return r}return null}_invokeAll(e){const t=Object.values(this.plugins);t.unshift(this);const i=[];for(let r=0;r<t.length;r++){const s=e(t[r]);s&&i.push(s)}return i}getDependency(e,t){const i=e+":"+t;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(t);break;case"node":r=this._invokeOne(function(s){return s.loadNode&&s.loadNode(t)});break;case"mesh":r=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(t)});break;case"accessor":r=this.loadAccessor(t);break;case"bufferView":r=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(t)});break;case"buffer":r=this.loadBuffer(t);break;case"material":r=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(t)});break;case"texture":r=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(t)});break;case"skin":r=this.loadSkin(t);break;case"animation":r=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(t)});break;case"camera":r=this.loadCamera(t);break;default:if(r=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,t)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let t=this.cache.get(e);if(!t){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];t=Promise.all(r.map(function(s,o){return i.getDependency(e,o)})),this.cache.add(e,t)}return t}loadBuffer(e){const t=this.json.buffers[e],i=this.fileLoader;if(t.type&&t.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+t.type+" buffer type is not supported.");if(t.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(s,o){i.load(T0.resolveURL(t.uri,r.path),s,void 0,function(){o(new Error('THREE.GLTFLoader: Failed to load buffer "'+t.uri+'".'))})})}loadBufferView(e){const t=this.json.bufferViews[e];return this.getDependency("buffer",t.buffer).then(function(i){const r=t.byteLength||0,s=t.byteOffset||0;return i.slice(s,s+r)})}loadAccessor(e){const t=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const o=U3[r.type],a=id[r.componentType],l=r.normalized===!0,c=new a(r.count*o);return Promise.resolve(new Gi(c,o,l))}const s=[];return r.bufferView!==void 0?s.push(this.getDependency("bufferView",r.bufferView)):s.push(null),r.sparse!==void 0&&(s.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(s).then(function(o){const a=o[0],l=U3[r.type],c=id[r.componentType],u=c.BYTES_PER_ELEMENT,f=u*l,h=r.byteOffset||0,p=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,m=r.normalized===!0;let g,A;if(p&&p!==f){const y=Math.floor(h/p),x="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+y+":"+r.count;let b=t.cache.get(x);b||(g=new c(a,y*p,r.count*p/u),b=new e4(g,p/u),t.cache.add(x,b)),A=new fn(b,l,h%p/u,m)}else a===null?g=new c(r.count*l):g=new c(a,h,r.count*l),A=new Gi(g,l,m);if(r.sparse!==void 0){const y=U3.SCALAR,x=id[r.sparse.indices.componentType],b=r.sparse.indices.byteOffset||0,_=r.sparse.values.byteOffset||0,T=new x(o[1],b,r.sparse.count*y),M=new c(o[2],_,r.sparse.count*l);a!==null&&(A=new Gi(A.array.slice(),A.itemSize,A.normalized)),A.normalized=!1;for(let I=0,P=T.length;I<P;I++){const w=T[I];if(A.setX(w,M[I*l]),l>=2&&A.setY(w,M[I*l+1]),l>=3&&A.setZ(w,M[I*l+2]),l>=4&&A.setW(w,M[I*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}A.normalized=m}return A})}loadTexture(e){const t=this.json,i=this.options,s=t.textures[e].source,o=t.images[s];let a=this.textureLoader;if(o.uri){const l=i.manager.getHandler(o.uri);l!==null&&(a=l)}return this.loadTextureImage(e,s,a)}loadTextureImage(e,t,i){const r=this,s=this.json,o=s.textures[e],a=s.images[t],l=(a.uri||a.bufferView)+":"+o.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(t,i).then(function(u){u.flipY=!1,u.name=o.name||a.name||"",u.name===""&&typeof a.uri=="string"&&a.uri.startsWith("data:image/")===!1&&(u.name=a.uri);const h=(s.samplers||{})[o.sampler]||{};return u.magFilter=A8[h.magFilter]||Yt,u.minFilter=A8[h.minFilter]||Fs,u.wrapS=v8[h.wrapS]||ts,u.wrapT=v8[h.wrapT]||ts,u.generateMipmaps=!u.isCompressedTexture&&u.minFilter!==Rr&&u.minFilter!==Yt,r.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,t){const i=this,r=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(f=>f.clone());const o=r.images[e],a=self.URL||self.webkitURL;let l=o.uri||"",c=!1;if(o.bufferView!==void 0)l=i.getDependency("bufferView",o.bufferView).then(function(f){c=!0;const h=new Blob([f],{type:o.mimeType});return l=a.createObjectURL(h),l});else if(o.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(f){return new Promise(function(h,p){let m=h;t.isImageBitmapLoader===!0&&(m=function(g){const A=new xn(g);A.needsUpdate=!0,h(A)}),t.load(T0.resolveURL(f,s.path),m,void 0,p)})}).then(function(f){return c===!0&&a.revokeObjectURL(l),Ta(f,o),f.userData.mimeType=o.mimeType||_ie(o.uri),f}).catch(function(f){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),f});return this.sourceCache[e]=u,u}assignTexture(e,t,i,r){const s=this;return this.getDependency("texture",i.index).then(function(o){if(!o)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(o=o.clone(),o.channel=i.texCoord),s.extensions[Qt.KHR_TEXTURE_TRANSFORM]){const a=i.extensions!==void 0?i.extensions[Qt.KHR_TEXTURE_TRANSFORM]:void 0;if(a){const l=s.associations.get(o);o=s.extensions[Qt.KHR_TEXTURE_TRANSFORM].extendTexture(o,a),s.associations.set(o,l)}}return r!==void 0&&(o.colorSpace=r),e[t]=o,o})}assignFinalMaterial(e){const t=e.geometry;let i=e.material;const r=t.attributes.tangent===void 0,s=t.attributes.color!==void 0,o=t.attributes.normal===void 0;if(e.isPoints){const a="PointsMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new eD,wo.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,l.sizeAttenuation=!1,this.cache.add(a,l)),i=l}else if(e.isLine){const a="LineBasicMaterial:"+i.uuid;let l=this.cache.get(a);l||(l=new Fu,wo.prototype.copy.call(l,i),l.color.copy(i.color),l.map=i.map,this.cache.add(a,l)),i=l}if(r||s||o){let a="ClonedMaterial:"+i.uuid+":";r&&(a+="derivative-tangents:"),s&&(a+="vertex-colors:"),o&&(a+="flat-shading:");let l=this.cache.get(a);l||(l=i.clone(),s&&(l.vertexColors=!0),o&&(l.flatShading=!0),r&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(a,l),this.associations.set(l,this.associations.get(i))),i=l}e.material=i}getMaterialType(){return r4}loadMaterial(e){const t=this,i=this.json,r=this.extensions,s=i.materials[e];let o;const a={},l=s.extensions||{},c=[];if(l[Qt.KHR_MATERIALS_UNLIT]){const f=r[Qt.KHR_MATERIALS_UNLIT];o=f.getMaterialType(),c.push(f.extendParams(a,s,t))}else{const f=s.pbrMetallicRoughness||{};if(a.color=new ke(1,1,1),a.opacity=1,Array.isArray(f.baseColorFactor)){const h=f.baseColorFactor;a.color.setRGB(h[0],h[1],h[2],pi),a.opacity=h[3]}f.baseColorTexture!==void 0&&c.push(t.assignTexture(a,"map",f.baseColorTexture,En)),a.metalness=f.metallicFactor!==void 0?f.metallicFactor:1,a.roughness=f.roughnessFactor!==void 0?f.roughnessFactor:1,f.metallicRoughnessTexture!==void 0&&(c.push(t.assignTexture(a,"metalnessMap",f.metallicRoughnessTexture)),c.push(t.assignTexture(a,"roughnessMap",f.metallicRoughnessTexture))),o=this._invokeOne(function(h){return h.getMaterialType&&h.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(h){return h.extendMaterialParams&&h.extendMaterialParams(e,a)})))}s.doubleSided===!0&&(a.side=Ks);const u=s.alphaMode||N3.OPAQUE;if(u===N3.BLEND?(a.transparent=!0,a.depthWrite=!1):(a.transparent=!1,u===N3.MASK&&(a.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&o!==Jr&&(c.push(t.assignTexture(a,"normalMap",s.normalTexture)),a.normalScale=new De(1,1),s.normalTexture.scale!==void 0)){const f=s.normalTexture.scale;a.normalScale.set(f,f)}if(s.occlusionTexture!==void 0&&o!==Jr&&(c.push(t.assignTexture(a,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(a.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&o!==Jr){const f=s.emissiveFactor;a.emissive=new ke().setRGB(f[0],f[1],f[2],pi)}return s.emissiveTexture!==void 0&&o!==Jr&&c.push(t.assignTexture(a,"emissiveMap",s.emissiveTexture,En)),Promise.all(c).then(function(){const f=new o(a);return s.name&&(f.name=s.name),Ta(f,s),t.associations.set(f,{materials:e}),s.extensions&&jc(r,f,s),f})}createUniqueName(e){const t=bn.sanitizeNodeName(e||"");return t in this.nodeNamesUsed?t+"_"+ ++this.nodeNamesUsed[t]:(this.nodeNamesUsed[t]=0,t)}loadGeometries(e){const t=this,i=this.extensions,r=this.primitiveCache;function s(a){return i[Qt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(a,t).then(function(l){return y8(l,a,t)})}const o=[];for(let a=0,l=e.length;a<l;a++){const c=e[a],u=yie(c),f=r[u];if(f)o.push(f.promise);else{let h;c.extensions&&c.extensions[Qt.KHR_DRACO_MESH_COMPRESSION]?h=s(c):h=y8(new Hn,c,t),r[u]={primitive:c,promise:h},o.push(h)}}return Promise.all(o)}loadMesh(e){const t=this,i=this.json,r=this.extensions,s=i.meshes[e],o=s.primitives,a=[];for(let l=0,c=o.length;l<c;l++){const u=o[l].material===void 0?gie(this.cache):this.getDependency("material",o[l].material);a.push(u)}return a.push(t.loadGeometries(o)),Promise.all(a).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],f=[];for(let p=0,m=u.length;p<m;p++){const g=u[p],A=o[p];let y;const x=c[p];if(A.mode===qs.TRIANGLES||A.mode===qs.TRIANGLE_STRIP||A.mode===qs.TRIANGLE_FAN||A.mode===void 0)y=s.isSkinnedMesh===!0?new dK(g,x):new Qe(g,x),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),A.mode===qs.TRIANGLE_STRIP?y.geometry=m8(y.geometry,kI):A.mode===qs.TRIANGLE_FAN&&(y.geometry=m8(y.geometry,Sb));else if(A.mode===qs.LINES)y=new TA(g,x);else if(A.mode===qs.LINE_STRIP)y=new Ms(g,x);else if(A.mode===qs.LINE_LOOP)y=new AK(g,x);else if(A.mode===qs.POINTS)y=new vK(g,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+A.mode);Object.keys(y.geometry.morphAttributes).length>0&&vie(y,s),y.name=t.createUniqueName(s.name||"mesh_"+e),Ta(y,s),A.extensions&&jc(r,y,A),t.assignFinalMaterial(y),f.push(y)}for(let p=0,m=f.length;p<m;p++)t.associations.set(f[p],{meshes:e,primitives:p});if(f.length===1)return s.extensions&&jc(r,f[0],s),f[0];const h=new Va;s.extensions&&jc(r,h,s),t.associations.set(h,{meshes:e});for(let p=0,m=f.length;p<m;p++)h.add(f[p]);return h})}loadCamera(e){let t;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?t=new Zi(gn.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(t=new Ou(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(t.name=this.createUniqueName(i.name)),Ta(t,i),Promise.resolve(t)}loadSkin(e){const t=this.json.skins[e],i=[];for(let r=0,s=t.joints.length;r<s;r++)i.push(this._loadNodeShallow(t.joints[r]));return t.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",t.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const s=r.pop(),o=r,a=[],l=[];for(let c=0,u=o.length;c<u;c++){const f=o[c];if(f){a.push(f);const h=new xt;s!==null&&h.fromArray(s.array,c*16),l.push(h)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',t.joints[c])}return new t4(a,l)})}loadAnimation(e){const t=this.json,i=this,r=t.animations[e],s=r.name?r.name:"animation_"+e,o=[],a=[],l=[],c=[],u=[];for(let f=0,h=r.channels.length;f<h;f++){const p=r.channels[f],m=r.samplers[p.sampler],g=p.target,A=g.node,y=r.parameters!==void 0?r.parameters[m.input]:m.input,x=r.parameters!==void 0?r.parameters[m.output]:m.output;g.node!==void 0&&(o.push(this.getDependency("node",A)),a.push(this.getDependency("accessor",y)),l.push(this.getDependency("accessor",x)),c.push(m),u.push(g))}return Promise.all([Promise.all(o),Promise.all(a),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(f){const h=f[0],p=f[1],m=f[2],g=f[3],A=f[4],y=[];for(let x=0,b=h.length;x<b;x++){const _=h[x],T=p[x],M=m[x],I=g[x],P=A[x];if(_===void 0)continue;_.updateMatrix&&_.updateMatrix();const w=i._createAnimationTracks(_,T,M,I,P);if(w)for(let E=0;E<w.length;E++)y.push(w[E])}return new RK(s,void 0,y)})}createNodeMesh(e){const t=this.json,i=this,r=t.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(s){const o=i._getNodeRef(i.meshCache,r.mesh,s);return r.weights!==void 0&&o.traverse(function(a){if(a.isMesh)for(let l=0,c=r.weights.length;l<c;l++)a.morphTargetInfluences[l]=r.weights[l]}),o})}loadNode(e){const t=this.json,i=this,r=t.nodes[e],s=i._loadNodeShallow(e),o=[],a=r.children||[];for(let c=0,u=a.length;c<u;c++)o.push(i.getDependency("node",a[c]));const l=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([s,Promise.all(o),l]).then(function(c){const u=c[0],f=c[1],h=c[2];h!==null&&u.traverse(function(p){p.isSkinnedMesh&&p.bind(h,bie)});for(let p=0,m=f.length;p<m;p++)u.add(f[p]);return u})}_loadNodeShallow(e){const t=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=t.nodes[e],o=s.name?r.createUniqueName(s.name):"",a=[],l=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&a.push(l),s.camera!==void 0&&a.push(r.getDependency("camera",s.camera).then(function(c){return r._getNodeRef(r.cameraCache,s.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){a.push(c)}),this.nodeCache[e]=Promise.all(a).then(function(c){let u;if(s.isBone===!0?u=new JI:c.length>1?u=new Va:c.length===1?u=c[0]:u=new jt,u!==c[0])for(let f=0,h=c.length;f<h;f++)u.add(c[f]);if(s.name&&(u.userData.name=s.name,u.name=o),Ta(u,s),s.extensions&&jc(i,u,s),s.matrix!==void 0){const f=new xt;f.fromArray(s.matrix),u.applyMatrix4(f)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);return r.associations.has(u)||r.associations.set(u,{}),r.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const t=this.extensions,i=this.json.scenes[e],r=this,s=new Va;i.name&&(s.name=r.createUniqueName(i.name)),Ta(s,i),i.extensions&&jc(t,s,i);const o=i.nodes||[],a=[];for(let l=0,c=o.length;l<c;l++)a.push(r.getDependency("node",o[l]));return Promise.all(a).then(function(l){for(let u=0,f=l.length;u<f;u++)s.add(l[u]);const c=u=>{const f=new Map;for(const[h,p]of r.associations)(h instanceof wo||h instanceof xn)&&f.set(h,p);return u.traverse(h=>{const p=r.associations.get(h);p!=null&&f.set(h,p)}),f};return r.associations=c(s),s})}_createAnimationTracks(e,t,i,r,s){const o=[],a=e.name?e.name:e.uuid,l=[];gl[s.path]===gl.weights?e.traverse(function(h){h.morphTargetInfluences&&l.push(h.name?h.name:h.uuid)}):l.push(a);let c;switch(gl[s.path]){case gl.weights:c=Pd;break;case gl.rotation:c=Rd;break;case gl.position:case gl.scale:c=Bd;break;default:switch(i.itemSize){case 1:c=Pd;break;case 2:case 3:default:c=Bd;break}break}const u=r.interpolation!==void 0?mie[r.interpolation]:Z0,f=this._getArrayFromAccessor(i);for(let h=0,p=l.length;h<p;h++){const m=new c(l[h]+"."+gl[s.path],t.array,f,u);r.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),o.push(m)}return o}_getArrayFromAccessor(e){let t=e.array;if(e.normalized){const i=Pb(t.constructor),r=new Float32Array(t.length);for(let s=0,o=t.length;s<o;s++)r[s]=t[s]*i;t=r}return t}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(i){const r=this instanceof Rd?pie:mD;return new r(this.times,this.values,this.getValueSize()/3,i)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function Cie(n,e,t){const i=e.attributes,r=new zs;if(i.POSITION!==void 0){const a=t.json.accessors[i.POSITION],l=a.min,c=a.max;if(l!==void 0&&c!==void 0){if(r.set(new Z(l[0],l[1],l[2]),new Z(c[0],c[1],c[2])),a.normalized){const u=Pb(id[a.componentType]);r.min.multiplyScalar(u),r.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const a=new Z,l=new Z;for(let c=0,u=s.length;c<u;c++){const f=s[c];if(f.POSITION!==void 0){const h=t.json.accessors[f.POSITION],p=h.min,m=h.max;if(p!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(p[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(p[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(p[2]),Math.abs(m[2]))),h.normalized){const g=Pb(id[h.componentType]);l.multiplyScalar(g)}a.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(a)}n.boundingBox=r;const o=new oo;r.getCenter(o.center),o.radius=r.min.distanceTo(r.max)/2,n.boundingSphere=o}function y8(n,e,t){const i=e.attributes,r=[];function s(o,a){return t.getDependency("accessor",o).then(function(l){n.setAttribute(a,l)})}for(const o in i){const a=Db[o]||o.toLowerCase();a in n.attributes||r.push(s(i[o],a))}if(e.indices!==void 0&&!n.index){const o=t.getDependency("accessor",e.indices).then(function(a){n.setIndex(a)});r.push(o)}return Xt.workingColorSpace!==pi&&"COLOR_0"in i&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Xt.workingColorSpace}" not supported.`),Ta(n,e),Cie(n,e,t),Promise.all(r).then(function(){return e.targets!==void 0?Aie(n,e.targets,t):n})}const _8={type:"change"},f4={type:"start"},gD={type:"end"},Cm=new zd,b8=new Tl,Sie=Math.cos(70*gn.DEG2RAD),Li=new Z,os=2*Math.PI,wn={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},z3=1e-6;class AD extends lD{constructor(e,t=null){super(e,t),this.state=wn.NONE,this.enabled=!0,this.target=new Z,this.cursor=new Z,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minTargetRadius=0,this.maxTargetRadius=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.keyRotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.zoomToCursor=!1,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:ed.ROTATE,MIDDLE:ed.DOLLY,RIGHT:ed.PAN},this.touches={ONE:Nf.ROTATE,TWO:Nf.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this._lastPosition=new Z,this._lastQuaternion=new Xn,this._lastTargetPosition=new Z,this._quat=new Xn().setFromUnitVectors(e.up,new Z(0,1,0)),this._quatInverse=this._quat.clone().invert(),this._spherical=new zw,this._sphericalDelta=new zw,this._scale=1,this._panOffset=new Z,this._rotateStart=new De,this._rotateEnd=new De,this._rotateDelta=new De,this._panStart=new De,this._panEnd=new De,this._panDelta=new De,this._dollyStart=new De,this._dollyEnd=new De,this._dollyDelta=new De,this._dollyDirection=new Z,this._mouse=new De,this._performCursorZoom=!1,this._pointers=[],this._pointerPositions={},this._controlActive=!1,this._onPointerMove=Eie.bind(this),this._onPointerDown=wie.bind(this),this._onPointerUp=Tie.bind(this),this._onContextMenu=Lie.bind(this),this._onMouseWheel=Die.bind(this),this._onKeyDown=Pie.bind(this),this._onTouchStart=Rie.bind(this),this._onTouchMove=Bie.bind(this),this._onMouseDown=Mie.bind(this),this._onMouseMove=Iie.bind(this),this._interceptControlDown=Fie.bind(this),this._interceptControlUp=Oie.bind(this),this.domElement!==null&&this.connect(),this.update()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointercancel",this._onPointerUp),this.domElement.addEventListener("contextmenu",this._onContextMenu),this.domElement.addEventListener("wheel",this._onMouseWheel,{passive:!1}),this.domElement.getRootNode().addEventListener("keydown",this._interceptControlDown,{passive:!0,capture:!0}),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.removeEventListener("pointercancel",this._onPointerUp),this.domElement.removeEventListener("wheel",this._onMouseWheel),this.domElement.removeEventListener("contextmenu",this._onContextMenu),this.stopListenToKeyEvents(),this.domElement.getRootNode().removeEventListener("keydown",this._interceptControlDown,{capture:!0}),this.domElement.style.touchAction="auto"}dispose(){this.disconnect()}getPolarAngle(){return this._spherical.phi}getAzimuthalAngle(){return this._spherical.theta}getDistance(){return this.object.position.distanceTo(this.target)}listenToKeyEvents(e){e.addEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=e}stopListenToKeyEvents(){this._domElementKeyEvents!==null&&(this._domElementKeyEvents.removeEventListener("keydown",this._onKeyDown),this._domElementKeyEvents=null)}saveState(){this.target0.copy(this.target),this.position0.copy(this.object.position),this.zoom0=this.object.zoom}reset(){this.target.copy(this.target0),this.object.position.copy(this.position0),this.object.zoom=this.zoom0,this.object.updateProjectionMatrix(),this.dispatchEvent(_8),this.update(),this.state=wn.NONE}update(e=null){const t=this.object.position;Li.copy(t).sub(this.target),Li.applyQuaternion(this._quat),this._spherical.setFromVector3(Li),this.autoRotate&&this.state===wn.NONE&&this._rotateLeft(this._getAutoRotationAngle(e)),this.enableDamping?(this._spherical.theta+=this._sphericalDelta.theta*this.dampingFactor,this._spherical.phi+=this._sphericalDelta.phi*this.dampingFactor):(this._spherical.theta+=this._sphericalDelta.theta,this._spherical.phi+=this._sphericalDelta.phi);let i=this.minAzimuthAngle,r=this.maxAzimuthAngle;isFinite(i)&&isFinite(r)&&(i<-Math.PI?i+=os:i>Math.PI&&(i-=os),r<-Math.PI?r+=os:r>Math.PI&&(r-=os),i<=r?this._spherical.theta=Math.max(i,Math.min(r,this._spherical.theta)):this._spherical.theta=this._spherical.theta>(i+r)/2?Math.max(i,this._spherical.theta):Math.min(r,this._spherical.theta)),this._spherical.phi=Math.max(this.minPolarAngle,Math.min(this.maxPolarAngle,this._spherical.phi)),this._spherical.makeSafe(),this.enableDamping===!0?this.target.addScaledVector(this._panOffset,this.dampingFactor):this.target.add(this._panOffset),this.target.sub(this.cursor),this.target.clampLength(this.minTargetRadius,this.maxTargetRadius),this.target.add(this.cursor);let s=!1;if(this.zoomToCursor&&this._performCursorZoom||this.object.isOrthographicCamera)this._spherical.radius=this._clampDistance(this._spherical.radius);else{const o=this._spherical.radius;this._spherical.radius=this._clampDistance(this._spherical.radius*this._scale),s=o!=this._spherical.radius}if(Li.setFromSpherical(this._spherical),Li.applyQuaternion(this._quatInverse),t.copy(this.target).add(Li),this.object.lookAt(this.target),this.enableDamping===!0?(this._sphericalDelta.theta*=1-this.dampingFactor,this._sphericalDelta.phi*=1-this.dampingFactor,this._panOffset.multiplyScalar(1-this.dampingFactor)):(this._sphericalDelta.set(0,0,0),this._panOffset.set(0,0,0)),this.zoomToCursor&&this._performCursorZoom){let o=null;if(this.object.isPerspectiveCamera){const a=Li.length();o=this._clampDistance(a*this._scale);const l=a-o;this.object.position.addScaledVector(this._dollyDirection,l),this.object.updateMatrixWorld(),s=!!l}else if(this.object.isOrthographicCamera){const a=new Z(this._mouse.x,this._mouse.y,0);a.unproject(this.object);const l=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),this.object.updateProjectionMatrix(),s=l!==this.object.zoom;const c=new Z(this._mouse.x,this._mouse.y,0);c.unproject(this.object),this.object.position.sub(c).add(a),this.object.updateMatrixWorld(),o=Li.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),this.zoomToCursor=!1;o!==null&&(this.screenSpacePanning?this.target.set(0,0,-1).transformDirection(this.object.matrix).multiplyScalar(o).add(this.object.position):(Cm.origin.copy(this.object.position),Cm.direction.set(0,0,-1).transformDirection(this.object.matrix),Math.abs(this.object.up.dot(Cm.direction))<Sie?this.object.lookAt(this.target):(b8.setFromNormalAndCoplanarPoint(this.object.up,this.target),Cm.intersectPlane(b8,this.target))))}else if(this.object.isOrthographicCamera){const o=this.object.zoom;this.object.zoom=Math.max(this.minZoom,Math.min(this.maxZoom,this.object.zoom/this._scale)),o!==this.object.zoom&&(this.object.updateProjectionMatrix(),s=!0)}return this._scale=1,this._performCursorZoom=!1,s||this._lastPosition.distanceToSquared(this.object.position)>z3||8*(1-this._lastQuaternion.dot(this.object.quaternion))>z3||this._lastTargetPosition.distanceToSquared(this.target)>z3?(this.dispatchEvent(_8),this._lastPosition.copy(this.object.position),this._lastQuaternion.copy(this.object.quaternion),this._lastTargetPosition.copy(this.target),!0):!1}_getAutoRotationAngle(e){return e!==null?os/60*this.autoRotateSpeed*e:os/60/60*this.autoRotateSpeed}_getZoomScale(e){const t=Math.abs(e*.01);return Math.pow(.95,this.zoomSpeed*t)}_rotateLeft(e){this._sphericalDelta.theta-=e}_rotateUp(e){this._sphericalDelta.phi-=e}_panLeft(e,t){Li.setFromMatrixColumn(t,0),Li.multiplyScalar(-e),this._panOffset.add(Li)}_panUp(e,t){this.screenSpacePanning===!0?Li.setFromMatrixColumn(t,1):(Li.setFromMatrixColumn(t,0),Li.crossVectors(this.object.up,Li)),Li.multiplyScalar(e),this._panOffset.add(Li)}_pan(e,t){const i=this.domElement;if(this.object.isPerspectiveCamera){const r=this.object.position;Li.copy(r).sub(this.target);let s=Li.length();s*=Math.tan(this.object.fov/2*Math.PI/180),this._panLeft(2*e*s/i.clientHeight,this.object.matrix),this._panUp(2*t*s/i.clientHeight,this.object.matrix)}else this.object.isOrthographicCamera?(this._panLeft(e*(this.object.right-this.object.left)/this.object.zoom/i.clientWidth,this.object.matrix),this._panUp(t*(this.object.top-this.object.bottom)/this.object.zoom/i.clientHeight,this.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),this.enablePan=!1)}_dollyOut(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale/=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_dollyIn(e){this.object.isPerspectiveCamera||this.object.isOrthographicCamera?this._scale*=e:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),this.enableZoom=!1)}_updateZoomParameters(e,t){if(!this.zoomToCursor)return;this._performCursorZoom=!0;const i=this.domElement.getBoundingClientRect(),r=e-i.left,s=t-i.top,o=i.width,a=i.height;this._mouse.x=r/o*2-1,this._mouse.y=-(s/a)*2+1,this._dollyDirection.set(this._mouse.x,this._mouse.y,1).unproject(this.object).sub(this.object.position).normalize()}_clampDistance(e){return Math.max(this.minDistance,Math.min(this.maxDistance,e))}_handleMouseDownRotate(e){this._rotateStart.set(e.clientX,e.clientY)}_handleMouseDownDolly(e){this._updateZoomParameters(e.clientX,e.clientX),this._dollyStart.set(e.clientX,e.clientY)}_handleMouseDownPan(e){this._panStart.set(e.clientX,e.clientY)}_handleMouseMoveRotate(e){this._rotateEnd.set(e.clientX,e.clientY),this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(os*this._rotateDelta.x/t.clientHeight),this._rotateUp(os*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd),this.update()}_handleMouseMoveDolly(e){this._dollyEnd.set(e.clientX,e.clientY),this._dollyDelta.subVectors(this._dollyEnd,this._dollyStart),this._dollyDelta.y>0?this._dollyOut(this._getZoomScale(this._dollyDelta.y)):this._dollyDelta.y<0&&this._dollyIn(this._getZoomScale(this._dollyDelta.y)),this._dollyStart.copy(this._dollyEnd),this.update()}_handleMouseMovePan(e){this._panEnd.set(e.clientX,e.clientY),this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd),this.update()}_handleMouseWheel(e){this._updateZoomParameters(e.clientX,e.clientY),e.deltaY<0?this._dollyIn(this._getZoomScale(e.deltaY)):e.deltaY>0&&this._dollyOut(this._getZoomScale(e.deltaY)),this.update()}_handleKeyDown(e){let t=!1;switch(e.code){case this.keys.UP:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(os*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,this.keyPanSpeed),t=!0;break;case this.keys.BOTTOM:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateUp(-os*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(0,-this.keyPanSpeed),t=!0;break;case this.keys.LEFT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(os*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(this.keyPanSpeed,0),t=!0;break;case this.keys.RIGHT:e.ctrlKey||e.metaKey||e.shiftKey?this.enableRotate&&this._rotateLeft(-os*this.keyRotateSpeed/this.domElement.clientHeight):this.enablePan&&this._pan(-this.keyPanSpeed,0),t=!0;break}t&&(e.preventDefault(),this.update())}_handleTouchStartRotate(e){if(this._pointers.length===1)this._rotateStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._rotateStart.set(i,r)}}_handleTouchStartPan(e){if(this._pointers.length===1)this._panStart.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panStart.set(i,r)}}_handleTouchStartDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(i*i+r*r);this._dollyStart.set(0,s)}_handleTouchStartDollyPan(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enablePan&&this._handleTouchStartPan(e)}_handleTouchStartDollyRotate(e){this.enableZoom&&this._handleTouchStartDolly(e),this.enableRotate&&this._handleTouchStartRotate(e)}_handleTouchMoveRotate(e){if(this._pointers.length==1)this._rotateEnd.set(e.pageX,e.pageY);else{const i=this._getSecondPointerPosition(e),r=.5*(e.pageX+i.x),s=.5*(e.pageY+i.y);this._rotateEnd.set(r,s)}this._rotateDelta.subVectors(this._rotateEnd,this._rotateStart).multiplyScalar(this.rotateSpeed);const t=this.domElement;this._rotateLeft(os*this._rotateDelta.x/t.clientHeight),this._rotateUp(os*this._rotateDelta.y/t.clientHeight),this._rotateStart.copy(this._rotateEnd)}_handleTouchMovePan(e){if(this._pointers.length===1)this._panEnd.set(e.pageX,e.pageY);else{const t=this._getSecondPointerPosition(e),i=.5*(e.pageX+t.x),r=.5*(e.pageY+t.y);this._panEnd.set(i,r)}this._panDelta.subVectors(this._panEnd,this._panStart).multiplyScalar(this.panSpeed),this._pan(this._panDelta.x,this._panDelta.y),this._panStart.copy(this._panEnd)}_handleTouchMoveDolly(e){const t=this._getSecondPointerPosition(e),i=e.pageX-t.x,r=e.pageY-t.y,s=Math.sqrt(i*i+r*r);this._dollyEnd.set(0,s),this._dollyDelta.set(0,Math.pow(this._dollyEnd.y/this._dollyStart.y,this.zoomSpeed)),this._dollyOut(this._dollyDelta.y),this._dollyStart.copy(this._dollyEnd);const o=(e.pageX+t.x)*.5,a=(e.pageY+t.y)*.5;this._updateZoomParameters(o,a)}_handleTouchMoveDollyPan(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enablePan&&this._handleTouchMovePan(e)}_handleTouchMoveDollyRotate(e){this.enableZoom&&this._handleTouchMoveDolly(e),this.enableRotate&&this._handleTouchMoveRotate(e)}_addPointer(e){this._pointers.push(e.pointerId)}_removePointer(e){delete this._pointerPositions[e.pointerId];for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId){this._pointers.splice(t,1);return}}_isTrackingPointer(e){for(let t=0;t<this._pointers.length;t++)if(this._pointers[t]==e.pointerId)return!0;return!1}_trackPointer(e){let t=this._pointerPositions[e.pointerId];t===void 0&&(t=new De,this._pointerPositions[e.pointerId]=t),t.set(e.pageX,e.pageY)}_getSecondPointerPosition(e){const t=e.pointerId===this._pointers[0]?this._pointers[1]:this._pointers[0];return this._pointerPositions[t]}_customWheelEvent(e){const t=e.deltaMode,i={clientX:e.clientX,clientY:e.clientY,deltaY:e.deltaY};switch(t){case 1:i.deltaY*=16;break;case 2:i.deltaY*=100;break}return e.ctrlKey&&!this._controlActive&&(i.deltaY*=10),i}}function wie(n){this.enabled!==!1&&(this._pointers.length===0&&(this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.domElement.addEventListener("pointerup",this._onPointerUp)),!this._isTrackingPointer(n)&&(this._addPointer(n),n.pointerType==="touch"?this._onTouchStart(n):this._onMouseDown(n)))}function Eie(n){this.enabled!==!1&&(n.pointerType==="touch"?this._onTouchMove(n):this._onMouseMove(n))}function Tie(n){switch(this._removePointer(n),this._pointers.length){case 0:this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.dispatchEvent(gD),this.state=wn.NONE;break;case 1:const e=this._pointers[0],t=this._pointerPositions[e];this._onTouchStart({pointerId:e,pageX:t.x,pageY:t.y});break}}function Mie(n){let e;switch(n.button){case 0:e=this.mouseButtons.LEFT;break;case 1:e=this.mouseButtons.MIDDLE;break;case 2:e=this.mouseButtons.RIGHT;break;default:e=-1}switch(e){case ed.DOLLY:if(this.enableZoom===!1)return;this._handleMouseDownDolly(n),this.state=wn.DOLLY;break;case ed.ROTATE:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=wn.PAN}else{if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=wn.ROTATE}break;case ed.PAN:if(n.ctrlKey||n.metaKey||n.shiftKey){if(this.enableRotate===!1)return;this._handleMouseDownRotate(n),this.state=wn.ROTATE}else{if(this.enablePan===!1)return;this._handleMouseDownPan(n),this.state=wn.PAN}break;default:this.state=wn.NONE}this.state!==wn.NONE&&this.dispatchEvent(f4)}function Iie(n){switch(this.state){case wn.ROTATE:if(this.enableRotate===!1)return;this._handleMouseMoveRotate(n);break;case wn.DOLLY:if(this.enableZoom===!1)return;this._handleMouseMoveDolly(n);break;case wn.PAN:if(this.enablePan===!1)return;this._handleMouseMovePan(n);break}}function Die(n){this.enabled===!1||this.enableZoom===!1||this.state!==wn.NONE||(n.preventDefault(),this.dispatchEvent(f4),this._handleMouseWheel(this._customWheelEvent(n)),this.dispatchEvent(gD))}function Pie(n){this.enabled!==!1&&this._handleKeyDown(n)}function Rie(n){switch(this._trackPointer(n),this._pointers.length){case 1:switch(this.touches.ONE){case Nf.ROTATE:if(this.enableRotate===!1)return;this._handleTouchStartRotate(n),this.state=wn.TOUCH_ROTATE;break;case Nf.PAN:if(this.enablePan===!1)return;this._handleTouchStartPan(n),this.state=wn.TOUCH_PAN;break;default:this.state=wn.NONE}break;case 2:switch(this.touches.TWO){case Nf.DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchStartDollyPan(n),this.state=wn.TOUCH_DOLLY_PAN;break;case Nf.DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchStartDollyRotate(n),this.state=wn.TOUCH_DOLLY_ROTATE;break;default:this.state=wn.NONE}break;default:this.state=wn.NONE}this.state!==wn.NONE&&this.dispatchEvent(f4)}function Bie(n){switch(this._trackPointer(n),this.state){case wn.TOUCH_ROTATE:if(this.enableRotate===!1)return;this._handleTouchMoveRotate(n),this.update();break;case wn.TOUCH_PAN:if(this.enablePan===!1)return;this._handleTouchMovePan(n),this.update();break;case wn.TOUCH_DOLLY_PAN:if(this.enableZoom===!1&&this.enablePan===!1)return;this._handleTouchMoveDollyPan(n),this.update();break;case wn.TOUCH_DOLLY_ROTATE:if(this.enableZoom===!1&&this.enableRotate===!1)return;this._handleTouchMoveDollyRotate(n),this.update();break;default:this.state=wn.NONE}}function Lie(n){this.enabled!==!1&&n.preventDefault()}function Fie(n){n.key==="Control"&&(this._controlActive=!0,this.domElement.getRootNode().addEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}function Oie(n){n.key==="Control"&&(this._controlActive=!1,this.domElement.getRootNode().removeEventListener("keyup",this._interceptControlUp,{passive:!0,capture:!0}))}const Wc=new l4,br=new Z,Al=new Z,qn=new Xn,x8={X:new Z(1,0,0),Y:new Z(0,1,0),Z:new Z(0,0,1)},H3={type:"change"},C8={type:"mouseDown",mode:null},S8={type:"mouseUp",mode:null},w8={type:"objectChange"};class Uie extends lD{constructor(e,t=null){super(void 0,t);const i=new Gie(this);this._root=i;const r=new Qie;this._gizmo=r,i.add(r);const s=new jie;this._plane=s,i.add(s);const o=this;function a(b,_){let T=_;Object.defineProperty(o,b,{get:function(){return T!==void 0?T:_},set:function(M){T!==M&&(T=M,s[b]=M,r[b]=M,o.dispatchEvent({type:b+"-changed",value:M}),o.dispatchEvent(H3))}}),o[b]=_,s[b]=_,r[b]=_}a("camera",e),a("object",void 0),a("enabled",!0),a("axis",null),a("mode","translate"),a("translationSnap",null),a("rotationSnap",null),a("scaleSnap",null),a("space","world"),a("size",1),a("dragging",!1),a("showX",!0),a("showY",!0),a("showZ",!0),a("minX",-1/0),a("maxX",1/0),a("minY",-1/0),a("maxY",1/0),a("minZ",-1/0),a("maxZ",1/0);const l=new Z,c=new Z,u=new Xn,f=new Xn,h=new Z,p=new Xn,m=new Z,g=new Z,A=new Z,y=0,x=new Z;a("worldPosition",l),a("worldPositionStart",c),a("worldQuaternion",u),a("worldQuaternionStart",f),a("cameraPosition",h),a("cameraQuaternion",p),a("pointStart",m),a("pointEnd",g),a("rotationAxis",A),a("rotationAngle",y),a("eye",x),this._offset=new Z,this._startNorm=new Z,this._endNorm=new Z,this._cameraScale=new Z,this._parentPosition=new Z,this._parentQuaternion=new Xn,this._parentQuaternionInv=new Xn,this._parentScale=new Z,this._worldScaleStart=new Z,this._worldQuaternionInv=new Xn,this._worldScale=new Z,this._positionStart=new Z,this._quaternionStart=new Xn,this._scaleStart=new Z,this._getPointer=Nie.bind(this),this._onPointerDown=zie.bind(this),this._onPointerHover=kie.bind(this),this._onPointerMove=Hie.bind(this),this._onPointerUp=Vie.bind(this),t!==null&&this.connect()}connect(){this.domElement.addEventListener("pointerdown",this._onPointerDown),this.domElement.addEventListener("pointermove",this._onPointerHover),this.domElement.addEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="none"}disconnect(){this.domElement.removeEventListener("pointerdown",this._onPointerDown),this.domElement.removeEventListener("pointermove",this._onPointerHover),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.domElement.removeEventListener("pointerup",this._onPointerUp),this.domElement.style.touchAction="auto"}getHelper(){return this._root}pointerHover(e){if(this.object===void 0||this.dragging===!0)return;e!==null&&Wc.setFromCamera(e,this.camera);const t=V3(this._gizmo.picker[this.mode],Wc);t?this.axis=t.object.name:this.axis=null}pointerDown(e){if(!(this.object===void 0||this.dragging===!0||e!=null&&e.button!==0)&&this.axis!==null){e!==null&&Wc.setFromCamera(e,this.camera);const t=V3(this._plane,Wc,!0);t&&(this.object.updateMatrixWorld(),this.object.parent.updateMatrixWorld(),this._positionStart.copy(this.object.position),this._quaternionStart.copy(this.object.quaternion),this._scaleStart.copy(this.object.scale),this.object.matrixWorld.decompose(this.worldPositionStart,this.worldQuaternionStart,this._worldScaleStart),this.pointStart.copy(t.point).sub(this.worldPositionStart)),this.dragging=!0,C8.mode=this.mode,this.dispatchEvent(C8)}}pointerMove(e){const t=this.axis,i=this.mode,r=this.object;let s=this.space;if(i==="scale"?s="local":(t==="E"||t==="XYZE"||t==="XYZ")&&(s="world"),r===void 0||t===null||this.dragging===!1||e!==null&&e.button!==-1)return;e!==null&&Wc.setFromCamera(e,this.camera);const o=V3(this._plane,Wc,!0);if(o){if(this.pointEnd.copy(o.point).sub(this.worldPositionStart),i==="translate")this._offset.copy(this.pointEnd).sub(this.pointStart),s==="local"&&t!=="XYZ"&&this._offset.applyQuaternion(this._worldQuaternionInv),t.indexOf("X")===-1&&(this._offset.x=0),t.indexOf("Y")===-1&&(this._offset.y=0),t.indexOf("Z")===-1&&(this._offset.z=0),s==="local"&&t!=="XYZ"?this._offset.applyQuaternion(this._quaternionStart).divide(this._parentScale):this._offset.applyQuaternion(this._parentQuaternionInv).divide(this._parentScale),r.position.copy(this._offset).add(this._positionStart),this.translationSnap&&(s==="local"&&(r.position.applyQuaternion(qn.copy(this._quaternionStart).invert()),t.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.position.applyQuaternion(this._quaternionStart)),s==="world"&&(r.parent&&r.position.add(br.setFromMatrixPosition(r.parent.matrixWorld)),t.search("X")!==-1&&(r.position.x=Math.round(r.position.x/this.translationSnap)*this.translationSnap),t.search("Y")!==-1&&(r.position.y=Math.round(r.position.y/this.translationSnap)*this.translationSnap),t.search("Z")!==-1&&(r.position.z=Math.round(r.position.z/this.translationSnap)*this.translationSnap),r.parent&&r.position.sub(br.setFromMatrixPosition(r.parent.matrixWorld)))),r.position.x=Math.max(this.minX,Math.min(this.maxX,r.position.x)),r.position.y=Math.max(this.minY,Math.min(this.maxY,r.position.y)),r.position.z=Math.max(this.minZ,Math.min(this.maxZ,r.position.z));else if(i==="scale"){if(t.search("XYZ")!==-1){let a=this.pointEnd.length()/this.pointStart.length();this.pointEnd.dot(this.pointStart)<0&&(a*=-1),Al.set(a,a,a)}else br.copy(this.pointStart),Al.copy(this.pointEnd),br.applyQuaternion(this._worldQuaternionInv),Al.applyQuaternion(this._worldQuaternionInv),Al.divide(br),t.search("X")===-1&&(Al.x=1),t.search("Y")===-1&&(Al.y=1),t.search("Z")===-1&&(Al.z=1);r.scale.copy(this._scaleStart).multiply(Al),this.scaleSnap&&(t.search("X")!==-1&&(r.scale.x=Math.round(r.scale.x/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Y")!==-1&&(r.scale.y=Math.round(r.scale.y/this.scaleSnap)*this.scaleSnap||this.scaleSnap),t.search("Z")!==-1&&(r.scale.z=Math.round(r.scale.z/this.scaleSnap)*this.scaleSnap||this.scaleSnap))}else if(i==="rotate"){this._offset.copy(this.pointEnd).sub(this.pointStart);const a=20/this.worldPosition.distanceTo(br.setFromMatrixPosition(this.camera.matrixWorld));let l=!1;t==="XYZE"?(this.rotationAxis.copy(this._offset).cross(this.eye).normalize(),this.rotationAngle=this._offset.dot(br.copy(this.rotationAxis).cross(this.eye))*a):(t==="X"||t==="Y"||t==="Z")&&(this.rotationAxis.copy(x8[t]),br.copy(x8[t]),s==="local"&&br.applyQuaternion(this.worldQuaternion),br.cross(this.eye),br.length()===0?l=!0:this.rotationAngle=this._offset.dot(br.normalize())*a),(t==="E"||l)&&(this.rotationAxis.copy(this.eye),this.rotationAngle=this.pointEnd.angleTo(this.pointStart),this._startNorm.copy(this.pointStart).normalize(),this._endNorm.copy(this.pointEnd).normalize(),this.rotationAngle*=this._endNorm.cross(this._startNorm).dot(this.eye)<0?1:-1),this.rotationSnap&&(this.rotationAngle=Math.round(this.rotationAngle/this.rotationSnap)*this.rotationSnap),s==="local"&&t!=="E"&&t!=="XYZE"?(r.quaternion.copy(this._quaternionStart),r.quaternion.multiply(qn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)).normalize()):(this.rotationAxis.applyQuaternion(this._parentQuaternionInv),r.quaternion.copy(qn.setFromAxisAngle(this.rotationAxis,this.rotationAngle)),r.quaternion.multiply(this._quaternionStart).normalize())}this.dispatchEvent(H3),this.dispatchEvent(w8)}}pointerUp(e){e!==null&&e.button!==0||(this.dragging&&this.axis!==null&&(S8.mode=this.mode,this.dispatchEvent(S8)),this.dragging=!1,this.axis=null)}dispose(){this.disconnect(),this._root.dispose()}attach(e){return this.object=e,this._root.visible=!0,this}detach(){return this.object=void 0,this.axis=null,this._root.visible=!1,this}reset(){this.enabled&&this.dragging&&(this.object.position.copy(this._positionStart),this.object.quaternion.copy(this._quaternionStart),this.object.scale.copy(this._scaleStart),this.dispatchEvent(H3),this.dispatchEvent(w8),this.pointStart.copy(this.pointEnd))}getRaycaster(){return Wc}getMode(){return this.mode}setMode(e){this.mode=e}setTranslationSnap(e){this.translationSnap=e}setRotationSnap(e){this.rotationSnap=e}setScaleSnap(e){this.scaleSnap=e}setSize(e){this.size=e}setSpace(e){this.space=e}}function Nie(n){if(this.domElement.ownerDocument.pointerLockElement)return{x:0,y:0,button:n.button};{const e=this.domElement.getBoundingClientRect();return{x:(n.clientX-e.left)/e.width*2-1,y:-(n.clientY-e.top)/e.height*2+1,button:n.button}}}function kie(n){if(this.enabled)switch(n.pointerType){case"mouse":case"pen":this.pointerHover(this._getPointer(n));break}}function zie(n){this.enabled&&(document.pointerLockElement||this.domElement.setPointerCapture(n.pointerId),this.domElement.addEventListener("pointermove",this._onPointerMove),this.pointerHover(this._getPointer(n)),this.pointerDown(this._getPointer(n)))}function Hie(n){this.enabled&&this.pointerMove(this._getPointer(n))}function Vie(n){this.enabled&&(this.domElement.releasePointerCapture(n.pointerId),this.domElement.removeEventListener("pointermove",this._onPointerMove),this.pointerUp(this._getPointer(n)))}function V3(n,e,t){const i=e.intersectObject(n,!0);for(let r=0;r<i.length;r++)if(i[r].object.visible||t)return i[r];return!1}const Sm=new Di,In=new Z(0,1,0),E8=new Z(0,0,0),T8=new xt,wm=new Xn,Zm=new Xn,Oo=new Z,M8=new xt,$h=new Z(1,0,0),Jc=new Z(0,1,0),Kh=new Z(0,0,1),Em=new Z,Fh=new Z,Oh=new Z;class Gie extends jt{constructor(e){super(),this.isTransformControlsRoot=!0,this.controls=e,this.visible=!1}updateMatrixWorld(e){const t=this.controls;t.object!==void 0&&(t.object.updateMatrixWorld(),t.object.parent===null?console.error("TransformControls: The attached 3D object must be a part of the scene graph."):t.object.parent.matrixWorld.decompose(t._parentPosition,t._parentQuaternion,t._parentScale),t.object.matrixWorld.decompose(t.worldPosition,t.worldQuaternion,t._worldScale),t._parentQuaternionInv.copy(t._parentQuaternion).invert(),t._worldQuaternionInv.copy(t.worldQuaternion).invert()),t.camera.updateMatrixWorld(),t.camera.matrixWorld.decompose(t.cameraPosition,t.cameraQuaternion,t._cameraScale),t.camera.isOrthographicCamera?t.camera.getWorldDirection(t.eye).negate():t.eye.copy(t.cameraPosition).sub(t.worldPosition).normalize(),super.updateMatrixWorld(e)}dispose(){this.traverse(function(e){e.geometry&&e.geometry.dispose(),e.material&&e.material.dispose()})}}class Qie extends jt{constructor(){super(),this.isTransformControlsGizmo=!0,this.type="TransformControlsGizmo";const e=new Jr({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),t=new Fu({depthTest:!1,depthWrite:!1,fog:!1,toneMapped:!1,transparent:!0}),i=e.clone();i.opacity=.15;const r=t.clone();r.opacity=.5;const s=e.clone();s.color.setHex(16711680);const o=e.clone();o.color.setHex(65280);const a=e.clone();a.color.setHex(255);const l=e.clone();l.color.setHex(16711680),l.opacity=.5;const c=e.clone();c.color.setHex(65280),c.opacity=.5;const u=e.clone();u.color.setHex(255),u.opacity=.5;const f=e.clone();f.opacity=.25;const h=e.clone();h.color.setHex(16776960),h.opacity=.25,e.clone().color.setHex(16776960);const m=e.clone();m.color.setHex(7895160);const g=new ar(0,.04,.1,12);g.translate(0,.05,0);const A=new ui(.08,.08,.08);A.translate(0,.04,0);const y=new Hn;y.setAttribute("position",new en([0,0,0,1,0,0],3));const x=new ar(.0075,.0075,.5,3);x.translate(0,.25,0);function b(X,U){const G=new tu(X,.0075,3,64,U*Math.PI*2);return G.rotateY(Math.PI/2),G.rotateX(Math.PI/2),G}function _(){const X=new Hn;return X.setAttribute("position",new en([0,0,0,1,1,1],3)),X}const T={X:[[new Qe(g,s),[.5,0,0],[0,0,-Math.PI/2]],[new Qe(g,s),[-.5,0,0],[0,0,Math.PI/2]],[new Qe(x,s),[0,0,0],[0,0,-Math.PI/2]]],Y:[[new Qe(g,o),[0,.5,0]],[new Qe(g,o),[0,-.5,0],[Math.PI,0,0]],[new Qe(x,o)]],Z:[[new Qe(g,a),[0,0,.5],[Math.PI/2,0,0]],[new Qe(g,a),[0,0,-.5],[-Math.PI/2,0,0]],[new Qe(x,a),null,[Math.PI/2,0,0]]],XYZ:[[new Qe(new kf(.1,0),f.clone()),[0,0,0]]],XY:[[new Qe(new ui(.15,.15,.01),u.clone()),[.15,.15,0]]],YZ:[[new Qe(new ui(.15,.15,.01),l.clone()),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new ui(.15,.15,.01),c.clone()),[.15,0,.15],[-Math.PI/2,0,0]]]},M={X:[[new Qe(new ar(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new Qe(new ar(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Qe(new ar(.2,0,.6,4),i),[0,.3,0]],[new Qe(new ar(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Qe(new ar(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new Qe(new ar(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XYZ:[[new Qe(new kf(.2,0),i)]],XY:[[new Qe(new ui(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new Qe(new ui(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new ui(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]]},I={START:[[new Qe(new kf(.01,2),r),null,null,null,"helper"]],END:[[new Qe(new kf(.01,2),r),null,null,null,"helper"]],DELTA:[[new Ms(_(),r),null,null,null,"helper"]],X:[[new Ms(y,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ms(y,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ms(y,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]},P={XYZE:[[new Qe(b(.5,1),m),null,[0,Math.PI/2,0]]],X:[[new Qe(b(.5,.5),s)]],Y:[[new Qe(b(.5,.5),o),null,[0,0,-Math.PI/2]]],Z:[[new Qe(b(.5,.5),a),null,[0,Math.PI/2,0]]],E:[[new Qe(b(.75,1),h),null,[0,Math.PI/2,0]]]},w={AXIS:[[new Ms(y,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]]},E={XYZE:[[new Qe(new Vd(.25,10,8),i)]],X:[[new Qe(new tu(.5,.1,4,24),i),[0,0,0],[0,-Math.PI/2,-Math.PI/2]]],Y:[[new Qe(new tu(.5,.1,4,24),i),[0,0,0],[Math.PI/2,0,0]]],Z:[[new Qe(new tu(.5,.1,4,24),i),[0,0,0],[0,0,-Math.PI/2]]],E:[[new Qe(new tu(.75,.1,2,24),i)]]},O={X:[[new Qe(A,s),[.5,0,0],[0,0,-Math.PI/2]],[new Qe(x,s),[0,0,0],[0,0,-Math.PI/2]],[new Qe(A,s),[-.5,0,0],[0,0,Math.PI/2]]],Y:[[new Qe(A,o),[0,.5,0]],[new Qe(x,o)],[new Qe(A,o),[0,-.5,0],[0,0,Math.PI]]],Z:[[new Qe(A,a),[0,0,.5],[Math.PI/2,0,0]],[new Qe(x,a),[0,0,0],[Math.PI/2,0,0]],[new Qe(A,a),[0,0,-.5],[-Math.PI/2,0,0]]],XY:[[new Qe(new ui(.15,.15,.01),u),[.15,.15,0]]],YZ:[[new Qe(new ui(.15,.15,.01),l),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new ui(.15,.15,.01),c),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Qe(new ui(.1,.1,.1),f.clone())]]},F={X:[[new Qe(new ar(.2,0,.6,4),i),[.3,0,0],[0,0,-Math.PI/2]],[new Qe(new ar(.2,0,.6,4),i),[-.3,0,0],[0,0,Math.PI/2]]],Y:[[new Qe(new ar(.2,0,.6,4),i),[0,.3,0]],[new Qe(new ar(.2,0,.6,4),i),[0,-.3,0],[0,0,Math.PI]]],Z:[[new Qe(new ar(.2,0,.6,4),i),[0,0,.3],[Math.PI/2,0,0]],[new Qe(new ar(.2,0,.6,4),i),[0,0,-.3],[-Math.PI/2,0,0]]],XY:[[new Qe(new ui(.2,.2,.01),i),[.15,.15,0]]],YZ:[[new Qe(new ui(.2,.2,.01),i),[0,.15,.15],[0,Math.PI/2,0]]],XZ:[[new Qe(new ui(.2,.2,.01),i),[.15,0,.15],[-Math.PI/2,0,0]]],XYZ:[[new Qe(new ui(.2,.2,.2),i),[0,0,0]]]},H={X:[[new Ms(y,r.clone()),[-1e3,0,0],null,[1e6,1,1],"helper"]],Y:[[new Ms(y,r.clone()),[0,-1e3,0],[0,0,Math.PI/2],[1e6,1,1],"helper"]],Z:[[new Ms(y,r.clone()),[0,0,-1e3],[0,-Math.PI/2,0],[1e6,1,1],"helper"]]};function z(X){const U=new jt;for(const G in X)for(let j=X[G].length;j--;){const Y=X[G][j][0].clone(),Q=X[G][j][1],ve=X[G][j][2],Pe=X[G][j][3],He=X[G][j][4];Y.name=G,Y.tag=He,Q&&Y.position.set(Q[0],Q[1],Q[2]),ve&&Y.rotation.set(ve[0],ve[1],ve[2]),Pe&&Y.scale.set(Pe[0],Pe[1],Pe[2]),Y.updateMatrix();const re=Y.geometry.clone();re.applyMatrix4(Y.matrix),Y.geometry=re,Y.renderOrder=1/0,Y.position.set(0,0,0),Y.rotation.set(0,0,0),Y.scale.set(1,1,1),U.add(Y)}return U}this.gizmo={},this.picker={},this.helper={},this.add(this.gizmo.translate=z(T)),this.add(this.gizmo.rotate=z(P)),this.add(this.gizmo.scale=z(O)),this.add(this.picker.translate=z(M)),this.add(this.picker.rotate=z(E)),this.add(this.picker.scale=z(F)),this.add(this.helper.translate=z(I)),this.add(this.helper.rotate=z(w)),this.add(this.helper.scale=z(H)),this.picker.translate.visible=!1,this.picker.rotate.visible=!1,this.picker.scale.visible=!1}updateMatrixWorld(e){const i=(this.mode==="scale"?"local":this.space)==="local"?this.worldQuaternion:Zm;this.gizmo.translate.visible=this.mode==="translate",this.gizmo.rotate.visible=this.mode==="rotate",this.gizmo.scale.visible=this.mode==="scale",this.helper.translate.visible=this.mode==="translate",this.helper.rotate.visible=this.mode==="rotate",this.helper.scale.visible=this.mode==="scale";let r=[];r=r.concat(this.picker[this.mode].children),r=r.concat(this.gizmo[this.mode].children),r=r.concat(this.helper[this.mode].children);for(let s=0;s<r.length;s++){const o=r[s];o.visible=!0,o.rotation.set(0,0,0),o.position.copy(this.worldPosition);let a;if(this.camera.isOrthographicCamera?a=(this.camera.top-this.camera.bottom)/this.camera.zoom:a=this.worldPosition.distanceTo(this.cameraPosition)*Math.min(1.9*Math.tan(Math.PI*this.camera.fov/360)/this.camera.zoom,7),o.scale.set(1,1,1).multiplyScalar(a*this.size/4),o.tag==="helper"){o.visible=!1,o.name==="AXIS"?(o.visible=!!this.axis,this.axis==="X"&&(qn.setFromEuler(Sm.set(0,0,0)),o.quaternion.copy(i).multiply(qn),Math.abs(In.copy($h).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="Y"&&(qn.setFromEuler(Sm.set(0,0,Math.PI/2)),o.quaternion.copy(i).multiply(qn),Math.abs(In.copy(Jc).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="Z"&&(qn.setFromEuler(Sm.set(0,Math.PI/2,0)),o.quaternion.copy(i).multiply(qn),Math.abs(In.copy(Kh).applyQuaternion(i).dot(this.eye))>.9&&(o.visible=!1)),this.axis==="XYZE"&&(qn.setFromEuler(Sm.set(0,Math.PI/2,0)),In.copy(this.rotationAxis),o.quaternion.setFromRotationMatrix(T8.lookAt(E8,In,Jc)),o.quaternion.multiply(qn),o.visible=this.dragging),this.axis==="E"&&(o.visible=!1)):o.name==="START"?(o.position.copy(this.worldPositionStart),o.visible=this.dragging):o.name==="END"?(o.position.copy(this.worldPosition),o.visible=this.dragging):o.name==="DELTA"?(o.position.copy(this.worldPositionStart),o.quaternion.copy(this.worldQuaternionStart),br.set(1e-10,1e-10,1e-10).add(this.worldPositionStart).sub(this.worldPosition).multiplyScalar(-1),br.applyQuaternion(this.worldQuaternionStart.clone().invert()),o.scale.copy(br),o.visible=this.dragging):(o.quaternion.copy(i),this.dragging?o.position.copy(this.worldPositionStart):o.position.copy(this.worldPosition),this.axis&&(o.visible=this.axis.search(o.name)!==-1));continue}o.quaternion.copy(i),this.mode==="translate"||this.mode==="scale"?(o.name==="X"&&Math.abs(In.copy($h).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="Y"&&Math.abs(In.copy(Jc).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="Z"&&Math.abs(In.copy(Kh).applyQuaternion(i).dot(this.eye))>.99&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="XY"&&Math.abs(In.copy(Kh).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="YZ"&&Math.abs(In.copy($h).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1),o.name==="XZ"&&Math.abs(In.copy(Jc).applyQuaternion(i).dot(this.eye))<.2&&(o.scale.set(1e-10,1e-10,1e-10),o.visible=!1)):this.mode==="rotate"&&(wm.copy(i),In.copy(this.eye).applyQuaternion(qn.copy(i).invert()),o.name.search("E")!==-1&&o.quaternion.setFromRotationMatrix(T8.lookAt(this.eye,E8,Jc)),o.name==="X"&&(qn.setFromAxisAngle($h,Math.atan2(-In.y,In.z)),qn.multiplyQuaternions(wm,qn),o.quaternion.copy(qn)),o.name==="Y"&&(qn.setFromAxisAngle(Jc,Math.atan2(In.x,In.z)),qn.multiplyQuaternions(wm,qn),o.quaternion.copy(qn)),o.name==="Z"&&(qn.setFromAxisAngle(Kh,Math.atan2(In.y,In.x)),qn.multiplyQuaternions(wm,qn),o.quaternion.copy(qn))),o.visible=o.visible&&(o.name.indexOf("X")===-1||this.showX),o.visible=o.visible&&(o.name.indexOf("Y")===-1||this.showY),o.visible=o.visible&&(o.name.indexOf("Z")===-1||this.showZ),o.visible=o.visible&&(o.name.indexOf("E")===-1||this.showX&&this.showY&&this.showZ),o.material._color=o.material._color||o.material.color.clone(),o.material._opacity=o.material._opacity||o.material.opacity,o.material.color.copy(o.material._color),o.material.opacity=o.material._opacity,this.enabled&&this.axis&&(o.name===this.axis||this.axis.split("").some(function(l){return o.name===l}))&&(o.material.color.setHex(16776960),o.material.opacity=1)}super.updateMatrixWorld(e)}}class jie extends Qe{constructor(){super(new ao(1e5,1e5,2,2),new Jr({visible:!1,wireframe:!0,side:Ks,transparent:!0,opacity:.1,toneMapped:!1})),this.isTransformControlsPlane=!0,this.type="TransformControlsPlane"}updateMatrixWorld(e){let t=this.space;switch(this.position.copy(this.worldPosition),this.mode==="scale"&&(t="local"),Em.copy($h).applyQuaternion(t==="local"?this.worldQuaternion:Zm),Fh.copy(Jc).applyQuaternion(t==="local"?this.worldQuaternion:Zm),Oh.copy(Kh).applyQuaternion(t==="local"?this.worldQuaternion:Zm),In.copy(Fh),this.mode){case"translate":case"scale":switch(this.axis){case"X":In.copy(this.eye).cross(Em),Oo.copy(Em).cross(In);break;case"Y":In.copy(this.eye).cross(Fh),Oo.copy(Fh).cross(In);break;case"Z":In.copy(this.eye).cross(Oh),Oo.copy(Oh).cross(In);break;case"XY":Oo.copy(Oh);break;case"YZ":Oo.copy(Em);break;case"XZ":In.copy(Oh),Oo.copy(Fh);break;case"XYZ":case"E":Oo.set(0,0,0);break}break;case"rotate":default:Oo.set(0,0,0)}Oo.length()===0?this.quaternion.copy(this.cameraQuaternion):(M8.lookAt(br.set(0,0,0),Oo,In),this.quaternion.setFromRotationMatrix(M8)),super.updateMatrixWorld(e)}}class lc{constructor(){this.isPass=!0,this.enabled=!0,this.needsSwap=!0,this.clear=!1,this.renderToScreen=!1}setSize(){}render(){console.error("THREE.Pass: .render() must be implemented in derived pass.")}dispose(){}}const Wie=new Ou(-1,1,1,-1,0,1);class qie extends Hn{constructor(){super(),this.setAttribute("position",new en([-1,3,0,-1,-1,0,3,-1,0],3)),this.setAttribute("uv",new en([0,2,0,0,2,0],2))}}const Xie=new qie;class Tp{constructor(e){this._mesh=new Qe(Xie,e)}dispose(){this._mesh.geometry.dispose()}render(e){e.render(this._mesh,Wie)}get material(){return this._mesh.material}set material(e){this._mesh.material=e}}const Yie=0,I8=2,$ie=1,D8=2,Kie=0,Zie=1,Jie=10,ere=0,vD=9,yD=15,_D=16,bD=22,xD=37,CD=43,SD=76,wD=83,ED=97,TD=100,MD=103,ID=109,DD=165,PD=166,d4=1000066e3;class tre{constructor(){this.vkFormat=0,this.typeSize=1,this.pixelWidth=0,this.pixelHeight=0,this.pixelDepth=0,this.layerCount=0,this.faceCount=1,this.supercompressionScheme=0,this.levels=[],this.dataFormatDescriptor=[{vendorId:0,descriptorType:0,descriptorBlockSize:0,versionNumber:2,colorModel:0,colorPrimaries:1,transferFunction:2,flags:0,texelBlockDimension:[0,0,0,0],bytesPlane:[0,0,0,0,0,0,0,0],samples:[]}],this.keyValue={},this.globalData=null}}class Uh{constructor(e,t,i,r){this._dataView=void 0,this._littleEndian=void 0,this._offset=void 0,this._dataView=new DataView(e.buffer,e.byteOffset+t,i),this._littleEndian=r,this._offset=0}_nextUint8(){const e=this._dataView.getUint8(this._offset);return this._offset+=1,e}_nextUint16(){const e=this._dataView.getUint16(this._offset,this._littleEndian);return this._offset+=2,e}_nextUint32(){const e=this._dataView.getUint32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint64(){const e=this._dataView.getUint32(this._offset,this._littleEndian)+4294967296*this._dataView.getUint32(this._offset+4,this._littleEndian);return this._offset+=8,e}_nextInt32(){const e=this._dataView.getInt32(this._offset,this._littleEndian);return this._offset+=4,e}_nextUint8Array(e){const t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._offset,e);return this._offset+=e,t}_skip(e){return this._offset+=e,this}_scan(e,t){t===void 0&&(t=0);const i=this._offset;let r=0;for(;this._dataView.getUint8(this._offset)!==t&&r<e;)r++,this._offset++;return r<e&&this._offset++,new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+i,r)}}const kr=[171,75,84,88,32,50,48,187,13,10,26,10];function P8(n){return new TextDecoder().decode(n)}function nre(n){const e=new Uint8Array(n.buffer,n.byteOffset,kr.length);if(e[0]!==kr[0]||e[1]!==kr[1]||e[2]!==kr[2]||e[3]!==kr[3]||e[4]!==kr[4]||e[5]!==kr[5]||e[6]!==kr[6]||e[7]!==kr[7]||e[8]!==kr[8]||e[9]!==kr[9]||e[10]!==kr[10]||e[11]!==kr[11])throw new Error("Missing KTX 2.0 identifier.");const t=new tre,i=17*Uint32Array.BYTES_PER_ELEMENT,r=new Uh(n,kr.length,i,!0);t.vkFormat=r._nextUint32(),t.typeSize=r._nextUint32(),t.pixelWidth=r._nextUint32(),t.pixelHeight=r._nextUint32(),t.pixelDepth=r._nextUint32(),t.layerCount=r._nextUint32(),t.faceCount=r._nextUint32();const s=r._nextUint32();t.supercompressionScheme=r._nextUint32();const o=r._nextUint32(),a=r._nextUint32(),l=r._nextUint32(),c=r._nextUint32(),u=r._nextUint64(),f=r._nextUint64(),h=new Uh(n,kr.length+i,3*s*8,!0);for(let G=0;G<s;G++)t.levels.push({levelData:new Uint8Array(n.buffer,n.byteOffset+h._nextUint64(),h._nextUint64()),uncompressedByteLength:h._nextUint64()});const p=new Uh(n,o,a,!0),m={vendorId:p._skip(4)._nextUint16(),descriptorType:p._nextUint16(),versionNumber:p._nextUint16(),descriptorBlockSize:p._nextUint16(),colorModel:p._nextUint8(),colorPrimaries:p._nextUint8(),transferFunction:p._nextUint8(),flags:p._nextUint8(),texelBlockDimension:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],bytesPlane:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],samples:[]},g=(m.descriptorBlockSize/4-6)/4;for(let G=0;G<g;G++){const j={bitOffset:p._nextUint16(),bitLength:p._nextUint8(),channelType:p._nextUint8(),samplePosition:[p._nextUint8(),p._nextUint8(),p._nextUint8(),p._nextUint8()],sampleLower:-1/0,sampleUpper:1/0};64&j.channelType?(j.sampleLower=p._nextInt32(),j.sampleUpper=p._nextInt32()):(j.sampleLower=p._nextUint32(),j.sampleUpper=p._nextUint32()),m.samples[G]=j}t.dataFormatDescriptor.length=0,t.dataFormatDescriptor.push(m);const A=new Uh(n,l,c,!0);for(;A._offset<c;){const G=A._nextUint32(),j=A._scan(G),Y=P8(j);if(t.keyValue[Y]=A._nextUint8Array(G-j.byteLength-1),Y.match(/^ktx/i)){const Q=P8(t.keyValue[Y]);t.keyValue[Y]=Q.substring(0,Q.lastIndexOf("\0"))}A._skip(G%4?4-G%4:0)}if(f<=0)return t;const y=new Uh(n,u,f,!0),x=y._nextUint16(),b=y._nextUint16(),_=y._nextUint32(),T=y._nextUint32(),M=y._nextUint32(),I=y._nextUint32(),P=[];for(let G=0;G<s;G++)P.push({imageFlags:y._nextUint32(),rgbSliceByteOffset:y._nextUint32(),rgbSliceByteLength:y._nextUint32(),alphaSliceByteOffset:y._nextUint32(),alphaSliceByteLength:y._nextUint32()});const w=u+y._offset,E=w+_,O=E+T,F=O+M,H=new Uint8Array(n.buffer,n.byteOffset+w,_),z=new Uint8Array(n.buffer,n.byteOffset+E,T),X=new Uint8Array(n.buffer,n.byteOffset+O,M),U=new Uint8Array(n.buffer,n.byteOffset+F,I);return t.globalData={endpointCount:x,selectorCount:b,imageDescs:P,endpointsData:H,selectorsData:z,tablesData:X,extendedData:U},t}class ire extends jt{constructor(e,t){super(),this.isViewHelper=!0,this.animating=!1,this.center=new Z;const i=new ke("#ff4466"),r=new ke("#88ff44"),s=new ke("#4488ff"),o=new ke("#000000"),a={},l=[],c=new l4,u=new De,f=new jt,h=new Ou(-2,2,2,-2,0,4);h.position.set(0,0,2);const p=new ar(.04,.04,.8,5).rotateZ(-Math.PI/2).translate(.4,0,0),m=new Qe(p,ve(i)),g=new Qe(p,ve(r)),A=new Qe(p,ve(s));g.rotation.z=Math.PI/2,A.rotation.y=-Math.PI/2,this.add(m),this.add(A),this.add(g);const y=Pe(i),x=Pe(r),b=Pe(s),_=Pe(o),T=new yf(y),M=new yf(x),I=new yf(b),P=new yf(_),w=new yf(_),E=new yf(_);T.position.x=1,M.position.y=1,I.position.z=1,P.position.x=-1,w.position.y=-1,E.position.z=-1,P.material.opacity=.2,w.material.opacity=.2,E.material.opacity=.2,T.userData.type="posX",M.userData.type="posY",I.userData.type="posZ",P.userData.type="negX",w.userData.type="negY",E.userData.type="negZ",this.add(T),this.add(M),this.add(I),this.add(P),this.add(w),this.add(E),l.push(T),l.push(M),l.push(I),l.push(P),l.push(w),l.push(E);const O=new Z,F=128,H=2*Math.PI;this.render=function(re){this.quaternion.copy(e.quaternion).invert(),this.updateMatrixWorld(),O.set(0,0,1),O.applyQuaternion(e.quaternion);const he=t.offsetWidth-F;re.clearDepth(),re.getViewport(j),re.setViewport(he,0,F,F),re.render(this,h),re.setViewport(j.x,j.y,j.z,j.w)};const z=new Z,X=new Xn,U=new Xn,G=new Xn,j=new Vt;let Y=0;this.handleClick=function(re){if(this.animating===!0)return!1;const he=t.getBoundingClientRect(),Oe=he.left+(t.offsetWidth-F),J=he.top+(t.offsetHeight-F);u.x=(re.clientX-Oe)/(he.right-Oe)*2-1,u.y=-((re.clientY-J)/(he.bottom-J))*2+1,c.setFromCamera(u,h);const ye=c.intersectObjects(l);if(ye.length>0){const be=ye[0].object;return Q(be,this.center),this.animating=!0,!0}else return!1},this.setLabels=function(re,he,Oe){a.labelX=re,a.labelY=he,a.labelZ=Oe,He()},this.setLabelStyle=function(re,he,Oe){a.font=re,a.color=he,a.radius=Oe,He()},this.update=function(re){const he=re*H;U.rotateTowards(G,he),e.position.set(0,0,1).applyQuaternion(U).multiplyScalar(Y).add(this.center),e.quaternion.rotateTowards(X,he),U.angleTo(G)===0&&(this.animating=!1)},this.dispose=function(){p.dispose(),m.material.dispose(),g.material.dispose(),A.material.dispose(),T.material.map.dispose(),M.material.map.dispose(),I.material.map.dispose(),P.material.map.dispose(),w.material.map.dispose(),E.material.map.dispose(),T.material.dispose(),M.material.dispose(),I.material.dispose(),P.material.dispose(),w.material.dispose(),E.material.dispose()};function Q(re,he){switch(re.userData.type){case"posX":z.set(1,0,0),X.setFromEuler(new Di(0,Math.PI*.5,0));break;case"posY":z.set(0,1,0),X.setFromEuler(new Di(-Math.PI*.5,0,0));break;case"posZ":z.set(0,0,1),X.setFromEuler(new Di);break;case"negX":z.set(-1,0,0),X.setFromEuler(new Di(0,-Math.PI*.5,0));break;case"negY":z.set(0,-1,0),X.setFromEuler(new Di(Math.PI*.5,0,0));break;case"negZ":z.set(0,0,-1),X.setFromEuler(new Di(0,Math.PI,0));break;default:console.error("ViewHelper: Invalid axis.")}Y=e.position.distanceTo(he),z.multiplyScalar(Y).add(he),f.position.copy(he),f.lookAt(e.position),U.copy(f.quaternion),f.lookAt(z),G.copy(f.quaternion)}function ve(re){return new Jr({color:re,toneMapped:!1})}function Pe(re,he){const{font:Oe="24px Arial",color:J="#000000",radius:ye=14}=a,Se=document.createElement("canvas");Se.width=64,Se.height=64;const be=Se.getContext("2d");be.beginPath(),be.arc(32,32,ye,0,2*Math.PI),be.closePath(),be.fillStyle=re.getStyle(),be.fill(),he&&(be.font=Oe,be.textAlign="center",be.fillStyle=J,be.fillText(he,32,41));const qe=new bK(Se);return qe.colorSpace=En,new KI({map:qe,toneMapped:!1})}function He(){T.material.map.dispose(),M.material.map.dispose(),I.material.map.dispose(),T.material.dispose(),M.material.dispose(),I.material.dispose(),T.material=Pe(i,a.labelX),M.material=Pe(r,a.labelY),I.material=Pe(s,a.labelZ)}}}const R8=new zs,Tm=new Z;class Ld extends WK{constructor(){super(),this.isLineSegmentsGeometry=!0,this.type="LineSegmentsGeometry";const e=[-1,2,0,1,2,0,-1,1,0,1,1,0,-1,0,0,1,0,0,-1,-1,0,1,-1,0],t=[-1,2,1,2,-1,1,1,1,-1,-1,1,-1,-1,-2,1,-2],i=[0,2,1,2,3,1,2,4,3,4,5,3,4,6,5,6,7,5];this.setIndex(i),this.setAttribute("position",new en(e,3)),this.setAttribute("uv",new en(t,2))}applyMatrix4(e){const t=this.attributes.instanceStart,i=this.attributes.instanceEnd;return t!==void 0&&(t.applyMatrix4(e),i.applyMatrix4(e),t.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}setPositions(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new Yr(t,6,1);return this.setAttribute("instanceStart",new fn(i,3,0)),this.setAttribute("instanceEnd",new fn(i,3,3)),this.instanceCount=this.attributes.instanceStart.count,this.computeBoundingBox(),this.computeBoundingSphere(),this}setColors(e){let t;e instanceof Float32Array?t=e:Array.isArray(e)&&(t=new Float32Array(e));const i=new Yr(t,6,1);return this.setAttribute("instanceColorStart",new fn(i,3,0)),this.setAttribute("instanceColorEnd",new fn(i,3,3)),this}fromWireframeGeometry(e){return this.setPositions(e.attributes.position.array),this}fromEdgesGeometry(e){return this.setPositions(e.attributes.position.array),this}fromMesh(e){return this.fromWireframeGeometry(new xK(e.geometry)),this}fromLineSegments(e){const t=e.geometry;return this.setPositions(t.attributes.position.array),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new zs);const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;e!==void 0&&t!==void 0&&(this.boundingBox.setFromBufferAttribute(e),R8.setFromBufferAttribute(t),this.boundingBox.union(R8))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new oo),this.boundingBox===null&&this.computeBoundingBox();const e=this.attributes.instanceStart,t=this.attributes.instanceEnd;if(e!==void 0&&t!==void 0){const i=this.boundingSphere.center;this.boundingBox.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Tm.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Tm)),Tm.fromBufferAttribute(t,s),r=Math.max(r,i.distanceToSquared(Tm));this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error("THREE.LineSegmentsGeometry.computeBoundingSphere(): Computed radius is NaN. The instanced position data is likely to have NaN values.",this)}}toJSON(){}applyMatrix(e){return console.warn("THREE.LineSegmentsGeometry: applyMatrix() has been renamed to applyMatrix4()."),this.applyMatrix4(e)}}Ke.line={worldUnits:{value:1},linewidth:{value:1},resolution:{value:new De(1,1)},dashOffset:{value:0},dashScale:{value:1},dashSize:{value:1},gapSize:{value:1}};us.line={uniforms:Io.merge([Ke.common,Ke.fog,Ke.line]),vertexShader:`
		#include <common>
		#include <color_pars_vertex>
		#include <fog_pars_vertex>
		#include <logdepthbuf_pars_vertex>
		#include <clipping_planes_pars_vertex>

		uniform float linewidth;
		uniform vec2 resolution;

		attribute vec3 instanceStart;
		attribute vec3 instanceEnd;

		attribute vec3 instanceColorStart;
		attribute vec3 instanceColorEnd;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#ifdef USE_DASH

			uniform float dashScale;
			attribute float instanceDistanceStart;
			attribute float instanceDistanceEnd;
			varying float vLineDistance;

		#endif

		void trimSegment( const in vec4 start, inout vec4 end ) {

			// trim end segment so it terminates between the camera plane and the near plane

			// conservative estimate of the near plane
			float a = projectionMatrix[ 2 ][ 2 ]; // 3nd entry in 3th column
			float b = projectionMatrix[ 3 ][ 2 ]; // 3nd entry in 4th column
			float nearEstimate = - 0.5 * b / a;

			float alpha = ( nearEstimate - start.z ) / ( end.z - start.z );

			end.xyz = mix( start.xyz, end.xyz, alpha );

		}

		void main() {

			#ifdef USE_COLOR

				vColor.xyz = ( position.y < 0.5 ) ? instanceColorStart : instanceColorEnd;

			#endif

			#ifdef USE_DASH

				vLineDistance = ( position.y < 0.5 ) ? dashScale * instanceDistanceStart : dashScale * instanceDistanceEnd;
				vUv = uv;

			#endif

			float aspect = resolution.x / resolution.y;

			// camera space
			vec4 start = modelViewMatrix * vec4( instanceStart, 1.0 );
			vec4 end = modelViewMatrix * vec4( instanceEnd, 1.0 );

			#ifdef WORLD_UNITS

				worldStart = start.xyz;
				worldEnd = end.xyz;

			#else

				vUv = uv;

			#endif

			// special case for perspective projection, and segments that terminate either in, or behind, the camera plane
			// clearly the gpu firmware has a way of addressing this issue when projecting into ndc space
			// but we need to perform ndc-space calculations in the shader, so we must address this issue directly
			// perhaps there is a more elegant solution -- WestLangley

			bool perspective = ( projectionMatrix[ 2 ][ 3 ] == - 1.0 ); // 4th entry in the 3rd column

			if ( perspective ) {

				if ( start.z < 0.0 && end.z >= 0.0 ) {

					trimSegment( start, end );

				} else if ( end.z < 0.0 && start.z >= 0.0 ) {

					trimSegment( end, start );

				}

			}

			// clip space
			vec4 clipStart = projectionMatrix * start;
			vec4 clipEnd = projectionMatrix * end;

			// ndc space
			vec3 ndcStart = clipStart.xyz / clipStart.w;
			vec3 ndcEnd = clipEnd.xyz / clipEnd.w;

			// direction
			vec2 dir = ndcEnd.xy - ndcStart.xy;

			// account for clip-space aspect ratio
			dir.x *= aspect;
			dir = normalize( dir );

			#ifdef WORLD_UNITS

				vec3 worldDir = normalize( end.xyz - start.xyz );
				vec3 tmpFwd = normalize( mix( start.xyz, end.xyz, 0.5 ) );
				vec3 worldUp = normalize( cross( worldDir, tmpFwd ) );
				vec3 worldFwd = cross( worldDir, worldUp );
				worldPos = position.y < 0.5 ? start: end;

				// height offset
				float hw = linewidth * 0.5;
				worldPos.xyz += position.x < 0.0 ? hw * worldUp : - hw * worldUp;

				// don't extend the line if we're rendering dashes because we
				// won't be rendering the endcaps
				#ifndef USE_DASH

					// cap extension
					worldPos.xyz += position.y < 0.5 ? - hw * worldDir : hw * worldDir;

					// add width to the box
					worldPos.xyz += worldFwd * hw;

					// endcaps
					if ( position.y > 1.0 || position.y < 0.0 ) {

						worldPos.xyz -= worldFwd * 2.0 * hw;

					}

				#endif

				// project the worldpos
				vec4 clip = projectionMatrix * worldPos;

				// shift the depth of the projected points so the line
				// segments overlap neatly
				vec3 clipPose = ( position.y < 0.5 ) ? ndcStart : ndcEnd;
				clip.z = clipPose.z * clip.w;

			#else

				vec2 offset = vec2( dir.y, - dir.x );
				// undo aspect ratio adjustment
				dir.x /= aspect;
				offset.x /= aspect;

				// sign flip
				if ( position.x < 0.0 ) offset *= - 1.0;

				// endcaps
				if ( position.y < 0.0 ) {

					offset += - dir;

				} else if ( position.y > 1.0 ) {

					offset += dir;

				}

				// adjust for linewidth
				offset *= linewidth;

				// adjust for clip-space to screen-space conversion // maybe resolution should be based on viewport ...
				offset /= resolution.y;

				// select end
				vec4 clip = ( position.y < 0.5 ) ? clipStart : clipEnd;

				// back to clip space
				offset *= clip.w;

				clip.xy += offset;

			#endif

			gl_Position = clip;

			vec4 mvPosition = ( position.y < 0.5 ) ? start : end; // this is an approximation

			#include <logdepthbuf_vertex>
			#include <clipping_planes_vertex>
			#include <fog_vertex>

		}
		`,fragmentShader:`
		uniform vec3 diffuse;
		uniform float opacity;
		uniform float linewidth;

		#ifdef USE_DASH

			uniform float dashOffset;
			uniform float dashSize;
			uniform float gapSize;

		#endif

		varying float vLineDistance;

		#ifdef WORLD_UNITS

			varying vec4 worldPos;
			varying vec3 worldStart;
			varying vec3 worldEnd;

			#ifdef USE_DASH

				varying vec2 vUv;

			#endif

		#else

			varying vec2 vUv;

		#endif

		#include <common>
		#include <color_pars_fragment>
		#include <fog_pars_fragment>
		#include <logdepthbuf_pars_fragment>
		#include <clipping_planes_pars_fragment>

		vec2 closestLineToLine(vec3 p1, vec3 p2, vec3 p3, vec3 p4) {

			float mua;
			float mub;

			vec3 p13 = p1 - p3;
			vec3 p43 = p4 - p3;

			vec3 p21 = p2 - p1;

			float d1343 = dot( p13, p43 );
			float d4321 = dot( p43, p21 );
			float d1321 = dot( p13, p21 );
			float d4343 = dot( p43, p43 );
			float d2121 = dot( p21, p21 );

			float denom = d2121 * d4343 - d4321 * d4321;

			float numer = d1343 * d4321 - d1321 * d4343;

			mua = numer / denom;
			mua = clamp( mua, 0.0, 1.0 );
			mub = ( d1343 + d4321 * ( mua ) ) / d4343;
			mub = clamp( mub, 0.0, 1.0 );

			return vec2( mua, mub );

		}

		void main() {

			#include <clipping_planes_fragment>

			#ifdef USE_DASH

				if ( vUv.y < - 1.0 || vUv.y > 1.0 ) discard; // discard endcaps

				if ( mod( vLineDistance + dashOffset, dashSize + gapSize ) > dashSize ) discard; // todo - FIX

			#endif

			float alpha = opacity;

			#ifdef WORLD_UNITS

				// Find the closest points on the view ray and the line segment
				vec3 rayEnd = normalize( worldPos.xyz ) * 1e5;
				vec3 lineDir = worldEnd - worldStart;
				vec2 params = closestLineToLine( worldStart, worldEnd, vec3( 0.0, 0.0, 0.0 ), rayEnd );

				vec3 p1 = worldStart + lineDir * params.x;
				vec3 p2 = rayEnd * params.y;
				vec3 delta = p1 - p2;
				float len = length( delta );
				float norm = len / linewidth;

				#ifndef USE_DASH

					#ifdef USE_ALPHA_TO_COVERAGE

						float dnorm = fwidth( norm );
						alpha = 1.0 - smoothstep( 0.5 - dnorm, 0.5 + dnorm, norm );

					#else

						if ( norm > 0.5 ) {

							discard;

						}

					#endif

				#endif

			#else

				#ifdef USE_ALPHA_TO_COVERAGE

					// artifacts appear on some hardware if a derivative is taken within a conditional
					float a = vUv.x;
					float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
					float len2 = a * a + b * b;
					float dlen = fwidth( len2 );

					if ( abs( vUv.y ) > 1.0 ) {

						alpha = 1.0 - smoothstep( 1.0 - dlen, 1.0 + dlen, len2 );

					}

				#else

					if ( abs( vUv.y ) > 1.0 ) {

						float a = vUv.x;
						float b = ( vUv.y > 0.0 ) ? vUv.y - 1.0 : vUv.y + 1.0;
						float len2 = a * a + b * b;

						if ( len2 > 1.0 ) discard;

					}

				#endif

			#endif

			vec4 diffuseColor = vec4( diffuse, alpha );

			#include <logdepthbuf_fragment>
			#include <color_fragment>

			gl_FragColor = vec4( diffuseColor.rgb, alpha );

			#include <tonemapping_fragment>
			#include <colorspace_fragment>
			#include <fog_fragment>
			#include <premultiplied_alpha_fragment>

		}
		`};class rre extends Cn{constructor(e){super({type:"LineMaterial",uniforms:Io.clone(us.line.uniforms),vertexShader:us.line.vertexShader,fragmentShader:us.line.fragmentShader,clipping:!0}),this.isLineMaterial=!0,this.setValues(e)}get color(){return this.uniforms.diffuse.value}set color(e){this.uniforms.diffuse.value=e}get worldUnits(){return"WORLD_UNITS"in this.defines}set worldUnits(e){e===!0?this.defines.WORLD_UNITS="":delete this.defines.WORLD_UNITS}get linewidth(){return this.uniforms.linewidth.value}set linewidth(e){this.uniforms.linewidth&&(this.uniforms.linewidth.value=e)}get dashed(){return"USE_DASH"in this.defines}set dashed(e){e===!0!==this.dashed&&(this.needsUpdate=!0),e===!0?this.defines.USE_DASH="":delete this.defines.USE_DASH}get dashScale(){return this.uniforms.dashScale.value}set dashScale(e){this.uniforms.dashScale.value=e}get dashSize(){return this.uniforms.dashSize.value}set dashSize(e){this.uniforms.dashSize.value=e}get dashOffset(){return this.uniforms.dashOffset.value}set dashOffset(e){this.uniforms.dashOffset.value=e}get gapSize(){return this.uniforms.gapSize.value}set gapSize(e){this.uniforms.gapSize.value=e}get opacity(){return this.uniforms.opacity.value}set opacity(e){this.uniforms&&(this.uniforms.opacity.value=e)}get resolution(){return this.uniforms.resolution.value}set resolution(e){this.uniforms.resolution.value.copy(e)}get alphaToCoverage(){return"USE_ALPHA_TO_COVERAGE"in this.defines}set alphaToCoverage(e){this.defines&&(e===!0!==this.alphaToCoverage&&(this.needsUpdate=!0),e===!0?this.defines.USE_ALPHA_TO_COVERAGE="":delete this.defines.USE_ALPHA_TO_COVERAGE)}}const G3=new Vt,B8=new Z,L8=new Z,sr=new Vt,or=new Vt,Uo=new Vt,Q3=new Z,j3=new xt,lr=new rZ,F8=new Z,Mm=new zs,Im=new oo,No=new Vt;let Xo,xu;function O8(n,e,t){return No.set(0,0,-e,1).applyMatrix4(n.projectionMatrix),No.multiplyScalar(1/No.w),No.x=xu/t.width,No.y=xu/t.height,No.applyMatrix4(n.projectionMatrixInverse),No.multiplyScalar(1/No.w),Math.abs(Math.max(No.x,No.y))}function sre(n,e){const t=n.matrixWorld,i=n.geometry,r=i.attributes.instanceStart,s=i.attributes.instanceEnd,o=Math.min(i.instanceCount,r.count);for(let a=0,l=o;a<l;a++){lr.start.fromBufferAttribute(r,a),lr.end.fromBufferAttribute(s,a),lr.applyMatrix4(t);const c=new Z,u=new Z;Xo.distanceSqToSegment(lr.start,lr.end,u,c),u.distanceTo(c)<xu*.5&&e.push({point:u,pointOnLine:c,distance:Xo.origin.distanceTo(u),object:n,face:null,faceIndex:a,uv:null,uv1:null})}}function ore(n,e,t){const i=e.projectionMatrix,s=n.material.resolution,o=n.matrixWorld,a=n.geometry,l=a.attributes.instanceStart,c=a.attributes.instanceEnd,u=Math.min(a.instanceCount,l.count),f=-e.near;Xo.at(1,Uo),Uo.w=1,Uo.applyMatrix4(e.matrixWorldInverse),Uo.applyMatrix4(i),Uo.multiplyScalar(1/Uo.w),Uo.x*=s.x/2,Uo.y*=s.y/2,Uo.z=0,Q3.copy(Uo),j3.multiplyMatrices(e.matrixWorldInverse,o);for(let h=0,p=u;h<p;h++){if(sr.fromBufferAttribute(l,h),or.fromBufferAttribute(c,h),sr.w=1,or.w=1,sr.applyMatrix4(j3),or.applyMatrix4(j3),sr.z>f&&or.z>f)continue;if(sr.z>f){const b=sr.z-or.z,_=(sr.z-f)/b;sr.lerp(or,_)}else if(or.z>f){const b=or.z-sr.z,_=(or.z-f)/b;or.lerp(sr,_)}sr.applyMatrix4(i),or.applyMatrix4(i),sr.multiplyScalar(1/sr.w),or.multiplyScalar(1/or.w),sr.x*=s.x/2,sr.y*=s.y/2,or.x*=s.x/2,or.y*=s.y/2,lr.start.copy(sr),lr.start.z=0,lr.end.copy(or),lr.end.z=0;const g=lr.closestPointToPointParameter(Q3,!0);lr.at(g,F8);const A=gn.lerp(sr.z,or.z,g),y=A>=-1&&A<=1,x=Q3.distanceTo(F8)<xu*.5;if(y&&x){lr.start.fromBufferAttribute(l,h),lr.end.fromBufferAttribute(c,h),lr.start.applyMatrix4(o),lr.end.applyMatrix4(o);const b=new Z,_=new Z;Xo.distanceSqToSegment(lr.start,lr.end,_,b),t.push({point:_,pointOnLine:b,distance:Xo.origin.distanceTo(_),object:n,face:null,faceIndex:h,uv:null,uv1:null})}}}class tp extends Qe{constructor(e=new Ld,t=new rre({color:Math.random()*16777215})){super(e,t),this.isLineSegments2=!0,this.type="LineSegments2"}computeLineDistances(){const e=this.geometry,t=e.attributes.instanceStart,i=e.attributes.instanceEnd,r=new Float32Array(2*t.count);for(let o=0,a=0,l=t.count;o<l;o++,a+=2)B8.fromBufferAttribute(t,o),L8.fromBufferAttribute(i,o),r[a]=a===0?0:r[a-1],r[a+1]=r[a]+B8.distanceTo(L8);const s=new Yr(r,2,1);return e.setAttribute("instanceDistanceStart",new fn(s,1,0)),e.setAttribute("instanceDistanceEnd",new fn(s,1,1)),this}raycast(e,t){const i=this.material.worldUnits,r=e.camera;r===null&&!i&&console.error('LineSegments2: "Raycaster.camera" needs to be set in order to raycast against LineSegments2 while worldUnits is set to false.');const s=e.params.Line2!==void 0&&e.params.Line2.threshold||0;Xo=e.ray;const o=this.matrixWorld,a=this.geometry,l=this.material;xu=l.linewidth+s,a.boundingSphere===null&&a.computeBoundingSphere(),Im.copy(a.boundingSphere).applyMatrix4(o);let c;if(i)c=xu*.5;else{const f=Math.max(r.near,Im.distanceToPoint(Xo.origin));c=O8(r,f,l.resolution)}if(Im.radius+=c,Xo.intersectsSphere(Im)===!1)return;a.boundingBox===null&&a.computeBoundingBox(),Mm.copy(a.boundingBox).applyMatrix4(o);let u;if(i)u=xu*.5;else{const f=Math.max(r.near,Mm.distanceToPoint(Xo.origin));u=O8(r,f,l.resolution)}Mm.expandByScalar(u),Xo.intersectsBox(Mm)!==!1&&(i?sre(this,t):ore(this,r,t))}onBeforeRender(e){const t=this.material.uniforms;t&&t.resolution&&(e.getViewport(G3),this.material.uniforms.resolution.value.set(G3.z,G3.w))}}const W3=new WeakMap;class are extends ra{constructor(e){super(e),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(e){return this.decoderPath=e,this}setDecoderConfig(e){return this.decoderConfig=e,this}setWorkerLimit(e){return this.workerLimit=e,this}load(e,t,i,r){const s=new $l(this.manager);s.setPath(this.path),s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,o=>{this.parse(o,t,r)},i,r)}parse(e,t,i=()=>{}){this.decodeDracoFile(e,t,null,null,En,i).catch(i)}decodeDracoFile(e,t,i,r,s=pi,o=()=>{}){const a={attributeIDs:i||this.defaultAttributeIDs,attributeTypes:r||this.defaultAttributeTypes,useUniqueIDs:!!i,vertexColorSpace:s};return this.decodeGeometry(e,a).then(t).catch(o)}decodeGeometry(e,t){const i=JSON.stringify(t);if(W3.has(e)){const l=W3.get(e);if(l.key===i)return l.promise;if(e.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let r;const s=this.workerNextTaskID++,o=e.byteLength,a=this._getWorker(s,o).then(l=>(r=l,new Promise((c,u)=>{r._callbacks[s]={resolve:c,reject:u},r.postMessage({type:"decode",id:s,taskConfig:t,buffer:e},[e])}))).then(l=>this._createGeometry(l.geometry));return a.catch(()=>!0).then(()=>{r&&s&&this._releaseTask(r,s)}),W3.set(e,{key:i,promise:a}),a}_createGeometry(e){const t=new Hn;e.index&&t.setIndex(new Gi(e.index.array,1));for(let i=0;i<e.attributes.length;i++){const r=e.attributes[i],s=r.name,o=r.array,a=r.itemSize,l=new Gi(o,a);s==="color"&&(this._assignVertexColorSpace(l,r.vertexColorSpace),l.normalized=!(o instanceof Float32Array)),t.setAttribute(s,l)}return t}_assignVertexColorSpace(e,t){if(t!==En)return;const i=new ke;for(let r=0,s=e.count;r<s;r++)i.fromBufferAttribute(e,r),Xt.toWorkingColorSpace(i,En),e.setXYZ(r,i.r,i.g,i.b)}_loadLibrary(e,t){const i=new $l(this.manager);return i.setPath(this.decoderPath),i.setResponseType(t),i.setWithCredentials(this.withCredentials),new Promise((r,s)=>{i.load(e,r,void 0,s)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const e=typeof WebAssembly!="object"||this.decoderConfig.type==="js",t=[];return e?t.push(this._loadLibrary("draco_decoder.js","text")):(t.push(this._loadLibrary("draco_wasm_wrapper.js","text")),t.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(t).then(i=>{const r=i[0];e||(this.decoderConfig.wasmBinary=i[1]);const s=lre.toString(),o=["/* draco decoder */",r,"","/* worker */",s.substring(s.indexOf("{")+1,s.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([o]))}),this.decoderPending}_getWorker(e,t){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const r=new Worker(this.workerSourceURL);r._callbacks={},r._taskCosts={},r._taskLoad=0,r.postMessage({type:"init",decoderConfig:this.decoderConfig}),r.onmessage=function(s){const o=s.data;switch(o.type){case"decode":r._callbacks[o.id].resolve(o);break;case"error":r._callbacks[o.id].reject(o);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+o.type+'"')}},this.workerPool.push(r)}else this.workerPool.sort(function(r,s){return r._taskLoad>s._taskLoad?-1:1});const i=this.workerPool[this.workerPool.length-1];return i._taskCosts[e]=t,i._taskLoad+=t,i})}_releaseTask(e,t){e._taskLoad-=e._taskCosts[t],delete e._callbacks[t],delete e._taskCosts[t]}debug(){console.log("Task load: ",this.workerPool.map(e=>e._taskLoad))}dispose(){for(let e=0;e<this.workerPool.length;++e)this.workerPool[e].terminate();return this.workerPool.length=0,this.workerSourceURL!==""&&URL.revokeObjectURL(this.workerSourceURL),this}}function lre(){let n,e;onmessage=function(o){const a=o.data;switch(a.type){case"init":n=a.decoderConfig,e=new Promise(function(u){n.onModuleLoaded=function(f){u({draco:f})},DracoDecoderModule(n)});break;case"decode":const l=a.buffer,c=a.taskConfig;e.then(u=>{const f=u.draco,h=new f.Decoder;try{const p=t(f,h,new Int8Array(l),c),m=p.attributes.map(g=>g.array.buffer);p.index&&m.push(p.index.array.buffer),self.postMessage({type:"decode",id:a.id,geometry:p},m)}catch(p){console.error(p),self.postMessage({type:"error",id:a.id,error:p.message})}finally{f.destroy(h)}});break}};function t(o,a,l,c){const u=c.attributeIDs,f=c.attributeTypes;let h,p;const m=a.GetEncodedGeometryType(l);if(m===o.TRIANGULAR_MESH)h=new o.Mesh,p=a.DecodeArrayToMesh(l,l.byteLength,h);else if(m===o.POINT_CLOUD)h=new o.PointCloud,p=a.DecodeArrayToPointCloud(l,l.byteLength,h);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!p.ok()||h.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+p.error_msg());const g={index:null,attributes:[]};for(const A in u){const y=self[f[A]];let x,b;if(c.useUniqueIDs)b=u[A],x=a.GetAttributeByUniqueId(h,b);else{if(b=a.GetAttributeId(h,o[u[A]]),b===-1)continue;x=a.GetAttribute(h,b)}const _=r(o,a,h,A,y,x);A==="color"&&(_.vertexColorSpace=c.vertexColorSpace),g.attributes.push(_)}return m===o.TRIANGULAR_MESH&&(g.index=i(o,a,h)),o.destroy(h),g}function i(o,a,l){const u=l.num_faces()*3,f=u*4,h=o._malloc(f);a.GetTrianglesUInt32Array(l,f,h);const p=new Uint32Array(o.HEAPF32.buffer,h,u).slice();return o._free(h),{array:p,itemSize:1}}function r(o,a,l,c,u,f){const h=f.num_components(),m=l.num_points()*h,g=m*u.BYTES_PER_ELEMENT,A=s(o,u),y=o._malloc(g);a.GetAttributeDataArrayForAllPoints(l,f,A,g,y);const x=new u(o.HEAPF32.buffer,y,m).slice();return o._free(y),{name:c,array:x,itemSize:h}}function s(o,a){switch(a){case Float32Array:return o.DT_FLOAT32;case Int8Array:return o.DT_INT8;case Int16Array:return o.DT_INT16;case Int32Array:return o.DT_INT32;case Uint8Array:return o.DT_UINT8;case Uint16Array:return o.DT_UINT16;case Uint32Array:return o.DT_UINT32}}}class cre extends kK{constructor(e){super(e),this.type=nn}parse(e){const o=function(P,w){switch(P){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(w||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(w||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(w||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(w||""))}},u=`
`,f=function(P,w,E){w=w||1024;let F=P.pos,H=-1,z=0,X="",U=String.fromCharCode.apply(null,new Uint16Array(P.subarray(F,F+128)));for(;0>(H=U.indexOf(u))&&z<w&&F<P.byteLength;)X+=U,z+=U.length,F+=128,U+=String.fromCharCode.apply(null,new Uint16Array(P.subarray(F,F+128)));return-1<H?(P.pos+=z+H+1,X+U.slice(0,H)):!1},h=function(P){const w=/^#\?(\S+)/,E=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,O=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,F=/^\s*FORMAT=(\S+)\s*$/,H=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,z={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let X,U;for((P.pos>=P.byteLength||!(X=f(P)))&&o(1,"no header found"),(U=X.match(w))||o(3,"bad initial token"),z.valid|=1,z.programtype=U[1],z.string+=X+`
`;X=f(P),X!==!1;){if(z.string+=X+`
`,X.charAt(0)==="#"){z.comments+=X+`
`;continue}if((U=X.match(E))&&(z.gamma=parseFloat(U[1])),(U=X.match(O))&&(z.exposure=parseFloat(U[1])),(U=X.match(F))&&(z.valid|=2,z.format=U[1]),(U=X.match(H))&&(z.valid|=4,z.height=parseInt(U[1],10),z.width=parseInt(U[2],10)),z.valid&2&&z.valid&4)break}return z.valid&2||o(3,"missing format specifier"),z.valid&4||o(3,"missing image size specifier"),z},p=function(P,w,E){const O=w;if(O<8||O>32767||P[0]!==2||P[1]!==2||P[2]&128)return new Uint8Array(P);O!==(P[2]<<8|P[3])&&o(3,"wrong scanline width");const F=new Uint8Array(4*w*E);F.length||o(4,"unable to allocate buffer space");let H=0,z=0;const X=4*O,U=new Uint8Array(4),G=new Uint8Array(X);let j=E;for(;j>0&&z<P.byteLength;){z+4>P.byteLength&&o(1),U[0]=P[z++],U[1]=P[z++],U[2]=P[z++],U[3]=P[z++],(U[0]!=2||U[1]!=2||(U[2]<<8|U[3])!=O)&&o(3,"bad rgbe scanline format");let Y=0,Q;for(;Y<X&&z<P.byteLength;){Q=P[z++];const Pe=Q>128;if(Pe&&(Q-=128),(Q===0||Y+Q>X)&&o(3,"bad scanline data"),Pe){const He=P[z++];for(let re=0;re<Q;re++)G[Y++]=He}else G.set(P.subarray(z,z+Q),Y),Y+=Q,z+=Q}const ve=O;for(let Pe=0;Pe<ve;Pe++){let He=0;F[H]=G[Pe+He],He+=O,F[H+1]=G[Pe+He],He+=O,F[H+2]=G[Pe+He],He+=O,F[H+3]=G[Pe+He],H+=4}j--}return F},m=function(P,w,E,O){const F=P[w+3],H=Math.pow(2,F-128)/255;E[O+0]=P[w+0]*H,E[O+1]=P[w+1]*H,E[O+2]=P[w+2]*H,E[O+3]=1},g=function(P,w,E,O){const F=P[w+3],H=Math.pow(2,F-128)/255;E[O+0]=K1.toHalfFloat(Math.min(P[w+0]*H,65504)),E[O+1]=K1.toHalfFloat(Math.min(P[w+1]*H,65504)),E[O+2]=K1.toHalfFloat(Math.min(P[w+2]*H,65504)),E[O+3]=K1.toHalfFloat(1)},A=new Uint8Array(e);A.pos=0;const y=h(A),x=y.width,b=y.height,_=p(A.subarray(A.pos),x,b);let T,M,I;switch(this.type){case Zt:I=_.length/4;const P=new Float32Array(I*4);for(let E=0;E<I;E++)m(_,E*4,P,E*4);T=P,M=Zt;break;case nn:I=_.length/4;const w=new Uint16Array(I*4);for(let E=0;E<I;E++)g(_,E*4,w,E*4);T=w,M=nn;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:x,height:b,data:T,header:y.string,gamma:y.gamma,exposure:y.exposure,type:M}}setDataType(e){return this.type=e,this}load(e,t,i,r){function s(o,a){switch(o.type){case Zt:case nn:o.colorSpace=pi,o.minFilter=Yt,o.magFilter=Yt,o.generateMipmaps=!1,o.flipY=!0;break}t&&t(o,a)}return super.load(e,s,i,r)}}class ure{constructor(e=4){this.pool=e,this.queue=[],this.workers=[],this.workersResolve=[],this.workerStatus=0}_initWorker(e){if(!this.workers[e]){const t=this.workerCreator();t.addEventListener("message",this._onMessage.bind(this,e)),this.workers[e]=t}}_getIdleWorker(){for(let e=0;e<this.pool;e++)if(!(this.workerStatus&1<<e))return e;return-1}_onMessage(e,t){const i=this.workersResolve[e];if(i&&i(t),this.queue.length){const{resolve:r,msg:s,transfer:o}=this.queue.shift();this.workersResolve[e]=r,this.workers[e].postMessage(s,o)}else this.workerStatus^=1<<e}setWorkerCreator(e){this.workerCreator=e}setWorkerLimit(e){this.pool=e}postMessage(e,t){return new Promise(i=>{const r=this._getIdleWorker();r!==-1?(this._initWorker(r),this.workerStatus|=1<<r,this.workersResolve[r]=i,this.workers[r].postMessage(e,t)):this.queue.push({resolve:i,msg:e,transfer:t})})}dispose(){this.workers.forEach(e=>e.terminate()),this.workersResolve.length=0,this.workers.length=0,this.queue.length=0,this.workerStatus=0}}let q3,Sa,Rb;const X3={env:{emscripten_notify_memory_growth:function(n){Rb=new Uint8Array(Sa.exports.memory.buffer)}}};class fre{init(){return q3||(q3=typeof fetch<"u"?fetch("data:application/wasm;base64,"+U8).then(e=>e.arrayBuffer()).then(e=>WebAssembly.instantiate(e,X3)).then(this._init):WebAssembly.instantiate(Buffer.from(U8,"base64"),X3).then(this._init),q3)}_init(e){Sa=e.instance,X3.env.emscripten_notify_memory_growth(0)}decode(e,t=0){if(!Sa)throw new Error("ZSTDDecoder: Await .init() before decoding.");const i=e.byteLength,r=Sa.exports.malloc(i);Rb.set(e,r),t=t||Number(Sa.exports.ZSTD_findDecompressedSize(r,i));const s=Sa.exports.malloc(t),o=Sa.exports.ZSTD_decompress(s,t,r,i),a=Rb.slice(s,s+o);return Sa.exports.free(r),Sa.exports.free(s),a}}const U8="AGFzbQEAAAABpQEVYAF/AX9gAn9/AGADf39/AX9gBX9/f39/AX9gAX8AYAJ/fwF/YAR/f39/AX9gA39/fwBgBn9/f39/fwF/YAd/f39/f39/AX9gAn9/AX5gAn5+AX5gAABgBX9/f39/AGAGf39/f39/AGAIf39/f39/f38AYAl/f39/f39/f38AYAABf2AIf39/f39/f38Bf2ANf39/f39/f39/f39/fwF/YAF/AX4CJwEDZW52H2Vtc2NyaXB0ZW5fbm90aWZ5X21lbW9yeV9ncm93dGgABANpaAEFAAAFAgEFCwACAQABAgIFBQcAAwABDgsBAQcAEhMHAAUBDAQEAAANBwQCAgYCBAgDAwMDBgEACQkHBgICAAYGAgQUBwYGAwIGAAMCAQgBBwUGCgoEEQAEBAEIAwgDBQgDEA8IAAcABAUBcAECAgUEAQCAAgYJAX8BQaCgwAILB2AHBm1lbW9yeQIABm1hbGxvYwAoBGZyZWUAJgxaU1REX2lzRXJyb3IAaBlaU1REX2ZpbmREZWNvbXByZXNzZWRTaXplAFQPWlNURF9kZWNvbXByZXNzAEoGX3N0YXJ0ACQJBwEAQQELASQKussBaA8AIAAgACgCBCABajYCBAsZACAAKAIAIAAoAgRBH3F0QQAgAWtBH3F2CwgAIABBiH9LC34BBH9BAyEBIAAoAgQiA0EgTQRAIAAoAggiASAAKAIQTwRAIAAQDQ8LIAAoAgwiAiABRgRAQQFBAiADQSBJGw8LIAAgASABIAJrIANBA3YiBCABIARrIAJJIgEbIgJrIgQ2AgggACADIAJBA3RrNgIEIAAgBCgAADYCAAsgAQsUAQF/IAAgARACIQIgACABEAEgAgv3AQECfyACRQRAIABCADcCACAAQQA2AhAgAEIANwIIQbh/DwsgACABNgIMIAAgAUEEajYCECACQQRPBEAgACABIAJqIgFBfGoiAzYCCCAAIAMoAAA2AgAgAUF/ai0AACIBBEAgAEEIIAEQFGs2AgQgAg8LIABBADYCBEF/DwsgACABNgIIIAAgAS0AACIDNgIAIAJBfmoiBEEBTQRAIARBAWtFBEAgACABLQACQRB0IANyIgM2AgALIAAgAS0AAUEIdCADajYCAAsgASACakF/ai0AACIBRQRAIABBADYCBEFsDwsgAEEoIAEQFCACQQN0ams2AgQgAgsWACAAIAEpAAA3AAAgACABKQAINwAICy8BAX8gAUECdEGgHWooAgAgACgCAEEgIAEgACgCBGprQR9xdnEhAiAAIAEQASACCyEAIAFCz9bTvtLHq9lCfiAAfEIfiUKHla+vmLbem55/fgsdAQF/IAAoAgggACgCDEYEfyAAKAIEQSBGBUEACwuCBAEDfyACQYDAAE8EQCAAIAEgAhBnIAAPCyAAIAJqIQMCQCAAIAFzQQNxRQRAAkAgAkEBSARAIAAhAgwBCyAAQQNxRQRAIAAhAgwBCyAAIQIDQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADTw0BIAJBA3ENAAsLAkAgA0F8cSIEQcAASQ0AIAIgBEFAaiIFSw0AA0AgAiABKAIANgIAIAIgASgCBDYCBCACIAEoAgg2AgggAiABKAIMNgIMIAIgASgCEDYCECACIAEoAhQ2AhQgAiABKAIYNgIYIAIgASgCHDYCHCACIAEoAiA2AiAgAiABKAIkNgIkIAIgASgCKDYCKCACIAEoAiw2AiwgAiABKAIwNgIwIAIgASgCNDYCNCACIAEoAjg2AjggAiABKAI8NgI8IAFBQGshASACQUBrIgIgBU0NAAsLIAIgBE8NAQNAIAIgASgCADYCACABQQRqIQEgAkEEaiICIARJDQALDAELIANBBEkEQCAAIQIMAQsgA0F8aiIEIABJBEAgACECDAELIAAhAgNAIAIgAS0AADoAACACIAEtAAE6AAEgAiABLQACOgACIAIgAS0AAzoAAyABQQRqIQEgAkEEaiICIARNDQALCyACIANJBEADQCACIAEtAAA6AAAgAUEBaiEBIAJBAWoiAiADRw0ACwsgAAsMACAAIAEpAAA3AAALQQECfyAAKAIIIgEgACgCEEkEQEEDDwsgACAAKAIEIgJBB3E2AgQgACABIAJBA3ZrIgE2AgggACABKAAANgIAQQALDAAgACABKAIANgAAC/cCAQJ/AkAgACABRg0AAkAgASACaiAASwRAIAAgAmoiBCABSw0BCyAAIAEgAhALDwsgACABc0EDcSEDAkACQCAAIAFJBEAgAwRAIAAhAwwDCyAAQQNxRQRAIAAhAwwCCyAAIQMDQCACRQ0EIAMgAS0AADoAACABQQFqIQEgAkF/aiECIANBAWoiA0EDcQ0ACwwBCwJAIAMNACAEQQNxBEADQCACRQ0FIAAgAkF/aiICaiIDIAEgAmotAAA6AAAgA0EDcQ0ACwsgAkEDTQ0AA0AgACACQXxqIgJqIAEgAmooAgA2AgAgAkEDSw0ACwsgAkUNAgNAIAAgAkF/aiICaiABIAJqLQAAOgAAIAINAAsMAgsgAkEDTQ0AIAIhBANAIAMgASgCADYCACABQQRqIQEgA0EEaiEDIARBfGoiBEEDSw0ACyACQQNxIQILIAJFDQADQCADIAEtAAA6AAAgA0EBaiEDIAFBAWohASACQX9qIgINAAsLIAAL8wICAn8BfgJAIAJFDQAgACACaiIDQX9qIAE6AAAgACABOgAAIAJBA0kNACADQX5qIAE6AAAgACABOgABIANBfWogAToAACAAIAE6AAIgAkEHSQ0AIANBfGogAToAACAAIAE6AAMgAkEJSQ0AIABBACAAa0EDcSIEaiIDIAFB/wFxQYGChAhsIgE2AgAgAyACIARrQXxxIgRqIgJBfGogATYCACAEQQlJDQAgAyABNgIIIAMgATYCBCACQXhqIAE2AgAgAkF0aiABNgIAIARBGUkNACADIAE2AhggAyABNgIUIAMgATYCECADIAE2AgwgAkFwaiABNgIAIAJBbGogATYCACACQWhqIAE2AgAgAkFkaiABNgIAIAQgA0EEcUEYciIEayICQSBJDQAgAa0iBUIghiAFhCEFIAMgBGohAQNAIAEgBTcDGCABIAU3AxAgASAFNwMIIAEgBTcDACABQSBqIQEgAkFgaiICQR9LDQALCyAACy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAIajYCACADCy8BAn8gACgCBCAAKAIAQQJ0aiICLQACIQMgACACLwEAIAEgAi0AAxAFajYCACADCx8AIAAgASACKAIEEAg2AgAgARAEGiAAIAJBCGo2AgQLCAAgAGdBH3MLugUBDX8jAEEQayIKJAACfyAEQQNNBEAgCkEANgIMIApBDGogAyAEEAsaIAAgASACIApBDGpBBBAVIgBBbCAAEAMbIAAgACAESxsMAQsgAEEAIAEoAgBBAXRBAmoQECENQVQgAygAACIGQQ9xIgBBCksNABogAiAAQQVqNgIAIAMgBGoiAkF8aiEMIAJBeWohDiACQXtqIRAgAEEGaiELQQQhBSAGQQR2IQRBICAAdCIAQQFyIQkgASgCACEPQQAhAiADIQYCQANAIAlBAkggAiAPS3JFBEAgAiEHAkAgCARAA0AgBEH//wNxQf//A0YEQCAHQRhqIQcgBiAQSQR/IAZBAmoiBigAACAFdgUgBUEQaiEFIARBEHYLIQQMAQsLA0AgBEEDcSIIQQNGBEAgBUECaiEFIARBAnYhBCAHQQNqIQcMAQsLIAcgCGoiByAPSw0EIAVBAmohBQNAIAIgB0kEQCANIAJBAXRqQQA7AQAgAkEBaiECDAELCyAGIA5LQQAgBiAFQQN1aiIHIAxLG0UEQCAHKAAAIAVBB3EiBXYhBAwCCyAEQQJ2IQQLIAYhBwsCfyALQX9qIAQgAEF/anEiBiAAQQF0QX9qIgggCWsiEUkNABogBCAIcSIEQQAgESAEIABIG2shBiALCyEIIA0gAkEBdGogBkF/aiIEOwEAIAlBASAGayAEIAZBAUgbayEJA0AgCSAASARAIABBAXUhACALQX9qIQsMAQsLAn8gByAOS0EAIAcgBSAIaiIFQQN1aiIGIAxLG0UEQCAFQQdxDAELIAUgDCIGIAdrQQN0awshBSACQQFqIQIgBEUhCCAGKAAAIAVBH3F2IQQMAQsLQWwgCUEBRyAFQSBKcg0BGiABIAJBf2o2AgAgBiAFQQdqQQN1aiADawwBC0FQCyEAIApBEGokACAACwkAQQFBBSAAGwsMACAAIAEoAAA2AAALqgMBCn8jAEHwAGsiCiQAIAJBAWohDiAAQQhqIQtBgIAEIAVBf2p0QRB1IQxBACECQQEhBkEBIAV0IglBf2oiDyEIA0AgAiAORkUEQAJAIAEgAkEBdCINai8BACIHQf//A0YEQCALIAhBA3RqIAI2AgQgCEF/aiEIQQEhBwwBCyAGQQAgDCAHQRB0QRB1ShshBgsgCiANaiAHOwEAIAJBAWohAgwBCwsgACAFNgIEIAAgBjYCACAJQQN2IAlBAXZqQQNqIQxBACEAQQAhBkEAIQIDQCAGIA5GBEADQAJAIAAgCUYNACAKIAsgAEEDdGoiASgCBCIGQQF0aiICIAIvAQAiAkEBajsBACABIAUgAhAUayIIOgADIAEgAiAIQf8BcXQgCWs7AQAgASAEIAZBAnQiAmooAgA6AAIgASACIANqKAIANgIEIABBAWohAAwBCwsFIAEgBkEBdGouAQAhDUEAIQcDQCAHIA1ORQRAIAsgAkEDdGogBjYCBANAIAIgDGogD3EiAiAISw0ACyAHQQFqIQcMAQsLIAZBAWohBgwBCwsgCkHwAGokAAsjAEIAIAEQCSAAhUKHla+vmLbem55/fkLj3MqV/M7y9YV/fAsQACAAQn43AwggACABNgIACyQBAX8gAARAIAEoAgQiAgRAIAEoAgggACACEQEADwsgABAmCwsfACAAIAEgAi8BABAINgIAIAEQBBogACACQQRqNgIEC0oBAX9BoCAoAgAiASAAaiIAQX9MBEBBiCBBMDYCAEF/DwsCQCAAPwBBEHRNDQAgABBmDQBBiCBBMDYCAEF/DwtBoCAgADYCACABC9cBAQh/Qbp/IQoCQCACKAIEIgggAigCACIJaiIOIAEgAGtLDQBBbCEKIAkgBCADKAIAIgtrSw0AIAAgCWoiBCACKAIIIgxrIQ0gACABQWBqIg8gCyAJQQAQKSADIAkgC2o2AgACQAJAIAwgBCAFa00EQCANIQUMAQsgDCAEIAZrSw0CIAcgDSAFayIAaiIBIAhqIAdNBEAgBCABIAgQDxoMAgsgBCABQQAgAGsQDyEBIAIgACAIaiIINgIEIAEgAGshBAsgBCAPIAUgCEEBECkLIA4hCgsgCgubAgEBfyMAQYABayINJAAgDSADNgJ8AkAgAkEDSwRAQX8hCQwBCwJAAkACQAJAIAJBAWsOAwADAgELIAZFBEBBuH8hCQwEC0FsIQkgBS0AACICIANLDQMgACAHIAJBAnQiAmooAgAgAiAIaigCABA7IAEgADYCAEEBIQkMAwsgASAJNgIAQQAhCQwCCyAKRQRAQWwhCQwCC0EAIQkgC0UgDEEZSHINAUEIIAR0QQhqIQBBACECA0AgAiAATw0CIAJBQGshAgwAAAsAC0FsIQkgDSANQfwAaiANQfgAaiAFIAYQFSICEAMNACANKAJ4IgMgBEsNACAAIA0gDSgCfCAHIAggAxAYIAEgADYCACACIQkLIA1BgAFqJAAgCQsLACAAIAEgAhALGgsQACAALwAAIAAtAAJBEHRyCy8AAn9BuH8gAUEISQ0AGkFyIAAoAAQiAEF3Sw0AGkG4fyAAQQhqIgAgACABSxsLCwkAIAAgATsAAAsDAAELigYBBX8gACAAKAIAIgVBfnE2AgBBACAAIAVBAXZqQYQgKAIAIgQgAEYbIQECQAJAIAAoAgQiAkUNACACKAIAIgNBAXENACACQQhqIgUgA0EBdkF4aiIDQQggA0EISxtnQR9zQQJ0QYAfaiIDKAIARgRAIAMgAigCDDYCAAsgAigCCCIDBEAgAyACKAIMNgIECyACKAIMIgMEQCADIAIoAgg2AgALIAIgAigCACAAKAIAQX5xajYCAEGEICEAAkACQCABRQ0AIAEgAjYCBCABKAIAIgNBAXENASADQQF2QXhqIgNBCCADQQhLG2dBH3NBAnRBgB9qIgMoAgAgAUEIakYEQCADIAEoAgw2AgALIAEoAggiAwRAIAMgASgCDDYCBAsgASgCDCIDBEAgAyABKAIINgIAQYQgKAIAIQQLIAIgAigCACABKAIAQX5xajYCACABIARGDQAgASABKAIAQQF2akEEaiEACyAAIAI2AgALIAIoAgBBAXZBeGoiAEEIIABBCEsbZ0Efc0ECdEGAH2oiASgCACEAIAEgBTYCACACIAA2AgwgAkEANgIIIABFDQEgACAFNgIADwsCQCABRQ0AIAEoAgAiAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAigCACABQQhqRgRAIAIgASgCDDYCAAsgASgCCCICBEAgAiABKAIMNgIECyABKAIMIgIEQCACIAEoAgg2AgBBhCAoAgAhBAsgACAAKAIAIAEoAgBBfnFqIgI2AgACQCABIARHBEAgASABKAIAQQF2aiAANgIEIAAoAgAhAgwBC0GEICAANgIACyACQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgIoAgAhASACIABBCGoiAjYCACAAIAE2AgwgAEEANgIIIAFFDQEgASACNgIADwsgBUEBdkF4aiIBQQggAUEISxtnQR9zQQJ0QYAfaiICKAIAIQEgAiAAQQhqIgI2AgAgACABNgIMIABBADYCCCABRQ0AIAEgAjYCAAsLDgAgAARAIABBeGoQJQsLgAIBA38CQCAAQQ9qQXhxQYQgKAIAKAIAQQF2ayICEB1Bf0YNAAJAQYQgKAIAIgAoAgAiAUEBcQ0AIAFBAXZBeGoiAUEIIAFBCEsbZ0Efc0ECdEGAH2oiASgCACAAQQhqRgRAIAEgACgCDDYCAAsgACgCCCIBBEAgASAAKAIMNgIECyAAKAIMIgFFDQAgASAAKAIINgIAC0EBIQEgACAAKAIAIAJBAXRqIgI2AgAgAkEBcQ0AIAJBAXZBeGoiAkEIIAJBCEsbZ0Efc0ECdEGAH2oiAygCACECIAMgAEEIaiIDNgIAIAAgAjYCDCAAQQA2AgggAkUNACACIAM2AgALIAELtwIBA38CQAJAIABBASAAGyICEDgiAA0AAkACQEGEICgCACIARQ0AIAAoAgAiA0EBcQ0AIAAgA0EBcjYCACADQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgAgAEEIakYEQCABIAAoAgw2AgALIAAoAggiAQRAIAEgACgCDDYCBAsgACgCDCIBBEAgASAAKAIINgIACyACECchAkEAIQFBhCAoAgAhACACDQEgACAAKAIAQX5xNgIAQQAPCyACQQ9qQXhxIgMQHSICQX9GDQIgAkEHakF4cSIAIAJHBEAgACACaxAdQX9GDQMLAkBBhCAoAgAiAUUEQEGAICAANgIADAELIAAgATYCBAtBhCAgADYCACAAIANBAXRBAXI2AgAMAQsgAEUNAQsgAEEIaiEBCyABC7kDAQJ/IAAgA2ohBQJAIANBB0wEQANAIAAgBU8NAiAAIAItAAA6AAAgAEEBaiEAIAJBAWohAgwAAAsACyAEQQFGBEACQCAAIAJrIgZBB00EQCAAIAItAAA6AAAgACACLQABOgABIAAgAi0AAjoAAiAAIAItAAM6AAMgAEEEaiACIAZBAnQiBkHAHmooAgBqIgIQFyACIAZB4B5qKAIAayECDAELIAAgAhAMCyACQQhqIQIgAEEIaiEACwJAAkACQAJAIAUgAU0EQCAAIANqIQEgBEEBRyAAIAJrQQ9Kcg0BA0AgACACEAwgAkEIaiECIABBCGoiACABSQ0ACwwFCyAAIAFLBEAgACEBDAQLIARBAUcgACACa0EPSnINASAAIQMgAiEEA0AgAyAEEAwgBEEIaiEEIANBCGoiAyABSQ0ACwwCCwNAIAAgAhAHIAJBEGohAiAAQRBqIgAgAUkNAAsMAwsgACEDIAIhBANAIAMgBBAHIARBEGohBCADQRBqIgMgAUkNAAsLIAIgASAAa2ohAgsDQCABIAVPDQEgASACLQAAOgAAIAFBAWohASACQQFqIQIMAAALAAsLQQECfyAAIAAoArjgASIDNgLE4AEgACgCvOABIQQgACABNgK84AEgACABIAJqNgK44AEgACABIAQgA2tqNgLA4AELpgEBAX8gACAAKALs4QEQFjYCyOABIABCADcD+OABIABCADcDuOABIABBwOABakIANwMAIABBqNAAaiIBQYyAgOAANgIAIABBADYCmOIBIABCADcDiOEBIABCAzcDgOEBIABBrNABakHgEikCADcCACAAQbTQAWpB6BIoAgA2AgAgACABNgIMIAAgAEGYIGo2AgggACAAQaAwajYCBCAAIABBEGo2AgALYQEBf0G4fyEDAkAgAUEDSQ0AIAIgABAhIgFBA3YiADYCCCACIAFBAXE2AgQgAiABQQF2QQNxIgM2AgACQCADQX9qIgFBAksNAAJAIAFBAWsOAgEAAgtBbA8LIAAhAwsgAwsMACAAIAEgAkEAEC4LiAQCA38CfiADEBYhBCAAQQBBKBAQIQAgBCACSwRAIAQPCyABRQRAQX8PCwJAAkAgA0EBRg0AIAEoAAAiBkGo6r5pRg0AQXYhAyAGQXBxQdDUtMIBRw0BQQghAyACQQhJDQEgAEEAQSgQECEAIAEoAAQhASAAQQE2AhQgACABrTcDAEEADwsgASACIAMQLyIDIAJLDQAgACADNgIYQXIhAyABIARqIgVBf2otAAAiAkEIcQ0AIAJBIHEiBkUEQEFwIQMgBS0AACIFQacBSw0BIAVBB3GtQgEgBUEDdkEKaq2GIgdCA4h+IAd8IQggBEEBaiEECyACQQZ2IQMgAkECdiEFAkAgAkEDcUF/aiICQQJLBEBBACECDAELAkACQAJAIAJBAWsOAgECAAsgASAEai0AACECIARBAWohBAwCCyABIARqLwAAIQIgBEECaiEEDAELIAEgBGooAAAhAiAEQQRqIQQLIAVBAXEhBQJ+AkACQAJAIANBf2oiA0ECTQRAIANBAWsOAgIDAQtCfyAGRQ0DGiABIARqMQAADAMLIAEgBGovAACtQoACfAwCCyABIARqKAAArQwBCyABIARqKQAACyEHIAAgBTYCICAAIAI2AhwgACAHNwMAQQAhAyAAQQA2AhQgACAHIAggBhsiBzcDCCAAIAdCgIAIIAdCgIAIVBs+AhALIAMLWwEBf0G4fyEDIAIQFiICIAFNBH8gACACakF/ai0AACIAQQNxQQJ0QaAeaigCACACaiAAQQZ2IgFBAnRBsB5qKAIAaiAAQSBxIgBFaiABRSAAQQV2cWoFQbh/CwsdACAAKAKQ4gEQWiAAQQA2AqDiASAAQgA3A5DiAQu1AwEFfyMAQZACayIKJABBuH8hBgJAIAVFDQAgBCwAACIIQf8BcSEHAkAgCEF/TARAIAdBgn9qQQF2IgggBU8NAkFsIQYgB0GBf2oiBUGAAk8NAiAEQQFqIQdBACEGA0AgBiAFTwRAIAUhBiAIIQcMAwUgACAGaiAHIAZBAXZqIgQtAABBBHY6AAAgACAGQQFyaiAELQAAQQ9xOgAAIAZBAmohBgwBCwAACwALIAcgBU8NASAAIARBAWogByAKEFMiBhADDQELIAYhBEEAIQYgAUEAQTQQECEJQQAhBQNAIAQgBkcEQCAAIAZqIggtAAAiAUELSwRAQWwhBgwDBSAJIAFBAnRqIgEgASgCAEEBajYCACAGQQFqIQZBASAILQAAdEEBdSAFaiEFDAILAAsLQWwhBiAFRQ0AIAUQFEEBaiIBQQxLDQAgAyABNgIAQQFBASABdCAFayIDEBQiAXQgA0cNACAAIARqIAFBAWoiADoAACAJIABBAnRqIgAgACgCAEEBajYCACAJKAIEIgBBAkkgAEEBcXINACACIARBAWo2AgAgB0EBaiEGCyAKQZACaiQAIAYLxhEBDH8jAEHwAGsiBSQAQWwhCwJAIANBCkkNACACLwAAIQogAi8AAiEJIAIvAAQhByAFQQhqIAQQDgJAIAMgByAJIApqakEGaiIMSQ0AIAUtAAohCCAFQdgAaiACQQZqIgIgChAGIgsQAw0BIAVBQGsgAiAKaiICIAkQBiILEAMNASAFQShqIAIgCWoiAiAHEAYiCxADDQEgBUEQaiACIAdqIAMgDGsQBiILEAMNASAAIAFqIg9BfWohECAEQQRqIQZBASELIAAgAUEDakECdiIDaiIMIANqIgIgA2oiDiEDIAIhBCAMIQcDQCALIAMgEElxBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgCS0AAyELIAcgBiAFQUBrIAgQAkECdGoiCS8BADsAACAFQUBrIAktAAIQASAJLQADIQogBCAGIAVBKGogCBACQQJ0aiIJLwEAOwAAIAVBKGogCS0AAhABIAktAAMhCSADIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgDS0AAyENIAAgC2oiCyAGIAVB2ABqIAgQAkECdGoiAC8BADsAACAFQdgAaiAALQACEAEgAC0AAyEAIAcgCmoiCiAGIAVBQGsgCBACQQJ0aiIHLwEAOwAAIAVBQGsgBy0AAhABIActAAMhByAEIAlqIgkgBiAFQShqIAgQAkECdGoiBC8BADsAACAFQShqIAQtAAIQASAELQADIQQgAyANaiIDIAYgBUEQaiAIEAJBAnRqIg0vAQA7AAAgBUEQaiANLQACEAEgACALaiEAIAcgCmohByAEIAlqIQQgAyANLQADaiEDIAVB2ABqEA0gBUFAaxANciAFQShqEA1yIAVBEGoQDXJFIQsMAQsLIAQgDksgByACS3INAEFsIQsgACAMSw0BIAxBfWohCQNAQQAgACAJSSAFQdgAahAEGwRAIAAgBiAFQdgAaiAIEAJBAnRqIgovAQA7AAAgBUHYAGogCi0AAhABIAAgCi0AA2oiACAGIAVB2ABqIAgQAkECdGoiCi8BADsAACAFQdgAaiAKLQACEAEgACAKLQADaiEADAEFIAxBfmohCgNAIAVB2ABqEAQgACAKS3JFBEAgACAGIAVB2ABqIAgQAkECdGoiCS8BADsAACAFQdgAaiAJLQACEAEgACAJLQADaiEADAELCwNAIAAgCk0EQCAAIAYgBUHYAGogCBACQQJ0aiIJLwEAOwAAIAVB2ABqIAktAAIQASAAIAktAANqIQAMAQsLAkAgACAMTw0AIAAgBiAFQdgAaiAIEAIiAEECdGoiDC0AADoAACAMLQADQQFGBEAgBUHYAGogDC0AAhABDAELIAUoAlxBH0sNACAFQdgAaiAGIABBAnRqLQACEAEgBSgCXEEhSQ0AIAVBIDYCXAsgAkF9aiEMA0BBACAHIAxJIAVBQGsQBBsEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiIAIAYgBUFAayAIEAJBAnRqIgcvAQA7AAAgBUFAayAHLQACEAEgACAHLQADaiEHDAEFIAJBfmohDANAIAVBQGsQBCAHIAxLckUEQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwNAIAcgDE0EQCAHIAYgBUFAayAIEAJBAnRqIgAvAQA7AAAgBUFAayAALQACEAEgByAALQADaiEHDAELCwJAIAcgAk8NACAHIAYgBUFAayAIEAIiAEECdGoiAi0AADoAACACLQADQQFGBEAgBUFAayACLQACEAEMAQsgBSgCREEfSw0AIAVBQGsgBiAAQQJ0ai0AAhABIAUoAkRBIUkNACAFQSA2AkQLIA5BfWohAgNAQQAgBCACSSAFQShqEAQbBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2oiACAGIAVBKGogCBACQQJ0aiIELwEAOwAAIAVBKGogBC0AAhABIAAgBC0AA2ohBAwBBSAOQX5qIQIDQCAFQShqEAQgBCACS3JFBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsDQCAEIAJNBEAgBCAGIAVBKGogCBACQQJ0aiIALwEAOwAAIAVBKGogAC0AAhABIAQgAC0AA2ohBAwBCwsCQCAEIA5PDQAgBCAGIAVBKGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBKGogAi0AAhABDAELIAUoAixBH0sNACAFQShqIAYgAEECdGotAAIQASAFKAIsQSFJDQAgBUEgNgIsCwNAQQAgAyAQSSAFQRBqEAQbBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2oiACAGIAVBEGogCBACQQJ0aiICLwEAOwAAIAVBEGogAi0AAhABIAAgAi0AA2ohAwwBBSAPQX5qIQIDQCAFQRBqEAQgAyACS3JFBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsDQCADIAJNBEAgAyAGIAVBEGogCBACQQJ0aiIALwEAOwAAIAVBEGogAC0AAhABIAMgAC0AA2ohAwwBCwsCQCADIA9PDQAgAyAGIAVBEGogCBACIgBBAnRqIgItAAA6AAAgAi0AA0EBRgRAIAVBEGogAi0AAhABDAELIAUoAhRBH0sNACAFQRBqIAYgAEECdGotAAIQASAFKAIUQSFJDQAgBUEgNgIUCyABQWwgBUHYAGoQCiAFQUBrEApxIAVBKGoQCnEgBUEQahAKcRshCwwJCwAACwALAAALAAsAAAsACwAACwALQWwhCwsgBUHwAGokACALC7UEAQ5/IwBBEGsiBiQAIAZBBGogABAOQVQhBQJAIARB3AtJDQAgBi0ABCEHIANB8ARqQQBB7AAQECEIIAdBDEsNACADQdwJaiIJIAggBkEIaiAGQQxqIAEgAhAxIhAQA0UEQCAGKAIMIgQgB0sNASADQdwFaiEPIANBpAVqIREgAEEEaiESIANBqAVqIQEgBCEFA0AgBSICQX9qIQUgCCACQQJ0aigCAEUNAAsgAkEBaiEOQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgASALaiAKNgIAIAVBAWohBSAKIAxqIQoMAQsLIAEgCjYCAEEAIQUgBigCCCELA0AgBSALRkUEQCABIAUgCWotAAAiDEECdGoiDSANKAIAIg1BAWo2AgAgDyANQQF0aiINIAw6AAEgDSAFOgAAIAVBAWohBQwBCwtBACEBIANBADYCqAUgBEF/cyAHaiEJQQEhBQNAIAUgDk9FBEAgCCAFQQJ0IgtqKAIAIQwgAyALaiABNgIAIAwgBSAJanQgAWohASAFQQFqIQUMAQsLIAcgBEEBaiIBIAJrIgRrQQFqIQgDQEEBIQUgBCAIT0UEQANAIAUgDk9FBEAgBUECdCIJIAMgBEE0bGpqIAMgCWooAgAgBHY2AgAgBUEBaiEFDAELCyAEQQFqIQQMAQsLIBIgByAPIAogESADIAIgARBkIAZBAToABSAGIAc6AAYgACAGKAIENgIACyAQIQULIAZBEGokACAFC8ENAQt/IwBB8ABrIgUkAEFsIQkCQCADQQpJDQAgAi8AACEKIAIvAAIhDCACLwAEIQYgBUEIaiAEEA4CQCADIAYgCiAMampBBmoiDUkNACAFLQAKIQcgBUHYAGogAkEGaiICIAoQBiIJEAMNASAFQUBrIAIgCmoiAiAMEAYiCRADDQEgBUEoaiACIAxqIgIgBhAGIgkQAw0BIAVBEGogAiAGaiADIA1rEAYiCRADDQEgACABaiIOQX1qIQ8gBEEEaiEGQQEhCSAAIAFBA2pBAnYiAmoiCiACaiIMIAJqIg0hAyAMIQQgCiECA0AgCSADIA9JcQRAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAACAGIAVBQGsgBxACQQF0aiIILQAAIQsgBUFAayAILQABEAEgAiALOgAAIAYgBUEoaiAHEAJBAXRqIggtAAAhCyAFQShqIAgtAAEQASAEIAs6AAAgBiAFQRBqIAcQAkEBdGoiCC0AACELIAVBEGogCC0AARABIAMgCzoAACAGIAVB2ABqIAcQAkEBdGoiCC0AACELIAVB2ABqIAgtAAEQASAAIAs6AAEgBiAFQUBrIAcQAkEBdGoiCC0AACELIAVBQGsgCC0AARABIAIgCzoAASAGIAVBKGogBxACQQF0aiIILQAAIQsgBUEoaiAILQABEAEgBCALOgABIAYgBUEQaiAHEAJBAXRqIggtAAAhCyAFQRBqIAgtAAEQASADIAs6AAEgA0ECaiEDIARBAmohBCACQQJqIQIgAEECaiEAIAkgBUHYAGoQDUVxIAVBQGsQDUVxIAVBKGoQDUVxIAVBEGoQDUVxIQkMAQsLIAQgDUsgAiAMS3INAEFsIQkgACAKSw0BIApBfWohCQNAIAVB2ABqEAQgACAJT3JFBEAgBiAFQdgAaiAHEAJBAXRqIggtAAAhCyAFQdgAaiAILQABEAEgACALOgAAIAYgBUHYAGogBxACQQF0aiIILQAAIQsgBUHYAGogCC0AARABIAAgCzoAASAAQQJqIQAMAQsLA0AgBUHYAGoQBCAAIApPckUEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCwNAIAAgCkkEQCAGIAVB2ABqIAcQAkEBdGoiCS0AACEIIAVB2ABqIAktAAEQASAAIAg6AAAgAEEBaiEADAELCyAMQX1qIQADQCAFQUBrEAQgAiAAT3JFBEAgBiAFQUBrIAcQAkEBdGoiCi0AACEJIAVBQGsgCi0AARABIAIgCToAACAGIAVBQGsgBxACQQF0aiIKLQAAIQkgBUFAayAKLQABEAEgAiAJOgABIAJBAmohAgwBCwsDQCAFQUBrEAQgAiAMT3JFBEAgBiAFQUBrIAcQAkEBdGoiAC0AACEKIAVBQGsgAC0AARABIAIgCjoAACACQQFqIQIMAQsLA0AgAiAMSQRAIAYgBUFAayAHEAJBAXRqIgAtAAAhCiAFQUBrIAAtAAEQASACIAo6AAAgAkEBaiECDAELCyANQX1qIQADQCAFQShqEAQgBCAAT3JFBEAgBiAFQShqIAcQAkEBdGoiAi0AACEKIAVBKGogAi0AARABIAQgCjoAACAGIAVBKGogBxACQQF0aiICLQAAIQogBUEoaiACLQABEAEgBCAKOgABIARBAmohBAwBCwsDQCAFQShqEAQgBCANT3JFBEAgBiAFQShqIAcQAkEBdGoiAC0AACECIAVBKGogAC0AARABIAQgAjoAACAEQQFqIQQMAQsLA0AgBCANSQRAIAYgBUEoaiAHEAJBAXRqIgAtAAAhAiAFQShqIAAtAAEQASAEIAI6AAAgBEEBaiEEDAELCwNAIAVBEGoQBCADIA9PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIAYgBUEQaiAHEAJBAXRqIgAtAAAhAiAFQRBqIAAtAAEQASADIAI6AAEgA0ECaiEDDAELCwNAIAVBEGoQBCADIA5PckUEQCAGIAVBEGogBxACQQF0aiIALQAAIQIgBUEQaiAALQABEAEgAyACOgAAIANBAWohAwwBCwsDQCADIA5JBEAgBiAFQRBqIAcQAkEBdGoiAC0AACECIAVBEGogAC0AARABIAMgAjoAACADQQFqIQMMAQsLIAFBbCAFQdgAahAKIAVBQGsQCnEgBUEoahAKcSAFQRBqEApxGyEJDAELQWwhCQsgBUHwAGokACAJC8oCAQR/IwBBIGsiBSQAIAUgBBAOIAUtAAIhByAFQQhqIAIgAxAGIgIQA0UEQCAEQQRqIQIgACABaiIDQX1qIQQDQCAFQQhqEAQgACAET3JFBEAgAiAFQQhqIAcQAkEBdGoiBi0AACEIIAVBCGogBi0AARABIAAgCDoAACACIAVBCGogBxACQQF0aiIGLQAAIQggBUEIaiAGLQABEAEgACAIOgABIABBAmohAAwBCwsDQCAFQQhqEAQgACADT3JFBEAgAiAFQQhqIAcQAkEBdGoiBC0AACEGIAVBCGogBC0AARABIAAgBjoAACAAQQFqIQAMAQsLA0AgACADT0UEQCACIAVBCGogBxACQQF0aiIELQAAIQYgBUEIaiAELQABEAEgACAGOgAAIABBAWohAAwBCwsgAUFsIAVBCGoQChshAgsgBUEgaiQAIAILtgMBCX8jAEEQayIGJAAgBkEANgIMIAZBADYCCEFUIQQCQAJAIANBQGsiDCADIAZBCGogBkEMaiABIAIQMSICEAMNACAGQQRqIAAQDiAGKAIMIgcgBi0ABEEBaksNASAAQQRqIQogBkEAOgAFIAYgBzoABiAAIAYoAgQ2AgAgB0EBaiEJQQEhBANAIAQgCUkEQCADIARBAnRqIgEoAgAhACABIAU2AgAgACAEQX9qdCAFaiEFIARBAWohBAwBCwsgB0EBaiEHQQAhBSAGKAIIIQkDQCAFIAlGDQEgAyAFIAxqLQAAIgRBAnRqIgBBASAEdEEBdSILIAAoAgAiAWoiADYCACAHIARrIQhBACEEAkAgC0EDTQRAA0AgBCALRg0CIAogASAEakEBdGoiACAIOgABIAAgBToAACAEQQFqIQQMAAALAAsDQCABIABPDQEgCiABQQF0aiIEIAg6AAEgBCAFOgAAIAQgCDoAAyAEIAU6AAIgBCAIOgAFIAQgBToABCAEIAg6AAcgBCAFOgAGIAFBBGohAQwAAAsACyAFQQFqIQUMAAALAAsgAiEECyAGQRBqJAAgBAutAQECfwJAQYQgKAIAIABHIAAoAgBBAXYiAyABa0F4aiICQXhxQQhHcgR/IAIFIAMQJ0UNASACQQhqC0EQSQ0AIAAgACgCACICQQFxIAAgAWpBD2pBeHEiASAAa0EBdHI2AgAgASAANgIEIAEgASgCAEEBcSAAIAJBAXZqIAFrIgJBAXRyNgIAQYQgIAEgAkH/////B3FqQQRqQYQgKAIAIABGGyABNgIAIAEQJQsLygIBBX8CQAJAAkAgAEEIIABBCEsbZ0EfcyAAaUEBR2oiAUEESSAAIAF2cg0AIAFBAnRB/B5qKAIAIgJFDQADQCACQXhqIgMoAgBBAXZBeGoiBSAATwRAIAIgBUEIIAVBCEsbZ0Efc0ECdEGAH2oiASgCAEYEQCABIAIoAgQ2AgALDAMLIARBHksNASAEQQFqIQQgAigCBCICDQALC0EAIQMgAUEgTw0BA0AgAUECdEGAH2ooAgAiAkUEQCABQR5LIQIgAUEBaiEBIAJFDQEMAwsLIAIgAkF4aiIDKAIAQQF2QXhqIgFBCCABQQhLG2dBH3NBAnRBgB9qIgEoAgBGBEAgASACKAIENgIACwsgAigCACIBBEAgASACKAIENgIECyACKAIEIgEEQCABIAIoAgA2AgALIAMgAygCAEEBcjYCACADIAAQNwsgAwvhCwINfwV+IwBB8ABrIgckACAHIAAoAvDhASIINgJcIAEgAmohDSAIIAAoAoDiAWohDwJAAkAgBUUEQCABIQQMAQsgACgCxOABIRAgACgCwOABIREgACgCvOABIQ4gAEEBNgKM4QFBACEIA0AgCEEDRwRAIAcgCEECdCICaiAAIAJqQazQAWooAgA2AkQgCEEBaiEIDAELC0FsIQwgB0EYaiADIAQQBhADDQEgB0EsaiAHQRhqIAAoAgAQEyAHQTRqIAdBGGogACgCCBATIAdBPGogB0EYaiAAKAIEEBMgDUFgaiESIAEhBEEAIQwDQCAHKAIwIAcoAixBA3RqKQIAIhRCEIinQf8BcSEIIAcoAkAgBygCPEEDdGopAgAiFUIQiKdB/wFxIQsgBygCOCAHKAI0QQN0aikCACIWQiCIpyEJIBVCIIghFyAUQiCIpyECAkAgFkIQiKdB/wFxIgNBAk8EQAJAIAZFIANBGUlyRQRAIAkgB0EYaiADQSAgBygCHGsiCiAKIANLGyIKEAUgAyAKayIDdGohCSAHQRhqEAQaIANFDQEgB0EYaiADEAUgCWohCQwBCyAHQRhqIAMQBSAJaiEJIAdBGGoQBBoLIAcpAkQhGCAHIAk2AkQgByAYNwNIDAELAkAgA0UEQCACBEAgBygCRCEJDAMLIAcoAkghCQwBCwJAAkAgB0EYakEBEAUgCSACRWpqIgNBA0YEQCAHKAJEQX9qIgMgA0VqIQkMAQsgA0ECdCAHaigCRCIJIAlFaiEJIANBAUYNAQsgByAHKAJINgJMCwsgByAHKAJENgJIIAcgCTYCRAsgF6chAyALBEAgB0EYaiALEAUgA2ohAwsgCCALakEUTwRAIAdBGGoQBBoLIAgEQCAHQRhqIAgQBSACaiECCyAHQRhqEAQaIAcgB0EYaiAUQhiIp0H/AXEQCCAUp0H//wNxajYCLCAHIAdBGGogFUIYiKdB/wFxEAggFadB//8DcWo2AjwgB0EYahAEGiAHIAdBGGogFkIYiKdB/wFxEAggFqdB//8DcWo2AjQgByACNgJgIAcoAlwhCiAHIAk2AmggByADNgJkAkACQAJAIAQgAiADaiILaiASSw0AIAIgCmoiEyAPSw0AIA0gBGsgC0Egak8NAQsgByAHKQNoNwMQIAcgBykDYDcDCCAEIA0gB0EIaiAHQdwAaiAPIA4gESAQEB4hCwwBCyACIARqIQggBCAKEAcgAkERTwRAIARBEGohAgNAIAIgCkEQaiIKEAcgAkEQaiICIAhJDQALCyAIIAlrIQIgByATNgJcIAkgCCAOa0sEQCAJIAggEWtLBEBBbCELDAILIBAgAiAOayICaiIKIANqIBBNBEAgCCAKIAMQDxoMAgsgCCAKQQAgAmsQDyEIIAcgAiADaiIDNgJkIAggAmshCCAOIQILIAlBEE8EQCADIAhqIQMDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALDAELAkAgCUEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgCUECdCIDQcAeaigCAGoiAhAXIAIgA0HgHmooAgBrIQIgBygCZCEDDAELIAggAhAMCyADQQlJDQAgAyAIaiEDIAhBCGoiCCACQQhqIgJrQQ9MBEADQCAIIAIQDCACQQhqIQIgCEEIaiIIIANJDQAMAgALAAsDQCAIIAIQByACQRBqIQIgCEEQaiIIIANJDQALCyAHQRhqEAQaIAsgDCALEAMiAhshDCAEIAQgC2ogAhshBCAFQX9qIgUNAAsgDBADDQFBbCEMIAdBGGoQBEECSQ0BQQAhCANAIAhBA0cEQCAAIAhBAnQiAmpBrNABaiACIAdqKAJENgIAIAhBAWohCAwBCwsgBygCXCEIC0G6fyEMIA8gCGsiACANIARrSw0AIAQEfyAEIAggABALIABqBUEACyABayEMCyAHQfAAaiQAIAwLkRcCFn8FfiMAQdABayIHJAAgByAAKALw4QEiCDYCvAEgASACaiESIAggACgCgOIBaiETAkACQCAFRQRAIAEhAwwBCyAAKALE4AEhESAAKALA4AEhFSAAKAK84AEhDyAAQQE2AozhAUEAIQgDQCAIQQNHBEAgByAIQQJ0IgJqIAAgAmpBrNABaigCADYCVCAIQQFqIQgMAQsLIAcgETYCZCAHIA82AmAgByABIA9rNgJoQWwhECAHQShqIAMgBBAGEAMNASAFQQQgBUEESBshFyAHQTxqIAdBKGogACgCABATIAdBxABqIAdBKGogACgCCBATIAdBzABqIAdBKGogACgCBBATQQAhBCAHQeAAaiEMIAdB5ABqIQoDQCAHQShqEARBAksgBCAXTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEJIAcoAkggBygCREEDdGopAgAiH0IgiKchCCAeQiCIISAgHUIgiKchAgJAIB9CEIinQf8BcSIDQQJPBEACQCAGRSADQRlJckUEQCAIIAdBKGogA0EgIAcoAixrIg0gDSADSxsiDRAFIAMgDWsiA3RqIQggB0EoahAEGiADRQ0BIAdBKGogAxAFIAhqIQgMAQsgB0EoaiADEAUgCGohCCAHQShqEAQaCyAHKQJUISEgByAINgJUIAcgITcDWAwBCwJAIANFBEAgAgRAIAcoAlQhCAwDCyAHKAJYIQgMAQsCQAJAIAdBKGpBARAFIAggAkVqaiIDQQNGBEAgBygCVEF/aiIDIANFaiEIDAELIANBAnQgB2ooAlQiCCAIRWohCCADQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAg2AlQLICCnIQMgCQRAIAdBKGogCRAFIANqIQMLIAkgC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgAmohAgsgB0EoahAEGiAHIAcoAmggAmoiCSADajYCaCAKIAwgCCAJSxsoAgAhDSAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogB0EoaiAfQhiIp0H/AXEQCCEOIAdB8ABqIARBBHRqIgsgCSANaiAIazYCDCALIAg2AgggCyADNgIEIAsgAjYCACAHIA4gH6dB//8DcWo2AkQgBEEBaiEEDAELCyAEIBdIDQEgEkFgaiEYIAdB4ABqIRogB0HkAGohGyABIQMDQCAHQShqEARBAksgBCAFTnJFBEAgBygCQCAHKAI8QQN0aikCACIdQhCIp0H/AXEhCyAHKAJQIAcoAkxBA3RqKQIAIh5CEIinQf8BcSEIIAcoAkggBygCREEDdGopAgAiH0IgiKchCSAeQiCIISAgHUIgiKchDAJAIB9CEIinQf8BcSICQQJPBEACQCAGRSACQRlJckUEQCAJIAdBKGogAkEgIAcoAixrIgogCiACSxsiChAFIAIgCmsiAnRqIQkgB0EoahAEGiACRQ0BIAdBKGogAhAFIAlqIQkMAQsgB0EoaiACEAUgCWohCSAHQShqEAQaCyAHKQJUISEgByAJNgJUIAcgITcDWAwBCwJAIAJFBEAgDARAIAcoAlQhCQwDCyAHKAJYIQkMAQsCQAJAIAdBKGpBARAFIAkgDEVqaiICQQNGBEAgBygCVEF/aiICIAJFaiEJDAELIAJBAnQgB2ooAlQiCSAJRWohCSACQQFGDQELIAcgBygCWDYCXAsLIAcgBygCVDYCWCAHIAk2AlQLICCnIRQgCARAIAdBKGogCBAFIBRqIRQLIAggC2pBFE8EQCAHQShqEAQaCyALBEAgB0EoaiALEAUgDGohDAsgB0EoahAEGiAHIAcoAmggDGoiGSAUajYCaCAbIBogCSAZSxsoAgAhHCAHIAdBKGogHUIYiKdB/wFxEAggHadB//8DcWo2AjwgByAHQShqIB5CGIinQf8BcRAIIB6nQf//A3FqNgJMIAdBKGoQBBogByAHQShqIB9CGIinQf8BcRAIIB+nQf//A3FqNgJEIAcgB0HwAGogBEEDcUEEdGoiDSkDCCIdNwPIASAHIA0pAwAiHjcDwAECQAJAAkAgBygCvAEiDiAepyICaiIWIBNLDQAgAyAHKALEASIKIAJqIgtqIBhLDQAgEiADayALQSBqTw0BCyAHIAcpA8gBNwMQIAcgBykDwAE3AwggAyASIAdBCGogB0G8AWogEyAPIBUgERAeIQsMAQsgAiADaiEIIAMgDhAHIAJBEU8EQCADQRBqIQIDQCACIA5BEGoiDhAHIAJBEGoiAiAISQ0ACwsgCCAdpyIOayECIAcgFjYCvAEgDiAIIA9rSwRAIA4gCCAVa0sEQEFsIQsMAgsgESACIA9rIgJqIhYgCmogEU0EQCAIIBYgChAPGgwCCyAIIBZBACACaxAPIQggByACIApqIgo2AsQBIAggAmshCCAPIQILIA5BEE8EQCAIIApqIQoDQCAIIAIQByACQRBqIQIgCEEQaiIIIApJDQALDAELAkAgDkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgDkECdCIKQcAeaigCAGoiAhAXIAIgCkHgHmooAgBrIQIgBygCxAEhCgwBCyAIIAIQDAsgCkEJSQ0AIAggCmohCiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAKSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAKSQ0ACwsgCxADBEAgCyEQDAQFIA0gDDYCACANIBkgHGogCWs2AgwgDSAJNgIIIA0gFDYCBCAEQQFqIQQgAyALaiEDDAILAAsLIAQgBUgNASAEIBdrIQtBACEEA0AgCyAFSARAIAcgB0HwAGogC0EDcUEEdGoiAikDCCIdNwPIASAHIAIpAwAiHjcDwAECQAJAAkAgBygCvAEiDCAepyICaiIKIBNLDQAgAyAHKALEASIJIAJqIhBqIBhLDQAgEiADayAQQSBqTw0BCyAHIAcpA8gBNwMgIAcgBykDwAE3AxggAyASIAdBGGogB0G8AWogEyAPIBUgERAeIRAMAQsgAiADaiEIIAMgDBAHIAJBEU8EQCADQRBqIQIDQCACIAxBEGoiDBAHIAJBEGoiAiAISQ0ACwsgCCAdpyIGayECIAcgCjYCvAEgBiAIIA9rSwRAIAYgCCAVa0sEQEFsIRAMAgsgESACIA9rIgJqIgwgCWogEU0EQCAIIAwgCRAPGgwCCyAIIAxBACACaxAPIQggByACIAlqIgk2AsQBIAggAmshCCAPIQILIAZBEE8EQCAIIAlqIQYDQCAIIAIQByACQRBqIQIgCEEQaiIIIAZJDQALDAELAkAgBkEHTQRAIAggAi0AADoAACAIIAItAAE6AAEgCCACLQACOgACIAggAi0AAzoAAyAIQQRqIAIgBkECdCIGQcAeaigCAGoiAhAXIAIgBkHgHmooAgBrIQIgBygCxAEhCQwBCyAIIAIQDAsgCUEJSQ0AIAggCWohBiAIQQhqIgggAkEIaiICa0EPTARAA0AgCCACEAwgAkEIaiECIAhBCGoiCCAGSQ0ADAIACwALA0AgCCACEAcgAkEQaiECIAhBEGoiCCAGSQ0ACwsgEBADDQMgC0EBaiELIAMgEGohAwwBCwsDQCAEQQNHBEAgACAEQQJ0IgJqQazQAWogAiAHaigCVDYCACAEQQFqIQQMAQsLIAcoArwBIQgLQbp/IRAgEyAIayIAIBIgA2tLDQAgAwR/IAMgCCAAEAsgAGoFQQALIAFrIRALIAdB0AFqJAAgEAslACAAQgA3AgAgAEEAOwEIIABBADoACyAAIAE2AgwgACACOgAKC7QFAQN/IwBBMGsiBCQAIABB/wFqIgVBfWohBgJAIAMvAQIEQCAEQRhqIAEgAhAGIgIQAw0BIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahASOgAAIAMgBEEIaiAEQRhqEBI6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0FIAEgBEEQaiAEQRhqEBI6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBSABIARBCGogBEEYahASOgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEjoAACABIAJqIABrIQIMAwsgAyAEQRBqIARBGGoQEjoAAiADIARBCGogBEEYahASOgADIANBBGohAwwAAAsACyAEQRhqIAEgAhAGIgIQAw0AIARBEGogBEEYaiADEBwgBEEIaiAEQRhqIAMQHCAAIQMDQAJAIARBGGoQBCADIAZPckUEQCADIARBEGogBEEYahAROgAAIAMgBEEIaiAEQRhqEBE6AAEgBEEYahAERQ0BIANBAmohAwsgBUF+aiEFAn8DQEG6fyECIAMiASAFSw0EIAEgBEEQaiAEQRhqEBE6AAAgAUEBaiEDIARBGGoQBEEDRgRAQQIhAiAEQQhqDAILIAMgBUsNBCABIARBCGogBEEYahAROgABIAFBAmohA0EDIQIgBEEYahAEQQNHDQALIARBEGoLIQUgAyAFIARBGGoQEToAACABIAJqIABrIQIMAgsgAyAEQRBqIARBGGoQEToAAiADIARBCGogBEEYahAROgADIANBBGohAwwAAAsACyAEQTBqJAAgAgtpAQF/An8CQAJAIAJBB00NACABKAAAQbfIwuF+Rw0AIAAgASgABDYCmOIBQWIgAEEQaiABIAIQPiIDEAMNAhogAEKBgICAEDcDiOEBIAAgASADaiACIANrECoMAQsgACABIAIQKgtBAAsLrQMBBn8jAEGAAWsiAyQAQWIhCAJAIAJBCUkNACAAQZjQAGogAUEIaiIEIAJBeGogAEGY0AAQMyIFEAMiBg0AIANBHzYCfCADIANB/ABqIANB+ABqIAQgBCAFaiAGGyIEIAEgAmoiAiAEaxAVIgUQAw0AIAMoAnwiBkEfSw0AIAMoAngiB0EJTw0AIABBiCBqIAMgBkGAC0GADCAHEBggA0E0NgJ8IAMgA0H8AGogA0H4AGogBCAFaiIEIAIgBGsQFSIFEAMNACADKAJ8IgZBNEsNACADKAJ4IgdBCk8NACAAQZAwaiADIAZBgA1B4A4gBxAYIANBIzYCfCADIANB/ABqIANB+ABqIAQgBWoiBCACIARrEBUiBRADDQAgAygCfCIGQSNLDQAgAygCeCIHQQpPDQAgACADIAZBwBBB0BEgBxAYIAQgBWoiBEEMaiIFIAJLDQAgAiAFayEFQQAhAgNAIAJBA0cEQCAEKAAAIgZBf2ogBU8NAiAAIAJBAnRqQZzQAWogBjYCACACQQFqIQIgBEEEaiEEDAELCyAEIAFrIQgLIANBgAFqJAAgCAtGAQN/IABBCGohAyAAKAIEIQJBACEAA0AgACACdkUEQCABIAMgAEEDdGotAAJBFktqIQEgAEEBaiEADAELCyABQQggAmt0C4YDAQV/Qbh/IQcCQCADRQ0AIAItAAAiBEUEQCABQQA2AgBBAUG4fyADQQFGGw8LAn8gAkEBaiIFIARBGHRBGHUiBkF/Sg0AGiAGQX9GBEAgA0EDSA0CIAUvAABBgP4BaiEEIAJBA2oMAQsgA0ECSA0BIAItAAEgBEEIdHJBgIB+aiEEIAJBAmoLIQUgASAENgIAIAVBAWoiASACIANqIgNLDQBBbCEHIABBEGogACAFLQAAIgVBBnZBI0EJIAEgAyABa0HAEEHQEUHwEiAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBmCBqIABBCGogBUEEdkEDcUEfQQggASABIAZqIAgbIgEgAyABa0GAC0GADEGAFyAAKAKM4QEgACgCnOIBIAQQHyIGEAMiCA0AIABBoDBqIABBBGogBUECdkEDcUE0QQkgASABIAZqIAgbIgEgAyABa0GADUHgDkGQGSAAKAKM4QEgACgCnOIBIAQQHyIAEAMNACAAIAFqIAJrIQcLIAcLrQMBCn8jAEGABGsiCCQAAn9BUiACQf8BSw0AGkFUIANBDEsNABogAkEBaiELIABBBGohCUGAgAQgA0F/anRBEHUhCkEAIQJBASEEQQEgA3QiB0F/aiIMIQUDQCACIAtGRQRAAkAgASACQQF0Ig1qLwEAIgZB//8DRgRAIAkgBUECdGogAjoAAiAFQX9qIQVBASEGDAELIARBACAKIAZBEHRBEHVKGyEECyAIIA1qIAY7AQAgAkEBaiECDAELCyAAIAQ7AQIgACADOwEAIAdBA3YgB0EBdmpBA2ohBkEAIQRBACECA0AgBCALRkUEQCABIARBAXRqLgEAIQpBACEAA0AgACAKTkUEQCAJIAJBAnRqIAQ6AAIDQCACIAZqIAxxIgIgBUsNAAsgAEEBaiEADAELCyAEQQFqIQQMAQsLQX8gAg0AGkEAIQIDfyACIAdGBH9BAAUgCCAJIAJBAnRqIgAtAAJBAXRqIgEgAS8BACIBQQFqOwEAIAAgAyABEBRrIgU6AAMgACABIAVB/wFxdCAHazsBACACQQFqIQIMAQsLCyEFIAhBgARqJAAgBQvjBgEIf0FsIQcCQCACQQNJDQACQAJAAkACQCABLQAAIgNBA3EiCUEBaw4DAwEAAgsgACgCiOEBDQBBYg8LIAJBBUkNAkEDIQYgASgAACEFAn8CQAJAIANBAnZBA3EiCEF+aiIEQQFNBEAgBEEBaw0BDAILIAVBDnZB/wdxIQQgBUEEdkH/B3EhAyAIRQwCCyAFQRJ2IQRBBCEGIAVBBHZB//8AcSEDQQAMAQsgBUEEdkH//w9xIgNBgIAISw0DIAEtAARBCnQgBUEWdnIhBEEFIQZBAAshBSAEIAZqIgogAksNAgJAIANBgQZJDQAgACgCnOIBRQ0AQQAhAgNAIAJBg4ABSw0BIAJBQGshAgwAAAsACwJ/IAlBA0YEQCABIAZqIQEgAEHw4gFqIQIgACgCDCEGIAUEQCACIAMgASAEIAYQXwwCCyACIAMgASAEIAYQXQwBCyAAQbjQAWohAiABIAZqIQEgAEHw4gFqIQYgAEGo0ABqIQggBQRAIAggBiADIAEgBCACEF4MAQsgCCAGIAMgASAEIAIQXAsQAw0CIAAgAzYCgOIBIABBATYCiOEBIAAgAEHw4gFqNgLw4QEgCUECRgRAIAAgAEGo0ABqNgIMCyAAIANqIgBBiOMBakIANwAAIABBgOMBakIANwAAIABB+OIBakIANwAAIABB8OIBakIANwAAIAoPCwJ/AkACQAJAIANBAnZBA3FBf2oiBEECSw0AIARBAWsOAgACAQtBASEEIANBA3YMAgtBAiEEIAEvAABBBHYMAQtBAyEEIAEQIUEEdgsiAyAEaiIFQSBqIAJLBEAgBSACSw0CIABB8OIBaiABIARqIAMQCyEBIAAgAzYCgOIBIAAgATYC8OEBIAEgA2oiAEIANwAYIABCADcAECAAQgA3AAggAEIANwAAIAUPCyAAIAM2AoDiASAAIAEgBGo2AvDhASAFDwsCfwJAAkACQCADQQJ2QQNxQX9qIgRBAksNACAEQQFrDgIAAgELQQEhByADQQN2DAILQQIhByABLwAAQQR2DAELIAJBBEkgARAhIgJBj4CAAUtyDQFBAyEHIAJBBHYLIQIgAEHw4gFqIAEgB2otAAAgAkEgahAQIQEgACACNgKA4gEgACABNgLw4QEgB0EBaiEHCyAHC0sAIABC+erQ0OfJoeThADcDICAAQgA3AxggAELP1tO+0ser2UI3AxAgAELW64Lu6v2J9eAANwMIIABCADcDACAAQShqQQBBKBAQGgviAgICfwV+IABBKGoiASAAKAJIaiECAn4gACkDACIDQiBaBEAgACkDECIEQgeJIAApAwgiBUIBiXwgACkDGCIGQgyJfCAAKQMgIgdCEol8IAUQGSAEEBkgBhAZIAcQGQwBCyAAKQMYQsXP2bLx5brqJ3wLIAN8IQMDQCABQQhqIgAgAk0EQEIAIAEpAAAQCSADhUIbiUKHla+vmLbem55/fkLj3MqV/M7y9YV/fCEDIAAhAQwBCwsCQCABQQRqIgAgAksEQCABIQAMAQsgASgAAK1Ch5Wvr5i23puef34gA4VCF4lCz9bTvtLHq9lCfkL5893xmfaZqxZ8IQMLA0AgACACSQRAIAAxAABCxc/ZsvHluuonfiADhUILiUKHla+vmLbem55/fiEDIABBAWohAAwBCwsgA0IhiCADhULP1tO+0ser2UJ+IgNCHYggA4VC+fPd8Zn2masWfiIDQiCIIAOFC+8CAgJ/BH4gACAAKQMAIAKtfDcDAAJAAkAgACgCSCIDIAJqIgRBH00EQCABRQ0BIAAgA2pBKGogASACECAgACgCSCACaiEEDAELIAEgAmohAgJ/IAMEQCAAQShqIgQgA2ogAUEgIANrECAgACAAKQMIIAQpAAAQCTcDCCAAIAApAxAgACkAMBAJNwMQIAAgACkDGCAAKQA4EAk3AxggACAAKQMgIABBQGspAAAQCTcDICAAKAJIIQMgAEEANgJIIAEgA2tBIGohAQsgAUEgaiACTQsEQCACQWBqIQMgACkDICEFIAApAxghBiAAKQMQIQcgACkDCCEIA0AgCCABKQAAEAkhCCAHIAEpAAgQCSEHIAYgASkAEBAJIQYgBSABKQAYEAkhBSABQSBqIgEgA00NAAsgACAFNwMgIAAgBjcDGCAAIAc3AxAgACAINwMICyABIAJPDQEgAEEoaiABIAIgAWsiBBAgCyAAIAQ2AkgLCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQEBogAwVBun8LCy8BAX8gAEUEQEG2f0EAIAMbDwtBun8hBCADIAFNBH8gACACIAMQCxogAwVBun8LC6gCAQZ/IwBBEGsiByQAIABB2OABaikDAEKAgIAQViEIQbh/IQUCQCAEQf//B0sNACAAIAMgBBBCIgUQAyIGDQAgACgCnOIBIQkgACAHQQxqIAMgAyAFaiAGGyIKIARBACAFIAYbayIGEEAiAxADBEAgAyEFDAELIAcoAgwhBCABRQRAQbp/IQUgBEEASg0BCyAGIANrIQUgAyAKaiEDAkAgCQRAIABBADYCnOIBDAELAkACQAJAIARBBUgNACAAQdjgAWopAwBCgICACFgNAAwBCyAAQQA2ApziAQwBCyAAKAIIED8hBiAAQQA2ApziASAGQRRPDQELIAAgASACIAMgBSAEIAgQOSEFDAELIAAgASACIAMgBSAEIAgQOiEFCyAHQRBqJAAgBQtnACAAQdDgAWogASACIAAoAuzhARAuIgEQAwRAIAEPC0G4fyECAkAgAQ0AIABB7OABaigCACIBBEBBYCECIAAoApjiASABRw0BC0EAIQIgAEHw4AFqKAIARQ0AIABBkOEBahBDCyACCycBAX8QVyIERQRAQUAPCyAEIAAgASACIAMgBBBLEE8hACAEEFYgAAs/AQF/AkACQAJAIAAoAqDiAUEBaiIBQQJLDQAgAUEBaw4CAAECCyAAEDBBAA8LIABBADYCoOIBCyAAKAKU4gELvAMCB38BfiMAQRBrIgkkAEG4fyEGAkAgBCgCACIIQQVBCSAAKALs4QEiBRtJDQAgAygCACIHQQFBBSAFGyAFEC8iBRADBEAgBSEGDAELIAggBUEDakkNACAAIAcgBRBJIgYQAw0AIAEgAmohCiAAQZDhAWohCyAIIAVrIQIgBSAHaiEHIAEhBQNAIAcgAiAJECwiBhADDQEgAkF9aiICIAZJBEBBuH8hBgwCCyAJKAIAIghBAksEQEFsIQYMAgsgB0EDaiEHAn8CQAJAAkAgCEEBaw4CAgABCyAAIAUgCiAFayAHIAYQSAwCCyAFIAogBWsgByAGEEcMAQsgBSAKIAVrIActAAAgCSgCCBBGCyIIEAMEQCAIIQYMAgsgACgC8OABBEAgCyAFIAgQRQsgAiAGayECIAYgB2ohByAFIAhqIQUgCSgCBEUNAAsgACkD0OABIgxCf1IEQEFsIQYgDCAFIAFrrFINAQsgACgC8OABBEBBaiEGIAJBBEkNASALEEQhDCAHKAAAIAynRw0BIAdBBGohByACQXxqIQILIAMgBzYCACAEIAI2AgAgBSABayEGCyAJQRBqJAAgBgsuACAAECsCf0EAQQAQAw0AGiABRSACRXJFBEBBYiAAIAEgAhA9EAMNARoLQQALCzcAIAEEQCAAIAAoAsTgASABKAIEIAEoAghqRzYCnOIBCyAAECtBABADIAFFckUEQCAAIAEQWwsL0QIBB38jAEEQayIGJAAgBiAENgIIIAYgAzYCDCAFBEAgBSgCBCEKIAUoAgghCQsgASEIAkACQANAIAAoAuzhARAWIQsCQANAIAQgC0kNASADKAAAQXBxQdDUtMIBRgRAIAMgBBAiIgcQAw0EIAQgB2shBCADIAdqIQMMAQsLIAYgAzYCDCAGIAQ2AggCQCAFBEAgACAFEE5BACEHQQAQA0UNAQwFCyAAIAogCRBNIgcQAw0ECyAAIAgQUCAMQQFHQQAgACAIIAIgBkEMaiAGQQhqEEwiByIDa0EAIAMQAxtBCkdyRQRAQbh/IQcMBAsgBxADDQMgAiAHayECIAcgCGohCEEBIQwgBigCDCEDIAYoAgghBAwBCwsgBiADNgIMIAYgBDYCCEG4fyEHIAQNASAIIAFrIQcMAQsgBiADNgIMIAYgBDYCCAsgBkEQaiQAIAcLRgECfyABIAAoArjgASICRwRAIAAgAjYCxOABIAAgATYCuOABIAAoArzgASEDIAAgATYCvOABIAAgASADIAJrajYCwOABCwutAgIEfwF+IwBBQGoiBCQAAkACQCACQQhJDQAgASgAAEFwcUHQ1LTCAUcNACABIAIQIiEBIABCADcDCCAAQQA2AgQgACABNgIADAELIARBGGogASACEC0iAxADBEAgACADEBoMAQsgAwRAIABBuH8QGgwBCyACIAQoAjAiA2shAiABIANqIQMDQAJAIAAgAyACIARBCGoQLCIFEAMEfyAFBSACIAVBA2oiBU8NAUG4fwsQGgwCCyAGQQFqIQYgAiAFayECIAMgBWohAyAEKAIMRQ0ACyAEKAI4BEAgAkEDTQRAIABBuH8QGgwCCyADQQRqIQMLIAQoAighAiAEKQMYIQcgAEEANgIEIAAgAyABazYCACAAIAIgBmytIAcgB0J/URs3AwgLIARBQGskAAslAQF/IwBBEGsiAiQAIAIgACABEFEgAigCACEAIAJBEGokACAAC30BBH8jAEGQBGsiBCQAIARB/wE2AggCQCAEQRBqIARBCGogBEEMaiABIAIQFSIGEAMEQCAGIQUMAQtBVCEFIAQoAgwiB0EGSw0AIAMgBEEQaiAEKAIIIAcQQSIFEAMNACAAIAEgBmogAiAGayADEDwhBQsgBEGQBGokACAFC4cBAgJ/An5BABAWIQMCQANAIAEgA08EQAJAIAAoAABBcHFB0NS0wgFGBEAgACABECIiAhADRQ0BQn4PCyAAIAEQVSIEQn1WDQMgBCAFfCIFIARUIQJCfiEEIAINAyAAIAEQUiICEAMNAwsgASACayEBIAAgAmohAAwBCwtCfiAFIAEbIQQLIAQLPwIBfwF+IwBBMGsiAiQAAn5CfiACQQhqIAAgARAtDQAaQgAgAigCHEEBRg0AGiACKQMICyEDIAJBMGokACADC40BAQJ/IwBBMGsiASQAAkAgAEUNACAAKAKI4gENACABIABB/OEBaigCADYCKCABIAApAvThATcDICAAEDAgACgCqOIBIQIgASABKAIoNgIYIAEgASkDIDcDECACIAFBEGoQGyAAQQA2AqjiASABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALKgECfyMAQRBrIgAkACAAQQA2AgggAEIANwMAIAAQWCEBIABBEGokACABC4cBAQN/IwBBEGsiAiQAAkAgACgCAEUgACgCBEVzDQAgAiAAKAIINgIIIAIgACkCADcDAAJ/IAIoAgAiAQRAIAIoAghBqOMJIAERBQAMAQtBqOMJECgLIgFFDQAgASAAKQIANwL04QEgAUH84QFqIAAoAgg2AgAgARBZIAEhAwsgAkEQaiQAIAMLywEBAn8jAEEgayIBJAAgAEGBgIDAADYCtOIBIABBADYCiOIBIABBADYC7OEBIABCADcDkOIBIABBADYCpOMJIABBADYC3OIBIABCADcCzOIBIABBADYCvOIBIABBADYCxOABIABCADcCnOIBIABBpOIBakIANwIAIABBrOIBakEANgIAIAFCADcCECABQgA3AhggASABKQMYNwMIIAEgASkDEDcDACABKAIIQQh2QQFxIQIgAEEANgLg4gEgACACNgKM4gEgAUEgaiQAC3YBA38jAEEwayIBJAAgAARAIAEgAEHE0AFqIgIoAgA2AiggASAAKQK80AE3AyAgACgCACEDIAEgAigCADYCGCABIAApArzQATcDECADIAFBEGoQGyABIAEoAig2AgggASABKQMgNwMAIAAgARAbCyABQTBqJAALzAEBAX8gACABKAK00AE2ApjiASAAIAEoAgQiAjYCwOABIAAgAjYCvOABIAAgAiABKAIIaiICNgK44AEgACACNgLE4AEgASgCuNABBEAgAEKBgICAEDcDiOEBIAAgAUGk0ABqNgIMIAAgAUGUIGo2AgggACABQZwwajYCBCAAIAFBDGo2AgAgAEGs0AFqIAFBqNABaigCADYCACAAQbDQAWogAUGs0AFqKAIANgIAIABBtNABaiABQbDQAWooAgA2AgAPCyAAQgA3A4jhAQs7ACACRQRAQbp/DwsgBEUEQEFsDwsgAiAEEGAEQCAAIAEgAiADIAQgBRBhDwsgACABIAIgAyAEIAUQZQtGAQF/IwBBEGsiBSQAIAVBCGogBBAOAn8gBS0ACQRAIAAgASACIAMgBBAyDAELIAAgASACIAMgBBA0CyEAIAVBEGokACAACzQAIAAgAyAEIAUQNiIFEAMEQCAFDwsgBSAESQR/IAEgAiADIAVqIAQgBWsgABA1BUG4fwsLRgEBfyMAQRBrIgUkACAFQQhqIAQQDgJ/IAUtAAkEQCAAIAEgAiADIAQQYgwBCyAAIAEgAiADIAQQNQshACAFQRBqJAAgAAtZAQF/QQ8hAiABIABJBEAgAUEEdCAAbiECCyAAQQh2IgEgAkEYbCIAQYwIaigCAGwgAEGICGooAgBqIgJBA3YgAmogAEGACGooAgAgAEGECGooAgAgAWxqSQs3ACAAIAMgBCAFQYAQEDMiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQMgVBuH8LC78DAQN/IwBBIGsiBSQAIAVBCGogAiADEAYiAhADRQRAIAAgAWoiB0F9aiEGIAUgBBAOIARBBGohAiAFLQACIQMDQEEAIAAgBkkgBUEIahAEGwRAIAAgAiAFQQhqIAMQAkECdGoiBC8BADsAACAFQQhqIAQtAAIQASAAIAQtAANqIgQgAiAFQQhqIAMQAkECdGoiAC8BADsAACAFQQhqIAAtAAIQASAEIAAtAANqIQAMAQUgB0F+aiEEA0AgBUEIahAEIAAgBEtyRQRAIAAgAiAFQQhqIAMQAkECdGoiBi8BADsAACAFQQhqIAYtAAIQASAAIAYtAANqIQAMAQsLA0AgACAES0UEQCAAIAIgBUEIaiADEAJBAnRqIgYvAQA7AAAgBUEIaiAGLQACEAEgACAGLQADaiEADAELCwJAIAAgB08NACAAIAIgBUEIaiADEAIiA0ECdGoiAC0AADoAACAALQADQQFGBEAgBUEIaiAALQACEAEMAQsgBSgCDEEfSw0AIAVBCGogAiADQQJ0ai0AAhABIAUoAgxBIUkNACAFQSA2AgwLIAFBbCAFQQhqEAobIQILCwsgBUEgaiQAIAILkgIBBH8jAEFAaiIJJAAgCSADQTQQCyEDAkAgBEECSA0AIAMgBEECdGooAgAhCSADQTxqIAgQIyADQQE6AD8gAyACOgA+QQAhBCADKAI8IQoDQCAEIAlGDQEgACAEQQJ0aiAKNgEAIARBAWohBAwAAAsAC0EAIQkDQCAGIAlGRQRAIAMgBSAJQQF0aiIKLQABIgtBAnRqIgwoAgAhBCADQTxqIAotAABBCHQgCGpB//8DcRAjIANBAjoAPyADIAcgC2siCiACajoAPiAEQQEgASAKa3RqIQogAygCPCELA0AgACAEQQJ0aiALNgEAIARBAWoiBCAKSQ0ACyAMIAo2AgAgCUEBaiEJDAELCyADQUBrJAALowIBCX8jAEHQAGsiCSQAIAlBEGogBUE0EAsaIAcgBmshDyAHIAFrIRADQAJAIAMgCkcEQEEBIAEgByACIApBAXRqIgYtAAEiDGsiCGsiC3QhDSAGLQAAIQ4gCUEQaiAMQQJ0aiIMKAIAIQYgCyAPTwRAIAAgBkECdGogCyAIIAUgCEE0bGogCCAQaiIIQQEgCEEBShsiCCACIAQgCEECdGooAgAiCEEBdGogAyAIayAHIA4QYyAGIA1qIQgMAgsgCUEMaiAOECMgCUEBOgAPIAkgCDoADiAGIA1qIQggCSgCDCELA0AgBiAITw0CIAAgBkECdGogCzYBACAGQQFqIQYMAAALAAsgCUHQAGokAA8LIAwgCDYCACAKQQFqIQoMAAALAAs0ACAAIAMgBCAFEDYiBRADBEAgBQ8LIAUgBEkEfyABIAIgAyAFaiAEIAVrIAAQNAVBuH8LCyMAIAA/AEEQdGtB//8DakEQdkAAQX9GBEBBAA8LQQAQAEEBCzsBAX8gAgRAA0AgACABIAJBgCAgAkGAIEkbIgMQCyEAIAFBgCBqIQEgAEGAIGohACACIANrIgINAAsLCwYAIAAQAwsLqBUJAEGICAsNAQAAAAEAAAACAAAAAgBBoAgLswYBAAAAAQAAAAIAAAACAAAAJgAAAIIAAAAhBQAASgAAAGcIAAAmAAAAwAEAAIAAAABJBQAASgAAAL4IAAApAAAALAIAAIAAAABJBQAASgAAAL4IAAAvAAAAygIAAIAAAACKBQAASgAAAIQJAAA1AAAAcwMAAIAAAACdBQAASgAAAKAJAAA9AAAAgQMAAIAAAADrBQAASwAAAD4KAABEAAAAngMAAIAAAABNBgAASwAAAKoKAABLAAAAswMAAIAAAADBBgAATQAAAB8NAABNAAAAUwQAAIAAAAAjCAAAUQAAAKYPAABUAAAAmQQAAIAAAABLCQAAVwAAALESAABYAAAA2gQAAIAAAABvCQAAXQAAACMUAABUAAAARQUAAIAAAABUCgAAagAAAIwUAABqAAAArwUAAIAAAAB2CQAAfAAAAE4QAAB8AAAA0gIAAIAAAABjBwAAkQAAAJAHAACSAAAAAAAAAAEAAAABAAAABQAAAA0AAAAdAAAAPQAAAH0AAAD9AAAA/QEAAP0DAAD9BwAA/Q8AAP0fAAD9PwAA/X8AAP3/AAD9/wEA/f8DAP3/BwD9/w8A/f8fAP3/PwD9/38A/f//AP3//wH9//8D/f//B/3//w/9//8f/f//P/3//38AAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABEAAAASAAAAEwAAABQAAAAVAAAAFgAAABcAAAAYAAAAGQAAABoAAAAbAAAAHAAAAB0AAAAeAAAAHwAAAAMAAAAEAAAABQAAAAYAAAAHAAAACAAAAAkAAAAKAAAACwAAAAwAAAANAAAADgAAAA8AAAAQAAAAEQAAABIAAAATAAAAFAAAABUAAAAWAAAAFwAAABgAAAAZAAAAGgAAABsAAAAcAAAAHQAAAB4AAAAfAAAAIAAAACEAAAAiAAAAIwAAACUAAAAnAAAAKQAAACsAAAAvAAAAMwAAADsAAABDAAAAUwAAAGMAAACDAAAAAwEAAAMCAAADBAAAAwgAAAMQAAADIAAAA0AAAAOAAAADAAEAQeAPC1EBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAEAAAABQAAAAcAAAAIAAAACQAAAAoAAAALAAAADAAAAA0AAAAOAAAADwAAABAAQcQQC4sBAQAAAAIAAAADAAAABAAAAAUAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAABIAAAAUAAAAFgAAABgAAAAcAAAAIAAAACgAAAAwAAAAQAAAAIAAAAAAAQAAAAIAAAAEAAAACAAAABAAAAAgAAAAQAAAAIAAAAAAAQBBkBIL5gQBAAAAAQAAAAEAAAABAAAAAgAAAAIAAAADAAAAAwAAAAQAAAAGAAAABwAAAAgAAAAJAAAACgAAAAsAAAAMAAAADQAAAA4AAAAPAAAAEAAAAAEAAAAEAAAACAAAAAAAAAABAAEBBgAAAAAAAAQAAAAAEAAABAAAAAAgAAAFAQAAAAAAAAUDAAAAAAAABQQAAAAAAAAFBgAAAAAAAAUHAAAAAAAABQkAAAAAAAAFCgAAAAAAAAUMAAAAAAAABg4AAAAAAAEFEAAAAAAAAQUUAAAAAAABBRYAAAAAAAIFHAAAAAAAAwUgAAAAAAAEBTAAAAAgAAYFQAAAAAAABwWAAAAAAAAIBgABAAAAAAoGAAQAAAAADAYAEAAAIAAABAAAAAAAAAAEAQAAAAAAAAUCAAAAIAAABQQAAAAAAAAFBQAAACAAAAUHAAAAAAAABQgAAAAgAAAFCgAAAAAAAAULAAAAAAAABg0AAAAgAAEFEAAAAAAAAQUSAAAAIAABBRYAAAAAAAIFGAAAACAAAwUgAAAAAAADBSgAAAAAAAYEQAAAABAABgRAAAAAIAAHBYAAAAAAAAkGAAIAAAAACwYACAAAMAAABAAAAAAQAAAEAQAAACAAAAUCAAAAIAAABQMAAAAgAAAFBQAAACAAAAUGAAAAIAAABQgAAAAgAAAFCQAAACAAAAULAAAAIAAABQwAAAAAAAAGDwAAACAAAQUSAAAAIAABBRQAAAAgAAIFGAAAACAAAgUcAAAAIAADBSgAAAAgAAQFMAAAAAAAEAYAAAEAAAAPBgCAAAAAAA4GAEAAAAAADQYAIABBgBcLhwIBAAEBBQAAAAAAAAUAAAAAAAAGBD0AAAAAAAkF/QEAAAAADwX9fwAAAAAVBf3/HwAAAAMFBQAAAAAABwR9AAAAAAAMBf0PAAAAABIF/f8DAAAAFwX9/38AAAAFBR0AAAAAAAgE/QAAAAAADgX9PwAAAAAUBf3/DwAAAAIFAQAAABAABwR9AAAAAAALBf0HAAAAABEF/f8BAAAAFgX9/z8AAAAEBQ0AAAAQAAgE/QAAAAAADQX9HwAAAAATBf3/BwAAAAEFAQAAABAABgQ9AAAAAAAKBf0DAAAAABAF/f8AAAAAHAX9//8PAAAbBf3//wcAABoF/f//AwAAGQX9//8BAAAYBf3//wBBkBkLhgQBAAEBBgAAAAAAAAYDAAAAAAAABAQAAAAgAAAFBQAAAAAAAAUGAAAAAAAABQgAAAAAAAAFCQAAAAAAAAULAAAAAAAABg0AAAAAAAAGEAAAAAAAAAYTAAAAAAAABhYAAAAAAAAGGQAAAAAAAAYcAAAAAAAABh8AAAAAAAAGIgAAAAAAAQYlAAAAAAABBikAAAAAAAIGLwAAAAAAAwY7AAAAAAAEBlMAAAAAAAcGgwAAAAAACQYDAgAAEAAABAQAAAAAAAAEBQAAACAAAAUGAAAAAAAABQcAAAAgAAAFCQAAAAAAAAUKAAAAAAAABgwAAAAAAAAGDwAAAAAAAAYSAAAAAAAABhUAAAAAAAAGGAAAAAAAAAYbAAAAAAAABh4AAAAAAAAGIQAAAAAAAQYjAAAAAAABBicAAAAAAAIGKwAAAAAAAwYzAAAAAAAEBkMAAAAAAAUGYwAAAAAACAYDAQAAIAAABAQAAAAwAAAEBAAAABAAAAQFAAAAIAAABQcAAAAgAAAFCAAAACAAAAUKAAAAIAAABQsAAAAAAAAGDgAAAAAAAAYRAAAAAAAABhQAAAAAAAAGFwAAAAAAAAYaAAAAAAAABh0AAAAAAAAGIAAAAAAAEAYDAAEAAAAPBgOAAAAAAA4GA0AAAAAADQYDIAAAAAAMBgMQAAAAAAsGAwgAAAAACgYDBABBpB0L2QEBAAAAAwAAAAcAAAAPAAAAHwAAAD8AAAB/AAAA/wAAAP8BAAD/AwAA/wcAAP8PAAD/HwAA/z8AAP9/AAD//wAA//8BAP//AwD//wcA//8PAP//HwD//z8A//9/AP///wD///8B////A////wf///8P////H////z////9/AAAAAAEAAAACAAAABAAAAAAAAAACAAAABAAAAAgAAAAAAAAAAQAAAAIAAAABAAAABAAAAAQAAAAEAAAABAAAAAgAAAAIAAAACAAAAAcAAAAIAAAACQAAAAoAAAALAEGgIAsDwBBQ",dre="display-p3",hre="display-p3-linear",Y3=new WeakMap;let $3=0,K3;class Js extends ra{constructor(e){super(e),this.transcoderPath="",this.transcoderBinary=null,this.transcoderPending=null,this.workerPool=new ure,this.workerSourceURL="",this.workerConfig=null,typeof MSC_TRANSCODER<"u"&&console.warn('THREE.KTX2Loader: Please update to latest "basis_transcoder". "msc_basis_transcoder" is no longer supported in three.js r125+.')}setTranscoderPath(e){return this.transcoderPath=e,this}setWorkerLimit(e){return this.workerPool.setWorkerLimit(e),this}async detectSupportAsync(e){return this.workerConfig={astcSupported:await e.hasFeatureAsync("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:await e.hasFeatureAsync("texture-compression-etc1"),etc2Supported:await e.hasFeatureAsync("texture-compression-etc2"),dxtSupported:await e.hasFeatureAsync("texture-compression-bc"),bptcSupported:await e.hasFeatureAsync("texture-compression-bptc"),pvrtcSupported:await e.hasFeatureAsync("texture-compression-pvrtc")},this}detectSupport(e){return e.isWebGPURenderer===!0?this.workerConfig={astcSupported:e.hasFeature("texture-compression-astc"),astcHDRSupported:!1,etc1Supported:e.hasFeature("texture-compression-etc1"),etc2Supported:e.hasFeature("texture-compression-etc2"),dxtSupported:e.hasFeature("texture-compression-bc"),bptcSupported:e.hasFeature("texture-compression-bptc"),pvrtcSupported:e.hasFeature("texture-compression-pvrtc")}:this.workerConfig={astcSupported:e.extensions.has("WEBGL_compressed_texture_astc"),astcHDRSupported:e.extensions.has("WEBGL_compressed_texture_astc")&&e.extensions.get("WEBGL_compressed_texture_astc").getSupportedProfiles().includes("hdr"),etc1Supported:e.extensions.has("WEBGL_compressed_texture_etc1"),etc2Supported:e.extensions.has("WEBGL_compressed_texture_etc"),dxtSupported:e.extensions.has("WEBGL_compressed_texture_s3tc"),bptcSupported:e.extensions.has("EXT_texture_compression_bptc"),pvrtcSupported:e.extensions.has("WEBGL_compressed_texture_pvrtc")||e.extensions.has("WEBKIT_WEBGL_compressed_texture_pvrtc")},this}init(){if(!this.transcoderPending){const e=new $l(this.manager);e.setPath(this.transcoderPath),e.setWithCredentials(this.withCredentials);const t=e.loadAsync("basis_transcoder.js"),i=new $l(this.manager);i.setPath(this.transcoderPath),i.setResponseType("arraybuffer"),i.setWithCredentials(this.withCredentials);const r=i.loadAsync("basis_transcoder.wasm");this.transcoderPending=Promise.all([t,r]).then(([s,o])=>{const a=Js.BasisWorker.toString(),l=["/* constants */","let _EngineFormat = "+JSON.stringify(Js.EngineFormat),"let _EngineType = "+JSON.stringify(Js.EngineType),"let _TranscoderFormat = "+JSON.stringify(Js.TranscoderFormat),"let _BasisFormat = "+JSON.stringify(Js.BasisFormat),"/* basis_transcoder.js */",s,"/* worker */",a.substring(a.indexOf("{")+1,a.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([l])),this.transcoderBinary=o,this.workerPool.setWorkerCreator(()=>{const c=new Worker(this.workerSourceURL),u=this.transcoderBinary.slice(0);return c.postMessage({type:"init",config:this.workerConfig,transcoderBinary:u},[u]),c})}),$3>0&&console.warn("THREE.KTX2Loader: Multiple active KTX2 loaders may cause performance issues. Use a single KTX2Loader instance, or call .dispose() on old instances."),$3++}return this.transcoderPending}load(e,t,i,r){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");const s=new $l(this.manager);s.setResponseType("arraybuffer"),s.setWithCredentials(this.withCredentials),s.load(e,o=>{this.parse(o,t,r)},i,r)}parse(e,t,i){if(this.workerConfig===null)throw new Error("THREE.KTX2Loader: Missing initialization with `.detectSupport( renderer )`.");if(Y3.has(e))return Y3.get(e).promise.then(t).catch(i);this._createTexture(e).then(r=>t?t(r):null).catch(i)}_createTextureFrom(e,t){const{type:i,error:r,data:{faces:s,width:o,height:a,format:l,type:c,dfdFlags:u}}=e;if(i==="error")return Promise.reject(r);let f;if(t.faceCount===6)f=new _K(s,l,c);else{const h=s[0].mipmaps;f=t.layerCount>1?new yK(h,o,a,t.layerCount,l,c):new MA(h,o,a,l,c)}return f.minFilter=s[0].mipmaps.length===1?Yt:Fs,f.magFilter=Yt,f.generateMipmaps=!1,f.needsUpdate=!0,f.colorSpace=RD(t),f.premultiplyAlpha=!!(u&$ie),f}async _createTexture(e,t={}){const i=nre(new Uint8Array(e)),r=i.vkFormat===d4&&i.dataFormatDescriptor[0].colorModel===167;if(!(i.vkFormat===ere||r&&!this.workerConfig.astcHDRSupported))return mre(i);const o=t,a=this.init().then(()=>this.workerPool.postMessage({type:"transcode",buffer:e,taskConfig:o},[e])).then(l=>this._createTextureFrom(l.data,i));return Y3.set(e,{promise:a}),a}dispose(){return this.workerPool.dispose(),this.workerSourceURL&&URL.revokeObjectURL(this.workerSourceURL),$3--,this}}Js.BasisFormat={ETC1S:0,UASTC:1,UASTC_HDR:2};Js.TranscoderFormat={ETC1:0,ETC2:1,BC1:2,BC3:3,BC4:4,BC5:5,BC7_M6_OPAQUE_ONLY:6,BC7_M5:7,PVRTC1_4_RGB:8,PVRTC1_4_RGBA:9,ASTC_4x4:10,ATC_RGB:11,ATC_RGBA_INTERPOLATED_ALPHA:12,RGBA32:13,RGB565:14,BGR565:15,RGBA4444:16,BC6H:22,RGB_HALF:24,RGBA_HALF:25};Js.EngineFormat={RGBAFormat:hi,RGBA_ASTC_4x4_Format:Y0,RGB_BPTC_UNSIGNED_Format:Ng,RGBA_BPTC_Format:S0,RGBA_ETC2_EAC_Format:Ug,RGBA_PVRTC_4BPPV1_Format:Lg,RGBA_S3TC_DXT5_Format:C0,RGB_ETC1_Format:Fg,RGB_ETC2_Format:Og,RGB_PVRTC_4BPPV1_Format:Bg,RGBA_S3TC_DXT1_Format:x0};Js.EngineType={UnsignedByteType:Ki,HalfFloatType:nn,FloatType:Zt};Js.BasisWorker=function(){let n,e,t;const i=_EngineFormat,r=_EngineType,s=_TranscoderFormat,o=_BasisFormat;self.addEventListener("message",function(m){const g=m.data;switch(g.type){case"init":n=g.config,a(g.transcoderBinary);break;case"transcode":e.then(()=>{try{const{faces:A,buffers:y,width:x,height:b,hasAlpha:_,format:T,type:M,dfdFlags:I}=l(g.buffer);self.postMessage({type:"transcode",id:g.id,data:{faces:A,width:x,height:b,hasAlpha:_,format:T,type:M,dfdFlags:I}},y)}catch(A){console.error(A),self.postMessage({type:"error",id:g.id,error:A.message})}});break}});function a(m){e=new Promise(g=>{t={wasmBinary:m,onRuntimeInitialized:g},BASIS(t)}).then(()=>{t.initializeBasis(),t.KTX2File===void 0&&console.warn("THREE.KTX2Loader: Please update Basis Universal transcoder.")})}function l(m){const g=new t.KTX2File(new Uint8Array(m));function A(){g.close(),g.delete()}if(!g.isValid())throw A(),new Error("THREE.KTX2Loader:	Invalid or unsupported .ktx2 file");let y;if(g.isUASTC())y=o.UASTC;else if(g.isETC1S())y=o.ETC1S;else if(g.isHDR())y=o.UASTC_HDR;else throw new Error("THREE.KTX2Loader: Unknown Basis encoding");const x=g.getWidth(),b=g.getHeight(),_=g.getLayers()||1,T=g.getLevels(),M=g.getFaces(),I=g.getHasAlpha(),P=g.getDFDFlags(),{transcoderFormat:w,engineFormat:E,engineType:O}=f(y,x,b,I);if(!x||!b||!T)throw A(),new Error("THREE.KTX2Loader:	Invalid texture");if(!g.startTranscoding())throw A(),new Error("THREE.KTX2Loader: .startTranscoding failed");const F=[],H=[];for(let z=0;z<M;z++){const X=[];for(let U=0;U<T;U++){const G=[];let j,Y;for(let ve=0;ve<_;ve++){const Pe=g.getImageLevelInfo(U,ve,z);z===0&&U===0&&ve===0&&(Pe.origWidth%4!==0||Pe.origHeight%4!==0)&&console.warn("THREE.KTX2Loader: ETC1S and UASTC textures should use multiple-of-four dimensions."),T>1?(j=Pe.origWidth,Y=Pe.origHeight):(j=Pe.width,Y=Pe.height);let He=new Uint8Array(g.getImageTranscodedSizeInBytes(U,ve,0,w));const re=g.transcodeImage(He,U,ve,z,w,0,-1,-1);if(O===r.HalfFloatType&&(He=new Uint16Array(He.buffer,He.byteOffset,He.byteLength/Uint16Array.BYTES_PER_ELEMENT)),!re)throw A(),new Error("THREE.KTX2Loader: .transcodeImage failed.");G.push(He)}const Q=p(G);X.push({data:Q,width:j,height:Y}),H.push(Q.buffer)}F.push({mipmaps:X,width:x,height:b,format:E,type:O})}return A(),{faces:F,buffers:H,width:x,height:b,hasAlpha:I,dfdFlags:P,format:E,type:O}}const c=[{if:"astcSupported",basisFormat:[o.UASTC],transcoderFormat:[s.ASTC_4x4,s.ASTC_4x4],engineFormat:[i.RGBA_ASTC_4x4_Format,i.RGBA_ASTC_4x4_Format],engineType:[r.UnsignedByteType],priorityETC1S:1/0,priorityUASTC:1,needsPowerOfTwo:!1},{if:"bptcSupported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[s.BC7_M5,s.BC7_M5],engineFormat:[i.RGBA_BPTC_Format,i.RGBA_BPTC_Format],engineType:[r.UnsignedByteType],priorityETC1S:3,priorityUASTC:2,needsPowerOfTwo:!1},{if:"dxtSupported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[s.BC1,s.BC3],engineFormat:[i.RGBA_S3TC_DXT1_Format,i.RGBA_S3TC_DXT5_Format],engineType:[r.UnsignedByteType],priorityETC1S:4,priorityUASTC:5,needsPowerOfTwo:!1},{if:"etc2Supported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[s.ETC1,s.ETC2],engineFormat:[i.RGB_ETC2_Format,i.RGBA_ETC2_EAC_Format],engineType:[r.UnsignedByteType],priorityETC1S:1,priorityUASTC:3,needsPowerOfTwo:!1},{if:"etc1Supported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[s.ETC1],engineFormat:[i.RGB_ETC1_Format],engineType:[r.UnsignedByteType],priorityETC1S:2,priorityUASTC:4,needsPowerOfTwo:!1},{if:"pvrtcSupported",basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[s.PVRTC1_4_RGB,s.PVRTC1_4_RGBA],engineFormat:[i.RGB_PVRTC_4BPPV1_Format,i.RGBA_PVRTC_4BPPV1_Format],engineType:[r.UnsignedByteType],priorityETC1S:5,priorityUASTC:6,needsPowerOfTwo:!0},{if:"bptcSupported",basisFormat:[o.UASTC_HDR],transcoderFormat:[s.BC6H],engineFormat:[i.RGB_BPTC_UNSIGNED_Format],engineType:[r.HalfFloatType],priorityHDR:1,needsPowerOfTwo:!1},{basisFormat:[o.ETC1S,o.UASTC],transcoderFormat:[s.RGBA32,s.RGBA32],engineFormat:[i.RGBAFormat,i.RGBAFormat],engineType:[r.UnsignedByteType,r.UnsignedByteType],priorityETC1S:100,priorityUASTC:100,needsPowerOfTwo:!1},{basisFormat:[o.UASTC_HDR],transcoderFormat:[s.RGBA_HALF],engineFormat:[i.RGBAFormat],engineType:[r.HalfFloatType],priorityHDR:100,needsPowerOfTwo:!1}],u={[o.ETC1S]:c.filter(m=>m.basisFormat.includes(o.ETC1S)).sort((m,g)=>m.priorityUASTC-g.priorityUASTC),[o.UASTC]:c.filter(m=>m.basisFormat.includes(o.UASTC)).sort((m,g)=>m.priorityUASTC-g.priorityUASTC),[o.UASTC_HDR]:c.filter(m=>m.basisFormat.includes(o.UASTC_HDR)).sort((m,g)=>m.priorityHDR-g.priorityHDR)};function f(m,g,A,y){const x=u[m];for(let b=0;b<x.length;b++){const _=x[b];if(_.if&&!n[_.if]||!_.basisFormat.includes(m)||y&&_.transcoderFormat.length<2||_.needsPowerOfTwo&&!(h(g)&&h(A)))continue;const T=_.transcoderFormat[y?1:0],M=_.engineFormat[y?1:0],I=_.engineType[0];return{transcoderFormat:T,engineFormat:M,engineType:I}}throw new Error("THREE.KTX2Loader: Failed to identify transcoding target.")}function h(m){return m<=2?!0:(m&m-1)===0&&m!==0}function p(m){if(m.length===1)return m[0];let g=0;for(let x=0;x<m.length;x++){const b=m[x];g+=b.byteLength}const A=new Uint8Array(g);let y=0;for(let x=0;x<m.length;x++){const b=m[x];A.set(b,y),y+=b.byteLength}return A}};const pre=new Set([hi,ou,zl]),Z3={[ID]:hi,[ED]:hi,[xD]:hi,[CD]:hi,[MD]:ou,[wD]:ou,[_D]:ou,[bD]:ou,[TD]:zl,[SD]:zl,[yD]:zl,[vD]:zl,[d4]:Y0,[PD]:$0,[DD]:$0},J3={[ID]:Zt,[ED]:nn,[xD]:Ki,[CD]:Ki,[MD]:Zt,[wD]:nn,[_D]:Ki,[bD]:Ki,[TD]:Zt,[SD]:nn,[yD]:Ki,[vD]:Ki,[d4]:nn,[PD]:Ki,[DD]:Ki};async function mre(n){const{vkFormat:e}=n;if(Z3[e]===void 0)throw new Error("THREE.KTX2Loader: Unsupported vkFormat.");let t;n.supercompressionScheme===I8&&(K3||(K3=new Promise(async s=>{const o=new fre;await o.init(),s(o)})),t=await K3);const i=[];for(let s=0;s<n.levels.length;s++){const o=Math.max(1,n.pixelWidth>>s),a=Math.max(1,n.pixelHeight>>s),l=n.pixelDepth?Math.max(1,n.pixelDepth>>s):0,c=n.levels[s];let u;if(n.supercompressionScheme===Yie)u=c.levelData;else if(n.supercompressionScheme===I8)u=t.decode(c.levelData,c.uncompressedByteLength);else throw new Error("THREE.KTX2Loader: Unsupported supercompressionScheme.");let f;J3[e]===Zt?f=new Float32Array(u.buffer,u.byteOffset,u.byteLength/Float32Array.BYTES_PER_ELEMENT):J3[e]===nn?f=new Uint16Array(u.buffer,u.byteOffset,u.byteLength/Uint16Array.BYTES_PER_ELEMENT):f=u,i.push({data:f,width:o,height:a,depth:l})}let r;if(pre.has(Z3[e]))r=n.pixelDepth===0?new Hd(i[0].data,n.pixelWidth,n.pixelHeight):new jI(i[0].data,n.pixelWidth,n.pixelHeight,n.pixelDepth);else{if(n.pixelDepth>0)throw new Error("THREE.KTX2Loader: Unsupported pixelDepth.");r=new MA(i,n.pixelWidth,n.pixelHeight),r.minFilter=i.length===1?Yt:Fs,r.magFilter=Yt}return r.mipmaps=i,r.type=J3[e],r.format=Z3[e],r.colorSpace=RD(n),r.needsUpdate=!0,Promise.resolve(r)}function RD(n){const e=n.dataFormatDescriptor[0];return e.colorPrimaries===Zie?e.transferFunction===D8?En:pi:e.colorPrimaries===Jie?e.transferFunction===D8?dre:hre:(e.colorPrimaries===Kie||console.warn(`THREE.KTX2Loader: Unsupported color primaries, "${e.colorPrimaries}"`),qo)}const PA={name:"CopyShader",uniforms:{tDiffuse:{value:null},opacity:{value:1}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform float opacity;

		uniform sampler2D tDiffuse;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );
			gl_FragColor = opacity * texel;


		}`};class np extends lc{constructor(e,t){super(),this.textureID=t!==void 0?t:"tDiffuse",e instanceof Cn?(this.uniforms=e.uniforms,this.material=e):e&&(this.uniforms=Io.clone(e.uniforms),this.material=new Cn({name:e.name!==void 0?e.name:"unspecified",defines:Object.assign({},e.defines),uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader})),this.fsQuad=new Tp(this.material)}render(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),this.fsQuad.material=this.material,this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class N8 extends lc{constructor(e,t){super(),this.scene=e,this.camera=t,this.clear=!0,this.needsSwap=!1,this.inverse=!1}render(e,t,i){const r=e.getContext(),s=e.state;s.buffers.color.setMask(!1),s.buffers.depth.setMask(!1),s.buffers.color.setLocked(!0),s.buffers.depth.setLocked(!0);let o,a;this.inverse?(o=0,a=1):(o=1,a=0),s.buffers.stencil.setTest(!0),s.buffers.stencil.setOp(r.REPLACE,r.REPLACE,r.REPLACE),s.buffers.stencil.setFunc(r.ALWAYS,o,4294967295),s.buffers.stencil.setClear(a),s.buffers.stencil.setLocked(!0),e.setRenderTarget(i),this.clear&&e.clear(),e.render(this.scene,this.camera),e.setRenderTarget(t),this.clear&&e.clear(),e.render(this.scene,this.camera),s.buffers.color.setLocked(!1),s.buffers.depth.setLocked(!1),s.buffers.color.setMask(!0),s.buffers.depth.setMask(!0),s.buffers.stencil.setLocked(!1),s.buffers.stencil.setFunc(r.EQUAL,1,4294967295),s.buffers.stencil.setOp(r.KEEP,r.KEEP,r.KEEP),s.buffers.stencil.setLocked(!0)}}class gre extends lc{constructor(){super(),this.needsSwap=!1}render(e){e.state.buffers.stencil.setLocked(!1),e.state.buffers.stencil.setTest(!1)}}class Are{constructor(e,t){if(this.renderer=e,this._pixelRatio=e.getPixelRatio(),t===void 0){const i=e.getSize(new De);this._width=i.width,this._height=i.height,t=new ai(this._width*this._pixelRatio,this._height*this._pixelRatio,{type:nn}),t.texture.name="EffectComposer.rt1"}else this._width=t.width,this._height=t.height;this.renderTarget1=t,this.renderTarget2=t.clone(),this.renderTarget2.texture.name="EffectComposer.rt2",this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2,this.renderToScreen=!0,this.passes=[],this.copyPass=new np(PA),this.copyPass.material.blending=Co,this.clock=new oD}swapBuffers(){const e=this.readBuffer;this.readBuffer=this.writeBuffer,this.writeBuffer=e}addPass(e){this.passes.push(e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}insertPass(e,t){this.passes.splice(t,0,e),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}removePass(e){const t=this.passes.indexOf(e);t!==-1&&this.passes.splice(t,1)}isLastEnabledPass(e){for(let t=e+1;t<this.passes.length;t++)if(this.passes[t].enabled)return!1;return!0}render(e){e===void 0&&(e=this.clock.getDelta());const t=this.renderer.getRenderTarget();let i=!1;for(let r=0,s=this.passes.length;r<s;r++){const o=this.passes[r];if(o.enabled!==!1){if(o.renderToScreen=this.renderToScreen&&this.isLastEnabledPass(r),o.render(this.renderer,this.writeBuffer,this.readBuffer,e,i),o.needsSwap){if(i){const a=this.renderer.getContext(),l=this.renderer.state.buffers.stencil;l.setFunc(a.NOTEQUAL,1,4294967295),this.copyPass.render(this.renderer,this.writeBuffer,this.readBuffer,e),l.setFunc(a.EQUAL,1,4294967295)}this.swapBuffers()}N8!==void 0&&(o instanceof N8?i=!0:o instanceof gre&&(i=!1))}}this.renderer.setRenderTarget(t)}reset(e){if(e===void 0){const t=this.renderer.getSize(new De);this._pixelRatio=this.renderer.getPixelRatio(),this._width=t.width,this._height=t.height,e=this.renderTarget1.clone(),e.setSize(this._width*this._pixelRatio,this._height*this._pixelRatio)}this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.renderTarget1=e,this.renderTarget2=e.clone(),this.writeBuffer=this.renderTarget1,this.readBuffer=this.renderTarget2}setSize(e,t){this._width=e,this._height=t;const i=this._width*this._pixelRatio,r=this._height*this._pixelRatio;this.renderTarget1.setSize(i,r),this.renderTarget2.setSize(i,r);for(let s=0;s<this.passes.length;s++)this.passes[s].setSize(i,r)}setPixelRatio(e){this._pixelRatio=e,this.setSize(this._width,this._height)}dispose(){this.renderTarget1.dispose(),this.renderTarget2.dispose(),this.copyPass.dispose()}}const vre={name:"OutputShader",uniforms:{tDiffuse:{value:null},toneMappingExposure:{value:1}},vertexShader:`
		precision highp float;

		uniform mat4 modelViewMatrix;
		uniform mat4 projectionMatrix;

		attribute vec3 position;
		attribute vec2 uv;

		varying vec2 vUv;

		void main() {

			vUv = uv;
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		precision highp float;

		uniform sampler2D tDiffuse;

		#include <tonemapping_pars_fragment>
		#include <colorspace_pars_fragment>

		varying vec2 vUv;

		void main() {

			gl_FragColor = texture2D( tDiffuse, vUv );

			// tone mapping

			#ifdef LINEAR_TONE_MAPPING

				gl_FragColor.rgb = LinearToneMapping( gl_FragColor.rgb );

			#elif defined( REINHARD_TONE_MAPPING )

				gl_FragColor.rgb = ReinhardToneMapping( gl_FragColor.rgb );

			#elif defined( CINEON_TONE_MAPPING )

				gl_FragColor.rgb = CineonToneMapping( gl_FragColor.rgb );

			#elif defined( ACES_FILMIC_TONE_MAPPING )

				gl_FragColor.rgb = ACESFilmicToneMapping( gl_FragColor.rgb );

			#elif defined( AGX_TONE_MAPPING )

				gl_FragColor.rgb = AgXToneMapping( gl_FragColor.rgb );

			#elif defined( NEUTRAL_TONE_MAPPING )

				gl_FragColor.rgb = NeutralToneMapping( gl_FragColor.rgb );

			#elif defined( CUSTOM_TONE_MAPPING )

				gl_FragColor.rgb = CustomToneMapping( gl_FragColor.rgb );

			#endif

			// color space

			#ifdef SRGB_TRANSFER

				gl_FragColor = sRGBTransferOETF( gl_FragColor );

			#endif

		}`};class yre extends lc{constructor(){super();const e=vre;this.uniforms=Io.clone(e.uniforms),this.material=new CK({name:e.name,uniforms:this.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader}),this.fsQuad=new Tp(this.material),this._outputColorSpace=null,this._toneMapping=null}render(e,t,i){this.uniforms.tDiffuse.value=i.texture,this.uniforms.toneMappingExposure.value=e.toneMappingExposure,(this._outputColorSpace!==e.outputColorSpace||this._toneMapping!==e.toneMapping)&&(this._outputColorSpace=e.outputColorSpace,this._toneMapping=e.toneMapping,this.material.defines={},Xt.getTransfer(this._outputColorSpace)===yn&&(this.material.defines.SRGB_TRANSFER=""),this._toneMapping===CI?this.material.defines.LINEAR_TONE_MAPPING="":this._toneMapping===SI?this.material.defines.REINHARD_TONE_MAPPING="":this._toneMapping===wI?this.material.defines.CINEON_TONE_MAPPING="":this._toneMapping===EI?this.material.defines.ACES_FILMIC_TONE_MAPPING="":this._toneMapping===MI?this.material.defines.AGX_TONE_MAPPING="":this._toneMapping===II?this.material.defines.NEUTRAL_TONE_MAPPING="":this._toneMapping===TI&&(this.material.defines.CUSTOM_TONE_MAPPING=""),this.material.needsUpdate=!0),this.renderToScreen===!0?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(t),this.clear&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),this.fsQuad.render(e))}dispose(){this.material.dispose(),this.fsQuad.dispose()}}class h4 extends lc{constructor(e,t,i=null,r=null,s=null){super(),this.scene=e,this.camera=t,this.overrideMaterial=i,this.clearColor=r,this.clearAlpha=s,this.clear=!0,this.clearDepth=!1,this.needsSwap=!1,this._oldClearColor=new ke}render(e,t,i){const r=e.autoClear;e.autoClear=!1;let s,o;this.overrideMaterial!==null&&(o=this.scene.overrideMaterial,this.scene.overrideMaterial=this.overrideMaterial),this.clearColor!==null&&(e.getClearColor(this._oldClearColor),e.setClearColor(this.clearColor,e.getClearAlpha())),this.clearAlpha!==null&&(s=e.getClearAlpha(),e.setClearAlpha(this.clearAlpha)),this.clearDepth==!0&&e.clearDepth(),e.setRenderTarget(this.renderToScreen?null:i),this.clear===!0&&e.clear(e.autoClearColor,e.autoClearDepth,e.autoClearStencil),e.render(this.scene,this.camera),this.clearColor!==null&&e.setClearColor(this._oldClearColor),this.clearAlpha!==null&&e.setClearAlpha(s),this.overrideMaterial!==null&&(this.scene.overrideMaterial=o),e.autoClear=r}}class p4 extends lc{constructor(e){super();const t=PA;this.textureID="tDiffuse",this.uniforms=Io.clone(t.uniforms),this.material=new Cn({uniforms:this.uniforms,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,blending:Co}),this.renderTarget=e,this.renderTarget===void 0&&(this.renderTarget=new ai(1,1,{type:nn}),this.renderTarget.texture.name="SavePass.rt"),this.needsSwap=!1,this.fsQuad=new Tp(this.material)}render(e,t,i){this.uniforms[this.textureID]&&(this.uniforms[this.textureID].value=i.texture),e.setRenderTarget(this.renderTarget),this.clear&&e.clear(),this.fsQuad.render(e)}setSize(e,t){this.renderTarget.setSize(e,t)}dispose(){this.renderTarget.dispose(),this.material.dispose(),this.fsQuad.dispose()}}const BD={uniforms:{tDiffuse:{value:null},luminosityThreshold:{value:1},smoothWidth:{value:1},defaultColor:{value:new ke(0)},defaultOpacity:{value:0}},vertexShader:`

		varying vec2 vUv;

		void main() {

			vUv = uv;

			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

		}`,fragmentShader:`

		uniform sampler2D tDiffuse;
		uniform vec3 defaultColor;
		uniform float defaultOpacity;
		uniform float luminosityThreshold;
		uniform float smoothWidth;

		varying vec2 vUv;

		void main() {

			vec4 texel = texture2D( tDiffuse, vUv );

			float v = luminance( texel.xyz );

			vec4 outputColor = vec4( defaultColor.rgb, defaultOpacity );

			float alpha = smoothstep( luminosityThreshold, luminosityThreshold + smoothWidth, v );

			gl_FragColor = mix( outputColor, texel, alpha );

		}`};class Fd extends lc{constructor(e,t,i,r){super(),this.strength=t!==void 0?t:1,this.radius=i,this.threshold=r,this.resolution=e!==void 0?new De(e.x,e.y):new De(256,256),this.clearColor=new ke(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=5;let s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);this.renderTargetBright=new ai(s,o,{type:nn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let f=0;f<this.nMips;f++){const h=new ai(s,o,{type:nn});h.texture.name="UnrealBloomPass.h"+f,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const p=new ai(s,o,{type:nn});p.texture.name="UnrealBloomPass.v"+f,p.texture.generateMipmaps=!1,this.renderTargetsVertical.push(p),s=Math.round(s/2),o=Math.round(o/2)}const a=BD;this.highPassUniforms=Io.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Cn({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const l=[3,5,7,9,11];s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let f=0;f<this.nMips;f++)this.separableBlurMaterials.push(this.getSeparableBlurMaterial(l[f])),this.separableBlurMaterials[f].uniforms.invSize.value=new De(1/s,1/o),s=Math.round(s/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.blurTexture4.value=this.renderTargetsVertical[3].texture,this.compositeMaterial.uniforms.blurTexture5.value=this.renderTargetsVertical[4].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;const c=[1,.8,.6,.4,.2];this.compositeMaterial.uniforms.bloomFactors.value=c,this.bloomTintColors=[new Z(1,1,1),new Z(1,1,1),new Z(1,1,1),new Z(1,1,1),new Z(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const u=PA;this.copyUniforms=Io.clone(u.uniforms),this.blendMaterial=new Cn({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:q0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new ke,this.oldClearAlpha=1,this.basic=new Jr,this.fsQuad=new Tp(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,t){let i=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(i,r);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(i,r),this.renderTargetsVertical[s].setSize(i,r),this.separableBlurMaterials[s].uniforms.invSize.value=new De(1/i,1/r),i=Math.round(i/2),r=Math.round(r/2)}render(e,t,i,r,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=i.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=Fd.BlurDirectionX,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=Fd.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(i),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}getSeparableBlurMaterial(e){const t=[];for(let i=0;i<e;i++)t.push(.39894*Math.exp(-.5*i*i/(e*e))/e);return new Cn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new De(.5,.5)},direction:{value:new De(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Cn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},blurTexture4:{value:null},blurTexture5:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform sampler2D blurTexture4;
				uniform sampler2D blurTexture5;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) +
						lerpBloomFactor(bloomFactors[3]) * vec4(bloomTintColors[3], 1.0) * texture2D(blurTexture4, vUv) +
						lerpBloomFactor(bloomFactors[4]) * vec4(bloomTintColors[4], 1.0) * texture2D(blurTexture5, vUv) );
				}`})}}Fd.BlurDirectionX=new De(1,0);Fd.BlurDirectionY=new De(0,1);const _re={uniforms:{tInput:{value:null},fStepSize:{value:1},vSunPositionScreenSpace:{value:new Z}},vertexShader:`

		varying vec2 vUv;

		void main() {

		 vUv = uv;
		 gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

	 }`};new Z,new ke(16772608),new ke(0);const bre=Object.assign({"/public/webgl/textures/blurry_silver_mirrorball.ktx2":()=>wr(()=>import("./CW9dWw2x.js"),[],import.meta.url).then(n=>n.default),"/public/webgl/textures/chrome-ring.ktx2":()=>wr(()=>import("./BtghLOON.js"),[],import.meta.url).then(n=>n.default),"/public/webgl/textures/hex-ao.ktx2":()=>wr(()=>import("./Co4du0qv.js"),[],import.meta.url).then(n=>n.default),"/public/webgl/textures/hex-normal.ktx2":()=>wr(()=>import("./uwU5EC6J.js"),[],import.meta.url).then(n=>n.default),"/public/webgl/textures/normalMapSphere.ktx2":()=>wr(()=>import("./GMIvKI3C.js"),[],import.meta.url).then(n=>n.default),"/public/webgl/textures/studio-env.ktx2":()=>wr(()=>import("./D0kBi3Rm.js"),[],import.meta.url).then(n=>n.default)});class xre{constructor(){pe(this,"gltfs",{});pe(this,"textures",{});pe(this,"ktxTextures",{});pe(this,"envMaps",{});pe(this,"hdrTextures",{});pe(this,"textureLoader",new sD);pe(this,"gltfLoader",new Gne);pe(this,"cubeTextureLoader",new NK);pe(this,"hdrTextureLoader",new cre);pe(this,"dracoLoader",new are);pe(this,"ktxLoader",new Js);pe(this,"availableKtxFiles",[]);pe(this,"setDracoLoader",()=>{this.dracoLoader.setDecoderPath("/draco/"),this.gltfLoader.setDRACOLoader(this.dracoLoader)});pe(this,"setKtxLoader",e=>{this.ktxLoader.setTranscoderPath("/basis/"),this.ktxLoader.detectSupport(e)});pe(this,"setAvailableKtxFiles",()=>{var e,t;for(const i in bre){const r=(t=(e=i.split("\\").pop())==null?void 0:e.split("/").pop())==null?void 0:t.split(".")[0];r&&this.availableKtxFiles.push(r)}});pe(this,"loadGltf",e=>(this.gltfs[e]||(this.gltfs[e]=new Promise((t,i)=>{this.gltfLoader.load(e,r=>{t(r)},void 0,r=>{i(new Error("glTF not loaded",{cause:{error:r,url:e}}))})}),Wo(this.gltfs[e])),this.gltfs[e]));pe(this,"loadTexture",(e,t,i=!1)=>{var r,s;return this.ktxLoader&&!i&&this.availableKtxFiles.includes(((s=(r=e.split("\\").pop())==null?void 0:r.split("/").pop())==null?void 0:s.split(".")[0])||"")?this.loadKtxTexture(e.substr(0,e.lastIndexOf("."))+".ktx2",t):(this.textures[e]||(this.textures[e]=new Promise((o,a)=>{this.textureLoader.load(e,l=>{var c;o((c=S.WebGL)==null?void 0:c.generateTexture(l,t))},void 0,l=>{a(new Error("Texture not loaded",{cause:{error:l,url:e}}))})}),Wo(this.textures[e])),this.textures[e])});pe(this,"loadHDR",e=>(this.hdrTextures[e]||(this.hdrTextures[e]=new Promise((t,i)=>{this.hdrTextureLoader.load(e,r=>{t(r)},void 0,r=>{console.log(r),i(new Error("Texture not loaded",{cause:{error:r,url:e}}))})}),Wo(this.hdrTextures[e])),this.hdrTextures[e]));pe(this,"loadEnvMap",(e=[])=>(this.envMaps[e[0]]||(this.envMaps[e[0]]=new Promise((t,i)=>{this.cubeTextureLoader.load(e,r=>{t(r)},void 0,i)}),Wo(this.envMaps[e[0]])),this.envMaps[e[0]]))}loadKtxTexture(e,t){return this.ktxTextures[e]||(this.ktxTextures[e]=new Promise((i,r)=>{this.ktxLoader.load(e,s=>{var o;i((o=S.WebGL)==null?void 0:o.generateTexture(s,t))},void 0,s=>{console.error(s,s==null?void 0:s.name,s==null?void 0:s.stack,s==null?void 0:s.message,s==null?void 0:s.cause,e),r(s)})}),Wo(this.ktxTextures[e])),this.ktxTextures[e]}}const S=ro({WebGL:void 0,Gui:void 0,AssetLoader:new xre,RAFCollection:new Vne,urlParams:void 0,isLowTierGPU:!1,env:"production",sceneName:"",scenes:{},webglFonts:{},breakpoints:{},window:{w:0,h:0,dpr:0},theatre:{manager:void 0,studio:void 0,studioProject:void 0,studioSheets:{},studioObjects:{},project:void 0,sheets:{},objects:{},helper:void 0,persistenceKey:"",rafDriver:void 0,updateExtensionToolbar:void 0,previewCamOpen:!1},pointer:{x:0,y:0,gl:new De,glNormalized:new De,glScreenSpace:new De},loaderHidden:!1}),Cre=so(()=>{Ao.registerPlugin(Dt),Ao.registerPlugin(Ol),Ao.registerPlugin(Cd),Ol.create("joe.in","M0,0 C0.8,0 0.8,0.5 1,1"),Ol.create("joe.out","M0,0 C0.2,0 0.1,1 1,1"),Ol.create("joe.inOut","M0,0 C0.333,0 0,1 1,1"),Ao.ticker.remove(Ao.updateRoot),S.RAFCollection.add(n=>{Ao.updateRoot(n/1e3)})}),Sre=so(()=>{}),wre=[rj,oj,tY,FY,OY,UY,NY,kY,zY,HY,Cre,Sre],Ere=window.setInterval,Tre={class:"font-mono font-500 text-16 leading-1 uppercase"},Mre=vs({__name:"Loader",setup(n){const e=gt(),t=gt(0),{isLoaded:i,progress:r}=Wo(),s=ni(()=>t.value===100&&i.value),o=gt(!0);let a=null;const l=(c,u)=>{a=Ere(()=>{t.value++,(t.value>=u||t.value===100)&&a&&clearInterval(a)},c)};return oi(s,c=>{c&&(dr.to(e.value,{autoAlpha:0}).then(()=>{e.value.classList.add("is-hidden"),S.loaderHidden=!0}),o.value=!1)},{immediate:!0}),ks(()=>{oi(r,c=>{o.value&&(a&&clearInterval(a),l(c<100?70:5,c))},{immediate:!0})}),(c,u)=>(fi(),ka("div",{ref_key:"loader",ref:e,class:"fixed inset-0 bg-background z-[1000] flex flex-col justify-center items-center p-32"},[u[0]||(u[0]=HH('<div class="flex-grow flex items-center" data-v-1b2f4e78><div class="scene" data-v-1b2f4e78><div class="cube" data-v-1b2f4e78><div class="cube__face cube__face--front" data-v-1b2f4e78><svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140" fill="none" class="cube__svg" data-v-1b2f4e78><rect width="140" height="140" fill="#090B11" data-v-1b2f4e78></rect><path d="M102.145 37.1009V65.7745H117.638V60.8146H107.478V54.0338H117.21V49.0739H107.478V42.0604H117.638V37.1006H102.145V37.1009ZM76.5386 37.1009H71.1589V55.2363C71.1589 57.0112 71.3423 58.4518 71.7087 59.5579C72.0751 60.6641 72.4939 61.5258 72.9652 62.1431C73.2795 62.5548 73.698 62.9985 74.2217 63.4743C74.7454 63.9502 75.367 64.3939 76.0869 64.8056C76.8069 65.2172 77.6314 65.5579 78.5607 65.8281C79.4901 66.0983 80.5044 66.2334 81.6039 66.2334C83.5936 66.2334 85.3278 65.8154 86.8067 64.9794C88.2858 64.1434 89.4442 63.1466 90.2819 61.989C90.9626 61.0373 91.4139 59.9632 91.6365 58.7671C91.8592 57.571 91.9705 56.3939 91.9705 55.2366V37.1012H86.5908V55.2366C86.5908 55.5967 86.5647 56.1113 86.5123 56.7801C86.4599 57.4489 86.2768 58.1177 85.9625 58.7865C85.6483 59.4553 85.1509 60.0404 84.4705 60.542C83.7898 61.0436 82.8212 61.2944 81.5647 61.2944C80.3081 61.2944 79.3395 61.0436 78.6588 60.542C77.9781 60.0404 77.4808 59.4553 77.1668 58.7865C76.8525 58.1177 76.6695 57.4489 76.6171 56.7801C76.5646 56.1113 76.5386 55.5967 76.5386 55.2366V37.1009ZM48.9602 37.1009V65.7745H63.0656V60.8146H54.2837V37.1006H48.9602V37.1009ZM56.6855 76.3264L68.847 105H62.9231L59.8237 97.5991H49.4278L46.3285 105H40.4046L52.4875 76.3264H56.6855ZM54.6649 83.896H54.5861L51.2727 92.6129H57.9782L54.6649 83.896ZM22.5994 37.1H28.2848C29.0893 37.1 29.8878 37.113 30.6795 37.1387C31.4712 37.1648 32.2435 37.2423 32.9963 37.3714C33.749 37.5007 34.476 37.7203 35.177 38.0302C35.8779 38.3403 36.5399 38.7665 37.163 39.309C37.8897 39.9547 38.4802 40.7619 38.9346 41.7306C39.3887 42.6995 39.6159 43.6746 39.6159 44.6562C39.6159 45.5604 39.4927 46.3291 39.2461 46.9619C38.9996 47.5946 38.701 48.1244 38.3505 48.5505C38 48.9767 37.6431 49.3126 37.2798 49.5579C36.9164 49.8033 36.6178 49.9908 36.3841 50.1198C36.8514 50.3006 37.377 50.5463 37.9611 50.8561C38.5452 51.1663 39.0836 51.5925 39.577 52.135C40.0703 52.6774 40.4855 53.362 40.8231 54.1886C41.1607 55.0152 41.3293 56.0356 41.3293 57.2496C41.3293 58.1022 41.2254 58.8837 41.0178 59.594C40.8102 60.3043 40.5376 60.937 40.2 61.4925C39.8628 62.0477 39.4798 62.5387 39.0514 62.9649C38.6231 63.391 38.1883 63.7594 37.7471 64.0692C37.2019 64.4566 36.5985 64.7601 35.9365 64.9797C35.2745 65.1993 34.5996 65.3671 33.9116 65.4834C33.2238 65.5997 32.5683 65.6773 31.9452 65.716C31.3844 65.7509 30.8867 65.7703 30.4523 65.7736L30.3097 65.7742H22.5994V37.1H28.2848H22.5994ZM30.7328 53.1578H27.9177V60.7277H30.6154C30.876 60.7277 31.3062 60.7086 31.9056 60.6699C32.5054 60.6311 33.1048 60.496 33.7043 60.2643C34.3037 60.0326 34.8382 59.6591 35.3073 59.1442C35.7764 58.629 36.011 57.9081 36.011 56.9812C36.011 56.698 35.9589 56.3376 35.8546 55.8999C35.7504 55.4622 35.5094 55.0439 35.1313 54.6447C34.7532 54.2455 34.2191 53.8981 33.5283 53.6019C32.8375 53.3059 31.9056 53.1578 30.7328 53.1578ZM30.1009 42.1471H27.9177V48.3406H29.6416C29.9479 48.3406 30.3563 48.3276 30.8671 48.3018C31.378 48.2761 31.8759 48.1665 32.361 47.9729C32.846 47.7794 33.2673 47.4698 33.6249 47.0439C33.9824 46.6181 34.1611 46.018 34.1611 45.2438C34.1611 44.3921 33.861 43.663 33.2609 43.0567C32.6609 42.4503 31.6076 42.1471 30.1009 42.1471ZM28.3547 94.4218V105H33.6853V94.4218L43.1795 76.3264H37.304L31.0005 89.5007L24.7359 76.3264H18.8994L28.3547 94.4218ZM105.216 76.327C106.98 76.327 108.511 76.4303 109.809 76.6368C111.107 76.8434 112.223 77.1145 113.157 77.4504C114.091 77.7863 114.87 78.148 115.493 78.5354C116.116 78.9228 116.635 79.2974 117.05 79.6591C117.725 80.2531 118.354 80.9506 118.938 81.7515C119.522 82.5523 120.028 83.4304 120.456 84.3863C120.884 85.342 121.215 86.3624 121.449 87.4474C121.683 88.5323 121.799 89.6303 121.799 90.741C121.799 92.0326 121.637 93.2983 121.313 94.5384C120.988 95.7781 120.528 96.9406 119.931 98.0256C119.334 99.1105 118.607 100.092 117.751 100.97C116.894 101.849 115.947 102.572 114.909 103.14C114.234 103.502 113.514 103.805 112.749 104.051C111.983 104.296 111.185 104.49 110.355 104.632C109.524 104.774 108.681 104.871 107.824 104.922C106.968 104.974 106.138 105 105.333 105H98.6763L98.6759 76.327H105.216ZM105.009 81.3729H103.995V100.183H105.126C105.855 100.183 106.525 100.164 107.136 100.125C107.747 100.086 108.326 100.021 108.872 99.9305C109.418 99.8399 109.958 99.7039 110.492 99.5225C111.025 99.3411 111.578 99.0948 112.15 98.784C112.853 98.3951 113.477 97.9096 114.023 97.3265C114.569 96.7437 115.025 96.1025 115.389 95.4028C115.753 94.7032 116.026 93.9647 116.209 93.1875C116.391 92.4103 116.482 91.633 116.482 90.8558C116.482 89.4568 116.202 88.1355 115.643 86.8919C115.083 85.6482 114.335 84.6117 113.399 83.7827C112.28 82.7722 111.025 82.118 109.633 81.8199C108.242 81.5219 106.7 81.3729 105.009 81.3729ZM98.6763 76.3264L98.6759 76.327H98.6756L98.6763 76.3264ZM81.683 76.3261C83.3572 76.3261 84.7431 76.4811 85.8417 76.791C86.94 77.1009 87.9077 77.5919 88.7448 78.2634C89.163 78.5993 89.5751 78.9933 89.9805 79.4453C90.3861 79.8972 90.7523 80.4139 91.0791 80.9952C91.406 81.5764 91.6675 82.2155 91.8638 82.9131C92.06 83.6106 92.1581 84.3727 92.1581 85.1993C92.1581 85.6642 92.1124 86.1937 92.0208 86.788C91.9294 87.3823 91.7724 87.9892 91.5501 88.6093C91.3278 89.2293 91.0402 89.8363 90.687 90.4306C90.334 91.0248 89.8959 91.5673 89.3728 92.058C88.5096 92.8846 87.6726 93.4401 86.8619 93.7242C86.0511 94.0083 85.2794 94.2409 84.5472 94.4218L92.4328 105H85.9202L78.2308 94.0344H78.1523V105H72.7775V76.3261H81.683ZM81.5181 81.3729H78.0959V90.0898H81.5181C82.6072 90.0898 83.4887 89.929 84.1627 89.6076C84.8369 89.2862 85.3619 88.9006 85.7378 88.4505C86.1137 88.0005 86.3599 87.5246 86.4767 87.0233C86.5936 86.522 86.6518 86.0783 86.6518 85.6927C86.6518 85.3071 86.5804 84.8634 86.4378 84.3621C86.2952 83.8605 86.0294 83.385 85.6406 82.9349C85.2515 82.4848 84.7265 82.1119 84.0655 81.8163C83.4041 81.5207 82.5551 81.3729 81.5181 81.3729Z" fill="white" data-v-1b2f4e78></path></svg></div><div class="cube__face cube__face--back" data-v-1b2f4e78><svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140" fill="none" class="cube__svg" data-v-1b2f4e78><rect width="140" height="140" fill="#090B11" data-v-1b2f4e78></rect><path d="M102.145 37.1009V65.7745H117.638V60.8146H107.478V54.0338H117.21V49.0739H107.478V42.0604H117.638V37.1006H102.145V37.1009ZM76.5386 37.1009H71.1589V55.2363C71.1589 57.0112 71.3423 58.4518 71.7087 59.5579C72.0751 60.6641 72.4939 61.5258 72.9652 62.1431C73.2795 62.5548 73.698 62.9985 74.2217 63.4743C74.7454 63.9502 75.367 64.3939 76.0869 64.8056C76.8069 65.2172 77.6314 65.5579 78.5607 65.8281C79.4901 66.0983 80.5044 66.2334 81.6039 66.2334C83.5936 66.2334 85.3278 65.8154 86.8067 64.9794C88.2858 64.1434 89.4442 63.1466 90.2819 61.989C90.9626 61.0373 91.4139 59.9632 91.6365 58.7671C91.8592 57.571 91.9705 56.3939 91.9705 55.2366V37.1012H86.5908V55.2366C86.5908 55.5967 86.5647 56.1113 86.5123 56.7801C86.4599 57.4489 86.2768 58.1177 85.9625 58.7865C85.6483 59.4553 85.1509 60.0404 84.4705 60.542C83.7898 61.0436 82.8212 61.2944 81.5647 61.2944C80.3081 61.2944 79.3395 61.0436 78.6588 60.542C77.9781 60.0404 77.4808 59.4553 77.1668 58.7865C76.8525 58.1177 76.6695 57.4489 76.6171 56.7801C76.5646 56.1113 76.5386 55.5967 76.5386 55.2366V37.1009ZM48.9602 37.1009V65.7745H63.0656V60.8146H54.2837V37.1006H48.9602V37.1009ZM56.6855 76.3264L68.847 105H62.9231L59.8237 97.5991H49.4278L46.3285 105H40.4046L52.4875 76.3264H56.6855ZM54.6649 83.896H54.5861L51.2727 92.6129H57.9782L54.6649 83.896ZM22.5994 37.1H28.2848C29.0893 37.1 29.8878 37.113 30.6795 37.1387C31.4712 37.1648 32.2435 37.2423 32.9963 37.3714C33.749 37.5007 34.476 37.7203 35.177 38.0302C35.8779 38.3403 36.5399 38.7665 37.163 39.309C37.8897 39.9547 38.4802 40.7619 38.9346 41.7306C39.3887 42.6995 39.6159 43.6746 39.6159 44.6562C39.6159 45.5604 39.4927 46.3291 39.2461 46.9619C38.9996 47.5946 38.701 48.1244 38.3505 48.5505C38 48.9767 37.6431 49.3126 37.2798 49.5579C36.9164 49.8033 36.6178 49.9908 36.3841 50.1198C36.8514 50.3006 37.377 50.5463 37.9611 50.8561C38.5452 51.1663 39.0836 51.5925 39.577 52.135C40.0703 52.6774 40.4855 53.362 40.8231 54.1886C41.1607 55.0152 41.3293 56.0356 41.3293 57.2496C41.3293 58.1022 41.2254 58.8837 41.0178 59.594C40.8102 60.3043 40.5376 60.937 40.2 61.4925C39.8628 62.0477 39.4798 62.5387 39.0514 62.9649C38.6231 63.391 38.1883 63.7594 37.7471 64.0692C37.2019 64.4566 36.5985 64.7601 35.9365 64.9797C35.2745 65.1993 34.5996 65.3671 33.9116 65.4834C33.2238 65.5997 32.5683 65.6773 31.9452 65.716C31.3844 65.7509 30.8867 65.7703 30.4523 65.7736L30.3097 65.7742H22.5994V37.1H28.2848H22.5994ZM30.7328 53.1578H27.9177V60.7277H30.6154C30.876 60.7277 31.3062 60.7086 31.9056 60.6699C32.5054 60.6311 33.1048 60.496 33.7043 60.2643C34.3037 60.0326 34.8382 59.6591 35.3073 59.1442C35.7764 58.629 36.011 57.9081 36.011 56.9812C36.011 56.698 35.9589 56.3376 35.8546 55.8999C35.7504 55.4622 35.5094 55.0439 35.1313 54.6447C34.7532 54.2455 34.2191 53.8981 33.5283 53.6019C32.8375 53.3059 31.9056 53.1578 30.7328 53.1578ZM30.1009 42.1471H27.9177V48.3406H29.6416C29.9479 48.3406 30.3563 48.3276 30.8671 48.3018C31.378 48.2761 31.8759 48.1665 32.361 47.9729C32.846 47.7794 33.2673 47.4698 33.6249 47.0439C33.9824 46.6181 34.1611 46.018 34.1611 45.2438C34.1611 44.3921 33.861 43.663 33.2609 43.0567C32.6609 42.4503 31.6076 42.1471 30.1009 42.1471ZM28.3547 94.4218V105H33.6853V94.4218L43.1795 76.3264H37.304L31.0005 89.5007L24.7359 76.3264H18.8994L28.3547 94.4218ZM105.216 76.327C106.98 76.327 108.511 76.4303 109.809 76.6368C111.107 76.8434 112.223 77.1145 113.157 77.4504C114.091 77.7863 114.87 78.148 115.493 78.5354C116.116 78.9228 116.635 79.2974 117.05 79.6591C117.725 80.2531 118.354 80.9506 118.938 81.7515C119.522 82.5523 120.028 83.4304 120.456 84.3863C120.884 85.342 121.215 86.3624 121.449 87.4474C121.683 88.5323 121.799 89.6303 121.799 90.741C121.799 92.0326 121.637 93.2983 121.313 94.5384C120.988 95.7781 120.528 96.9406 119.931 98.0256C119.334 99.1105 118.607 100.092 117.751 100.97C116.894 101.849 115.947 102.572 114.909 103.14C114.234 103.502 113.514 103.805 112.749 104.051C111.983 104.296 111.185 104.49 110.355 104.632C109.524 104.774 108.681 104.871 107.824 104.922C106.968 104.974 106.138 105 105.333 105H98.6763L98.6759 76.327H105.216ZM105.009 81.3729H103.995V100.183H105.126C105.855 100.183 106.525 100.164 107.136 100.125C107.747 100.086 108.326 100.021 108.872 99.9305C109.418 99.8399 109.958 99.7039 110.492 99.5225C111.025 99.3411 111.578 99.0948 112.15 98.784C112.853 98.3951 113.477 97.9096 114.023 97.3265C114.569 96.7437 115.025 96.1025 115.389 95.4028C115.753 94.7032 116.026 93.9647 116.209 93.1875C116.391 92.4103 116.482 91.633 116.482 90.8558C116.482 89.4568 116.202 88.1355 115.643 86.8919C115.083 85.6482 114.335 84.6117 113.399 83.7827C112.28 82.7722 111.025 82.118 109.633 81.8199C108.242 81.5219 106.7 81.3729 105.009 81.3729ZM98.6763 76.3264L98.6759 76.327H98.6756L98.6763 76.3264ZM81.683 76.3261C83.3572 76.3261 84.7431 76.4811 85.8417 76.791C86.94 77.1009 87.9077 77.5919 88.7448 78.2634C89.163 78.5993 89.5751 78.9933 89.9805 79.4453C90.3861 79.8972 90.7523 80.4139 91.0791 80.9952C91.406 81.5764 91.6675 82.2155 91.8638 82.9131C92.06 83.6106 92.1581 84.3727 92.1581 85.1993C92.1581 85.6642 92.1124 86.1937 92.0208 86.788C91.9294 87.3823 91.7724 87.9892 91.5501 88.6093C91.3278 89.2293 91.0402 89.8363 90.687 90.4306C90.334 91.0248 89.8959 91.5673 89.3728 92.058C88.5096 92.8846 87.6726 93.4401 86.8619 93.7242C86.0511 94.0083 85.2794 94.2409 84.5472 94.4218L92.4328 105H85.9202L78.2308 94.0344H78.1523V105H72.7775V76.3261H81.683ZM81.5181 81.3729H78.0959V90.0898H81.5181C82.6072 90.0898 83.4887 89.929 84.1627 89.6076C84.8369 89.2862 85.3619 88.9006 85.7378 88.4505C86.1137 88.0005 86.3599 87.5246 86.4767 87.0233C86.5936 86.522 86.6518 86.0783 86.6518 85.6927C86.6518 85.3071 86.5804 84.8634 86.4378 84.3621C86.2952 83.8605 86.0294 83.385 85.6406 82.9349C85.2515 82.4848 84.7265 82.1119 84.0655 81.8163C83.4041 81.5207 82.5551 81.3729 81.5181 81.3729Z" fill="white" data-v-1b2f4e78></path></svg></div><div class="cube__face cube__face--right" data-v-1b2f4e78><svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140" fill="none" class="cube__svg" data-v-1b2f4e78><rect width="140" height="140" fill="#090B11" data-v-1b2f4e78></rect><path d="M102.145 37.1009V65.7745H117.638V60.8146H107.478V54.0338H117.21V49.0739H107.478V42.0604H117.638V37.1006H102.145V37.1009ZM76.5386 37.1009H71.1589V55.2363C71.1589 57.0112 71.3423 58.4518 71.7087 59.5579C72.0751 60.6641 72.4939 61.5258 72.9652 62.1431C73.2795 62.5548 73.698 62.9985 74.2217 63.4743C74.7454 63.9502 75.367 64.3939 76.0869 64.8056C76.8069 65.2172 77.6314 65.5579 78.5607 65.8281C79.4901 66.0983 80.5044 66.2334 81.6039 66.2334C83.5936 66.2334 85.3278 65.8154 86.8067 64.9794C88.2858 64.1434 89.4442 63.1466 90.2819 61.989C90.9626 61.0373 91.4139 59.9632 91.6365 58.7671C91.8592 57.571 91.9705 56.3939 91.9705 55.2366V37.1012H86.5908V55.2366C86.5908 55.5967 86.5647 56.1113 86.5123 56.7801C86.4599 57.4489 86.2768 58.1177 85.9625 58.7865C85.6483 59.4553 85.1509 60.0404 84.4705 60.542C83.7898 61.0436 82.8212 61.2944 81.5647 61.2944C80.3081 61.2944 79.3395 61.0436 78.6588 60.542C77.9781 60.0404 77.4808 59.4553 77.1668 58.7865C76.8525 58.1177 76.6695 57.4489 76.6171 56.7801C76.5646 56.1113 76.5386 55.5967 76.5386 55.2366V37.1009ZM48.9602 37.1009V65.7745H63.0656V60.8146H54.2837V37.1006H48.9602V37.1009ZM56.6855 76.3264L68.847 105H62.9231L59.8237 97.5991H49.4278L46.3285 105H40.4046L52.4875 76.3264H56.6855ZM54.6649 83.896H54.5861L51.2727 92.6129H57.9782L54.6649 83.896ZM22.5994 37.1H28.2848C29.0893 37.1 29.8878 37.113 30.6795 37.1387C31.4712 37.1648 32.2435 37.2423 32.9963 37.3714C33.749 37.5007 34.476 37.7203 35.177 38.0302C35.8779 38.3403 36.5399 38.7665 37.163 39.309C37.8897 39.9547 38.4802 40.7619 38.9346 41.7306C39.3887 42.6995 39.6159 43.6746 39.6159 44.6562C39.6159 45.5604 39.4927 46.3291 39.2461 46.9619C38.9996 47.5946 38.701 48.1244 38.3505 48.5505C38 48.9767 37.6431 49.3126 37.2798 49.5579C36.9164 49.8033 36.6178 49.9908 36.3841 50.1198C36.8514 50.3006 37.377 50.5463 37.9611 50.8561C38.5452 51.1663 39.0836 51.5925 39.577 52.135C40.0703 52.6774 40.4855 53.362 40.8231 54.1886C41.1607 55.0152 41.3293 56.0356 41.3293 57.2496C41.3293 58.1022 41.2254 58.8837 41.0178 59.594C40.8102 60.3043 40.5376 60.937 40.2 61.4925C39.8628 62.0477 39.4798 62.5387 39.0514 62.9649C38.6231 63.391 38.1883 63.7594 37.7471 64.0692C37.2019 64.4566 36.5985 64.7601 35.9365 64.9797C35.2745 65.1993 34.5996 65.3671 33.9116 65.4834C33.2238 65.5997 32.5683 65.6773 31.9452 65.716C31.3844 65.7509 30.8867 65.7703 30.4523 65.7736L30.3097 65.7742H22.5994V37.1H28.2848H22.5994ZM30.7328 53.1578H27.9177V60.7277H30.6154C30.876 60.7277 31.3062 60.7086 31.9056 60.6699C32.5054 60.6311 33.1048 60.496 33.7043 60.2643C34.3037 60.0326 34.8382 59.6591 35.3073 59.1442C35.7764 58.629 36.011 57.9081 36.011 56.9812C36.011 56.698 35.9589 56.3376 35.8546 55.8999C35.7504 55.4622 35.5094 55.0439 35.1313 54.6447C34.7532 54.2455 34.2191 53.8981 33.5283 53.6019C32.8375 53.3059 31.9056 53.1578 30.7328 53.1578ZM30.1009 42.1471H27.9177V48.3406H29.6416C29.9479 48.3406 30.3563 48.3276 30.8671 48.3018C31.378 48.2761 31.8759 48.1665 32.361 47.9729C32.846 47.7794 33.2673 47.4698 33.6249 47.0439C33.9824 46.6181 34.1611 46.018 34.1611 45.2438C34.1611 44.3921 33.861 43.663 33.2609 43.0567C32.6609 42.4503 31.6076 42.1471 30.1009 42.1471ZM28.3547 94.4218V105H33.6853V94.4218L43.1795 76.3264H37.304L31.0005 89.5007L24.7359 76.3264H18.8994L28.3547 94.4218ZM105.216 76.327C106.98 76.327 108.511 76.4303 109.809 76.6368C111.107 76.8434 112.223 77.1145 113.157 77.4504C114.091 77.7863 114.87 78.148 115.493 78.5354C116.116 78.9228 116.635 79.2974 117.05 79.6591C117.725 80.2531 118.354 80.9506 118.938 81.7515C119.522 82.5523 120.028 83.4304 120.456 84.3863C120.884 85.342 121.215 86.3624 121.449 87.4474C121.683 88.5323 121.799 89.6303 121.799 90.741C121.799 92.0326 121.637 93.2983 121.313 94.5384C120.988 95.7781 120.528 96.9406 119.931 98.0256C119.334 99.1105 118.607 100.092 117.751 100.97C116.894 101.849 115.947 102.572 114.909 103.14C114.234 103.502 113.514 103.805 112.749 104.051C111.983 104.296 111.185 104.49 110.355 104.632C109.524 104.774 108.681 104.871 107.824 104.922C106.968 104.974 106.138 105 105.333 105H98.6763L98.6759 76.327H105.216ZM105.009 81.3729H103.995V100.183H105.126C105.855 100.183 106.525 100.164 107.136 100.125C107.747 100.086 108.326 100.021 108.872 99.9305C109.418 99.8399 109.958 99.7039 110.492 99.5225C111.025 99.3411 111.578 99.0948 112.15 98.784C112.853 98.3951 113.477 97.9096 114.023 97.3265C114.569 96.7437 115.025 96.1025 115.389 95.4028C115.753 94.7032 116.026 93.9647 116.209 93.1875C116.391 92.4103 116.482 91.633 116.482 90.8558C116.482 89.4568 116.202 88.1355 115.643 86.8919C115.083 85.6482 114.335 84.6117 113.399 83.7827C112.28 82.7722 111.025 82.118 109.633 81.8199C108.242 81.5219 106.7 81.3729 105.009 81.3729ZM98.6763 76.3264L98.6759 76.327H98.6756L98.6763 76.3264ZM81.683 76.3261C83.3572 76.3261 84.7431 76.4811 85.8417 76.791C86.94 77.1009 87.9077 77.5919 88.7448 78.2634C89.163 78.5993 89.5751 78.9933 89.9805 79.4453C90.3861 79.8972 90.7523 80.4139 91.0791 80.9952C91.406 81.5764 91.6675 82.2155 91.8638 82.9131C92.06 83.6106 92.1581 84.3727 92.1581 85.1993C92.1581 85.6642 92.1124 86.1937 92.0208 86.788C91.9294 87.3823 91.7724 87.9892 91.5501 88.6093C91.3278 89.2293 91.0402 89.8363 90.687 90.4306C90.334 91.0248 89.8959 91.5673 89.3728 92.058C88.5096 92.8846 87.6726 93.4401 86.8619 93.7242C86.0511 94.0083 85.2794 94.2409 84.5472 94.4218L92.4328 105H85.9202L78.2308 94.0344H78.1523V105H72.7775V76.3261H81.683ZM81.5181 81.3729H78.0959V90.0898H81.5181C82.6072 90.0898 83.4887 89.929 84.1627 89.6076C84.8369 89.2862 85.3619 88.9006 85.7378 88.4505C86.1137 88.0005 86.3599 87.5246 86.4767 87.0233C86.5936 86.522 86.6518 86.0783 86.6518 85.6927C86.6518 85.3071 86.5804 84.8634 86.4378 84.3621C86.2952 83.8605 86.0294 83.385 85.6406 82.9349C85.2515 82.4848 84.7265 82.1119 84.0655 81.8163C83.4041 81.5207 82.5551 81.3729 81.5181 81.3729Z" fill="white" data-v-1b2f4e78></path></svg></div><div class="cube__face cube__face--left" data-v-1b2f4e78><svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140" fill="none" class="cube__svg" data-v-1b2f4e78><rect width="140" height="140" fill="#090B11" data-v-1b2f4e78></rect><path d="M102.145 37.1009V65.7745H117.638V60.8146H107.478V54.0338H117.21V49.0739H107.478V42.0604H117.638V37.1006H102.145V37.1009ZM76.5386 37.1009H71.1589V55.2363C71.1589 57.0112 71.3423 58.4518 71.7087 59.5579C72.0751 60.6641 72.4939 61.5258 72.9652 62.1431C73.2795 62.5548 73.698 62.9985 74.2217 63.4743C74.7454 63.9502 75.367 64.3939 76.0869 64.8056C76.8069 65.2172 77.6314 65.5579 78.5607 65.8281C79.4901 66.0983 80.5044 66.2334 81.6039 66.2334C83.5936 66.2334 85.3278 65.8154 86.8067 64.9794C88.2858 64.1434 89.4442 63.1466 90.2819 61.989C90.9626 61.0373 91.4139 59.9632 91.6365 58.7671C91.8592 57.571 91.9705 56.3939 91.9705 55.2366V37.1012H86.5908V55.2366C86.5908 55.5967 86.5647 56.1113 86.5123 56.7801C86.4599 57.4489 86.2768 58.1177 85.9625 58.7865C85.6483 59.4553 85.1509 60.0404 84.4705 60.542C83.7898 61.0436 82.8212 61.2944 81.5647 61.2944C80.3081 61.2944 79.3395 61.0436 78.6588 60.542C77.9781 60.0404 77.4808 59.4553 77.1668 58.7865C76.8525 58.1177 76.6695 57.4489 76.6171 56.7801C76.5646 56.1113 76.5386 55.5967 76.5386 55.2366V37.1009ZM48.9602 37.1009V65.7745H63.0656V60.8146H54.2837V37.1006H48.9602V37.1009ZM56.6855 76.3264L68.847 105H62.9231L59.8237 97.5991H49.4278L46.3285 105H40.4046L52.4875 76.3264H56.6855ZM54.6649 83.896H54.5861L51.2727 92.6129H57.9782L54.6649 83.896ZM22.5994 37.1H28.2848C29.0893 37.1 29.8878 37.113 30.6795 37.1387C31.4712 37.1648 32.2435 37.2423 32.9963 37.3714C33.749 37.5007 34.476 37.7203 35.177 38.0302C35.8779 38.3403 36.5399 38.7665 37.163 39.309C37.8897 39.9547 38.4802 40.7619 38.9346 41.7306C39.3887 42.6995 39.6159 43.6746 39.6159 44.6562C39.6159 45.5604 39.4927 46.3291 39.2461 46.9619C38.9996 47.5946 38.701 48.1244 38.3505 48.5505C38 48.9767 37.6431 49.3126 37.2798 49.5579C36.9164 49.8033 36.6178 49.9908 36.3841 50.1198C36.8514 50.3006 37.377 50.5463 37.9611 50.8561C38.5452 51.1663 39.0836 51.5925 39.577 52.135C40.0703 52.6774 40.4855 53.362 40.8231 54.1886C41.1607 55.0152 41.3293 56.0356 41.3293 57.2496C41.3293 58.1022 41.2254 58.8837 41.0178 59.594C40.8102 60.3043 40.5376 60.937 40.2 61.4925C39.8628 62.0477 39.4798 62.5387 39.0514 62.9649C38.6231 63.391 38.1883 63.7594 37.7471 64.0692C37.2019 64.4566 36.5985 64.7601 35.9365 64.9797C35.2745 65.1993 34.5996 65.3671 33.9116 65.4834C33.2238 65.5997 32.5683 65.6773 31.9452 65.716C31.3844 65.7509 30.8867 65.7703 30.4523 65.7736L30.3097 65.7742H22.5994V37.1H28.2848H22.5994ZM30.7328 53.1578H27.9177V60.7277H30.6154C30.876 60.7277 31.3062 60.7086 31.9056 60.6699C32.5054 60.6311 33.1048 60.496 33.7043 60.2643C34.3037 60.0326 34.8382 59.6591 35.3073 59.1442C35.7764 58.629 36.011 57.9081 36.011 56.9812C36.011 56.698 35.9589 56.3376 35.8546 55.8999C35.7504 55.4622 35.5094 55.0439 35.1313 54.6447C34.7532 54.2455 34.2191 53.8981 33.5283 53.6019C32.8375 53.3059 31.9056 53.1578 30.7328 53.1578ZM30.1009 42.1471H27.9177V48.3406H29.6416C29.9479 48.3406 30.3563 48.3276 30.8671 48.3018C31.378 48.2761 31.8759 48.1665 32.361 47.9729C32.846 47.7794 33.2673 47.4698 33.6249 47.0439C33.9824 46.6181 34.1611 46.018 34.1611 45.2438C34.1611 44.3921 33.861 43.663 33.2609 43.0567C32.6609 42.4503 31.6076 42.1471 30.1009 42.1471ZM28.3547 94.4218V105H33.6853V94.4218L43.1795 76.3264H37.304L31.0005 89.5007L24.7359 76.3264H18.8994L28.3547 94.4218ZM105.216 76.327C106.98 76.327 108.511 76.4303 109.809 76.6368C111.107 76.8434 112.223 77.1145 113.157 77.4504C114.091 77.7863 114.87 78.148 115.493 78.5354C116.116 78.9228 116.635 79.2974 117.05 79.6591C117.725 80.2531 118.354 80.9506 118.938 81.7515C119.522 82.5523 120.028 83.4304 120.456 84.3863C120.884 85.342 121.215 86.3624 121.449 87.4474C121.683 88.5323 121.799 89.6303 121.799 90.741C121.799 92.0326 121.637 93.2983 121.313 94.5384C120.988 95.7781 120.528 96.9406 119.931 98.0256C119.334 99.1105 118.607 100.092 117.751 100.97C116.894 101.849 115.947 102.572 114.909 103.14C114.234 103.502 113.514 103.805 112.749 104.051C111.983 104.296 111.185 104.49 110.355 104.632C109.524 104.774 108.681 104.871 107.824 104.922C106.968 104.974 106.138 105 105.333 105H98.6763L98.6759 76.327H105.216ZM105.009 81.3729H103.995V100.183H105.126C105.855 100.183 106.525 100.164 107.136 100.125C107.747 100.086 108.326 100.021 108.872 99.9305C109.418 99.8399 109.958 99.7039 110.492 99.5225C111.025 99.3411 111.578 99.0948 112.15 98.784C112.853 98.3951 113.477 97.9096 114.023 97.3265C114.569 96.7437 115.025 96.1025 115.389 95.4028C115.753 94.7032 116.026 93.9647 116.209 93.1875C116.391 92.4103 116.482 91.633 116.482 90.8558C116.482 89.4568 116.202 88.1355 115.643 86.8919C115.083 85.6482 114.335 84.6117 113.399 83.7827C112.28 82.7722 111.025 82.118 109.633 81.8199C108.242 81.5219 106.7 81.3729 105.009 81.3729ZM98.6763 76.3264L98.6759 76.327H98.6756L98.6763 76.3264ZM81.683 76.3261C83.3572 76.3261 84.7431 76.4811 85.8417 76.791C86.94 77.1009 87.9077 77.5919 88.7448 78.2634C89.163 78.5993 89.5751 78.9933 89.9805 79.4453C90.3861 79.8972 90.7523 80.4139 91.0791 80.9952C91.406 81.5764 91.6675 82.2155 91.8638 82.9131C92.06 83.6106 92.1581 84.3727 92.1581 85.1993C92.1581 85.6642 92.1124 86.1937 92.0208 86.788C91.9294 87.3823 91.7724 87.9892 91.5501 88.6093C91.3278 89.2293 91.0402 89.8363 90.687 90.4306C90.334 91.0248 89.8959 91.5673 89.3728 92.058C88.5096 92.8846 87.6726 93.4401 86.8619 93.7242C86.0511 94.0083 85.2794 94.2409 84.5472 94.4218L92.4328 105H85.9202L78.2308 94.0344H78.1523V105H72.7775V76.3261H81.683ZM81.5181 81.3729H78.0959V90.0898H81.5181C82.6072 90.0898 83.4887 89.929 84.1627 89.6076C84.8369 89.2862 85.3619 88.9006 85.7378 88.4505C86.1137 88.0005 86.3599 87.5246 86.4767 87.0233C86.5936 86.522 86.6518 86.0783 86.6518 85.6927C86.6518 85.3071 86.5804 84.8634 86.4378 84.3621C86.2952 83.8605 86.0294 83.385 85.6406 82.9349C85.2515 82.4848 84.7265 82.1119 84.0655 81.8163C83.4041 81.5207 82.5551 81.3729 81.5181 81.3729Z" fill="white" data-v-1b2f4e78></path></svg></div><div class="cube__face cube__face--top" data-v-1b2f4e78><svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140" fill="none" class="cube__svg" data-v-1b2f4e78><rect width="140" height="140" fill="#090B11" data-v-1b2f4e78></rect><path d="M102.145 37.1009V65.7745H117.638V60.8146H107.478V54.0338H117.21V49.0739H107.478V42.0604H117.638V37.1006H102.145V37.1009ZM76.5386 37.1009H71.1589V55.2363C71.1589 57.0112 71.3423 58.4518 71.7087 59.5579C72.0751 60.6641 72.4939 61.5258 72.9652 62.1431C73.2795 62.5548 73.698 62.9985 74.2217 63.4743C74.7454 63.9502 75.367 64.3939 76.0869 64.8056C76.8069 65.2172 77.6314 65.5579 78.5607 65.8281C79.4901 66.0983 80.5044 66.2334 81.6039 66.2334C83.5936 66.2334 85.3278 65.8154 86.8067 64.9794C88.2858 64.1434 89.4442 63.1466 90.2819 61.989C90.9626 61.0373 91.4139 59.9632 91.6365 58.7671C91.8592 57.571 91.9705 56.3939 91.9705 55.2366V37.1012H86.5908V55.2366C86.5908 55.5967 86.5647 56.1113 86.5123 56.7801C86.4599 57.4489 86.2768 58.1177 85.9625 58.7865C85.6483 59.4553 85.1509 60.0404 84.4705 60.542C83.7898 61.0436 82.8212 61.2944 81.5647 61.2944C80.3081 61.2944 79.3395 61.0436 78.6588 60.542C77.9781 60.0404 77.4808 59.4553 77.1668 58.7865C76.8525 58.1177 76.6695 57.4489 76.6171 56.7801C76.5646 56.1113 76.5386 55.5967 76.5386 55.2366V37.1009ZM48.9602 37.1009V65.7745H63.0656V60.8146H54.2837V37.1006H48.9602V37.1009ZM56.6855 76.3264L68.847 105H62.9231L59.8237 97.5991H49.4278L46.3285 105H40.4046L52.4875 76.3264H56.6855ZM54.6649 83.896H54.5861L51.2727 92.6129H57.9782L54.6649 83.896ZM22.5994 37.1H28.2848C29.0893 37.1 29.8878 37.113 30.6795 37.1387C31.4712 37.1648 32.2435 37.2423 32.9963 37.3714C33.749 37.5007 34.476 37.7203 35.177 38.0302C35.8779 38.3403 36.5399 38.7665 37.163 39.309C37.8897 39.9547 38.4802 40.7619 38.9346 41.7306C39.3887 42.6995 39.6159 43.6746 39.6159 44.6562C39.6159 45.5604 39.4927 46.3291 39.2461 46.9619C38.9996 47.5946 38.701 48.1244 38.3505 48.5505C38 48.9767 37.6431 49.3126 37.2798 49.5579C36.9164 49.8033 36.6178 49.9908 36.3841 50.1198C36.8514 50.3006 37.377 50.5463 37.9611 50.8561C38.5452 51.1663 39.0836 51.5925 39.577 52.135C40.0703 52.6774 40.4855 53.362 40.8231 54.1886C41.1607 55.0152 41.3293 56.0356 41.3293 57.2496C41.3293 58.1022 41.2254 58.8837 41.0178 59.594C40.8102 60.3043 40.5376 60.937 40.2 61.4925C39.8628 62.0477 39.4798 62.5387 39.0514 62.9649C38.6231 63.391 38.1883 63.7594 37.7471 64.0692C37.2019 64.4566 36.5985 64.7601 35.9365 64.9797C35.2745 65.1993 34.5996 65.3671 33.9116 65.4834C33.2238 65.5997 32.5683 65.6773 31.9452 65.716C31.3844 65.7509 30.8867 65.7703 30.4523 65.7736L30.3097 65.7742H22.5994V37.1H28.2848H22.5994ZM30.7328 53.1578H27.9177V60.7277H30.6154C30.876 60.7277 31.3062 60.7086 31.9056 60.6699C32.5054 60.6311 33.1048 60.496 33.7043 60.2643C34.3037 60.0326 34.8382 59.6591 35.3073 59.1442C35.7764 58.629 36.011 57.9081 36.011 56.9812C36.011 56.698 35.9589 56.3376 35.8546 55.8999C35.7504 55.4622 35.5094 55.0439 35.1313 54.6447C34.7532 54.2455 34.2191 53.8981 33.5283 53.6019C32.8375 53.3059 31.9056 53.1578 30.7328 53.1578ZM30.1009 42.1471H27.9177V48.3406H29.6416C29.9479 48.3406 30.3563 48.3276 30.8671 48.3018C31.378 48.2761 31.8759 48.1665 32.361 47.9729C32.846 47.7794 33.2673 47.4698 33.6249 47.0439C33.9824 46.6181 34.1611 46.018 34.1611 45.2438C34.1611 44.3921 33.861 43.663 33.2609 43.0567C32.6609 42.4503 31.6076 42.1471 30.1009 42.1471ZM28.3547 94.4218V105H33.6853V94.4218L43.1795 76.3264H37.304L31.0005 89.5007L24.7359 76.3264H18.8994L28.3547 94.4218ZM105.216 76.327C106.98 76.327 108.511 76.4303 109.809 76.6368C111.107 76.8434 112.223 77.1145 113.157 77.4504C114.091 77.7863 114.87 78.148 115.493 78.5354C116.116 78.9228 116.635 79.2974 117.05 79.6591C117.725 80.2531 118.354 80.9506 118.938 81.7515C119.522 82.5523 120.028 83.4304 120.456 84.3863C120.884 85.342 121.215 86.3624 121.449 87.4474C121.683 88.5323 121.799 89.6303 121.799 90.741C121.799 92.0326 121.637 93.2983 121.313 94.5384C120.988 95.7781 120.528 96.9406 119.931 98.0256C119.334 99.1105 118.607 100.092 117.751 100.97C116.894 101.849 115.947 102.572 114.909 103.14C114.234 103.502 113.514 103.805 112.749 104.051C111.983 104.296 111.185 104.49 110.355 104.632C109.524 104.774 108.681 104.871 107.824 104.922C106.968 104.974 106.138 105 105.333 105H98.6763L98.6759 76.327H105.216ZM105.009 81.3729H103.995V100.183H105.126C105.855 100.183 106.525 100.164 107.136 100.125C107.747 100.086 108.326 100.021 108.872 99.9305C109.418 99.8399 109.958 99.7039 110.492 99.5225C111.025 99.3411 111.578 99.0948 112.15 98.784C112.853 98.3951 113.477 97.9096 114.023 97.3265C114.569 96.7437 115.025 96.1025 115.389 95.4028C115.753 94.7032 116.026 93.9647 116.209 93.1875C116.391 92.4103 116.482 91.633 116.482 90.8558C116.482 89.4568 116.202 88.1355 115.643 86.8919C115.083 85.6482 114.335 84.6117 113.399 83.7827C112.28 82.7722 111.025 82.118 109.633 81.8199C108.242 81.5219 106.7 81.3729 105.009 81.3729ZM98.6763 76.3264L98.6759 76.327H98.6756L98.6763 76.3264ZM81.683 76.3261C83.3572 76.3261 84.7431 76.4811 85.8417 76.791C86.94 77.1009 87.9077 77.5919 88.7448 78.2634C89.163 78.5993 89.5751 78.9933 89.9805 79.4453C90.3861 79.8972 90.7523 80.4139 91.0791 80.9952C91.406 81.5764 91.6675 82.2155 91.8638 82.9131C92.06 83.6106 92.1581 84.3727 92.1581 85.1993C92.1581 85.6642 92.1124 86.1937 92.0208 86.788C91.9294 87.3823 91.7724 87.9892 91.5501 88.6093C91.3278 89.2293 91.0402 89.8363 90.687 90.4306C90.334 91.0248 89.8959 91.5673 89.3728 92.058C88.5096 92.8846 87.6726 93.4401 86.8619 93.7242C86.0511 94.0083 85.2794 94.2409 84.5472 94.4218L92.4328 105H85.9202L78.2308 94.0344H78.1523V105H72.7775V76.3261H81.683ZM81.5181 81.3729H78.0959V90.0898H81.5181C82.6072 90.0898 83.4887 89.929 84.1627 89.6076C84.8369 89.2862 85.3619 88.9006 85.7378 88.4505C86.1137 88.0005 86.3599 87.5246 86.4767 87.0233C86.5936 86.522 86.6518 86.0783 86.6518 85.6927C86.6518 85.3071 86.5804 84.8634 86.4378 84.3621C86.2952 83.8605 86.0294 83.385 85.6406 82.9349C85.2515 82.4848 84.7265 82.1119 84.0655 81.8163C83.4041 81.5207 82.5551 81.3729 81.5181 81.3729Z" fill="white" data-v-1b2f4e78></path></svg></div><div class="cube__face cube__face--bottom" data-v-1b2f4e78><svg xmlns="http://www.w3.org/2000/svg" width="140" height="140" viewBox="0 0 140 140" fill="none" class="cube__svg" data-v-1b2f4e78><rect width="140" height="140" fill="#090B11" data-v-1b2f4e78></rect><path d="M102.145 37.1009V65.7745H117.638V60.8146H107.478V54.0338H117.21V49.0739H107.478V42.0604H117.638V37.1006H102.145V37.1009ZM76.5386 37.1009H71.1589V55.2363C71.1589 57.0112 71.3423 58.4518 71.7087 59.5579C72.0751 60.6641 72.4939 61.5258 72.9652 62.1431C73.2795 62.5548 73.698 62.9985 74.2217 63.4743C74.7454 63.9502 75.367 64.3939 76.0869 64.8056C76.8069 65.2172 77.6314 65.5579 78.5607 65.8281C79.4901 66.0983 80.5044 66.2334 81.6039 66.2334C83.5936 66.2334 85.3278 65.8154 86.8067 64.9794C88.2858 64.1434 89.4442 63.1466 90.2819 61.989C90.9626 61.0373 91.4139 59.9632 91.6365 58.7671C91.8592 57.571 91.9705 56.3939 91.9705 55.2366V37.1012H86.5908V55.2366C86.5908 55.5967 86.5647 56.1113 86.5123 56.7801C86.4599 57.4489 86.2768 58.1177 85.9625 58.7865C85.6483 59.4553 85.1509 60.0404 84.4705 60.542C83.7898 61.0436 82.8212 61.2944 81.5647 61.2944C80.3081 61.2944 79.3395 61.0436 78.6588 60.542C77.9781 60.0404 77.4808 59.4553 77.1668 58.7865C76.8525 58.1177 76.6695 57.4489 76.6171 56.7801C76.5646 56.1113 76.5386 55.5967 76.5386 55.2366V37.1009ZM48.9602 37.1009V65.7745H63.0656V60.8146H54.2837V37.1006H48.9602V37.1009ZM56.6855 76.3264L68.847 105H62.9231L59.8237 97.5991H49.4278L46.3285 105H40.4046L52.4875 76.3264H56.6855ZM54.6649 83.896H54.5861L51.2727 92.6129H57.9782L54.6649 83.896ZM22.5994 37.1H28.2848C29.0893 37.1 29.8878 37.113 30.6795 37.1387C31.4712 37.1648 32.2435 37.2423 32.9963 37.3714C33.749 37.5007 34.476 37.7203 35.177 38.0302C35.8779 38.3403 36.5399 38.7665 37.163 39.309C37.8897 39.9547 38.4802 40.7619 38.9346 41.7306C39.3887 42.6995 39.6159 43.6746 39.6159 44.6562C39.6159 45.5604 39.4927 46.3291 39.2461 46.9619C38.9996 47.5946 38.701 48.1244 38.3505 48.5505C38 48.9767 37.6431 49.3126 37.2798 49.5579C36.9164 49.8033 36.6178 49.9908 36.3841 50.1198C36.8514 50.3006 37.377 50.5463 37.9611 50.8561C38.5452 51.1663 39.0836 51.5925 39.577 52.135C40.0703 52.6774 40.4855 53.362 40.8231 54.1886C41.1607 55.0152 41.3293 56.0356 41.3293 57.2496C41.3293 58.1022 41.2254 58.8837 41.0178 59.594C40.8102 60.3043 40.5376 60.937 40.2 61.4925C39.8628 62.0477 39.4798 62.5387 39.0514 62.9649C38.6231 63.391 38.1883 63.7594 37.7471 64.0692C37.2019 64.4566 36.5985 64.7601 35.9365 64.9797C35.2745 65.1993 34.5996 65.3671 33.9116 65.4834C33.2238 65.5997 32.5683 65.6773 31.9452 65.716C31.3844 65.7509 30.8867 65.7703 30.4523 65.7736L30.3097 65.7742H22.5994V37.1H28.2848H22.5994ZM30.7328 53.1578H27.9177V60.7277H30.6154C30.876 60.7277 31.3062 60.7086 31.9056 60.6699C32.5054 60.6311 33.1048 60.496 33.7043 60.2643C34.3037 60.0326 34.8382 59.6591 35.3073 59.1442C35.7764 58.629 36.011 57.9081 36.011 56.9812C36.011 56.698 35.9589 56.3376 35.8546 55.8999C35.7504 55.4622 35.5094 55.0439 35.1313 54.6447C34.7532 54.2455 34.2191 53.8981 33.5283 53.6019C32.8375 53.3059 31.9056 53.1578 30.7328 53.1578ZM30.1009 42.1471H27.9177V48.3406H29.6416C29.9479 48.3406 30.3563 48.3276 30.8671 48.3018C31.378 48.2761 31.8759 48.1665 32.361 47.9729C32.846 47.7794 33.2673 47.4698 33.6249 47.0439C33.9824 46.6181 34.1611 46.018 34.1611 45.2438C34.1611 44.3921 33.861 43.663 33.2609 43.0567C32.6609 42.4503 31.6076 42.1471 30.1009 42.1471ZM28.3547 94.4218V105H33.6853V94.4218L43.1795 76.3264H37.304L31.0005 89.5007L24.7359 76.3264H18.8994L28.3547 94.4218ZM105.216 76.327C106.98 76.327 108.511 76.4303 109.809 76.6368C111.107 76.8434 112.223 77.1145 113.157 77.4504C114.091 77.7863 114.87 78.148 115.493 78.5354C116.116 78.9228 116.635 79.2974 117.05 79.6591C117.725 80.2531 118.354 80.9506 118.938 81.7515C119.522 82.5523 120.028 83.4304 120.456 84.3863C120.884 85.342 121.215 86.3624 121.449 87.4474C121.683 88.5323 121.799 89.6303 121.799 90.741C121.799 92.0326 121.637 93.2983 121.313 94.5384C120.988 95.7781 120.528 96.9406 119.931 98.0256C119.334 99.1105 118.607 100.092 117.751 100.97C116.894 101.849 115.947 102.572 114.909 103.14C114.234 103.502 113.514 103.805 112.749 104.051C111.983 104.296 111.185 104.49 110.355 104.632C109.524 104.774 108.681 104.871 107.824 104.922C106.968 104.974 106.138 105 105.333 105H98.6763L98.6759 76.327H105.216ZM105.009 81.3729H103.995V100.183H105.126C105.855 100.183 106.525 100.164 107.136 100.125C107.747 100.086 108.326 100.021 108.872 99.9305C109.418 99.8399 109.958 99.7039 110.492 99.5225C111.025 99.3411 111.578 99.0948 112.15 98.784C112.853 98.3951 113.477 97.9096 114.023 97.3265C114.569 96.7437 115.025 96.1025 115.389 95.4028C115.753 94.7032 116.026 93.9647 116.209 93.1875C116.391 92.4103 116.482 91.633 116.482 90.8558C116.482 89.4568 116.202 88.1355 115.643 86.8919C115.083 85.6482 114.335 84.6117 113.399 83.7827C112.28 82.7722 111.025 82.118 109.633 81.8199C108.242 81.5219 106.7 81.3729 105.009 81.3729ZM98.6763 76.3264L98.6759 76.327H98.6756L98.6763 76.3264ZM81.683 76.3261C83.3572 76.3261 84.7431 76.4811 85.8417 76.791C86.94 77.1009 87.9077 77.5919 88.7448 78.2634C89.163 78.5993 89.5751 78.9933 89.9805 79.4453C90.3861 79.8972 90.7523 80.4139 91.0791 80.9952C91.406 81.5764 91.6675 82.2155 91.8638 82.9131C92.06 83.6106 92.1581 84.3727 92.1581 85.1993C92.1581 85.6642 92.1124 86.1937 92.0208 86.788C91.9294 87.3823 91.7724 87.9892 91.5501 88.6093C91.3278 89.2293 91.0402 89.8363 90.687 90.4306C90.334 91.0248 89.8959 91.5673 89.3728 92.058C88.5096 92.8846 87.6726 93.4401 86.8619 93.7242C86.0511 94.0083 85.2794 94.2409 84.5472 94.4218L92.4328 105H85.9202L78.2308 94.0344H78.1523V105H72.7775V76.3261H81.683ZM81.5181 81.3729H78.0959V90.0898H81.5181C82.6072 90.0898 83.4887 89.929 84.1627 89.6076C84.8369 89.2862 85.3619 88.9006 85.7378 88.4505C86.1137 88.0005 86.3599 87.5246 86.4767 87.0233C86.5936 86.522 86.6518 86.0783 86.6518 85.6927C86.6518 85.3071 86.5804 84.8634 86.4378 84.3621C86.2952 83.8605 86.0294 83.385 85.6406 82.9349C85.2515 82.4848 84.7265 82.1119 84.0655 81.8163C83.4041 81.5207 82.5551 81.3729 81.5181 81.3729Z" fill="white" data-v-1b2f4e78></path></svg></div></div></div></div>',1)),ei("p",Tre,If(String(qt(t)).padStart(3,"0"))+"% ",1)],512))}}),m4=(n,e)=>{const t=n.__vccOpts||n;for(const[i,r]of e)t[i]=r;return t},Ire=m4(Mre,[["__scopeId","data-v-1b2f4e78"]]);function Dre(n,e={}){let t=null;const i=xo(n),r=i instanceof HTMLElement?i:i==null?void 0:i.$el;return r?t=new Cd(r,e):_A(()=>{r&&(t=new Cd(r,e))}),t}const Pre=vs({__name:"Simple",setup(n){const e=gt(!1),t=gt(),i=gt();let r=null;const s=()=>{e.value||(e.value=!0,r!=null&&r.chars.length&&dr.timeline({onComplete:()=>{e.value=!1}}).to(r.chars,{duration:.2,y:"-101%",stagger:{from:"end",each:.02},ease:"joe.in"},0).set(r.chars,{y:"101%"}).to(r.chars,{duration:.2,y:"0%",stagger:{from:"end",each:.02},ease:"joe.out"}))};return ks(()=>{r=Dre(i,{type:"chars"})}),(o,a)=>(fi(),$s(J6(o.$attrs.href?qt(yI):"button"),{ref_key:"button",ref:i,class:"button",onMouseenter:s},{default:Na(()=>[tx(o.$slots,"default",{},void 0,!0),ei("span",{ref_key:"lineLeft",ref:t,class:"button__line button__line"},null,512)]),_:3},544))}}),Rre=m4(Pre,[["__scopeId","data-v-d36ea8fd"]]);function k8(n,e,t){typeof n=="function"?n(...e).then(()=>t()):t()}function Bre(n){return n&&(n!=null&&n.$el)?n.$el:xo(n)}const Lre=["id"],Fre=vs({__name:"Disclosure",props:{buttonRef:{},isDropdown:{type:Boolean},handleOpen:{type:Function},handleClose:{type:Function}},emits:["open","close"],setup(n,{expose:e,emit:t}){const i=n,r=t,s=es("registerDisclosure",null),o=es("setOpenDisclosureUid",null),a=gt(!1),l=gt(null),c=Yz(),u=gt(null),f=gt(!1),h=()=>{var A;a.value=!0,f.value=!0,(A=u.value)==null||A.setAttribute("aria-expanded","true"),o&&o(c),k8(i.handleOpen,[l.value],()=>{f.value=!1,r("open",l.value)})},p=()=>{var A;a.value&&(f.value=!0,(A=u.value)==null||A.setAttribute("aria-expanded","false"),k8(i.handleClose,[l.value],()=>{f.value=!1,a.value=!1,r("close",l.value)}))},m=A=>{var y;l.value&&A.key==="Escape"&&(p(),(y=u.value)==null||y.focus())},g=()=>{f.value||(a.value?p():h())};if(i.isDropdown){Xq(l,p,{ignore:[u]}),Kr(l,"keyup",m);const A=Jq();oi(A,y=>{var x;a.value&&(y==null?void 0:y.closest("nav"))!==((x=l.value)==null?void 0:x.closest("nav"))&&p()})}return oi(u,()=>{var A,y,x;(A=u.value)==null||A.setAttribute("aria-expanded",a.value.toString()),(y=u.value)==null||y.setAttribute("aria-controls",c),(x=u.value)==null||x.addEventListener("click",g)}),ks(async()=>{await el(),u.value=Bre(i.buttonRef),s&&s({uid:c,closeDisclosure:p})}),nl(()=>{var A;(A=u.value)==null||A.removeEventListener("click",g)}),e({openDisclosure:h,closeDisclosure:p,toggleDisclosure:g}),(A,y)=>Qz((fi(),ka("div",{id:qt(c),ref_key:"target",ref:l},[tx(A.$slots,"default")],8,Lre)),[[aV,qt(a)]])}});function Ore(){if(typeof window>"u"||typeof document>"u")return()=>()=>{};const n=window._SVG_SPRITE_IDS_=window._SVG_SPRITE_IDS_||new Set,e=document.createElementNS("http://www.w3.org/2000/svg","svg");e.style.position="absolute",e.style.width="0",e.style.height="0",e.style.overflow="hidden",e.ariaHidden="true";function t(){document.body.insertBefore(e,document.body.firstChild)}return document.readyState==="loading"?document.addEventListener("DOMContentLoaded",t):t(),function(r,s){(n.has(s)||document.getElementById(s))&&console.warn(`Icon #${s} was repeatedly registered. It must be globally unique.`),n.add(s),e.insertAdjacentHTML("beforeend",r);const o=e.lastChild;return function(){n.delete(s),o==null||o.remove()}}}const Ure=Ore();function Nre(n){return n.charAt(0).toUpperCase()+n.slice(1)}const kre=(n,e)=>vs({name:`Icon${Nre(e)}`,setup(t,{attrs:i}){return()=>Mr("svg",{width:"1em",height:"1em",...i},[Mr("use",{"xlink:href":`#${n}`})])}}),LD="icon-logo",zre="logo",Hre='<symbol id="icon-logo" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 62 41"><path fill="#090B11" d="M49.947.26v17.205h9.296v-2.976h-6.096V10.42h5.84V7.444h-5.84V3.236h6.096V.26zm-15.364 0h-3.227v10.881q0 1.598.33 2.594.329.995.754 1.55.283.371.753.8.472.427 1.12.798.647.37 1.484.614a6.5 6.5 0 0 0 1.826.243q1.79 0 3.121-.753 1.332-.752 2.086-1.794.612-.855.812-1.933.2-1.077.2-2.118V.26h-3.227v10.882q0 .324-.047.926a3.5 3.5 0 0 1-.33 1.204q-.283.6-.895 1.053-.613.451-1.744.451t-1.743-.451-.896-1.053a3.5 3.5 0 0 1-.33-1.204q-.046-.602-.047-.926zm-16.546 0v17.205H26.5v-2.976h-5.27V.26zm4.635 23.536L29.968 41h-3.554l-1.86-4.44h-6.237L16.457 41h-3.554l7.25-17.204zm-1.213 4.541h-.047l-1.988 5.23h4.023zM2.22.26h3.411q.724 0 1.437.023.712.023 1.39.14.678.116 1.309.395.63.28 1.191.767.654.582 1.063 1.453.41.873.409 1.756 0 .813-.222 1.383t-.537.953q-.316.384-.643.605t-.537.337q.42.163.946.441.525.28.97.768t.747 1.232.304 1.837a5 5 0 0 1-.187 1.406 4.631 4.631 0 0 1-1.18 2.023 6 6 0 0 1-.782.662q-.491.35-1.087.547a8 8 0 0 1-1.215.302q-.618.105-1.18.14-.505.03-.895.034H2.22zh3.411zM7.1 9.894H5.411v4.542H7.03q.234 0 .774-.034a3.6 3.6 0 0 0 1.079-.244q.54-.208.962-.672.422-.463.422-1.298 0-.255-.094-.648-.093-.394-.434-.753-.34-.36-.962-.626-.621-.267-1.677-.267m-.38-6.606H5.412v3.716h1.034q.276 0 .736-.023.46-.024.896-.197.437-.175.758-.558.322-.382.322-1.08 0-.766-.54-1.312T6.72 3.288M5.674 34.653V41h3.199v-6.347l5.696-10.857h-3.525L7.26 31.7 3.5 23.796H0zM51.79 23.796q1.587 0 2.756.186 1.167.186 2.009.488.84.303 1.401.651.56.348.934.674.608.535 1.133 1.256.525.72.911 1.58t.596 1.837q.21.977.21 1.976 0 1.163-.292 2.279a9 9 0 0 1-.83 2.092 8.1 8.1 0 0 1-1.307 1.767 7.2 7.2 0 0 1-1.705 1.302q-.607.326-1.297.546-.689.221-1.436.349t-1.518.174T51.86 41h-3.994V23.796zm-.124 3.028h-.609V38.11h.68q.654 0 1.205-.035.55-.036 1.042-.117.49-.081.971-.245.48-.163.995-.443a4.6 4.6 0 0 0 1.124-.874q.492-.525.82-1.154.327-.63.492-1.33.163-.699.163-1.399 0-1.26-.503-2.378a5.4 5.4 0 0 0-1.346-1.866 4.84 4.84 0 0 0-2.26-1.177 13.3 13.3 0 0 0-2.774-.268M37.67 23.796q1.507 0 2.495.278.99.279 1.742.884.376.302.742.709a5.2 5.2 0 0 1 1.13 2.08q.176.629.176 1.372a6.3 6.3 0 0 1-.365 2.046 6.3 6.3 0 0 1-.518 1.093 4.5 4.5 0 0 1-.788.977q-.777.743-1.506 1-.73.256-1.39.418L44.12 41h-3.907l-4.614-6.58h-.047V41h-3.225V23.795zm-.099 3.028h-2.053v5.23h2.053q.981 0 1.587-.29.607-.288.945-.694t.443-.856.105-.799q0-.346-.128-.798a2.25 2.25 0 0 0-.478-.856q-.351-.405-.945-.671-.596-.267-1.529-.267"/></symbol>',{dispose:Vre}=Ure(Hre,LD),Gre=kre(LD,zre);import.meta.hot&&(import.meta.hot.dispose(Vre),import.meta.hot.accept());function RA(n,...e){const t=n.length-1;return n.slice(0,t).reduce((i,r,s)=>i+r+e[s],"")+n[t]}const Qre=RA`
	*[_type == "siteSettingsSchema"][0]{
		defaultTitle,
		ogDescription,
		"ogImageUrl": ogImage.asset->url,
		navigationLinks[]{
			title,
			"url": coalesce(url, '')
		}
	}
`,afe=RA`
	*[_type == "homeSettingsSchema"][0]{
		...
	}
`,jre=RA`
	*[_type == "homeSettingsSchema"][0]{
		biologyTitle,
		computingTitle,
		cryptoTitle,
		engineeringTitle,
		teamTitle,
	}
`,lfe=RA`
	*[_type == "legalSettingsSchema"][0]{
		...
	}
`,FD=!(typeof navigator>"u")&&navigator.product==="ReactNative",OD={timeout:FD?6e4:12e4},Wre=function(n){const e={...OD,...typeof n=="string"?{url:n}:n};if(e.timeout=UD(e.timeout),e.query){const{url:t,searchParams:i}=function(r){const s=r.indexOf("?");if(s===-1)return{url:r,searchParams:new URLSearchParams};const o=r.slice(0,s),a=r.slice(s+1);if(!FD)return{url:o,searchParams:new URLSearchParams(a)};if(typeof decodeURIComponent!="function")throw new Error("Broken `URLSearchParams` implementation, and `decodeURIComponent` is not defined");const l=new URLSearchParams;for(const c of a.split("&")){const[u,f]=c.split("=");u&&l.append(z8(u),z8(f||""))}return{url:o,searchParams:l}}(e.url);for(const[r,s]of Object.entries(e.query)){if(s!==void 0)if(Array.isArray(s))for(const a of s)i.append(r,a);else i.append(r,s);const o=i.toString();o&&(e.url=`${t}?${o}`)}}return e.method=e.body&&!e.method?"POST":(e.method||"GET").toUpperCase(),e};function z8(n){return decodeURIComponent(n.replace(/\+/g," "))}function UD(n){if(n===!1||n===0)return!1;if(n.connect||n.socket)return n;const e=Number(n);return isNaN(e)?UD(OD.timeout):{connect:e,socket:e}}const qre=/^https?:\/\//i,Xre=function(n){if(!qre.test(n.url))throw new Error(`"${n.url}" is not a valid URL`)};function ND(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}const Yre=["request","response","progress","error","abort"],H8=["processOptions","validateOptions","interceptRequest","finalizeOptions","onRequest","onResponse","onError","onReturn","onHeaders"];function kD(n,e){const t=[],i=H8.reduce((s,o)=>(s[o]=s[o]||[],s),{processOptions:[Wre],validateOptions:[Xre]});function r(s){const o=Yre.reduce((p,m)=>(p[m]=function(){const g=Object.create(null);let A=0;return{publish:function(y){for(const x in g)g[x](y)},subscribe:function(y){const x=A++;return g[x]=y,function(){delete g[x]}}}}(),p),{}),a=(p=>function(m,g,...A){const y=m==="onError";let x=g;for(let b=0;b<p[m].length&&(x=(0,p[m][b])(x,...A),!y||x);b++);return x})(i),l=a("processOptions",s);a("validateOptions",l);const c={options:l,channels:o,applyMiddleware:a};let u;const f=o.request.subscribe(p=>{u=e(p,(m,g)=>((A,y,x)=>{let b=A,_=y;if(!b)try{_=a("onResponse",y,x)}catch(T){_=null,b=T}b=b&&a("onError",b,x),b?o.error.publish(b):_&&o.response.publish(_)})(m,g,p))});o.abort.subscribe(()=>{f(),u&&u.abort()});const h=a("onReturn",o,c);return h===o&&o.request.publish(c),h}return r.use=function(s){if(!s)throw new Error("Tried to add middleware that resolved to falsey value");if(typeof s=="function")throw new Error("Tried to add middleware that was a function. It probably expects you to pass options to it.");if(s.onReturn&&i.onReturn.length>0)throw new Error("Tried to add new middleware with `onReturn` handler, but another handler has already been registered for this event");return H8.forEach(o=>{s[o]&&i[o].push(s[o])}),t.push(s),r},r.clone=()=>kD(t,e),n.forEach(r.use),r}var V8,G8,$re=ND(function(){if(G8)return V8;G8=1;var n=function(e){return e.replace(/^\s+|\s+$/g,"")};return V8=function(e){if(!e)return{};for(var t={},i=n(e).split(`
`),r=0;r<i.length;r++){var s=i[r],o=s.indexOf(":"),a=n(s.slice(0,o)).toLowerCase(),l=n(s.slice(o+1));typeof t[a]>"u"?t[a]=l:(c=t[a],Object.prototype.toString.call(c)==="[object Array]"?t[a].push(l):t[a]=[t[a],l])}var c;return t}}()),rp,sp,od,op,Ia,ap,lp,l6;let Bb=(l6=class{constructor(){pe(this,"onabort");pe(this,"onerror");pe(this,"onreadystatechange");pe(this,"ontimeout");pe(this,"readyState",0);pe(this,"response");pe(this,"responseText","");pe(this,"responseType","");pe(this,"status");pe(this,"statusText");pe(this,"withCredentials");sn(this,rp);sn(this,sp);sn(this,od);sn(this,op,{});sn(this,Ia);sn(this,ap,{});sn(this,lp)}open(e,t,i){var r;tn(this,rp,e),tn(this,sp,t),tn(this,od,""),this.readyState=1,(r=this.onreadystatechange)==null||r.call(this),tn(this,Ia,void 0)}abort(){Ne(this,Ia)&&Ne(this,Ia).abort()}getAllResponseHeaders(){return Ne(this,od)}setRequestHeader(e,t){Ne(this,op)[e]=t}setInit(e,t=!0){tn(this,ap,e),tn(this,lp,t)}send(e){const t=this.responseType!=="arraybuffer",i={...Ne(this,ap),method:Ne(this,rp),headers:Ne(this,op),body:e};typeof AbortController=="function"&&Ne(this,lp)&&(tn(this,Ia,new AbortController),typeof EventTarget<"u"&&Ne(this,Ia).signal instanceof EventTarget&&(i.signal=Ne(this,Ia).signal)),typeof document<"u"&&(i.credentials=this.withCredentials?"include":"omit"),fetch(Ne(this,sp),i).then(r=>{var s;return r.headers.forEach((o,a)=>{tn(this,od,Ne(this,od)+`${a}: ${o}\r
`)}),this.status=r.status,this.statusText=r.statusText,this.readyState=3,(s=this.onreadystatechange)==null||s.call(this),t?r.text():r.arrayBuffer()}).then(r=>{var s;typeof r=="string"?this.responseText=r:this.response=r,this.readyState=4,(s=this.onreadystatechange)==null||s.call(this)}).catch(r=>{var s,o;r.name!=="AbortError"?(s=this.onerror)==null||s.call(this,r):(o=this.onabort)==null||o.call(this)})}},rp=new WeakMap,sp=new WeakMap,od=new WeakMap,op=new WeakMap,Ia=new WeakMap,ap=new WeakMap,lp=new WeakMap,l6);const Lb=typeof XMLHttpRequest=="function"?"xhr":"fetch",Kre=Lb==="xhr"?XMLHttpRequest:Bb,Zre=(n,e)=>{const t=n.options,i=n.applyMiddleware("finalizeOptions",t),r={},s=n.applyMiddleware("interceptRequest",void 0,{adapter:Lb,context:n});if(s){const g=setTimeout(e,0,null,s);return{abort:()=>clearTimeout(g)}}let o=new Kre;o instanceof Bb&&typeof i.fetch=="object"&&o.setInit(i.fetch,i.useAbortSignal??!0);const a=i.headers,l=i.timeout;let c=!1,u=!1,f=!1;if(o.onerror=g=>{m(o instanceof Bb?g instanceof Error?g:new Error(`Request error while attempting to reach is ${i.url}`,{cause:g}):new Error(`Request error while attempting to reach is ${i.url}${g.lengthComputable?`(${g.loaded} of ${g.total} bytes transferred)`:""}`))},o.ontimeout=g=>{m(new Error(`Request timeout while attempting to reach ${i.url}${g.lengthComputable?`(${g.loaded} of ${g.total} bytes transferred)`:""}`))},o.onabort=()=>{p(!0),c=!0},o.onreadystatechange=()=>{l&&(p(),r.socket=setTimeout(()=>h("ESOCKETTIMEDOUT"),l.socket)),!c&&o.readyState===4&&o.status!==0&&function(){if(!(c||u||f)){if(o.status===0)return void m(new Error("Unknown XHR error"));p(),u=!0,e(null,{body:o.response||(o.responseType===""||o.responseType==="text"?o.responseText:""),url:i.url,method:i.method,headers:$re(o.getAllResponseHeaders()),statusCode:o.status,statusMessage:o.statusText})}}()},o.open(i.method,i.url,!0),o.withCredentials=!!i.withCredentials,a&&o.setRequestHeader)for(const g in a)a.hasOwnProperty(g)&&o.setRequestHeader(g,a[g]);return i.rawBody&&(o.responseType="arraybuffer"),n.applyMiddleware("onRequest",{options:i,adapter:Lb,request:o,context:n}),o.send(i.body||null),l&&(r.connect=setTimeout(()=>h("ETIMEDOUT"),l.connect)),{abort:function(){c=!0,o&&o.abort()}};function h(g){f=!0,o.abort();const A=new Error(g==="ESOCKETTIMEDOUT"?`Socket timed out on request to ${i.url}`:`Connection timed out on request to ${i.url}`);A.code=g,n.channels.error.publish(A)}function p(g){(g||c||o.readyState>=2&&r.connect)&&clearTimeout(r.connect),r.socket&&clearTimeout(r.socket)}function m(g){if(u)return;p(!0),u=!0,o=null;const A=g||new Error(`Network error while attempting to reach ${i.url}`);A.isNetworkError=!0,A.request=i,e(A)}},Jre=(n=[],e=Zre)=>kD(n,e);var ese={},Q8,j8,W8,q8,X8,ey={exports:{}};X8||(X8=1,function(n,e){e.formatArgs=function(i){if(i[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+i[0]+(this.useColors?"%c ":" ")+"+"+n.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;i.splice(1,0,r,"color: inherit");let s=0,o=0;i[0].replace(/%[a-zA-Z%]/g,a=>{a!=="%%"&&(s++,a==="%c"&&(o=s))}),i.splice(o,0,r)},e.save=function(i){try{i?e.storage.setItem("debug",i):e.storage.removeItem("debug")}catch{}},e.load=function(){let i;try{i=e.storage.getItem("debug")}catch{}return!i&&typeof process<"u"&&"env"in process&&(i=ese.DEBUG),i},e.useColors=function(){if(typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs))return!0;if(typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;let i;return typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&(i=navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/))&&parseInt(i[1],10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},e.storage=function(){try{return localStorage}catch{}}(),e.destroy=(()=>{let i=!1;return()=>{i||(i=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),e.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],e.log=console.debug||console.log||(()=>{}),n.exports=(q8?W8:(q8=1,W8=function(i){function r(a){let l,c,u,f=null;function h(...p){if(!h.enabled)return;const m=h,g=Number(new Date),A=g-(l||g);m.diff=A,m.prev=l,m.curr=g,l=g,p[0]=r.coerce(p[0]),typeof p[0]!="string"&&p.unshift("%O");let y=0;p[0]=p[0].replace(/%([a-zA-Z%])/g,(x,b)=>{if(x==="%%")return"%";y++;const _=r.formatters[b];if(typeof _=="function"){const T=p[y];x=_.call(m,T),p.splice(y,1),y--}return x}),r.formatArgs.call(m,p),(m.log||r.log).apply(m,p)}return h.namespace=a,h.useColors=r.useColors(),h.color=r.selectColor(a),h.extend=s,h.destroy=r.destroy,Object.defineProperty(h,"enabled",{enumerable:!0,configurable:!1,get:()=>f!==null?f:(c!==r.namespaces&&(c=r.namespaces,u=r.enabled(a)),u),set:p=>{f=p}}),typeof r.init=="function"&&r.init(h),h}function s(a,l){const c=r(this.namespace+(typeof l>"u"?":":l)+a);return c.log=this.log,c}function o(a,l){let c=0,u=0,f=-1,h=0;for(;c<a.length;)if(u<l.length&&(l[u]===a[c]||l[u]==="*"))l[u]==="*"?(f=u,h=c,u++):(c++,u++);else{if(f===-1)return!1;u=f+1,h++,c=h}for(;u<l.length&&l[u]==="*";)u++;return u===l.length}return r.debug=r,r.default=r,r.coerce=function(a){return a instanceof Error?a.stack||a.message:a},r.disable=function(){const a=[...r.names,...r.skips.map(l=>"-"+l)].join(",");return r.enable(""),a},r.enable=function(a){r.save(a),r.namespaces=a,r.names=[],r.skips=[];const l=(typeof a=="string"?a:"").trim().replace(" ",",").split(",").filter(Boolean);for(const c of l)c[0]==="-"?r.skips.push(c.slice(1)):r.names.push(c)},r.enabled=function(a){for(const l of r.skips)if(o(a,l))return!1;for(const l of r.names)if(o(a,l))return!0;return!1},r.humanize=function(){if(j8)return Q8;j8=1;var a=1e3,l=60*a,c=60*l,u=24*c,f=7*u;function h(p,m,g,A){var y=m>=1.5*g;return Math.round(p/g)+" "+A+(y?"s":"")}return Q8=function(p,m){m=m||{};var g,A,y=typeof p;if(y==="string"&&p.length>0)return function(x){if(!((x=String(x)).length>100)){var b=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(x);if(b){var _=parseFloat(b[1]);switch((b[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*_;case"weeks":case"week":case"w":return _*f;case"days":case"day":case"d":return _*u;case"hours":case"hour":case"hrs":case"hr":case"h":return _*c;case"minutes":case"minute":case"mins":case"min":case"m":return _*l;case"seconds":case"second":case"secs":case"sec":case"s":return _*a;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return _;default:return}}}}(p);if(y==="number"&&isFinite(p))return m.long?(g=p,(A=Math.abs(g))>=u?h(g,A,u,"day"):A>=c?h(g,A,c,"hour"):A>=l?h(g,A,l,"minute"):A>=a?h(g,A,a,"second"):g+" ms"):function(x){var b=Math.abs(x);return b>=u?Math.round(x/u)+"d":b>=c?Math.round(x/c)+"h":b>=l?Math.round(x/l)+"m":b>=a?Math.round(x/a)+"s":x+"ms"}(p);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(p))}}(),r.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(i).forEach(a=>{r[a]=i[a]}),r.names=[],r.skips=[],r.formatters={},r.selectColor=function(a){let l=0;for(let c=0;c<a.length;c++)l=(l<<5)-l+a.charCodeAt(c),l|=0;return r.colors[Math.abs(l)%r.colors.length]},r.enable(r.load()),r}))(e);const{formatters:t}=n.exports;t.j=function(i){try{return JSON.stringify(i)}catch(r){return"[UnexpectedJSONParseError]: "+r.message}}}(ey,ey.exports)),ey.exports;const tse=typeof Buffer>"u"?()=>!1:n=>Buffer.isBuffer(n);function Y8(n){return Object.prototype.toString.call(n)==="[object Object]"}function nse(n){if(Y8(n)===!1)return!1;const e=n.constructor;if(e===void 0)return!0;const t=e.prototype;return!(Y8(t)===!1||t.hasOwnProperty("isPrototypeOf")===!1)}const ise=["boolean","string","number"];function rse(){return{processOptions:n=>{const e=n.body;return!e||typeof e.pipe=="function"||tse(e)||ise.indexOf(typeof e)===-1&&!Array.isArray(e)&&!nse(e)?n:Object.assign({},n,{body:JSON.stringify(n.body),headers:Object.assign({},n.headers,{"Content-Type":"application/json"})})}}}function sse(n){return{onResponse:t=>{const i=t.headers["content-type"]||"",r=n&&n.force||i.indexOf("application/json")!==-1;return t.body&&i&&r?Object.assign({},t,{body:e(t.body)}):t},processOptions:t=>Object.assign({},t,{headers:Object.assign({Accept:"application/json"},t.headers)})};function e(t){try{return JSON.parse(t)}catch(i){throw i.message=`Failed to parsed response body as JSON: ${i.message}`,i}}}let Zh={};typeof globalThis<"u"?Zh=globalThis:typeof window<"u"?Zh=window:typeof global<"u"?Zh=global:typeof self<"u"&&(Zh=self);var ose=Zh;function ase(n={}){const e=n.implementation||ose.Observable;if(!e)throw new Error("`Observable` is not available in global scope, and no implementation was passed");return{onReturn:(t,i)=>new e(r=>(t.error.subscribe(s=>r.error(s)),t.progress.subscribe(s=>r.next(Object.assign({type:"progress"},s))),t.response.subscribe(s=>{r.next(Object.assign({type:"response"},s)),r.complete()}),t.request.publish(i),()=>t.abort.publish()))}}function lse(){return{onRequest:n=>{if(n.adapter!=="xhr")return;const e=n.request,t=n.context;function i(r){return s=>{const o=s.lengthComputable?s.loaded/s.total*100:-1;t.channels.progress.publish({stage:r,percent:o,total:s.total,loaded:s.loaded,lengthComputable:s.lengthComputable})}}"upload"in e&&"onprogress"in e.upload&&(e.upload.onprogress=i("upload")),"onprogress"in e&&(e.onprogress=i("download"))}}}var zD=(n,e,t)=>(t.method==="GET"||t.method==="HEAD")&&(n.isNetworkError||!1);function cse(n){return 100*Math.pow(2,n)+100*Math.random()}const g4=(n={})=>(e=>{const t=e.maxRetries||5,i=e.retryDelay||cse,r=e.shouldRetry;return{onError:(s,o)=>{const a=o.options,l=a.maxRetries||t,c=a.retryDelay||i,u=a.shouldRetry||r,f=a.attemptNumber||0;if((h=a.body)!==null&&typeof h=="object"&&typeof h.pipe=="function"||!u(s,f,a)||f>=l)return s;var h;const p=Object.assign({},o,{options:Object.assign({},a,{attemptNumber:f+1})});return setTimeout(()=>o.channels.request.publish(p),c(f)),null}}})({shouldRetry:zD,...n});g4.shouldRetry=zD;var Fb=function(n,e){return Fb=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,i){t.__proto__=i}||function(t,i){for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])},Fb(n,e)};function il(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Fb(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function use(n,e,t,i){function r(s){return s instanceof t?s:new t(function(o){o(s)})}return new(t||(t=Promise))(function(s,o){function a(u){try{c(i.next(u))}catch(f){o(f)}}function l(u){try{c(i.throw(u))}catch(f){o(f)}}function c(u){u.done?s(u.value):r(u.value).then(a,l)}c((i=i.apply(n,e||[])).next())})}function HD(n,e){var t={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},i,r,s,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=a(0),o.throw=a(1),o.return=a(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(c){return function(u){return l([c,u])}}function l(c){if(i)throw new TypeError("Generator is already executing.");for(;o&&(o=0,c[0]&&(t=0)),t;)try{if(i=1,r&&(s=c[0]&2?r.return:c[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,c[1])).done)return s;switch(r=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return t.label++,{value:c[1],done:!1};case 5:t.label++,r=c[1],c=[0];continue;case 7:c=t.ops.pop(),t.trys.pop();continue;default:if(s=t.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){t=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){t.label=c[1];break}if(c[0]===6&&t.label<s[1]){t.label=s[1],s=c;break}if(s&&t.label<s[2]){t.label=s[2],t.ops.push(c);break}s[2]&&t.ops.pop(),t.trys.pop();continue}c=e.call(n,t)}catch(u){c=[6,u],r=0}finally{i=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function Od(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ka(n,e){var t=typeof Symbol=="function"&&n[Symbol.iterator];if(!t)return n;var i=t.call(n),r,s=[],o;try{for(;(e===void 0||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(a){o={error:a}}finally{try{r&&!r.done&&(t=i.return)&&t.call(i)}finally{if(o)throw o.error}}return s}function Za(n,e,t){if(t||arguments.length===2)for(var i=0,r=e.length,s;i<r;i++)(s||!(i in e))&&(s||(s=Array.prototype.slice.call(e,0,i)),s[i]=e[i]);return n.concat(s||Array.prototype.slice.call(e))}function rd(n){return this instanceof rd?(this.v=n,this):new rd(n)}function fse(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(n,e||[]),r,s=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),r[Symbol.asyncIterator]=function(){return this},r;function o(p){return function(m){return Promise.resolve(m).then(p,f)}}function a(p,m){i[p]&&(r[p]=function(g){return new Promise(function(A,y){s.push([p,g,A,y])>1||l(p,g)})},m&&(r[p]=m(r[p])))}function l(p,m){try{c(i[p](m))}catch(g){h(s[0][3],g)}}function c(p){p.value instanceof rd?Promise.resolve(p.value.v).then(u,f):h(s[0][2],p)}function u(p){l("next",p)}function f(p){l("throw",p)}function h(p,m){p(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function dse(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Od=="function"?Od(n):n[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,l){o=n[s](o),r(a,l,o.done,o.value)})}}function r(s,o,a,l){Promise.resolve(l).then(function(c){s({value:c,done:a})},o)}}function $n(n){return typeof n=="function"}function A4(n){var e=function(i){Error.call(i),i.stack=new Error().stack},t=n(e);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var ty=A4(function(n){return function(t){n(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(i,r){return r+1+") "+i.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function jg(n,e){if(n){var t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Mp=function(){function n(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}return n.prototype.unsubscribe=function(){var e,t,i,r,s;if(!this.closed){this.closed=!0;var o=this._parentage;if(o)if(this._parentage=null,Array.isArray(o))try{for(var a=Od(o),l=a.next();!l.done;l=a.next()){var c=l.value;c.remove(this)}}catch(g){e={error:g}}finally{try{l&&!l.done&&(t=a.return)&&t.call(a)}finally{if(e)throw e.error}}else o.remove(this);var u=this.initialTeardown;if($n(u))try{u()}catch(g){s=g instanceof ty?g.errors:[g]}var f=this._finalizers;if(f){this._finalizers=null;try{for(var h=Od(f),p=h.next();!p.done;p=h.next()){var m=p.value;try{$8(m)}catch(g){s=s??[],g instanceof ty?s=Za(Za([],Ka(s)),Ka(g.errors)):s.push(g)}}}catch(g){i={error:g}}finally{try{p&&!p.done&&(r=h.return)&&r.call(h)}finally{if(i)throw i.error}}}if(s)throw new ty(s)}},n.prototype.add=function(e){var t;if(e&&e!==this)if(this.closed)$8(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}},n.prototype._hasParent=function(e){var t=this._parentage;return t===e||Array.isArray(t)&&t.includes(e)},n.prototype._addParent=function(e){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e},n.prototype._removeParent=function(e){var t=this._parentage;t===e?this._parentage=null:Array.isArray(t)&&jg(t,e)},n.prototype.remove=function(e){var t=this._finalizers;t&&jg(t,e),e instanceof n&&e._removeParent(this)},n.EMPTY=function(){var e=new n;return e.closed=!0,e}(),n}(),VD=Mp.EMPTY;function GD(n){return n instanceof Mp||n&&"closed"in n&&$n(n.remove)&&$n(n.add)&&$n(n.unsubscribe)}function $8(n){$n(n)?n():n.unsubscribe()}var hse={Promise:void 0},pse={setTimeout:function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return setTimeout.apply(void 0,Za([n,e],Ka(t)))},clearTimeout:function(n){return clearTimeout(n)},delegate:void 0};function QD(n){pse.setTimeout(function(){throw n})}function K8(){}function Jm(n){n()}var v4=function(n){il(e,n);function e(t){var i=n.call(this)||this;return i.isStopped=!1,t?(i.destination=t,GD(t)&&t.add(i)):i.destination=Ase,i}return e.create=function(t,i,r){return new ip(t,i,r)},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,n.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(Mp),mse=function(){function n(e){this.partialObserver=e}return n.prototype.next=function(e){var t=this.partialObserver;if(t.next)try{t.next(e)}catch(i){Dm(i)}},n.prototype.error=function(e){var t=this.partialObserver;if(t.error)try{t.error(e)}catch(i){Dm(i)}else Dm(e)},n.prototype.complete=function(){var e=this.partialObserver;if(e.complete)try{e.complete()}catch(t){Dm(t)}},n}(),ip=function(n){il(e,n);function e(t,i,r){var s=n.call(this)||this,o;return $n(t)||!t?o={next:t??void 0,error:i??void 0,complete:r??void 0}:o=t,s.destination=new mse(o),s}return e}(v4);function Dm(n){QD(n)}function gse(n){throw n}var Ase={closed:!0,next:K8,error:gse,complete:K8},y4=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function BA(n){return n}function vse(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return jD(n)}function jD(n){return n.length===0?BA:n.length===1?n[0]:function(t){return n.reduce(function(i,r){return r(i)},t)}}var mi=function(){function n(e){e&&(this._subscribe=e)}return n.prototype.lift=function(e){var t=new n;return t.source=this,t.operator=e,t},n.prototype.subscribe=function(e,t,i){var r=this,s=_se(e)?e:new ip(e,t,i);return Jm(function(){var o=r,a=o.operator,l=o.source;s.add(a?a.call(s,l):l?r._subscribe(s):r._trySubscribe(s))}),s},n.prototype._trySubscribe=function(e){try{return this._subscribe(e)}catch(t){e.error(t)}},n.prototype.forEach=function(e,t){var i=this;return t=Z8(t),new t(function(r,s){var o=new ip({next:function(a){try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});i.subscribe(o)})},n.prototype._subscribe=function(e){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(e)},n.prototype[y4]=function(){return this},n.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return jD(e)(this)},n.prototype.toPromise=function(e){var t=this;return e=Z8(e),new e(function(i,r){var s;t.subscribe(function(o){return s=o},function(o){return r(o)},function(){return i(s)})})},n.create=function(e){return new n(e)},n}();function Z8(n){var e;return(e=n??hse.Promise)!==null&&e!==void 0?e:Promise}function yse(n){return n&&$n(n.next)&&$n(n.error)&&$n(n.complete)}function _se(n){return n&&n instanceof v4||yse(n)&&GD(n)}function bse(n){return $n(n==null?void 0:n.lift)}function sa(n){return function(e){if(bse(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function nc(n,e,t,i,r){return new xse(n,e,t,i,r)}var xse=function(n){il(e,n);function e(t,i,r,s,o,a){var l=n.call(this,t)||this;return l.onFinalize=o,l.shouldUnsubscribe=a,l._next=i?function(c){try{i(c)}catch(u){t.error(u)}}:n.prototype._next,l._error=s?function(c){try{s(c)}catch(u){t.error(u)}finally{this.unsubscribe()}}:n.prototype._error,l._complete=r?function(){try{r()}catch(c){t.error(c)}finally{this.unsubscribe()}}:n.prototype._complete,l}return e.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var i=this.closed;n.prototype.unsubscribe.call(this),!i&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},e}(v4),Cse=A4(function(n){return function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),_4=function(n){il(e,n);function e(){var t=n.call(this)||this;return t.closed=!1,t.currentObservers=null,t.observers=[],t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return e.prototype.lift=function(t){var i=new J8(this,this);return i.operator=t,i},e.prototype._throwIfClosed=function(){if(this.closed)throw new Cse},e.prototype.next=function(t){var i=this;Jm(function(){var r,s;if(i._throwIfClosed(),!i.isStopped){i.currentObservers||(i.currentObservers=Array.from(i.observers));try{for(var o=Od(i.currentObservers),a=o.next();!a.done;a=o.next()){var l=a.value;l.next(t)}}catch(c){r={error:c}}finally{try{a&&!a.done&&(s=o.return)&&s.call(o)}finally{if(r)throw r.error}}}})},e.prototype.error=function(t){var i=this;Jm(function(){if(i._throwIfClosed(),!i.isStopped){i.hasError=i.isStopped=!0,i.thrownError=t;for(var r=i.observers;r.length;)r.shift().error(t)}})},e.prototype.complete=function(){var t=this;Jm(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var i=t.observers;i.length;)i.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(t){return this._throwIfClosed(),n.prototype._trySubscribe.call(this,t)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var i=this,r=this,s=r.hasError,o=r.isStopped,a=r.observers;return s||o?VD:(this.currentObservers=null,a.push(t),new Mp(function(){i.currentObservers=null,jg(a,t)}))},e.prototype._checkFinalizedStatuses=function(t){var i=this,r=i.hasError,s=i.thrownError,o=i.isStopped;r?t.error(s):o&&t.complete()},e.prototype.asObservable=function(){var t=new mi;return t.source=this,t},e.create=function(t,i){return new J8(t,i)},e}(mi),J8=function(n){il(e,n);function e(t,i){var r=n.call(this)||this;return r.destination=t,r.source=i,r}return e.prototype.next=function(t){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.next)===null||r===void 0||r.call(i,t)},e.prototype.error=function(t){var i,r;(r=(i=this.destination)===null||i===void 0?void 0:i.error)===null||r===void 0||r.call(i,t)},e.prototype.complete=function(){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||i===void 0||i.call(t)},e.prototype._subscribe=function(t){var i,r;return(r=(i=this.source)===null||i===void 0?void 0:i.subscribe(t))!==null&&r!==void 0?r:VD},e}(_4),b4={now:function(){return(b4.delegate||Date).now()},delegate:void 0},Sse=function(n){il(e,n);function e(t,i,r){t===void 0&&(t=1/0),i===void 0&&(i=1/0),r===void 0&&(r=b4);var s=n.call(this)||this;return s._bufferSize=t,s._windowTime=i,s._timestampProvider=r,s._buffer=[],s._infiniteTimeWindow=!0,s._infiniteTimeWindow=i===1/0,s._bufferSize=Math.max(1,t),s._windowTime=Math.max(1,i),s}return e.prototype.next=function(t){var i=this,r=i.isStopped,s=i._buffer,o=i._infiniteTimeWindow,a=i._timestampProvider,l=i._windowTime;r||(s.push(t),!o&&s.push(a.now()+l)),this._trimBuffer(),n.prototype.next.call(this,t)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var i=this._innerSubscribe(t),r=this,s=r._infiniteTimeWindow,o=r._buffer,a=o.slice(),l=0;l<a.length&&!t.closed;l+=s?1:2)t.next(a[l]);return this._checkFinalizedStatuses(t),i},e.prototype._trimBuffer=function(){var t=this,i=t._bufferSize,r=t._timestampProvider,s=t._buffer,o=t._infiniteTimeWindow,a=(o?1:2)*i;if(i<1/0&&a<s.length&&s.splice(0,s.length-a),!o){for(var l=r.now(),c=0,u=1;u<s.length&&s[u]<=l;u+=2)c=u;c&&s.splice(0,c+1)}},e}(_4),wse=function(n){il(e,n);function e(t,i){return n.call(this)||this}return e.prototype.schedule=function(t,i){return this},e}(Mp),eE={setInterval:function(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];return setInterval.apply(void 0,Za([n,e],Ka(t)))},clearInterval:function(n){return clearInterval(n)},delegate:void 0},Ese=function(n){il(e,n);function e(t,i){var r=n.call(this,t,i)||this;return r.scheduler=t,r.work=i,r.pending=!1,r}return e.prototype.schedule=function(t,i){var r;if(i===void 0&&(i=0),this.closed)return this;this.state=t;var s=this.id,o=this.scheduler;return s!=null&&(this.id=this.recycleAsyncId(o,s,i)),this.pending=!0,this.delay=i,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,i),this},e.prototype.requestAsyncId=function(t,i,r){return r===void 0&&(r=0),eE.setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,i,r){if(r===void 0&&(r=0),r!=null&&this.delay===r&&this.pending===!1)return i;i!=null&&eE.clearInterval(i)},e.prototype.execute=function(t,i){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,i);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,i){var r=!1,s;try{this.work(t)}catch(o){r=!0,s=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s},e.prototype.unsubscribe=function(){if(!this.closed){var t=this,i=t.id,r=t.scheduler,s=r.actions;this.work=this.state=this.scheduler=null,this.pending=!1,jg(s,this),i!=null&&(this.id=this.recycleAsyncId(r,i,null)),this.delay=null,n.prototype.unsubscribe.call(this)}},e}(wse),tE=function(){function n(e,t){t===void 0&&(t=n.now),this.schedulerActionCtor=e,this.now=t}return n.prototype.schedule=function(e,t,i){return t===void 0&&(t=0),new this.schedulerActionCtor(this,e).schedule(i,t)},n.now=b4.now,n}(),Tse=function(n){il(e,n);function e(t,i){i===void 0&&(i=tE.now);var r=n.call(this,t,i)||this;return r.actions=[],r._active=!1,r}return e.prototype.flush=function(t){var i=this.actions;if(this._active){i.push(t);return}var r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=i.shift());if(this._active=!1,r){for(;t=i.shift();)t.unsubscribe();throw r}},e}(tE),Mse=new Tse(Ese),Ise=Mse,WD=new mi(function(n){return n.complete()});function Dse(n){return n&&$n(n.schedule)}function x4(n){return n[n.length-1]}function Pse(n){return $n(x4(n))?n.pop():void 0}function C4(n){return Dse(x4(n))?n.pop():void 0}function Rse(n,e){return typeof x4(n)=="number"?n.pop():e}var qD=function(n){return n&&typeof n.length=="number"&&typeof n!="function"};function XD(n){return $n(n==null?void 0:n.then)}function YD(n){return $n(n[y4])}function $D(n){return Symbol.asyncIterator&&$n(n==null?void 0:n[Symbol.asyncIterator])}function KD(n){return new TypeError("You provided "+(n!==null&&typeof n=="object"?"an invalid object":"'"+n+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function Bse(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var ZD=Bse();function JD(n){return $n(n==null?void 0:n[ZD])}function eP(n){return fse(this,arguments,function(){var t,i,r,s;return HD(this,function(o){switch(o.label){case 0:t=n.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,rd(t.read())];case 3:return i=o.sent(),r=i.value,s=i.done,s?[4,rd(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return[4,rd(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function tP(n){return $n(n==null?void 0:n.getReader)}function oa(n){if(n instanceof mi)return n;if(n!=null){if(YD(n))return Lse(n);if(qD(n))return Fse(n);if(XD(n))return Ose(n);if($D(n))return nP(n);if(JD(n))return Use(n);if(tP(n))return Nse(n)}throw KD(n)}function Lse(n){return new mi(function(e){var t=n[y4]();if($n(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Fse(n){return new mi(function(e){for(var t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Ose(n){return new mi(function(e){n.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,QD)})}function Use(n){return new mi(function(e){var t,i;try{for(var r=Od(n),s=r.next();!s.done;s=r.next()){var o=s.value;if(e.next(o),e.closed)return}}catch(a){t={error:a}}finally{try{s&&!s.done&&(i=r.return)&&i.call(r)}finally{if(t)throw t.error}}e.complete()})}function nP(n){return new mi(function(e){kse(n,e).catch(function(t){return e.error(t)})})}function Nse(n){return nP(eP(n))}function kse(n,e){var t,i,r,s;return use(this,void 0,void 0,function(){var o,a;return HD(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),t=dse(n),l.label=1;case 1:return[4,t.next()];case 2:if(i=l.sent(),!!i.done)return[3,4];if(o=i.value,e.next(o),e.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return a=l.sent(),r={error:a},[3,11];case 6:return l.trys.push([6,,9,10]),i&&!i.done&&(s=t.return)?[4,s.call(t)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(r)throw r.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})})}function Cu(n,e,t,i,r){i===void 0&&(i=0),r===void 0&&(r=!1);var s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function iP(n,e){return e===void 0&&(e=0),sa(function(t,i){t.subscribe(nc(i,function(r){return Cu(i,n,function(){return i.next(r)},e)},function(){return Cu(i,n,function(){return i.complete()},e)},function(r){return Cu(i,n,function(){return i.error(r)},e)}))})}function rP(n,e){return e===void 0&&(e=0),sa(function(t,i){i.add(n.schedule(function(){return t.subscribe(i)},e))})}function zse(n,e){return oa(n).pipe(rP(e),iP(e))}function Hse(n,e){return oa(n).pipe(rP(e),iP(e))}function Vse(n,e){return new mi(function(t){var i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}function Gse(n,e){return new mi(function(t){var i;return Cu(t,e,function(){i=n[ZD](),Cu(t,e,function(){var r,s,o;try{r=i.next(),s=r.value,o=r.done}catch(a){t.error(a);return}o?t.complete():t.next(s)},0,!0)}),function(){return $n(i==null?void 0:i.return)&&i.return()}})}function sP(n,e){if(!n)throw new Error("Iterable cannot be null");return new mi(function(t){Cu(t,e,function(){var i=n[Symbol.asyncIterator]();Cu(t,e,function(){i.next().then(function(r){r.done?t.complete():t.next(r.value)})},0,!0)})})}function Qse(n,e){return sP(eP(n),e)}function jse(n,e){if(n!=null){if(YD(n))return zse(n,e);if(qD(n))return Vse(n,e);if(XD(n))return Hse(n,e);if($D(n))return sP(n,e);if(JD(n))return Gse(n,e);if(tP(n))return Qse(n,e)}throw KD(n)}function Ip(n,e){return e?jse(n,e):oa(n)}function LA(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=C4(n);return Ip(n,t)}function oP(n,e){var t=$n(n)?n:function(){return n},i=function(r){return r.error(t())};return new mi(i)}function Wse(n){return!!n&&(n instanceof mi||$n(n.lift)&&$n(n.subscribe))}var qse=A4(function(n){return function(){n(this),this.name="EmptyError",this.message="no elements in sequence"}});function Ui(n,e){return new Promise(function(t,i){var r=!1,s;n.subscribe({next:function(o){s=o,r=!0},error:i,complete:function(){r?t(s):i(new qse)}})})}function Xse(n){return n instanceof Date&&!isNaN(n)}function ns(n,e){return sa(function(t,i){var r=0;t.subscribe(nc(i,function(s){i.next(n.call(e,s,r++))}))})}var Yse=Array.isArray;function $se(n,e){return Yse(e)?n.apply(void 0,Za([],Ka(e))):n(e)}function Kse(n){return ns(function(e){return $se(n,e)})}function Zse(n,e,t){return t===void 0&&(t=BA),function(i){nE(e,function(){for(var r=n.length,s=new Array(r),o=r,a=r,l=function(u){nE(e,function(){var f=Ip(n[u],e),h=!1;f.subscribe(nc(i,function(p){s[u]=p,h||(h=!0,a--),a||i.next(t(s.slice()))},function(){--o||i.complete()}))},i)},c=0;c<r;c++)l(c)})}}function nE(n,e,t){e()}function Jse(n,e,t,i,r,s,o,a){var l=[],c=0,u=0,f=!1,h=function(){f&&!l.length&&!c&&e.complete()},p=function(g){return c<i?m(g):l.push(g)},m=function(g){c++;var A=!1;oa(t(g,u++)).subscribe(nc(e,function(y){e.next(y)},function(){A=!0},void 0,function(){if(A)try{c--;for(var y=function(){var x=l.shift();o||m(x)};l.length&&c<i;)y();h()}catch(x){e.error(x)}}))};return n.subscribe(nc(e,p,function(){f=!0,h()})),function(){}}function Dp(n,e,t){return t===void 0&&(t=1/0),$n(e)?Dp(function(i,r){return ns(function(s,o){return e(i,s,r,o)})(oa(n(i,r)))},t):(typeof e=="number"&&(t=e),sa(function(i,r){return Jse(i,r,n,t)}))}function aP(n){return n===void 0&&(n=1/0),Dp(BA,n)}function eoe(){return aP(1)}function lP(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return eoe()(Ip(n,C4(n)))}function cP(n){return new mi(function(e){oa(n()).subscribe(e)})}function toe(n,e,t){return t===void 0&&(t=Ise),new mi(function(i){var r=Xse(n)?1e3-t.now():n;r<0&&(r=0);var s=0;return t.schedule(function(){i.closed||(i.next(s++),i.complete())},r)})}function noe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=C4(n),i=Rse(n,1/0),r=n;return r.length?r.length===1?oa(r[0]):aP(i)(Ip(r,t)):WD}var ioe=Array.isArray;function roe(n){return n.length===1&&ioe(n[0])?n[0]:n}function Wd(n,e){return sa(function(t,i){var r=0;t.subscribe(nc(i,function(s){return n.call(e,s,r++)&&i.next(s)}))})}function S4(n){return sa(function(e,t){var i=null,r=!1,s;i=e.subscribe(nc(t,void 0,void 0,function(o){s=oa(n(o,S4(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function uP(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];var t=Pse(n);return t?vse(uP.apply(void 0,Za([],Ka(n))),Kse(t)):sa(function(i,r){Zse(Za([i],Ka(roe(n))))(r)})}function soe(){for(var n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];return uP.apply(void 0,Za([],Ka(n)))}function fP(n){return sa(function(e,t){try{e.subscribe(t)}finally{t.add(n)}})}function dP(n){n===void 0&&(n={});var e=n.connector,t=e===void 0?function(){return new _4}:e,i=n.resetOnError,r=i===void 0?!0:i,s=n.resetOnComplete,o=s===void 0?!0:s,a=n.resetOnRefCountZero,l=a===void 0?!0:a;return function(c){var u,f,h,p=0,m=!1,g=!1,A=function(){f==null||f.unsubscribe(),f=void 0},y=function(){A(),u=h=void 0,m=g=!1},x=function(){var b=u;y(),b==null||b.unsubscribe()};return sa(function(b,_){p++,!g&&!m&&A();var T=h=h??t();_.add(function(){p--,p===0&&!g&&!m&&(f=ny(x,l))}),T.subscribe(_),!u&&p>0&&(u=new ip({next:function(M){return T.next(M)},error:function(M){g=!0,A(),f=ny(y,r,M),T.error(M)},complete:function(){m=!0,A(),f=ny(y,o),T.complete()}}),oa(b).subscribe(u))})(c)}}function ny(n,e){for(var t=[],i=2;i<arguments.length;i++)t[i-2]=arguments[i];if(e===!0){n();return}if(e!==!1){var r=new ip({next:function(){r.unsubscribe(),n()}});return oa(e.apply(void 0,Za([],Ka(t)))).subscribe(r)}}function ooe(n,e,t){var i,r=!1;return i=n,dP({connector:function(){return new Sse(i,e,t)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:r})}function aoe(n,e,t){var i=$n(n)||e||t?{next:n,error:e,complete:t}:n;return i?sa(function(r,s){var o;(o=i.subscribe)===null||o===void 0||o.call(i);var a=!0;r.subscribe(nc(s,function(l){var c;(c=i.next)===null||c===void 0||c.call(i,l),s.next(l)},function(){var l;a=!1,(l=i.complete)===null||l===void 0||l.call(i),s.complete()},function(l){var c;a=!1,(c=i.error)===null||c===void 0||c.call(i,l),s.error(l)},function(){var l,c;a&&((l=i.unsubscribe)===null||l===void 0||l.call(i)),(c=i.finalize)===null||c===void 0||c.call(i)}))}):BA}var hP={0:8203,1:8204,2:8205,3:8290,4:8291,5:8288,6:65279,7:8289,8:119155,9:119156,a:119157,b:119158,c:119159,d:119160,e:119161,f:119162},w4={0:8203,1:8204,2:8205,3:65279},loe=new Array(4).fill(String.fromCodePoint(w4[0])).join("");function coe(n){let e=JSON.stringify(n);return`${loe}${Array.from(e).map(t=>{let i=t.charCodeAt(0);if(i>255)throw new Error(`Only ASCII edit info can be encoded. Error attempting to encode ${e} on character ${t} (${i})`);return Array.from(i.toString(4).padStart(4,"0")).map(r=>String.fromCodePoint(w4[r])).join("")}).join("")}`}function uoe(n){return!Number.isNaN(Number(n))||/[a-z]/i.test(n)&&!/\d+(?:[-:\/]\d+){2}(?:T\d+(?:[-:\/]\d+){1,2}(\.\d+)?Z?)?/.test(n)?!1:!!Date.parse(n)}function foe(n){try{new URL(n,n.startsWith("/")?"https://acme.com":void 0)}catch{return!1}return!0}function ufe(n,e,t="auto"){return t===!0||t==="auto"&&(uoe(n)||foe(n))?n:`${n}${coe(e)}`}Object.fromEntries(Object.entries(w4).map(n=>n.reverse()));Object.fromEntries(Object.entries(hP).map(n=>n.reverse()));var doe=`${Object.values(hP).map(n=>`\\u{${n.toString(16)}}`).join("")}`,iE=new RegExp(`[${doe}]{4,}`,"gu");function hoe(n){var e;return{cleaned:n.replace(iE,""),encoded:((e=n.match(iE))==null?void 0:e[0])||""}}function poe(n){return n&&JSON.parse(hoe(JSON.stringify(n)).cleaned)}function moe(n){return poe(n)}class goe extends Error{constructor(t){const i=pP(t);super(i.message);pe(this,"response");pe(this,"statusCode",400);pe(this,"responseBody");pe(this,"details");Object.assign(this,i)}}class Aoe extends Error{constructor(t){const i=pP(t);super(i.message);pe(this,"response");pe(this,"statusCode",500);pe(this,"responseBody");pe(this,"details");Object.assign(this,i)}}function pP(n){const e=n.body,t={response:n,statusCode:n.statusCode,responseBody:boe(e,n),message:"",details:void 0};if(e.error&&e.message)return t.message=`${e.error} - ${e.message}`,t;if(voe(e)||yoe(e)){const i=e.error.items||[],r=i.slice(0,5).map(o=>{var a;return(a=o.error)==null?void 0:a.description}).filter(Boolean);let s=r.length?`:
- ${r.join(`
- `)}`:"";return i.length>5&&(s+=`
...and ${i.length-5} more`),t.message=`${e.error.description}${s}`,t.details=e.error,t}return e.error&&e.error.description?(t.message=e.error.description,t.details=e.error,t):(t.message=e.error||e.message||_oe(n),t)}function voe(n){return Wg(n)&&Wg(n.error)&&n.error.type==="mutationError"&&typeof n.error.description=="string"}function yoe(n){return Wg(n)&&Wg(n.error)&&n.error.type==="actionError"&&typeof n.error.description=="string"}function Wg(n){return typeof n=="object"&&n!==null&&!Array.isArray(n)}function _oe(n){const e=n.statusMessage?` ${n.statusMessage}`:"";return`${n.method}-request to ${n.url} resulted in HTTP ${n.statusCode}${e}`}function boe(n,e){return(e.headers["content-type"]||"").toLowerCase().indexOf("application/json")!==-1?JSON.stringify(n,null,2):n}class xoe extends Error{constructor({projectId:t}){super("CorsOriginError");pe(this,"projectId");pe(this,"addOriginUrl");this.name="CorsOriginError",this.projectId=t;const i=new URL(`https://sanity.io/manage/project/${t}/api`);if(typeof location<"u"){const{origin:r}=location;i.searchParams.set("cors","add"),i.searchParams.set("origin",r),this.addOriginUrl=i,this.message=`The current origin is not allowed to connect to the Live Content API. Add it here: ${i}`}else this.message=`The current origin is not allowed to connect to the Live Content API. Change your configuration here: ${i}`}}const Coe={onResponse:n=>{if(n.statusCode>=500)throw new Aoe(n);if(n.statusCode>=400)throw new goe(n);return n}};function Soe(){const n={};return{onResponse:e=>{const t=e.headers["x-sanity-warning"],i=Array.isArray(t)?t:[t];for(const r of i)!r||n[r]||(n[r]=!0,console.warn(r));return e}}}function rE(n){return Jre([g4({shouldRetry:woe}),...n,Soe(),rse(),sse(),lse(),Coe,ase({implementation:mi})])}function woe(n,e,t){if(t.maxRetries===0)return!1;const i=t.method==="GET"||t.method==="HEAD",r=(t.uri||t.url).startsWith("/data/query"),s=n.response&&(n.response.statusCode===429||n.response.statusCode===502||n.response.statusCode===503);return(i||r)&&s?!0:g4.shouldRetry(n,e,t)}const Eoe="https://www.sanity.io/help/";function E4(n){return Eoe+n}const sE=["image","file"],oE=["before","after","replace"],mP=n=>{if(!/^(~[a-z0-9]{1}[-\w]{0,63}|[a-z0-9]{1}[-\w]{0,63})$/.test(n))throw new Error("Datasets can only contain lowercase characters, numbers, underscores and dashes, and start with tilde, and be maximum 64 characters")},Toe=n=>{if(!/^[-a-z0-9]+$/i.test(n))throw new Error("`projectId` can only contain only a-z, 0-9 and dashes")},Moe=n=>{if(sE.indexOf(n)===-1)throw new Error(`Invalid asset type: ${n}. Must be one of ${sE.join(", ")}`)},M0=(n,e)=>{if(e===null||typeof e!="object"||Array.isArray(e))throw new Error(`${n}() takes an object of properties`)},gP=(n,e)=>{if(typeof e!="string"||!/^[a-z0-9_][a-z0-9_.-]{0,127}$/i.test(e)||e.includes(".."))throw new Error(`${n}(): "${e}" is not a valid document ID`)},qg=(n,e)=>{if(!e._id)throw new Error(`${n}() requires that the document contains an ID ("_id" property)`);gP(n,e._id)},Ioe=(n,e,t)=>{const i="insert(at, selector, items)";if(oE.indexOf(n)===-1){const r=oE.map(s=>`"${s}"`).join(", ");throw new Error(`${i} takes an "at"-argument which is one of: ${r}`)}if(typeof e!="string")throw new Error(`${i} takes a "selector"-argument which must be a string`);if(!Array.isArray(t))throw new Error(`${i} takes an "items"-argument which must be an array`)},AP=n=>{if(!n.dataset)throw new Error("`dataset` must be provided to perform queries");return n.dataset||""},vP=n=>{if(typeof n!="string"||!/^[a-z0-9._-]{1,75}$/i.test(n))throw new Error("Tag can only contain alphanumeric characters, underscores, dashes and dots, and be between one and 75 characters long.");return n};function Doe(n){let e=!1,t;return(...i)=>(e||(t=n(...i),e=!0),t)}const qd=n=>Doe((...e)=>console.warn(n.join(" "),...e)),Poe=qd(["Because you set `withCredentials` to true, we will override your `useCdn`","setting to be false since (cookie-based) credentials are never set on the CDN"]),Roe=qd(["Since you haven't set a value for `useCdn`, we will deliver content using our","global, edge-cached API-CDN. If you wish to have content delivered faster, set","`useCdn: false` to use the Live API. Note: You may incur higher costs using the live API."]),Boe=qd(["The Sanity client is configured with the `perspective` set to `drafts` or `previewDrafts`, which doesn't support the API-CDN.","The Live API will be used instead. Set `useCdn: false` in your configuration to hide this warning."]),Loe=qd(["The `previewDrafts` perspective has been renamed to  `drafts` and will be removed in a future API version"]),Foe=qd(["You have configured Sanity client to use a token in the browser. This may cause unintentional security issues.",`See ${E4("js-client-browser-token")} for more information and how to hide this warning.`]),Ooe=qd(["Using the Sanity client without specifying an API version is deprecated.",`See ${E4("js-client-api-version")}`]),Uoe="apicdn.sanity.io",I0={apiHost:"https://api.sanity.io",apiVersion:"1",useProjectHostname:!0,stega:{enabled:!1}},Noe=["localhost","127.0.0.1","0.0.0.0"],koe=n=>Noe.indexOf(n)!==-1;function zoe(n){if(n==="1"||n==="X")return;const e=new Date(n);if(!(/^\d{4}-\d{2}-\d{2}$/.test(n)&&e instanceof Date&&e.getTime()>0))throw new Error("Invalid API version string, expected `1` or date in format `YYYY-MM-DD`")}const Hoe=/^[a-z0-9_]+$/i;function yP(n){if(Array.isArray(n)&&n.includes("raw"))throw new TypeError('Invalid API perspective value: "raw". The raw-perspective can not be combined with other perspectives');const e=(Array.isArray(n)?n:[n]).filter(t=>typeof t!="string"||!Hoe.test(t));if(e.length>0){const t=e.map(i=>JSON.stringify(i));throw new TypeError(`Invalid API perspective value${e.length===1?"":"s"}: ${t.join(", ")}, expected \`published\`, \`drafts\`, \`raw\` or a release identifier string`)}}const _P=(n,e)=>{const t={...e,...n,stega:{...typeof e.stega=="boolean"?{enabled:e.stega}:e.stega||I0.stega,...typeof n.stega=="boolean"?{enabled:n.stega}:n.stega||{}}};t.apiVersion||Ooe();const i={...I0,...t},r=i.useProjectHostname;if(typeof Promise>"u"){const f=E4("js-client-promise-polyfill");throw new Error(`No native Promise-implementation found, polyfill needed - see ${f}`)}if(r&&!i.projectId)throw new Error("Configuration must contain `projectId`");if(typeof i.perspective<"u"&&yP(i.perspective),"encodeSourceMap"in i)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMap' is not supported in '@sanity/client'. Did you mean 'stega.enabled'?");if("encodeSourceMapAtPath"in i)throw new Error("It looks like you're using options meant for '@sanity/preview-kit/client'. 'encodeSourceMapAtPath' is not supported in '@sanity/client'. Did you mean 'stega.filter'?");if(typeof i.stega.enabled!="boolean")throw new Error(`stega.enabled must be a boolean, received ${i.stega.enabled}`);if(i.stega.enabled&&i.stega.studioUrl===void 0)throw new Error("stega.studioUrl must be defined when stega.enabled is true");if(i.stega.enabled&&typeof i.stega.studioUrl!="string"&&typeof i.stega.studioUrl!="function")throw new Error(`stega.studioUrl must be a string or a function, received ${i.stega.studioUrl}`);const s=typeof window<"u"&&window.location&&window.location.hostname,o=s&&koe(window.location.hostname);s&&o&&i.token&&i.ignoreBrowserTokenWarning!==!0?Foe():typeof i.useCdn>"u"&&Roe(),r&&Toe(i.projectId),i.dataset&&mP(i.dataset),"requestTagPrefix"in i&&(i.requestTagPrefix=i.requestTagPrefix?vP(i.requestTagPrefix).replace(/\.+$/,""):void 0),i.apiVersion=`${i.apiVersion}`.replace(/^v/,""),i.isDefaultApi=i.apiHost===I0.apiHost,i.useCdn===!0&&i.withCredentials&&Poe(),i.useCdn=i.useCdn!==!1&&!i.withCredentials,zoe(i.apiVersion);const a=i.apiHost.split("://",2),l=a[0],c=a[1],u=i.isDefaultApi?Uoe:c;return i.useProjectHostname?(i.url=`${l}://${i.projectId}.${c}/v${i.apiVersion}`,i.cdnUrl=`${l}://${i.projectId}.${u}/v${i.apiVersion}`):(i.url=`${i.apiHost}/v${i.apiVersion}`,i.cdnUrl=i.url),i};class bP extends Error{constructor(){super(...arguments);pe(this,"name","ConnectionFailedError")}}class Voe extends Error{constructor(t,i,r={}){super(t,r);pe(this,"name","DisconnectError");pe(this,"reason");this.reason=i}}class Goe extends Error{constructor(t,i){super(t);pe(this,"name","ChannelError");pe(this,"data");this.data=i}}class Qoe extends Error{constructor(t,i,r={}){super(t,r);pe(this,"name","MessageError");pe(this,"data");this.data=i}}class aE extends Error{constructor(){super(...arguments);pe(this,"name","MessageParseError")}}const joe=["channelError","disconnect"];function xP(n,e){return cP(()=>{const t=n();return Wse(t)?t:LA(t)}).pipe(Dp(t=>Woe(t,e)))}function Woe(n,e){return new mi(t=>{const i=e.includes("open"),r=e.includes("reconnect");function s(c){if("data"in c){const[u,f]=lE(c);t.error(u?new aE("Unable to parse EventSource error message",{cause:f}):new Qoe((f==null?void 0:f.data).message,f));return}n.readyState===n.CLOSED?t.error(new bP("EventSource connection failed")):r&&t.next({type:"reconnect"})}function o(){t.next({type:"open"})}function a(c){var h;const[u,f]=lE(c);if(u){t.error(new aE("Unable to parse EventSource message",{cause:u}));return}if(c.type==="channelError"){t.error(new Goe(qoe(f==null?void 0:f.data),f.data));return}if(c.type==="disconnect"){t.error(new Voe(`Server disconnected client: ${((h=f.data)==null?void 0:h.reason)||"unknown error"}`));return}t.next({type:c.type,id:c.lastEventId,...f.data?{data:f.data}:{}})}n.addEventListener("error",s),i&&n.addEventListener("open",o);const l=[...new Set([...joe,...e])].filter(c=>c!=="error"&&c!=="open"&&c!=="reconnect");return l.forEach(c=>n.addEventListener(c,a)),()=>{n.removeEventListener("error",s),i&&n.removeEventListener("open",o),l.forEach(c=>n.removeEventListener(c,a)),n.close()}})}function lE(n){try{const e=typeof n.data=="string"&&JSON.parse(n.data);return[null,{type:n.type,id:n.lastEventId,...Xoe(e)?{}:{data:e}}]}catch(e){return[e,null]}}function qoe(n){return n.error?n.error.description?n.error.description:typeof n.error=="string"?n.error:JSON.stringify(n.error,null,2):n.message||"Unknown listener error"}function Xoe(n){for(const e in n)return!1;return!0}function CP(n){if(typeof n=="string")return{id:n};if(Array.isArray(n))return{query:"*[_id in $ids]",params:{ids:n}};if(typeof n=="object"&&n!==null&&"query"in n&&typeof n.query=="string")return"params"in n&&typeof n.params=="object"&&n.params!==null?{query:n.query,params:n.params}:{query:n.query};const e=["* Document ID (<docId>)","* Array of document IDs","* Object containing `query`"].join(`
`);throw new Error(`Unknown selection - must be one of:

${e}`)}class SP{constructor(e,t={}){pe(this,"selection");pe(this,"operations");this.selection=e,this.operations=t}set(e){return this._assign("set",e)}setIfMissing(e){return this._assign("setIfMissing",e)}diffMatchPatch(e){return M0("diffMatchPatch",e),this._assign("diffMatchPatch",e)}unset(e){if(!Array.isArray(e))throw new Error("unset(attrs) takes an array of attributes to unset, non-array given");return this.operations=Object.assign({},this.operations,{unset:e}),this}inc(e){return this._assign("inc",e)}dec(e){return this._assign("dec",e)}insert(e,t,i){return Ioe(e,t,i),this._assign("insert",{[e]:t,items:i})}append(e,t){return this.insert("after",`${e}[-1]`,t)}prepend(e,t){return this.insert("before",`${e}[0]`,t)}splice(e,t,i,r){const s=typeof i>"u"||i===-1,o=t<0?t-1:t,a=s?-1:Math.max(0,t+i),l=o<0&&a>=0?"":a,c=`${e}[${o}:${l}]`;return this.insert("replace",c,r||[])}ifRevisionId(e){return this.operations.ifRevisionID=e,this}serialize(){return{...CP(this.selection),...this.operations}}toJSON(){return this.serialize()}reset(){return this.operations={},this}_assign(e,t,i=!0){return M0(e,t),this.operations=Object.assign({},this.operations,{[e]:Object.assign({},i&&this.operations[e]||{},t)}),this}_set(e,t){return this._assign(e,t,!1)}}var au;const B4=class B4 extends SP{constructor(t,i,r){super(t,i);sn(this,au);tn(this,au,r)}clone(){return new B4(this.selection,{...this.operations},Ne(this,au))}commit(t){if(!Ne(this,au))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const i=typeof this.selection=="string",r=Object.assign({returnFirst:i,returnDocuments:!0},t);return Ne(this,au).mutate({patch:this.serialize()},r)}};au=new WeakMap;let Su=B4;var lu;const L4=class L4 extends SP{constructor(t,i,r){super(t,i);sn(this,lu);tn(this,lu,r)}clone(){return new L4(this.selection,{...this.operations},Ne(this,lu))}commit(t){if(!Ne(this,lu))throw new Error("No `client` passed to patch, either provide one or pass the patch to a clients `mutate()` method");const i=typeof this.selection=="string",r=Object.assign({returnFirst:i,returnDocuments:!0},t);return Ne(this,lu).mutate({patch:this.serialize()},r)}};lu=new WeakMap;let Vl=L4;const wP={returnDocuments:!1};class EP{constructor(e=[],t){pe(this,"operations");pe(this,"trxId");this.operations=e,this.trxId=t}create(e){return M0("create",e),this._add({create:e})}createIfNotExists(e){const t="createIfNotExists";return M0(t,e),qg(t,e),this._add({[t]:e})}createOrReplace(e){const t="createOrReplace";return M0(t,e),qg(t,e),this._add({[t]:e})}delete(e){return gP("delete",e),this._add({delete:{id:e}})}transactionId(e){return e?(this.trxId=e,this):this.trxId}serialize(){return[...this.operations]}toJSON(){return this.serialize()}reset(){return this.operations=[],this}_add(e){return this.operations.push(e),this}}var Da;const F4=class F4 extends EP{constructor(t,i,r){super(t,r);sn(this,Da);tn(this,Da,i)}clone(){return new F4([...this.operations],Ne(this,Da),this.trxId)}commit(t){if(!Ne(this,Da))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Ne(this,Da).mutate(this.serialize(),Object.assign({transactionId:this.trxId},wP,t||{}))}patch(t,i){const r=typeof i=="function",s=typeof t!="string"&&t instanceof Vl,o=typeof t=="object"&&("query"in t||"id"in t);if(s)return this._add({patch:t.serialize()});if(r){const a=i(new Vl(t,{},Ne(this,Da)));if(!(a instanceof Vl))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:a.serialize()})}if(o){const a=new Vl(t,i||{},Ne(this,Da));return this._add({patch:a.serialize()})}return this._add({patch:{id:t,...i}})}};Da=new WeakMap;let Xg=F4;var Ml;const O4=class O4 extends EP{constructor(t,i,r){super(t,r);sn(this,Ml);tn(this,Ml,i)}clone(){return new O4([...this.operations],Ne(this,Ml),this.trxId)}commit(t){if(!Ne(this,Ml))throw new Error("No `client` passed to transaction, either provide one or pass the transaction to a clients `mutate()` method");return Ne(this,Ml).mutate(this.serialize(),Object.assign({transactionId:this.trxId},wP,t||{}))}patch(t,i){const r=typeof i=="function";if(typeof t!="string"&&t instanceof Su)return this._add({patch:t.serialize()});if(r){const s=i(new Su(t,{},Ne(this,Ml)));if(!(s instanceof Su))throw new Error("function passed to `patch()` must return the patch");return this._add({patch:s.serialize()})}return this._add({patch:{id:t,...i}})}};Ml=new WeakMap;let Yg=O4;const Yoe="X-Sanity-Project-ID";function $oe(n,e={}){const t={},i=e.token||n.token;i&&(t.Authorization=`Bearer ${i}`),!e.useGlobalApi&&!n.useProjectHostname&&n.projectId&&(t[Yoe]=n.projectId);const r=!!(typeof e.withCredentials>"u"?n.token||n.withCredentials:e.withCredentials),s=typeof e.timeout>"u"?n.timeout:e.timeout;return Object.assign({},e,{headers:Object.assign({},t,e.headers||{}),timeout:typeof s>"u"?5*60*1e3:s,proxy:e.proxy||n.proxy,json:!0,withCredentials:r,fetch:typeof e.fetch=="object"&&typeof n.fetch=="object"?{...n.fetch,...e.fetch}:e.fetch||n.fetch})}const TP=({query:n,params:e={},options:t={}})=>{const i=new URLSearchParams,{tag:r,includeMutations:s,returnQuery:o,...a}=t;r&&i.append("tag",r),i.append("query",n);for(const[l,c]of Object.entries(e))i.append(`$${l}`,JSON.stringify(c));for(const[l,c]of Object.entries(a))c&&i.append(l,`${c}`);return o===!1&&i.append("returnQuery","false"),s===!1&&i.append("includeMutations","false"),`?${i}`},Koe=(n,e)=>n===!1?void 0:typeof n>"u"?e:n,Zoe=(n={})=>({dryRun:n.dryRun,returnIds:!0,returnDocuments:Koe(n.returnDocuments,!0),visibility:n.visibility||"sync",autoGenerateArrayKeys:n.autoGenerateArrayKeys,skipCrossDatasetReferenceValidation:n.skipCrossDatasetReferenceValidation}),T4=n=>n.type==="response",Joe=n=>n.body,eae=(n,e)=>n.reduce((t,i)=>(t[e(i)]=i,t),Object.create(null)),tae=11264;function MP(n,e,t,i,r={},s={}){const o="stega"in s?{...t||{},...typeof s.stega=="boolean"?{enabled:s.stega}:s.stega||{}}:t,a=o.enabled?moe(r):r,l=s.filterResponse===!1?m=>m:m=>m.result,{cache:c,next:u,...f}={useAbortSignal:typeof s.signal<"u",resultSourceMap:o.enabled?"withKeyArraySelector":s.resultSourceMap,...s,returnQuery:s.filterResponse===!1&&s.returnQuery!==!1},h=typeof c<"u"||typeof u<"u"?{...f,fetch:{cache:c,next:u}}:f,p=Xd(n,e,"query",{query:i,params:a},h);return o.enabled?p.pipe(soe(Ip(wr(()=>import("./BdTKUdWd.js"),[],import.meta.url).then(function(m){return m.stegaEncodeSourceMap$1}).then(({stegaEncodeSourceMap:m})=>m))),ns(([m,g])=>{const A=g(m.result,m.resultSourceMap,o);return l({...m,result:A})})):p.pipe(ns(l))}function IP(n,e,t,i={}){const r={uri:Uu(n,"doc",t),json:!0,tag:i.tag,signal:i.signal};return Pp(n,e,r).pipe(Wd(T4),ns(s=>s.body.documents&&s.body.documents[0]))}function DP(n,e,t,i={}){const r={uri:Uu(n,"doc",t.join(",")),json:!0,tag:i.tag,signal:i.signal};return Pp(n,e,r).pipe(Wd(T4),ns(s=>{const o=eae(s.body.documents||[],a=>a._id);return t.map(a=>o[a]||null)}))}function PP(n,e,t,i){return qg("createIfNotExists",t),FA(n,e,t,"createIfNotExists",i)}function RP(n,e,t,i){return qg("createOrReplace",t),FA(n,e,t,"createOrReplace",i)}function BP(n,e,t,i){return Xd(n,e,"mutate",{mutations:[{delete:CP(t)}]},i)}function LP(n,e,t,i){let r;t instanceof Vl||t instanceof Su?r={patch:t.serialize()}:t instanceof Xg||t instanceof Yg?r=t.serialize():r=t;const s=Array.isArray(r)?r:[r],o=i&&i.transactionId||void 0;return Xd(n,e,"mutate",{mutations:s,transactionId:o},i)}function FP(n,e,t,i){const r=Array.isArray(t)?t:[t],s=i&&i.transactionId||void 0,o=i&&i.skipCrossDatasetReferenceValidation||void 0,a=i&&i.dryRun||void 0;return Xd(n,e,"actions",{actions:r,transactionId:s,skipCrossDatasetReferenceValidation:o,dryRun:a},i)}function Xd(n,e,t,i,r={}){const s=t==="mutate",o=t==="actions",a=t==="query",l=s||o?"":TP(i),c=!s&&!o&&l.length<tae,u=c?l:"",f=r.returnFirst,{timeout:h,token:p,tag:m,headers:g,returnQuery:A,lastLiveEventId:y,cacheMode:x}=r,b=Uu(n,t,u),_={method:c?"GET":"POST",uri:b,json:!0,body:c?void 0:i,query:s&&Zoe(r),timeout:h,headers:g,token:p,tag:m,returnQuery:A,perspective:r.perspective,resultSourceMap:r.resultSourceMap,lastLiveEventId:Array.isArray(y)?y[0]:y,cacheMode:x,canUseCdn:a,signal:r.signal,fetch:r.fetch,useAbortSignal:r.useAbortSignal,useCdn:r.useCdn};return Pp(n,e,_).pipe(Wd(T4),ns(Joe),ns(T=>{if(!s)return T;const M=T.results||[];if(r.returnDocuments)return f?M[0]&&M[0].document:M.map(w=>w.document);const I=f?"documentId":"documentIds",P=f?M[0]&&M[0].id:M.map(w=>w.id);return{transactionId:T.transactionId,results:M,[I]:P}}))}function FA(n,e,t,i,r={}){const s={[i]:t},o=Object.assign({returnFirst:!0,returnDocuments:!0},r);return Xd(n,e,"mutate",{mutations:[s]},o)}function Pp(n,e,t){const i=t.url||t.uri,r=n.config(),s=typeof t.canUseCdn>"u"?["GET","HEAD"].indexOf(t.method||"GET")>=0&&i.indexOf("/data/")===0:t.canUseCdn;let o=(t.useCdn??r.useCdn)&&s;const a=t.tag&&r.requestTagPrefix?[r.requestTagPrefix,t.tag].join("."):t.tag||r.requestTagPrefix;if(a&&t.tag!==null&&(t.query={tag:vP(a),...t.query}),["GET","HEAD","POST"].indexOf(t.method||"GET")>=0&&i.indexOf("/data/query/")===0){const u=t.resultSourceMap??r.resultSourceMap;u!==void 0&&u!==!1&&(t.query={resultSourceMap:u,...t.query});const f=t.perspective||r.perspective;typeof f<"u"&&(f==="previewDrafts"&&Loe(),yP(f),t.query={perspective:Array.isArray(f)?f.join(","):f,...t.query},(Array.isArray(f)&&f.length>0||f==="previewDrafts"||f==="drafts")&&o&&(o=!1,Boe())),t.lastLiveEventId&&(t.query={...t.query,lastLiveEventId:t.lastLiveEventId}),t.returnQuery===!1&&(t.query={returnQuery:"false",...t.query}),o&&t.cacheMode=="noStale"&&(t.query={cacheMode:"noStale",...t.query})}const l=$oe(r,Object.assign({},t,{url:M4(n,i,o)})),c=new mi(u=>e(l,r.requester).subscribe(u));return t.signal?c.pipe(nae(t.signal)):c}function Po(n,e,t){return Pp(n,e,t).pipe(Wd(i=>i.type==="response"),ns(i=>i.body))}function Uu(n,e,t){const i=n.config(),r=AP(i),s=`/${e}/${r}`;return`/data${t?`${s}/${t}`:s}`.replace(/\/($|\?)/,"$1")}function M4(n,e,t=!1){const{url:i,cdnUrl:r}=n.config();return`${t?r:i}/${e.replace(/^\//,"")}`}function nae(n){return e=>new mi(t=>{const i=()=>t.error(rae(n));if(n&&n.aborted){i();return}const r=e.subscribe(t);return n.addEventListener("abort",i),()=>{n.removeEventListener("abort",i),r.unsubscribe()}})}const iae=!!globalThis.DOMException;function rae(n){if(iae)return new DOMException((n==null?void 0:n.reason)??"The operation was aborted.","AbortError");const e=new Error((n==null?void 0:n.reason)??"The operation was aborted.");return e.name="AbortError",e}var cp,up;class sae{constructor(e,t){sn(this,cp);sn(this,up);tn(this,cp,e),tn(this,up,t)}upload(e,t,i){return OP(Ne(this,cp),Ne(this,up),e,t,i)}}cp=new WeakMap,up=new WeakMap;var fp,dp;class oae{constructor(e,t){sn(this,fp);sn(this,dp);tn(this,fp,e),tn(this,dp,t)}upload(e,t,i){const r=OP(Ne(this,fp),Ne(this,dp),e,t,i);return Ui(r.pipe(Wd(s=>s.type==="response"),ns(s=>s.body.document)))}}fp=new WeakMap,dp=new WeakMap;function OP(n,e,t,i,r={}){Moe(t);let s=r.extract||void 0;s&&!s.length&&(s=["none"]);const o=AP(n.config()),a=t==="image"?"images":"files",l=aae(r,i),{tag:c,label:u,title:f,description:h,creditLine:p,filename:m,source:g}=l,A={label:u,title:f,description:h,filename:m,meta:s,creditLine:p};return g&&(A.sourceId=g.id,A.sourceName=g.name,A.sourceUrl=g.url),Pp(n,e,{tag:c,method:"POST",timeout:l.timeout||0,uri:`/assets/${a}/${o}`,headers:l.contentType?{"Content-Type":l.contentType}:{},query:A,body:i})}function aae(n,e){return typeof File>"u"||!(e instanceof File)?n:Object.assign({filename:n.preserveFilename===!1?void 0:e.name,contentType:e.type},n)}var lae=(n,e)=>Object.keys(e).concat(Object.keys(n)).reduce((t,i)=>(t[i]=typeof n[i]>"u"?e[i]:n[i],t),{});const cae=(n,e)=>e.reduce((t,i)=>(typeof n[i]>"u"||(t[i]=n[i]),t),{}),UP=cP(()=>wr(()=>import("./C0rKj1EG.js").then(n=>n.b),[],import.meta.url)).pipe(ns(({default:n})=>n),ooe(1));function NP(){return function(n){return n.pipe(S4((e,t)=>e instanceof bP?lP(LA({type:"reconnect"}),toe(1e3).pipe(Dp(()=>t))):oP(()=>e)))}}const uae=14800,fae=["includePreviousRevision","includeResult","includeMutations","includeAllVersions","visibility","effectFormat","tag"],dae={includeResult:!0};function kP(n,e,t={}){const{url:i,token:r,withCredentials:s,requestTagPrefix:o}=this.config(),a=t.tag&&o?[o,t.tag].join("."):t.tag,l={...lae(t,dae),tag:a},c=cae(l,fae),u=TP({query:n,params:e,options:{tag:a,...c}}),f=`${i}${Uu(this,"listen",u)}`;if(f.length>uae)return oP(()=>new Error("Query too large for listener"));const h=l.events?l.events:["mutation"],p={};return(r||s)&&(p.withCredentials=!0),r&&(p.headers={Authorization:`Bearer ${r}`}),xP(()=>(typeof EventSource>"u"||p.headers?UP:LA(EventSource)).pipe(ns(m=>new m(f,p))),h).pipe(NP(),Wd(m=>h.includes(m.type)),ns(m=>({type:m.type,..."data"in m?m.data:{}})))}function hae(n,e){return pae(typeof n=="function"?{predicate:n,...e}:n)}function pae(n){return e=>{let t,i=!1;const{predicate:r,...s}=n,o=e.pipe(aoe(l=>{n.predicate(l)&&(i=!0,t=l)}),fP(()=>{i=!1,t=void 0}),dP(s)),a=new mi(l=>{i&&l.next(t),l.complete()});return noe(o,a)}}const cE="2021-03-25";var cu;class zP{constructor(e){sn(this,cu);tn(this,cu,e)}events({includeDrafts:e=!1,tag:t}={}){const{projectId:i,apiVersion:r,token:s,withCredentials:o,requestTagPrefix:a}=Ne(this,cu).config(),l=r.replace(/^v/,"");if(l!=="X"&&l<cE)throw new Error(`The live events API requires API version ${cE} or later. The current API version is ${l}. Please update your API version to use this feature.`);if(e&&!s&&!o)throw new Error("The live events API requires a token or withCredentials when 'includeDrafts: true'. Please update your client configuration. The token should have the lowest possible access role.");const c=Uu(Ne(this,cu),"live/events"),u=new URL(Ne(this,cu).getUrl(c,!1)),f=t&&a?[a,t].join("."):t;f&&u.searchParams.set("tag",f),e&&u.searchParams.set("includeDrafts","true");const h={};e&&s&&(h.headers={Authorization:`Bearer ${s}`}),e&&o&&(h.withCredentials=!0);const p=`${u.href}::${JSON.stringify(h)}`,m=iy.get(p);if(m)return m;const g=xP(()=>(typeof EventSource>"u"||h.headers?UP:LA(EventSource)).pipe(ns(x=>new x(u.href,h))),["message","restart","welcome","reconnect"]).pipe(NP(),ns(x=>{if(x.type==="message"){const{data:b,..._}=x;return{..._,tags:b.tags}}return x})),A=mae(u,{method:"OPTIONS",mode:"cors",credentials:h.withCredentials?"include":"omit",headers:h.headers}).pipe(Dp(()=>WD),S4(()=>{throw new xoe({projectId:i})})),y=lP(A,g).pipe(fP(()=>iy.delete(p)),hae({predicate:x=>x.type==="welcome"}));return iy.set(p,y),y}}cu=new WeakMap;function mae(n,e){return new mi(t=>{const i=new AbortController,r=i.signal;return fetch(n,{...e,signal:i.signal}).then(s=>{t.next(s),t.complete()},s=>{r.aborted||t.error(s)}),()=>i.abort()})}const iy=new Map;var Il,Dl;class gae{constructor(e,t){sn(this,Il);sn(this,Dl);tn(this,Il,e),tn(this,Dl,t)}create(e,t){return sd(Ne(this,Il),Ne(this,Dl),"PUT",e,t)}edit(e,t){return sd(Ne(this,Il),Ne(this,Dl),"PATCH",e,t)}delete(e){return sd(Ne(this,Il),Ne(this,Dl),"DELETE",e)}list(){return Po(Ne(this,Il),Ne(this,Dl),{uri:"/datasets",tag:null})}}Il=new WeakMap,Dl=new WeakMap;var Pl,Rl;class Aae{constructor(e,t){sn(this,Pl);sn(this,Rl);tn(this,Pl,e),tn(this,Rl,t)}create(e,t){return Ui(sd(Ne(this,Pl),Ne(this,Rl),"PUT",e,t))}edit(e,t){return Ui(sd(Ne(this,Pl),Ne(this,Rl),"PATCH",e,t))}delete(e){return Ui(sd(Ne(this,Pl),Ne(this,Rl),"DELETE",e))}list(){return Ui(Po(Ne(this,Pl),Ne(this,Rl),{uri:"/datasets",tag:null}))}}Pl=new WeakMap,Rl=new WeakMap;function sd(n,e,t,i,r){return mP(i),Po(n,e,{method:t,uri:`/datasets/${i}`,body:r,tag:null})}var ad,ld;class vae{constructor(e,t){sn(this,ad);sn(this,ld);tn(this,ad,e),tn(this,ld,t)}list(e){const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Po(Ne(this,ad),Ne(this,ld),{uri:t})}getById(e){return Po(Ne(this,ad),Ne(this,ld),{uri:`/projects/${e}`})}}ad=new WeakMap,ld=new WeakMap;var cd,ud;class yae{constructor(e,t){sn(this,cd);sn(this,ud);tn(this,cd,e),tn(this,ud,t)}list(e){const t=(e==null?void 0:e.includeMembers)===!1?"/projects?includeMembers=false":"/projects";return Ui(Po(Ne(this,cd),Ne(this,ud),{uri:t}))}getById(e){return Ui(Po(Ne(this,cd),Ne(this,ud),{uri:`/projects/${e}`}))}}cd=new WeakMap,ud=new WeakMap;var hp,pp;class _ae{constructor(e,t){sn(this,hp);sn(this,pp);tn(this,hp,e),tn(this,pp,t)}getById(e){return Po(Ne(this,hp),Ne(this,pp),{uri:`/users/${e}`})}}hp=new WeakMap,pp=new WeakMap;var mp,gp;class bae{constructor(e,t){sn(this,mp);sn(this,gp);tn(this,mp,e),tn(this,gp,t)}getById(e){return Ui(Po(Ne(this,mp),Ne(this,gp),{uri:`/users/${e}`}))}}mp=new WeakMap,gp=new WeakMap;var Pa,wi;const $g=class $g{constructor(e,t=I0){pe(this,"assets");pe(this,"datasets");pe(this,"live");pe(this,"projects");pe(this,"users");sn(this,Pa);sn(this,wi);pe(this,"listen",kP);this.config(t),tn(this,wi,e),this.assets=new sae(this,Ne(this,wi)),this.datasets=new gae(this,Ne(this,wi)),this.live=new zP(this),this.projects=new vae(this,Ne(this,wi)),this.users=new _ae(this,Ne(this,wi))}clone(){return new $g(Ne(this,wi),this.config())}config(e){if(e===void 0)return{...Ne(this,Pa)};if(Ne(this,Pa)&&Ne(this,Pa).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return tn(this,Pa,_P(e,Ne(this,Pa)||{})),this}withConfig(e){const t=this.config();return new $g(Ne(this,wi),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,i){return MP(this,Ne(this,wi),Ne(this,Pa).stega,e,t,i)}getDocument(e,t){return IP(this,Ne(this,wi),e,t)}getDocuments(e,t){return DP(this,Ne(this,wi),e,t)}create(e,t){return FA(this,Ne(this,wi),e,"create",t)}createIfNotExists(e,t){return PP(this,Ne(this,wi),e,t)}createOrReplace(e,t){return RP(this,Ne(this,wi),e,t)}delete(e,t){return BP(this,Ne(this,wi),e,t)}mutate(e,t){return LP(this,Ne(this,wi),e,t)}patch(e,t){return new Su(e,t,this)}transaction(e){return new Yg(e,this)}action(e,t){return FP(this,Ne(this,wi),e,t)}request(e){return Po(this,Ne(this,wi),e)}getUrl(e,t){return M4(this,e,t)}getDataUrl(e,t){return Uu(this,e,t)}};Pa=new WeakMap,wi=new WeakMap;let Ob=$g;var Ra,yi;const Kg=class Kg{constructor(e,t=I0){pe(this,"assets");pe(this,"datasets");pe(this,"live");pe(this,"projects");pe(this,"users");pe(this,"observable");sn(this,Ra);sn(this,yi);pe(this,"listen",kP);this.config(t),tn(this,yi,e),this.assets=new oae(this,Ne(this,yi)),this.datasets=new Aae(this,Ne(this,yi)),this.live=new zP(this),this.projects=new yae(this,Ne(this,yi)),this.users=new bae(this,Ne(this,yi)),this.observable=new Ob(e,t)}clone(){return new Kg(Ne(this,yi),this.config())}config(e){if(e===void 0)return{...Ne(this,Ra)};if(Ne(this,Ra)&&Ne(this,Ra).allowReconfigure===!1)throw new Error("Existing client instance cannot be reconfigured - use `withConfig(newConfig)` to return a new client");return this.observable&&this.observable.config(e),tn(this,Ra,_P(e,Ne(this,Ra)||{})),this}withConfig(e){const t=this.config();return new Kg(Ne(this,yi),{...t,...e,stega:{...t.stega||{},...typeof(e==null?void 0:e.stega)=="boolean"?{enabled:e.stega}:(e==null?void 0:e.stega)||{}}})}fetch(e,t,i){return Ui(MP(this,Ne(this,yi),Ne(this,Ra).stega,e,t,i))}getDocument(e,t){return Ui(IP(this,Ne(this,yi),e,t))}getDocuments(e,t){return Ui(DP(this,Ne(this,yi),e,t))}create(e,t){return Ui(FA(this,Ne(this,yi),e,"create",t))}createIfNotExists(e,t){return Ui(PP(this,Ne(this,yi),e,t))}createOrReplace(e,t){return Ui(RP(this,Ne(this,yi),e,t))}delete(e,t){return Ui(BP(this,Ne(this,yi),e,t))}mutate(e,t){return Ui(LP(this,Ne(this,yi),e,t))}patch(e,t){return new Vl(e,t,this)}transaction(e){return new Xg(e,this)}action(e,t){return Ui(FP(this,Ne(this,yi),e,t))}request(e){return Ui(Po(this,Ne(this,yi),e))}dataRequest(e,t,i){return Ui(Xd(this,Ne(this,yi),e,t,i))}getUrl(e,t){return M4(this,e,t)}getDataUrl(e,t){return Uu(this,e,t)}};Ra=new WeakMap,yi=new WeakMap;let Ub=Kg;function xae(n,e){return{requester:rE(n),createClient:t=>{const i=rE(n);return new e((r,s)=>(s||i)({maxRedirects:0,maxRetries:t.maxRetries,retryDelay:t.retryDelay,...r}),t)}}}var Cae=[];const Sae=xae(Cae,Ub),uE=Sae.createClient,fE=n=>{const e={...n};let t=uE(e);return{client:t,config:e,fetch:(...i)=>t.fetch(...i),setToken(i){e.token=i,t=uE(e)}}},wae=(n="default")=>{var s;const e=Tn();if((s=e._sanity)!=null&&s[n])return e._sanity[n];e._sanity=e._sanity||{};const t=Bu(),{additionalClients:i={},...r}=t.public.sanity;return!r.disableSmartCdn&&e.$preview?r.useCdn=!1:!r.useCdn&&!r.token&&(r.useCdn=!0),n==="default"?(e._sanity.default=fE(r),e._sanity.default):(e._sanity[n]=fE(fA(i[n],r)),e._sanity[n])},HP=(n,e,t={})=>{const{client:i,...r}=t,s=wae(i);return rY("sanity-"+EY(n+""),()=>s.fetch(n,{}),r)};function dE(n,e=document){return e.querySelector(n)}function Nb(n,e=document){return Array.prototype.slice.call(e.querySelectorAll(n))}function Eae(n){const e=[4,16,64,256,1024,2048,4096,8192,16384,32768,65536,131072,262144],t=e.reduce((i,r)=>Math.abs(r-n)<Math.abs(i-n)?r:i);return t<n?Math.sqrt(e[e.indexOf(t)+1]):Math.sqrt(t)}function An(...n){const e=t=>t&&typeof t=="object";return n.reduce((t,i)=>(Object.keys(i).forEach(r=>{const s=t[r],o=i[r];Array.isArray(s)&&Array.isArray(o)?t[r]=s.concat(...o):e(s)&&e(o)&&r!=="value"?t[r]=An(s,o):t[r]=o}),t),{})}function Wn(n){return n.replace(/#define\sGLSLIFY\s./,"")}const Tae={class:"fixed container flex justify-between max-w-full top-0 mt-12 md:pt-24 z-20 js-header"},Mae={class:"w-[18px] h-[14px] md:w-[18px] md:h-[14px]",viewBox:"0 0 18 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Iae={class:"whitespace-nowrap text-18 sm:text-12 md:text-18 font-500 leading-1.2"},Dae={class:"sr-only"},Pae={"aria-hidden":"true",class:"mr-16 font-mono font-500 text-14 sm:text-10 md:text-14 leading-1 uppercase"},Rae={"aria-hidden":"true",class:"overflow-hidden js-to-split flex gap-4"},Bae={class:"pt-32 md:pt-48 flex gap-x-24 sm:gap-x-16 md:gap-x-24"},Lae=vs({__name:"Navigation",props:{footerLinks:{}},async setup(n){var w,E,O,F,H;let e,t;const{data:i}=([e,t]=n7(()=>HP(jre)),e=await e,t(),e),r=gt(),s=gt(),o=gt(),a=gt(),l=gt(),c=gt(),u=gt(),f=gt();let h=null;const{scrollTo:p}=CA(),m=hA();let g=[],A=[];const y=[],x=[[((w=i.value)==null?void 0:w.computingTitle)||"Computation & Intelligence","computing"],[((E=i.value)==null?void 0:E.engineeringTitle)||"Engineering, Aerospace & Defense ","engineering"],[((O=i.value)==null?void 0:O.biologyTitle)||"Biology & Chemistry","biology"],[((F=i.value)==null?void 0:F.cryptoTitle)||"Crypto","crypto"],[((H=i.value)==null?void 0:H.teamTitle)||"Who We Are","team"]];oi(()=>m.path,()=>{var z;(z=f.value)==null||z.closeDisclosure()});const b=z=>z?(z.style.clipPath="inset(0 0 100% 100%)",new Promise(X=>{h||(h=Ao.timeline({paused:!0,defaults:{ease:"joe.out",duration:.5}}).to([r.value,o.value],{opacity:0,duration:.2}).to(l.value,{rotate:45,transformOrigin:"center"},0).to(s.value,{rotate:-45,scaleX:.55,xPercent:-20,transformOrigin:"right"},0).to(a.value,{rotate:-45,scaleX:.55,xPercent:20},0)),u.value.classList.add("is-active");const U=Ao.timeline({onComplete:X}).to(z,{clipPath:"inset(0 0 0 0)",modifiers:{clipPath:G=>{const j=G.match(/[\d.]+/g);return j?`inset(${j[0]}% ${j[1]}% ${j[2]}% ${j[3]}%)`:G}},ease:"joe.out",duration:.4}).fromTo(".js-navborder",{xPercent:-50},{stagger:.03,xPercent:0,duration:.4,ease:"joe.out"},.1);y.forEach((G,j)=>{U.from(G.words,{yPercent:101,stagger:.04,duration:.5,ease:"joe.out"},j*.04)}),h.play()})):Promise.resolve(),_=z=>new Promise(X=>{h&&(u.value.classList.remove("is-active"),h.reverse(),Ao.to(z,{clipPath:"inset(0 0 100% 100%)",modifiers:{clipPath:U=>{const G=U.match(/[\d.]+/g);return G?`inset(${G[0]}% ${G[1]}% ${G[2]}% ${G[3]}%)`:U}},ease:"joe.inOut",duration:.4}).then(()=>{X()}))}),T=async z=>{var X;m.path==="/"&&(p(`[data-section="${z}"]`,{duration:2,offset:S.window.h*.15}),(X=f.value)==null||X.closeDisclosure())},M=z=>{A.forEach((X,U)=>{U!==z&&X.classList.add("opacity-50")})},I=()=>{A.forEach(z=>{z.classList.remove("opacity-50")})},P=()=>{m.path==="/"&&p("top",{duration:2})};return ks(async()=>{await el(),g=Nb(".js-to-split"),A=Nb(".js-navlink"),g.forEach(z=>{y.push(new Cd(z,{type:"words"}))})}),nl(()=>{y.forEach(z=>z.revert())}),(z,X)=>{const U=yI,G=Rre,j=Fre;return fi(),ka("div",Tae,[dn(U,{to:"/",onClick:P},{default:Na(()=>[X[0]||(X[0]=ei("span",{class:"sr-only"},"Back to home page",-1)),dn(qt(Gre),{class:"w-[48px] h-[32px] sm:w-32 sm:h-24 md:w-[64px] md:h-[42px]"})]),_:1}),ei("nav",{ref_key:"nav",ref:u,class:"relative group"},[ei("button",{ref_key:"toggleButton",ref:c,class:"relative z-10 bg-white w-[40px] h-[40px] sm:w-[48px] sm:h-[48px] flex items-center justify-center text-black transition-colors duration-300 hover:text-white hover:bg-hover group-[.is-active]:bg-white group-[.is-active]:text-black"},[X[1]||(X[1]=ei("span",{class:"sr-only"},"Site navigation",-1)),(fi(),ka("svg",Mae,[ei("path",{ref_key:"center",ref:l,d:"M1 7H17",stroke:"currentColor","stroke-opacity":"0.8","stroke-width":"2","stroke-linecap":"square"},null,512),ei("path",{ref_key:"topRight",ref:s,d:"M7 1L17 1",stroke:"currentColor","stroke-opacity":"0.8","stroke-width":"2","stroke-linecap":"square"},null,512),ei("path",{ref_key:"topLeft",ref:r,d:"M1 1H3",stroke:"currentColor","stroke-opacity":"0.8","stroke-width":"2","stroke-linecap":"square"},null,512),ei("path",{ref_key:"bottomRight",ref:o,d:"M15 13L17 13",stroke:"currentColor","stroke-opacity":"0.8","stroke-width":"2","stroke-linecap":"square"},null,512),ei("path",{ref_key:"bottomLeft",ref:a,d:"M1 13L11 13",stroke:"currentColor","stroke-opacity":"0.8","stroke-width":"2","stroke-linecap":"square"},null,512)]))],512),dn(j,{ref_key:"disclosure",ref:f,"button-ref":qt(c),"is-dropdown":!0,class:"dropdown | bg-hover group-[.is-active]:bg-white transition-colors duration-300 absolute right-0 top-0 px-12 pb-16 md:p-24 pt-60 sm:pt-40 md:pt-60","handle-open":b,"handle-close":_},{default:Na(()=>[ei("ul",Iae,[(fi(),ka(Ii,null,z5(x,(Y,Q)=>ei("li",{key:Q,class:"py-10 sm:py-6 md:py-10 sm:pr-12 md:pr-60 relative overflow-hidden"},[dn(U,{href:`/#section-${Q}`,class:yp(["group/li inline-flex items-baseline transition-opacity duration-300 ease-joe.inOut","js-navlink",`gradient-${Y[1]}`]),onClick:ve=>T(Q),onMouseover:ve=>M(Q),onMouseleave:I},{default:Na(()=>[ei("span",Dae,If(Y[0]),1),ei("span",Pae,"0"+If(Q+1),1),ei("span",Rae,If(Y[0].replace(" ","")),1),X[2]||(X[2]=ei("div",{class:"absolute w-full border-b bottom-0 left-0 border-black/10 js-navborder"},null,-1)),X[3]||(X[3]=ei("div",{class:"group-hover/li:translate-x-0 | absolute w-full bottom-0 left-0 -translate-x-[101%] h-[1px] transform-translate duration-300 ease-joe.inOut overflow-hidden"},[ei("div",{class:"group-hover/li:translate-x-0 | dropdown__line | translate-x-[101%] transform-translate duration-300 ease-joe.inOut h-[1px]"})],-1))]),_:2},1032,["href","class","onClick","onMouseover"])])),64))]),ei("div",Bae,[(fi(!0),ka(Ii,null,z5(z.footerLinks,(Y,Q)=>(fi(),$s(G,{key:Q,href:Y.url,class:"font-mono text-14 sm:text-10 md:text-14 font-500 leading-1 uppercase","aria-label":Y.title},{default:Na(()=>[rx(If(Y.title),1)]),_:2},1032,["href","aria-label"]))),128))])]),_:1},8,["button-ref"])],512)])}}}),Fae=m4(Lae,[["__scopeId","data-v-9fe13e67"]]),Oae=vs({props:{vnode:{type:Object,required:!0},route:{type:Object,required:!0},vnodeRef:Object,renderKey:String,trackRootNodes:Boolean},setup(n){const e=n.renderKey,t=n.route,i={};for(const r in n.route)Object.defineProperty(i,r,{get:()=>e===n.renderKey?n.route[r]:t[r],enumerable:!0});return Ga(dA,Ua(i)),()=>Mr(n.vnode,{ref:n.vnodeRef})}}),Uae=vs({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(n,{attrs:e,slots:t,expose:i}){const r=Tn(),s=gt(),o=es(dA,null);let a;i({pageRef:s});const l=es(XG,null);let c;const u=r.deferHydration();if(r.isHydrating){const h=r.hooks.hookOnce("app:error",u);As().beforeEach(h)}n.pageKey&&oi(()=>n.pageKey,(h,p)=>{h!==p&&r.callHook("page:loading:start")});let f=!1;return()=>Mr(BT,{name:n.name,route:n.route,...e},{default:h=>{const p=kae(o,h.route,h.Component),m=o&&o.matched.length===h.route.matched.length;if(!h.Component){if(c&&!m)return c;u();return}if(c&&l&&!l.isCurrent(h.route))return c;if(p&&o&&(!l||l!=null&&l.isCurrent(o)))return m?c:null;const g=A_(h,n.pageKey);!r.isHydrating&&!zae(o,h.route,h.Component)&&a===g&&(r.callHook("page:loading:end"),f=!0),a=g;const A=!!(n.transition??h.route.meta.pageTransition??i_),y=A&&Nae([n.transition,h.route.meta.pageTransition,i_,{onAfterLeave:()=>{r.callHook("page:transition:finish",h.Component)}}].filter(Boolean)),x=n.keepalive??h.route.meta.keepalive??PG;return c=pW(A&&y,hW(x,Mr(x7,{suspensible:!0,onPending:()=>r.callHook("page:start",h.Component),onResolve:()=>{el(()=>r.callHook("page:finish",h.Component).then(()=>{if(!f)return r.callHook("page:loading:end");f=!1}).finally(u))}},{default:()=>{const b=Mr(Oae,{key:g||void 0,vnode:t.default?Mr(Ii,void 0,t.default(h)):h.Component,route:h.route,renderKey:g||void 0,trackRootNodes:A,vnodeRef:s});return x&&(b.type.name=h.Component.type.name||h.Component.type.__name||"RouteProvider"),b}}))).default(),c}})}});function Nae(n){const e=n.map(t=>({...t,onAfterLeave:t.onAfterLeave?hx(t.onAfterLeave):void 0}));return fA(...e)}function kae(n,e,t){if(!n)return!1;const i=e.matched.findIndex(r=>{var s;return((s=r.components)==null?void 0:s.default)===(t==null?void 0:t.type)});return!i||i===-1?!1:e.matched.slice(0,i).some((r,s)=>{var o,a,l;return((o=r.components)==null?void 0:o.default)!==((l=(a=n.matched[s])==null?void 0:a.components)==null?void 0:l.default)})||t&&A_({route:e,Component:t})!==A_({route:n,Component:t})}function zae(n,e,t){return n?e.matched.findIndex(r=>{var s;return((s=r.components)==null?void 0:s.default)===(t==null?void 0:t.type)})<e.matched.length-1:!1}var Hae="1.2.3";function VP(n,e,t){return Math.max(n,Math.min(e,t))}function Vae(n,e,t){return(1-t)*n+t*e}function Gae(n,e,t,i){return Vae(n,e,1-Math.exp(-t*i))}function Qae(n,e){return(n%e+e)%e}var jae=class{constructor(){pe(this,"isRunning",!1);pe(this,"value",0);pe(this,"from",0);pe(this,"to",0);pe(this,"currentTime",0);pe(this,"lerp");pe(this,"duration");pe(this,"easing");pe(this,"onUpdate")}advance(n){var t;if(!this.isRunning)return;let e=!1;if(this.duration&&this.easing){this.currentTime+=n;const i=VP(0,this.currentTime/this.duration,1);e=i>=1;const r=e?1:this.easing(i);this.value=this.from+(this.to-this.from)*r}else this.lerp?(this.value=Gae(this.value,this.to,this.lerp*60,n),Math.round(this.value)===this.to&&(this.value=this.to,e=!0)):(this.value=this.to,e=!0);e&&this.stop(),(t=this.onUpdate)==null||t.call(this,this.value,e)}stop(){this.isRunning=!1}fromTo(n,e,{lerp:t,duration:i,easing:r,onStart:s,onUpdate:o}){this.from=this.value=n,this.to=e,this.lerp=t,this.duration=i,this.easing=r,this.currentTime=0,this.isRunning=!0,s==null||s(),this.onUpdate=o}};function Wae(n,e){let t;return function(...i){let r=this;clearTimeout(t),t=setTimeout(()=>{t=void 0,n.apply(r,i)},e)}}var qae=class{constructor(n,e,{autoResize:t=!0,debounce:i=250}={}){pe(this,"width",0);pe(this,"height",0);pe(this,"scrollHeight",0);pe(this,"scrollWidth",0);pe(this,"debouncedResize");pe(this,"wrapperResizeObserver");pe(this,"contentResizeObserver");pe(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});pe(this,"onWrapperResize",()=>{this.wrapper instanceof Window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});pe(this,"onContentResize",()=>{this.wrapper instanceof Window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=n,this.content=e,t&&(this.debouncedResize=Wae(this.resize,i),this.wrapper instanceof Window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){var n,e;(n=this.wrapperResizeObserver)==null||n.disconnect(),(e=this.contentResizeObserver)==null||e.disconnect(),this.wrapper===window&&this.debouncedResize&&window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}},GP=class{constructor(){pe(this,"events",{})}emit(n,...e){var i;let t=this.events[n]||[];for(let r=0,s=t.length;r<s;r++)(i=t[r])==null||i.call(t,...e)}on(n,e){var t;return(t=this.events[n])!=null&&t.push(e)||(this.events[n]=[e]),()=>{var i;this.events[n]=(i=this.events[n])==null?void 0:i.filter(r=>e!==r)}}off(n,e){var t;this.events[n]=(t=this.events[n])==null?void 0:t.filter(i=>e!==i)}destroy(){this.events={}}},hE=100/6,vl={passive:!1},Xae=class{constructor(n,e={wheelMultiplier:1,touchMultiplier:1}){pe(this,"touchStart",{x:0,y:0});pe(this,"lastDelta",{x:0,y:0});pe(this,"window",{width:0,height:0});pe(this,"emitter",new GP);pe(this,"onTouchStart",n=>{const{clientX:e,clientY:t}=n.targetTouches?n.targetTouches[0]:n;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:n})});pe(this,"onTouchMove",n=>{const{clientX:e,clientY:t}=n.targetTouches?n.targetTouches[0]:n,i=-(e-this.touchStart.x)*this.options.touchMultiplier,r=-(t-this.touchStart.y)*this.options.touchMultiplier;this.touchStart.x=e,this.touchStart.y=t,this.lastDelta={x:i,y:r},this.emitter.emit("scroll",{deltaX:i,deltaY:r,event:n})});pe(this,"onTouchEnd",n=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:n})});pe(this,"onWheel",n=>{let{deltaX:e,deltaY:t,deltaMode:i}=n;const r=i===1?hE:i===2?this.window.width:1,s=i===1?hE:i===2?this.window.height:1;e*=r,t*=s,e*=this.options.wheelMultiplier,t*=this.options.wheelMultiplier,this.emitter.emit("scroll",{deltaX:e,deltaY:t,event:n})});pe(this,"onWindowResize",()=>{this.window={width:window.innerWidth,height:window.innerHeight}});this.element=n,this.options=e,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,vl),this.element.addEventListener("touchstart",this.onTouchStart,vl),this.element.addEventListener("touchmove",this.onTouchMove,vl),this.element.addEventListener("touchend",this.onTouchEnd,vl)}on(n,e){return this.emitter.on(n,e)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,vl),this.element.removeEventListener("touchstart",this.onTouchStart,vl),this.element.removeEventListener("touchmove",this.onTouchMove,vl),this.element.removeEventListener("touchend",this.onTouchEnd,vl)}},Yae=class{constructor({wrapper:n=window,content:e=document.documentElement,eventsTarget:t=n,smoothWheel:i=!0,syncTouch:r=!1,syncTouchLerp:s=.075,touchInertiaMultiplier:o=35,duration:a,easing:l=M=>Math.min(1,1.001-Math.pow(2,-10*M)),lerp:c=.1,infinite:u=!1,orientation:f="vertical",gestureOrientation:h="vertical",touchMultiplier:p=1,wheelMultiplier:m=1,autoResize:g=!0,prevent:A,virtualScroll:y,overscroll:x=!0,autoRaf:b=!1,anchors:_=!1,__experimental__naiveDimensions:T=!1}={}){pe(this,"_isScrolling",!1);pe(this,"_isStopped",!1);pe(this,"_isLocked",!1);pe(this,"_preventNextNativeScrollEvent",!1);pe(this,"_resetVelocityTimeout",null);pe(this,"__rafID",null);pe(this,"isTouching");pe(this,"time",0);pe(this,"userData",{});pe(this,"lastVelocity",0);pe(this,"velocity",0);pe(this,"direction",0);pe(this,"options");pe(this,"targetScroll");pe(this,"animatedScroll");pe(this,"animate",new jae);pe(this,"emitter",new GP);pe(this,"dimensions");pe(this,"virtualScroll");pe(this,"onScrollEnd",n=>{n instanceof CustomEvent||(this.isScrolling==="smooth"||this.isScrolling===!1)&&n.stopPropagation()});pe(this,"dispatchScrollendEvent",()=>{this.options.wrapper.dispatchEvent(new CustomEvent("scrollend",{bubbles:this.options.wrapper===window,detail:{lenisScrollEnd:!0}}))});pe(this,"onClick",n=>{const t=n.composedPath().find(i=>{var r,s,o;return i instanceof HTMLAnchorElement&&(((r=i.getAttribute("href"))==null?void 0:r.startsWith("#"))||((s=i.getAttribute("href"))==null?void 0:s.startsWith("/#"))||((o=i.getAttribute("href"))==null?void 0:o.startsWith("./#")))});if(t){const i=t.getAttribute("href");if(i){const r=typeof this.options.anchors=="object"&&this.options.anchors?this.options.anchors:void 0;this.scrollTo(`#${i.split("#")[1]}`,r)}}});pe(this,"onPointerDown",n=>{n.button===1&&this.reset()});pe(this,"onVirtualScroll",n=>{if(typeof this.options.virtualScroll=="function"&&this.options.virtualScroll(n)===!1)return;const{deltaX:e,deltaY:t,event:i}=n;if(this.emitter.emit("virtual-scroll",{deltaX:e,deltaY:t,event:i}),i.ctrlKey||i.lenisStopPropagation)return;const r=i.type.includes("touch"),s=i.type.includes("wheel");this.isTouching=i.type==="touchstart"||i.type==="touchmove";const o=e===0&&t===0;if(this.options.syncTouch&&r&&i.type==="touchstart"&&o&&!this.isStopped&&!this.isLocked){this.reset();return}const l=this.options.gestureOrientation==="vertical"&&t===0||this.options.gestureOrientation==="horizontal"&&e===0;if(o||l)return;let c=i.composedPath();c=c.slice(0,c.indexOf(this.rootElement));const u=this.options.prevent;if(c.find(A=>{var y,x,b;return A instanceof HTMLElement&&(typeof u=="function"&&(u==null?void 0:u(A))||((y=A.hasAttribute)==null?void 0:y.call(A,"data-lenis-prevent"))||r&&((x=A.hasAttribute)==null?void 0:x.call(A,"data-lenis-prevent-touch"))||s&&((b=A.hasAttribute)==null?void 0:b.call(A,"data-lenis-prevent-wheel")))}))return;if(this.isStopped||this.isLocked){i.preventDefault();return}if(!(this.options.syncTouch&&r||this.options.smoothWheel&&s)){this.isScrolling="native",this.animate.stop(),i.lenisStopPropagation=!0;return}let h=t;this.options.gestureOrientation==="both"?h=Math.abs(t)>Math.abs(e)?t:e:this.options.gestureOrientation==="horizontal"&&(h=e),(!this.options.overscroll||this.options.infinite||this.options.wrapper!==window&&(this.animatedScroll>0&&this.animatedScroll<this.limit||this.animatedScroll===0&&t>0||this.animatedScroll===this.limit&&t<0))&&(i.lenisStopPropagation=!0),i.preventDefault();const p=r&&this.options.syncTouch,g=r&&i.type==="touchend"&&Math.abs(h)>5;g&&(h=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+h,{programmatic:!1,...p?{lerp:g?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}})});pe(this,"onNativeScroll",()=>{if(this._resetVelocityTimeout!==null&&(clearTimeout(this._resetVelocityTimeout),this._resetVelocityTimeout=null),this._preventNextNativeScrollEvent){this._preventNextNativeScrollEvent=!1;return}if(this.isScrolling===!1||this.isScrolling==="native"){const n=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity,this.velocity=this.animatedScroll-n,this.direction=Math.sign(this.animatedScroll-n),this.isStopped||(this.isScrolling="native"),this.emit(),this.velocity!==0&&(this._resetVelocityTimeout=setTimeout(()=>{this.lastVelocity=this.velocity,this.velocity=0,this.isScrolling=!1,this.emit()},400))}});pe(this,"raf",n=>{const e=n-(this.time||n);this.time=n,this.animate.advance(e*.001),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))});window.lenisVersion=Hae,(!n||n===document.documentElement)&&(n=window),this.options={wrapper:n,content:e,eventsTarget:t,smoothWheel:i,syncTouch:r,syncTouchLerp:s,touchInertiaMultiplier:o,duration:a,easing:l,lerp:c,infinite:u,gestureOrientation:h,orientation:f,touchMultiplier:p,wheelMultiplier:m,autoResize:g,prevent:A,virtualScroll:y,overscroll:x,autoRaf:b,anchors:_,__experimental__naiveDimensions:T},this.dimensions=new qae(n,e,{autoResize:g}),this.updateClassName(),this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.addEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.addEventListener("click",this.onClick,!1),this.options.wrapper.addEventListener("pointerdown",this.onPointerDown,!1),this.virtualScroll=new Xae(t,{touchMultiplier:p,wheelMultiplier:m}),this.virtualScroll.on("scroll",this.onVirtualScroll),this.options.autoRaf&&(this.__rafID=requestAnimationFrame(this.raf))}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.options.wrapper.removeEventListener("scrollend",this.onScrollEnd,{capture:!0}),this.options.wrapper.removeEventListener("pointerdown",this.onPointerDown,!1),this.options.anchors&&this.options.wrapper===window&&this.options.wrapper.removeEventListener("click",this.onClick,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.cleanUpClassName(),this.__rafID&&cancelAnimationFrame(this.__rafID)}on(n,e){return this.emitter.on(n,e)}off(n,e){return this.emitter.off(n,e)}setScroll(n){this.isHorizontal?this.options.wrapper.scrollTo({left:n,behavior:"instant"}):this.options.wrapper.scrollTo({top:n,behavior:"instant"})}resize(){this.dimensions.resize(),this.animatedScroll=this.targetScroll=this.actualScroll,this.emit()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.lastVelocity=this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.reset(),this.isStopped=!1)}stop(){this.isStopped||(this.reset(),this.isStopped=!0)}scrollTo(n,{offset:e=0,immediate:t=!1,lock:i=!1,duration:r=this.options.duration,easing:s=this.options.easing,lerp:o=this.options.lerp,onStart:a,onComplete:l,force:c=!1,programmatic:u=!0,userData:f}={}){if(!((this.isStopped||this.isLocked)&&!c)){if(typeof n=="string"&&["top","left","start"].includes(n))n=0;else if(typeof n=="string"&&["bottom","right","end"].includes(n))n=this.limit;else{let h;if(typeof n=="string"?h=document.querySelector(n):n instanceof HTMLElement&&(n!=null&&n.nodeType)&&(h=n),h){if(this.options.wrapper!==window){const m=this.rootElement.getBoundingClientRect();e-=this.isHorizontal?m.left:m.top}const p=h.getBoundingClientRect();n=(this.isHorizontal?p.left:p.top)+this.animatedScroll}}if(typeof n=="number"){if(n+=e,n=Math.round(n),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):n=VP(0,n,this.limit),n===this.targetScroll){a==null||a(this),l==null||l(this);return}if(this.userData=f??{},t){this.animatedScroll=this.targetScroll=n,this.setScroll(this.scroll),this.reset(),this.preventNextNativeScrollEvent(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()});return}u||(this.targetScroll=n),this.animate.fromTo(this.animatedScroll,n,{duration:r,easing:s,lerp:o,onStart:()=>{i&&(this.isLocked=!0),this.isScrolling="smooth",a==null||a(this)},onUpdate:(h,p)=>{this.isScrolling="smooth",this.lastVelocity=this.velocity,this.velocity=h-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=h,this.setScroll(this.scroll),u&&(this.targetScroll=h),p||this.emit(),p&&(this.reset(),this.emit(),l==null||l(this),this.userData={},requestAnimationFrame(()=>{this.dispatchScrollendEvent()}),this.preventNextNativeScrollEvent())}})}}}preventNextNativeScrollEvent(){this._preventNextNativeScrollEvent=!0,requestAnimationFrame(()=>{this._preventNextNativeScrollEvent=!1})}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){const n=this.options.wrapper;return this.isHorizontal?n.scrollX??n.scrollLeft:n.scrollY??n.scrollTop}get scroll(){return this.options.infinite?Qae(this.animatedScroll,this.limit):this.animatedScroll}get progress(){return this.limit===0?1:this.scroll/this.limit}get isScrolling(){return this._isScrolling}set isScrolling(n){this._isScrolling!==n&&(this._isScrolling=n,this.updateClassName())}get isStopped(){return this._isStopped}set isStopped(n){this._isStopped!==n&&(this._isStopped=n,this.updateClassName())}get isLocked(){return this._isLocked}set isLocked(n){this._isLocked!==n&&(this._isLocked=n,this.updateClassName())}get isSmooth(){return this.isScrolling==="smooth"}get className(){let n="lenis";return this.isStopped&&(n+=" lenis-stopped"),this.isLocked&&(n+=" lenis-locked"),this.isScrolling&&(n+=" lenis-scrolling"),this.isScrolling==="smooth"&&(n+=" lenis-smooth"),n}updateClassName(){this.cleanUpClassName(),this.rootElement.className=`${this.rootElement.className} ${this.className}`.trim()}cleanUpClassName(){this.rootElement.className=this.rootElement.className.replace(/lenis(-\w+)?/g,"").trim()}},pE=ds(),mE=ds(),gE=ds(),$ae=Symbol("LenisContext"),Kae=Symbol("AddCallback"),Zae=Symbol("RemoveCallback"),Jae=vs({name:"VueLenis",props:{root:{type:Boolean,default:!1},autoRaf:{type:Boolean,default:!0},options:{type:Object,default:()=>({})},props:{type:Object,default:()=>({})}},setup(n,{slots:e,expose:t}){const i=ds(),r=gt(),s=gt();t({lenis:i,wrapper:r,content:s}),oi([()=>n.options,r,s],()=>{var f;typeof window<"u"&&(!n.root&&(!r.value||!s.value)||(i.value=new Yae({...n.options,...n.root?{}:{wrapper:r.value,content:s.value},autoRaf:((f=n.options)==null?void 0:f.autoRaf)??n.autoRaf}),zy(()=>{var h;(h=i.value)==null||h.destroy(),i.value=void 0})))},{deep:!0,immediate:!0});const o=ro([]);function a(u,f){o.push({callback:u,priority:f}),o.sort((h,p)=>h.priority-p.priority)}function l(u){o.splice(o.findIndex(f=>f.callback===u),1)}const c=u=>{var f;for(let h=0;h<o.length;h++)(f=o[h])==null||f.callback(u)};return oi([i,()=>n.root],([u,f])=>{u==null||u.on("scroll",c),f&&(pE.value=u,mE.value=a,gE.value=l,zy(()=>{pE.value=void 0,mE.value=void 0,gE.value=void 0}))},{immediate:!0}),n.root||(Ga($ae,i),Ga(Kae,a),Ga(Zae,l)),()=>{var u,f;return n.root?(u=e.default)==null?void 0:u.call(e):Mr("div",{ref:r,...n==null?void 0:n.props},[Mr("div",{ref:s},(f=e.default)==null?void 0:f.call(e))])}}});const ele={__name:"SmoothScroll",setup(n){const e=gt();return sA(()=>{var t,i;if((t=e.value)!=null&&t.lenis){const{setLenisInstance:r}=CA();r((i=e.value)==null?void 0:i.lenis)}}),(t,i)=>(fi(),$s(qt(Jae),{ref_key:"lenisRef",ref:e,"auto-raf":!1,options:{lerp:.05}},{default:Na(()=>[tx(t.$slots,"default")]),_:3},512))}};function tle(){return S}class QP{constructor(e,t,i){this.id=0,this.name=e,this.fg=t,this.bg=i,this.gradient=null,this.PR=Math.round(window.devicePixelRatio||1),this.WIDTH=90*this.PR,this.HEIGHT=48*this.PR,this.TEXT_X=3*this.PR,this.TEXT_Y=2*this.PR,this.GRAPH_X=3*this.PR,this.GRAPH_Y=15*this.PR,this.GRAPH_WIDTH=84*this.PR,this.GRAPH_HEIGHT=30*this.PR,this.canvas=document.createElement("canvas"),this.canvas.width=this.WIDTH,this.canvas.height=this.HEIGHT,this.canvas.style.width="90px",this.canvas.style.height="48px",this.canvas.style.position="absolute",this.canvas.style.cssText="width:90px;height:48px;background-color: transparent !important;",this.context=this.canvas.getContext("2d"),this.initializeCanvas()}createGradient(){if(!this.context)throw new Error("No context");const e=this.context.createLinearGradient(0,this.GRAPH_Y,0,this.GRAPH_Y+this.GRAPH_HEIGHT);let t;const i=this.fg;switch(this.fg.toLowerCase()){case"#0ff":t="#006666";break;case"#0f0":t="#006600";break;case"#ff0":t="#666600";break;case"#e1e1e1":t="#666666";break;default:t=this.bg;break}return e.addColorStop(0,t),e.addColorStop(1,i),e}initializeCanvas(){this.context&&(this.context.imageSmoothingEnabled=!1,this.context.font="bold "+9*this.PR+"px Helvetica,Arial,sans-serif",this.context.textBaseline="top",this.gradient=this.createGradient(),this.context.fillStyle=this.bg,this.context.fillRect(0,0,this.WIDTH,this.HEIGHT),this.context.fillStyle=this.fg,this.context.fillText(this.name,this.TEXT_X,this.TEXT_Y),this.context.fillStyle=this.bg,this.context.globalAlpha=.9,this.context.fillRect(this.GRAPH_X,this.GRAPH_Y,this.GRAPH_WIDTH,this.GRAPH_HEIGHT))}update(e,t,i=0){if(!this.context||!this.gradient)return;const r=Math.min(1/0,e),s=Math.max(t,e);this.context.globalAlpha=1,this.context.fillStyle=this.bg,this.context.fillRect(0,0,this.WIDTH,this.GRAPH_Y),this.context.fillStyle=this.fg,this.context.fillText(`${e.toFixed(i)} ${this.name} (${r.toFixed(i)}-${parseFloat(s.toFixed(i))})`,this.TEXT_X,this.TEXT_Y)}updateGraph(e,t){if(!this.context||!this.gradient)return;e===0&&t===0&&(t=1),t=Math.max(t,e,.1),e=Math.max(e,0);const i=Math.round(this.GRAPH_X),r=Math.round(this.GRAPH_Y),s=Math.round(this.GRAPH_WIDTH),o=Math.round(this.GRAPH_HEIGHT),a=Math.round(this.PR);this.context.drawImage(this.canvas,i+a,r,s-a,o,i,r,s-a,o),this.context.fillStyle=this.bg,this.context.fillRect(i+s-a,r,a,o);const l=Math.min(o,Math.round(e/t*o));l>0&&(this.context.globalAlpha=.9,this.context.fillStyle=this.gradient,this.context.fillRect(i+s-a,r+(o-l),a,l)),this.context.globalAlpha=1}}class nle extends QP{constructor(e,t,i){super(e,t,i),this.vsyncValue=0,this.SMALL_HEIGHT=9*this.PR,this.HEIGHT=this.SMALL_HEIGHT,this.WIDTH=35*this.PR,this.TEXT_Y=0*this.PR,this.canvas.height=this.HEIGHT,this.canvas.width=this.WIDTH,this.canvas.style.height="9px",this.canvas.style.width="35px",this.canvas.style.cssText=`
            width: 35px;
            height: 9px;
            position: absolute;
            top: 0;
            left: 0;
            background-color: transparent !important;
            pointer-events: none;
        `,this.initializeCanvas()}initializeCanvas(){this.context&&(this.context.imageSmoothingEnabled=!1,this.context.font="bold "+9*this.PR+"px Helvetica,Arial,sans-serif",this.context.textBaseline="top",this.context.globalAlpha=1)}update(e,t,i=0){this.context&&(this.vsyncValue=e,this.context.clearRect(0,0,this.WIDTH,this.HEIGHT),this.context.globalAlpha=1,this.context.fillStyle=this.bg,this.context.fillText(`${e.toFixed(0)}Hz`,this.TEXT_X,this.TEXT_Y))}updateGraph(e,t){}setOffset(e,t){this.canvas.style.transform=`translate(${e}px, ${t}px)`}}const jP=class Mf{constructor({trackGPU:e=!1,trackCPT:t=!1,trackHz:i=!1,logsPerSecond:r=4,graphsPerSecond:s=30,samplesLog:o=40,samplesGraph:a=10,precision:l=2,minimal:c=!1,horizontal:u=!0,mode:f=0}={}){this.gl=null,this.ext=null,this.activeQuery=null,this.gpuQueries=[],this.threeRendererPatched=!1,this.frameTimes=[],this.renderCount=0,this.totalCpuDuration=0,this.totalGpuDuration=0,this.totalGpuDurationCompute=0,this.gpuPanel=null,this.gpuPanelCompute=null,this.vsyncPanel=null,this.averageFps={logs:[],graph:[]},this.averageCpu={logs:[],graph:[]},this.averageGpu={logs:[],graph:[]},this.averageGpuCompute={logs:[],graph:[]},this.updateCounter=0,this.lastMin={},this.lastMax={},this.lastValue={},this.VSYNC_RATES=[{refreshRate:60,frameTime:16.67},{refreshRate:75,frameTime:13.33},{refreshRate:90,frameTime:11.11},{refreshRate:120,frameTime:8.33},{refreshRate:144,frameTime:6.94},{refreshRate:165,frameTime:6.06},{refreshRate:240,frameTime:4.17}],this.detectedVSync=null,this.frameTimeHistory=[],this.HISTORY_SIZE=120,this.VSYNC_THRESHOLD=.05,this.lastFrameTime=0,this.handleClick=p=>{p.preventDefault(),this.showPanel(++this.mode%this.dom.children.length)},this.handleResize=()=>{this.resizePanel(this.fpsPanel),this.resizePanel(this.msPanel),this.gpuPanel&&this.resizePanel(this.gpuPanel),this.gpuPanelCompute&&this.resizePanel(this.gpuPanelCompute)},this.mode=f,this.horizontal=u,this.minimal=c,this.trackGPU=e,this.trackCPT=t,this.trackHz=i,this.samplesLog=o,this.samplesGraph=a,this.precision=l,this.logsPerSecond=r,this.graphsPerSecond=s;const h=performance.now();this.prevGraphTime=h,this.dom=document.createElement("div"),this.initializeDOM(),this.beginTime=performance.now(),this.prevTextTime=this.beginTime,this.prevCpuTime=this.beginTime,this._panelId=0,this.fpsPanel=this.addPanel(new Mf.Panel("FPS","#0ff","#002")),this.msPanel=this.addPanel(new Mf.Panel("CPU","#0f0","#020")),this.trackHz===!0&&(this.vsyncPanel=new nle("","#f0f","#202"),this.dom.appendChild(this.vsyncPanel.canvas),this.vsyncPanel.setOffset(56,35)),this.setupEventListeners()}initializeDOM(){this.dom.style.cssText=`
      position: fixed;
      top: 0;
      left: 0;
      opacity: 0.9;
      z-index: 10000;
      ${this.minimal?"cursor: pointer;":""}
    `}setupEventListeners(){this.minimal?(this.dom.addEventListener("click",this.handleClick),this.showPanel(this.mode)):window.addEventListener("resize",this.handleResize)}async init(e){if(!e){console.error('Stats: The "canvas" parameter is undefined.');return}if(!this.handleThreeRenderer(e)&&!await this.handleWebGPURenderer(e))if(this.initializeWebGL(e)){this.trackGPU&&this.initializeGPUTracking();return}else console.error("Stats-gl: Failed to initialize WebGL context")}handleThreeRenderer(e){return e.isWebGLRenderer&&!this.threeRendererPatched?(this.patchThreeRenderer(e),this.gl=e.getContext(),this.trackGPU&&this.initializeGPUTracking(),!0):!1}async handleWebGPURenderer(e){return e.isWebGPURenderer?((this.trackGPU||this.trackCPT)&&(e.backend.trackTimestamp=!0,await e.hasFeatureAsync("timestamp-query")&&this.initializeWebGPUPanels()),this.info=e.info,this.patchThreeWebGPU(e),!0):!1}initializeWebGPUPanels(){this.trackGPU&&(this.gpuPanel=this.addPanel(new Mf.Panel("GPU","#ff0","#220"))),this.trackCPT&&(this.gpuPanelCompute=this.addPanel(new Mf.Panel("CPT","#e1e1e1","#212121")))}initializeWebGL(e){if(e instanceof WebGL2RenderingContext)this.gl=e;else if(e instanceof HTMLCanvasElement||e instanceof OffscreenCanvas){if(this.gl=e.getContext("webgl2"),!this.gl)return console.error("Stats: Unable to obtain WebGL2 context."),!1}else return console.error("Stats: Invalid input type. Expected WebGL2RenderingContext, HTMLCanvasElement, or OffscreenCanvas."),!1;return!0}initializeGPUTracking(){this.gl&&(this.ext=this.gl.getExtension("EXT_disjoint_timer_query_webgl2"),this.ext&&(this.gpuPanel=this.addPanel(new Mf.Panel("GPU","#ff0","#220"))))}begin(){this.beginProfiling("cpu-started"),!(!this.gl||!this.ext)&&(this.activeQuery&&this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.activeQuery=this.gl.createQuery(),this.activeQuery&&this.gl.beginQuery(this.ext.TIME_ELAPSED_EXT,this.activeQuery))}end(){this.renderCount++,this.gl&&this.ext&&this.activeQuery&&(this.gl.endQuery(this.ext.TIME_ELAPSED_EXT),this.gpuQueries.push({query:this.activeQuery}),this.activeQuery=null),this.endProfiling("cpu-started","cpu-finished","cpu-duration")}update(){this.endProfiling("cpu-started","cpu-finished","cpu-duration"),this.info?this.processWebGPUTimestamps():this.processGpuQueries(),this.updateAverages(),this.resetCounters()}processWebGPUTimestamps(){this.totalGpuDuration=this.info.render.timestamp,this.totalGpuDurationCompute=this.info.compute.timestamp}resetCounters(){this.renderCount=0,this.totalCpuDuration=0,this.beginTime=this.endInternal()}resizePanel(e){e.canvas.style.position="absolute",this.minimal?e.canvas.style.display="none":(e.canvas.style.display="block",this.horizontal?(e.canvas.style.top="0px",e.canvas.style.left=e.id*e.WIDTH/e.PR+"px"):(e.canvas.style.left="0px",e.canvas.style.top=e.id*e.HEIGHT/e.PR+"px"))}addPanel(e){return e.canvas&&(this.dom.appendChild(e.canvas),e.id=this._panelId,this.resizePanel(e),this._panelId++),e}showPanel(e){for(let t=0;t<this.dom.children.length;t++){const i=this.dom.children[t];i.style.display=t===e?"block":"none"}this.mode=e}processGpuQueries(){!this.gl||!this.ext||(this.totalGpuDuration=0,this.gpuQueries.forEach((e,t)=>{if(this.gl){const i=this.gl.getQueryParameter(e.query,this.gl.QUERY_RESULT_AVAILABLE),r=this.gl.getParameter(this.ext.GPU_DISJOINT_EXT);if(i&&!r){const o=this.gl.getQueryParameter(e.query,this.gl.QUERY_RESULT)*1e-6;this.totalGpuDuration+=o,this.gl.deleteQuery(e.query),this.gpuQueries.splice(t,1)}}}))}detectVSync(e){if(this.lastFrameTime===0){this.lastFrameTime=e;return}const t=e-this.lastFrameTime;if(this.lastFrameTime=e,this.frameTimeHistory.push(t),this.frameTimeHistory.length>this.HISTORY_SIZE&&this.frameTimeHistory.shift(),this.frameTimeHistory.length<60)return;const i=this.frameTimeHistory.reduce((l,c)=>l+c)/this.frameTimeHistory.length,r=this.frameTimeHistory.reduce((l,c)=>l+Math.pow(c-i,2),0)/this.frameTimeHistory.length;if(Math.sqrt(r)>2){this.detectedVSync=null;return}let o=null,a=1/0;for(const l of this.VSYNC_RATES){const c=Math.abs(i-l.frameTime);c<a&&(a=c,o=l)}o&&a/o.frameTime<=this.VSYNC_THRESHOLD?this.detectedVSync=o:this.detectedVSync=null}endInternal(){var e;const t=performance.now();for(this.frameTimes.push(t);this.frameTimes.length>0&&this.frameTimes[0]<=t-1e3;)this.frameTimes.shift();const i=Math.round(this.frameTimes.length);this.addToAverage(i,this.averageFps);const r=t>=this.prevTextTime+1e3/this.logsPerSecond,s=t>=this.prevGraphTime+1e3/this.graphsPerSecond;if(this.updatePanelComponents(this.fpsPanel,this.averageFps,0,r,s),this.updatePanelComponents(this.msPanel,this.averageCpu,this.precision,r,s),this.gpuPanel&&this.updatePanelComponents(this.gpuPanel,this.averageGpu,this.precision,r,s),this.trackCPT&&this.gpuPanelCompute&&this.updatePanelComponents(this.gpuPanelCompute,this.averageGpuCompute,this.precision,r,s),r&&(this.prevTextTime=t),s&&(this.prevGraphTime=t),this.vsyncPanel!==null){this.detectVSync(t);const o=((e=this.detectedVSync)==null?void 0:e.refreshRate)||0;r&&o>0&&this.vsyncPanel.update(o,o)}return t}updatePanelComponents(e,t,i,r,s){if(!e||t.logs.length===0)return;e.name in this.lastMin||(this.lastMin[e.name]=1/0,this.lastMax[e.name]=0,this.lastValue[e.name]=0);const o=t.logs[t.logs.length-1];this.lastMax[e.name]=Math.max(...t.logs),this.lastMin[e.name]=Math.min(this.lastMin[e.name],o),this.lastValue[e.name]=this.lastValue[e.name]*.7+o*.3;const a=Math.max(Math.max(...t.logs),...t.graph.slice(-this.samplesGraph));this.updateCounter++,r&&e.update(this.lastValue[e.name],this.lastMax[e.name],i),s&&e.updateGraph(o,a)}beginProfiling(e){if(window.performance)try{window.performance.clearMarks(e),window.performance.mark(e)}catch(t){console.debug("Stats: Performance marking failed:",t)}}endProfiling(e,t,i){if(!(!window.performance||!t||!e))try{window.performance.getEntriesByName(e,"mark").length===0&&this.beginProfiling(e),window.performance.clearMarks(t),window.performance.mark(t),window.performance.clearMeasures(i);const s=performance.measure(i,e,t);this.totalCpuDuration+=s.duration,window.performance.clearMarks(e),window.performance.clearMarks(t),window.performance.clearMeasures(i)}catch(r){console.debug("Stats: Performance measurement failed:",r)}}updatePanel(e,t,i=2){if(!e||t.logs.length===0)return;const r=performance.now();e.name in this.lastMin||(this.lastMin[e.name]=1/0,this.lastMax[e.name]=0,this.lastValue[e.name]=0);const s=t.logs[t.logs.length-1],o=Math.max(...t.logs.slice(-30));this.lastMin[e.name]=Math.min(this.lastMin[e.name],s),this.lastMax[e.name]=Math.max(this.lastMax[e.name],s),this.lastValue[e.name]=this.lastValue[e.name]*.7+s*.3;const a=Math.max(o,...t.graph.slice(-this.samplesGraph));this.updateCounter++,this.updateCounter%(this.logsPerSecond*2)===0&&(this.lastMax[e.name]=o,this.lastMin[e.name]=s),e.update&&(r>=this.prevCpuTime+1e3/this.logsPerSecond&&e.update(this.lastValue[e.name],s,this.lastMax[e.name],a,i),r>=this.prevGraphTime+1e3/this.graphsPerSecond&&(e.updateGraph(s,a),this.prevGraphTime=r))}updateAverages(){this.addToAverage(this.totalCpuDuration,this.averageCpu),this.addToAverage(this.totalGpuDuration,this.averageGpu),this.info&&this.totalGpuDurationCompute!==void 0&&this.addToAverage(this.totalGpuDurationCompute,this.averageGpuCompute)}addToAverage(e,t){t.logs.push(e),t.logs.length>this.samplesLog&&(t.logs=t.logs.slice(-this.samplesLog)),t.graph.push(e),t.graph.length>this.samplesGraph&&(t.graph=t.graph.slice(-this.samplesGraph))}get domElement(){return this.dom}patchThreeWebGPU(e){const t=e.info.reset,i=this;e.info.reset=function(){i.beginProfiling("cpu-started"),t.call(this)}}patchThreeRenderer(e){const t=e.render,i=this;e.render=function(r,s){i.begin(),t.call(this,r,s),i.end()},this.threeRendererPatched=!0}};jP.Panel=QP;let ile=jP;var Qo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Jh={exports:{}},ry={},AE;function Fi(){return AE||(AE=1,function(n){var e=Object.defineProperty,t=Object.defineProperties,i=Object.getOwnPropertyDescriptors,r=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,a=(L,$,ie)=>$ in L?e(L,$,{enumerable:!0,configurable:!0,writable:!0,value:ie}):L[$]=ie,l=(L,$)=>{for(var ie in $||($={}))s.call($,ie)&&a(L,ie,$[ie]);if(r)for(var ie of r($))o.call($,ie)&&a(L,ie,$[ie]);return L},c=(L,$)=>t(L,i($)),u=L=>e(L,"__esModule",{value:!0}),f=(L,$)=>{u(L);for(var ie in $)e(L,ie,{get:$[ie],enumerable:!0})};f(n,{Atom:()=>Yp,PointerProxy:()=>wv,Ticker:()=>Kp,getPointerParts:()=>pc,isPointer:()=>la,isPrism:()=>Vu,iterateAndCountTicks:()=>xv,iterateOver:()=>Sv,pointer:()=>$d,pointerToPrism:()=>Qu,prism:()=>vc,val:()=>nh});var h=Array.isArray,p=h,m=typeof Qo=="object"&&Qo&&Qo.Object===Object&&Qo,g=m,A=typeof self=="object"&&self&&self.Object===Object&&self,y=g||A||Function("return this")(),x=y,b=x.Symbol,_=b,T=Object.prototype,M=T.hasOwnProperty,I=T.toString,P=_?_.toStringTag:void 0;function w(L){var $=M.call(L,P),ie=L[P];try{L[P]=void 0;var we=!0}catch{}var St=I.call(L);return we&&($?L[P]=ie:delete L[P]),St}var E=w,O=Object.prototype,F=O.toString;function H(L){return F.call(L)}var z=H,X="[object Null]",U="[object Undefined]",G=_?_.toStringTag:void 0;function j(L){return L==null?L===void 0?U:X:G&&G in Object(L)?E(L):z(L)}var Y=j;function Q(L){return L!=null&&typeof L=="object"}var ve=Q,Pe="[object Symbol]";function He(L){return typeof L=="symbol"||ve(L)&&Y(L)==Pe}var re=He,he=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Oe=/^\w*$/;function J(L,$){if(p(L))return!1;var ie=typeof L;return ie=="number"||ie=="symbol"||ie=="boolean"||L==null||re(L)?!0:Oe.test(L)||!he.test(L)||$!=null&&L in Object($)}var ye=J;function Se(L){var $=typeof L;return L!=null&&($=="object"||$=="function")}var be=Se,qe="[object AsyncFunction]",rt="[object Function]",W="[object GeneratorFunction]",R="[object Proxy]";function le(L){if(!be(L))return!1;var $=Y(L);return $==rt||$==W||$==qe||$==R}var _e=le,K=x["__core-js_shared__"],de=K,Be=function(){var L=/[^.]+$/.exec(de&&de.keys&&de.keys.IE_PROTO||"");return L?"Symbol(src)_1."+L:""}();function xe(L){return!!Be&&Be in L}var k=xe,B=Function.prototype,ne=B.toString;function se(L){if(L!=null){try{return ne.call(L)}catch{}try{return L+""}catch{}}return""}var ce=se,fe=/[\\^$.*+?()[\]{}|]/g,Ie=/^\[object .+?Constructor\]$/,Le=Function.prototype,Fe=Object.prototype,dt=Le.toString,Re=Fe.hasOwnProperty,ze=RegExp("^"+dt.call(Re).replace(fe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Xe(L){if(!be(L)||k(L))return!1;var $=_e(L)?ze:Ie;return $.test(ce(L))}var st=Xe;function et(L,$){return L==null?void 0:L[$]}var mt=et;function lt(L,$){var ie=mt(L,$);return st(ie)?ie:void 0}var Pt=lt,te=Pt(Object,"create"),je=te;function Ce(){this.__data__=je?je(null):{},this.size=0}var Me=Ce;function We(L){var $=this.has(L)&&delete this.__data__[L];return this.size-=$?1:0,$}var Ye=We,_t="__lodash_hash_undefined__",Wt=Object.prototype,Rn=Wt.hasOwnProperty;function $e(L){var $=this.__data__;if(je){var ie=$[L];return ie===_t?void 0:ie}return Rn.call($,L)?$[L]:void 0}var ot=$e,Mt=Object.prototype,Ze=Mt.hasOwnProperty;function Ct(L){var $=this.__data__;return je?$[L]!==void 0:Ze.call($,L)}var ct=Ct,bt="__lodash_hash_undefined__";function Vn(L,$){var ie=this.__data__;return this.size+=this.has(L)?0:1,ie[L]=je&&$===void 0?bt:$,this}var Rt=Vn;function $t(L){var $=-1,ie=L==null?0:L.length;for(this.clear();++$<ie;){var we=L[$];this.set(we[0],we[1])}}$t.prototype.clear=Me,$t.prototype.delete=Ye,$t.prototype.get=ot,$t.prototype.has=ct,$t.prototype.set=Rt;var Qn=$t;function ln(){this.__data__=[],this.size=0}var cn=ln;function Ot(L,$){return L===$||L!==L&&$!==$}var tr=Ot;function rn(L,$){for(var ie=L.length;ie--;)if(tr(L[ie][0],$))return ie;return-1}var li=rn,hr=Array.prototype,Zn=hr.splice;function Jn(L){var $=this.__data__,ie=li($,L);if(ie<0)return!1;var we=$.length-1;return ie==we?$.pop():Zn.call($,ie,1),--this.size,!0}var V=Jn;function ae(L){var $=this.__data__,ie=li($,L);return ie<0?void 0:$[ie][1]}var Ae=ae;function me(L){return li(this.__data__,L)>-1}var oe=me;function Ue(L,$){var ie=this.__data__,we=li(ie,L);return we<0?(++this.size,ie.push([L,$])):ie[we][1]=$,this}var Je=Ue;function tt(L){var $=-1,ie=L==null?0:L.length;for(this.clear();++$<ie;){var we=L[$];this.set(we[0],we[1])}}tt.prototype.clear=cn,tt.prototype.delete=V,tt.prototype.get=Ae,tt.prototype.has=oe,tt.prototype.set=Je;var it=tt,pt=Pt(x,"Map"),yt=pt;function ht(){this.size=0,this.__data__={hash:new Qn,map:new(yt||it),string:new Qn}}var Tt=ht;function Kt(L){var $=typeof L;return $=="string"||$=="number"||$=="symbol"||$=="boolean"?L!=="__proto__":L===null}var jn=Kt;function Bn(L,$){var ie=L.__data__;return jn($)?ie[typeof $=="string"?"string":"hash"]:ie.map}var Ut=Bn;function At(L){var $=Ut(this,L).delete(L);return this.size-=$?1:0,$}var gi=At;function Gt(L){return Ut(this,L).get(L)}var Lr=Gt;function Bo(L){return Ut(this,L).has(L)}var nr=Bo;function aa(L,$){var ie=Ut(this,L),we=ie.size;return ie.set(L,$),this.size+=ie.size==we?0:1,this}var Sn=aa;function Ai(L){var $=-1,ie=L==null?0:L.length;for(this.clear();++$<ie;){var we=L[$];this.set(we[0],we[1])}}Ai.prototype.clear=Tt,Ai.prototype.delete=gi,Ai.prototype.get=Lr,Ai.prototype.has=nr,Ai.prototype.set=Sn;var ir=Ai,Pi="Expected a function";function xi(L,$){if(typeof L!="function"||$!=null&&typeof $!="function")throw new TypeError(Pi);var ie=function(){var we=arguments,St=$?$.apply(this,we):we[0],on=ie.cache;if(on.has(St))return on.get(St);var rr=L.apply(this,we);return ie.cache=on.set(St,rr)||on,rr};return ie.cache=new(xi.Cache||ir),ie}xi.Cache=ir;var uc=xi,pr=500;function Nu(L){var $=uc(L,function(we){return ie.size===pr&&ie.clear(),we}),ie=$.cache;return $}var kA=Nu,fc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zA=/\\(\\)?/g,HA=kA(function(L){var $=[];return L.charCodeAt(0)===46&&$.push(""),L.replace(fc,function(ie,we,St,on){$.push(St?on.replace(zA,"$1"):we||ie)}),$}),VA=HA;function GA(L,$){for(var ie=-1,we=L==null?0:L.length,St=Array(we);++ie<we;)St[ie]=$(L[ie],ie,L);return St}var QA=GA,dc=_?_.prototype:void 0,Rp=dc?dc.toString:void 0;function Bp(L){if(typeof L=="string")return L;if(p(L))return QA(L,Bp)+"";if(re(L))return Rp?Rp.call(L):"";var $=L+"";return $=="0"&&1/L==-1/0?"-0":$}var jA=Bp;function WA(L){return L==null?"":jA(L)}var qA=WA;function XA(L,$){return p(L)?L:ye(L,$)?[L]:VA(qA(L))}var YA=XA;function $A(L){if(typeof L=="string"||re(L))return L;var $=L+"";return $=="0"&&1/L==-1/0?"-0":$}var rl=$A;function ku(L,$){$=YA($,L);for(var ie=0,we=$.length;L!=null&&ie<we;)L=L[rl($[ie++])];return ie&&ie==we?L:void 0}var KA=ku;function Yd(L,$,ie){var we=L==null?void 0:KA(L,$);return we===void 0?ie:we}var ZA=Yd;function JA(L,$){return function(ie){return L($(ie))}}var ev=JA,tv=ev(Object.getPrototypeOf,Object),nv=tv,iv="[object Object]",rv=Function.prototype,sv=Object.prototype,Lp=rv.toString,ov=sv.hasOwnProperty,Fp=Lp.call(Object);function Op(L){if(!ve(L)||Y(L)!=iv)return!1;var $=nv(L);if($===null)return!0;var ie=ov.call($,"constructor")&&$.constructor;return typeof ie=="function"&&ie instanceof ie&&Lp.call(ie)==Fp}var Up=Op;function Np(L){var $=L==null?0:L.length;return $?L[$-1]:void 0}var av=Np,zu=new WeakMap,kp=new WeakMap,hc=Symbol("pointerMeta"),lv={get(L,$){if($===hc)return zu.get(L);let ie=kp.get(L);ie||(ie=new Map,kp.set(L,ie));const we=ie.get($);if(we!==void 0)return we;const St=zu.get(L),on=Hu({root:St.root,path:[...St.path,$]});return ie.set($,on),on}},uo=L=>L[hc],pc=L=>{const{root:$,path:ie}=uo(L);return{root:$,path:ie}};function Hu(L){var $;const ie={root:L.root,path:($=L.path)!=null?$:[]},we={};return zu.set(we,ie),new Proxy(we,lv)}var $d=Hu,la=L=>L&&!!uo(L);function zp(L,$,ie){return $.length===0?ie(L):sl(L,$,ie)}var sl=(L,$,ie)=>{if($.length===0)return ie(L);if(Array.isArray(L)){let[we,...St]=$;we=parseInt(String(we),10),isNaN(we)&&(we=0);const on=L[we],rr=sl(on,St,ie);if(on===rr)return L;const Hs=[...L];return Hs.splice(we,1,rr),Hs}else if(typeof L=="object"&&L!==null){const[we,...St]=$,on=L[we],rr=sl(on,St,ie);return on===rr?L:c(l({},L),{[we]:rr})}else{const[we,...St]=$;return{[we]:sl(void 0,St,ie)}}},Ri=class{constructor(){this._head=void 0}peek(){return this._head&&this._head.data}pop(){const L=this._head;if(L)return this._head=L.next,L.data}push(L){const $={next:this._head,data:L};this._head=$}};function Vu(L){return!!(L&&L.isPrism&&L.isPrism===!0)}function Kd(){const L=()=>{},$=new Ri,ie=L;return{type:"Dataverse_discoveryMechanism",startIgnoringDependencies:()=>{$.push(ie)},stopIgnoringDependencies:()=>{$.peek()!==ie||$.pop()},reportResolutionStart:ol=>{const yc=$.peek();yc&&yc(ol),$.push(ie)},reportResolutionEnd:ol=>{$.pop()},pushCollector:ol=>{$.push(ol)},popCollector:ol=>{if($.peek()!==ol)throw new Error("Popped collector is not on top of the stack");$.pop()}}}function cv(){const L="__dataverse_discoveryMechanism_sharedStack",$=typeof window<"u"?window:typeof Qo<"u"?Qo:{};if($){const ie=$[L];if(ie&&typeof ie=="object"&&ie.type==="Dataverse_discoveryMechanism")return ie;{const we=Kd();return $[L]=we,we}}else return Kd()}var{startIgnoringDependencies:ca,stopIgnoringDependencies:mc,reportResolutionEnd:uv,reportResolutionStart:fv,pushCollector:Zd,popCollector:dv}=cv(),Hp=()=>{},hv=class{constructor(L,$){this._fn=L,this._prismInstance=$,this._didMarkDependentsAsStale=!1,this._isFresh=!1,this._cacheOfDendencyValues=new Map,this._dependents=new Set,this._dependencies=new Set,this._possiblyStaleDeps=new Set,this._scope=new Vp(this),this._lastValue=void 0,this._forciblySetToStale=!1,this._reactToDependencyGoingStale=ie=>{this._possiblyStaleDeps.add(ie),this._markAsStale()};for(const ie of this._dependencies)ie._addDependent(this._reactToDependencyGoingStale);ca(),this.getValue(),mc()}get hasDependents(){return this._dependents.size>0}removeDependent(L){this._dependents.delete(L)}addDependent(L){this._dependents.add(L)}destroy(){for(const L of this._dependencies)L._removeDependent(this._reactToDependencyGoingStale);Gp(this._scope)}getValue(){if(!this._isFresh){const L=this._recalculate();this._lastValue=L,this._isFresh=!0,this._didMarkDependentsAsStale=!1,this._forciblySetToStale=!1}return this._lastValue}_recalculate(){let L;if(!this._forciblySetToStale&&this._possiblyStaleDeps.size>0){let we=!1;ca();for(const St of this._possiblyStaleDeps)if(this._cacheOfDendencyValues.get(St)!==St.getValue()){we=!0;break}if(mc(),this._possiblyStaleDeps.clear(),!we)return this._lastValue}const $=new Set;this._cacheOfDendencyValues.clear();const ie=we=>{$.add(we),this._addDependency(we)};Zd(ie),Wi.push(this._scope);try{L=this._fn()}catch(we){console.error(we)}finally{Wi.pop()!==this._scope&&console.warn("The Prism hook stack has slipped. This is a bug.")}dv(ie);for(const we of this._dependencies)$.has(we)||this._removeDependency(we);this._dependencies=$,ca();for(const we of $)this._cacheOfDendencyValues.set(we,we.getValue());return mc(),L}forceStale(){this._forciblySetToStale=!0,this._markAsStale()}_markAsStale(){if(!this._didMarkDependentsAsStale){this._didMarkDependentsAsStale=!0,this._isFresh=!1;for(const L of this._dependents)L(this._prismInstance)}}_addDependency(L){this._dependencies.has(L)||(this._dependencies.add(L),L._addDependent(this._reactToDependencyGoingStale))}_removeDependency(L){this._dependencies.has(L)&&(this._dependencies.delete(L),L._removeDependent(this._reactToDependencyGoingStale))}},Jd={},pv=class{constructor(L){this._fn=L,this.isPrism=!0,this._state={hot:!1,handle:void 0}}get isHot(){return this._state.hot}onChange(L,$,ie=!1){const we=()=>{L.onThisOrNextTick(on)};let St=Jd;const on=()=>{const Hs=this.getValue();Hs!==St&&(St=Hs,$(Hs))};return this._addDependent(we),ie&&(St=this.getValue(),$(St)),()=>{this._removeDependent(we),L.offThisOrNextTick(on),L.offNextTick(on)}}onStale(L){const $=()=>{this._removeDependent(ie)},ie=()=>L();return this._addDependent(ie),$}keepHot(){return this.onStale(()=>{})}_addDependent(L){this._state.hot||this._goHot(),this._state.handle.addDependent(L)}_goHot(){const L=new hv(this._fn,this);this._state={hot:!0,handle:L}}_removeDependent(L){const $=this._state;if(!$.hot)return;const ie=$.handle;ie.removeDependent(L),ie.hasDependents||(this._state={hot:!1,handle:void 0},ie.destroy())}getValue(){fv(this);const L=this._state;let $;return L.hot?$=L.handle.getValue():$=Ac(this._fn),uv(this),$}},Vp=class{constructor(L){this._hotHandle=L,this._refs=new Map,this.isPrismScope=!0,this.subs={},this.effects=new Map,this.memos=new Map}ref(L,$){let ie=this._refs.get(L);if(ie!==void 0)return ie;{const we={current:$};return this._refs.set(L,we),we}}effect(L,$,ie){let we=this.effects.get(L);we===void 0&&(we={cleanup:Hp,deps:void 0},this.effects.set(L,we)),Qp(we.deps,ie)&&(we.cleanup(),ca(),we.cleanup=Gu($,Hp).value,mc(),we.deps=ie)}memo(L,$,ie){let we=this.memos.get(L);return we===void 0&&(we={cachedValue:null,deps:void 0},this.memos.set(L,we)),Qp(we.deps,ie)&&(ca(),we.cachedValue=Gu($,void 0).value,mc(),we.deps=ie),we.cachedValue}state(L,$){const{value:ie,setValue:we}=this.memo("state/"+L,()=>{const St={current:$};return{value:St,setValue:rr=>{St.current=rr,this._hotHandle.forceStale()}}},[]);return[ie.current,we]}sub(L){return this.subs[L]||(this.subs[L]=new Vp(this._hotHandle)),this.subs[L]}cleanupEffects(){for(const L of this.effects.values())Gu(L.cleanup,void 0);this.effects.clear()}source(L,$){return this.effect("$$source/blah",()=>L(()=>{this._hotHandle.forceStale()}),[L]),$()}};function Gp(L){for(const $ of Object.values(L.subs))Gp($);L.cleanupEffects()}function Gu(L,$){try{return{value:L(),ok:!0}}catch(ie){return setTimeout(function(){throw ie}),{value:$,ok:!1}}}var Wi=new Ri;function mv(L,$){const ie=Wi.peek();if(!ie)throw new Error("prism.ref() is called outside of a prism() call.");return ie.ref(L,$)}function eh(L,$,ie){const we=Wi.peek();if(!we)throw new Error("prism.effect() is called outside of a prism() call.");return we.effect(L,$,ie)}function Qp(L,$){if(L===void 0||$===void 0)return!0;const ie=L.length;if(ie!==$.length)return!0;for(let we=0;we<ie;we++)if(L[we]!==$[we])return!0;return!1}function jp(L,$,ie){const we=Wi.peek();if(!we)throw new Error("prism.memo() is called outside of a prism() call.");return we.memo(L,$,ie)}function Fr(L,$){const ie=Wi.peek();if(!ie)throw new Error("prism.state() is called outside of a prism() call.");return ie.state(L,$)}function gv(){if(!Wi.peek())throw new Error("The parent function is called outside of a prism() call.")}function Av(L,$){const ie=Wi.peek();if(!ie)throw new Error("prism.scope() is called outside of a prism() call.");const we=ie.sub(L);Wi.push(we);const St=Gu($,void 0).value;return Wi.pop(),St}function vv(L,$,ie){return jp(L,()=>Bi($),ie).getValue()}function Wp(){return!!Wi.peek()}function yv(L,$){const ie=Wi.peek();if(!ie)throw new Error("prism.source() is called outside of a prism() call.");return ie.source(L,$)}var Bi=L=>new pv(L),gc=class{effect(L,$,ie){console.warn("prism.effect() does not run in cold prisms")}memo(L,$,ie){return $()}state(L,$){return[$,()=>{}]}ref(L,$){return{current:$}}sub(L){return new gc}source(L,$){return $()}};function Ac(L){const $=new gc;Wi.push($);let ie;try{ie=L()}catch(we){console.error(we)}finally{Wi.pop()!==$&&console.warn("The Prism hook stack has slipped. This is a bug.")}return ie}Bi.ref=mv,Bi.effect=eh,Bi.memo=jp,Bi.ensurePrism=gv,Bi.state=Fr,Bi.scope=Av,Bi.sub=vv,Bi.inPrism=Wp,Bi.source=yv;var vc=Bi,qp;(function(L){L[L.Dict=0]="Dict",L[L.Array=1]="Array",L[L.Other=2]="Other"})(qp||(qp={}));var vn=L=>Array.isArray(L)?1:Up(L)?0:2,th=(L,$,ie=vn(L))=>ie===0&&typeof $=="string"||ie===1&&_v($)?L[$]:void 0,_v=L=>{const $=typeof L=="number"?L:parseInt(L,10);return!isNaN($)&&$>=0&&$<1/0&&($|0)===$},Xp=class{constructor(L,$){this._parent=L,this._path=$,this.children=new Map,this.identityChangeListeners=new Set}addIdentityChangeListener(L){this.identityChangeListeners.add(L)}removeIdentityChangeListener(L){this.identityChangeListeners.delete(L),this._checkForGC()}removeChild(L){this.children.delete(L),this._checkForGC()}getChild(L){return this.children.get(L)}getOrCreateChild(L){let $=this.children.get(L);return $||($=$=new Xp(this,this._path.concat([L])),this.children.set(L,$)),$}_checkForGC(){this.identityChangeListeners.size>0||this.children.size>0||this._parent&&this._parent.removeChild(av(this._path))}},Yp=class{constructor(L){this.$$isPointerToPrismProvider=!0,this.pointer=$d({root:this,path:[]}),this.prism=this.pointerToPrism(this.pointer),this._onPointerValueChange=($,ie)=>{const{path:we}=pc($),St=this._getOrCreateScopeForPath(we);return St.identityChangeListeners.add(ie),()=>{St.identityChangeListeners.delete(ie)}},this._currentState=L,this._rootScope=new Xp(void 0,[])}set(L){const $=this._currentState;this._currentState=L,this._checkUpdates(this._rootScope,$,L)}get(){return this._currentState}getByPointer(L){const $=la(L)?L:L(this.pointer),ie=pc($).path;return this._getIn(ie)}_getIn(L){return L.length===0?this.get():ZA(this.get(),L)}reduce(L){this.set(L(this.get()))}reduceByPointer(L,$){const ie=la(L)?L:L(this.pointer),we=pc(ie).path,St=zp(this.get(),we,$);this.set(St)}setByPointer(L,$){this.reduceByPointer(L,()=>$)}_checkUpdates(L,$,ie){if($===ie)return;for(const on of L.identityChangeListeners)on(ie);if(L.children.size===0)return;const we=vn($),St=vn(ie);if(!(we===2&&we===St))for(const[on,rr]of L.children){const Hs=th($,on,we),Zp=th(ie,on,St);this._checkUpdates(rr,Hs,Zp)}}_getOrCreateScopeForPath(L){let $=this._rootScope;for(const ie of L)$=$.getOrCreateChild(ie);return $}pointerToPrism(L){const{path:$}=pc(L),ie=St=>this._onPointerValueChange(L,St),we=()=>this._getIn($);return vc(()=>vc.source(ie,we))}},$p=new WeakMap;function bv(L){return typeof L=="object"&&L!==null&&L.$$isPointerToPrismProvider===!0}var Qu=L=>{const $=uo(L);let ie=$p.get($);if(!ie){const we=$.root;if(!bv(we))throw new Error("Cannot run pointerToPrism() on a pointer whose root is not an PointerToPrismProvider");ie=we.pointerToPrism(L),$p.set($,ie)}return ie},nh=L=>la(L)?Qu(L).getValue():Vu(L)?L.getValue():L;function*xv(L){let $;if(la(L))$=Qu(L);else if(Vu(L))$=L;else throw new Error("Only pointers and prisms are supported");let ie=0;const we=$.onStale(()=>{ie++});try{for(;;){const St=ie;ie=0,yield{value:$.getValue(),ticks:St}}}finally{we()}}var Cv=60*3,Kp=class{constructor(L){this._conf=L,this._ticking=!1,this._dormant=!0,this._numberOfDormantTicks=0,this.__ticks=0,this._scheduledForThisOrNextTick=new Set,this._scheduledForNextTick=new Set,this._timeAtCurrentTick=0}get dormant(){return this._dormant}onThisOrNextTick(L){this._scheduledForThisOrNextTick.add(L),this._dormant&&this._goActive()}onNextTick(L){this._scheduledForNextTick.add(L),this._dormant&&this._goActive()}offThisOrNextTick(L){this._scheduledForThisOrNextTick.delete(L)}offNextTick(L){this._scheduledForNextTick.delete(L)}get time(){return this._ticking?this._timeAtCurrentTick:performance.now()}_goActive(){var L,$;this._dormant&&(this._dormant=!1,($=(L=this._conf)==null?void 0:L.onActive)==null||$.call(L))}_goDormant(){var L,$;this._dormant||(this._dormant=!0,this._numberOfDormantTicks=0,($=(L=this._conf)==null?void 0:L.onDormant)==null||$.call(L))}tick(L=performance.now()){if(this.__ticks++,!this._dormant&&this._scheduledForNextTick.size===0&&this._scheduledForThisOrNextTick.size===0&&(this._numberOfDormantTicks++,this._numberOfDormantTicks>=Cv)){this._goDormant();return}this._ticking=!0,this._timeAtCurrentTick=L;for(const $ of this._scheduledForNextTick)this._scheduledForThisOrNextTick.add($);this._scheduledForNextTick.clear(),this._tick(0),this._ticking=!1}_tick(L){const $=this.time;if(L>10&&console.warn("_tick() recursing for 10 times"),L>100)throw new Error("Maximum recursion limit for _tick()");const ie=this._scheduledForThisOrNextTick;this._scheduledForThisOrNextTick=new Set;for(const we of ie)we($);if(this._scheduledForThisOrNextTick.size>0)return this._tick(L+1)}};function*Sv(L){let $;if(la(L))$=Qu(L);else if(Vu(L))$=L;else throw new Error("Only pointers and prisms are supported");const ie=new Kp,we=$.onChange(ie,St=>{});try{for(;;)ie.tick(),yield $.getValue()}finally{we()}}var wv=class{constructor(L){this.$$isPointerToPrismProvider=!0,this._currentPointerBox=new Yp(L),this.pointer=$d({root:this,path:[]})}setPointer(L){this._currentPointerBox.set(L)}pointerToPrism(L){const{path:$}=uo(L);return vc(()=>{const ie=this._currentPointerBox.prism.getValue(),we=$.reduce((St,on)=>St[on],ie);return nh(we)})}}}(ry)),ry}Jh.exports;var vE;function rle(){return vE||(vE=1,function(n,e){var t=Object.create,i=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptor,o=Object.getOwnPropertyDescriptors,a=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,c=Object.getPrototypeOf,u=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,h=(d,v,C)=>v in d?i(d,v,{enumerable:!0,configurable:!0,writable:!0,value:C}):d[v]=C,p=(d,v)=>{for(var C in v||(v={}))u.call(v,C)&&h(d,C,v[C]);if(l)for(var C of l(v))f.call(v,C)&&h(d,C,v[C]);return d},m=(d,v)=>r(d,o(v)),g=(d,v)=>function(){return v||(0,d[a(d)[0]])((v={exports:{}}).exports,v),v.exports},A=(d,v)=>{for(var C in v)i(d,C,{get:v[C],enumerable:!0})},y=(d,v,C,D)=>{if(v&&typeof v=="object"||typeof v=="function")for(let N of a(v))!u.call(d,N)&&N!==C&&i(d,N,{get:()=>v[N],enumerable:!(D=s(v,N))||D.enumerable});return d},x=(d,v,C)=>(C=d!=null?t(c(d)):{},y(!d||!d.__esModule?i(C,"default",{value:d,enumerable:!0}):C,d)),b=d=>y(i({},"__esModule",{value:!0}),d),_=(d,v,C)=>(h(d,typeof v!="symbol"?v+"":v,C),C),T=g({"../node_modules/timing-function/lib/UnitBezier.js"(d,v){v.exports=function(){function C(D,N,q,ee){this.set(D,N,q,ee)}return C.prototype.set=function(D,N,q,ee){this._cx=3*D,this._bx=3*(q-D)-this._cx,this._ax=1-this._cx-this._bx,this._cy=3*N,this._by=3*(ee-N)-this._cy,this._ay=1-this._cy-this._by},C.epsilon=1e-6,C.prototype._sampleCurveX=function(D){return((this._ax*D+this._bx)*D+this._cx)*D},C.prototype._sampleCurveY=function(D){return((this._ay*D+this._by)*D+this._cy)*D},C.prototype._sampleCurveDerivativeX=function(D){return(3*this._ax*D+2*this._bx)*D+this._cx},C.prototype._solveCurveX=function(D,N){var q,ee,ue,ge,Ee,Ve;for(ue=void 0,ge=void 0,Ee=void 0,Ve=void 0,q=void 0,ee=void 0,Ee=D,ee=0;ee<8;){if(Ve=this._sampleCurveX(Ee)-D,Math.abs(Ve)<N)return Ee;if(q=this._sampleCurveDerivativeX(Ee),Math.abs(q)<N)break;Ee=Ee-Ve/q,ee++}if(ue=0,ge=1,Ee=D,Ee<ue)return ue;if(Ee>ge)return ge;for(;ue<ge;){if(Ve=this._sampleCurveX(Ee),Math.abs(Ve-D)<N)return Ee;D>Ve?ue=Ee:ge=Ee,Ee=(ge-ue)*.5+ue}return Ee},C.prototype.solve=function(D,N){return this._sampleCurveY(this._solveCurveX(D,N))},C.prototype.solveSimple=function(D){return this._sampleCurveY(this._solveCurveX(D,1e-6))},C}()}}),M=g({"../node_modules/levenshtein-edit-distance/index.js"(d,v){var C,D;C=[],D=[];function N(q,ee,ue){var ge,Ee,Ve,Ge,nt,vt,ft,Bt;if(q===ee)return 0;if(ge=q.length,Ee=ee.length,ge===0)return Ee;if(Ee===0)return ge;for(ue&&(q=q.toLowerCase(),ee=ee.toLowerCase()),ft=0;ft<ge;)D[ft]=q.charCodeAt(ft),C[ft]=++ft;for(Bt=0;Bt<Ee;)for(Ve=ee.charCodeAt(Bt),Ge=nt=Bt++,ft=-1;++ft<ge;)vt=Ve===D[ft]?nt:nt+1,nt=C[ft],C[ft]=Ge=nt>Ge?vt>Ge?Ge+1:vt:vt>nt?nt+1:vt;return Ge}v.exports=N}}),I=g({"../node_modules/propose/propose.js"(d,v){var C=M();function D(){var N,q,ee,ue,ge,Ee=0,Ve=arguments[0],Ge=arguments[1],nt=Ge.length,vt=arguments[2];vt&&(ue=vt.threshold,ge=vt.ignoreCase),ue===void 0&&(ue=0);for(var ft=0;ft<nt;++ft)ge?q=C(Ve,Ge[ft],!0):q=C(Ve,Ge[ft]),q>Ve.length?N=1-q/Ge[ft].length:N=1-q/Ve.length,N>Ee&&(Ee=N,ee=Ge[ft]);return Ee>=ue?ee:null}v.exports=D}}),P=g({"../node_modules/fast-deep-equal/index.js"(d,v){v.exports=function C(D,N){if(D===N)return!0;if(D&&N&&typeof D=="object"&&typeof N=="object"){if(D.constructor!==N.constructor)return!1;var q,ee,ue;if(Array.isArray(D)){if(q=D.length,q!=N.length)return!1;for(ee=q;ee--!==0;)if(!C(D[ee],N[ee]))return!1;return!0}if(D.constructor===RegExp)return D.source===N.source&&D.flags===N.flags;if(D.valueOf!==Object.prototype.valueOf)return D.valueOf()===N.valueOf();if(D.toString!==Object.prototype.toString)return D.toString()===N.toString();if(ue=Object.keys(D),q=ue.length,q!==Object.keys(N).length)return!1;for(ee=q;ee--!==0;)if(!Object.prototype.hasOwnProperty.call(N,ue[ee]))return!1;for(ee=q;ee--!==0;){var ge=ue[ee];if(!C(D[ge],N[ge]))return!1}return!0}return D!==D&&N!==N}}}),w={};A(w,{createRafDriver:()=>qv,getProject:()=>E5,notify:()=>qu,onChange:()=>m2,types:()=>Xv,val:()=>T5}),n.exports=b(w);var E={};A(E,{createRafDriver:()=>qv,getProject:()=>E5,notify:()=>qu,onChange:()=>m2,types:()=>Xv,val:()=>T5});var O=Fi(),F=class{constructor(){_(this,"atom",new O.Atom({projects:{}}))}add(d,v){this.atom.setByPointer(C=>C.projects[d],v)}get(d){return this.atom.get().projects[d]}has(d){return!!this.get(d)}},H=new F,z=H,X=new WeakMap;function U(d){return X.get(d)}function G(d,v){X.set(d,v)}var j=[],Y=Array.isArray,Q=Y,ve=typeof Qo=="object"&&Qo&&Qo.Object===Object&&Qo,Pe=ve,He=typeof self=="object"&&self&&self.Object===Object&&self,re=Pe||He||Function("return this")(),he=re,Oe=he.Symbol,J=Oe,ye=Object.prototype,Se=ye.hasOwnProperty,be=ye.toString,qe=J?J.toStringTag:void 0;function rt(d){var v=Se.call(d,qe),C=d[qe];try{d[qe]=void 0;var D=!0}catch{}var N=be.call(d);return D&&(v?d[qe]=C:delete d[qe]),N}var W=rt,R=Object.prototype,le=R.toString;function _e(d){return le.call(d)}var K=_e,de="[object Null]",Be="[object Undefined]",xe=J?J.toStringTag:void 0;function k(d){return d==null?d===void 0?Be:de:xe&&xe in Object(d)?W(d):K(d)}var B=k;function ne(d){return d!=null&&typeof d=="object"}var se=ne,ce="[object Symbol]";function fe(d){return typeof d=="symbol"||se(d)&&B(d)==ce}var Ie=fe,Le=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Fe=/^\w*$/;function dt(d,v){if(Q(d))return!1;var C=typeof d;return C=="number"||C=="symbol"||C=="boolean"||d==null||Ie(d)?!0:Fe.test(d)||!Le.test(d)||v!=null&&d in Object(v)}var Re=dt;function ze(d){var v=typeof d;return d!=null&&(v=="object"||v=="function")}var Xe=ze,st="[object AsyncFunction]",et="[object Function]",mt="[object GeneratorFunction]",lt="[object Proxy]";function Pt(d){if(!Xe(d))return!1;var v=B(d);return v==et||v==mt||v==st||v==lt}var te=Pt,je=he["__core-js_shared__"],Ce=je,Me=function(){var d=/[^.]+$/.exec(Ce&&Ce.keys&&Ce.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}();function We(d){return!!Me&&Me in d}var Ye=We,_t=Function.prototype,Wt=_t.toString;function Rn(d){if(d!=null){try{return Wt.call(d)}catch{}try{return d+""}catch{}}return""}var $e=Rn,ot=/[\\^$.*+?()[\]{}|]/g,Mt=/^\[object .+?Constructor\]$/,Ze=Function.prototype,Ct=Object.prototype,ct=Ze.toString,bt=Ct.hasOwnProperty,Vn=RegExp("^"+ct.call(bt).replace(ot,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Rt(d){if(!Xe(d)||Ye(d))return!1;var v=te(d)?Vn:Mt;return v.test($e(d))}var $t=Rt;function Qn(d,v){return d==null?void 0:d[v]}var ln=Qn;function cn(d,v){var C=ln(d,v);return $t(C)?C:void 0}var Ot=cn,tr=Ot(Object,"create"),rn=tr;function li(){this.__data__=rn?rn(null):{},this.size=0}var hr=li;function Zn(d){var v=this.has(d)&&delete this.__data__[d];return this.size-=v?1:0,v}var Jn=Zn,V="__lodash_hash_undefined__",ae=Object.prototype,Ae=ae.hasOwnProperty;function me(d){var v=this.__data__;if(rn){var C=v[d];return C===V?void 0:C}return Ae.call(v,d)?v[d]:void 0}var oe=me,Ue=Object.prototype,Je=Ue.hasOwnProperty;function tt(d){var v=this.__data__;return rn?v[d]!==void 0:Je.call(v,d)}var it=tt,pt="__lodash_hash_undefined__";function yt(d,v){var C=this.__data__;return this.size+=this.has(d)?0:1,C[d]=rn&&v===void 0?pt:v,this}var ht=yt;function Tt(d){var v=-1,C=d==null?0:d.length;for(this.clear();++v<C;){var D=d[v];this.set(D[0],D[1])}}Tt.prototype.clear=hr,Tt.prototype.delete=Jn,Tt.prototype.get=oe,Tt.prototype.has=it,Tt.prototype.set=ht;var Kt=Tt;function jn(){this.__data__=[],this.size=0}var Bn=jn;function Ut(d,v){return d===v||d!==d&&v!==v}var At=Ut;function gi(d,v){for(var C=d.length;C--;)if(At(d[C][0],v))return C;return-1}var Gt=gi,Lr=Array.prototype,Bo=Lr.splice;function nr(d){var v=this.__data__,C=Gt(v,d);if(C<0)return!1;var D=v.length-1;return C==D?v.pop():Bo.call(v,C,1),--this.size,!0}var aa=nr;function Sn(d){var v=this.__data__,C=Gt(v,d);return C<0?void 0:v[C][1]}var Ai=Sn;function ir(d){return Gt(this.__data__,d)>-1}var Pi=ir;function xi(d,v){var C=this.__data__,D=Gt(C,d);return D<0?(++this.size,C.push([d,v])):C[D][1]=v,this}var uc=xi;function pr(d){var v=-1,C=d==null?0:d.length;for(this.clear();++v<C;){var D=d[v];this.set(D[0],D[1])}}pr.prototype.clear=Bn,pr.prototype.delete=aa,pr.prototype.get=Ai,pr.prototype.has=Pi,pr.prototype.set=uc;var Nu=pr,kA=Ot(he,"Map"),fc=kA;function zA(){this.size=0,this.__data__={hash:new Kt,map:new(fc||Nu),string:new Kt}}var HA=zA;function VA(d){var v=typeof d;return v=="string"||v=="number"||v=="symbol"||v=="boolean"?d!=="__proto__":d===null}var GA=VA;function QA(d,v){var C=d.__data__;return GA(v)?C[typeof v=="string"?"string":"hash"]:C.map}var dc=QA;function Rp(d){var v=dc(this,d).delete(d);return this.size-=v?1:0,v}var Bp=Rp;function jA(d){return dc(this,d).get(d)}var WA=jA;function qA(d){return dc(this,d).has(d)}var XA=qA;function YA(d,v){var C=dc(this,d),D=C.size;return C.set(d,v),this.size+=C.size==D?0:1,this}var $A=YA;function rl(d){var v=-1,C=d==null?0:d.length;for(this.clear();++v<C;){var D=d[v];this.set(D[0],D[1])}}rl.prototype.clear=HA,rl.prototype.delete=Bp,rl.prototype.get=WA,rl.prototype.has=XA,rl.prototype.set=$A;var ku=rl,KA="Expected a function";function Yd(d,v){if(typeof d!="function"||v!=null&&typeof v!="function")throw new TypeError(KA);var C=function(){var D=arguments,N=v?v.apply(this,D):D[0],q=C.cache;if(q.has(N))return q.get(N);var ee=d.apply(this,D);return C.cache=q.set(N,ee)||q,ee};return C.cache=new(Yd.Cache||ku),C}Yd.Cache=ku;var ZA=Yd,JA=500;function ev(d){var v=ZA(d,function(D){return C.size===JA&&C.clear(),D}),C=v.cache;return v}var tv=ev,nv=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,iv=/\\(\\)?/g,rv=tv(function(d){var v=[];return d.charCodeAt(0)===46&&v.push(""),d.replace(nv,function(C,D,N,q){v.push(N?q.replace(iv,"$1"):D||C)}),v}),sv=rv;function Lp(d,v){for(var C=-1,D=d==null?0:d.length,N=Array(D);++C<D;)N[C]=v(d[C],C,d);return N}var ov=Lp,Fp=J?J.prototype:void 0,Op=Fp?Fp.toString:void 0;function Up(d){if(typeof d=="string")return d;if(Q(d))return ov(d,Up)+"";if(Ie(d))return Op?Op.call(d):"";var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}var Np=Up;function av(d){return d==null?"":Np(d)}var zu=av;function kp(d,v){return Q(d)?d:Re(d,v)?[d]:sv(zu(d))}var hc=kp;function lv(d){if(typeof d=="string"||Ie(d))return d;var v=d+"";return v=="0"&&1/d==-1/0?"-0":v}var uo=lv;function pc(d,v){v=hc(v,d);for(var C=0,D=v.length;d!=null&&C<D;)d=d[uo(v[C++])];return C&&C==D?d:void 0}var Hu=pc;function $d(d,v,C){var D=d==null?void 0:Hu(d,v);return D===void 0?C:D}var la=$d;function zp(d,v){return v.length===0?d:la(d,v)}var sl=class{constructor(){_(this,"_values",{})}get(d,v){if(this.has(d))return this._values[d];{const C=v();return this._values[d]=C,C}}has(d){return this._values.hasOwnProperty(d)}},Ri=Fi(),Vu=function(){try{var d=Ot(Object,"defineProperty");return d({},"",{}),d}catch{}}(),Kd=Vu;function cv(d,v,C){v=="__proto__"&&Kd?Kd(d,v,{configurable:!0,enumerable:!0,value:C,writable:!0}):d[v]=C}var ca=cv,mc=Object.prototype,uv=mc.hasOwnProperty;function fv(d,v,C){var D=d[v];(!(uv.call(d,v)&&At(D,C))||C===void 0&&!(v in d))&&ca(d,v,C)}var Zd=fv,dv=9007199254740991,Hp=/^(?:0|[1-9]\d*)$/;function hv(d,v){var C=typeof d;return v=v??dv,!!v&&(C=="number"||C!="symbol"&&Hp.test(d))&&d>-1&&d%1==0&&d<v}var Jd=hv;function pv(d,v,C,D){if(!Xe(d))return d;v=hc(v,d);for(var N=-1,q=v.length,ee=q-1,ue=d;ue!=null&&++N<q;){var ge=uo(v[N]),Ee=C;if(ge==="__proto__"||ge==="constructor"||ge==="prototype")return d;if(N!=ee){var Ve=ue[ge];Ee=D?D(Ve,ge,ue):void 0,Ee===void 0&&(Ee=Xe(Ve)?Ve:Jd(v[N+1])?[]:{})}Zd(ue,ge,Ee),ue=ue[ge]}return d}var Vp=pv;function Gp(d,v,C){return d==null?d:Vp(d,v,C)}var Gu=Gp,Wi=new WeakMap;function mv(d){return eh(d)}function eh(d){if(Wi.has(d))return Wi.get(d);const v=d.type==="compound"?jp(d):d.type==="enum"?Qp(d):d.default;return Wi.set(d,v),v}function Qp(d){const v={$case:d.defaultCase};for(const[C,D]of Object.entries(d.cases))v[C]=eh(D);return v}function jp(d){const v={};for(const[C,D]of Object.entries(d.props))v[C]=eh(D);return v}var Fr=Fi(),gv=x(T());function Av(d,v,C){return(0,Fr.prism)(()=>{const D=(0,Fr.val)(v);return Fr.prism.memo("driver",()=>D?D.type==="BasicKeyframedTrack"?vv(d,D,C):(d.logger.error("Track type not yet supported."),(0,Fr.prism)(()=>{})):(0,Fr.prism)(()=>{}),[D]).getValue()})}function vv(d,v,C){return(0,Fr.prism)(()=>{let D=Fr.prism.ref("state",{started:!1}),N=D.current;const q=C.getValue();return(!N.started||q<N.validFrom||N.validTo<=q)&&(D.current=N=yv(d,C,v)),N.der.getValue()})}var Wp=(0,Fr.prism)(()=>{});function yv(d,v,C){const D=v.getValue();if(C.keyframes.length===0)return{started:!0,validFrom:-1/0,validTo:1/0,der:Wp};let N=0;for(;;){const q=C.keyframes[N];if(!q)return Bi.error;const ee=N===C.keyframes.length-1;if(D<q.position)return N===0?Bi.beforeFirstKeyframe(q):Bi.error;if(q.position===D)return ee?Bi.lastKeyframe(q):Bi.between(q,C.keyframes[N+1],v);if(N===C.keyframes.length-1)return Bi.lastKeyframe(q);{const ue=N+1;if(C.keyframes[ue].position<=D){N=ue;continue}else return Bi.between(q,C.keyframes[N+1],v)}}}var Bi={beforeFirstKeyframe(d){return{started:!0,validFrom:-1/0,validTo:d.position,der:(0,Fr.prism)(()=>({left:d.value,progression:0}))}},lastKeyframe(d){return{started:!0,validFrom:d.position,validTo:1/0,der:(0,Fr.prism)(()=>({left:d.value,progression:0}))}},between(d,v,C){if(!d.connectedRight)return{started:!0,validFrom:d.position,validTo:v.position,der:(0,Fr.prism)(()=>({left:d.value,progression:0}))};const D=q=>(q-d.position)/(v.position-d.position);if(!d.type||d.type==="bezier"){const q=new gv.default(d.handles[2],d.handles[3],v.handles[0],v.handles[1]),ee=(0,Fr.prism)(()=>{const ue=D(C.getValue()),ge=q.solveSimple(ue);return{left:d.value,right:v.value,progression:ge}});return{started:!0,validFrom:d.position,validTo:v.position,der:ee}}const N=(0,Fr.prism)(()=>{const q=D(C.getValue()),ee=Math.floor(q);return{left:d.value,right:v.value,progression:ee}});return{started:!0,validFrom:d.position,validTo:v.position,der:N}},error:{started:!0,validFrom:-1/0,validTo:1/0,der:Wp}};function gc(d,v,C){const N=C.get(d);if(N&&N.override===v)return N.merged;const q=p({},d);for(const ee of Object.keys(v)){const ue=v[ee],ge=d[ee];q[ee]=typeof ue=="object"&&typeof ge=="object"?gc(ge,ue,C):ue===void 0?ge:ue}return C.set(d,{override:v,merged:q}),q}function Ac(d,v){let C=d;for(const D of v)C=C[D];return C}var vc=Fi(),qp=(d,v)=>{const C=vc.prism.memo(d,()=>new vc.Atom(v),[]);return C.set(v),C},vn=Fi(),th=Fi(),_v=/\s/;function Xp(d){for(var v=d.length;v--&&_v.test(d.charAt(v)););return v}var Yp=Xp,$p=/^\s+/;function bv(d){return d&&d.slice(0,Yp(d)+1).replace($p,"")}var Qu=bv,nh=NaN,xv=/^[-+]0x[0-9a-f]+$/i,Cv=/^0b[01]+$/i,Kp=/^0o[0-7]+$/i,Sv=parseInt;function wv(d){if(typeof d=="number")return d;if(Ie(d))return nh;if(Xe(d)){var v=typeof d.valueOf=="function"?d.valueOf():d;d=Xe(v)?v+"":v}if(typeof d!="string")return d===0?d:+d;d=Qu(d);var C=Cv.test(d);return C||Kp.test(d)?Sv(d.slice(2),C?2:8):xv.test(d)?nh:+d}var L=wv,$=1/0,ie=17976931348623157e292;function we(d){if(!d)return d===0?d:0;if(d=L(d),d===$||d===-1/0){var v=d<0?-1:1;return v*ie}return d===d?d:0}var St=we;function on(d){var v=St(d),C=v%1;return v===v?C?v-C:v:0}var rr=on;function Hs(d){return d}var Zp=Hs,ol=Ot(he,"WeakMap"),yc=ol,U4=Object.create,ZP=function(){function d(){}return function(v){if(!Xe(v))return{};if(U4)return U4(v);d.prototype=v;var C=new d;return d.prototype=void 0,C}}(),JP=ZP;function eR(d,v){var C=-1,D=d.length;for(v||(v=Array(D));++C<D;)v[C]=d[C];return v}var tR=eR;function nR(d,v){for(var C=-1,D=d==null?0:d.length;++C<D&&v(d[C],C,d)!==!1;);return d}var iR=nR;function rR(d,v,C,D){var N=!C;C||(C={});for(var q=-1,ee=v.length;++q<ee;){var ue=v[q],ge=D?D(C[ue],d[ue],ue,C,d):void 0;ge===void 0&&(ge=d[ue]),N?ca(C,ue,ge):Zd(C,ue,ge)}return C}var Jp=rR,sR=9007199254740991;function oR(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=sR}var Ev=oR;function aR(d){return d!=null&&Ev(d.length)&&!te(d)}var N4=aR,lR=Object.prototype;function cR(d){var v=d&&d.constructor,C=typeof v=="function"&&v.prototype||lR;return d===C}var Tv=cR;function uR(d,v){for(var C=-1,D=Array(d);++C<d;)D[C]=v(C);return D}var fR=uR,dR="[object Arguments]";function hR(d){return se(d)&&B(d)==dR}var k4=hR,z4=Object.prototype,pR=z4.hasOwnProperty,mR=z4.propertyIsEnumerable,gR=k4(function(){return arguments}())?k4:function(d){return se(d)&&pR.call(d,"callee")&&!mR.call(d,"callee")},H4=gR;function AR(){return!1}var vR=AR,V4=e&&!e.nodeType&&e,G4=V4&&!0&&n&&!n.nodeType&&n,yR=G4&&G4.exports===V4,Q4=yR?he.Buffer:void 0,_R=Q4?Q4.isBuffer:void 0,bR=_R||vR,e1=bR,xR="[object Arguments]",CR="[object Array]",SR="[object Boolean]",wR="[object Date]",ER="[object Error]",TR="[object Function]",MR="[object Map]",IR="[object Number]",DR="[object Object]",PR="[object RegExp]",RR="[object Set]",BR="[object String]",LR="[object WeakMap]",FR="[object ArrayBuffer]",OR="[object DataView]",UR="[object Float32Array]",NR="[object Float64Array]",kR="[object Int8Array]",zR="[object Int16Array]",HR="[object Int32Array]",VR="[object Uint8Array]",GR="[object Uint8ClampedArray]",QR="[object Uint16Array]",jR="[object Uint32Array]",Gn={};Gn[UR]=Gn[NR]=Gn[kR]=Gn[zR]=Gn[HR]=Gn[VR]=Gn[GR]=Gn[QR]=Gn[jR]=!0,Gn[xR]=Gn[CR]=Gn[FR]=Gn[SR]=Gn[OR]=Gn[wR]=Gn[ER]=Gn[TR]=Gn[MR]=Gn[IR]=Gn[DR]=Gn[PR]=Gn[RR]=Gn[BR]=Gn[LR]=!1;function WR(d){return se(d)&&Ev(d.length)&&!!Gn[B(d)]}var qR=WR;function XR(d){return function(v){return d(v)}}var Mv=XR,j4=e&&!e.nodeType&&e,ih=j4&&!0&&n&&!n.nodeType&&n,YR=ih&&ih.exports===j4,Iv=YR&&Pe.process,$R=function(){try{var d=ih&&ih.require&&ih.require("util").types;return d||Iv&&Iv.binding&&Iv.binding("util")}catch{}}(),ju=$R,W4=ju&&ju.isTypedArray,KR=W4?Mv(W4):qR,q4=KR,ZR=Object.prototype,JR=ZR.hasOwnProperty;function eB(d,v){var C=Q(d),D=!C&&H4(d),N=!C&&!D&&e1(d),q=!C&&!D&&!N&&q4(d),ee=C||D||N||q,ue=ee?fR(d.length,String):[],ge=ue.length;for(var Ee in d)(v||JR.call(d,Ee))&&!(ee&&(Ee=="length"||N&&(Ee=="offset"||Ee=="parent")||q&&(Ee=="buffer"||Ee=="byteLength"||Ee=="byteOffset")||Jd(Ee,ge)))&&ue.push(Ee);return ue}var X4=eB;function tB(d,v){return function(C){return d(v(C))}}var Y4=tB,nB=Y4(Object.keys,Object),iB=nB,rB=Object.prototype,sB=rB.hasOwnProperty;function oB(d){if(!Tv(d))return iB(d);var v=[];for(var C in Object(d))sB.call(d,C)&&C!="constructor"&&v.push(C);return v}var aB=oB;function lB(d){return N4(d)?X4(d):aB(d)}var rh=lB;function cB(d){var v=[];if(d!=null)for(var C in Object(d))v.push(C);return v}var uB=cB,fB=Object.prototype,dB=fB.hasOwnProperty;function hB(d){if(!Xe(d))return uB(d);var v=Tv(d),C=[];for(var D in d)D=="constructor"&&(v||!dB.call(d,D))||C.push(D);return C}var pB=hB;function mB(d){return N4(d)?X4(d,!0):pB(d)}var Dv=mB;function gB(d,v){for(var C=-1,D=v.length,N=d.length;++C<D;)d[N+C]=v[C];return d}var $4=gB,AB=Y4(Object.getPrototypeOf,Object),Pv=AB,vB="[object Object]",yB=Function.prototype,_B=Object.prototype,K4=yB.toString,bB=_B.hasOwnProperty,xB=K4.call(Object);function CB(d){if(!se(d)||B(d)!=vB)return!1;var v=Pv(d);if(v===null)return!0;var C=bB.call(v,"constructor")&&v.constructor;return typeof C=="function"&&C instanceof C&&K4.call(C)==xB}var SB=CB;function wB(d,v,C){var D=-1,N=d.length;v<0&&(v=-v>N?0:N+v),C=C>N?N:C,C<0&&(C+=N),N=v>C?0:C-v>>>0,v>>>=0;for(var q=Array(N);++D<N;)q[D]=d[D+v];return q}var Z4=wB;function EB(d,v,C){var D=d.length;return C=C===void 0?D:C,!v&&C>=D?d:Z4(d,v,C)}var TB=EB,MB="\\ud800-\\udfff",IB="\\u0300-\\u036f",DB="\\ufe20-\\ufe2f",PB="\\u20d0-\\u20ff",RB=IB+DB+PB,BB="\\ufe0e\\ufe0f",LB="\\u200d",FB=RegExp("["+LB+MB+RB+BB+"]");function OB(d){return FB.test(d)}var Rv=OB;function UB(d){return d.split("")}var NB=UB,J4="\\ud800-\\udfff",kB="\\u0300-\\u036f",zB="\\ufe20-\\ufe2f",HB="\\u20d0-\\u20ff",VB=kB+zB+HB,GB="\\ufe0e\\ufe0f",QB="["+J4+"]",Bv="["+VB+"]",Lv="\\ud83c[\\udffb-\\udfff]",jB="(?:"+Bv+"|"+Lv+")",e9="[^"+J4+"]",t9="(?:\\ud83c[\\udde6-\\uddff]){2}",n9="[\\ud800-\\udbff][\\udc00-\\udfff]",WB="\\u200d",i9=jB+"?",r9="["+GB+"]?",qB="(?:"+WB+"(?:"+[e9,t9,n9].join("|")+")"+r9+i9+")*",XB=r9+i9+qB,YB="(?:"+[e9+Bv+"?",Bv,t9,n9,QB].join("|")+")",$B=RegExp(Lv+"(?="+Lv+")|"+YB+XB,"g");function KB(d){return d.match($B)||[]}var ZB=KB;function JB(d){return Rv(d)?ZB(d):NB(d)}var eL=JB;function tL(d,v,C){return d===d&&(C!==void 0&&(d=d<=C?d:C),v!==void 0&&(d=d>=v?d:v)),d}var nL=tL;function iL(d,v,C){return C===void 0&&(C=v,v=void 0),C!==void 0&&(C=L(C),C=C===C?C:0),v!==void 0&&(v=L(v),v=v===v?v:0),nL(L(d),v,C)}var s9=iL;function rL(){this.__data__=new Nu,this.size=0}var sL=rL;function oL(d){var v=this.__data__,C=v.delete(d);return this.size=v.size,C}var aL=oL;function lL(d){return this.__data__.get(d)}var cL=lL;function uL(d){return this.__data__.has(d)}var fL=uL,dL=200;function hL(d,v){var C=this.__data__;if(C instanceof Nu){var D=C.__data__;if(!fc||D.length<dL-1)return D.push([d,v]),this.size=++C.size,this;C=this.__data__=new ku(D)}return C.set(d,v),this.size=C.size,this}var pL=hL;function Wu(d){var v=this.__data__=new Nu(d);this.size=v.size}Wu.prototype.clear=sL,Wu.prototype.delete=aL,Wu.prototype.get=cL,Wu.prototype.has=fL,Wu.prototype.set=pL;var sh=Wu;function mL(d,v){return d&&Jp(v,rh(v),d)}var gL=mL;function AL(d,v){return d&&Jp(v,Dv(v),d)}var vL=AL,o9=e&&!e.nodeType&&e,a9=o9&&!0&&n&&!n.nodeType&&n,yL=a9&&a9.exports===o9,l9=yL?he.Buffer:void 0,c9=l9?l9.allocUnsafe:void 0;function _L(d,v){if(v)return d.slice();var C=d.length,D=c9?c9(C):new d.constructor(C);return d.copy(D),D}var bL=_L;function xL(d,v){for(var C=-1,D=d==null?0:d.length,N=0,q=[];++C<D;){var ee=d[C];v(ee,C,d)&&(q[N++]=ee)}return q}var CL=xL;function SL(){return[]}var u9=SL,wL=Object.prototype,EL=wL.propertyIsEnumerable,f9=Object.getOwnPropertySymbols,TL=f9?function(d){return d==null?[]:(d=Object(d),CL(f9(d),function(v){return EL.call(d,v)}))}:u9,Fv=TL;function ML(d,v){return Jp(d,Fv(d),v)}var IL=ML,DL=Object.getOwnPropertySymbols,PL=DL?function(d){for(var v=[];d;)$4(v,Fv(d)),d=Pv(d);return v}:u9,d9=PL;function RL(d,v){return Jp(d,d9(d),v)}var BL=RL;function LL(d,v,C){var D=v(d);return Q(d)?D:$4(D,C(d))}var h9=LL;function FL(d){return h9(d,rh,Fv)}var Ov=FL;function OL(d){return h9(d,Dv,d9)}var UL=OL,NL=Ot(he,"DataView"),Uv=NL,kL=Ot(he,"Promise"),Nv=kL,zL=Ot(he,"Set"),kv=zL,p9="[object Map]",HL="[object Object]",m9="[object Promise]",g9="[object Set]",A9="[object WeakMap]",v9="[object DataView]",VL=$e(Uv),GL=$e(fc),QL=$e(Nv),jL=$e(kv),WL=$e(yc),_c=B;(Uv&&_c(new Uv(new ArrayBuffer(1)))!=v9||fc&&_c(new fc)!=p9||Nv&&_c(Nv.resolve())!=m9||kv&&_c(new kv)!=g9||yc&&_c(new yc)!=A9)&&(_c=function(d){var v=B(d),C=v==HL?d.constructor:void 0,D=C?$e(C):"";if(D)switch(D){case VL:return v9;case GL:return p9;case QL:return m9;case jL:return g9;case WL:return A9}return v});var oh=_c,qL=Object.prototype,XL=qL.hasOwnProperty;function YL(d){var v=d.length,C=new d.constructor(v);return v&&typeof d[0]=="string"&&XL.call(d,"index")&&(C.index=d.index,C.input=d.input),C}var $L=YL,KL=he.Uint8Array,t1=KL;function ZL(d){var v=new d.constructor(d.byteLength);return new t1(v).set(new t1(d)),v}var zv=ZL;function JL(d,v){var C=v?zv(d.buffer):d.buffer;return new d.constructor(C,d.byteOffset,d.byteLength)}var eF=JL,tF=/\w*$/;function nF(d){var v=new d.constructor(d.source,tF.exec(d));return v.lastIndex=d.lastIndex,v}var iF=nF,y9=J?J.prototype:void 0,_9=y9?y9.valueOf:void 0;function rF(d){return _9?Object(_9.call(d)):{}}var sF=rF;function oF(d,v){var C=v?zv(d.buffer):d.buffer;return new d.constructor(C,d.byteOffset,d.length)}var aF=oF,lF="[object Boolean]",cF="[object Date]",uF="[object Map]",fF="[object Number]",dF="[object RegExp]",hF="[object Set]",pF="[object String]",mF="[object Symbol]",gF="[object ArrayBuffer]",AF="[object DataView]",vF="[object Float32Array]",yF="[object Float64Array]",_F="[object Int8Array]",bF="[object Int16Array]",xF="[object Int32Array]",CF="[object Uint8Array]",SF="[object Uint8ClampedArray]",wF="[object Uint16Array]",EF="[object Uint32Array]";function TF(d,v,C){var D=d.constructor;switch(v){case gF:return zv(d);case lF:case cF:return new D(+d);case AF:return eF(d,C);case vF:case yF:case _F:case bF:case xF:case CF:case SF:case wF:case EF:return aF(d,C);case uF:return new D;case fF:case pF:return new D(d);case dF:return iF(d);case hF:return new D;case mF:return sF(d)}}var MF=TF;function IF(d){return typeof d.constructor=="function"&&!Tv(d)?JP(Pv(d)):{}}var DF=IF,PF="[object Map]";function RF(d){return se(d)&&oh(d)==PF}var BF=RF,b9=ju&&ju.isMap,LF=b9?Mv(b9):BF,FF=LF,OF="[object Set]";function UF(d){return se(d)&&oh(d)==OF}var NF=UF,x9=ju&&ju.isSet,kF=x9?Mv(x9):NF,zF=kF,HF=1,VF=2,GF=4,C9="[object Arguments]",QF="[object Array]",jF="[object Boolean]",WF="[object Date]",qF="[object Error]",S9="[object Function]",XF="[object GeneratorFunction]",YF="[object Map]",$F="[object Number]",w9="[object Object]",KF="[object RegExp]",ZF="[object Set]",JF="[object String]",eO="[object Symbol]",tO="[object WeakMap]",nO="[object ArrayBuffer]",iO="[object DataView]",rO="[object Float32Array]",sO="[object Float64Array]",oO="[object Int8Array]",aO="[object Int16Array]",lO="[object Int32Array]",cO="[object Uint8Array]",uO="[object Uint8ClampedArray]",fO="[object Uint16Array]",dO="[object Uint32Array]",Ln={};Ln[C9]=Ln[QF]=Ln[nO]=Ln[iO]=Ln[jF]=Ln[WF]=Ln[rO]=Ln[sO]=Ln[oO]=Ln[aO]=Ln[lO]=Ln[YF]=Ln[$F]=Ln[w9]=Ln[KF]=Ln[ZF]=Ln[JF]=Ln[eO]=Ln[cO]=Ln[uO]=Ln[fO]=Ln[dO]=!0,Ln[qF]=Ln[S9]=Ln[tO]=!1;function n1(d,v,C,D,N,q){var ee,ue=v&HF,ge=v&VF,Ee=v&GF;if(C&&(ee=N?C(d,D,N,q):C(d)),ee!==void 0)return ee;if(!Xe(d))return d;var Ve=Q(d);if(Ve){if(ee=$L(d),!ue)return tR(d,ee)}else{var Ge=oh(d),nt=Ge==S9||Ge==XF;if(e1(d))return bL(d,ue);if(Ge==w9||Ge==C9||nt&&!N){if(ee=ge||nt?{}:DF(d),!ue)return ge?BL(d,vL(ee,d)):IL(d,gL(ee,d))}else{if(!Ln[Ge])return N?d:{};ee=MF(d,Ge,ue)}}q||(q=new sh);var vt=q.get(d);if(vt)return vt;q.set(d,ee),zF(d)?d.forEach(function(kt){ee.add(n1(kt,v,C,kt,d,q))}):FF(d)&&d.forEach(function(kt,It){ee.set(It,n1(kt,v,C,It,d,q))});var ft=Ee?ge?UL:Ov:ge?Dv:rh,Bt=Ve?void 0:ft(d);return iR(Bt||d,function(kt,It){Bt&&(It=kt,kt=d[It]),Zd(ee,It,n1(kt,v,C,It,d,q))}),ee}var hO=n1,pO=1,mO=4;function gO(d){return hO(d,pO|mO)}var AO=gO,vO="__lodash_hash_undefined__";function yO(d){return this.__data__.set(d,vO),this}var _O=yO;function bO(d){return this.__data__.has(d)}var xO=bO;function i1(d){var v=-1,C=d==null?0:d.length;for(this.__data__=new ku;++v<C;)this.add(d[v])}i1.prototype.add=i1.prototype.push=_O,i1.prototype.has=xO;var CO=i1;function SO(d,v){for(var C=-1,D=d==null?0:d.length;++C<D;)if(v(d[C],C,d))return!0;return!1}var wO=SO;function EO(d,v){return d.has(v)}var TO=EO,MO=1,IO=2;function DO(d,v,C,D,N,q){var ee=C&MO,ue=d.length,ge=v.length;if(ue!=ge&&!(ee&&ge>ue))return!1;var Ee=q.get(d),Ve=q.get(v);if(Ee&&Ve)return Ee==v&&Ve==d;var Ge=-1,nt=!0,vt=C&IO?new CO:void 0;for(q.set(d,v),q.set(v,d);++Ge<ue;){var ft=d[Ge],Bt=v[Ge];if(D)var kt=ee?D(Bt,ft,Ge,v,d,q):D(ft,Bt,Ge,d,v,q);if(kt!==void 0){if(kt)continue;nt=!1;break}if(vt){if(!wO(v,function(It,un){if(!TO(vt,un)&&(ft===It||N(ft,It,C,D,q)))return vt.push(un)})){nt=!1;break}}else if(!(ft===Bt||N(ft,Bt,C,D,q))){nt=!1;break}}return q.delete(d),q.delete(v),nt}var E9=DO;function PO(d){var v=-1,C=Array(d.size);return d.forEach(function(D,N){C[++v]=[N,D]}),C}var RO=PO;function BO(d){var v=-1,C=Array(d.size);return d.forEach(function(D){C[++v]=D}),C}var LO=BO,FO=1,OO=2,UO="[object Boolean]",NO="[object Date]",kO="[object Error]",zO="[object Map]",HO="[object Number]",VO="[object RegExp]",GO="[object Set]",QO="[object String]",jO="[object Symbol]",WO="[object ArrayBuffer]",qO="[object DataView]",T9=J?J.prototype:void 0,Hv=T9?T9.valueOf:void 0;function XO(d,v,C,D,N,q,ee){switch(C){case qO:if(d.byteLength!=v.byteLength||d.byteOffset!=v.byteOffset)return!1;d=d.buffer,v=v.buffer;case WO:return!(d.byteLength!=v.byteLength||!q(new t1(d),new t1(v)));case UO:case NO:case HO:return At(+d,+v);case kO:return d.name==v.name&&d.message==v.message;case VO:case QO:return d==v+"";case zO:var ue=RO;case GO:var ge=D&FO;if(ue||(ue=LO),d.size!=v.size&&!ge)return!1;var Ee=ee.get(d);if(Ee)return Ee==v;D|=OO,ee.set(d,v);var Ve=E9(ue(d),ue(v),D,N,q,ee);return ee.delete(d),Ve;case jO:if(Hv)return Hv.call(d)==Hv.call(v)}return!1}var YO=XO,$O=1,KO=Object.prototype,ZO=KO.hasOwnProperty;function JO(d,v,C,D,N,q){var ee=C&$O,ue=Ov(d),ge=ue.length,Ee=Ov(v),Ve=Ee.length;if(ge!=Ve&&!ee)return!1;for(var Ge=ge;Ge--;){var nt=ue[Ge];if(!(ee?nt in v:ZO.call(v,nt)))return!1}var vt=q.get(d),ft=q.get(v);if(vt&&ft)return vt==v&&ft==d;var Bt=!0;q.set(d,v),q.set(v,d);for(var kt=ee;++Ge<ge;){nt=ue[Ge];var It=d[nt],un=v[nt];if(D)var mr=ee?D(un,It,nt,v,d,q):D(It,un,nt,d,v,q);if(!(mr===void 0?It===un||N(It,un,C,D,q):mr)){Bt=!1;break}kt||(kt=nt=="constructor")}if(Bt&&!kt){var ss=d.constructor,gr=v.constructor;ss!=gr&&"constructor"in d&&"constructor"in v&&!(typeof ss=="function"&&ss instanceof ss&&typeof gr=="function"&&gr instanceof gr)&&(Bt=!1)}return q.delete(d),q.delete(v),Bt}var eU=JO,tU=1,M9="[object Arguments]",I9="[object Array]",r1="[object Object]",nU=Object.prototype,D9=nU.hasOwnProperty;function iU(d,v,C,D,N,q){var ee=Q(d),ue=Q(v),ge=ee?I9:oh(d),Ee=ue?I9:oh(v);ge=ge==M9?r1:ge,Ee=Ee==M9?r1:Ee;var Ve=ge==r1,Ge=Ee==r1,nt=ge==Ee;if(nt&&e1(d)){if(!e1(v))return!1;ee=!0,Ve=!1}if(nt&&!Ve)return q||(q=new sh),ee||q4(d)?E9(d,v,C,D,N,q):YO(d,v,ge,C,D,N,q);if(!(C&tU)){var vt=Ve&&D9.call(d,"__wrapped__"),ft=Ge&&D9.call(v,"__wrapped__");if(vt||ft){var Bt=vt?d.value():d,kt=ft?v.value():v;return q||(q=new sh),N(Bt,kt,C,D,q)}}return nt?(q||(q=new sh),eU(d,v,C,D,N,q)):!1}var rU=iU;function P9(d,v,C,D,N){return d===v?!0:d==null||v==null||!se(d)&&!se(v)?d!==d&&v!==v:rU(d,v,C,D,P9,N)}var R9=P9,sU=1,oU=2;function aU(d,v,C,D){var N=C.length,q=N,ee=!D;if(d==null)return!q;for(d=Object(d);N--;){var ue=C[N];if(ee&&ue[2]?ue[1]!==d[ue[0]]:!(ue[0]in d))return!1}for(;++N<q;){ue=C[N];var ge=ue[0],Ee=d[ge],Ve=ue[1];if(ee&&ue[2]){if(Ee===void 0&&!(ge in d))return!1}else{var Ge=new sh;if(D)var nt=D(Ee,Ve,ge,d,v,Ge);if(!(nt===void 0?R9(Ve,Ee,sU|oU,D,Ge):nt))return!1}}return!0}var lU=aU;function cU(d){return d===d&&!Xe(d)}var B9=cU;function uU(d){for(var v=rh(d),C=v.length;C--;){var D=v[C],N=d[D];v[C]=[D,N,B9(N)]}return v}var fU=uU;function dU(d,v){return function(C){return C==null?!1:C[d]===v&&(v!==void 0||d in Object(C))}}var L9=dU;function hU(d){var v=fU(d);return v.length==1&&v[0][2]?L9(v[0][0],v[0][1]):function(C){return C===d||lU(C,d,v)}}var pU=hU;function mU(d,v){return d!=null&&v in Object(d)}var gU=mU;function AU(d,v,C){v=hc(v,d);for(var D=-1,N=v.length,q=!1;++D<N;){var ee=uo(v[D]);if(!(q=d!=null&&C(d,ee)))break;d=d[ee]}return q||++D!=N?q:(N=d==null?0:d.length,!!N&&Ev(N)&&Jd(ee,N)&&(Q(d)||H4(d)))}var vU=AU;function yU(d,v){return d!=null&&vU(d,v,gU)}var _U=yU,bU=1,xU=2;function CU(d,v){return Re(d)&&B9(v)?L9(uo(d),v):function(C){var D=la(C,d);return D===void 0&&D===v?_U(C,d):R9(v,D,bU|xU)}}var SU=CU;function wU(d){return function(v){return v==null?void 0:v[d]}}var F9=wU;function EU(d){return function(v){return Hu(v,d)}}var TU=EU;function MU(d){return Re(d)?F9(uo(d)):TU(d)}var IU=MU;function DU(d){return typeof d=="function"?d:d==null?Zp:typeof d=="object"?Q(d)?SU(d[0],d[1]):pU(d):IU(d)}var PU=DU;function RU(d){return function(v,C,D){for(var N=-1,q=Object(v),ee=D(v),ue=ee.length;ue--;){var ge=ee[d?ue:++N];if(C(q[ge],ge,q)===!1)break}return v}}var BU=RU,LU=BU(),FU=LU;function OU(d,v){return d&&FU(d,v,rh)}var UU=OU,NU=function(){return he.Date.now()},Vv=NU,kU="Expected a function",zU=Math.max,HU=Math.min;function VU(d,v,C){var D,N,q,ee,ue,ge,Ee=0,Ve=!1,Ge=!1,nt=!0;if(typeof d!="function")throw new TypeError(kU);v=L(v)||0,Xe(C)&&(Ve=!!C.leading,Ge="maxWait"in C,q=Ge?zU(L(C.maxWait)||0,v):q,nt="trailing"in C?!!C.trailing:nt);function vt(Mn){var Ar=D,xs=N;return D=N=void 0,Ee=Mn,ee=d.apply(xs,Ar),ee}function ft(Mn){return Ee=Mn,ue=setTimeout(It,v),Ve?vt(Mn):ee}function Bt(Mn){var Ar=Mn-ge,xs=Mn-Ee,Lo=v-Ar;return Ge?HU(Lo,q-xs):Lo}function kt(Mn){var Ar=Mn-ge,xs=Mn-Ee;return ge===void 0||Ar>=v||Ar<0||Ge&&xs>=q}function It(){var Mn=Vv();if(kt(Mn))return un(Mn);ue=setTimeout(It,Bt(Mn))}function un(Mn){return ue=void 0,nt&&D?vt(Mn):(D=N=void 0,ee)}function mr(){ue!==void 0&&clearTimeout(ue),Ee=0,D=ge=N=ue=void 0}function ss(){return ue===void 0?ee:un(Vv())}function gr(){var Mn=Vv(),Ar=kt(Mn);if(D=arguments,N=this,ge=Mn,Ar){if(ue===void 0)return ft(ge);if(Ge)return clearTimeout(ue),ue=setTimeout(It,v),vt(ge)}return ue===void 0&&(ue=setTimeout(It,v)),ee}return gr.cancel=mr,gr.flush=ss,gr}var GU=VU;function QU(d){var v=d==null?0:d.length;return v?d[v-1]:void 0}var jU=QU;function WU(d,v){return v.length<2?d:Hu(d,Z4(v,0,-1))}var qU=WU;function XU(d){return typeof d=="number"&&d==rr(d)}var YU=XU;function $U(d,v){var C={};return v=PU(v),UU(d,function(D,N,q){ca(C,N,v(D,N,q))}),C}var KU=$U;function ZU(d,v){return v=hc(v,d),d=qU(d,v),d==null||delete d[uo(jU(v))]}var JU=ZU,eN=9007199254740991,tN=Math.floor;function nN(d,v){var C="";if(!d||v<1||v>eN)return C;do v%2&&(C+=d),v=tN(v/2),v&&(d+=d);while(v);return C}var O9=nN,iN=F9("length"),rN=iN,U9="\\ud800-\\udfff",sN="\\u0300-\\u036f",oN="\\ufe20-\\ufe2f",aN="\\u20d0-\\u20ff",lN=sN+oN+aN,cN="\\ufe0e\\ufe0f",uN="["+U9+"]",Gv="["+lN+"]",Qv="\\ud83c[\\udffb-\\udfff]",fN="(?:"+Gv+"|"+Qv+")",N9="[^"+U9+"]",k9="(?:\\ud83c[\\udde6-\\uddff]){2}",z9="[\\ud800-\\udbff][\\udc00-\\udfff]",dN="\\u200d",H9=fN+"?",V9="["+cN+"]?",hN="(?:"+dN+"(?:"+[N9,k9,z9].join("|")+")"+V9+H9+")*",pN=V9+H9+hN,mN="(?:"+[N9+Gv+"?",Gv,k9,z9,uN].join("|")+")",G9=RegExp(Qv+"(?="+Qv+")|"+mN+pN,"g");function gN(d){for(var v=G9.lastIndex=0;G9.test(d);)++v;return v}var AN=gN;function vN(d){return Rv(d)?AN(d):rN(d)}var Q9=vN,yN=Math.ceil;function _N(d,v){v=v===void 0?" ":Np(v);var C=v.length;if(C<2)return C?O9(v,d):v;var D=O9(v,yN(d/Q9(v)));return Rv(v)?TB(eL(D),0,d).join(""):D.slice(0,d)}var bN=_N;function xN(d,v,C){d=zu(d),v=rr(v);var D=v?Q9(d):0;return v&&D<v?bN(v-D,C)+d:d}var ah=xN;function CN(d,v){return d==null?!0:JU(d,v)}var j9=CN,SN=5*1e3,wN=class{constructor(d){_(this,"_cache",new sl),_(this,"_keepHotUntapDebounce"),G(this,d)}get type(){return"Theatre_SheetObject_PublicAPI"}get props(){return U(this).propsP}get sheet(){return U(this).sheet.publicApi}get project(){return U(this).sheet.project.publicApi}get address(){return p({},U(this).address)}_valuesPrism(){return this._cache.get("_valuesPrism",()=>{const d=U(this);return(0,th.prism)(()=>(0,th.val)(d.getValues().getValue()))})}onValuesChange(d,v){return m2(this._valuesPrism(),d,v)}get value(){const d=this._valuesPrism();{if(!d.isHot){this._keepHotUntapDebounce!=null&&this._keepHotUntapDebounce.flush();const v=d.keepHot();this._keepHotUntapDebounce=GU(()=>{v(),this._keepHotUntapDebounce=void 0},SN)}this._keepHotUntapDebounce&&this._keepHotUntapDebounce()}return d.getValue()}set initialValue(d){U(this).setInitialValue(d)}};function EN(d){const v=new WeakMap;return C=>(v.has(C)||v.set(C,d(C)),v.get(C))}function s1(d){return d.type==="compound"||d.type==="enum"}function jv(d,v){if(!d)return;const[C,...D]=v;if(C===void 0)return d;if(!s1(d))return;const N=d.type==="enum"?d.cases[C]:d.props[C];return jv(N,D)}function TN(d){return!s1(d)}var MN=class{constructor(d,v,C){this.sheet=d,this.template=v,this.nativeObject=C,_(this,"$$isPointerToPrismProvider",!0),_(this,"address"),_(this,"publicApi"),_(this,"_initialValue",new vn.Atom({})),_(this,"_cache",new sl),_(this,"_logger"),_(this,"_internalUtilCtx"),this._logger=d._logger.named("SheetObject",v.address.objectKey),this._logger._trace("creating object"),this._internalUtilCtx={logger:this._logger.utilFor.internal()},this.address=m(p({},v.address),{sheetInstanceId:d.address.sheetInstanceId}),this.publicApi=new wN(this)}get type(){return"Theatre_SheetObject"}getValues(){return this._cache.get("getValues()",()=>(0,vn.prism)(()=>{const d=(0,vn.val)(this.template.getDefaultValues()),v=(0,vn.val)(this._initialValue.pointer),C=vn.prism.memo("withInitialCache",()=>new WeakMap,[]),D=gc(d,v,C),N=(0,vn.val)(this.template.getStaticValues()),q=vn.prism.memo("withStatics",()=>new WeakMap,[]);let ue=gc(D,N,q),ge;{const Ve=vn.prism.memo("seq",()=>this.getSequencedValues(),[]),Ge=vn.prism.memo("withSeqsCache",()=>new WeakMap,[]);ge=(0,vn.val)((0,vn.val)(Ve)),ue=gc(ue,ge,Ge)}return qp("finalAtom",ue).pointer}))}getValueByPointer(d){const v=(0,vn.val)(this.getValues()),{path:C}=(0,vn.getPointerParts)(d);return(0,vn.val)(Ac(v,C))}pointerToPrism(d){const{path:v}=(0,vn.getPointerParts)(d);return(0,vn.prism)(()=>{const C=(0,vn.val)(this.getValues());return(0,vn.val)(Ac(C,v))})}getSequencedValues(){return(0,vn.prism)(()=>{const d=vn.prism.memo("tracksToProcess",()=>this.template.getArrayOfValidSequenceTracks(),[]),v=(0,vn.val)(d),C=new vn.Atom({}),D=(0,vn.val)(this.template.configPointer);return vn.prism.effect("processTracks",()=>{const N=[];for(const{trackId:q,pathToProp:ee}of v){const ue=this._trackIdToPrism(q),ge=jv(D,ee),Ee=ge.deserializeAndSanitize,Ve=ge.interpolate,Ge=()=>{const vt=ue.getValue();if(!vt)return C.setByPointer(un=>Ac(un,ee),void 0);const ft=Ee(vt.left),Bt=ft===void 0?ge.default:ft;if(vt.right===void 0)return C.setByPointer(un=>Ac(un,ee),Bt);const kt=Ee(vt.right),It=kt===void 0?ge.default:kt;return C.setByPointer(un=>Ac(un,ee),Ve(Bt,It,vt.progression))},nt=ue.onStale(Ge);Ge(),N.push(nt)}return()=>{for(const q of N)q()}},[D,...v]),C.pointer})}_trackIdToPrism(d){const v=this.template.project.pointers.historic.sheetsById[this.address.sheetId].sequence.tracksByObject[this.address.objectKey].trackData[d],C=this.sheet.getSequence().positionPrism;return Av(this._internalUtilCtx,v,C)}get propsP(){return this._cache.get("propsP",()=>(0,vn.pointer)({root:this,path:[]}))}validateValue(d,v){}setInitialValue(d){this.validateValue(this.propsP,d),this._initialValue.set(d)}};function Fn(d){return function(C,D){return d(C,D())}}var ys={_hmm:_s(524),_todo:_s(522),_error:_s(521),errorDev:_s(529),errorPublic:_s(545),_kapow:_s(268),_warn:_s(265),warnDev:_s(273),warnPublic:_s(289),_debug:_s(137),debugDev:_s(145),_trace:_s(73),traceDev:_s(81)};function _s(d){return Object.freeze({audience:bc(d,8)?"internal":bc(d,16)?"dev":"public",category:bc(d,4)?"troubleshooting":bc(d,2)?"todo":"general",level:bc(d,512)?512:bc(d,256)?256:bc(d,128)?128:64})}function bc(d,v){return(d&v)===v}function On(d,v){return((v&32)===32?!0:(v&16)===16?d.dev:(v&8)===8?d.internal:!1)&&d.min<=v}var ua={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(d,v,C){return this.create({names:[...d.names,{name:v,key:C}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(d){if(d.length<5)return d;const v=d.replace(this.collapseOnRE,"");return this.cssMemo.has(v)||this.cssMemo.set(v,this.css(d)),v},css(d){var v,C,D,N;const q=this.cssMemo.get(d);if(q)return q;let ee="color:".concat((C=(v=this.color)==null?void 0:v.call(this,d))!=null?C:"hsl(".concat((d.charCodeAt(0)+d.charCodeAt(d.length-1))%360,", 100%, 60%)"));return(D=this.bold)!=null&&D.test(d)&&(ee+=";font-weight:600"),(N=this.italic)!=null&&N.test(d)&&(ee+=";font-style:italic"),this.cssMemo.set(d,ee),ee}}};function W9(d=console,v={}){const C=m(p({},ua),{includes:p({},ua.includes)}),D={styled:PN.bind(C,d),noStyle:BN.bind(C,d)},N=DN.bind(C);function q(){return C.loggingConsoleStyle&&C.loggerConsoleStyle?D.styled:D.noStyle}return C.create=q(),{configureLogger(ee){var ue;ee==="console"?(C.loggerConsoleStyle=ua.loggerConsoleStyle,C.create=q()):ee.type==="console"?(C.loggerConsoleStyle=(ue=ee.style)!=null?ue:ua.loggerConsoleStyle,C.create=q()):ee.type==="keyed"?(C.creatExt=ge=>ee.keyed(ge.names),C.create=N):ee.type==="named"&&(C.creatExt=IN.bind(null,ee.named),C.create=N)},configureLogging(ee){var ue,ge,Ee,Ve,Ge;C.includes.dev=(ue=ee.dev)!=null?ue:ua.includes.dev,C.includes.internal=(ge=ee.internal)!=null?ge:ua.includes.internal,C.includes.min=(Ee=ee.min)!=null?Ee:ua.includes.min,C.include=(Ve=ee.include)!=null?Ve:ua.include,C.loggingConsoleStyle=(Ge=ee.consoleStyle)!=null?Ge:ua.loggingConsoleStyle,C.create=q()},getLogger(){return C.create({names:[]})}}}function IN(d,v){const C=[];for(let{name:D,key:N}of v.names)C.push(N==null?D:"".concat(D," (").concat(N,")"));return d(C)}function DN(d){const v=p(p({},this.includes),this.include(d)),C=this.filtered,D=this.named.bind(this,d),N=this.creatExt(d),q=On(v,524),ee=On(v,522),ue=On(v,521),ge=On(v,529),Ee=On(v,545),Ve=On(v,265),Ge=On(v,268),nt=On(v,273),vt=On(v,289),ft=On(v,137),Bt=On(v,145),kt=On(v,73),It=On(v,81),un=q?N.error.bind(N,ys._hmm):C.bind(d,524),mr=ee?N.error.bind(N,ys._todo):C.bind(d,522),ss=ue?N.error.bind(N,ys._error):C.bind(d,521),gr=ge?N.error.bind(N,ys.errorDev):C.bind(d,529),Mn=Ee?N.error.bind(N,ys.errorPublic):C.bind(d,545),Ar=Ge?N.warn.bind(N,ys._kapow):C.bind(d,268),xs=Ve?N.warn.bind(N,ys._warn):C.bind(d,265),Lo=nt?N.warn.bind(N,ys.warnDev):C.bind(d,273),Tc=vt?N.warn.bind(N,ys.warnPublic):C.bind(d,273),Mc=ft?N.debug.bind(N,ys._debug):C.bind(d,137),Ic=Bt?N.debug.bind(N,ys.debugDev):C.bind(d,145),Dc=kt?N.trace.bind(N,ys._trace):C.bind(d,73),Pc=It?N.trace.bind(N,ys.traceDev):C.bind(d,81),Ci={_hmm:un,_todo:mr,_error:ss,errorDev:gr,errorPublic:Mn,_kapow:Ar,_warn:xs,warnDev:Lo,warnPublic:Tc,_debug:Mc,debugDev:Ic,_trace:Dc,traceDev:Pc,lazy:{_hmm:q?Fn(un):un,_todo:ee?Fn(mr):mr,_error:ue?Fn(ss):ss,errorDev:ge?Fn(gr):gr,errorPublic:Ee?Fn(Mn):Mn,_kapow:Ge?Fn(Ar):Ar,_warn:Ve?Fn(xs):xs,warnDev:nt?Fn(Lo):Lo,warnPublic:vt?Fn(Tc):Tc,_debug:ft?Fn(Mc):Mc,debugDev:Bt?Fn(Ic):Ic,_trace:kt?Fn(Dc):Dc,traceDev:It?Fn(Pc):Pc},named:D,utilFor:{internal(){return{debug:Ci._debug,error:Ci._error,warn:Ci._warn,trace:Ci._trace,named(Cs,Un){return Ci.named(Cs,Un).utilFor.internal()}}},dev(){return{debug:Ci.debugDev,error:Ci.errorDev,warn:Ci.warnDev,trace:Ci.traceDev,named(Cs,Un){return Ci.named(Cs,Un).utilFor.dev()}}},public(){return{error:Ci.errorPublic,warn:Ci.warnPublic,debug(Cs,Un){Ci._warn('(public "debug" filtered out) '.concat(Cs),Un)},trace(Cs,Un){Ci._warn('(public "trace" filtered out) '.concat(Cs),Un)},named(Cs,Un){return Ci.named(Cs,Un).utilFor.public()}}}}};return Ci}function PN(d,v){const C=p(p({},this.includes),this.include(v)),D=[];let N="";for(let ge=0;ge<v.names.length;ge++){const{name:Ee,key:Ve}=v.names[ge];if(N+=" %c".concat(Ee),D.push(this.style.css(Ee)),Ve!=null){const Ge="%c#".concat(Ve);N+=Ge,D.push(this.style.css(Ge))}}const q=this.filtered,ee=this.named.bind(this,v),ue=[N,...D];return q9(q,v,C,d,ue,RN(ue),ee)}function RN(d){const v=d.slice(0);for(let C=1;C<v.length;C++)v[C]+=";background-color:#e0005a;padding:2px;color:white";return v}function BN(d,v){const C=p(p({},this.includes),this.include(v));let D="";for(let ue=0;ue<v.names.length;ue++){const{name:ge,key:Ee}=v.names[ue];D+=" ".concat(ge),Ee!=null&&(D+="#".concat(Ee))}const N=this.filtered,q=this.named.bind(this,v),ee=[D];return q9(N,v,C,d,ee,ee,q)}function q9(d,v,C,D,N,q,ee){const ue=On(C,524),ge=On(C,522),Ee=On(C,521),Ve=On(C,529),Ge=On(C,545),nt=On(C,265),vt=On(C,268),ft=On(C,273),Bt=On(C,289),kt=On(C,137),It=On(C,145),un=On(C,73),mr=On(C,81),ss=ue?D.error.bind(D,...N):d.bind(v,524),gr=ge?D.error.bind(D,...N):d.bind(v,522),Mn=Ee?D.error.bind(D,...N):d.bind(v,521),Ar=Ve?D.error.bind(D,...N):d.bind(v,529),xs=Ge?D.error.bind(D,...N):d.bind(v,545),Lo=vt?D.warn.bind(D,...q):d.bind(v,268),Tc=nt?D.warn.bind(D,...N):d.bind(v,265),Mc=ft?D.warn.bind(D,...N):d.bind(v,273),Ic=Bt?D.warn.bind(D,...N):d.bind(v,273),Dc=kt?D.info.bind(D,...N):d.bind(v,137),Pc=It?D.info.bind(D,...N):d.bind(v,145),Ci=un?D.debug.bind(D,...N):d.bind(v,73),Cs=mr?D.debug.bind(D,...N):d.bind(v,81),Un={_hmm:ss,_todo:gr,_error:Mn,errorDev:Ar,errorPublic:xs,_kapow:Lo,_warn:Tc,warnDev:Mc,warnPublic:Ic,_debug:Dc,debugDev:Pc,_trace:Ci,traceDev:Cs,lazy:{_hmm:ue?Fn(ss):ss,_todo:ge?Fn(gr):gr,_error:Ee?Fn(Mn):Mn,errorDev:Ve?Fn(Ar):Ar,errorPublic:Ge?Fn(xs):xs,_kapow:vt?Fn(Lo):Lo,_warn:nt?Fn(Tc):Tc,warnDev:ft?Fn(Mc):Mc,warnPublic:Bt?Fn(Ic):Ic,_debug:kt?Fn(Dc):Dc,debugDev:It?Fn(Pc):Pc,_trace:un?Fn(Ci):Ci,traceDev:mr?Fn(Cs):Cs},named:ee,utilFor:{internal(){return{debug:Un._debug,error:Un._error,warn:Un._warn,trace:Un._trace,named(ha,pa){return Un.named(ha,pa).utilFor.internal()}}},dev(){return{debug:Un.debugDev,error:Un.errorDev,warn:Un.warnDev,trace:Un.traceDev,named(ha,pa){return Un.named(ha,pa).utilFor.dev()}}},public(){return{error:Un.errorPublic,warn:Un.warnPublic,debug(ha,pa){Un._warn('(public "debug" filtered out) '.concat(ha),pa)},trace(ha,pa){Un._warn('(public "trace" filtered out) '.concat(ha),pa)},named(ha,pa){return Un.named(ha,pa).utilFor.public()}}}}};return Un}var X9=W9(console,{});X9.configureLogging({dev:!0,min:64});var o1=X9.getLogger().named("Theatre.js (default logger)").utilFor.dev(),Y9=new WeakMap;function LN(d){const v=Y9.get(d);if(v)return v;const C=new Map;return Y9.set(d,C),$9([],d,C),C}function $9(d,v,C){for(const[D,N]of Object.entries(v.props))if(!s1(N)){const q=[...d,D];C.set(JSON.stringify(q),C.size),K9(q,N,C)}for(const[D,N]of Object.entries(v.props))if(s1(N)){const q=[...d,D];C.set(JSON.stringify(q),C.size),K9(q,N,C)}}function K9(d,v,C){if(v.type==="compound")$9(d,v,C);else{if(v.type==="enum")throw new Error("Enums aren't supported yet");C.set(JSON.stringify(d),C.size)}}function Z9(d){return typeof d=="object"&&d!==null&&Object.keys(d).length===0}var FN=class{constructor(d,v,C,D,N){this.sheetTemplate=d,_(this,"address"),_(this,"type","Theatre_SheetObjectTemplate"),_(this,"_config"),_(this,"_temp_actions_atom"),_(this,"_cache",new sl),_(this,"project"),_(this,"pointerToSheetState"),_(this,"pointerToStaticOverrides"),this.address=m(p({},d.address),{objectKey:v}),this._config=new Ri.Atom(D),this._temp_actions_atom=new Ri.Atom(N),this.project=d.project,this.pointerToSheetState=this.sheetTemplate.project.pointers.historic.sheetsById[this.address.sheetId],this.pointerToStaticOverrides=this.pointerToSheetState.staticOverrides.byObject[this.address.objectKey]}get staticConfig(){return this._config.get()}get configPointer(){return this._config.pointer}get _temp_actions(){return this._temp_actions_atom.get()}get _temp_actionsPointer(){return this._temp_actions_atom.pointer}createInstance(d,v,C){return this._config.set(C),new MN(d,this,v)}reconfigure(d){this._config.set(d)}_temp_setActions(d){this._temp_actions_atom.set(d)}getDefaultValues(){return this._cache.get("getDefaultValues()",()=>(0,Ri.prism)(()=>{const d=(0,Ri.val)(this.configPointer);return mv(d)}))}getStaticValues(){return this._cache.get("getStaticValues",()=>(0,Ri.prism)(()=>{var d;const v=(d=(0,Ri.val)(this.pointerToStaticOverrides))!=null?d:{};return(0,Ri.val)(this.configPointer).deserializeAndSanitize(v)||{}}))}getArrayOfValidSequenceTracks(){return this._cache.get("getArrayOfValidSequenceTracks",()=>(0,Ri.prism)(()=>{const d=this.project.pointers.historic.sheetsById[this.address.sheetId],v=(0,Ri.val)(d.sequence.tracksByObject[this.address.objectKey].trackIdByPropPath);if(!v)return j;const C=[];if(!v)return j;const D=(0,Ri.val)(this.configPointer),N=Object.entries(v);for(const[ee,ue]of N){const ge=ON(ee);if(!ge)continue;const Ee=jv(D,ge);Ee&&TN(Ee)&&C.push({pathToProp:ge,trackId:ue})}const q=LN(D);return C.sort((ee,ue)=>{const ge=ee.pathToProp,Ee=ue.pathToProp,Ve=q.get(JSON.stringify(ge)),Ge=q.get(JSON.stringify(Ee));return Ve>Ge?1:-1}),C.length===0?j:C}))}getMapOfValidSequenceTracks_forStudio(){return this._cache.get("getMapOfValidSequenceTracks_forStudio",()=>(0,Ri.prism)(()=>{const d=(0,Ri.val)(this.getArrayOfValidSequenceTracks());let v={};for(const{pathToProp:C,trackId:D}of d)Gu(v,C,D);return v}))}getStaticButNotSequencedOverrides(){return this._cache.get("getStaticButNotSequencedOverrides",()=>(0,Ri.prism)(()=>{const d=(0,Ri.val)(this.getStaticValues()),v=(0,Ri.val)(this.getArrayOfValidSequenceTracks()),C=AO(d);for(const{pathToProp:D}of v){j9(C,D);let N=D.slice(0,-1);for(;N.length>0;){const q=zp(C,N);if(!Z9(q))break;j9(C,N),N=N.slice(0,-1)}}if(!Z9(C))return C}))}getDefaultsAtPointer(d){const{path:v}=(0,Ri.getPointerParts)(d),C=this.getDefaultValues().getValue();return zp(C,v)}};function ON(d){try{return JSON.parse(d)}catch{o1.warn("property ".concat(JSON.stringify(d)," cannot be parsed. Skipping."));return}}var J9=Fi(),UN=EN(d=>JSON.stringify(d));x(I());var NN=class extends Error{},lh=class extends NN{},e5=Fi(),kN=Fi(),zN=Fi(),qi=Fi();function al(){let d,v;const C=new Promise((N,q)=>{d=ee=>{N(ee),D.status="resolved"},v=ee=>{q(ee),D.status="rejected"}}),D={resolve:d,reject:v,promise:C,status:"pending"};return D}var HN=()=>{},a1=HN,VN=Fi(),GN=class{constructor(){_(this,"_stopPlayCallback",a1),_(this,"_state",new VN.Atom({position:0,playing:!1})),_(this,"statePointer"),this.statePointer=this._state.pointer}destroy(){}pause(){this._stopPlayCallback(),this.playing=!1,this._stopPlayCallback=a1}gotoPosition(d){this._updatePositionInState(d)}_updatePositionInState(d){this._state.setByPointer(v=>v.position,d)}getCurrentPosition(){return this._state.get().position}get playing(){return this._state.get().playing}set playing(d){this._state.setByPointer(v=>v.playing,d)}play(d,v,C,D,N){this.playing&&this.pause(),this.playing=!0;const q=v[1]-v[0];{const nt=this.getCurrentPosition();nt<v[0]||nt>v[1]?D==="normal"||D==="alternate"?this._updatePositionInState(v[0]):(D==="reverse"||D==="alternateReverse")&&this._updatePositionInState(v[1]):D==="normal"||D==="alternate"?nt===v[1]&&this._updatePositionInState(v[0]):nt===v[0]&&this._updatePositionInState(v[1])}const ee=al(),ue=N.time,ge=q*d;let Ee=this.getCurrentPosition()-v[0];(D==="reverse"||D==="alternateReverse")&&(Ee=v[1]-this.getCurrentPosition());const Ve=nt=>{const ft=Math.max(nt-ue,0)/1e3,Bt=Math.min(ft*C+Ee,ge);if(Bt!==ge){const kt=Math.floor(Bt/q);let It=Bt/q%1*q;if(D!=="normal")if(D==="reverse")It=q-It;else{const un=kt%2===0;D==="alternate"?un||(It=q-It):un&&(It=q-It)}this._updatePositionInState(It+v[0]),Ge()}else{if(D==="normal")this._updatePositionInState(v[1]);else if(D==="reverse")this._updatePositionInState(v[0]);else{const kt=(d-1)%2===0;D==="alternate"?kt?this._updatePositionInState(v[1]):this._updatePositionInState(v[0]):kt?this._updatePositionInState(v[0]):this._updatePositionInState(v[1])}this.playing=!1,ee.resolve(!0)}};this._stopPlayCallback=()=>{N.offThisOrNextTick(Ve),N.offNextTick(Ve),this.playing&&ee.resolve(!1)};const Ge=()=>N.onNextTick(Ve);return N.onThisOrNextTick(Ve),ee.promise}playDynamicRange(d,v){this.playing&&this.pause(),this.playing=!0;const C=al(),D=d.keepHot();C.promise.then(D,D);let N=v.time;const q=ue=>{const ge=Math.max(ue-N,0);N=ue;const Ee=ge/1e3,Ve=this.getCurrentPosition(),Ge=d.getValue();if(Ve<Ge[0]||Ve>Ge[1])this.gotoPosition(Ge[0]);else{let nt=Ve+Ee;nt>Ge[1]&&(nt=Ge[0]+(nt-Ge[1])),this.gotoPosition(nt)}ee()};this._stopPlayCallback=()=>{v.offThisOrNextTick(q),v.offNextTick(q),C.resolve(!1)};const ee=()=>v.onNextTick(q);return v.onThisOrNextTick(q),C.promise}},QN=Fi(),jN="__TheatreJS_StudioBundle",Wv="__TheatreJS_CoreBundle",WN="__TheatreJS_Notifications",l1=d=>(...v)=>{var C;switch(d){case"success":{o1.debug(v.slice(0,2).join(`
`));break}case"info":{o1.debug(v.slice(0,2).join(`
`));break}case"warning":{o1.warn(v.slice(0,2).join(`
`));break}}return typeof window<"u"?(C=window[WN])==null?void 0:C.notify[d](...v):void 0},qu={warning:l1("warning"),success:l1("success"),info:l1("info"),error:l1("error")};typeof window<"u"&&(window.addEventListener("error",d=>{qu.error("An error occurred","<pre>".concat(d.message,`</pre>

See **console** for details.`))}),window.addEventListener("unhandledrejection",d=>{qu.error("An error occurred","<pre>".concat(d.reason,`</pre>

See **console** for details.`))}));var qN=class{constructor(d,v,C){this._decodedBuffer=d,this._audioContext=v,this._nodeDestination=C,_(this,"_mainGain"),_(this,"_state",new QN.Atom({position:0,playing:!1})),_(this,"statePointer"),_(this,"_stopPlayCallback",a1),this.statePointer=this._state.pointer,this._mainGain=this._audioContext.createGain(),this._mainGain.connect(this._nodeDestination)}playDynamicRange(d,v){const C=al();this._playing&&this.pause(),this._playing=!0;let D;const N=()=>{D==null||D(),D=this._loopInRange(d.getValue(),v).stop},q=d.onStale(N);return N(),this._stopPlayCallback=()=>{D==null||D(),q(),C.resolve(!1)},C.promise}_loopInRange(d,v){let D=this.getCurrentPosition();const N=d[1]-d[0];D<d[0]||D>d[1]?this._updatePositionInState(d[0]):D===d[1]&&this._updatePositionInState(d[0]),D=this.getCurrentPosition();const q=this._audioContext.createBufferSource();q.buffer=this._decodedBuffer,q.connect(this._mainGain),q.playbackRate.value=1,q.loop=!0,q.loopStart=d[0],q.loopEnd=d[1];const ee=v.time;let ue=D-d[0];q.start(0,D);const ge=Ge=>{let Bt=(Math.max(Ge-ee,0)/1e3*1+ue)/N%1*N;this._updatePositionInState(Bt+d[0]),Ee()},Ee=()=>v.onNextTick(ge);return v.onThisOrNextTick(ge),{stop:()=>{q.stop(),q.disconnect(),v.offThisOrNextTick(ge),v.offNextTick(ge)}}}get _playing(){return this._state.get().playing}set _playing(d){this._state.setByPointer(v=>v.playing,d)}destroy(){}pause(){this._stopPlayCallback(),this._playing=!1,this._stopPlayCallback=a1}gotoPosition(d){this._updatePositionInState(d)}_updatePositionInState(d){this._state.reduce(v=>m(p({},v),{position:d}))}getCurrentPosition(){return this._state.get().position}play(d,v,C,D,N){this._playing&&this.pause(),this._playing=!0;let q=this.getCurrentPosition();const ee=v[1]-v[0];if(D!=="normal")throw new lh('Audio-controlled sequences can only be played in the "normal" direction. '+"'".concat(D,"' given."));q<v[0]||q>v[1]?this._updatePositionInState(v[0]):q===v[1]&&this._updatePositionInState(v[0]),q=this.getCurrentPosition();const ue=al(),ge=this._audioContext.createBufferSource();ge.buffer=this._decodedBuffer,ge.connect(this._mainGain),ge.playbackRate.value=C,d>1e3&&(qu.warning("Can't play sequences with audio more than 1000 times","The sequence will still play, but only 1000 times. The `iterationCount: ".concat(d,"` provided to `sequence.play()`\nis too high for a sequence with audio.\n\nTo fix this, either set `iterationCount` to a lower value, or remove the audio from the sequence."),[{url:"https://www.theatrejs.com/docs/latest/manual/audio",title:"Using Audio"},{url:"https://www.theatrejs.com/docs/latest/api/core#sequence.attachaudio",title:"Audio API"}]),d=1e3),d>1&&(ge.loop=!0,ge.loopStart=v[0],ge.loopEnd=v[1]);const Ee=N.time;let Ve=q-v[0];const Ge=ee*d;ge.start(0,q,Ge-Ve);const nt=Bt=>{const It=Math.max(Bt-Ee,0)/1e3,un=Math.min(It*C+Ve,Ge);if(un!==Ge){let mr=un/ee%1*ee;this._updatePositionInState(mr+v[0]),ft()}else this._updatePositionInState(v[1]),this._playing=!1,vt(),ue.resolve(!0)},vt=()=>{ge.stop(),ge.disconnect()};this._stopPlayCallback=()=>{vt(),N.offThisOrNextTick(nt),N.offNextTick(nt),this._playing&&ue.resolve(!1)};const ft=()=>N.onNextTick(nt);return N.onThisOrNextTick(nt),ue.promise}},XN=Fi(),t5=0;function qv(d){var v;const C=ee=>{D.tick(ee)},D=new XN.Ticker({onActive(){var ee;(ee=d==null?void 0:d.start)==null||ee.call(d)},onDormant(){var ee;(ee=d==null?void 0:d.stop)==null||ee.call(d)}}),N={tick:C,id:t5++,name:(v=d==null?void 0:d.name)!=null?v:"CustomRafDriver-".concat(t5),type:"Theatre_RafDriver_PublicAPI"},q={type:"Theatre_RafDriver_PrivateAPI",publicApi:N,ticker:D,start:d==null?void 0:d.start,stop:d==null?void 0:d.stop};return G(N,q),N}function YN(){let d=null;const D=qv({name:"DefaultCoreRafDriver",start:()=>{if(typeof window<"u"){const N=q=>{D.tick(q),d=window.requestAnimationFrame(N)};d=window.requestAnimationFrame(N)}else D.tick(0),setTimeout(()=>D.tick(1),0)},stop:()=>{typeof window<"u"&&d!==null&&window.cancelAnimationFrame(d)}});return D}var c1;function n5(){return c1||$N(YN()),c1}function i5(){return n5().ticker}function $N(d){if(c1)throw new Error("`setCoreRafDriver()` is already called.");c1=U(d)}var KN=class{get type(){return"Theatre_Sequence_PublicAPI"}constructor(d){G(this,d)}play(d){const v=U(this);if(v._project.isReady()){const C=d!=null&&d.rafDriver?U(d.rafDriver).ticker:i5();return v.play(d??{},C)}else{const C=al();return C.resolve(!0),C.promise}}pause(){U(this).pause()}get position(){return U(this).position}set position(d){U(this).position=d}__experimental_getKeyframes(d){return U(this).getKeyframesOfSimpleProp(d)}async attachAudio(d){const{audioContext:v,destinationNode:C,decodedBuffer:D,gainNode:N}=await ZN(d),q=new qN(D,v,N);return U(this).replacePlaybackController(q),{audioContext:v,destinationNode:C,decodedBuffer:D,gainNode:N}}get pointer(){return U(this).pointer}};async function ZN(d){function v(){if(d.audioContext)return Promise.resolve(d.audioContext);const Ee=new AudioContext;return Ee.state==="running"||typeof window>"u"?Promise.resolve(Ee):new Promise(Ve=>{const Ge=()=>{Ee.resume().catch(ft=>{console.error(ft)})},nt=["mousedown","keydown","touchstart"],vt={capture:!0,passive:!1};nt.forEach(ft=>{window.addEventListener(ft,Ge,vt)}),Ee.addEventListener("statechange",()=>{Ee.state==="running"&&(nt.forEach(ft=>{window.removeEventListener(ft,Ge,vt)}),Ve(Ee))})})}async function C(){if(d.source instanceof AudioBuffer)return d.source;const Ee=al();if(typeof d.source!="string")throw new Error("Error validating arguments to sequence.attachAudio(). args.source must either be a string or an instance of AudioBuffer.");let Ve;try{Ve=await fetch(d.source)}catch(ft){throw console.error(ft),new Error("Could not fetch '".concat(d.source,"'. Network error logged above."))}let Ge;try{Ge=await Ve.arrayBuffer()}catch(ft){throw console.error(ft),new Error("Could not read '".concat(d.source,"' as an arrayBuffer."))}(await D).decodeAudioData(Ge,Ee.resolve,Ee.reject);let vt;try{vt=await Ee.promise}catch(ft){throw console.error(ft),new Error("Could not decode ".concat(d.source," as an audio file."))}return vt}const D=v(),N=C(),[q,ee]=await Promise.all([D,N]),ue=d.destinationNode||q.destination,ge=q.createGain();return ge.connect(ue),{audioContext:q,decodedBuffer:ee,gainNode:ge,destinationNode:ue}}var JN=ek("Theatre_SheetObject");function ek(d){return v=>typeof v=="object"&&!!v&&v.type===d}var tk=class{constructor(d,v,C,D,N){this._project=d,this._sheet=v,this._lengthD=C,this._subUnitsPerUnitD=D,_(this,"address"),_(this,"publicApi"),_(this,"_playbackControllerBox"),_(this,"_prismOfStatePointer"),_(this,"_positionD"),_(this,"_positionFormatterD"),_(this,"_playableRangeD"),_(this,"pointer",(0,zN.pointer)({root:this,path:[]})),_(this,"$$isPointerToPrismProvider",!0),_(this,"_logger"),_(this,"closestGridPosition",q=>{const ue=1/this.subUnitsPerUnit;return parseFloat((Math.round(q/ue)*ue).toFixed(3))}),this._logger=d._logger.named("Sheet",v.address.sheetId).named("Instance",v.address.sheetInstanceId),this.address=m(p({},this._sheet.address),{sequenceName:"default"}),this.publicApi=new KN(this),this._playbackControllerBox=new kN.Atom(N??new GN),this._prismOfStatePointer=(0,qi.prism)(()=>this._playbackControllerBox.prism.getValue().statePointer),this._positionD=(0,qi.prism)(()=>{const q=this._prismOfStatePointer.getValue();return(0,qi.val)(q.position)}),this._positionFormatterD=(0,qi.prism)(()=>{const q=(0,qi.val)(this._subUnitsPerUnitD);return new nk(q)})}get type(){return"Theatre_Sequence"}pointerToPrism(d){const{path:v}=(0,e5.getPointerParts)(d);if(v.length===0)return(0,qi.prism)(()=>({length:(0,qi.val)(this.pointer.length),playing:(0,qi.val)(this.pointer.playing),position:(0,qi.val)(this.pointer.position),subUnitsPerUnit:(0,qi.val)(this.pointer.subUnitsPerUnit)}));if(v.length>1)return(0,qi.prism)(()=>{});const[C]=v;return C==="length"?this._lengthD:C==="subUnitsPerUnit"?this._subUnitsPerUnitD:C==="position"?this._positionD:C==="playing"?(0,qi.prism)(()=>(0,qi.val)(this._prismOfStatePointer.getValue().playing)):(0,qi.prism)(()=>{})}getKeyframesOfSimpleProp(d){const{path:v,root:C}=(0,e5.getPointerParts)(d);if(!JN(C))throw new lh("Argument prop must be a pointer to a SheetObject property");const D=(0,qi.val)(this._project.pointers.historic.sheetsById[this._sheet.address.sheetId].sequence.tracksByObject[C.address.objectKey]);if(!D)return[];const{trackData:N,trackIdByPropPath:q}=D,ee=UN(v),ue=q[ee];if(!ue)return[];const ge=N[ue];return ge?ge.keyframes:[]}get positionFormatter(){return this._positionFormatterD.getValue()}get prismOfStatePointer(){return this._prismOfStatePointer}get length(){return this._lengthD.getValue()}get positionPrism(){return this._positionD}get position(){return this._playbackControllerBox.get().getCurrentPosition()}get subUnitsPerUnit(){return this._subUnitsPerUnitD.getValue()}get positionSnappedToGrid(){return this.closestGridPosition(this.position)}set position(d){let v=d;this.pause(),v>this.length&&(v=this.length);const C=this.length;this._playbackControllerBox.get().gotoPosition(v>C?C:v)}getDurationCold(){return this._lengthD.getValue()}get playing(){return(0,qi.val)(this._playbackControllerBox.get().statePointer.playing)}_makeRangeFromSequenceTemplate(){return(0,qi.prism)(()=>[0,(0,qi.val)(this._lengthD)])}playDynamicRange(d,v){return this._playbackControllerBox.get().playDynamicRange(d,v)}async play(d,v){const C=this.length,D=d&&d.range?d.range:[0,C],N=d&&typeof d.iterationCount=="number"?d.iterationCount:1,q=d&&typeof d.rate<"u"?d.rate:1,ee=d&&d.direction?d.direction:"normal";return await this._play(N,[D[0],D[1]],q,ee,v)}_play(d,v,C,D,N){return this._playbackControllerBox.get().play(d,v,C,D,N)}pause(){this._playbackControllerBox.get().pause()}replacePlaybackController(d){this.pause();const v=this._playbackControllerBox.get();this._playbackControllerBox.set(d);const C=v.getCurrentPosition();v.destroy(),d.gotoPosition(C)}},nk=class{constructor(d){this._fps=d}formatSubUnitForGrid(d){const v=d%1,C=1/this._fps;return Math.round(v/C)+"f"}formatFullUnitForGrid(d){let v=d,C="";if(v>=Xu){const N=Math.floor(v/Xu);C+=N+"h",v=v%Xu}if(v>=Cc){const N=Math.floor(v/Cc);C+=N+"m",v=v%Cc}if(v>=xc){const N=Math.floor(v/xc);C+=N+"s",v=v%xc}const D=1/this._fps;if(v>=D){const N=Math.floor(v/D);C+=N+"f",v=v%D}return C.length===0?"0s":C}formatForPlayhead(d){let v=d,C="";if(v>=Xu){const N=Math.floor(v/Xu);C+=ah(N.toString(),2,"0")+"h",v=v%Xu}if(v>=Cc){const N=Math.floor(v/Cc);C+=ah(N.toString(),2,"0")+"m",v=v%Cc}else C.length>0&&(C+="00m");if(v>=xc){const N=Math.floor(v/xc);C+=ah(N.toString(),2,"0")+"s",v=v%xc}else C+="00s";const D=1/this._fps;if(v>=D){const N=Math.round(v/D);C+=ah(N.toString(),2,"0")+"f",v=v%D}else v/D>.98?(C+=ah("1",2,"0")+"f",v=v%D):C+="00f";return C.length===0?"00s00f":C}formatBasic(d){return d.toFixed(2)+"s"}},xc=1,Cc=xc*60,Xu=Cc*60,Xv={};A(Xv,{boolean:()=>u5,compound:()=>$v,file:()=>uk,image:()=>dk,number:()=>c5,rgba:()=>Ak,string:()=>f5,stringLiteral:()=>xk});function r5(d,v){return d.length<=v?d:d.substr(0,v-3)+"..."}var ik=d=>typeof d=="string"?'string("'.concat(r5(d,10),'")'):typeof d=="number"?"number(".concat(r5(String(d),10),")"):d===null?"null":d===void 0?"undefined":typeof d=="boolean"?String(d):Array.isArray(d)?"array":typeof d=="object"?"object":"unknown",s5=ik;function rk(d,{removeAlphaIfOpaque:v=!1}={}){const C=(d.a*255|256).toString(16).slice(1),D=(d.r*255|256).toString(16).slice(1)+(d.g*255|256).toString(16).slice(1)+(d.b*255|256).toString(16).slice(1)+(v&&C==="ff"?"":C);return"#".concat(D)}function Yv(d){return m(p({},d),{toString(){return rk(this,{removeAlphaIfOpaque:!0})}})}function sk(d){return Object.fromEntries(Object.entries(d).map(([v,C])=>[v,s9(C,0,1)]))}function ok(d){function v(C){return C>=.0031308?1.055*C**(1/2.4)-.055:12.92*C}return sk({r:v(d.r),g:v(d.g),b:v(d.b),a:d.a})}function o5(d){function v(C){return C>=.04045?((C+.055)/(1+.055))**2.4:C/12.92}return{r:v(d.r),g:v(d.g),b:v(d.b),a:d.a}}function a5(d){let v=.4122214708*d.r+.5363325363*d.g+.0514459929*d.b,C=.2119034982*d.r+.6806995451*d.g+.1073969566*d.b,D=.0883024619*d.r+.2817188376*d.g+.6299787005*d.b,N=Math.cbrt(v),q=Math.cbrt(C),ee=Math.cbrt(D);return{L:.2104542553*N+.793617785*q-.0040720468*ee,a:1.9779984951*N-2.428592205*q+.4505937099*ee,b:.0259040371*N+.7827717662*q-.808675766*ee,alpha:d.a}}function ak(d){let v=d.L+.3963377774*d.a+.2158037573*d.b,C=d.L-.1055613458*d.a-.0638541728*d.b,D=d.L-.0894841775*d.a-1.291485548*d.b,N=v*v*v,q=C*C*C,ee=D*D*D;return{r:4.0767416621*N-3.3077115913*q+.2309699292*ee,g:-1.2684380046*N+2.6097574011*q-.3413193965*ee,b:-.0041960863*N-.7034186147*q+1.707614701*ee,a:d.alpha}}var fa=Symbol("TheatrePropType_Basic");function l5(d){return typeof d=="object"&&!!d&&d[fa]==="TheatrePropType"}function lk(d){if(typeof d=="number")return c5(d);if(typeof d=="boolean")return u5(d);if(typeof d=="string")return f5(d);if(typeof d=="object"&&d){if(l5(d))return d;if(SB(d))return $v(d);throw new lh("This value is not a valid prop type: ".concat(s5(d)))}else throw new lh("This value is not a valid prop type: ".concat(s5(d)))}function ck(d){const v={};for(const C of Object.keys(d)){const D=d[C];l5(D)?v[C]=D:v[C]=lk(D)}return v}var $v=(d,v={})=>{const C=ck(d),D=new WeakMap;return{type:"compound",props:C,valueType:null,[fa]:"TheatrePropType",label:v.label,default:KU(C,q=>q.default),deserializeAndSanitize:q=>{if(typeof q!="object"||!q)return;if(D.has(q))return D.get(q);const ee={};let ue=!1;for(const[ge,Ee]of Object.entries(C))if(Object.prototype.hasOwnProperty.call(q,ge)){const Ve=Ee.deserializeAndSanitize(q[ge]);Ve!=null&&(ue=!0,ee[ge]=Ve)}if(D.set(q,ee),ue)return ee}}},uk=(d,v={})=>{const C=(D,N,q)=>{var ee;return{type:"file",id:((ee=v.interpolate)!=null?ee:ch)(D.id,N.id,q)}};return{type:"file",default:{type:"file",id:d},valueType:null,[fa]:"TheatrePropType",label:v.label,interpolate:C,deserializeAndSanitize:fk}},fk=d=>{if(!d)return;let v=!0;if(typeof d.id!="string"&&![null,void 0].includes(d.id)&&(v=!1),d.type!=="file"&&(v=!1),!!v)return d},dk=(d,v={})=>{const C=(D,N,q)=>{var ee;return{type:"image",id:((ee=v.interpolate)!=null?ee:ch)(D.id,N.id,q)}};return{type:"image",default:{type:"image",id:d},valueType:null,[fa]:"TheatrePropType",label:v.label,interpolate:C,deserializeAndSanitize:hk}},hk=d=>{if(!d)return;let v=!0;if(typeof d.id!="string"&&![null,void 0].includes(d.id)&&(v=!1),d.type!=="image"&&(v=!1),!!v)return d},c5=(d,v={})=>{var C;return m(p({type:"number",valueType:0,default:d,[fa]:"TheatrePropType"},v||{}),{label:v.label,nudgeFn:(C=v.nudgeFn)!=null?C:Ck,nudgeMultiplier:typeof v.nudgeMultiplier=="number"?v.nudgeMultiplier:void 0,interpolate:gk,deserializeAndSanitize:pk(v.range)})},pk=d=>d?v=>{if(typeof v=="number"&&isFinite(v))return s9(v,d[0],d[1])}:mk,mk=d=>typeof d=="number"&&isFinite(d)?d:void 0,gk=(d,v,C)=>d+C*(v-d),Ak=(d={r:0,g:0,b:0,a:1},v={})=>{const C={};for(const D of["r","g","b","a"])C[D]=Math.min(Math.max(d[D],0),1);return{type:"rgba",valueType:null,default:Yv(C),[fa]:"TheatrePropType",label:v.label,interpolate:yk,deserializeAndSanitize:vk}},vk=d=>{if(!d)return;let v=!0;for(const D of["r","g","b","a"])(!Object.prototype.hasOwnProperty.call(d,D)||typeof d[D]!="number")&&(v=!1);if(!v)return;const C={};for(const D of["r","g","b","a"])C[D]=Math.min(Math.max(d[D],0),1);return Yv(C)},yk=(d,v,C)=>{const D=a5(o5(d)),N=a5(o5(v)),q={L:(1-C)*D.L+C*N.L,a:(1-C)*D.a+C*N.a,b:(1-C)*D.b+C*N.b,alpha:(1-C)*D.alpha+C*N.alpha},ee=ok(ak(q));return Yv(ee)},u5=(d,v={})=>{var C;return{type:"boolean",default:d,valueType:null,[fa]:"TheatrePropType",label:v.label,interpolate:(C=v.interpolate)!=null?C:ch,deserializeAndSanitize:_k}},_k=d=>typeof d=="boolean"?d:void 0;function ch(d){return d}var f5=(d,v={})=>{var C;return{type:"string",default:d,valueType:null,[fa]:"TheatrePropType",label:v.label,interpolate:(C=v.interpolate)!=null?C:ch,deserializeAndSanitize:bk}};function bk(d){return typeof d=="string"?d:void 0}function xk(d,v,C={}){var D,N;return{type:"stringLiteral",default:d,valuesAndLabels:p({},v),[fa]:"TheatrePropType",valueType:null,as:(D=C.as)!=null?D:"menu",label:C.label,interpolate:(N=C.interpolate)!=null?N:ch,deserializeAndSanitize(q){if(typeof q=="string"&&Object.prototype.hasOwnProperty.call(v,q))return q}}}var Ck=({config:d,deltaX:v,deltaFraction:C,magnitude:D})=>{var N;const{range:q}=d;return!d.nudgeMultiplier&&q&&!q.includes(1/0)&&!q.includes(-1/0)?C*(q[1]-q[0])*D:v*D*((N=d.nudgeMultiplier)!=null?N:1)},Sk=d=>d.replace(/^[\s\/]*/,"").replace(/[\s\/]*$/,"").replace(/\s*\/\s*/g," / ");function u1(d,v){return Sk(d)}x(P());var wk=class{get type(){return"Theatre_Sheet_PublicAPI"}constructor(d){G(this,d)}object(d,v,C){const D=U(this),N=u1(d),q=D.getObject(N),ee=null,ue=C==null?void 0:C.__actions__THIS_API_IS_UNSTABLE_AND_WILL_CHANGE_IN_THE_NEXT_VERSION;if(q)return ue&&q.template._temp_setActions(ue),q.publicApi;{const ge=$v(v);return D.createObject(N,ee,ge,ue).publicApi}}__experimental_getExistingObject(d){const v=U(this),C=u1(d),D=v.getObject(C);return D==null?void 0:D.publicApi}get sequence(){return U(this).getSequence().publicApi}get project(){return U(this).project.publicApi}get address(){return p({},U(this).address)}detachObject(d){const v=U(this),C=u1(d);if(!v.getObject(C)){qu.warning(`Couldn't delete object "`.concat(C,'"'),'There is no object with key "'.concat(C,`".

To fix this, make sure you are calling \`sheet.deleteObject("`).concat(C,'")` with the correct key.')),console.warn('Object key "'.concat(C,'" does not exist.'));return}v.deleteObject(C)}},uh=Fi(),Ek=class{constructor(d,v){this.template=d,this.instanceId=v,_(this,"_objects",new uh.Atom({})),_(this,"_sequence"),_(this,"address"),_(this,"publicApi"),_(this,"project"),_(this,"objectsP",this._objects.pointer),_(this,"type","Theatre_Sheet"),_(this,"_logger"),this._logger=d.project._logger.named("Sheet",v),this._logger._trace("creating sheet"),this.project=d.project,this.address=m(p({},d.address),{sheetInstanceId:this.instanceId}),this.publicApi=new wk(this)}createObject(d,v,C,D={}){const q=this.template.getObjectTemplate(d,v,C,D).createInstance(this,v,C);return this._objects.setByPointer(ee=>ee[d],q),q}getObject(d){return this._objects.get()[d]}deleteObject(d){this._objects.reduce(v=>{const C=p({},v);return delete C[d],C})}getSequence(){if(!this._sequence){const d=(0,uh.prism)(()=>{const C=(0,uh.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.length);return Tk(C)}),v=(0,uh.prism)(()=>{const C=(0,uh.val)(this.project.pointers.historic.sheetsById[this.address.sheetId].sequence.subUnitsPerUnit);return Mk(C)});this._sequence=new tk(this.template.project,this,d,v)}return this._sequence}},Tk=d=>typeof d=="number"&&isFinite(d)&&d>0?d:10,Mk=d=>typeof d=="number"&&YU(d)&&d>=1&&d<=1e3?d:30,Ik=class{constructor(d,v){this.project=d,_(this,"type","Theatre_SheetTemplate"),_(this,"address"),_(this,"_instances",new J9.Atom({})),_(this,"instancesP",this._instances.pointer),_(this,"_objectTemplates",new J9.Atom({})),_(this,"objectTemplatesP",this._objectTemplates.pointer),this.address=m(p({},d.address),{sheetId:v})}getInstance(d){let v=this._instances.get()[d];return v||(v=new Ek(this,d),this._instances.setByPointer(C=>C[d],v)),v}getObjectTemplate(d,v,C,D){let N=this._objectTemplates.get()[d];return N||(N=new FN(this,d,v,C,D),this._objectTemplates.setByPointer(q=>q[d],N)),N}},Kv=Fi(),d5=Fi(),Dk=d=>new Promise(v=>setTimeout(v,d)),Pk=Dk;function Vs(d){for(var v=arguments.length,C=Array(v>1?v-1:0),D=1;D<v;D++)C[D-1]=arguments[D];throw Error("[Immer] minified error nr: "+d+(C.length?" "+C.map(function(N){return"'"+N+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Sc(d){return!!d&&!!d[rs]}function wc(d){return!!d&&(function(v){if(!v||typeof v!="object")return!1;var C=Object.getPrototypeOf(v);if(C===null)return!0;var D=Object.hasOwnProperty.call(C,"constructor")&&C.constructor;return D===Object||typeof D=="function"&&Function.toString.call(D)===zk}(d)||Array.isArray(d)||!!d[x5]||!!d.constructor[x5]||Jv(d)||e2(d))}function Rk(d){return Sc(d)||Vs(23,d),d[rs].t}function fh(d,v,C){C===void 0&&(C=!1),Yu(d)===0?(C?Object.keys:d2)(d).forEach(function(D){C&&typeof D=="symbol"||v(D,d[D],d)}):d.forEach(function(D,N){return v(N,D,d)})}function Yu(d){var v=d[rs];return v?v.i>3?v.i-4:v.i:Array.isArray(d)?1:Jv(d)?2:e2(d)?3:0}function Zv(d,v){return Yu(d)===2?d.has(v):Object.prototype.hasOwnProperty.call(d,v)}function Bk(d,v){return Yu(d)===2?d.get(v):d[v]}function h5(d,v,C){var D=Yu(d);D===2?d.set(v,C):D===3?(d.delete(v),d.add(C)):d[v]=C}function Lk(d,v){return d===v?d!==0||1/d==1/v:d!=d&&v!=v}function Jv(d){return Nk&&d instanceof Map}function e2(d){return kk&&d instanceof Set}function Ec(d){return d.o||d.t}function t2(d){if(Array.isArray(d))return Array.prototype.slice.call(d);var v=Hk(d);delete v[rs];for(var C=d2(v),D=0;D<C.length;D++){var N=C[D],q=v[N];q.writable===!1&&(q.writable=!0,q.configurable=!0),(q.get||q.set)&&(v[N]={configurable:!0,writable:!0,enumerable:q.enumerable,value:d[N]})}return Object.create(Object.getPrototypeOf(d),v)}function n2(d,v){return v===void 0&&(v=!1),i2(d)||Sc(d)||!wc(d)||(Yu(d)>1&&(d.set=d.add=d.clear=d.delete=Fk),Object.freeze(d),v&&fh(d,function(C,D){return n2(D,!0)},!0)),d}function Fk(){Vs(2)}function i2(d){return d==null||typeof d!="object"||Object.isFrozen(d)}function da(d){var v=Vk[d];return v||Vs(18,d),v}function p5(){return dh}function r2(d,v){v&&(da("Patches"),d.u=[],d.s=[],d.v=v)}function f1(d){s2(d),d.p.forEach(Ok),d.p=null}function s2(d){d===dh&&(dh=d.l)}function m5(d){return dh={p:[],l:dh,h:d,m:!0,_:0}}function Ok(d){var v=d[rs];v.i===0||v.i===1?v.j():v.O=!0}function o2(d,v){v._=v.p.length;var C=v.p[0],D=d!==void 0&&d!==C;return v.h.g||da("ES5").S(v,d,D),D?(C[rs].P&&(f1(v),Vs(4)),wc(d)&&(d=d1(v,d),v.l||h1(v,d)),v.u&&da("Patches").M(C[rs],d,v.u,v.s)):d=d1(v,C,[]),f1(v),v.u&&v.v(v.u,v.s),d!==b5?d:void 0}function d1(d,v,C){if(i2(v))return v;var D=v[rs];if(!D)return fh(v,function(q,ee){return g5(d,D,v,q,ee,C)},!0),v;if(D.A!==d)return v;if(!D.P)return h1(d,D.t,!0),D.t;if(!D.I){D.I=!0,D.A._--;var N=D.i===4||D.i===5?D.o=t2(D.k):D.o;fh(D.i===3?new Set(N):N,function(q,ee){return g5(d,D,N,q,ee,C)}),h1(d,N,!1),C&&d.u&&da("Patches").R(D,C,d.u,d.s)}return D.o}function g5(d,v,C,D,N,q){if(Sc(N)){var ee=d1(d,N,q&&v&&v.i!==3&&!Zv(v.D,D)?q.concat(D):void 0);if(h5(C,D,ee),!Sc(ee))return;d.m=!1}if(wc(N)&&!i2(N)){if(!d.h.F&&d._<1)return;d1(d,N),v&&v.A.l||h1(d,N)}}function h1(d,v,C){C===void 0&&(C=!1),d.h.F&&d.m&&n2(v,C)}function a2(d,v){var C=d[rs];return(C?Ec(C):d)[v]}function A5(d,v){if(v in d)for(var C=Object.getPrototypeOf(d);C;){var D=Object.getOwnPropertyDescriptor(C,v);if(D)return D;C=Object.getPrototypeOf(C)}}function l2(d){d.P||(d.P=!0,d.l&&l2(d.l))}function c2(d){d.o||(d.o=t2(d.t))}function u2(d,v,C){var D=Jv(v)?da("MapSet").N(v,C):e2(v)?da("MapSet").T(v,C):d.g?function(N,q){var ee=Array.isArray(N),ue={i:ee?1:0,A:q?q.A:p5(),P:!1,I:!1,D:{},l:q,t:N,k:null,o:null,j:null,C:!1},ge=ue,Ee=p1;ee&&(ge=[ue],Ee=m1);var Ve=Proxy.revocable(ge,Ee),Ge=Ve.revoke,nt=Ve.proxy;return ue.k=nt,ue.j=Ge,nt}(v,C):da("ES5").J(v,C);return(C?C.A:p5()).p.push(D),D}function Uk(d){return Sc(d)||Vs(22,d),function v(C){if(!wc(C))return C;var D,N=C[rs],q=Yu(C);if(N){if(!N.P&&(N.i<4||!da("ES5").K(N)))return N.t;N.I=!0,D=v5(C,q),N.I=!1}else D=v5(C,q);return fh(D,function(ee,ue){N&&Bk(N.t,ee)===ue||h5(D,ee,v(ue))}),q===3?new Set(D):D}(d)}function v5(d,v){switch(v){case 2:return new Map(d);case 3:return Array.from(d)}return t2(d)}var y5,dh,f2=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Nk=typeof Map<"u",kk=typeof Set<"u",_5=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",b5=f2?Symbol.for("immer-nothing"):((y5={})["immer-nothing"]=!0,y5),x5=f2?Symbol.for("immer-draftable"):"__$immer_draftable",rs=f2?Symbol.for("immer-state"):"__$immer_state",zk=""+Object.prototype.constructor,d2=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(d){return Object.getOwnPropertyNames(d).concat(Object.getOwnPropertySymbols(d))}:Object.getOwnPropertyNames,Hk=Object.getOwnPropertyDescriptors||function(d){var v={};return d2(d).forEach(function(C){v[C]=Object.getOwnPropertyDescriptor(d,C)}),v},Vk={},p1={get:function(d,v){if(v===rs)return d;var C=Ec(d);if(!Zv(C,v))return function(N,q,ee){var ue,ge=A5(q,ee);return ge?"value"in ge?ge.value:(ue=ge.get)===null||ue===void 0?void 0:ue.call(N.k):void 0}(d,C,v);var D=C[v];return d.I||!wc(D)?D:D===a2(d.t,v)?(c2(d),d.o[v]=u2(d.A.h,D,d)):D},has:function(d,v){return v in Ec(d)},ownKeys:function(d){return Reflect.ownKeys(Ec(d))},set:function(d,v,C){var D=A5(Ec(d),v);if(D!=null&&D.set)return D.set.call(d.k,C),!0;if(!d.P){var N=a2(Ec(d),v),q=N==null?void 0:N[rs];if(q&&q.t===C)return d.o[v]=C,d.D[v]=!1,!0;if(Lk(C,N)&&(C!==void 0||Zv(d.t,v)))return!0;c2(d),l2(d)}return d.o[v]===C&&typeof C!="number"&&(C!==void 0||v in d.o)||(d.o[v]=C,d.D[v]=!0,!0)},deleteProperty:function(d,v){return a2(d.t,v)!==void 0||v in d.t?(d.D[v]=!1,c2(d),l2(d)):delete d.D[v],d.o&&delete d.o[v],!0},getOwnPropertyDescriptor:function(d,v){var C=Ec(d),D=Reflect.getOwnPropertyDescriptor(C,v);return D&&{writable:!0,configurable:d.i!==1||v!=="length",enumerable:D.enumerable,value:C[v]}},defineProperty:function(){Vs(11)},getPrototypeOf:function(d){return Object.getPrototypeOf(d.t)},setPrototypeOf:function(){Vs(12)}},m1={};fh(p1,function(d,v){m1[d]=function(){return arguments[0]=arguments[0][0],v.apply(this,arguments)}}),m1.deleteProperty=function(d,v){return p1.deleteProperty.call(this,d[0],v)},m1.set=function(d,v,C){return p1.set.call(this,d[0],v,C,d[0])};var Gk=function(){function d(C){var D=this;this.g=_5,this.F=!0,this.produce=function(N,q,ee){if(typeof N=="function"&&typeof q!="function"){var ue=q;q=N;var ge=D;return function(vt){var ft=this;vt===void 0&&(vt=ue);for(var Bt=arguments.length,kt=Array(Bt>1?Bt-1:0),It=1;It<Bt;It++)kt[It-1]=arguments[It];return ge.produce(vt,function(un){var mr;return(mr=q).call.apply(mr,[ft,un].concat(kt))})}}var Ee;if(typeof q!="function"&&Vs(6),ee!==void 0&&typeof ee!="function"&&Vs(7),wc(N)){var Ve=m5(D),Ge=u2(D,N,void 0),nt=!0;try{Ee=q(Ge),nt=!1}finally{nt?f1(Ve):s2(Ve)}return typeof Promise<"u"&&Ee instanceof Promise?Ee.then(function(vt){return r2(Ve,ee),o2(vt,Ve)},function(vt){throw f1(Ve),vt}):(r2(Ve,ee),o2(Ee,Ve))}if(!N||typeof N!="object")return(Ee=q(N))===b5?void 0:(Ee===void 0&&(Ee=N),D.F&&n2(Ee,!0),Ee);Vs(21,N)},this.produceWithPatches=function(N,q){return typeof N=="function"?function(ge){for(var Ee=arguments.length,Ve=Array(Ee>1?Ee-1:0),Ge=1;Ge<Ee;Ge++)Ve[Ge-1]=arguments[Ge];return D.produceWithPatches(ge,function(nt){return N.apply(void 0,[nt].concat(Ve))})}:[D.produce(N,q,function(ge,Ee){ee=ge,ue=Ee}),ee,ue];var ee,ue},typeof(C==null?void 0:C.useProxies)=="boolean"&&this.setUseProxies(C.useProxies),typeof(C==null?void 0:C.autoFreeze)=="boolean"&&this.setAutoFreeze(C.autoFreeze)}var v=d.prototype;return v.createDraft=function(C){wc(C)||Vs(8),Sc(C)&&(C=Uk(C));var D=m5(this),N=u2(this,C,void 0);return N[rs].C=!0,s2(D),N},v.finishDraft=function(C,D){var N=C&&C[rs],q=N.A;return r2(q,D),o2(void 0,q)},v.setAutoFreeze=function(C){this.F=C},v.setUseProxies=function(C){C&&!_5&&Vs(20),this.g=C},v.applyPatches=function(C,D){var N;for(N=D.length-1;N>=0;N--){var q=D[N];if(q.path.length===0&&q.op==="replace"){C=q.value;break}}var ee=da("Patches").$;return Sc(C)?ee(C,D):this.produce(C,function(ue){return ee(ue,D.slice(N+1))})},d}(),bs=new Gk;bs.produce,bs.produceWithPatches.bind(bs),bs.setAutoFreeze.bind(bs),bs.setUseProxies.bind(bs),bs.applyPatches.bind(bs),bs.createDraft.bind(bs),bs.finishDraft.bind(bs);var Qk={currentProjectStateDefinitionVersion:"0.4.0"},h2=Qk;async function jk(d,v,C){await Pk(0),d.transaction(({drafts:D})=>{var N;const q=v.address.projectId;D.ephemeral.coreByProject[q]={lastExportedObject:null,loadingState:{type:"loading"}},D.ahistoric.coreByProject[q]={ahistoricStuff:""};function ee(){D.ephemeral.coreByProject[q].loadingState={type:"loaded"},D.historic.coreByProject[q]={sheetsById:{},definitionVersion:h2.currentProjectStateDefinitionVersion,revisionHistory:[]}}function ue(Ge){D.ephemeral.coreByProject[q].loadingState={type:"loaded"},D.historic.coreByProject[q]=Ge}function ge(){D.ephemeral.coreByProject[q].loadingState={type:"loaded"}}function Ee(Ge){D.ephemeral.coreByProject[q].loadingState={type:"browserStateIsNotBasedOnDiskState",onDiskState:Ge}}const Ve=(N=Rk(D.historic))==null?void 0:N.coreByProject[v.address.projectId];Ve?C&&Ve.revisionHistory.indexOf(C.revisionHistory[0])==-1?Ee(C):ge():C?ue(C):ee()})}function C5(){}function S5(d){var v,C;const D=(v=d==null?void 0:d.logging)!=null&&v.internal?(C=d.logging.min)!=null?C:256:1/0,N=D<=128,q=D<=512,ee=W9(void 0,{_debug:N?console.debug.bind(console,"_coreLogger(TheatreInternalLogger) debug"):C5,_error:q?console.error.bind(console,"_coreLogger(TheatreInternalLogger) error"):C5});if(d){const{logger:ue,logging:ge}=d;ue&&ee.configureLogger(ue),ge?ee.configureLogging(ge):ee.configureLogging({dev:!1})}return ee.getLogger().named("Theatre")}var Wk=class{constructor(d,v={},C){this.config=v,this.publicApi=C,_(this,"pointers"),_(this,"_pointerProxies"),_(this,"address"),_(this,"_studioReadyDeferred"),_(this,"_assetStorageReadyDeferred"),_(this,"_readyPromise"),_(this,"_sheetTemplates",new d5.Atom({})),_(this,"sheetTemplatesP",this._sheetTemplates.pointer),_(this,"_studio"),_(this,"assetStorage"),_(this,"type","Theatre_Project"),_(this,"_logger");var D;this._logger=S5({logging:{dev:!0}}).named("Project",d),this._logger.traceDev("creating project"),this.address={projectId:d};const N=new d5.Atom({ahistoric:{ahistoricStuff:""},historic:(D=v.state)!=null?D:{sheetsById:{},definitionVersion:h2.currentProjectStateDefinitionVersion,revisionHistory:[]},ephemeral:{loadingState:{type:"loaded"},lastExportedObject:null}});this._assetStorageReadyDeferred=al(),this.assetStorage={getAssetUrl:q=>{var ee;return"".concat((ee=v.assets)==null?void 0:ee.baseUrl,"/").concat(q)},createAsset:()=>{throw new Error("Please wait for Project.ready to use assets.")}},this._pointerProxies={historic:new Kv.PointerProxy(N.pointer.historic),ahistoric:new Kv.PointerProxy(N.pointer.ahistoric),ephemeral:new Kv.PointerProxy(N.pointer.ephemeral)},this.pointers={historic:this._pointerProxies.historic.pointer,ahistoric:this._pointerProxies.ahistoric.pointer,ephemeral:this._pointerProxies.ephemeral.pointer},z.add(d,this),this._studioReadyDeferred=al(),this._readyPromise=Promise.all([this._studioReadyDeferred.promise,this._assetStorageReadyDeferred.promise]).then(()=>{}),v.state?setTimeout(()=>{this._studio||(this._studioReadyDeferred.resolve(void 0),this._assetStorageReadyDeferred.resolve(void 0),this._logger._trace("ready deferred resolved with no state"))},0):typeof window>"u"?console.error('Argument config.state in Theatre.getProject("'.concat(d,'", config) is empty. ')+"You can safely ignore this message if you're developing a Next.js/Remix project in development mode. But if you are shipping to your end-users, then you need to set config.state, otherwise your project's state will be empty and nothing will animate. Learn more at https://www.theatrejs.com/docs/latest/manual/projects#state"):setTimeout(()=>{if(!this._studio)throw new Error('Argument config.state in Theatre.getProject("'.concat(d,'", config) is empty. This is fine ')+"while you are using @theatre/core along with @theatre/studio. But since @theatre/studio "+'is not loaded, the state of project "'.concat(d,`" will be empty.

`)+`To fix this, you need to add @theatre/studio into the bundle and export the project's state. Learn how to do that at https://www.theatrejs.com/docs/latest/manual/projects#state
`)},1e3)}attachToStudio(d){if(this._studio){if(this._studio!==d)throw new Error("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));console.warn("Project ".concat(this.address.projectId," is already attached to studio ").concat(this._studio.address.studioId));return}this._studio=d,d.initialized.then(async()=>{var v;await jk(d,this,this.config.state),this._pointerProxies.historic.setPointer(d.atomP.historic.coreByProject[this.address.projectId]),this._pointerProxies.ahistoric.setPointer(d.atomP.ahistoric.coreByProject[this.address.projectId]),this._pointerProxies.ephemeral.setPointer(d.atomP.ephemeral.coreByProject[this.address.projectId]),await d.createAssetStorage(this,(v=this.config.assets)==null?void 0:v.baseUrl).then(C=>{this.assetStorage=C,this._assetStorageReadyDeferred.resolve(void 0)}),this._studioReadyDeferred.resolve(void 0)}).catch(v=>{throw console.error(v),v})}get isAttachedToStudio(){return!!this._studio}get ready(){return this._readyPromise}isReady(){return this._studioReadyDeferred.status==="resolved"&&this._assetStorageReadyDeferred.status==="resolved"}getOrCreateSheet(d,v="default"){let C=this._sheetTemplates.get()[d];return C||(C=new Ik(this,d),this._sheetTemplates.reduce(D=>m(p({},D),{[d]:C}))),C.getInstance(v)}},qk=class{get type(){return"Theatre_Project_PublicAPI"}constructor(d,v={}){G(this,new Wk(d,v,this))}get ready(){return U(this).ready}get isReady(){return U(this).isReady()}get address(){return p({},U(this).address)}getAssetUrl(d){if(!this.isReady){console.error("Calling `project.getAssetUrl()` before `project.ready` is resolved, will always return `undefined`. Either use `project.ready.then(() => project.getAssetUrl())` or `await project.ready` before calling `project.getAssetUrl()`.");return}return d.id?U(this).assetStorage.getAssetUrl(d.id):void 0}sheet(d,v="default"){const C=u1(d);return U(this).getOrCreateSheet(C,v).publicApi}};x(P());var w5=Fi(),p2=Fi();function E5(d,v={}){const C=z.get(d);if(C)return C.publicApi;const N=S5().named("Project",d);return v.state?(Yk(d,v.state),N._debug("deep validated config.state on disk")):N._debug("no config.state"),new qk(d,v)}var Xk=(d,v)=>{if(Array.isArray(v)||v==null||v.definitionVersion!==h2.currentProjectStateDefinitionVersion)throw new lh("Error validating conf.state in Theatre.getProject(".concat(JSON.stringify(d),", conf). The state seems to be formatted in a way that is unreadable to Theatre.js. Read more at https://www.theatrejs.com/docs/latest/manual/projects#state"))},Yk=(d,v)=>{Xk(d,v)};function m2(d,v,C){const D=C?U(C).ticker:i5();if((0,w5.isPointer)(d))return(0,p2.pointerToPrism)(d).onChange(D,v,!0);if((0,p2.isPrism)(d))return d.onChange(D,v,!0);throw new Error("Called onChange(p) where p is neither a pointer nor a prism.")}function T5(d){if((0,w5.isPointer)(d))return(0,p2.pointerToPrism)(d).getValue();throw new Error("Called val(p) where p is not a pointer.")}var $k=class{constructor(){_(this,"_studio")}get type(){return"Theatre_CoreBundle"}get version(){return"0.7.2"}getBitsForStudio(d,v){if(this._studio)throw new Error("@theatre/core is already attached to @theatre/studio");this._studio=d;const C={projectsP:z.atom.pointer.projects,privateAPI:U,coreExports:E,getCoreRafDriver:n5};v(C)}};Kk();function Kk(){if(typeof window>"u")return;const d=window[Wv];if(typeof d<"u")throw typeof d=="object"&&d&&typeof d.version=="string"?new Error(`It seems that the module '@theatre/core' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/core' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(Wv," seems to be already set by a module other than @theatre/core."));const v=new $k;window[Wv]=v;const C=window[jN];C&&C!==null&&C.type==="Theatre_StudioBundle"&&C.registerCoreBundle(v)}/*! Bundled license information:

		lodash-es/lodash.js:
		  (**
		   * @license
		   * Lodash (Custom Build) <https://lodash.com/>
		   * Build: `lodash modularize exports="es" -o ./`
		   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
		   * Released under MIT license <https://lodash.com/license>
		   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
		   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
		   *)
		*/}(Jh,Jh.exports)),Jh.exports}var Te=rle();class sle{constructor(e){this.pmremGenerator=new Mb(e),this.pmremGenerator.compileCubemapShader(),this.pmremGenerator.compileEquirectangularShader(),this.textures=[]}buildEnvironmentTexture(e,t){for(let r=0;r<this.textures.length;r++)if(this.textures[r].texture===t)return this.textures[r].pmrem;const i=this.buildPMREM(e,t,!1,"environment");return this.textures.push({texture:t,pmrem:i}),i}buildFogTexture(e){for(let i=0;i<this.textures.length;i++)if(this.textures[i].texture===e)return this.textures[i].pmrem;const t=this.createPMREM(e);return this.textures.push({texture:e,pmrem:t}),t}buildPMREM(e,t,i=!0,r){(t.isHDR===void 0||t.isHDR===null)&&console.error(`Environment texture ${t.name} is missing .isHDR parameter`);let s=t;return t instanceof ep||(s=this.equiToCube(e,t,i,r)),s.name=t.name,this.createPMREM(s)}equiToCube(e,t,i=!0,r){return i?(e.cubeRenderTarget||(e.cubeRenderTarget=new Hg(t.image.height/2,{type:nn,format:hi,colorSpace:t.isHDR?pi:En})),e.cubeRenderTarget.fromEquirectangularTexture(S.WebGL.renderer,t),e.cubeRenderTarget.texture):(e[`${r}RT`]=new Hg(t.image.height/2,{type:nn,format:hi,colorSpace:t.isHDR?pi:En}),e[`${r}RT`].fromEquirectangularTexture(S.WebGL.renderer,t),e[`${r}RT`].texture)}createPMREM(e){if(e instanceof ep){const i=this.cubeUVfromCubemap(e);return i.name=`${e.name} PMREM`,i}const t=this.fromEquirectangular(e);return t.name=`${e.name} PMREM`,t}cubeUVfromCubemap(e){return e.mapping=tc,this.pmremGenerator.fromCubemap(e).texture}fromEquirectangular(e){return e.mapping=$a,this.pmremGenerator.fromEquirectangular(e).texture}generateCubeUVSize(e){const t=e;if(t===null)return null;const i=Math.log2(e)-2,r=1/t;return{texelWidth:1/(3*Math.max(Math.pow(2,i),7*16)),texelHeight:r,maxMip:i}}generateShaderDefines(e){if(!e.image)return{CUBEUV_TEXEL_WIDTH:.0006510416666666666,CUBEUV_TEXEL_HEIGHT:.00048828125,CUBEUV_MAX_MIP:9};const t=this.generateCubeUVSize(e.image.height);return{CUBEUV_TEXEL_WIDTH:t.texelWidth,CUBEUV_TEXEL_HEIGHT:t.texelHeight,CUBEUV_MAX_MIP:t.maxMip}}}var ole="varying vec2 vUv;void main(){vUv=uv;vec4 transformedPosition=vec4(position,1.0);vec4 mvPosition=modelViewMatrix*transformedPosition;gl_Position=projectionMatrix*mvPosition;}",ale=`#include <default_pars>
#include <default_frag_pars>
varying vec2 vUv;void main(){gl_FragColor=vec4(vUv.xy,1.,1.);
#include <colorspace_fragment>
}`;class is extends Cn{constructor(e={}){const t=e.globalUniforms;delete e.globalUniforms,e=An({vertexShader:ole,fragmentShader:ale,uniforms:{...S.WebGL.globalUniforms}},e),super(e),this.name=this.constructor.name,this.globalUniforms=t,this.uniforms=Object.assign(this.uniforms,this.globalUniforms),this.extensions.derivatives=!0}clone(e){const t=super.clone();return t.uniforms=Object.assign(t.uniforms,this.globalUniforms),t.uniforms=Object.assign(t.uniforms,e),t}}var lle=`varying vec2 vUv;uniform sampler2D tTexture;uniform vec2 uScreenSize;uniform vec2 uImageSize;void main(){vec2 uv=vUv;vec2 s=uScreenSize;vec2 i=uImageSize;float rs=s.x/s.y;float ri=i.x/i.y;
#ifdef CROP
vec2 new=rs<ri ? vec2(i.x*s.y/i.y,s.y): vec2(s.x,i.y*s.x/i.x);vec2 offset=(rs<ri ? vec2((new.x-s.x)/2.0,0.0): vec2(0.0,(new.y-s.y)/2.0))/new;
#else
vec2 new=rs>ri ? vec2(i.x*s.y/i.y,s.y): vec2(s.x,i.y*s.x/i.x);vec2 offset=(rs>ri ? vec2((new.x-s.x)/2.0,0.0): vec2(0.0,(new.y-s.y)/2.0))/new;
#endif
uv=vUv*s/new+offset;if(uv.x<0.0||uv.x>1.0||uv.y<0.0||uv.y>1.0){gl_FragColor=vec4(0.0,0.0,0.0,1.0);return;}gl_FragColor=texture2D(tTexture,uv);
#include <colorspace_fragment>
}`;class cle{constructor(){pe(this,"onResize",()=>{this.setWindowSize(S.window.w,S.window.h);for(const e in this.rtViews)this.rtViews[e].setLocation()});pe(this,"render",()=>{if(!this.enabled||!this.scene.children.length)return;const e=S.WebGL.renderer.autoClear;S.WebGL.renderer.autoClear=!1;for(const t in this.rtViews)this.rtViews[t].updateTexture();S.WebGL.renderer.render(this.scene,this.camera),S.WebGL.renderer.autoClear=e});this.enabled=!1,this.renderTargets={},this.rtViews={},this.scene=new Wa,this.camera=new Ou(-1,1,1,-1,1e-6,1e3),this.setWindowSize(S.window.w,S.window.h)}enable(){this.enabled||(this.enabled=!0,S.RAFCollection.add(this.render,999),oc(this.onResize,!1))}disable(){this.enabled&&(this.enabled=!1,S.RAFCollection.remove(this.render),kl.delete(this.onResize))}registerRT(e,t){if(!t)throw new Error("RTViewer: render target must have a name");this.renderTargets[t]=e}unregisterRT(e){delete this.renderTargets[e]}createRTView(e,t={}){if(!this.renderTargets[e])throw new Error(`RTViewer: render target ${e} not found`);this.rtViews[e]=new ule({renderTarget:this.renderTargets[e],...t}),this.scene.add(this.rtViews[e].mesh)}destroyRTView(e){this.scene.remove(this.rtViews[e].mesh),this.rtViews[e].destroy(),delete this.rtViews[e]}setWindowSize(e,t){this.camera.left=-e/2,this.camera.right=e/2,this.camera.top=t/2,this.camera.bottom=-t/2,this.camera.updateProjectionMatrix()}destroy(){this.disable(),this.camera=null,this.scene=null}}class ule{constructor({renderTarget:e,x:t=0,y:i=0,width:r=400,crop:s=!1}){this.crop=s,this.renderTarget=e,this.options={x:t,y:i,width:r,crop:s},this.material=new is({fragmentShader:lle,uniforms:{tTexture:{value:this.renderTarget.texture},uScreenSize:{value:new De},uImageSize:{value:new De}},defines:{CROP:this.crop}}),this.geometry=new ao(1,1),this.mesh=new Qe(this.geometry,this.material),this.setLocation(t,i,r)}setLocation(e,t,i,r){const s=Object.assign(this.options,{x:e,y:t,width:i,height:r});s.height||(s.height=this.renderTarget.height*s.width/this.renderTarget.width),this.mesh.scale.set(s.width,s.height,1),this.mesh.position.x=-S.window.w/2+s.x+s.width/2,this.mesh.position.y=S.window.h/2-s.y-s.height/2,this.material.uniforms.uScreenSize.value.set(s.width,s.height),this.material.uniforms.uImageSize.value.set(this.renderTarget.width,this.renderTarget.height)}updateTexture(){this.material.uniforms.tTexture.value=this.renderTarget.texture}destroy(){this.mesh.geometry.dispose(),this.mesh.material.dispose(),this.mesh=null,this.geometry.dispose(),this.material.dispose(),this.renderTarget=null}}const yE=Object.assign({});function fle(){for(const n in yE){const e=n.match(/\b\w+-\w+\b/g);e&&e.length&&(S.webglFonts[e[0]]=yE[n])}}class Ud extends lc{constructor(e,t,i,r){super(),this.strength=t!==void 0?t:1,this.radius=i,this.threshold=r,this.resolution=e!==void 0?new De(e.x,e.y):new De(256,256),this.clearColor=new ke(0,0,0),this.renderTargetsHorizontal=[],this.renderTargetsVertical=[],this.nMips=3;let s=Math.round(this.resolution.x/4),o=Math.round(this.resolution.y/4);this.renderTargetBright=new ai(s,o,{type:nn}),this.renderTargetBright.texture.name="UnrealBloomPass.bright",this.renderTargetBright.texture.generateMipmaps=!1;for(let f=0;f<this.nMips;f++){const h=new ai(s,o,{type:nn});h.texture.name="UnrealBloomPass.h"+f,h.texture.generateMipmaps=!1,this.renderTargetsHorizontal.push(h);const p=new ai(s,o,{type:nn});p.texture.name="UnrealBloomPass.v"+f,p.texture.generateMipmaps=!1,this.renderTargetsVertical.push(p),s=Math.round(s/2),o=Math.round(o/2)}const a=BD;this.highPassUniforms=Io.clone(a.uniforms),this.highPassUniforms.luminosityThreshold.value=r,this.highPassUniforms.smoothWidth.value=.01,this.materialHighPassFilter=new Cn({uniforms:this.highPassUniforms,vertexShader:a.vertexShader,fragmentShader:a.fragmentShader}),this.separableBlurMaterials=[];const l=[7,9,11];s=Math.round(this.resolution.x/2),o=Math.round(this.resolution.y/2);for(let f=0;f<this.nMips;f++)this.separableBlurMaterials.push(this.getSeperableBlurMaterial(l[f])),this.separableBlurMaterials[f].uniforms.invSize.value=new De(1/s,1/o),s=Math.round(s/2),o=Math.round(o/2);this.compositeMaterial=this.getCompositeMaterial(this.nMips),this.compositeMaterial.uniforms.blurTexture1.value=this.renderTargetsVertical[0].texture,this.compositeMaterial.uniforms.blurTexture2.value=this.renderTargetsVertical[1].texture,this.compositeMaterial.uniforms.blurTexture3.value=this.renderTargetsVertical[2].texture,this.compositeMaterial.uniforms.bloomStrength.value=t,this.compositeMaterial.uniforms.bloomRadius.value=.1;const c=[1.4,1.2,1];this.compositeMaterial.uniforms.bloomFactors.value=c,this.bloomTintColors=[new Z(1,1,1),new Z(1,1,1),new Z(1,1,1),new Z(1,1,1),new Z(1,1,1)],this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors;const u=PA;this.copyUniforms=Io.clone(u.uniforms),this.blendMaterial=new Cn({uniforms:this.copyUniforms,vertexShader:u.vertexShader,fragmentShader:u.fragmentShader,blending:q0,depthTest:!1,depthWrite:!1,transparent:!0}),this.enabled=!0,this.needsSwap=!1,this._oldClearColor=new ke,this.oldClearAlpha=1,this.basic=new Jr,this.fsQuad=new Tp(null)}dispose(){for(let e=0;e<this.renderTargetsHorizontal.length;e++)this.renderTargetsHorizontal[e].dispose();for(let e=0;e<this.renderTargetsVertical.length;e++)this.renderTargetsVertical[e].dispose();this.renderTargetBright.dispose();for(let e=0;e<this.separableBlurMaterials.length;e++)this.separableBlurMaterials[e].dispose();this.compositeMaterial.dispose(),this.blendMaterial.dispose(),this.basic.dispose(),this.fsQuad.dispose()}setSize(e,t){let i=Math.round(e/2),r=Math.round(t/2);this.renderTargetBright.setSize(i,r);for(let s=0;s<this.nMips;s++)this.renderTargetsHorizontal[s].setSize(i,r),this.renderTargetsVertical[s].setSize(i,r),this.separableBlurMaterials[s].uniforms.invSize.value=new De(1/i,1/r),i=Math.round(i/2),r=Math.round(r/2)}render(e,t,i,r,s){e.getClearColor(this._oldClearColor),this.oldClearAlpha=e.getClearAlpha();const o=e.autoClear;e.autoClear=!1,e.setClearColor(this.clearColor,0),s&&e.state.buffers.stencil.setTest(!1),this.renderToScreen&&(this.fsQuad.material=this.basic,this.basic.map=i.texture,e.setRenderTarget(null),e.clear(),this.fsQuad.render(e)),this.highPassUniforms.tDiffuse.value=i.texture,this.highPassUniforms.luminosityThreshold.value=this.threshold,this.fsQuad.material=this.materialHighPassFilter,e.setRenderTarget(this.renderTargetBright),e.clear(),this.fsQuad.render(e);let a=this.renderTargetBright;for(let l=0;l<this.nMips;l++)this.fsQuad.material=this.separableBlurMaterials[l],this.separableBlurMaterials[l].uniforms.colorTexture.value=a.texture,this.separableBlurMaterials[l].uniforms.direction.value=Ud.BlurDirectionY,e.setRenderTarget(this.renderTargetsHorizontal[l]),e.clear(),this.fsQuad.render(e),this.separableBlurMaterials[l].uniforms.colorTexture.value=this.renderTargetsHorizontal[l].texture,this.separableBlurMaterials[l].uniforms.direction.value=Ud.BlurDirectionY,e.setRenderTarget(this.renderTargetsVertical[l]),e.clear(),this.fsQuad.render(e),a=this.renderTargetsVertical[l];this.fsQuad.material=this.compositeMaterial,this.compositeMaterial.uniforms.bloomStrength.value=this.strength,this.compositeMaterial.uniforms.bloomRadius.value=this.radius,this.compositeMaterial.uniforms.bloomTintColors.value=this.bloomTintColors,e.setRenderTarget(this.renderTargetsHorizontal[0]),e.clear(),this.fsQuad.render(e),this.fsQuad.material=this.blendMaterial,this.copyUniforms.tDiffuse.value=this.renderTargetsHorizontal[0].texture,s&&e.state.buffers.stencil.setTest(!0),this.renderToScreen?(e.setRenderTarget(null),this.fsQuad.render(e)):(e.setRenderTarget(i),this.fsQuad.render(e)),e.setClearColor(this._oldClearColor,this.oldClearAlpha),e.autoClear=o}getSeperableBlurMaterial(e){const t=[];for(let i=0;i<e;i++)t.push(.39894*Math.exp(-.5*i*i/(e*e))/e);return new Cn({defines:{KERNEL_RADIUS:e},uniforms:{colorTexture:{value:null},invSize:{value:new De(.5,.5)},direction:{value:new De(.5,.5)},gaussianCoefficients:{value:t}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`#include <common>
				varying vec2 vUv;
				uniform sampler2D colorTexture;
				uniform vec2 invSize;
				uniform vec2 direction;
				uniform float gaussianCoefficients[KERNEL_RADIUS];

				void main() {
					float weightSum = gaussianCoefficients[0];
					vec3 diffuseSum = texture2D( colorTexture, vUv ).rgb * weightSum;
					for( int i = 1; i < KERNEL_RADIUS; i ++ ) {
						float x = float(i);
						float w = gaussianCoefficients[i];
						vec2 uvOffset = direction * invSize * x;
						vec3 sample1 = texture2D( colorTexture, vUv + uvOffset ).rgb;
						vec3 sample2 = texture2D( colorTexture, vUv - uvOffset ).rgb;
						diffuseSum += (sample1 + sample2) * w;
						weightSum += 2.0 * w;
					}
					gl_FragColor = vec4(diffuseSum/weightSum, 1.0);
				}`})}getCompositeMaterial(e){return new Cn({defines:{NUM_MIPS:e},uniforms:{blurTexture1:{value:null},blurTexture2:{value:null},blurTexture3:{value:null},bloomStrength:{value:1},bloomFactors:{value:null},bloomTintColors:{value:null},bloomRadius:{value:0}},vertexShader:`varying vec2 vUv;
				void main() {
					vUv = uv;
					gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
				}`,fragmentShader:`varying vec2 vUv;
				uniform sampler2D blurTexture1;
				uniform sampler2D blurTexture2;
				uniform sampler2D blurTexture3;
				uniform float bloomStrength;
				uniform float bloomRadius;
				uniform float bloomFactors[NUM_MIPS];
				uniform vec3 bloomTintColors[NUM_MIPS];

				float lerpBloomFactor(const in float factor) {
					float mirrorFactor = 1.2 - factor;
					return mix(factor, mirrorFactor, bloomRadius);
				}

				void main() {
					gl_FragColor = bloomStrength * ( lerpBloomFactor(bloomFactors[0]) * vec4(bloomTintColors[0], 1.0) * texture2D(blurTexture1, vUv) +
						lerpBloomFactor(bloomFactors[1]) * vec4(bloomTintColors[1], 1.0) * texture2D(blurTexture2, vUv) +
						lerpBloomFactor(bloomFactors[2]) * vec4(bloomTintColors[2], 1.0) * texture2D(blurTexture3, vUv) );
				}`})}}Ud.BlurDirectionX=new De(1,0);Ud.BlurDirectionY=new De(-.5,1);var _E=`#include <common>
#include <packing>
varying vec2 vUv;uniform sampler2D tBase;uniform vec2 uTexelSize;uniform vec2 uResolution;uniform float uNormalizedDelta;uniform float uScreenAspect;uniform vec3 uForce;uniform vec2 uMouse;uniform vec2 uPrevMouse;uniform vec2 uMouseVelocity;uniform float uMouseRadius;uniform float uPressure;uniform float uMouseStrength;float sdLine(vec2 p,vec2 a,vec2 b){float velocity=clamp(length(uMouseVelocity),0.5,1.5);vec2 pa=p-a,ba=b-a;float h=clamp(dot(pa,ba)/dot(ba,ba),0.0,1.0);return length(pa-ba*h)/velocity;}void main(){float aspect=uResolution.x/uResolution.y;vec4 color=texture2D(tBase,vUv);float magnitude=1.0-smoothstep(0.0,uMouseRadius,distance(vUv*vec2(uScreenAspect,1.),uMouse*vec2(uScreenAspect,1.)));vec3 splat=uForce*magnitude*uMouseStrength;color.rgb=(color.rgb+splat)*uPressure;color.a=1.0;gl_FragColor=color;}`,dle="varying vec2 vUv;varying vec2 vL;varying vec2 vR;varying vec2 vT;varying vec2 vB;uniform sampler2D tVelocity;void main(){float L=texture(tVelocity,vL).y;float R=texture(tVelocity,vR).y;float T=texture(tVelocity,vT).x;float B=texture(tVelocity,vB).x;float vorticity=R-L-T+B;gl_FragColor=vec4(0.5*vorticity,0.0,0.0,1.0);}",hle="varying vec2 vUv;varying vec2 vL;varying vec2 vR;varying vec2 vT;varying vec2 vB;uniform sampler2D tVelocity;uniform sampler2D tCurl;uniform float uCurlStrength;uniform float uNormalizedDelta;void main(){float L=texture(tCurl,vL).x;float R=texture(tCurl,vR).x;float T=texture(tCurl,vT).x;float B=texture(tCurl,vB).x;float C=texture(tCurl,vUv).x;vec2 force=0.5*vec2(abs(T)-abs(B),abs(R)-abs(L));force/=length(force)+0.01;force*=uCurlStrength*C;force.y*=-1.0;vec2 vel=texture(tVelocity,vUv).xy;gl_FragColor=vec4(vel+force*uNormalizedDelta,0.0,1.0);}",ple="varying vec2 vUv;varying vec2 vL;varying vec2 vR;varying vec2 vT;varying vec2 vB;uniform sampler2D tVelocity;uniform float uViscosity;void main(){float L=texture(tVelocity,vL).x;float R=texture(tVelocity,vR).x;float T=texture(tVelocity,vT).y;float B=texture(tVelocity,vB).y;vec2 C=texture(tVelocity,vUv).xy;if(vL.x<0.0){L=-C.x;}if(vR.x>1.0){R=-C.x;}if(vT.y>1.0){T=-C.y;}if(vB.y<0.0){B=-C.y;}float div=0.5*(R-L+T-B)*uViscosity;gl_FragColor=vec4(div,0.0,0.0,1.0);}",mle="varying vec2 vUv;uniform sampler2D tPressure;uniform float uClearValue;void main(){gl_FragColor=uClearValue*texture2D(tPressure,vUv);}",gle="varying vec2 vUv;varying vec2 vL;varying vec2 vR;varying vec2 vT;varying vec2 vB;uniform vec2 uTexelSize;uniform sampler2D tTexture;uniform sampler2D tPressure;uniform sampler2D tDivergence;vec2 boundary(vec2 uv){return uv;}void main(){float L=texture2D(tTexture,boundary(vL)).x;float R=texture2D(tTexture,boundary(vR)).x;float T=texture2D(tTexture,boundary(vT)).x;float B=texture2D(tTexture,boundary(vB)).x;float C=texture2D(tTexture,vUv).x;float divergence=texture2D(tDivergence,vUv).x;float pressure=(L+R+B+T-divergence)*0.25;gl_FragColor=vec4(pressure,0.0,0.0,1.0);}",bE="varying vec2 vUv;uniform vec2 uTexelSize;uniform sampler2D tTexture;uniform sampler2D tVelocity;uniform float uNormalizedDelta;uniform float uDelta;uniform float uDissipation;void main(){vec2 coord=vUv-uNormalizedDelta*texture2D(tTexture,vUv).xy*uTexelSize;vec4 result=texture2D(tVelocity,coord);float decay=1.0+uDissipation*uNormalizedDelta;gl_FragColor=result/decay;}",Ale="varying vec2 vUv;varying vec2 vL;varying vec2 vR;varying vec2 vT;varying vec2 vB;uniform vec2 uTexelSize;uniform vec2 uResolution;uniform sampler2D tPressure;uniform sampler2D tVelocity;vec2 boundary(vec2 uv){return uv;}void main(){vec2 halfrdx=0.5/uResolution;float L=texture2D(tPressure,boundary(vL)).x;float R=texture2D(tPressure,boundary(vR)).x;float T=texture2D(tPressure,boundary(vT)).x;float B=texture2D(tPressure,boundary(vB)).x;vec2 velocity=texture2D(tVelocity,vUv).xy;velocity.xy-=vec2(R-L,T-B);gl_FragColor=vec4(velocity,0.0,1.0);}",I4="varying vec2 vUv;varying vec2 vL;varying vec2 vR;varying vec2 vT;varying vec2 vB;uniform vec2 uTexelSize;void main(){vUv=uv;vL=vUv-vec2(uTexelSize.x,0.0);vR=vUv+vec2(uTexelSize.x,0.0);vT=vUv+vec2(0.0,uTexelSize.y);vB=vUv-vec2(0.0,uTexelSize.y);gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}";class Qr{constructor({fragmentShader:e,uniforms:t={},defines:i={},width:r=32,height:s=32,data:o=!1,count:a,filter:l,wrap:c,type:u,createTexture:f=!0,pingPong:h=!0,autoSwap:p=!0,autoClear:m=!1,transparent:g=!1,renderTargets:A=!1}){a?(this.width=Eae(a),this.height=this.width,this.count=a):(this.width=r,this.height=s,this.count=r*s),this.uniforms=t,this.defines=i,this.renderTargets={},A&&(this.renderTargets.a=A.a,this.renderTargets.b=A.b),this.texture=null,this.alternateTexture=null,this.createTexture=f,this.pingPong=h,this.autoSwap=p,this.transparent=g,this.autoClear=m,this.filter=l||Rr,this.wrap=c||ti,this.type=u||nn,this.type=u?u===Zt&&S.breakpoints.is("touch")&&!this.createTexture?nn:u:nn,this.scene=new Wa,this.camera=new EA,this.camera.position.z=1,this.buildRenderTargets(),this.buildPlane(e),this.createTexture&&this.buildoriginalTexture(o),this.setFboUv(),this.render()}buildoriginalTexture(e){const t=this.count*4,i=new Float32Array(this.width*this.height*4);if(e)for(let r=0;r<t;r+=4)i[r+0]=e[r+0],i[r+1]=e[r+1],i[r+2]=e[r+2],i[r+3]=e[r+3];else for(let r=0;r<t;r+=4)i[r+0]=0,i[r+1]=0,i[r+2]=0,i[r+3]=1;this.originalTexture=new Hd(i,this.width,this.height,hi,this.type),this.originalTexture.minFilter=this.filter,this.originalTexture.magFilter=this.filter,this.originalTexture.needsUpdate=!0,this.uniforms.tOriginalTexture.value=this.originalTexture,this.uniforms.tTexture.value=this.originalTexture,this.uniforms.tPrevTexture.value=this.originalTexture}buildRenderTargets(){this.renderTargets.a||(this.renderTargets.a=new ai(this.width,this.height,{minFilter:S.breakpoints.is("touch")?this.filter:Qx,magFilter:this.filter,wrapS:this.wrap,wrapT:this.wrap,generateMipmaps:!0,format:hi,type:this.type,depthBuffer:!1,stencilBuffer:!1})),this.renderTargets.write=this.renderTargets.a,this.pingPong&&(this.renderTargets.b||(this.renderTargets.b=this.renderTargets.a.clone()),this.renderTargets.read=this.renderTargets.b)}buildPlane(e){Object.assign(this.uniforms,{tOriginalTexture:{value:null},tTexture:{value:null},tPrevTexture:{value:null},uTime:S.WebGL.globalUniforms.uTime,uDelta:S.WebGL.globalUniforms.uDelta,uNormalizedDelta:S.WebGL.globalUniforms.uNormalizedDelta,uResolution:{value:new De(this.width,this.height)},uTexelSize:{value:new De(1/this.width,1/this.height)}}),Object.assign(this.defines,{}),this.plane=new Qe(new ao(2,2),new Cn({vertexShader:I4,fragmentShader:e,uniforms:this.uniforms,defines:this.defines,transparent:this.transparent})),this.material=this.plane.material,this.scene.add(this.plane)}setFboUv(){this.fboUv={},this.fboUv.data=new Float32Array(this.count*2);const e=1/this.width/2,t=1/this.height/2;for(let i=0;i<this.count;i++){const r=i%this.width/this.width+e,s=Math.floor(i/this.width)/this.height+t;this.fboUv.data[i*2+0]=r,this.fboUv.data[i*2+1]=s}this.fboUv.attribute=new Gi(this.fboUv.data,2),this.fboUv.attributeInstanced=new Do(this.fboUv.data,2)}render(){const e=S.WebGL.renderer.getRenderTarget();S.WebGL.renderer.setRenderTarget(this.renderTargets.write),S.WebGL.renderer.render(this.scene,this.camera),S.WebGL.renderer.setRenderTarget(e),this.pingPong&&this.autoSwap?this.swap():this.texture=this.renderTargets.write.texture}swap(){const e=this.renderTargets.write;this.uniforms.tPrevTexture.value=e.texture,this.renderTargets.write=this.renderTargets.read,this.renderTargets.read=e,this.texture=this.renderTargets.read.texture,this.alternateTexture=this.renderTargets.write.texture}update(e=!0){const t=S.WebGL.renderer.autoClear;S.WebGL.renderer.autoClear=this.autoClear,e&&(this.pingPong?this.uniforms.tTexture.value=this.renderTargets.read.texture:this.uniforms.tTexture.value=this.renderTargets.write.texture),this.render(),S.WebGL.renderer.autoClear=t}setSize(e,t){this.renderTargets.a.setSize(e,t),this.renderTargets.b&&this.renderTargets.b.setSize(e,t),this.uniforms.uResolution.value.set(e,t),this.uniforms.uTexelSize.value.set(1/e,1/t)}destroy(){this.renderTargets.a.dispose(),this.renderTargets.b&&this.renderTargets.b.dispose(),this.uniforms.tTexture.value&&this.uniforms.tTexture.value.dispose(),this.originalTexture&&this.originalTexture.dispose(),this.plane.geometry.dispose(),this.plane.material.dispose()}}class vle{constructor(e={}){pe(this,"onRaf",()=>{this.addForceSimMouse.uniforms.uScreenAspect.value=S.window.w/S.window.h,this.addForceSimVelocity.uniforms.uScreenAspect.value=S.window.w/S.window.h,this.curlSim.uniforms.tVelocity.value=this.advectionSimVelocity.texture,this.curlSim.update(!1),this.vorticitySim.uniforms.tVelocity.value=this.advectionSimVelocity.texture,this.vorticitySim.uniforms.tCurl.value=this.curlSim.texture,this.vorticitySim.update(!1),this.addForce(this.addForceSimMouse.uniforms,this.addForceSimVelocity.uniforms,this.options.fluid),this.addForceSimMouse.uniforms.tBase.value=this.advectionSimMouse.texture,this.addForceSimMouse.update(!1),this.addForceSimVelocity.uniforms.tBase.value=this.vorticitySim.texture,this.addForceSimVelocity.update(),this.divergenceSim.uniforms.tVelocity.value=this.addForceSimVelocity.texture,this.divergenceSim.update(),this.clearSim.uniforms.tPressure.value=this.pressureSim.texture,this.clearSim.update(),this.pressureSim.uniforms.tPressure.value=this.clearSim.texture,this.pressureSim.uniforms.tDivergence.value=this.divergenceSim.texture;for(let e=0;e<this.options.fluid.iterations;e++)this.pressureSim.update();this.gradientSubtractSim.uniforms.tPressure.value=this.pressureSim.texture,this.gradientSubtractSim.uniforms.tVelocity.value=this.addForceSimVelocity.texture,this.gradientSubtractSim.update(),this.advectionSimVelocity.uniforms.tVelocity.value=this.gradientSubtractSim.texture,this.advectionSimVelocity.update(),this.advectionSimMouse.uniforms.tVelocity.value=this.addForceSimMouse.texture,this.advectionSimMouse.update()});this.options=An({name:this.constructor.name,textureWidth:S.breakpoints.is("touch")?64:128,simulationOpts:{uniforms:{uMouseRadius:{value:.15,gui:{min:0,max:1,step:.01}},uPressure:{value:.998,gui:{min:.7,max:1,step:.001}},uCurlStrength:{value:.04,gui:{min:0,step:.01}},uDissipation:{value:.005,gui:{min:0,max:.1,step:1e-4}},uClearValue:{value:0,gui:{min:0,max:.99,step:.01}},uViscosity:{value:.2,gui:{min:0,max:.5,step:.001}}}},fluid:{force:20,iterations:3,forceClamp:100}},e),this.prevMouse=new De(-1,-1),this.pointerPos=new De(-1,-1),this.targetPointerPos=new De(-1,-1),this.isActive=!1,this.build(),this.addForce=this.addScreenSpaceMouseForce}build(){this.advectionSimVelocity=new Qr({fragmentShader:bE,uniforms:{tVelocity:{value:null},uDissipation:this.options.simulationOpts.uniforms.uDissipation},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1}),this.curlSim=new Qr({fragmentShader:dle,uniforms:{tVelocity:{value:this.advectionSimVelocity.texture}},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1,pingPong:!1}),this.vorticitySim=new Qr({fragmentShader:hle,uniforms:{tVelocity:{value:this.advectionSimVelocity.texture},tCurl:{value:this.curlSim.texture},uCurlStrength:this.options.simulationOpts.uniforms.uCurlStrength},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1,pingPong:!1}),this.divergenceSim=new Qr({fragmentShader:ple,uniforms:{tVelocity:{value:this.advectionSimVelocity.texture},uViscosity:this.options.simulationOpts.uniforms.uViscosity},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1,pingPong:!1}),this.clearSim=new Qr({fragmentShader:mle,uniforms:{tPressure:{value:null},uClearValue:this.options.simulationOpts.uniforms.uClearValue},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1,pingPong:!1}),this.pressureSim=new Qr({fragmentShader:gle,uniforms:{tPressure:{value:null},tDivergence:{value:this.divergenceSim.texture}},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1}),this.gradientSubtractSim=new Qr({fragmentShader:Ale,uniforms:{tPressure:{value:this.pressureSim.texture},tVelocity:{value:this.advectionSimVelocity.texture}},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1,pingPong:!1}),this.advectionSimMouse=new Qr({fragmentShader:bE,uniforms:{tVelocity:{value:this.advectionSimVelocity.texture},uDissipation:this.options.simulationOpts.uniforms.uDissipation},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1}),this.addForceSimMouse=new Qr({fragmentShader:_E,uniforms:{tBase:{value:this.advectionSimMouse.texture},uMouse:{value:new De(-1,-1)},uMouseStrength:{value:1},uPrevMouse:{value:new De(-1,-1)},uMouseVelocity:{value:new De},uForce:{value:new Z},uScreenAspect:{value:S.window.w/S.window.h},uMouseRadius:this.options.simulationOpts.uniforms.uMouseRadius,uPressure:this.options.simulationOpts.uniforms.uPressure},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1,pingPong:!1}),this.addForceSimVelocity=new Qr({fragmentShader:_E,uniforms:{tBase:{value:this.advectionSimVelocity.texture},uMouse:{value:new De(-1,-1)},uMouseStrength:{value:1},uPrevMouse:{value:new De(-1,-1)},uMouseVelocity:{value:new De},uForce:{value:new Z},uScreenAspect:{value:S.window.w/S.window.h},uMouseRadius:this.options.simulationOpts.uniforms.uMouseRadius,uPressure:this.options.simulationOpts.uniforms.uPressure},width:this.options.textureWidth,height:this.options.textureWidth,filter:Yt,type:Zt,wrap:ti,createTexture:!1,pingPong:!1})}addEvents(){this.isActive||(S.RAFCollection.add(this.onRaf,2),this.isActive=!0)}removeEvents(){this.isActive&&(S.RAFCollection.remove(this.onRaf),this.isActive=!1)}setAddForceFunction(e){this.addForce=e}addScreenSpaceMouseForce(){S.pointer.glScreenSpace.equals(this.targetPointerPos)||(this.targetPointerPos.copy(S.pointer.glScreenSpace),this.pointerPos.x===-1&&this.pointerPos.y===-1&&(this.pointerPos.copy(this.targetPointerPos),this.prevMouse.copy(this.pointerPos))),this.pointerPos.lerp(this.targetPointerPos,.2),this.addForceSimMouse.uniforms.uPrevMouse.value.copy(this.prevMouse),this.addForceSimVelocity.uniforms.uPrevMouse.value.copy(this.prevMouse),this.addForceSimVelocity.uniforms.uMouse.value.copy(this.pointerPos),this.addForceSimVelocity.uniforms.uForce.value.set((this.pointerPos.x-this.prevMouse.x)*this.options.fluid.force,(this.pointerPos.y-this.prevMouse.y)*this.options.fluid.force,0),this.options.fluid.forceClamp&&this.addForceSimVelocity.uniforms.uForce.value.clampScalar(-this.options.fluid.forceClamp,this.options.fluid.forceClamp),this.addForceSimVelocity.uniforms.uMouseVelocity.value.set((this.addForceSimVelocity.uniforms.uMouse.value.x-this.addForceSimVelocity.uniforms.uPrevMouse.value.x)/16,(this.addForceSimVelocity.uniforms.uMouse.value.y-this.addForceSimVelocity.uniforms.uPrevMouse.value.y)/16),this.addForceSimMouse.uniforms.uMouse.value.copy(this.addForceSimVelocity.uniforms.uMouse.value),this.addForceSimMouse.uniforms.uMouseVelocity.value.copy(this.addForceSimVelocity.uniforms.uMouseVelocity.value),this.addForceSimMouse.uniforms.uForce.value.set(1,1,1),this.prevMouse.copy(this.pointerPos)}destroy(){this.removeEvents(),this.advectionSimVelocity.destroy(),this.curlSim.destroy(),this.vorticitySim.destroy(),this.divergenceSim.destroy(),this.clearSim.destroy(),this.pressureSim.destroy(),this.gradientSubtractSim.destroy(),this.addForceSimMouse.destroy(),this.addForceSimVelocity.destroy()}addGui(){S.guiReady.then(()=>{const e=S.Gui.addFolder({title:"Fluid Sim",expanded:!1});S.Gui.autoAddUniforms(e,this.options.simulationOpts.uniforms,["uForce"]),e.addBinding(this.options.fluid,"force",{label:"force"}),e.addBinding(this.options.fluid,"forceClamp",{label:"forceClamp"})})}}var yle="varying vec2 vUv;void main(){vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);}",_le=`varying vec2 vUv;uniform sampler2D tFromScene;uniform sampler2D tToScene;uniform sampler2D tNoise;uniform float uProgress;uniform vec2 uNoise1Scale;uniform vec2 uNoise2Scale;uniform vec2 uNoise1Offset;uniform float uUvDistortion;uniform float uAdditionalUvDistortion;uniform float uChromaticAberrationStrength;uniform float uCrossfadeSize;uniform float uCrossfadeNoise;uniform vec2 uResolution;uniform float uTime;float random(vec2 p){vec3 p3=fract(vec3(p.xyx)*443.8975);p3+=dot(p3,p3.yzx+19.19);return fract((p3.x+p3.y)*p3.z);}vec2 barrelPincushion(vec2 uv,float strength){vec2 st=uv-0.5;float theta=atan(st.x,st.y);float radius=sqrt(dot(st,st));radius*=1.0+strength*(radius*radius);return 0.5+radius*vec2(sin(theta),cos(theta));}void main(){vec2 distortedUv=barrelPincushion(vUv,3.);vec2 distortedUvFlipped=barrelPincushion(vUv,-0.5);float aspect=uResolution.x/uResolution.y;float smallNoise=random(vUv)*2.-1.;vec2 noise=texture2D(tNoise,vUv*uNoise1Scale+uNoise1Offset).rg*2.-1.;float noise2=texture2D(tNoise,vUv*uNoise2Scale+noise+vec2(0.,uTime*0.01)).r*2.-1.;distortedUvFlipped+=noise2*uUvDistortion;float chromaticAberration=uChromaticAberrationStrength+smallNoise*0.003;float topThreshold=0.3+noise2*uAdditionalUvDistortion;float bottomThreshold=0.;float fromFade=1.-smoothstep(uProgress-topThreshold,uProgress-bottomThreshold,distortedUv.y);fromFade+=1.-smoothstep(uProgress+bottomThreshold,uProgress+topThreshold,distortedUv.y);fromFade=clamp(fromFade,0.,1.);vec2 redOffsetFrom=mix(vUv,distortedUvFlipped,fromFade);vec2 greenOffsetFrom=mix(vUv,distortedUvFlipped+vec2(chromaticAberration,0.0),fromFade);vec2 blueOffsetFrom=mix(vUv,distortedUvFlipped-vec2(chromaticAberration,0.0),fromFade);float redChannel=texture2D(tFromScene,redOffsetFrom).r;float greenChannel=texture2D(tFromScene,greenOffsetFrom).g;float blueChannel=texture2D(tFromScene,blueOffsetFrom).b;vec4 fromScene=vec4(redChannel,greenChannel,blueChannel,1.0);fromScene.rgb+=fromScene.rgb*0.5*fromFade;float toFade=1.-smoothstep(uProgress+topThreshold,uProgress+bottomThreshold,distortedUv.y);toFade+=1.-smoothstep(uProgress-bottomThreshold,uProgress-topThreshold,distortedUv.y);toFade=clamp(toFade,0.,1.);vec2 redOffsetTo=mix(vUv,distortedUvFlipped,toFade);vec2 greenOffsetTo=mix(vUv,distortedUvFlipped+vec2(chromaticAberration,0.0),toFade);vec2 blueOffsetTo=mix(vUv,distortedUvFlipped-vec2(chromaticAberration,0.0),toFade);float redChannelTo=texture2D(tToScene,redOffsetTo).r;float greenChannelTo=texture2D(tToScene,greenOffsetTo).g;float blueChannelTo=texture2D(tToScene,blueOffsetTo).b;vec4 toScene=vec4(redChannelTo,greenChannelTo,blueChannelTo,1.0);toScene.rgb+=toScene.rgb*0.5*toFade;float combineFade=1.-smoothstep(uProgress-uCrossfadeSize-noise2*uCrossfadeNoise,uProgress+uCrossfadeSize+noise2*uCrossfadeNoise,distortedUv.y+noise2*0.3);vec4 outputColor=mix(fromScene,toScene,combineFade);gl_FragColor=outputColor;
#include <colorspace_fragment>
}`;class Nh{constructor(e={}){this.options=Object.assign({materialOpts:{},start:"bottom top+=100%",end:"bottom top-=75%",ease:"none"},e)}build(){this.fromScene=S.WebGL.scenes[`${this.options.fromScene}`],this.toScene=S.WebGL.scenes[`${this.options.toScene}`],this.transitionPass=new np(new is(An({vertexShader:yle,fragmentShader:_le,name:this.constructor.name,uniforms:{tFromScene:{value:this.fromScene.savePass.renderTarget.texture},tToScene:{value:this.toScene.savePass.renderTarget.texture},tNoise:{value:S.WebGL.assets.textures.noise},uProgress:{value:0},...S.WebGL.globalTransitionUniforms}},this.options.materialOpts))),this.transitionPass.name=`${this.options.fromScene} <-> ${this.options.toScene} Transition`,this.transitionPass.enabled=!1,S.WebGL.composerPasses.add(this.transitionPass,S.WebGL.composerPassOrder.transitions),this.buildTimeline()}buildTimeline(){this.timeline=dr.fromTo(this.transitionPass.material.uniforms.uProgress,{value:-.9},{value:1.9,duration:1,ease:this.options.ease,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.fromScene.options.domId}"]`,start:this.options.start,end:this.options.end,scrub:!0,onEnter:()=>{this.toScene.start(),this.enable()},onLeave:()=>{requestAnimationFrame(()=>{this.fromScene.stop(),this.disable()})},onLeaveBack:()=>{requestAnimationFrame(()=>{this.toScene.stop(),this.disable()})},onEnterBack:()=>{this.fromScene.start(),this.enable()}}})}enable(){this.fromScene.savePass.enabled=!0,this.toScene.savePass.enabled=!0,this.transitionPass.enabled=!0}disable(){this.fromScene.savePass.enabled=!1,this.toScene.savePass.enabled=!1,this.transitionPass.enabled=!1}killTimeline(){this.timeline.kill()}destroy(){}}var sy={},oy={},ay={},xE;function qP(){return xE||(xE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){if(t=`${t}`,t==="0")return"0";if(/^[+-]?(\d+|\d*\.\d+)(e[+-]?\d+)?(%|\w+)?$/.test(t))return t.replace(/^[+-]?/,r=>r==="-"?"":"-");let i=["var","calc","min","max","clamp"];for(const r of i)if(t.includes(`${r}(`))return`calc(${t} * -1)`}}(ay)),ay}var ly={},CE;function ble(){return CE||(CE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});const e=["preflight","container","accessibility","pointerEvents","visibility","position","inset","isolation","zIndex","order","gridColumn","gridColumnStart","gridColumnEnd","gridRow","gridRowStart","gridRowEnd","float","clear","margin","boxSizing","lineClamp","display","aspectRatio","size","height","maxHeight","minHeight","width","minWidth","maxWidth","flex","flexShrink","flexGrow","flexBasis","tableLayout","captionSide","borderCollapse","borderSpacing","transformOrigin","translate","rotate","skew","scale","transform","animation","cursor","touchAction","userSelect","resize","scrollSnapType","scrollSnapAlign","scrollSnapStop","scrollMargin","scrollPadding","listStylePosition","listStyleType","listStyleImage","appearance","columns","breakBefore","breakInside","breakAfter","gridAutoColumns","gridAutoFlow","gridAutoRows","gridTemplateColumns","gridTemplateRows","flexDirection","flexWrap","placeContent","placeItems","alignContent","alignItems","justifyContent","justifyItems","gap","space","divideWidth","divideStyle","divideColor","divideOpacity","placeSelf","alignSelf","justifySelf","overflow","overscrollBehavior","scrollBehavior","textOverflow","hyphens","whitespace","textWrap","wordBreak","borderRadius","borderWidth","borderStyle","borderColor","borderOpacity","backgroundColor","backgroundOpacity","backgroundImage","gradientColorStops","boxDecorationBreak","backgroundSize","backgroundAttachment","backgroundClip","backgroundPosition","backgroundRepeat","backgroundOrigin","fill","stroke","strokeWidth","objectFit","objectPosition","padding","textAlign","textIndent","verticalAlign","fontFamily","fontSize","fontWeight","textTransform","fontStyle","fontVariantNumeric","lineHeight","letterSpacing","textColor","textOpacity","textDecoration","textDecorationColor","textDecorationStyle","textDecorationThickness","textUnderlineOffset","fontSmoothing","placeholderColor","placeholderOpacity","caretColor","accentColor","opacity","backgroundBlendMode","mixBlendMode","boxShadow","boxShadowColor","outlineStyle","outlineWidth","outlineOffset","outlineColor","ringWidth","ringColor","ringOpacity","ringOffsetWidth","ringOffsetColor","blur","brightness","contrast","dropShadow","grayscale","hueRotate","invert","saturate","sepia","filter","backdropBlur","backdropBrightness","backdropContrast","backdropGrayscale","backdropHueRotate","backdropInvert","backdropOpacity","backdropSaturate","backdropSepia","backdropFilter","transitionProperty","transitionDelay","transitionDuration","transitionTimingFunction","willChange","contain","content","forcedColorAdjust"]}(ly)),ly}var cy={},SE;function xle(){return SE||(SE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t,i){return t===void 0?i:Array.isArray(t)?t:[...new Set(i.filter(s=>t!==!1&&t[s]!==!1).concat(Object.keys(t).filter(s=>t[s]!==!1)))]}}(cy)),cy}var uy={},fy={},Pm={exports:{}},wE;function XP(){if(wE)return Pm.exports;wE=1;var n=String,e=function(){return{isColorSupported:!1,reset:n,bold:n,dim:n,italic:n,underline:n,inverse:n,hidden:n,strikethrough:n,black:n,red:n,green:n,yellow:n,blue:n,magenta:n,cyan:n,white:n,gray:n,bgBlack:n,bgRed:n,bgGreen:n,bgYellow:n,bgBlue:n,bgMagenta:n,bgCyan:n,bgWhite:n,blackBright:n,redBright:n,greenBright:n,yellowBright:n,blueBright:n,magentaBright:n,cyanBright:n,whiteBright:n,bgBlackBright:n,bgRedBright:n,bgGreenBright:n,bgYellowBright:n,bgBlueBright:n,bgMagentaBright:n,bgCyanBright:n,bgWhiteBright:n}};return Pm.exports=e(),Pm.exports.createColors=e,Pm.exports}var EE;function D4(){return EE||(EE=1,function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0});function t(c,u){for(var f in u)Object.defineProperty(c,f,{enumerable:!0,get:u[f]})}t(n,{dim:function(){return a},default:function(){return l}});const i=r(XP());function r(c){return c&&c.__esModule?c:{default:c}}let s=new Set;function o(c,u,f){typeof process<"u"&&e.JEST_WORKER_ID||f&&s.has(f)||(f&&s.add(f),console.warn(""),u.forEach(h=>console.warn(c,"-",h)))}function a(c){return i.default.dim(c)}const l={info(c,u){o(i.default.bold(i.default.cyan("info")),...Array.isArray(c)?[c]:[u,c])},warn(c,u){o(i.default.bold(i.default.yellow("warn")),...Array.isArray(c)?[c]:[u,c])},risk(c,u){o(i.default.bold(i.default.magenta("risk")),...Array.isArray(c)?[c]:[u,c])}}}(fy)),fy}var TE;function Cle(){return TE||(TE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});const e=t(D4());function t(s){return s&&s.__esModule?s:{default:s}}function i({version:s,from:o,to:a}){e.default.warn(`${o}-color-renamed`,[`As of Tailwind CSS ${s}, \`${o}\` has been renamed to \`${a}\`.`,"Update your configuration file to silence this warning."])}const r={inherit:"inherit",current:"currentColor",transparent:"transparent",black:"#000",white:"#fff",slate:{50:"#f8fafc",100:"#f1f5f9",200:"#e2e8f0",300:"#cbd5e1",400:"#94a3b8",500:"#64748b",600:"#475569",700:"#334155",800:"#1e293b",900:"#0f172a",950:"#020617"},gray:{50:"#f9fafb",100:"#f3f4f6",200:"#e5e7eb",300:"#d1d5db",400:"#9ca3af",500:"#6b7280",600:"#4b5563",700:"#374151",800:"#1f2937",900:"#111827",950:"#030712"},zinc:{50:"#fafafa",100:"#f4f4f5",200:"#e4e4e7",300:"#d4d4d8",400:"#a1a1aa",500:"#71717a",600:"#52525b",700:"#3f3f46",800:"#27272a",900:"#18181b",950:"#09090b"},neutral:{50:"#fafafa",100:"#f5f5f5",200:"#e5e5e5",300:"#d4d4d4",400:"#a3a3a3",500:"#737373",600:"#525252",700:"#404040",800:"#262626",900:"#171717",950:"#0a0a0a"},stone:{50:"#fafaf9",100:"#f5f5f4",200:"#e7e5e4",300:"#d6d3d1",400:"#a8a29e",500:"#78716c",600:"#57534e",700:"#44403c",800:"#292524",900:"#1c1917",950:"#0c0a09"},red:{50:"#fef2f2",100:"#fee2e2",200:"#fecaca",300:"#fca5a5",400:"#f87171",500:"#ef4444",600:"#dc2626",700:"#b91c1c",800:"#991b1b",900:"#7f1d1d",950:"#450a0a"},orange:{50:"#fff7ed",100:"#ffedd5",200:"#fed7aa",300:"#fdba74",400:"#fb923c",500:"#f97316",600:"#ea580c",700:"#c2410c",800:"#9a3412",900:"#7c2d12",950:"#431407"},amber:{50:"#fffbeb",100:"#fef3c7",200:"#fde68a",300:"#fcd34d",400:"#fbbf24",500:"#f59e0b",600:"#d97706",700:"#b45309",800:"#92400e",900:"#78350f",950:"#451a03"},yellow:{50:"#fefce8",100:"#fef9c3",200:"#fef08a",300:"#fde047",400:"#facc15",500:"#eab308",600:"#ca8a04",700:"#a16207",800:"#854d0e",900:"#713f12",950:"#422006"},lime:{50:"#f7fee7",100:"#ecfccb",200:"#d9f99d",300:"#bef264",400:"#a3e635",500:"#84cc16",600:"#65a30d",700:"#4d7c0f",800:"#3f6212",900:"#365314",950:"#1a2e05"},green:{50:"#f0fdf4",100:"#dcfce7",200:"#bbf7d0",300:"#86efac",400:"#4ade80",500:"#22c55e",600:"#16a34a",700:"#15803d",800:"#166534",900:"#14532d",950:"#052e16"},emerald:{50:"#ecfdf5",100:"#d1fae5",200:"#a7f3d0",300:"#6ee7b7",400:"#34d399",500:"#10b981",600:"#059669",700:"#047857",800:"#065f46",900:"#064e3b",950:"#022c22"},teal:{50:"#f0fdfa",100:"#ccfbf1",200:"#99f6e4",300:"#5eead4",400:"#2dd4bf",500:"#14b8a6",600:"#0d9488",700:"#0f766e",800:"#115e59",900:"#134e4a",950:"#042f2e"},cyan:{50:"#ecfeff",100:"#cffafe",200:"#a5f3fc",300:"#67e8f9",400:"#22d3ee",500:"#06b6d4",600:"#0891b2",700:"#0e7490",800:"#155e75",900:"#164e63",950:"#083344"},sky:{50:"#f0f9ff",100:"#e0f2fe",200:"#bae6fd",300:"#7dd3fc",400:"#38bdf8",500:"#0ea5e9",600:"#0284c7",700:"#0369a1",800:"#075985",900:"#0c4a6e",950:"#082f49"},blue:{50:"#eff6ff",100:"#dbeafe",200:"#bfdbfe",300:"#93c5fd",400:"#60a5fa",500:"#3b82f6",600:"#2563eb",700:"#1d4ed8",800:"#1e40af",900:"#1e3a8a",950:"#172554"},indigo:{50:"#eef2ff",100:"#e0e7ff",200:"#c7d2fe",300:"#a5b4fc",400:"#818cf8",500:"#6366f1",600:"#4f46e5",700:"#4338ca",800:"#3730a3",900:"#312e81",950:"#1e1b4b"},violet:{50:"#f5f3ff",100:"#ede9fe",200:"#ddd6fe",300:"#c4b5fd",400:"#a78bfa",500:"#8b5cf6",600:"#7c3aed",700:"#6d28d9",800:"#5b21b6",900:"#4c1d95",950:"#2e1065"},purple:{50:"#faf5ff",100:"#f3e8ff",200:"#e9d5ff",300:"#d8b4fe",400:"#c084fc",500:"#a855f7",600:"#9333ea",700:"#7e22ce",800:"#6b21a8",900:"#581c87",950:"#3b0764"},fuchsia:{50:"#fdf4ff",100:"#fae8ff",200:"#f5d0fe",300:"#f0abfc",400:"#e879f9",500:"#d946ef",600:"#c026d3",700:"#a21caf",800:"#86198f",900:"#701a75",950:"#4a044e"},pink:{50:"#fdf2f8",100:"#fce7f3",200:"#fbcfe8",300:"#f9a8d4",400:"#f472b6",500:"#ec4899",600:"#db2777",700:"#be185d",800:"#9d174d",900:"#831843",950:"#500724"},rose:{50:"#fff1f2",100:"#ffe4e6",200:"#fecdd3",300:"#fda4af",400:"#fb7185",500:"#f43f5e",600:"#e11d48",700:"#be123c",800:"#9f1239",900:"#881337",950:"#4c0519"},get lightBlue(){return i({version:"v2.2",from:"lightBlue",to:"sky"}),this.sky},get warmGray(){return i({version:"v3.0",from:"warmGray",to:"stone"}),this.stone},get trueGray(){return i({version:"v3.0",from:"trueGray",to:"neutral"}),this.neutral},get coolGray(){return i({version:"v3.0",from:"coolGray",to:"gray"}),this.gray},get blueGray(){return i({version:"v3.0",from:"blueGray",to:"slate"}),this.slate}}}(uy)),uy}var dy={},ME;function Sle(){return ME||(ME=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"defaults",{enumerable:!0,get:function(){return e}});function e(t,...i){for(let o of i){for(let a in o){var r;!(t==null||(r=t.hasOwnProperty)===null||r===void 0)&&r.call(t,a)||(t[a]=o[a])}for(let a of Object.getOwnPropertySymbols(o)){var s;!(t==null||(s=t.hasOwnProperty)===null||s===void 0)&&s.call(t,a)||(t[a]=o[a])}}return t}}(dy)),dy}var hy={},IE;function wle(){return IE||(IE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"toPath",{enumerable:!0,get:function(){return e}});function e(t){if(Array.isArray(t))return t;let i=t.split("[").length-1,r=t.split("]").length-1;if(i!==r)throw new Error(`Path is invalid. Has unbalanced brackets: ${t}`);return t.split(/\.(?![^\[]*\])|[\[\]]/g).filter(Boolean)}}(hy)),hy}var py={},my={},DE;function P4(){return DE||(DE=1,function(n){var e={};Object.defineProperty(n,"__esModule",{value:!0});function t(h,p){for(var m in p)Object.defineProperty(h,m,{enumerable:!0,get:p[m]})}t(n,{flagEnabled:function(){return l},issueFlagNotices:function(){return u},default:function(){return f}});const i=s(XP()),r=s(D4());function s(h){return h&&h.__esModule?h:{default:h}}let o={optimizeUniversalDefaults:!1,generalizedModifiers:!0,disableColorOpacityUtilitiesByDefault:!1,relativeContentPathsByDefault:!1},a={future:["hoverOnlyWhenSupported","respectDefaultRingColorOpacity","disableColorOpacityUtilitiesByDefault","relativeContentPathsByDefault"],experimental:["optimizeUniversalDefaults","generalizedModifiers"]};function l(h,p){if(a.future.includes(p)){var m,g,A;return h.future==="all"||((A=(g=h==null||(m=h.future)===null||m===void 0?void 0:m[p])!==null&&g!==void 0?g:o[p])!==null&&A!==void 0?A:!1)}if(a.experimental.includes(p)){var y,x,b;return h.experimental==="all"||((b=(x=h==null||(y=h.experimental)===null||y===void 0?void 0:y[p])!==null&&x!==void 0?x:o[p])!==null&&b!==void 0?b:!1)}return!1}function c(h){if(h.experimental==="all")return a.experimental;var p;return Object.keys((p=h==null?void 0:h.experimental)!==null&&p!==void 0?p:{}).filter(m=>a.experimental.includes(m)&&h.experimental[m])}function u(h){if(e.JEST_WORKER_ID===void 0&&c(h).length>0){let p=c(h).map(m=>i.default.yellow(m)).join(", ");r.default.warn("experimental-flags-enabled",[`You have enabled experimental features: ${p}`,"Experimental features in Tailwind CSS are not covered by semver, may introduce breaking changes, and can change at any time."])}}const f=a}(my)),my}var PE;function Ele(){return PE||(PE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"normalizeConfig",{enumerable:!0,get:function(){return s}});const e=P4(),t=r(D4());function i(o){if(typeof WeakMap!="function")return null;var a=new WeakMap,l=new WeakMap;return(i=function(c){return c?l:a})(o)}function r(o,a){if(o&&o.__esModule)return o;if(o===null||typeof o!="object"&&typeof o!="function")return{default:o};var l=i(a);if(l&&l.has(o))return l.get(o);var c={},u=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in o)if(f!=="default"&&Object.prototype.hasOwnProperty.call(o,f)){var h=u?Object.getOwnPropertyDescriptor(o,f):null;h&&(h.get||h.set)?Object.defineProperty(c,f,h):c[f]=o[f]}return c.default=o,l&&l.set(o,c),c}function s(o){if((()=>{if(o.purge||!o.content||!Array.isArray(o.content)&&!(typeof o.content=="object"&&o.content!==null))return!1;if(Array.isArray(o.content))return o.content.every(c=>typeof c=="string"?!0:!(typeof(c==null?void 0:c.raw)!="string"||c!=null&&c.extension&&typeof(c==null?void 0:c.extension)!="string"));if(typeof o.content=="object"&&o.content!==null){if(Object.keys(o.content).some(c=>!["files","relative","extract","transform"].includes(c)))return!1;if(Array.isArray(o.content.files)){if(!o.content.files.every(c=>typeof c=="string"?!0:!(typeof(c==null?void 0:c.raw)!="string"||c!=null&&c.extension&&typeof(c==null?void 0:c.extension)!="string")))return!1;if(typeof o.content.extract=="object"){for(let c of Object.values(o.content.extract))if(typeof c!="function")return!1}else if(!(o.content.extract===void 0||typeof o.content.extract=="function"))return!1;if(typeof o.content.transform=="object"){for(let c of Object.values(o.content.transform))if(typeof c!="function")return!1}else if(!(o.content.transform===void 0||typeof o.content.transform=="function"))return!1;if(typeof o.content.relative!="boolean"&&typeof o.content.relative<"u")return!1}return!0}return!1})()||t.default.warn("purge-deprecation",["The `purge`/`content` options have changed in Tailwind CSS v3.0.","Update your configuration file to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#configure-content-sources"]),o.safelist=(()=>{var c;let{content:u,purge:f,safelist:h}=o;return Array.isArray(h)?h:Array.isArray(u==null?void 0:u.safelist)?u.safelist:Array.isArray(f==null?void 0:f.safelist)?f.safelist:Array.isArray(f==null||(c=f.options)===null||c===void 0?void 0:c.safelist)?f.options.safelist:[]})(),o.blocklist=(()=>{let{blocklist:c}=o;if(Array.isArray(c)){if(c.every(u=>typeof u=="string"))return c;t.default.warn("blocklist-invalid",["The `blocklist` option must be an array of strings.","https://tailwindcss.com/docs/content-configuration#discarding-classes"])}return[]})(),typeof o.prefix=="function")t.default.warn("prefix-function",["As of Tailwind CSS v3.0, `prefix` cannot be a function.","Update `prefix` in your configuration to be a string to eliminate this warning.","https://tailwindcss.com/docs/upgrade-guide#prefix-cannot-be-a-function"]),o.prefix="";else{var l;o.prefix=(l=o.prefix)!==null&&l!==void 0?l:""}o.content={relative:(()=>{let{content:c}=o;return c!=null&&c.relative?c.relative:(0,e.flagEnabled)(o,"relativeContentPathsByDefault")})(),files:(()=>{let{content:c,purge:u}=o;return Array.isArray(u)?u:Array.isArray(u==null?void 0:u.content)?u.content:Array.isArray(c)?c:Array.isArray(c==null?void 0:c.content)?c.content:Array.isArray(c==null?void 0:c.files)?c.files:[]})(),extract:(()=>{let c=(()=>{var h,p,m,g,A,y,x,b,_,T;return!((h=o.purge)===null||h===void 0)&&h.extract?o.purge.extract:!((p=o.content)===null||p===void 0)&&p.extract?o.content.extract:!((m=o.purge)===null||m===void 0||(g=m.extract)===null||g===void 0)&&g.DEFAULT?o.purge.extract.DEFAULT:!((A=o.content)===null||A===void 0||(y=A.extract)===null||y===void 0)&&y.DEFAULT?o.content.extract.DEFAULT:!((x=o.purge)===null||x===void 0||(b=x.options)===null||b===void 0)&&b.extractors?o.purge.options.extractors:!((_=o.content)===null||_===void 0||(T=_.options)===null||T===void 0)&&T.extractors?o.content.options.extractors:{}})(),u={},f=(()=>{var h,p,m,g;if(!((h=o.purge)===null||h===void 0||(p=h.options)===null||p===void 0)&&p.defaultExtractor)return o.purge.options.defaultExtractor;if(!((m=o.content)===null||m===void 0||(g=m.options)===null||g===void 0)&&g.defaultExtractor)return o.content.options.defaultExtractor})();if(f!==void 0&&(u.DEFAULT=f),typeof c=="function")u.DEFAULT=c;else if(Array.isArray(c))for(let{extensions:h,extractor:p}of c??[])for(let m of h)u[m]=p;else typeof c=="object"&&c!==null&&Object.assign(u,c);return u})(),transform:(()=>{let c=(()=>{var f,h,p,m,g,A;return!((f=o.purge)===null||f===void 0)&&f.transform?o.purge.transform:!((h=o.content)===null||h===void 0)&&h.transform?o.content.transform:!((p=o.purge)===null||p===void 0||(m=p.transform)===null||m===void 0)&&m.DEFAULT?o.purge.transform.DEFAULT:!((g=o.content)===null||g===void 0||(A=g.transform)===null||A===void 0)&&A.DEFAULT?o.content.transform.DEFAULT:{}})(),u={};return typeof c=="function"?u.DEFAULT=c:typeof c=="object"&&c!==null&&Object.assign(u,c),u})()};for(let c of o.content.files)if(typeof c=="string"&&/{([^,]*?)}/g.test(c)){t.default.warn("invalid-glob-braces",[`The glob pattern ${(0,t.dim)(c)} in your Tailwind CSS configuration is invalid.`,`Update it to ${(0,t.dim)(c.replace(/{([^,]*?)}/g,"$1"))} to silence this warning.`]);break}return o}}(py)),py}var gy={},RE;function Tle(){return RE||(RE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;const i=Object.getPrototypeOf(t);return i===null||Object.getPrototypeOf(i)===null}}(gy)),gy}var Ay={},BE;function Mle(){return BE||(BE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"cloneDeep",{enumerable:!0,get:function(){return e}});function e(t){return Array.isArray(t)?t.map(i=>e(i)):typeof t=="object"&&t!==null?Object.fromEntries(Object.entries(t).map(([i,r])=>[i,e(r)])):t}}(Ay)),Ay}var vy={},yy={},LE;function Ile(){return LE||(LE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){return t.replace(/\\,/g,"\\2c ")}}(yy)),yy}var _y={},by={},xy={},FE;function Dle(){return FE||(FE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});const e={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}}(xy)),xy}var OE;function YP(){return OE||(OE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(m,g){for(var A in g)Object.defineProperty(m,A,{enumerable:!0,get:g[A]})}e(n,{parseColor:function(){return h},formatColor:function(){return p}});const t=i(Dle());function i(m){return m&&m.__esModule?m:{default:m}}let r=/^#([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})?$/i,s=/^#([a-f\d])([a-f\d])([a-f\d])([a-f\d])?$/i,o=/(?:\d+|\d*\.\d+)%?/,a=/(?:\s*,\s*|\s+)/,l=/\s*[,/]\s*/,c=/var\(--(?:[^ )]*?)(?:,(?:[^ )]*?|var\(--[^ )]*?\)))?\)/,u=new RegExp(`^(rgba?)\\(\\s*(${o.source}|${c.source})(?:${a.source}(${o.source}|${c.source}))?(?:${a.source}(${o.source}|${c.source}))?(?:${l.source}(${o.source}|${c.source}))?\\s*\\)$`),f=new RegExp(`^(hsla?)\\(\\s*((?:${o.source})(?:deg|rad|grad|turn)?|${c.source})(?:${a.source}(${o.source}|${c.source}))?(?:${a.source}(${o.source}|${c.source}))?(?:${l.source}(${o.source}|${c.source}))?\\s*\\)$`);function h(m,{loose:g=!1}={}){var A,y;if(typeof m!="string")return null;if(m=m.trim(),m==="transparent")return{mode:"rgb",color:["0","0","0"],alpha:"0"};if(m in t.default)return{mode:"rgb",color:t.default[m].map(M=>M.toString())};let x=m.replace(s,(M,I,P,w,E)=>["#",I,I,P,P,w,w,E?E+E:""].join("")).match(r);if(x!==null)return{mode:"rgb",color:[parseInt(x[1],16),parseInt(x[2],16),parseInt(x[3],16)].map(M=>M.toString()),alpha:x[4]?(parseInt(x[4],16)/255).toString():void 0};var b;let _=(b=m.match(u))!==null&&b!==void 0?b:m.match(f);if(_===null)return null;let T=[_[2],_[3],_[4]].filter(Boolean).map(M=>M.toString());return T.length===2&&T[0].startsWith("var(")?{mode:_[1],color:[T[0]],alpha:T[1]}:!g&&T.length!==3||T.length<3&&!T.some(M=>/^var\(.*?\)$/.test(M))?null:{mode:_[1],color:T,alpha:(A=_[5])===null||A===void 0||(y=A.toString)===null||y===void 0?void 0:y.call(A)}}function p({mode:m,color:g,alpha:A}){let y=A!==void 0;return m==="rgba"||m==="hsla"?`${m}(${g.join(", ")}${y?`, ${A}`:""})`:`${m}(${g.join(" ")}${y?` / ${A}`:""})`}}(by)),by}var UE;function $P(){return UE||(UE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(s,o){for(var a in o)Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}e(n,{withAlphaValue:function(){return i},default:function(){return r}});const t=YP();function i(s,o,a){if(typeof s=="function")return s({opacityValue:o});let l=(0,t.parseColor)(s,{loose:!0});return l===null?a:(0,t.formatColor)({...l,alpha:o})}function r({color:s,property:o,variable:a}){let l=[].concat(o);if(typeof s=="function")return{[a]:"1",...Object.fromEntries(l.map(u=>[u,s({opacityVariable:a,opacityValue:`var(${a}, 1)`})]))};const c=(0,t.parseColor)(s);return c===null?Object.fromEntries(l.map(u=>[u,s])):c.alpha!==void 0?Object.fromEntries(l.map(u=>[u,s])):{[a]:"1",...Object.fromEntries(l.map(u=>[u,(0,t.formatColor)({...c,alpha:`var(${a}, 1)`})]))}}}(_y)),_y}var Cy={},Sy={},wy={},NE;function R4(){return NE||(NE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"splitAtTopLevelOnly",{enumerable:!0,get:function(){return e}});function e(t,i){let r=[],s=[],o=0,a=!1;for(let l=0;l<t.length;l++){let c=t[l];r.length===0&&c===i[0]&&!a&&(i.length===1||t.slice(l,l+i.length)===i)&&(s.push(t.slice(o,l)),o=l+i.length),a=a?!1:c==="\\",c==="("||c==="["||c==="{"?r.push(c):(c===")"&&r[r.length-1]==="("||c==="]"&&r[r.length-1]==="["||c==="}"&&r[r.length-1]==="{")&&r.pop()}return s.push(t.slice(o)),s}}(wy)),wy}var kE;function Ple(){return kE||(kE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(l,c){for(var u in c)Object.defineProperty(l,u,{enumerable:!0,get:c[u]})}e(n,{parseBoxShadowValue:function(){return o},formatBoxShadowValue:function(){return a}});const t=R4();let i=new Set(["inset","inherit","initial","revert","unset"]),r=/\ +(?![^(]*\))/g,s=/^-?(\d+|\.\d+)(.*?)$/g;function o(l){return(0,t.splitAtTopLevelOnly)(l,",").map(u=>{let f=u.trim(),h={raw:f},p=f.split(r),m=new Set;for(let g of p)s.lastIndex=0,!m.has("KEYWORD")&&i.has(g)?(h.keyword=g,m.add("KEYWORD")):s.test(g)?m.has("X")?m.has("Y")?m.has("BLUR")?m.has("SPREAD")||(h.spread=g,m.add("SPREAD")):(h.blur=g,m.add("BLUR")):(h.y=g,m.add("Y")):(h.x=g,m.add("X")):h.color?(h.unknown||(h.unknown=[]),h.unknown.push(g)):h.color=g;return h.valid=h.x!==void 0&&h.y!==void 0,h})}function a(l){return l.map(c=>c.valid?[c.keyword,c.x,c.y,c.blur,c.spread,c.color].filter(Boolean).join(" "):c.raw).join(", ")}}(Sy)),Sy}var zE;function KP(){return zE||(zE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(G,j){for(var Y in j)Object.defineProperty(G,Y,{enumerable:!0,get:j[Y]})}e(n,{normalize:function(){return l},normalizeAttributeSelectors:function(){return c},url:function(){return f},number:function(){return h},percentage:function(){return p},length:function(){return A},lineWidth:function(){return x},shadow:function(){return b},color:function(){return _},image:function(){return T},gradient:function(){return I},position:function(){return w},familyName:function(){return E},genericName:function(){return F},absoluteSize:function(){return z},relativeSize:function(){return U}});const t=YP(),i=Ple(),r=R4();let s=["min","max","clamp","calc"];function o(G){return s.some(j=>new RegExp(`^${j}\\(.*\\)`).test(G))}const a=new Set(["scroll-timeline-name","timeline-scope","view-timeline-name","font-palette","anchor-name","anchor-scope","position-anchor","position-try-options","scroll-timeline","animation-timeline","view-timeline","position-try"]);function l(G,j=null,Y=!0){let Q=j&&a.has(j.property);return G.startsWith("--")&&!Q?`var(${G})`:G.includes("url(")?G.split(/(url\(.*?\))/g).filter(Boolean).map(ve=>/^url\(.*?\)$/.test(ve)?ve:l(ve,j,!1)).join(""):(G=G.replace(/([^\\])_+/g,(ve,Pe)=>Pe+" ".repeat(ve.length-1)).replace(/^_/g," ").replace(/\\_/g,"_"),Y&&(G=G.trim()),G=u(G),G)}function c(G){return G.includes("=")&&(G=G.replace(/(=.*)/g,(j,Y)=>{if(Y[1]==="'"||Y[1]==='"')return Y;if(Y.length>2){let Q=Y[Y.length-1];if(Y[Y.length-2]===" "&&(Q==="i"||Q==="I"||Q==="s"||Q==="S"))return`="${Y.slice(1,-2)}" ${Y[Y.length-1]}`}return`="${Y.slice(1)}"`})),G}function u(G){let j=["theme"],Y=["min-content","max-content","fit-content","safe-area-inset-top","safe-area-inset-right","safe-area-inset-bottom","safe-area-inset-left","titlebar-area-x","titlebar-area-y","titlebar-area-width","titlebar-area-height","keyboard-inset-top","keyboard-inset-right","keyboard-inset-bottom","keyboard-inset-left","keyboard-inset-width","keyboard-inset-height","radial-gradient","linear-gradient","conic-gradient","repeating-radial-gradient","repeating-linear-gradient","repeating-conic-gradient","anchor-size"];return G.replace(/(calc|min|max|clamp)\(.+\)/g,Q=>{let ve="";function Pe(){let He=ve.trimEnd();return He[He.length-1]}for(let He=0;He<Q.length;He++){let re=function(J){return J.split("").every((ye,Se)=>Q[He+Se]===ye)},he=function(J){let ye=1/0;for(let be of J){let qe=Q.indexOf(be,He);qe!==-1&&qe<ye&&(ye=qe)}let Se=Q.slice(He,ye);return He+=Se.length-1,Se},Oe=Q[He];if(re("var"))ve+=he([")",","]);else if(Y.some(J=>re(J))){let J=Y.find(ye=>re(ye));ve+=J,He+=J.length-1}else j.some(J=>re(J))?ve+=he([")"]):re("[")?ve+=he(["]"]):["+","-","*","/"].includes(Oe)&&!["(","+","-","*","/",","].includes(Pe())?ve+=` ${Oe} `:ve+=Oe}return ve.replace(/\s+/g," ")})}function f(G){return G.startsWith("url(")}function h(G){return!isNaN(Number(G))||o(G)}function p(G){return G.endsWith("%")&&h(G.slice(0,-1))||o(G)}let g=`(?:${["cm","mm","Q","in","pc","pt","px","em","ex","ch","rem","lh","rlh","vw","vh","vmin","vmax","vb","vi","svw","svh","lvw","lvh","dvw","dvh","cqw","cqh","cqi","cqb","cqmin","cqmax"].join("|")})`;function A(G){return G==="0"||new RegExp(`^[+-]?[0-9]*.?[0-9]+(?:[eE][+-]?[0-9]+)?${g}$`).test(G)||o(G)}let y=new Set(["thin","medium","thick"]);function x(G){return y.has(G)}function b(G){let j=(0,i.parseBoxShadowValue)(l(G));for(let Y of j)if(!Y.valid)return!1;return!0}function _(G){let j=0;return(0,r.splitAtTopLevelOnly)(G,"_").every(Q=>(Q=l(Q),Q.startsWith("var(")?!0:(0,t.parseColor)(Q,{loose:!0})!==null?(j++,!0):!1))?j>0:!1}function T(G){let j=0;return(0,r.splitAtTopLevelOnly)(G,",").every(Q=>(Q=l(Q),Q.startsWith("var(")?!0:f(Q)||I(Q)||["element(","image(","cross-fade(","image-set("].some(ve=>Q.startsWith(ve))?(j++,!0):!1))?j>0:!1}let M=new Set(["conic-gradient","linear-gradient","radial-gradient","repeating-conic-gradient","repeating-linear-gradient","repeating-radial-gradient"]);function I(G){G=l(G);for(let j of M)if(G.startsWith(`${j}(`))return!0;return!1}let P=new Set(["center","top","right","bottom","left"]);function w(G){let j=0;return(0,r.splitAtTopLevelOnly)(G,"_").every(Q=>(Q=l(Q),Q.startsWith("var(")?!0:P.has(Q)||A(Q)||p(Q)?(j++,!0):!1))?j>0:!1}function E(G){let j=0;return(0,r.splitAtTopLevelOnly)(G,",").every(Q=>(Q=l(Q),Q.startsWith("var(")?!0:Q.includes(" ")&&!/(['"])([^"']+)\1/g.test(Q)||/^\d/g.test(Q)?!1:(j++,!0)))?j>0:!1}let O=new Set(["serif","sans-serif","monospace","cursive","fantasy","system-ui","ui-serif","ui-sans-serif","ui-monospace","ui-rounded","math","emoji","fangsong"]);function F(G){return O.has(G)}let H=new Set(["xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large"]);function z(G){return H.has(G)}let X=new Set(["larger","smaller"]);function U(G){return X.has(G)}}(Cy)),Cy}var Ey={},HE;function Rle(){return HE||(HE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"backgroundSize",{enumerable:!0,get:function(){return i}});const e=KP(),t=R4();function i(r){let s=["cover","contain"];return(0,t.splitAtTopLevelOnly)(r,",").every(o=>{let a=(0,t.splitAtTopLevelOnly)(o,"_").filter(Boolean);return a.length===1&&s.includes(a[0])?!0:a.length!==1&&a.length!==2?!1:a.every(l=>(0,e.length)(l)||(0,e.percentage)(l)||l==="auto")})}}(Ey)),Ey}var VE;function Ble(){return VE||(VE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0});function e(w,E){for(var O in E)Object.defineProperty(w,O,{enumerable:!0,get:E[O]})}e(n,{updateAllClasses:function(){return c},asValue:function(){return h},parseColorFormat:function(){return g},asColor:function(){return y},asLookupValue:function(){return x},typeMap:function(){return _},coerceValue:function(){return I},getMatchingTypes:function(){return P}});const t=l(Ile()),i=$P(),r=KP(),s=l(qP()),o=Rle(),a=P4();function l(w){return w&&w.__esModule?w:{default:w}}function c(w,E){w.walkClasses(O=>{O.value=E(O.value),O.raws&&O.raws.value&&(O.raws.value=(0,t.default)(O.raws.value))})}function u(w,E){if(!p(w))return;let O=w.slice(1,-1);if(E(O))return(0,r.normalize)(O)}function f(w,E={},O){let F=E[w];if(F!==void 0)return(0,s.default)(F);if(p(w)){let H=u(w,O);return H===void 0?void 0:(0,s.default)(H)}}function h(w,E={},{validate:O=()=>!0}={}){var F;let H=(F=E.values)===null||F===void 0?void 0:F[w];return H!==void 0?H:E.supportsNegativeValues&&w.startsWith("-")?f(w.slice(1),E.values,O):u(w,O)}function p(w){return w.startsWith("[")&&w.endsWith("]")}function m(w){let E=w.lastIndexOf("/"),O=w.lastIndexOf("[",E),F=w.indexOf("]",E);return w[E-1]==="]"||w[E+1]==="["||O!==-1&&F!==-1&&O<E&&E<F&&(E=w.lastIndexOf("/",O)),E===-1||E===w.length-1?[w,void 0]:p(w)&&!w.includes("]/[")?[w,void 0]:[w.slice(0,E),w.slice(E+1)]}function g(w){if(typeof w=="string"&&w.includes("<alpha-value>")){let E=w;return({opacityValue:O=1})=>E.replace(/<alpha-value>/g,O)}return w}function A(w){return(0,r.normalize)(w.slice(1,-1))}function y(w,E={},{tailwindConfig:O={}}={}){var F;if(((F=E.values)===null||F===void 0?void 0:F[w])!==void 0){var H;return g((H=E.values)===null||H===void 0?void 0:H[w])}let[z,X]=m(w);if(X!==void 0){var U,G,j,Y;let Q=(Y=(U=E.values)===null||U===void 0?void 0:U[z])!==null&&Y!==void 0?Y:p(z)?z.slice(1,-1):void 0;return Q===void 0?void 0:(Q=g(Q),p(X)?(0,i.withAlphaValue)(Q,A(X)):((G=O.theme)===null||G===void 0||(j=G.opacity)===null||j===void 0?void 0:j[X])===void 0?void 0:(0,i.withAlphaValue)(Q,O.theme.opacity[X]))}return h(w,E,{validate:r.color})}function x(w,E={}){var O;return(O=E.values)===null||O===void 0?void 0:O[w]}function b(w){return(E,O)=>h(E,O,{validate:w})}let _={any:h,color:y,url:b(r.url),image:b(r.image),length:b(r.length),percentage:b(r.percentage),position:b(r.position),lookup:x,"generic-name":b(r.genericName),"family-name":b(r.familyName),number:b(r.number),"line-width":b(r.lineWidth),"absolute-size":b(r.absoluteSize),"relative-size":b(r.relativeSize),shadow:b(r.shadow),size:b(o.backgroundSize)},T=Object.keys(_);function M(w,E){let O=w.indexOf(E);return O===-1?[void 0,w]:[w.slice(0,O),w.slice(O+1)]}function I(w,E,O,F){if(O.values&&E in O.values)for(let{type:z}of w??[]){let X=_[z](E,O,{tailwindConfig:F});if(X!==void 0)return[X,z,null]}if(p(E)){let z=E.slice(1,-1),[X,U]=M(z,":");if(!/^[\w-_]+$/g.test(X))U=z;else if(X!==void 0&&!T.includes(X))return[];if(U.length>0&&T.includes(X))return[h(`[${U}]`,O),X,null]}let H=P(w,E,O,F);for(let z of H)return z;return[]}function*P(w,E,O,F){let H=(0,a.flagEnabled)(F,"generalizedModifiers"),[z,X]=m(E);if(H&&O.modifiers!=null&&(O.modifiers==="any"||typeof O.modifiers=="object"&&(X&&p(X)||X in O.modifiers))||(z=E,X=void 0),X!==void 0&&z===""&&(z="DEFAULT"),X!==void 0&&typeof O.modifiers=="object"){var G,j;let Y=(j=(G=O.modifiers)===null||G===void 0?void 0:G[X])!==null&&j!==void 0?j:null;Y!==null?X=Y:p(X)&&(X=A(X))}for(let{type:Y}of w??[]){let Q=_[Y](z,O,{tailwindConfig:F});Q!==void 0&&(yield[Q,Y,X??null])}}}(vy)),vy}var Ty={},GE;function Lle(){return GE||(GE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return e}});function e(t){return typeof t=="function"?t({}):t}}(Ty)),Ty}var QE;function Fle(){return QE||(QE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return O}});const e=p(qP()),t=p(ble()),i=p(xle()),r=p(Cle()),s=Sle(),o=wle(),a=Ele(),l=p(Tle()),c=Mle(),u=Ble(),f=$P(),h=p(Lle());function p(F){return F&&F.__esModule?F:{default:F}}function m(F){return typeof F=="function"}function g(F,...H){let z=H.pop();for(let X of H)for(let U in X){let G=z(F[U],X[U]);G===void 0?(0,l.default)(F[U])&&(0,l.default)(X[U])?F[U]=g({},F[U],X[U],z):F[U]=X[U]:F[U]=G}return F}const A={colors:r.default,negative(F){return Object.keys(F).filter(H=>F[H]!=="0").reduce((H,z)=>{let X=(0,e.default)(F[z]);return X!==void 0&&(H[`-${z}`]=X),H},{})},breakpoints(F){return Object.keys(F).filter(H=>typeof F[H]=="string").reduce((H,z)=>({...H,[`screen-${z}`]:F[z]}),{})}};function y(F,...H){return m(F)?F(...H):F}function x(F){return F.reduce((H,{extend:z})=>g(H,z,(X,U)=>X===void 0?[U]:Array.isArray(X)?[U,...X]:[U,X]),{})}function b(F){return{...F.reduce((H,z)=>(0,s.defaults)(H,z),{}),extend:x(F)}}function _(F,H){if(Array.isArray(F)&&(0,l.default)(F[0]))return F.concat(H);if(Array.isArray(H)&&(0,l.default)(H[0])&&(0,l.default)(F))return[F,...H];if(Array.isArray(H))return H}function T({extend:F,...H}){return g(H,F,(z,X)=>!m(z)&&!X.some(m)?g({},z,...X,_):(U,G)=>g({},...[z,...X].map(j=>y(j,U,G)),_))}function*M(F){let H=(0,o.toPath)(F);if(H.length===0||(yield H,Array.isArray(F)))return;let z=/^(.*?)\s*\/\s*([^/]+)$/,X=F.match(z);if(X!==null){let[,U,G]=X,j=(0,o.toPath)(U);j.alpha=G,yield j}}function I(F){const H=(z,X)=>{for(const U of M(z)){let G=0,j=F;for(;j!=null&&G<U.length;)j=j[U[G++]],j=m(j)&&(U.alpha===void 0||G<=U.length-1)?j(H,A):j;if(j!==void 0){if(U.alpha!==void 0){let Y=(0,u.parseColorFormat)(j);return(0,f.withAlphaValue)(Y,U.alpha,(0,h.default)(Y))}return(0,l.default)(j)?(0,c.cloneDeep)(j):j}}return X};return Object.assign(H,{theme:H,...A}),Object.keys(F).reduce((z,X)=>(z[X]=m(F[X])?F[X](H,A):F[X],z),{})}function P(F){let H=[];return F.forEach(z=>{H=[...H,z];var X;const U=(X=z==null?void 0:z.plugins)!==null&&X!==void 0?X:[];U.length!==0&&U.forEach(G=>{G.__isOptionsFunction&&(G=G());var j;H=[...H,...P([(j=G==null?void 0:G.config)!==null&&j!==void 0?j:{}])]})}),H}function w(F){return[...F].reduceRight((z,X)=>m(X)?X({corePlugins:z}):(0,i.default)(X,z),t.default)}function E(F){return[...F].reduceRight((z,X)=>[...z,...X],[])}function O(F){let H=[...P(F),{prefix:"",important:!1,separator:":"}];var z,X;return(0,a.normalizeConfig)((0,s.defaults)({theme:I(T(b(H.map(U=>(z=U==null?void 0:U.theme)!==null&&z!==void 0?z:{})))),corePlugins:w(H.map(U=>U.corePlugins)),plugins:E(F.map(U=>(X=U==null?void 0:U.plugins)!==null&&X!==void 0?X:[]))},...H))}}(oy)),oy}var My={},Iy,jE;function Ole(){return jE||(jE=1,Iy={content:[],presets:[],darkMode:"media",theme:{accentColor:({theme:n})=>({...n("colors"),auto:"auto"}),animation:{none:"none",spin:"spin 1s linear infinite",ping:"ping 1s cubic-bezier(0, 0, 0.2, 1) infinite",pulse:"pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite",bounce:"bounce 1s infinite"},aria:{busy:'busy="true"',checked:'checked="true"',disabled:'disabled="true"',expanded:'expanded="true"',hidden:'hidden="true"',pressed:'pressed="true"',readonly:'readonly="true"',required:'required="true"',selected:'selected="true"'},aspectRatio:{auto:"auto",square:"1 / 1",video:"16 / 9"},backdropBlur:({theme:n})=>n("blur"),backdropBrightness:({theme:n})=>n("brightness"),backdropContrast:({theme:n})=>n("contrast"),backdropGrayscale:({theme:n})=>n("grayscale"),backdropHueRotate:({theme:n})=>n("hueRotate"),backdropInvert:({theme:n})=>n("invert"),backdropOpacity:({theme:n})=>n("opacity"),backdropSaturate:({theme:n})=>n("saturate"),backdropSepia:({theme:n})=>n("sepia"),backgroundColor:({theme:n})=>n("colors"),backgroundImage:{none:"none","gradient-to-t":"linear-gradient(to top, var(--tw-gradient-stops))","gradient-to-tr":"linear-gradient(to top right, var(--tw-gradient-stops))","gradient-to-r":"linear-gradient(to right, var(--tw-gradient-stops))","gradient-to-br":"linear-gradient(to bottom right, var(--tw-gradient-stops))","gradient-to-b":"linear-gradient(to bottom, var(--tw-gradient-stops))","gradient-to-bl":"linear-gradient(to bottom left, var(--tw-gradient-stops))","gradient-to-l":"linear-gradient(to left, var(--tw-gradient-stops))","gradient-to-tl":"linear-gradient(to top left, var(--tw-gradient-stops))"},backgroundOpacity:({theme:n})=>n("opacity"),backgroundPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},backgroundSize:{auto:"auto",cover:"cover",contain:"contain"},blur:{0:"0",none:"",sm:"4px",DEFAULT:"8px",md:"12px",lg:"16px",xl:"24px","2xl":"40px","3xl":"64px"},borderColor:({theme:n})=>({...n("colors"),DEFAULT:n("colors.gray.200","currentColor")}),borderOpacity:({theme:n})=>n("opacity"),borderRadius:{none:"0px",sm:"0.125rem",DEFAULT:"0.25rem",md:"0.375rem",lg:"0.5rem",xl:"0.75rem","2xl":"1rem","3xl":"1.5rem",full:"9999px"},borderSpacing:({theme:n})=>({...n("spacing")}),borderWidth:{DEFAULT:"1px",0:"0px",2:"2px",4:"4px",8:"8px"},boxShadow:{sm:"0 1px 2px 0 rgb(0 0 0 / 0.05)",DEFAULT:"0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1)",md:"0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1)",lg:"0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1)",xl:"0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1)","2xl":"0 25px 50px -12px rgb(0 0 0 / 0.25)",inner:"inset 0 2px 4px 0 rgb(0 0 0 / 0.05)",none:"none"},boxShadowColor:({theme:n})=>n("colors"),brightness:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5",200:"2"},caretColor:({theme:n})=>n("colors"),colors:({colors:n})=>({inherit:n.inherit,current:n.current,transparent:n.transparent,black:n.black,white:n.white,slate:n.slate,gray:n.gray,zinc:n.zinc,neutral:n.neutral,stone:n.stone,red:n.red,orange:n.orange,amber:n.amber,yellow:n.yellow,lime:n.lime,green:n.green,emerald:n.emerald,teal:n.teal,cyan:n.cyan,sky:n.sky,blue:n.blue,indigo:n.indigo,violet:n.violet,purple:n.purple,fuchsia:n.fuchsia,pink:n.pink,rose:n.rose}),columns:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12","3xs":"16rem","2xs":"18rem",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem"},container:{},content:{none:"none"},contrast:{0:"0",50:".5",75:".75",100:"1",125:"1.25",150:"1.5",200:"2"},cursor:{auto:"auto",default:"default",pointer:"pointer",wait:"wait",text:"text",move:"move",help:"help","not-allowed":"not-allowed",none:"none","context-menu":"context-menu",progress:"progress",cell:"cell",crosshair:"crosshair","vertical-text":"vertical-text",alias:"alias",copy:"copy","no-drop":"no-drop",grab:"grab",grabbing:"grabbing","all-scroll":"all-scroll","col-resize":"col-resize","row-resize":"row-resize","n-resize":"n-resize","e-resize":"e-resize","s-resize":"s-resize","w-resize":"w-resize","ne-resize":"ne-resize","nw-resize":"nw-resize","se-resize":"se-resize","sw-resize":"sw-resize","ew-resize":"ew-resize","ns-resize":"ns-resize","nesw-resize":"nesw-resize","nwse-resize":"nwse-resize","zoom-in":"zoom-in","zoom-out":"zoom-out"},divideColor:({theme:n})=>n("borderColor"),divideOpacity:({theme:n})=>n("borderOpacity"),divideWidth:({theme:n})=>n("borderWidth"),dropShadow:{sm:"0 1px 1px rgb(0 0 0 / 0.05)",DEFAULT:["0 1px 2px rgb(0 0 0 / 0.1)","0 1px 1px rgb(0 0 0 / 0.06)"],md:["0 4px 3px rgb(0 0 0 / 0.07)","0 2px 2px rgb(0 0 0 / 0.06)"],lg:["0 10px 8px rgb(0 0 0 / 0.04)","0 4px 3px rgb(0 0 0 / 0.1)"],xl:["0 20px 13px rgb(0 0 0 / 0.03)","0 8px 5px rgb(0 0 0 / 0.08)"],"2xl":"0 25px 25px rgb(0 0 0 / 0.15)",none:"0 0 #0000"},fill:({theme:n})=>({none:"none",...n("colors")}),flex:{1:"1 1 0%",auto:"1 1 auto",initial:"0 1 auto",none:"none"},flexBasis:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%"}),flexGrow:{0:"0",DEFAULT:"1"},flexShrink:{0:"0",DEFAULT:"1"},fontFamily:{sans:["ui-sans-serif","system-ui","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"','"Noto Color Emoji"'],serif:["ui-serif","Georgia","Cambria",'"Times New Roman"',"Times","serif"],mono:["ui-monospace","SFMono-Regular","Menlo","Monaco","Consolas",'"Liberation Mono"','"Courier New"',"monospace"]},fontSize:{xs:["0.75rem",{lineHeight:"1rem"}],sm:["0.875rem",{lineHeight:"1.25rem"}],base:["1rem",{lineHeight:"1.5rem"}],lg:["1.125rem",{lineHeight:"1.75rem"}],xl:["1.25rem",{lineHeight:"1.75rem"}],"2xl":["1.5rem",{lineHeight:"2rem"}],"3xl":["1.875rem",{lineHeight:"2.25rem"}],"4xl":["2.25rem",{lineHeight:"2.5rem"}],"5xl":["3rem",{lineHeight:"1"}],"6xl":["3.75rem",{lineHeight:"1"}],"7xl":["4.5rem",{lineHeight:"1"}],"8xl":["6rem",{lineHeight:"1"}],"9xl":["8rem",{lineHeight:"1"}]},fontWeight:{thin:"100",extralight:"200",light:"300",normal:"400",medium:"500",semibold:"600",bold:"700",extrabold:"800",black:"900"},gap:({theme:n})=>n("spacing"),gradientColorStops:({theme:n})=>n("colors"),gradientColorStopPositions:{"0%":"0%","5%":"5%","10%":"10%","15%":"15%","20%":"20%","25%":"25%","30%":"30%","35%":"35%","40%":"40%","45%":"45%","50%":"50%","55%":"55%","60%":"60%","65%":"65%","70%":"70%","75%":"75%","80%":"80%","85%":"85%","90%":"90%","95%":"95%","100%":"100%"},grayscale:{0:"0",DEFAULT:"100%"},gridAutoColumns:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridAutoRows:{auto:"auto",min:"min-content",max:"max-content",fr:"minmax(0, 1fr)"},gridColumn:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridColumnEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridColumnStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRow:{auto:"auto","span-1":"span 1 / span 1","span-2":"span 2 / span 2","span-3":"span 3 / span 3","span-4":"span 4 / span 4","span-5":"span 5 / span 5","span-6":"span 6 / span 6","span-7":"span 7 / span 7","span-8":"span 8 / span 8","span-9":"span 9 / span 9","span-10":"span 10 / span 10","span-11":"span 11 / span 11","span-12":"span 12 / span 12","span-full":"1 / -1"},gridRowEnd:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridRowStart:{auto:"auto",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12",13:"13"},gridTemplateColumns:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},gridTemplateRows:{none:"none",subgrid:"subgrid",1:"repeat(1, minmax(0, 1fr))",2:"repeat(2, minmax(0, 1fr))",3:"repeat(3, minmax(0, 1fr))",4:"repeat(4, minmax(0, 1fr))",5:"repeat(5, minmax(0, 1fr))",6:"repeat(6, minmax(0, 1fr))",7:"repeat(7, minmax(0, 1fr))",8:"repeat(8, minmax(0, 1fr))",9:"repeat(9, minmax(0, 1fr))",10:"repeat(10, minmax(0, 1fr))",11:"repeat(11, minmax(0, 1fr))",12:"repeat(12, minmax(0, 1fr))"},height:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),hueRotate:{0:"0deg",15:"15deg",30:"30deg",60:"60deg",90:"90deg",180:"180deg"},inset:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),invert:{0:"0",DEFAULT:"100%"},keyframes:{spin:{to:{transform:"rotate(360deg)"}},ping:{"75%, 100%":{transform:"scale(2)",opacity:"0"}},pulse:{"50%":{opacity:".5"}},bounce:{"0%, 100%":{transform:"translateY(-25%)",animationTimingFunction:"cubic-bezier(0.8,0,1,1)"},"50%":{transform:"none",animationTimingFunction:"cubic-bezier(0,0,0.2,1)"}}},letterSpacing:{tighter:"-0.05em",tight:"-0.025em",normal:"0em",wide:"0.025em",wider:"0.05em",widest:"0.1em"},lineHeight:{none:"1",tight:"1.25",snug:"1.375",normal:"1.5",relaxed:"1.625",loose:"2",3:".75rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem"},listStyleType:{none:"none",disc:"disc",decimal:"decimal"},listStyleImage:{none:"none"},margin:({theme:n})=>({auto:"auto",...n("spacing")}),lineClamp:{1:"1",2:"2",3:"3",4:"4",5:"5",6:"6"},maxHeight:({theme:n})=>({...n("spacing"),none:"none",full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),maxWidth:({theme:n,breakpoints:e})=>({...n("spacing"),none:"none",xs:"20rem",sm:"24rem",md:"28rem",lg:"32rem",xl:"36rem","2xl":"42rem","3xl":"48rem","4xl":"56rem","5xl":"64rem","6xl":"72rem","7xl":"80rem",full:"100%",min:"min-content",max:"max-content",fit:"fit-content",prose:"65ch",...e(n("screens"))}),minHeight:({theme:n})=>({...n("spacing"),full:"100%",screen:"100vh",svh:"100svh",lvh:"100lvh",dvh:"100dvh",min:"min-content",max:"max-content",fit:"fit-content"}),minWidth:({theme:n})=>({...n("spacing"),full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),objectPosition:{bottom:"bottom",center:"center",left:"left","left-bottom":"left bottom","left-top":"left top",right:"right","right-bottom":"right bottom","right-top":"right top",top:"top"},opacity:{0:"0",5:"0.05",10:"0.1",15:"0.15",20:"0.2",25:"0.25",30:"0.3",35:"0.35",40:"0.4",45:"0.45",50:"0.5",55:"0.55",60:"0.6",65:"0.65",70:"0.7",75:"0.75",80:"0.8",85:"0.85",90:"0.9",95:"0.95",100:"1"},order:{first:"-9999",last:"9999",none:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",10:"10",11:"11",12:"12"},outlineColor:({theme:n})=>n("colors"),outlineOffset:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},outlineWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},padding:({theme:n})=>n("spacing"),placeholderColor:({theme:n})=>n("colors"),placeholderOpacity:({theme:n})=>n("opacity"),ringColor:({theme:n})=>({DEFAULT:n("colors.blue.500","#3b82f6"),...n("colors")}),ringOffsetColor:({theme:n})=>n("colors"),ringOffsetWidth:{0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},ringOpacity:({theme:n})=>({DEFAULT:"0.5",...n("opacity")}),ringWidth:{DEFAULT:"3px",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},rotate:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg",45:"45deg",90:"90deg",180:"180deg"},saturate:{0:"0",50:".5",100:"1",150:"1.5",200:"2"},scale:{0:"0",50:".5",75:".75",90:".9",95:".95",100:"1",105:"1.05",110:"1.1",125:"1.25",150:"1.5"},screens:{sm:"640px",md:"768px",lg:"1024px",xl:"1280px","2xl":"1536px"},scrollMargin:({theme:n})=>({...n("spacing")}),scrollPadding:({theme:n})=>n("spacing"),sepia:{0:"0",DEFAULT:"100%"},skew:{0:"0deg",1:"1deg",2:"2deg",3:"3deg",6:"6deg",12:"12deg"},space:({theme:n})=>({...n("spacing")}),spacing:{px:"1px",0:"0px",.5:"0.125rem",1:"0.25rem",1.5:"0.375rem",2:"0.5rem",2.5:"0.625rem",3:"0.75rem",3.5:"0.875rem",4:"1rem",5:"1.25rem",6:"1.5rem",7:"1.75rem",8:"2rem",9:"2.25rem",10:"2.5rem",11:"2.75rem",12:"3rem",14:"3.5rem",16:"4rem",20:"5rem",24:"6rem",28:"7rem",32:"8rem",36:"9rem",40:"10rem",44:"11rem",48:"12rem",52:"13rem",56:"14rem",60:"15rem",64:"16rem",72:"18rem",80:"20rem",96:"24rem"},stroke:({theme:n})=>({none:"none",...n("colors")}),strokeWidth:{0:"0",1:"1",2:"2"},supports:{},data:{},textColor:({theme:n})=>n("colors"),textDecorationColor:({theme:n})=>n("colors"),textDecorationThickness:{auto:"auto","from-font":"from-font",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},textIndent:({theme:n})=>({...n("spacing")}),textOpacity:({theme:n})=>n("opacity"),textUnderlineOffset:{auto:"auto",0:"0px",1:"1px",2:"2px",4:"4px",8:"8px"},transformOrigin:{center:"center",top:"top","top-right":"top right",right:"right","bottom-right":"bottom right",bottom:"bottom","bottom-left":"bottom left",left:"left","top-left":"top left"},transitionDelay:{0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionDuration:{DEFAULT:"150ms",0:"0s",75:"75ms",100:"100ms",150:"150ms",200:"200ms",300:"300ms",500:"500ms",700:"700ms",1e3:"1000ms"},transitionProperty:{none:"none",all:"all",DEFAULT:"color, background-color, border-color, text-decoration-color, fill, stroke, opacity, box-shadow, transform, filter, backdrop-filter",colors:"color, background-color, border-color, text-decoration-color, fill, stroke",opacity:"opacity",shadow:"box-shadow",transform:"transform"},transitionTimingFunction:{DEFAULT:"cubic-bezier(0.4, 0, 0.2, 1)",linear:"linear",in:"cubic-bezier(0.4, 0, 1, 1)",out:"cubic-bezier(0, 0, 0.2, 1)","in-out":"cubic-bezier(0.4, 0, 0.2, 1)"},translate:({theme:n})=>({...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%",full:"100%"}),size:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",min:"min-content",max:"max-content",fit:"fit-content"}),width:({theme:n})=>({auto:"auto",...n("spacing"),"1/2":"50%","1/3":"33.333333%","2/3":"66.666667%","1/4":"25%","2/4":"50%","3/4":"75%","1/5":"20%","2/5":"40%","3/5":"60%","4/5":"80%","1/6":"16.666667%","2/6":"33.333333%","3/6":"50%","4/6":"66.666667%","5/6":"83.333333%","1/12":"8.333333%","2/12":"16.666667%","3/12":"25%","4/12":"33.333333%","5/12":"41.666667%","6/12":"50%","7/12":"58.333333%","8/12":"66.666667%","9/12":"75%","10/12":"83.333333%","11/12":"91.666667%",full:"100%",screen:"100vw",svw:"100svw",lvw:"100lvw",dvw:"100dvw",min:"min-content",max:"max-content",fit:"fit-content"}),willChange:{auto:"auto",scroll:"scroll-position",contents:"contents",transform:"transform"},zIndex:{auto:"auto",0:"0",10:"10",20:"20",30:"30",40:"40",50:"50"}},plugins:[]}),Iy}var WE;function Ule(){return WE||(WE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});const e=i(Ole()),t=P4();function i(s){return s&&s.__esModule?s:{default:s}}function r(s){var o;const a=((o=s==null?void 0:s.presets)!==null&&o!==void 0?o:[e.default]).slice().reverse().flatMap(u=>r(u instanceof Function?u():u)),l={respectDefaultRingColorOpacity:{theme:{ringColor:({theme:u})=>({DEFAULT:"#3b82f67f",...u("colors")})}},disableColorOpacityUtilitiesByDefault:{corePlugins:{backgroundOpacity:!1,borderOpacity:!1,divideOpacity:!1,placeholderOpacity:!1,ringOpacity:!1,textOpacity:!1}}},c=Object.keys(l).filter(u=>(0,t.flagEnabled)(s,u)).map(u=>l[u]);return[s,...c,...a]}}(My)),My}var qE;function Nle(){return qE||(qE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return r}});const e=i(Fle()),t=i(Ule());function i(s){return s&&s.__esModule?s:{default:s}}function r(...s){let[,...o]=(0,t.default)(s[0]);return(0,e.default)([...s,...o])}}(sy)),sy}var Dy,XE;function kle(){if(XE)return Dy;XE=1;let n=Nle();return Dy=(n.__esModule?n:{default:n}).default,Dy}var zle=kle();const OA=WP(zle),co=(n=jt)=>class extends n{constructor(e={},...t){super(...t),this.options=An({name:this.constructor.name},e),this.name=this.options.name,this.enabled=!1,this.assets={models:{},textures:{}},this.load()}build(e){}addEvents(){}removeEvents(){}destroy(){this.stop()}start(){this.enabled||(this.enabled=!0,this.addEvents())}stop(){this.enabled&&(this.enabled=!1,this.removeEvents())}update(){}load(){}addGui(e={}){if(S.theatre.project)return S.theatre.helper.autoAddObject(this,this.parent.prettyName,e)}};var Hle="varying vec2 vUv;void main(){vUv=uv;vec4 transformedPosition=vec4(position,1.0);vec4 mvPosition=modelViewMatrix*transformedPosition;gl_Position=projectionMatrix*mvPosition;}",Vle=`#include <default_pars>
#include <default_frag_pars>
varying vec2 vUv;uniform sampler2D tFluidSim;uniform vec3 uColor1;uniform vec3 uColor2;uniform vec3 uColor3;uniform vec3 uColor4;uniform float uColor4BlendStart;uniform float uColor4BlendEnd;uniform float uColor1Brightness;uniform float uColor2Brightness;uniform float uColor3Brightness;uniform vec3 uOffset1;uniform vec3 uOffset2;uniform vec2 uOffset3;uniform float uScale1;uniform float uScale2;uniform float uScale3;uniform float uSpeed;uniform vec2 uResolution;uniform float uTime;vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}float pulse(float time,float frequency){const float pi=3.14;return 0.5*(1.+sin(2.*pi*frequency*time));}void main(){vec3 color;vec2 screenCoords=gl_FragCoord.xy/uResolution.xy;vec3 fluidColor=texture2D(tFluidSim,screenCoords).rgb;float fluid=luminance(abs(fluidColor.rgb))*2.-1.;fluid*=0.05;vec2 uv1=vUv;uv1=uv1*uScale1+uOffset1.xy;vec2 uv2=vUv;uv2=uv2*uScale2+uOffset2.xy;vec2 uv3=vUv;uv3=uv3*uScale3+uOffset3;vec3 color1=uColor1*uColor1Brightness-fluid*0.5;vec3 color2=uColor2*uColor2Brightness-fluid*0.5;vec3 color3=uColor3*uColor3Brightness-fluid*0.5;float noise1=snoise(vec3(uv1,uOffset1.z))+fluid;noise1=smoothstep(0.,1.,noise1);color=mix(color1,color2,noise1);float noise2=snoise(vec3(uv2,uOffset2.z))+fluid;noise2=smoothstep(0.0,1.,noise2);color3=mix(uColor4,color3,smoothstep(uColor4BlendStart,uColor4BlendEnd,noise2));color=mix(color,color3,noise2);float noise3=snoise(vec3(uv3,uTime*uSpeed))+fluid;noise3=smoothstep(0.0,1.,noise3);color=mix(color,clamp(color*2.,0.,0.9),noise3);color+=color*fluid*0.5;color=clamp(color,0.0,1.0);color+=color*fluidColor*0.05;gl_FragColor=vec4(color,1.0);
#include <colorspace_fragment>
}`;class Gle extends is{constructor(e={}){e=An({vertexShader:Hle,fragmentShader:Vle,uniforms:{tFluidSim:{value:new xn},uColor1:{value:new ke(16711422)},uColor2:{value:new ke(16776134)},uColor3:{value:new ke(16775912)},uColor4:{value:new ke(16775912)},uColor4BlendStart:{value:0,gui:{min:-1,max:2,step:.01}},uColor4BlendEnd:{value:1,gui:{min:-1,max:2,step:.01}},uColor1Brightness:{value:1,gui:{min:0,step:.01}},uColor2Brightness:{value:1,gui:{min:0,step:.01}},uColor3Brightness:{value:1,gui:{min:0,step:.01}},uOffset1:{value:new Z,gui:{step:.01}},uOffset2:{value:new Z,gui:{step:.01}},uOffset3:{value:new De,gui:{step:.01}},uScale1:{value:1,gui:{step:.01}},uScale2:{value:1,gui:{step:.01}},uScale3:{value:1,gui:{step:.01}},uSpeed:{value:.1,gui:{min:0,max:1,step:.01}}},transparent:!0,side:Pr},e),super(e)}}var Py={},Ry={},YE;function Qle(){return YE||(YE=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return t}});function e(i,r){return{handler:i,config:r}}e.withOptions=function(i,r=()=>({})){const s=function(o){return{__options:o,handler:i(o),config:r(o)}};return s.__isOptionsFunction=!0,s.__pluginFunction=i,s.__configFunction=r,s};const t=e}(Ry)),Ry}var $E;function jle(){return $E||($E=1,function(n){Object.defineProperty(n,"__esModule",{value:!0}),Object.defineProperty(n,"default",{enumerable:!0,get:function(){return i}});const e=t(Qle());function t(r){return r&&r.__esModule?r:{default:r}}const i=e.default}(Py)),Py}var By,KE;function Wle(){if(KE)return By;KE=1;let n=jle();return By=(n.__esModule?n:{default:n}).default,By}var qle=Wle();const ZE=WP(qle),JE=n=>Object.fromEntries(n.map(e=>[e,`${e/16}rem`])),Xle=n=>Object.fromEntries(n.map(e=>[e,e])),Yle=n=>Object.fromEntries(n.map(e=>[`${e}`,e])),$le=n=>{const e={gridColumn:{},gridTemplateColumns:{},gridRow:{},gridTemplateRows:{},gridRowStart:{},gridRowEnd:{},gridColumnStart:{},gridColumnEnd:{}};for(let t=1;t<=n;t++){const i=`span-${t}`,r=`repeat(${t}, minmax(0, 1fr))`;e.gridRow[i]=e.gridColumn[i]=`${i.replace("-"," ")} / ${i.replace("-"," ")}`,e.gridTemplateColumns[t]=e.gridTemplateRows[t]=r,e.gridRowStart[t]=e.gridRowEnd[t]=e.gridColumnStart[t]=e.gridColumnEnd[t]=`${t}`}return e},UA={content:["./src/**/*.{astro,html,js,jsx,md,mdx,svelte,ts,tsx,vue}"],theme:{spacing:{...JE([0,1,2,4,6,7,8,9,10,12,14,16,18,20,22,24,28,30,32,36,38,40,48,56,60,64,72,80,88,96,112,120,128,144,160,192,224,400,500]),"15vh":"15vh","25vh":"25vh","50vh":"50vh","75vh":"75vh","100vh":"100vh",auto:"auto",full:"100%"},fontSize:{...JE([0,1,2,4,6,8,9,10,12,14,16,18,20,22,24,28,30,32,36,40,48,56,60,64,72,80,96,100,112,128,144,160,180,192])},fontFamily:{sans:["Instrument Sans","sans-serif"],mono:["Geist Mono","monospace"]},letterSpacing:{0:"0",1:"0.01em",2:"0.02em",3:"0.03em",5:"0.05em"},colors:{transparent:"transparent",current:"currentColor",black:"#090B11",hover:"#36363C",white:"#ffffff",scrollbar:"#000000",background:"#FFF6F4"},lineHeight:{...Yle([1,1.1,1.2,1.3,1.4,1.5])},fontWeight:{...Xle([100,200,300,400,500,600,700,800,900])},screens:{xsm:"480px",sm:"768px",md:"1024px",lg:"1366px",xlg:"1536px",xxlg:"1921px",retina:"2560px","4k":"3840px"},container:{padding:{DEFAULT:".75rem",md:"1.5rem"}},extend:{...$le(32),transitionTimingFunction:{"sine.in":"cubic-bezier(0.12, 0, 0.39, 0)","sine.out":"cubic-bezier(0.61, 1, 0.88, 1)","sine.inOut":"cubic-bezier(0.37, 0, 0.63, 1)","power1.in":"cubic-bezier(0.11, 0, 0.5, 0)","power1.out":"cubic-bezier(0.5, 1, 0.89, 1)","power1.inOut":"cubic-bezier(0.45, 0, 0.55, 1)","power2.in":"cubic-bezier(0.32, 0, 0.67, 0)","power2.out":"cubic-bezier(0.33, 1, 0.68, 1)","power2.inOut":"cubic-bezier(0.65, 0, 0.35, 1)","power3.in":"cubic-bezier(0.5, 0, 0.75, 0)","power3.out":"cubic-bezier(0.25, 1, 0.5, 1)","power3.inOut":"cubic-bezier(0.76, 0, 0.24, 1)","power4.in":"cubic-bezier(0.64, 0, 0.78, 0)","power4.out":"cubic-bezier(0.22, 1, 0.36, 1)","power4.inOut":"cubic-bezier(0.83, 0, 0.17, 1)","expo.in":"cubic-bezier(0.7, 0, 0.84, 0)","expo.out":"cubic-bezier(0.16, 1, 0.3, 1)","expo.inOut":"cubic-bezier(0.87, 0, 0.13, 1)","circ.in":"cubic-bezier(0.55, 0, 1, 0.45)","circ.out":"cubic-bezier(0, 0.55, 0.45, 1)","circ.inOut":"cubic-bezier(0.85, 0, 0.15, 1)","back.in":"cubic-bezier(0.36, 0, 0.66, -0.56)","back.out":"cubic-bezier(0.34, 1.56, 0.64, 1)","back.inOut":"cubic-bezier(0.68, -0.6, 0.32, 1.6)","joe.in":"cubic-bezier(.8,0,1,1)","joe.out":"cubic-bezier(0,0,.2,1)","joe.inOut":"cubic-bezier(.33,0,.2,1)"}}},plugins:[ZE(function({addVariant:n}){n("touch","@media (pointer: coarse)"),n("nottouch","@media (hover: hover) and (pointer: fine)"),n("ipadpro","@media (hover: none) and (pointer: coarse) and (min-width: 1024px)")}),ZE(function({matchUtilities:n,theme:e}){n({"splittext-fix":t=>({paddingTop:t,paddingBottom:t,marginTop:`-${t}`,marginBottom:`-${t}`,overflowY:"hidden"})},{values:e("spacing")})})]};class Kle extends Wa{constructor(t,i={}){super();pe(this,"onRaf",()=>{var t,i;(t=this.controls)!=null&&t.enabled&&this.controls.update(),this.smoothMouse[0].lerp(S.pointer.glNormalized,this.options.pointerLerpSpeed1*S.WebGL.normalizedDelta),this.smoothMouse[1].lerp(S.pointer.glNormalized,this.options.pointerLerpSpeed2*S.WebGL.normalizedDelta),this.updateCameras(),this.update(),(i=this.controls)!=null&&i.enabled&&(this.cameraHelper.visible&&this.cameraHelper.update(),S.WebGL.renderer.render(this,this.devCamera))});pe(this,"onResize",()=>{this.camera.aspect=S.window.w/S.window.h,this.camera.updateProjectionMatrix(),this.devCamera.aspect=S.window.w/S.window.h,this.devCamera.updateProjectionMatrix()});this.enabled=!1,this.name=t,this.prettyName=t.split("-").map(r=>r.charAt(0).toUpperCase()+r.slice(1)).join(""),this.options=An({domId:null,domAlign:"left",controls:S.urlParams.has("controls"),cameraFocalLength:50,cameraXTranslate:0,cameraYTranslate:0,cameraZTranslate:0,cameraPivotStrength:0,cameraPivotOffset:20,cameraPivotAngle:new De(.05,.05),cameraPivotRollAmount:.2,pointerLerpSpeed1:.032,pointerLerpSpeed2:.025},i),this.originalOptions={...this.options},this.cameraLayers={all:0},this._euler=new Di,this._quaternion=new Xn,this.smoothMouse=[new De,new De],this.globalUniforms={},this.globalDefines={},this.components={},this.load()}start(){var t,i;if(!this.enabled){this.enabled=!0,S.WebGL.activeScene=this,this.renderPass.enabled=!0,this.addEvents();for(const r in this.components)(i=(t=this.components[r]).start)==null||i.call(t);S.urlParams.has("gui")||(S.theatre.sheets[this.prettyName].sequence.position=0,S.theatre.sheets[this.prettyName].sequence.play({iterationCount:1},{rafDriver:S.theatre.rafDriver}))}}stop(){var t,i;if(this.enabled){this.enabled=!1,this.renderPass.enabled=!1,this.removeEvents();for(const r in this.components)(i=(t=this.components[r]).stop)==null||i.call(t);S.theatre.sheets[this.prettyName].sequence.pause()}}build(){var t,i,r,s;this.buildCameras(),this.buildBackground(),this.buildPasses();for(const o in this.components)this.components[o]instanceof jt&&this.add(this.components[o]),(i=(t=this.components[o]).build)==null||i.call(t,this.objectData),(s=(r=this.components[o]).addGui)==null||s.call(r);this.setupRenderPerfTracking(),oc(this.onResize,!1)}buildCameras(){this.camera=new Zi(45,S.window.w/S.window.h,.1,500),this.camera.setFocalLength(this.options.cameraFocalLength),this.cameraPosition=new Z(0,0,20),this.cameraLookAt=new Z(0,0,0),this.camera.position.copy(this.cameraPosition),this.camera.lookAt(this.cameraLookAt),this.cameraHelper=new c4(this.camera),this.cameraHelper.visible=!1,this.add(this.cameraHelper),this.devCamera=new Zi(45,S.window.w/S.window.h,.1,1e4),this.devCamera.position.z=20,this.devCamera.position.y=3,this.controls=new AD(this.devCamera,S.WebGL.renderer.domElement),this.controls.target.set(0,0,0),this.controls.enabled=this.options.controls,this.controls.zoomToCursor=!0,this.activeCamera=this.camera,this.controls.enabled&&(S.WebGL.renderer.domElement.style.zIndex=0,S.WebGL.globalUniforms.uDevCameraActive.value=!0);for(const t in this.cameraLayers)this.camera.layers.enable(this.cameraLayers[t]),this.devCamera.layers.enable(this.cameraLayers[t])}buildDebugEnvironment(){this.add(new jK(15790320)),this.light=new Qg(16777215,3.5),this.light.position.set(50,200,-50),this.light.castShadow=!0,this.add(this.light),this.grid=new aD(200,50),this.grid.position.y=-10,this.grid.material.opacity=.5,this.grid.material.transparent=!0,this.add(this.grid)}buildBackground(){this.backgroundSphere=new Qe(new Vd(1,12,12),new Gle),this.backgroundSphere.renderOrder=-1,this.backgroundSphere.scale.setScalar(15),this.backgroundSphere.name="Background",this.add(this.backgroundSphere),S.theatre.helper.autoAddObject(this.backgroundSphere,this.prettyName)}buildPasses(){this.renderPass=new h4(this,this.activeCamera),this.renderPass.name=`${this.name} Render`,this.renderPass.enabled=!1,this.savePass=new p4,this.savePass.renderTarget.texture.wrapS=Ed,this.savePass.renderTarget.texture.wrapT=Ed,this.savePass.renderTarget.texture.needsUpdate=!0,this.savePass.setSize(S.window.w*S.WebGL.renderer.getPixelRatio(),S.window.h*S.WebGL.renderer.getPixelRatio()),this.savePass.name=`${this.name} Final`,this.savePass.enabled=!1,S.WebGL.composerPasses.add(this.renderPass,S.WebGL.composerPassOrder[this.name]+4),S.WebGL.composerPasses.add(this.savePass,S.WebGL.composerPassOrder[this.name]+9)}buildScrollAnimation(){var r;if(S.urlParams.has("scene"))return;const i=(r=OA(UA).theme)==null?void 0:r.screens;this.mm=dr.matchMedia(),this.mm.add({isDesktop:S.breakpoints.mediaQueries.md.media,isMobile:`(max-width: ${Number.parseInt(i.md)-1}px)`},s=>(this.scrollAnimation=dr.timeline({defaults:{duration:1,ease:s.conditions.isDesktop?"power2.inOut":"power1.inOut"}}),s.conditions.isDesktop?(this.scrollAnimation.fromTo(this.cameras.camera1._position,{x:this.options.domAlign==="left"?2:-2,y:1,z:15},{x:this.options.domAlign==="left"?2:-2,y:0,z:17,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,start:"top bottom+=90%",end:"center center-=10%",scrub:!0,fastScrollEnd:!0}}).fromTo(this.cameras.camera1._position,{x:this.options.domAlign==="left"?2:-2,y:0,z:17},{x:0,y:0,z:12,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-logo-grid`,start:"center center-=10%",end:"top top-=30%",scrub:!0,preventOverlaps:!0,fastScrollEnd:!0}}),this.addAdditionalDesktopScrollAnimations(this.scrollAnimation)):(this.scrollAnimation.fromTo(this.cameras.camera1._position,{x:0,y:13,z:7},{x:0,y:2,z:17,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,start:"top bottom+=80%",end:"top top",scrub:!0,fastScrollEnd:!0}}).fromTo(this.cameras.camera1._position,{x:0,y:2,z:17},{x:0,y:0,z:12,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-logo-grid`,start:"top top",end:"top top-=10%",scrub:!0,preventOverlaps:!0,fastScrollEnd:!0}}),this.addAdditionalMobileScrollAnimations(this.scrollAnimation)),this.sectionScroll=Dt.create({trigger:`[data-webgl-section="${this.options.domId}"]`,start:"top top",end:"bottom bottom",scrub:!0}),()=>{this.scrollAnimation.kill(),this.sectionScroll.kill()}))}addAdditionalDesktopScrollAnimations(){}addAdditionalMobileScrollAnimations(){}killScrollAnimation(){var t;(t=this.mm)==null||t.revert()}setupRenderPerfTracking(){S.urlParams.has("measurePerf")&&this.traverse(t=>{if(t.isMesh){const i=t.name!==""?t.name:t.material.name;let r;t.onBeforeRender=()=>{r=performance.now()},t.onAfterRender=()=>{performance.measure("render "+i,{start:r,detail:{devtools:{trackGroup:"WebGL",track:"Object Render Times"}}})}}})}addEvents(){S.RAFCollection.add(this.onRaf,3)}removeEvents(){S.RAFCollection.remove(this.onRaf)}updateCameras(){this.camera.position.copy(this.cameraPosition),this.camera.lookAt(this.cameraLookAt),this.camera.translateX(this.options.cameraXTranslate),this.camera.translateY(this.options.cameraYTranslate),this.camera.translateZ(this.options.cameraZTranslate),this.updateCameraPivotMovement(this.camera),this.camera.updateProjectionMatrix()}updateCameraPivotMovement(t){S.breakpoints.is("touch")||(t.translateZ(-this.cameras.camera1._position.z),t.translateX(-this.cameras.camera1._position.x),this._euler.set(this.smoothMouse[0].y*this.options.cameraPivotAngle.y*this.options.cameraPivotStrength,-this.smoothMouse[0].x*this.options.cameraPivotAngle.x*this.options.cameraPivotStrength,0),this._quaternion.setFromEuler(this._euler),t.quaternion.multiply(this._quaternion),this._euler.set(0,0,(this.smoothMouse[0].x-this.smoothMouse[1].x)*-this.options.cameraPivotRollAmount*this.options.cameraPivotStrength),this._quaternion.setFromEuler(this._euler),t.quaternion.multiply(this._quaternion),t.translateZ(this.cameras.camera1._position.z),t.translateX(this.cameras.camera1._position.x),t.updateMatrixWorld())}update(){var t,i;this.backgroundSphere.material.uniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture;for(const r in this.components)(i=(t=this.components[r]).update)==null||i.call(t)}load(){this.assets={textures:{},models:{}}}destroy(){this.stop(),this.killScrollAnimation();for(const t in this.components)this.components[t].destroy&&this.components[t].destroy();this.components={},Object.assign(this.options,this.originalOptions),S.WebGL.composerPasses.remove(this.renderPass),this.renderPass.dispose(),S.WebGL.composerPasses.remove(this.savePass),this.savePass.dispose()}}class Zle{constructor(e){pe(this,"updateTheatreCameraProps",()=>{this.enabled&&S.theatre.studio.transaction(({set:e})=>{e(this.theatreObject.props.position.x,this.controls.object.position.x),e(this.theatreObject.props.position.y,this.controls.object.position.y),e(this.theatreObject.props.position.z,this.controls.object.position.z),e(this.theatreObject.props.target.x,this.controls.target.x),e(this.theatreObject.props.target.y,this.controls.target.y),e(this.theatreObject.props.target.z,this.controls.target.z)})});pe(this,"update",()=>{if(!this.enabled)return;this.controls.update(),this.cameraHelper.camera=this.scene.activeCamera,this.cameraHelper.matrix=this.scene.activeCamera.matrixWorld,this.options.helpers&&(this.transformControls.visible=this.transformControls.enabled,this.boxHelper.visible=this.boxHelper.enabled,this.cameraHelper.visible=this.cameraHelper.enabled),this.grid.visible=this.grid.enabled,this.boxHelper.enabled&&this.box3.setFromObject(this.selectedObject),S.WebGL.renderer.render(this.scene,this.devCamera);const e=S.WebGL.renderer.autoClear;S.WebGL.renderer.autoClear=!1,this.viewHelper.animating&&this.viewHelper.update(S.WebGL.clockDelta),this.viewHelper.render(S.WebGL.renderer),S.WebGL.renderer.autoClear=e,this.transformControls.visible=!1,this.boxHelper.visible=!1,this.cameraHelper.visible=!1,this.grid.visible=!1});pe(this,"onStudioSelectionChange",e=>{var t;this.enabled&&e.length&&(e[0]._webglObject?this.selectObject(e[0]._webglObject):(t=e[1])!=null&&t._webglObject?this.selectObject(e[1]._webglObject):this.deselectObject())});pe(this,"onViewHelperClick",e=>{this.viewHelper.handleClick(e)});pe(this,"onTransformControlsDraggingChanged",e=>{this.controls.enabled=!e.value});pe(this,"onTransformControlsMouseUp",e=>{var r,s,o;const t=e.mode,i=e.target.object;if(i._theatreObject){const a=i._theatreObject;switch(t){case"translate":(r=a.value.transforms)!=null&&r.position?S.theatre.studio.transaction(({set:l})=>{l(a.props.transforms.position.x,i.position.x),l(a.props.transforms.position.y,i.position.y),l(a.props.transforms.position.z,i.position.z)}):a.value.position&&S.theatre.studio.transaction(({set:l})=>{l(a.props.position.x,i.position.x),l(a.props.position.y,i.position.y),l(a.props.position.z,i.position.z)});break;case"rotate":(s=a.value.transforms)!=null&&s.position?S.theatre.studio.transaction(({set:l})=>{l(a.props.transforms.rotation.x,i.rotation.x),l(a.props.transforms.rotation.y,i.rotation.y),l(a.props.transforms.rotation.z,i.rotation.z)}):a.value.rotation&&S.theatre.studio.transaction(({set:l})=>{l(a.props.rotation.x,i.rotation.x),l(a.props.rotation.y,i.rotation.y),l(a.props.rotation.z,i.rotation.z)});break;case"scale":(o=a.value.transforms)!=null&&o.scale?S.theatre.studio.transaction(({set:l})=>{l(a.props.transforms.scale.x,i.scale.x),l(a.props.transforms.scale.y,i.scale.y),l(a.props.transforms.scale.z,i.scale.z)}):a.value.scale&&S.theatre.studio.transaction(({set:l})=>{l(a.props.scale.x,i.scale.x),l(a.props.scale.y,i.scale.y),l(a.props.scale.z,i.scale.z)});break}}});pe(this,"onPointerMove",()=>{this.draggingTransformControls=this.transformControls.dragging,this.pointerDown&&(this.mouseDelta.x+=this.mouse.x-S.pointer.x,this.mouseDelta.y+=this.mouse.y-S.pointer.y,(Math.abs(this.mouseDelta.x)>1||Math.abs(this.mouseDelta.y)>1)&&(this.dragging=!0))});pe(this,"onPointerDown",()=>{this.pointerDown=!0,this.mouse.x=S.pointer.x,this.mouse.y=S.pointer.y,this.mouseDelta.x=0,this.mouseDelta.y=0});pe(this,"onPointerUp",()=>{if(!this.draggingTransformControls&&!this.dragging){const e=this.transformableObjects.filter(i=>i.visible);this.raycaster.setFromCamera(S.pointer.glNormalized,this.devCamera);const t=this.raycaster.intersectObjects(e,!1);t.length>0?this.selectObject(t[0].object,!0):this.deselectObject()}this.pointerDown=!1,this.dragging=!1});this.scene=e,this.enabled=!1,this.options={helpers:!0},this.cameraHelper=new c4(this.scene.activeCamera),this.cameraHelper.visible=!1,this.cameraHelper.enabled=!0,this.cameraHelperRaycastMesh=new Qe(new ui,new Jr({visible:!1})),this.cameraHelperRaycastMesh.name="CameraHelperRaycastMesh",this.cameraHelper.add(this.cameraHelperRaycastMesh),this.devCamera=new Zi(45,S.window.w/S.window.h,.1,1e4),this.devCamera.position.z=20,this.devCamera.position.y=3;for(const i in this.scene.cameraLayers)this.devCamera.layers.enable(this.scene.cameraLayers[i]);this.controls=new AD(this.devCamera,S.WebGL.renderer.domElement),this.controls.target.set(0,0,0),this.controls.enabled=!0,this.controls.zoomToCursor=!0,this.selectedObject=null,this.transformControls=new Uie(this.devCamera,S.WebGL.renderer.domElement),this.transformControls.enabled=!1,this.transformControls.visible=!1,this.box3=new zs,this.boxHelper=new sZ(this.box3),this.boxHelper.enabled=!1,this.boxHelper.visible=!1,this.scene.add(this.boxHelper),this.raycaster=new l4,this.pointerDown=!1,this.dragging=!1,this.mouse={x:0,y:0},this.mouseDelta={x:0,y:0},this.transformableObjects=[];const t=new Qe(new ui,new Jr({visible:!1}));t.name="CameraTransformMesh";for(const i in this.scene.components)this.scene.components[i]._theatreObject&&(this.scene.components[i]._theatreObject.value.transforms||this.scene.components[i]._theatreObject.value.position)&&this.transformableObjects.push(this.scene.components[i]);this.viewHelperElement=document.createElement("div"),Object.assign(this.viewHelperElement.style,{width:"128px",height:"128px",position:"fixed",bottom:0,right:0,zIndex:99,pointerEvents:"none"}),document.body.appendChild(this.viewHelperElement),this.viewHelper=new ire(this.devCamera,S.WebGL.renderer.domElement),this.buildGrid(),this.addHelpers(),this.onSelectionChangeUnsubcribe=S.theatre.studio.onSelectionChange(this.onStudioSelectionChange)}enable(){var e;this.enabled||(this.enabled=!0,this.toggleDevCamera(!0),this.addEvents(),this.viewHelperElement.style.pointerEvents="auto",S.theatre.updateExtensionToolbar&&((e=S.theatre)==null||e.updateExtensionToolbar()))}disable(){var e;this.enabled&&(this.enabled=!1,this.toggleDevCamera(!1),this.removeEvents(),this.viewHelperElement.style.pointerEvents="none",S.theatre.updateExtensionToolbar&&((e=S.theatre)==null||e.updateExtensionToolbar()))}createTheatreObject(){S.theatre.studioSheets[this.scene.prettyName]&&(this.theatreObject=S.theatre.helper.addStudioSheetObject(this.scene.prettyName,"Dev Tools",{enabled:Te.types.boolean(this.enabled),position:Te.types.compound({x:this.controls.object.position.x,y:this.controls.object.position.y,z:this.controls.object.position.z}),target:{x:this.controls.target.x,y:this.controls.target.y,z:this.controls.target.z},helpers:Te.types.boolean(this.options.helpers),grid:Te.types.boolean(this.grid.enabled)}),this.unsubscribeFromTheatreObject=this.theatreObject.onValuesChange(e=>{e.enabled?this.enable():this.disable(),this.controls.object.position.copy(e.position),this.controls.target.copy(e.target),this.toggleGrid(e.grid),this.toggleHelpers(e.helpers)},S.theatre.rafDriver),this.controls.addEventListener("end",this.updateTheatreCameraProps),S.theatre.updateExtensionToolbar&&S.theatre.updateExtensionToolbar())}detachTheatreObject(){var e,t,i;(e=S.theatre.studioSheets[this.scene.prettyName])==null||e.detachObject("Dev Tools"),(t=S.theatre.studioObjects[this.scene.prettyName])==null||delete t["Dev Tools"],(i=this.unsubscribeFromTheatreObject)==null||i.call(this),this.controls.removeEventListener("end",this.updateTheatreCameraProps)}buildGrid(){this.grid=new aD(200,50),this.grid.material.opacity=.2,this.grid.material.transparent=!0,this.grid.visible=!1,this.grid.enabled=!1}toggleDevCamera(e){return e===null&&(e=!this.controls.enabled),this.controls.enabled=e,this.prevCanvasPointerEvents&&!e&&S.WebGL.renderer.domElement.classList.add("pointer-events-none"),this.prevCanvasPointerEvents=S.WebGL.renderer.domElement.classList.contains("pointer-events-none"),e&&this.prevCanvasPointerEvents&&S.WebGL.renderer.domElement.classList.remove("pointer-events-none"),e?(S.WebGL.renderer.domElement.style.zIndex=0,this.prevZIndex=S.WebGL.renderer.domElement.style.zIndex):S.WebGL.renderer.domElement.style.zIndex=this.prevZIndex||-1,S.WebGL.globalUniforms.uDevCameraActive.value=e,e}addHelpers(){this.scene.add(this.cameraHelper),this.scene.add(this.transformControls.getHelper()),this.scene.add(this.grid)}toggleGrid(e){var i;const t=this.grid.enabled;this.grid.enabled=e,t!==e&&S.theatre.updateExtensionToolbar&&((i=S.theatre)==null||i.updateExtensionToolbar())}toggleHelpers(e){var i;const t=this.options.helpers;this.options.helpers=e,this.cameraHelper.enabled=e,this.transformControls.object&&(this.transformControls.enabled=e),t!==e&&S.theatre.updateExtensionToolbar&&((i=S.theatre)==null||i.updateExtensionToolbar())}selectObject(e,t=!1){e instanceof jt&&(this.selectedObject=e,e._theatreObject.value.transforms||e._theatreObject.value.position?(this.transformControls.attach(this.selectedObject),this.transformControls.enabled=!0):(this.transformControls.detach(),this.transformControls.enabled=!1),this.box3.setFromObject(this.selectedObject),this.boxHelper.enabled=!0),t&&e._theatreObject&&S.theatre.studio.setSelection([e._theatreObject.sheet,e._theatreObject]),S.theatre.updateExtensionToolbar&&S.theatre.updateExtensionToolbar()}deselectObject(){this.transformControls.detach(),this.transformControls.enabled=!1,this.boxHelper.enabled=!1,this.selectedObject=null,S.theatre.updateExtensionToolbar&&S.theatre.updateExtensionToolbar()}addEvents(){S.RAFCollection.add(this.update,150),S.WebGL.renderer.domElement.addEventListener("pointermove",this.onPointerMove),S.WebGL.renderer.domElement.addEventListener("pointerdown",this.onPointerDown),S.WebGL.renderer.domElement.addEventListener("pointerup",this.onPointerUp),this.transformControls.addEventListener("dragging-changed",this.onTransformControlsDraggingChanged),this.transformControls.addEventListener("mouseUp",this.onTransformControlsMouseUp),this.viewHelperElement.addEventListener("pointerup",this.onViewHelperClick)}removeEvents(){S.RAFCollection.remove(this.update),S.WebGL.renderer.domElement.removeEventListener("pointermove",this.onPointerMove),S.WebGL.renderer.domElement.removeEventListener("pointerdown",this.onPointerDown),S.WebGL.renderer.domElement.removeEventListener("pointerup",this.onPointerUp),this.transformControls.removeEventListener("dragging-changed",this.onTransformControlsDraggingChanged),this.transformControls.removeEventListener("mouseUp",this.onTransformControlsMouseUp),this.viewHelperElement.removeEventListener("pointerup",this.onViewHelperClick)}onResize(){this.devCamera.aspect=S.window.w/S.window.h,this.devCamera.updateProjectionMatrix()}destroy(){this.disable(),this.detachTheatreObject(),this.onSelectionChangeUnsubcribe()}}class cc extends Kle{constructor(...t){var i;super(...t);pe(this,"updatePostFXValuesFromTheatre",(t,i=!1)=>{this.enabled&&(S.urlParams.has("scene")||i)&&(dr.set(S.WebGL.bloomPass,{enabled:this.postFxTheatreOverrides.bloom.enabled??t.bloom.enabled,strength:t.bloom.strength,threshold:t.bloom.threshold,radius:t.bloom.radius}),dr.set(S.WebGL.directionalBloomPass,{enabled:this.postFxTheatreOverrides.directionalBloom.enabled??t.directionalBloom.enabled,strength:t.directionalBloom.strength,threshold:t.directionalBloom.threshold,radius:t.directionalBloom.radius}))});pe(this,"onResize",()=>{var t,i,r;for(const s in this.cameras){const o=this.cameras[s];o.aspect=S.window.w/S.window.h,o.setFocalLength(o._focalLength),o.updateProjectionMatrix()}(t=this.devTools)==null||t.onResize(),this.onSceneResize();for(const s in this.components)(r=(i=this.components[s]).resize)==null||r.call(i)});S.theatre.studioProject&&(S.theatre.studioSheets[this.prettyName]=ri((i=S.theatre.studioProject)==null?void 0:i.sheet(this.prettyName))),S.theatre.sheets[this.prettyName]=ri(S.theatre.project.sheet(this.prettyName)),S.theatre.sheets[this.prettyName]._webglScene=ri(this),this.postFxTheatreOverrides={bloom:{},directionalBloom:{}}}start(){var t;super.start(),S.urlParams.has("scene")&&this.updatePostFXValuesFromTheatre(S.theatre.objects[this.prettyName]["Post FX"].value,!0),(t=this.devTools)==null||t.createTheatreObject()}stop(){var t,i,r,s;super.stop(),(t=this.postFxST)==null||t.scrollTrigger.kill(),(i=this.postFxST)==null||i.kill(),(r=this.devTools)==null||r.disable(),(s=this.devTools)==null||s.detachTheatreObject()}build(){super.build(),this.addPostFXToTheatre(),S.env!=="production"&&S.urlParams.has("gui")&&(this.devTools=new Zle(this))}addPostFXToTheatre(){const t={bloom:{enabled:Te.types.boolean(S.WebGL.bloomPass.enabled),strength:Te.types.number(S.WebGL.bloomPass.strength,{range:[0,2],nudgeMultiplier:.01}),threshold:Te.types.number(S.WebGL.bloomPass.threshold,{range:[0,2],nudgeMultiplier:.01}),radius:Te.types.number(S.WebGL.bloomPass.radius,{range:[0,2],nudgeMultiplier:.01})},directionalBloom:{enabled:Te.types.boolean(S.WebGL.directionalBloomPass.enabled),strength:Te.types.number(S.WebGL.directionalBloomPass.strength,{range:[0,2],nudgeMultiplier:.01}),threshold:Te.types.number(S.WebGL.directionalBloomPass.threshold,{range:[0,2],nudgeMultiplier:.01}),radius:Te.types.number(S.WebGL.directionalBloomPass.radius,{range:[0,2],nudgeMultiplier:.01})}};S.theatre.helper.addSheetObject(this.prettyName,"Post FX",t).onValuesChange(this.updatePostFXValuesFromTheatre,S.theatre.rafDriver)}buildCameras(){this.cameras={camera1:this.createCamera("Camera 1")},this.activeCamera=this.cameras.camera1,S.theatre.helper.addSheetObject(this.prettyName,"Cameras / Settings",{cameraXTranslate:Te.types.number(this.options.cameraXTranslate,{nudgeMultiplier:.01}),cameraYTranslate:Te.types.number(this.options.cameraYTranslate,{nudgeMultiplier:.01}),cameraZTranslate:Te.types.number(this.options.cameraZTranslate,{nudgeMultiplier:.01}),cameraPivotStrength:Te.types.number(this.options.cameraPivotStrength,{nudgeMultiplier:.01}),cameraPivotOffset:Te.types.number(this.options.cameraPivotOffset,{nudgeMultiplier:.01}),pointerLerpSpeed1:Te.types.number(this.options.pointerLerpSpeed1,{nudgeMultiplier:.001}),pointerLerpSpeed2:Te.types.number(this.options.pointerLerpSpeed2,{nudgeMultiplier:.001}),cameraPivotAngle:Te.types.compound({x:Te.types.number(this.options.cameraPivotAngle.x,{nudgeMultiplier:.001}),y:Te.types.number(this.options.cameraPivotAngle.y,{nudgeMultiplier:.001})}),cameraPivotRollAmount:Te.types.number(this.options.cameraPivotRollAmount,{nudgeMultiplier:.001})}).onValuesChange(t=>{this.options.cameraXTranslate=t.cameraXTranslate,this.options.cameraYTranslate=t.cameraYTranslate,this.options.cameraZTranslate=t.cameraZTranslate,this.options.cameraPivotStrength=S.urlParams.has("scene")?0:t.cameraPivotStrength,this.options.cameraPivotOffset=t.cameraPivotOffset,this.options.pointerLerpSpeed1=t.pointerLerpSpeed1,this.options.pointerLerpSpeed2=t.pointerLerpSpeed2,this.options.cameraPivotAngle.x=t.cameraPivotAngle.x,this.options.cameraPivotAngle.y=t.cameraPivotAngle.y,this.options.cameraPivotRollAmount=t.cameraPivotRollAmount},S.theatre.rafDriver)}createCamera(t){const i=new Zi(45,S.window.w/S.window.h,.1,500);i.name=t,i._position=new Z(0,0,20),i._rotation=new Di,i._lookAt=new Z,i._focalLength=this.options.cameraFocalLength,i.enableLookAt=!1,i.position.copy(i._position),i.rotation.copy(i._rotation),i.lookAt(i._lookAt),i.setFocalLength(i._focalLength);for(const r in this.cameraLayers)i.layers.enable(this.cameraLayers[r]);return i}updateCameras(){var t;for(const i in this.cameras){const r=this.cameras[i];r.position.copy(r._position),r.enableLookAt?r.lookAt(r._lookAt):(t=this.devTools)!=null&&t.transformControls.dragging||r.rotation.copy(r._rotation),r.translateX(this.options.cameraXTranslate),r.translateY(this.options.cameraYTranslate),r.translateZ(this.options.cameraZTranslate),this.updateCameraPivotMovement(r),r.updateProjectionMatrix()}}onSceneResize(){}destroy(){var t;super.destroy(),S.theatre.helper.deleteSheet(this.prettyName),S.env!=="production"&&S.theatre.helper.detachAllStudioSheetObjects(this.prettyName),(t=this.devTools)==null||t.destroy()}}class Jle extends cc{constructor(){super("article"),this.components=Object.assign({})}buildScrollTimeline(){this.sequencePosition={value:0},this.scrollTimeline=Ao.timeline({immediateRender:!1,paused:!0,defaults:{ease:"sine.inOut",duration:1,immediateRender:!1,onUpdate:()=>{S.theatre.sheets[this.prettyName].sequence.position=this.sequencePosition.value}}}).fromTo(this.sequencePosition,{value:0},{value:1,scrollTrigger:{trigger:".js-landing-orb",start:"bottom bottom+=30%",end:"center center",scrub:!0}}).fromTo(this.sequencePosition,{value:1},{value:2,scrollTrigger:{trigger:".js-engineering-orb",start:"bottom bottom+=30%",end:"center center",scrub:!0}}).fromTo(this.sequencePosition,{value:2},{value:3,scrollTrigger:{trigger:".js-computing-orb",start:"bottom bottom+=30%",end:"center center",scrub:!0}}).fromTo(this.sequencePosition,{value:3},{value:4,scrollTrigger:{trigger:".js-team-orb",start:"bottom bottom+=30%",end:"center center",scrub:!0}}),S.theatre.sheets[this.prettyName].sequence.position=0}start(){this.enabled||(this.enabled=!0,S.WebGL.activeScene=this,this.renderPass.enabled=!0,this.addEvents())}stop(){super.stop(),S.theatre.sheets[this.prettyName].sequence.position=0}destroy(){var e;super.destroy(),(e=this.scrollTimeline)==null||e.kill()}}var ece="varying vec2 vUv;varying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;uniform vec2 uResolution;void main(){vUv=uv;gl_Position=projectionMatrix*modelViewMatrix*vec4(position,1.0);vec2 texelSize=vec2(1.0/uResolution.x,1.0/uResolution.y);vUvDown=uv+vec2(0.0,-1.0)*texelSize;vUvUp=uv+vec2(0.0,1.0)*texelSize;vUvRight=uv+vec2(1.0,0.0)*texelSize;vUvLeft=uv+vec2(-1.0,0.0)*texelSize;vUvDownLeft=uv+vec2(-1.0,-1.0)*texelSize;vUvUpRight=uv+vec2(1.0,1.0)*texelSize;vUvUpLeft=uv+vec2(-1.0,1.0)*texelSize;vUvDownRight=uv+vec2(1.0,-1.0)*texelSize;}",tce=`#include <common>
precision highp float;
#define QUALITY(q) ((q) < 5 ? 1.0 : ((q) > 5 ? ((q) < 10 ? 2.0 : ((q) < 11 ? 4.0 : 8.0)) : 1.5))
#define ONE_OVER_TWELVE 0.08333333333333333
varying vec2 vUvDown;varying vec2 vUvUp;varying vec2 vUvLeft;varying vec2 vUvRight;varying vec2 vUvDownLeft;varying vec2 vUvUpRight;varying vec2 vUvUpLeft;varying vec2 vUvDownRight;uniform sampler2D tDiffuse;uniform int uSamples;uniform vec2 uResolution;varying vec2 vUv;vec4 fxaa(const in sampler2D inputBuffer,const in vec2 uv){vec2 texelSize=vec2(1.0/uResolution.x,1.0/uResolution.y);vec4 inputColor=texture2D(inputBuffer,uv);float lumaCenter=luminance(inputColor.rgb);float lumaDown=luminance(texture2D(inputBuffer,vUvDown).rgb);float lumaUp=luminance(texture2D(inputBuffer,vUvUp).rgb);float lumaLeft=luminance(texture2D(inputBuffer,vUvLeft).rgb);float lumaRight=luminance(texture2D(inputBuffer,vUvRight).rgb);float lumaMin=min(lumaCenter,min(min(lumaDown,lumaUp),min(lumaLeft,lumaRight)));float lumaMax=max(lumaCenter,max(max(lumaDown,lumaUp),max(lumaLeft,lumaRight)));float lumaRange=lumaMax-lumaMin;if(lumaRange<max(EDGE_THRESHOLD_MIN,lumaMax*EDGE_THRESHOLD_MAX)){return inputColor;}float lumaDownLeft=luminance(texture2D(inputBuffer,vUvDownLeft).rgb);float lumaUpRight=luminance(texture2D(inputBuffer,vUvUpRight).rgb);float lumaUpLeft=luminance(texture2D(inputBuffer,vUvUpLeft).rgb);float lumaDownRight=luminance(texture2D(inputBuffer,vUvDownRight).rgb);float lumaDownUp=lumaDown+lumaUp;float lumaLeftRight=lumaLeft+lumaRight;float lumaLeftCorners=lumaDownLeft+lumaUpLeft;float lumaDownCorners=lumaDownLeft+lumaDownRight;float lumaRightCorners=lumaDownRight+lumaUpRight;float lumaUpCorners=lumaUpRight+lumaUpLeft;float edgeHorizontal=(abs(-2.0*lumaLeft+lumaLeftCorners)+abs(-2.0*lumaCenter+lumaDownUp)*2.0+abs(-2.0*lumaRight+lumaRightCorners));float edgeVertical=(abs(-2.0*lumaUp+lumaUpCorners)+abs(-2.0*lumaCenter+lumaLeftRight)*2.0+abs(-2.0*lumaDown+lumaDownCorners));bool isHorizontal=(edgeHorizontal>=edgeVertical);float stepLength=isHorizontal ? texelSize.y : texelSize.x;float luma1=isHorizontal ? lumaDown : lumaLeft;float luma2=isHorizontal ? lumaUp : lumaRight;float gradient1=abs(luma1-lumaCenter);float gradient2=abs(luma2-lumaCenter);bool is1Steepest=gradient1>=gradient2;float gradientScaled=0.25*max(gradient1,gradient2);float lumaLocalAverage=0.0;if(is1Steepest){stepLength=-stepLength;lumaLocalAverage=0.5*(luma1+lumaCenter);}else{lumaLocalAverage=0.5*(luma2+lumaCenter);}vec2 currentUv=uv;if(isHorizontal){currentUv.y+=stepLength*0.5;}else{currentUv.x+=stepLength*0.5;}vec2 offset=isHorizontal ? vec2(texelSize.x,0.0): vec2(0.0,texelSize.y);vec2 uv1=currentUv-offset*QUALITY(0);vec2 uv2=currentUv+offset*QUALITY(0);float lumaEnd1=luminance(texture2D(inputBuffer,uv1).rgb);float lumaEnd2=luminance(texture2D(inputBuffer,uv2).rgb);lumaEnd1-=lumaLocalAverage;lumaEnd2-=lumaLocalAverage;bool reached1=abs(lumaEnd1)>=gradientScaled;bool reached2=abs(lumaEnd2)>=gradientScaled;bool reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(1);}if(!reached2){uv2+=offset*QUALITY(1);}if(!reachedBoth){for(int i=2;i<uSamples;++i){if(!reached1){lumaEnd1=luminance(texture2D(inputBuffer,uv1).rgb);lumaEnd1=lumaEnd1-lumaLocalAverage;}if(!reached2){lumaEnd2=luminance(texture2D(inputBuffer,uv2).rgb);lumaEnd2=lumaEnd2-lumaLocalAverage;}reached1=abs(lumaEnd1)>=gradientScaled;reached2=abs(lumaEnd2)>=gradientScaled;reachedBoth=reached1&&reached2;if(!reached1){uv1-=offset*QUALITY(i);}if(!reached2){uv2+=offset*QUALITY(i);}if(reachedBoth){break;}}}float distance1=isHorizontal ?(uv.x-uv1.x):(uv.y-uv1.y);float distance2=isHorizontal ?(uv2.x-uv.x):(uv2.y-uv.y);bool isDirection1=distance1<distance2;float distanceFinal=min(distance1,distance2);float edgeThickness=(distance1+distance2);bool isLumaCenterSmaller=lumaCenter<lumaLocalAverage;bool correctVariation1=(lumaEnd1<0.0)!=isLumaCenterSmaller;bool correctVariation2=(lumaEnd2<0.0)!=isLumaCenterSmaller;bool correctVariation=isDirection1 ? correctVariation1 : correctVariation2;float pixelOffset=-distanceFinal/edgeThickness+0.5;float finalOffset=correctVariation ? pixelOffset : 0.0;float lumaAverage=ONE_OVER_TWELVE*(2.0*(lumaDownUp+lumaLeftRight)+lumaLeftCorners+lumaRightCorners);float subPixelOffset1=clamp(abs(lumaAverage-lumaCenter)/lumaRange,0.0,1.0);float subPixelOffset2=(-2.0*subPixelOffset1+3.0)*subPixelOffset1*subPixelOffset1;float subPixelOffsetFinal=subPixelOffset2*subPixelOffset2*SUBPIXEL_QUALITY;finalOffset=max(finalOffset,subPixelOffsetFinal);vec2 finalUv=uv;if(isHorizontal){finalUv.y+=finalOffset*stepLength;}else{finalUv.x+=finalOffset*stepLength;}return texture2D(inputBuffer,finalUv);}void main(){vec3 inputColor=texture2D(tDiffuse,vUv).rgb;float lumaCenter=luminance(inputColor.rgb);const float edgeDetectionQuality=.2;const float invEdgeDetectionQuality=1./edgeDetectionQuality;gl_FragColor=fxaa(tDiffuse,vUv);}`,nce=`#include <default_pars>
#include <default_frag_pars>
varying vec2 vUv;uniform bool uEnabled;uniform bool uChromaticAberration;uniform bool uVignette;uniform vec2 uResolution;uniform bool uNoise;uniform float uNoiseStrength;uniform sampler2D tDiffuse;uniform float uVignetteStrength;uniform float uVignetteInnerStrength;uniform float uVignetteOuterStrength;uniform vec3 uVignetteColor;uniform float uMaxDistort;uniform float uBendAmount;const int iterations=5;uniform float uTime;vec2 barrelDistortion(vec2 coord,float amt){vec2 cc=coord-0.5;float dist=dot(cc,cc);return coord+cc*dist*amt;}float sat(float t){return clamp(t,0.0,1.0);}float linterp(float t){return sat(1.0-abs(2.0*t-1.0));}float remap(float t,float a,float b){return sat((t-a)/(b-a));}vec4 spectrum_offset(float t){vec4 ret;float lo=step(t,0.5);float hi=1.0-lo;float w=linterp(remap(t,1.0/6.0,5.0/6.0));ret=vec4(lo,1.0,hi,1.)*vec4(1.0-w,w,1.0-w,1.);return pow(ret,vec4(1.0/2.2));}float random(vec2 p){vec3 p3=fract(vec3(p.xyx)*443.8975);p3+=dot(p3,p3.yzx+19.19);return fract((p3.x+p3.y)*p3.z);}void main(){if(uEnabled){if(uChromaticAberration){vec4 sumcol=vec4(0.0);vec4 sumw=vec4(0.0);float reci_num_iter_f=1.0/float(iterations);for(int i=0;i<iterations;i++){float t=float(i)*reci_num_iter_f;vec4 w=spectrum_offset(t);sumw+=w;sumcol+=w*texture2D(tDiffuse,barrelDistortion(vUv,uBendAmount*uMaxDistort*t));}gl_FragColor=vec4(sumcol/sumw);}else{gl_FragColor=texture2D(tDiffuse,vUv);}if(uVignette){vec2 coord=(vUv-0.5)*(uResolution.x/uResolution.y)*2.0;float rf=1.0+dot(coord,coord)*uVignetteInnerStrength*uVignetteInnerStrength;float vignette=1.0/(rf*rf);vec2 uv2=vUv;uv2*=1.0-vUv.yx;float vig=uv2.x*uv2.y*20.0;vignette*=pow(vig,uVignetteOuterStrength);vignette=clamp(vignette,0.0,1.0);gl_FragColor.rgb=mix(uVignetteColor,gl_FragColor.rgb,saturate(vignette+(1.-uVignetteStrength)));}if(uNoise){gl_FragColor.rgb=blendSoftLight(gl_FragColor.rgb,vec3(random(vUv)-0.5),uNoiseStrength);}}else{gl_FragColor=texture2D(tDiffuse,vUv);}
#include <colorspace_fragment>
}`,ice=`#include <default_pars>
varying vec2 vUv;uniform sampler2D tOriginalTexture;uniform sampler2D tTexture;uniform sampler2D tVelocity;uniform sampler2D tFluidSim;uniform float uFluidStrength;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;uniform mat4 uProjectionMatrix;uniform float uTime;uniform float uDelta;uniform float uNormalizedDelta;uniform float uRadius;uniform float uDecay;uniform float uDecay2;uniform float uLerpSpeed;uniform float uLerpSpeed2;uniform float uShapeThreshold;uniform float uSetup;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vec2 uv=vUv;vec4 originalPosFetch=texture2D(tOriginalTexture,uv);vec3 offsets=originalPosFetch.xyz;float randomIndex=rand(vUv);float selected=step(uShapeThreshold,randomIndex);vec4 position=texture2D(tTexture,uv);vec3 currentPos=position.xyz;float life=position.w;vec3 velocity=texture2D(tVelocity,uv).xyz;if(uSetup>0.5){vec3 initialTarget=normalize(offsets)*uRadius*map(randomIndex,0.0,1.0,0.5,1.0);gl_FragColor=vec4(initialTarget,rand(vUv+randomIndex+4584.));if(selected>0.5){gl_FragColor.a=originalPosFetch.w;}return;}if(life<=0.0){if(selected>0.5){gl_FragColor=vec4(offsets,1.0);return;}gl_FragColor=vec4(offsets*0.025,1.0);return;}vec3 target;vec4 earlyViewPosition=uViewMatrix*uModelMatrix*vec4(currentPos,1.0);vec4 earlyProjection=uProjectionMatrix*earlyViewPosition;vec2 screenPos=earlyProjection.xy/earlyProjection.w*0.5+0.5;vec3 fluidDisplacement=vec3(0.);fluidDisplacement=texture2D(tFluidSim,screenPos).rgb;fluidDisplacement.z*=-1.+1.;if(selected>0.5){target=normalize(currentPos+velocity)*uRadius*map(randomIndex,0.0,1.0,0.5,1.0);currentPos+=(target-currentPos)*uNormalizedDelta*uLerpSpeed;life-=uDecay*uNormalizedDelta*0.01;}else{currentPos+=velocity*uNormalizedDelta*uLerpSpeed2;life-=uDecay2*uNormalizedDelta*0.01;}gl_FragColor=vec4(currentPos+fluidDisplacement*uFluidStrength,life);}`,rce=`#include <default_pars>
varying vec2 vUv;uniform sampler2D tPosition;uniform sampler2D tOriginalPosition;uniform sampler2D tTexture;uniform float uTime;uniform float uDelta;uniform float uNormalizedDelta;uniform sampler2D tFluidSim;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;uniform mat4 uProjectionMatrix;uniform float uShapeThreshold;uniform float uFriction;uniform float uCurlSize;uniform float uCurlNoiseSpeed;uniform float uCurlStrength;uniform float uCurlNoisePersistence;uniform vec2 uFrequency;uniform vec2 uAmplitude;uniform float uSetup;vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}float mod289(float x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}float permute(float x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float taylorInvSqrt(float r){return 1.79284291400159-0.85373472095314*r;}vec4 grad4(float j,vec4 ip){const vec4 ones=vec4(1.0,1.0,1.0,-1.0);vec4 p,s;p.xyz=floor(fract(vec3(j)*ip.xyz)*7.0)*ip.z-1.0;p.w=1.5-dot(abs(p.xyz),ones.xyz);s=vec4(lessThan(p,vec4(0.0)));p.xyz=p.xyz+(s.xyz*2.0-1.0)*s.www;return p;}
#define F4 0.309016994374947451
vec4 snoise4(vec4 v){const vec4 C=vec4(0.138196601125011,0.276393202250021,0.414589803375032,-0.447213595499958);vec4 i=floor(v+dot(v,vec4(F4)));vec4 x0=v-i+dot(i,C.xxxx);vec4 i0;vec3 isX=step(x0.yzw,x0.xxx);vec3 isYZ=step(x0.zww,x0.yyz);i0.x=isX.x+isX.y+isX.z;i0.yzw=1.0-isX;i0.y+=isYZ.x+isYZ.y;i0.zw+=1.0-isYZ.xy;i0.z+=isYZ.z;i0.w+=1.0-isYZ.z;vec4 i3=clamp(i0,0.0,1.0);vec4 i2=clamp(i0-1.0,0.0,1.0);vec4 i1=clamp(i0-2.0,0.0,1.0);vec4 x1=x0-i1+C.xxxx;vec4 x2=x0-i2+C.yyyy;vec4 x3=x0-i3+C.zzzz;vec4 x4=x0+C.wwww;i=mod289(i);float j0=permute(permute(permute(permute(i.w)+i.z)+i.y)+i.x);vec4 j1=permute(permute(permute(permute(i.w+vec4(i1.w,i2.w,i3.w,1.0))+i.z+vec4(i1.z,i2.z,i3.z,1.0))+i.y+vec4(i1.y,i2.y,i3.y,1.0))+i.x+vec4(i1.x,i2.x,i3.x,1.0));vec4 ip=vec4(1.0/294.0,1.0/49.0,1.0/7.0,0.0);vec4 p0=grad4(j0,ip);vec4 p1=grad4(j1.x,ip);vec4 p2=grad4(j1.y,ip);vec4 p3=grad4(j1.z,ip);vec4 p4=grad4(j1.w,ip);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;p4*=taylorInvSqrt(dot(p4,p4));vec3 values0=vec3(dot(p0,x0),dot(p1,x1),dot(p2,x2));vec2 values1=vec2(dot(p3,x3),dot(p4,x4));vec3 m0=max(0.5-vec3(dot(x0,x0),dot(x1,x1),dot(x2,x2)),0.0);vec2 m1=max(0.5-vec2(dot(x3,x3),dot(x4,x4)),0.0);vec3 temp0=-6.0*m0*m0*values0;vec2 temp1=-6.0*m1*m1*values1;vec3 mmm0=m0*m0*m0;vec2 mmm1=m1*m1*m1;float dx=temp0[0]*x0.x+temp0[1]*x1.x+temp0[2]*x2.x+temp1[0]*x3.x+temp1[1]*x4.x+mmm0[0]*p0.x+mmm0[1]*p1.x+mmm0[2]*p2.x+mmm1[0]*p3.x+mmm1[1]*p4.x;float dy=temp0[0]*x0.y+temp0[1]*x1.y+temp0[2]*x2.y+temp1[0]*x3.y+temp1[1]*x4.y+mmm0[0]*p0.y+mmm0[1]*p1.y+mmm0[2]*p2.y+mmm1[0]*p3.y+mmm1[1]*p4.y;float dz=temp0[0]*x0.z+temp0[1]*x1.z+temp0[2]*x2.z+temp1[0]*x3.z+temp1[1]*x4.z+mmm0[0]*p0.z+mmm0[1]*p1.z+mmm0[2]*p2.z+mmm1[0]*p3.z+mmm1[1]*p4.z;float dw=temp0[0]*x0.w+temp0[1]*x1.w+temp0[2]*x2.w+temp1[0]*x3.w+temp1[1]*x4.w+mmm0[0]*p0.w+mmm0[1]*p1.w+mmm0[2]*p2.w+mmm1[0]*p3.w+mmm1[1]*p4.w;return vec4(dx,dy,dz,dw)*49.0;}vec3 curl(in vec3 p,in float noiseTime,in float persistence){vec4 xNoisePotentialDerivatives=vec4(0.0);vec4 yNoisePotentialDerivatives=vec4(0.0);vec4 zNoisePotentialDerivatives=vec4(0.0);for(int i=0;i<3;++i){float twoPowI=pow(2.0,float(i));float scale=0.5*twoPowI*pow(persistence,float(i));xNoisePotentialDerivatives+=snoise4(vec4(p*twoPowI,noiseTime))*scale;yNoisePotentialDerivatives+=snoise4(vec4((p+vec3(123.4,129845.6,-1239.1))*twoPowI,noiseTime))*scale;zNoisePotentialDerivatives+=snoise4(vec4((p+vec3(-9519.0,9051.0,-123.0))*twoPowI,noiseTime))*scale;}return vec3(zNoisePotentialDerivatives[1]-yNoisePotentialDerivatives[2],xNoisePotentialDerivatives[2]-zNoisePotentialDerivatives[0],yNoisePotentialDerivatives[0]-xNoisePotentialDerivatives[1]);}vec3 permute(vec3 x){return mod(((x*34.0)+1.0)*x,289.0);}float snoise(vec2 v){const vec4 C=vec4(0.211324865405187,0.366025403784439,-0.577350269189626,0.024390243902439);vec2 i=floor(v+dot(v,C.yy));vec2 x0=v-i+dot(i,C.xx);vec2 i1;i1=(x0.x>x0.y)? vec2(1.0,0.0): vec2(0.0,1.0);vec4 x12=x0.xyxy+C.xxzz;x12.xy-=i1;i=mod(i,289.0);vec3 p=permute(permute(i.y+vec3(0.0,i1.y,1.0))+i.x+vec3(0.0,i1.x,1.0));vec3 m=max(0.5-vec3(dot(x0,x0),dot(x12.xy,x12.xy),dot(x12.zw,x12.zw)),0.0);m=m*m;m=m*m;vec3 x=2.0*fract(p*C.www)-1.0;vec3 h=abs(x)-0.5;vec3 ox=floor(x+0.5);vec3 a0=x-ox;m*=1.79284291400159-0.85373472095314*(a0*a0+h*h);vec3 g;g.x=a0.x*x0.x+h.x*x0.y;g.yz=a0.yz*x12.xz+h.yz*x12.yw;return 130.0*dot(m,g);}const int OCTAVES=4;vec3 random3(vec3 c){float j=4096.0*sin(dot(c,vec3(17.0,59.4,15.0)));vec3 r;r.z=fract(512.0*j);j*=.125;r.x=fract(512.0*j);j*=.125;r.y=fract(512.0*j);return r-0.5;}const float F3=0.3333333;const float G3=0.1666667;float snoise(vec3 p){vec3 s=floor(p+dot(p,vec3(F3)));vec3 x=p-s+dot(s,vec3(G3));vec3 e=step(vec3(0.0),x-x.yzx);vec3 i1=e*(1.0-e.zxy);vec3 i2=1.0-e.zxy*(1.0-e);vec3 x1=x-i1+G3;vec3 x2=x-i2+2.0*G3;vec3 x3=x-1.0+3.0*G3;vec4 w,d;w.x=dot(x,x);w.y=dot(x1,x1);w.z=dot(x2,x2);w.w=dot(x3,x3);w=max(0.6-w,0.0);d.x=dot(random3(s),x);d.y=dot(random3(s+i1),x1);d.z=dot(random3(s+i2),x2);d.w=dot(random3(s+1.0),x3);w*=w;w*=w;d*=w;return dot(d,vec4(52.0));}float snoiseFractal(vec3 m){return 0.5333333*snoise(m)+0.2666667*snoise(2.0*m)+0.1333333*snoise(4.0*m)+0.0666667*snoise(8.0*m);}float snoise(vec4 v){const vec2 C=vec2(0.138196601125010504,0.309016994374947451);vec4 i=floor(v+dot(v,C.yyyy));vec4 x0=v-i+dot(i,C.xxxx);vec4 i0;vec3 isX=step(x0.yzw,x0.xxx);vec3 isYZ=step(x0.zww,x0.yyz);i0.x=isX.x+isX.y+isX.z;i0.yzw=1.0-isX;i0.y+=isYZ.x+isYZ.y;i0.zw+=1.0-isYZ.xy;i0.z+=isYZ.z;i0.w+=1.0-isYZ.z;vec4 i3=clamp(i0,0.0,1.0);vec4 i2=clamp(i0-1.0,0.0,1.0);vec4 i1=clamp(i0-2.0,0.0,1.0);vec4 x1=x0-i1+1.0*C.xxxx;vec4 x2=x0-i2+2.0*C.xxxx;vec4 x3=x0-i3+3.0*C.xxxx;vec4 x4=x0-1.0+4.0*C.xxxx;i=mod(i,289.0);float j0=permute(permute(permute(permute(i.w)+i.z)+i.y)+i.x);vec4 j1=permute(permute(permute(permute(i.w+vec4(i1.w,i2.w,i3.w,1.0))+i.z+vec4(i1.z,i2.z,i3.z,1.0))+i.y+vec4(i1.y,i2.y,i3.y,1.0))+i.x+vec4(i1.x,i2.x,i3.x,1.0));vec4 ip=vec4(1.0/294.0,1.0/49.0,1.0/7.0,0.0);vec4 p0=grad4(j0,ip);vec4 p1=grad4(j1.x,ip);vec4 p2=grad4(j1.y,ip);vec4 p3=grad4(j1.z,ip);vec4 p4=grad4(j1.w,ip);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;p4*=taylorInvSqrt(dot(p4,p4));vec3 m0=max(0.6-vec3(dot(x0,x0),dot(x1,x1),dot(x2,x2)),0.0);vec2 m1=max(0.6-vec2(dot(x3,x3),dot(x4,x4)),0.0);m0=m0*m0;m1=m1*m1;return 49.0*(dot(m0*m0,vec3(dot(p0,x0),dot(p1,x1),dot(p2,x2)))+dot(m1*m1,vec2(dot(p3,x3),dot(p4,x4))));}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod(Pi0,289.0);Pi1=mod(Pi1,289.0);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0/7.0;vec4 gy0=fract(floor(gx0)/7.0)-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1/7.0;vec4 gy1=fract(floor(gx1)/7.0)-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){if(uSetup>0.5){gl_FragColor=vec4(0.0,0.0,0.0,1.0);return;}float randomIndex=rand(vUv);float selected=step(uShapeThreshold,randomIndex);vec2 uv=vUv;vec4 velocity=texture2D(tTexture,uv);vec3 currentVelocity=velocity.xyz;vec4 position=texture2D(tPosition,uv);vec3 newVelocity=currentVelocity*uFriction;if(selected>0.5){newVelocity=curl((position.xyz+vec3(randomIndex,0.0,0.0))*uCurlSize,uTime*uCurlNoiseSpeed*0.1+randomIndex,(0.1+(1.0-position.w)*0.1*uCurlNoisePersistence))*uCurlStrength;}else{float dist=length(position.xyz);newVelocity=normalize(position.xyz)*0.025+mix(vec3(0.0),vec3(sin(position.y*uFrequency.x+randomIndex*PI*2.0+uTime*0.5)*uAmplitude.x,cos(position.x*uFrequency.y+(randomIndex+71.2)*PI*2.0+uTime*0.5)*uAmplitude.y,0.0)*0.1,smoothstep(0.1,1.0,dist));}gl_FragColor=vec4(newVelocity,1.0);}`,sce=`#include <default_pars>
#include <packing>
#ifdef DYNAMIC_SHADOWS
#include <shadowmap_pars_vertex>
#endif
attribute vec3 aRandom;attribute float aScale;attribute vec2 aFboUv;varying float vColorMix;varying vec2 vUv;varying vec2 vFboUv;uniform sampler2D tPosition;uniform sampler2D tVelocity;uniform float uRotationSpeed;uniform float uTime;uniform float uParticleSize;uniform vec2 uScaleRange;uniform vec2 uBrightColorPick;varying float vBrightColorPick;varying mat3 vNormalMatrix;varying mat3 vNormalMatrixInverse;varying float vDistanceFade;varying float vRadiusFade;varying vec2 vScreenSpace;varying vec3 vViewPosition;varying vec3 vPosition;varying vec3 vNormal;varying vec4 vWorldPosition;varying vec3 vRandom;varying float vLife;uniform float uSunDistanceColorStep;uniform vec3 uLightPosition;uniform vec2 uDistanceFadeNearFar;
#ifdef DEPTH_PACKING
varying vec2 vHighPrecisionZW;
#endif
mat3 rotate3D(float angle,vec3 axis){axis=normalize(axis);float s=sin(angle);float c=cos(angle);float oc=1.0-c;return mat3(oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c);}float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vUv=uv;vFboUv=aFboUv;vRandom=aRandom;vec4 particlePosition=texture2D(tPosition,aFboUv);vec3 particleVelocity=texture2D(tVelocity,aFboUv).xyz;vLife=particlePosition.w;vec4 transformedPosition=vec4(position,1.0);mat4 modMatrix=modelMatrix;mat4 newModelViewMatrix=viewMatrix*modMatrix;vec3 up=vec3(newModelViewMatrix[0][1],newModelViewMatrix[1][1],newModelViewMatrix[2][1]);vec3 right=vec3(newModelViewMatrix[0][0],newModelViewMatrix[1][0],newModelViewMatrix[2][0]);transformedPosition.xyz=right*transformedPosition.x+up*transformedPosition.y;
#ifdef USE_INSTANCING
transformedPosition=instanceMatrix*transformedPosition;
#endif
float scale=uParticleSize*aScale;scale*=mix(uScaleRange.x,uScaleRange.y,aRandom.x);scale*=mix(1.0,0.0,smoothstep(0.9,1.0,particlePosition.w));scale*=mix(0.0,1.0,smoothstep(0.0,0.20,particlePosition.w));transformedPosition.xyz*=scale;transformedPosition.xyz+=particlePosition.xyz;vPosition=transformedPosition.xyz;vec4 worldPosition=modelMatrix*transformedPosition;vWorldPosition=worldPosition;mat3 normalMatrixInverse=inverse(mat3(normalMatrix));vNormalMatrix=normalMatrix;vNormalMatrixInverse=normalMatrixInverse;vec3 transformedNormal=normal;
#ifdef USE_INSTANCING
mat3 m=mat3(instanceMatrix);transformedNormal/=vec3(dot(m[0],m[0]),dot(m[1],m[1]),dot(m[2],m[2]));transformedNormal=m*transformedNormal;
#endif
transformedNormal=normalMatrix*normal;vNormal=normalize(transformedNormal);vNormal=normalize((modelMatrix*vec4(normal,0.0)).xyz);
#ifdef DYNAMIC_SHADOWS
#include <shadowmap_vertex>
#endif
vec4 mvPosition=modelViewMatrix*transformedPosition;gl_Position=projectionMatrix*mvPosition;vViewPosition=-mvPosition.xyz;
#ifdef DEPTH_PACKING
vHighPrecisionZW=gl_Position.zw;
#endif
vScreenSpace=gl_Position.xy/gl_Position.w*0.5+vec2(0.5);vBrightColorPick=smoothstep(uBrightColorPick.x,uBrightColorPick.y,length(particleVelocity));vColorMix=smoothstep(uSunDistanceColorStep-0.85,uSunDistanceColorStep,distance(vWorldPosition.xyz,uLightPosition));float distFromCamera=length(cameraPosition-worldPosition.xyz);vDistanceFade=smoothstep(uDistanceFadeNearFar.x,uDistanceFadeNearFar.y,distFromCamera);float distFromCenter=length(particlePosition.xyz);float fade=1.0-smoothstep(2.7,3.0,distFromCenter);vRadiusFade=fade;}`,oce=`#include <default_pars>
#include <default_frag_pars>
#include <packing>
varying vec3 vRandom;varying vec2 vUv;varying float vLife;varying vec2 vFboUv;varying float vColorMix;varying float vDistanceFade;varying float vRadiusFade;varying mat3 vNormalMatrix;varying mat3 vNormalMatrixInverse;varying vec3 vViewPosition;varying vec3 vPosition;varying vec2 vScreenSpace;varying vec3 vNormal;varying vec4 vWorldPosition;varying float vBrightColorPick;uniform sampler2D tNormal;uniform vec3 uLightPosition;uniform vec3 uLightColor;uniform float uLightIntensity;uniform float uSpecularIntensity;uniform vec3 uLightPosition2;uniform vec3 uLightColor2;uniform float uLightIntensity2;uniform float uSpecularIntensity2;uniform vec3 uAmbientColor1;uniform vec3 uAmbientColor2;uniform vec3 uBaseColor;uniform vec3 uBaseColor2;uniform float uShininess;uniform vec3 uBloomColor1;uniform vec3 uBloomColor2;uniform vec3 uEdgeColor1;uniform vec3 uEdgeColor2;uniform vec2 uEdgeColorStop;uniform float uGradientStrength;uniform float uRandomHighlightSelect;uniform vec3 uRandomHighlightColor;uniform vec3 uRandomHighlightBaseColor;uniform sampler2D tClouds;uniform float uCloudsFadeIntensity;uniform bool uDebugDistanceFade;uniform bool uDebugCloudsFade;uniform float uOpacity;
#ifdef DYNAMIC_SHADOWS
uniform bool uDebugShadow;uniform bool receiveShadow;
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
uniform vec3 uShadowColor;uniform vec3 uShadowColor2;uniform float uShadowIntensity;
#endif
#ifdef DEPTH_PACKING
varying vec2 vHighPrecisionZW;
#endif
float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}float circle(in vec2 _st,in float _radius,in float _blur){vec2 dist=_st-vec2(0.5);return 1.-smoothstep(_radius-(_radius*_blur),_radius+(_radius*0.01),dot(dist,dist)*4.0);}void main(){float alpha=1.0-step(0.9,2.0*length(vUv-0.5));if(alpha<0.5)discard;
#ifdef DEPTH_PACKING
gl_FragColor=vec4(vec3(1.),1.0);
#else
float cloudsSample=texture2D(tClouds,vScreenSpace).r;alpha*=mix(1.0,pow(1.0-cloudsSample,uCloudsFadeIntensity),vDistanceFade);alpha*=vRadiusFade;if(alpha<0.01)discard;vec3 lightDirection1=normalize(uLightPosition-vWorldPosition.xyz);vec3 lightDirection2=normalize(uLightPosition2-vWorldPosition.xyz);vec3 normal=texture2D(tNormal,vUv).xyz*2.0-1.0;normal.y*=-1.0;normal=normalize(normal);vec3 randoms=vec3(map(vRandom.x,0.,1.,0.4,1.25),map(vRandom.y,0.,1.,0.2,1.8),map(vRandom.z,0.,1.,0.2,1.8));vec3 ambientColor=mix(uAmbientColor1,uAmbientColor2,vColorMix);vec3 baseColor=mix(uBaseColor,uBaseColor2,vColorMix);baseColor.rgb*=randoms.x;vec3 edgeColor=mix(uEdgeColor1,uEdgeColor2,vColorMix);vec3 bloomColor=mix(uBloomColor1,uBloomColor2,vColorMix);baseColor=mix(baseColor,edgeColor,smoothstep(uEdgeColorStop.x,uEdgeColorStop.y,length(vPosition)));float diff=max(dot(normal,lightDirection1),0.0);float diff2=max(dot(normal,lightDirection2),0.0);vec3 diffuse=diff*uLightColor*uLightIntensity;diffuse=mix(diffuse,diff2*uLightColor2*uLightIntensity2,diff2*uLightIntensity2);vec3 viewDir=normalize(cameraPosition-vWorldPosition.xyz);vec3 reflectDir1=reflect(-lightDirection1,normal.rgb);float spec=pow(max(dot(viewDir,reflectDir1),0.0),uShininess)*uSpecularIntensity;float spec2=pow(max(dot(viewDir,reflect(-lightDirection2,normal.rgb)),0.0),uShininess)*uSpecularIntensity2;vec3 specular=spec*uLightColor;specular=mix(specular,spec2*uLightColor2,spec2);vec3 phongColor=(ambientColor+diffuse)*baseColor+specular;gl_FragColor=vec4(phongColor,alpha);gl_FragColor.rgb=mix(gl_FragColor.rgb,gl_FragColor.rgb+bloomColor,vBrightColorPick);gl_FragColor.rgb=mix(gl_FragColor.rgb,uRandomHighlightBaseColor+uRandomHighlightColor,step(uRandomHighlightSelect,vRandom.x));if(uDebugDistanceFade){gl_FragColor=vec4(vec3(vDistanceFade),1.0);}else if(uDebugCloudsFade){gl_FragColor=vec4(vec3(pow(1.0-cloudsSample,uCloudsFadeIntensity)),1.0);}
#endif
#ifdef DEPTH_PACKING
float fragCoordZ=0.5*vHighPrecisionZW[0]/vHighPrecisionZW[1]+0.5;gl_FragColor=packDepthToRGBA(fragCoordZ);
#else
#ifdef DYNAMIC_SHADOWS
gl_FragColor.rgb=mix(gl_FragColor.rgb,gl_FragColor.rgb*mix(uShadowColor,uShadowColor2,vColorMix),(1.0-getShadowMask())*uShadowIntensity);if(uDebugShadow){gl_FragColor.rgb=vec3(getShadowMask());}
#endif
#endif
#include <tonemapping_fragment>
#include <colorspace_fragment>
}`;class ace extends is{constructor(e={}){e=An({vertexShader:sce,fragmentShader:oce,uniforms:{tPosition:{value:null},uParticleSize:{value:.25,gui:{step:.01}},uScaleRange:{value:new De(.5,1),gui:{min:0,max:5,step:.01}},uOpacity:{value:1,gui:{min:0,max:1,step:.01}},uAmbientColor1:{value:new ke(4210752)},uAmbientColor2:{value:new ke(4210752)},uBaseColor:{value:new ke(4210752)},uBaseColor2:{value:new ke(4210752)},uEdgeColor1:{value:new ke(0)},uEdgeColor2:{value:new ke(0)},uEdgeColorStop:{value:new De(.2,.7),gui:{min:0,max:5,step:.01}},uRandomHighlightSelect:{value:.95,gui:{min:0,max:1,step:.01}},uRandomHighlightBaseColor:{value:new ke(4210752)},uRandomHighlightColor:{value:new Z(1,1.2,.6),gui:{min:0,max:10,step:.01}},uBloomColor1:{value:new ke(4210752)},uBloomColor2:{value:new ke(4210752)},uBrightColorPick:{value:new De(1.7,2.3),gui:{min:0,max:5,step:.01}},uSunDistanceColorStep:{value:18,gui:{min:0,step:.01}},uShininess:{value:30,gui:{min:0,max:200,step:1}},uLightIntensity:{value:1,gui:{min:0,max:10,step:.01}},uSpecularIntensity:{value:1,gui:{min:0,max:10,step:.01}},uLightColor:{value:new ke(16777215)},uLightIntensity2:{value:1,gui:{min:0,max:10,step:.01}},uLightColor2:{value:new ke(16777215)},uSpecularIntensity2:{value:1,gui:{min:0,max:10,step:.01}},uDebugShadow:{value:!1},tClouds:{value:null},uCloudsFadeIntensity:{value:8,gui:{min:0,max:20,step:.1}},uDistanceFadeNearFar:{value:new De(.2,-1.08),gui:{min:2,step:.01}},uDebugDistanceFade:{value:!1},uDebugCloudsFade:{value:!1},...Ke.lights},lights:!0,defines:{DEPTH_PACKING:!1,DYNAMIC_SHADOWS:!0},depthTest:!0,transparent:!0},e),super(e)}}class lce extends co(){constructor(e={}){e=An({name:"LandingOrbParticles",textureWidth:256,maxParticleCount:256*256,planeScale:.1,speed:.005,scrollResponsiveness:.05,scrollMaxSpeed:2},e),super(e),this._textureWidth=this.options.textureWidth,this.PARTICLE_COUNT=this._textureWidth*this._textureWidth,this.ACTIVE_PARTICLE_COUNT=this.PARTICLE_COUNT>this.options.maxParticleCount?this.options.maxParticleCount:this.PARTICLE_COUNT,this.sizeRange=[.5,1],this.scrollSpeedMultiplier=1}build(){this.velocitySim=new Qr({fragmentShader:rce,width:this._textureWidth,height:this._textureWidth,uniforms:{tPosition:{value:null},tOriginalPosition:{value:null},uSetup:{value:1},uFriction:{value:0,gui:{min:0,max:1,step:.001}},uShapeThreshold:{value:.25,gui:{min:0,max:1,step:.001}},uCurlSize:{value:.5,gui:{min:0,max:2,step:.01}},uCurlNoiseSpeed:{value:.3,gui:{min:0,max:5,step:.01}},uCurlStrength:{value:.03,gui:{min:0,max:2,step:.001}},uCurlNoisePersistence:{value:.03,gui:{min:0,max:2,step:.001}},uFrequency:{value:new De(15,8),gui:{min:0,step:.01}},uAmplitude:{value:new De(.1,.1),gui:{min:0,max:1,step:.001}},tFluidSim:{value:S.WebGL.fluidSim.advectionSimVelocity.texture},uFluidStrength:{value:.25,gui:{min:0,step:.001}},uModelMatrix:{value:new xt},uViewMatrix:{value:this.parent.activeCamera.matrixWorldInverse},uProjectionMatrix:{value:this.parent.activeCamera.projectionMatrix}},createTexture:!1,type:Zt}),this.velocitySim.uniforms.uSetup.value=0,this.positionSim=new Qr({fragmentShader:ice,width:this._textureWidth,height:this._textureWidth,uniforms:{tVelocity:{value:this.velocitySim.texture},uSetup:{value:1},uDecay:{value:.01,gui:{min:0,max:1,step:.001}},uDecay2:{value:.01,gui:{min:0,max:1,step:.001}},uLerpSpeed:{value:.2,gui:{min:0,max:1,step:.001}},uLerpSpeed2:{value:.2,gui:{min:0,max:1,step:.001}},uRadius:{value:2.85,gui:{min:0,max:5,step:.01}},uShapeThreshold:this.velocitySim.uniforms.uShapeThreshold,tFluidSim:{value:S.WebGL.fluidSim.advectionSimVelocity.texture},uFluidStrength:{value:.25,gui:{min:0,step:.001}},uModelMatrix:{value:new xt},uViewMatrix:{value:this.parent.activeCamera.matrixWorldInverse},uProjectionMatrix:{value:this.parent.activeCamera.projectionMatrix}},createTexture:!0,data:this.createParticlePositionData(),type:Zt}),this.positionSim.uniforms.uSetup.value=0,this.velocitySim.uniforms.tOriginalPosition.value=this.positionSim.originalTexture,this.mesh=new wp(new ao(this.options.planeScale,this.options.planeScale),new ace({uniforms:{tNormal:{value:this.assets.textures.normal},uShapeThreshold:this.velocitySim.uniforms.uShapeThreshold,tClouds:{value:null},tVelocity:{value:this.velocitySim.texture},tPosition:{value:this.positionSim.texture},...this.parent.globalUniforms.shadow,...this.parent.globalUniforms.sun}}),this.ACTIVE_PARTICLE_COUNT),this.add(this.mesh),this.mesh.name=this.options.name,this.mesh.frustumCulled=!1,this.mesh.customDepthMaterial=new Cn({vertexShader:this.mesh.material.vertexShader,fragmentShader:this.mesh.material.fragmentShader,uniforms:this.mesh.material.uniforms,defines:{DEPTH_PACKING:Kx}});const e=[],t=new Float32Array(this.ACTIVE_PARTICLE_COUNT),i=new jt;for(let r=0;r<this.ACTIVE_PARTICLE_COUNT;r++)i.updateMatrix(),this.mesh.setMatrixAt(r,i.matrix),e.push(Math.random(),Math.random(),Math.random()),t[r]=gn.randFloat(this.sizeRange[0],this.sizeRange[1]);this.mesh.geometry.setAttribute("aFboUv",this.positionSim.fboUv.attributeInstanced),this.mesh.geometry.setAttribute("aRandom",new Do(new Float32Array(e),3)),this.mesh.geometry.setAttribute("aScale",new Do(t,1)),this.mesh.renderOrder=10,this.mesh.castShadow=!0,this.mesh.receiveShadow=!0,this.mesh.updateMatrix(),this.velocitySim.uniforms.uModelMatrix.value=this.mesh.matrixWorld,this.positionSim.uniforms.uModelMatrix.value=this.mesh.matrixWorld}createParticlePositionData(){const e=new Float32Array(this._textureWidth*this._textureWidth*4),t=.1;for(let i=0,r=this._textureWidth*this._textureWidth*4;i<r;i+=4){const s=Math.random()*Math.PI*2,o=Math.random()*2-1,a=gn.mapLinear(Math.random(),0,1,.6,1),l=Math.acos(o),c=t*Math.cbrt(a);e[i]=c*Math.sin(l)*Math.cos(s),e[i+1]=c*Math.sin(l)*Math.sin(s),e[i+2]=c*Math.cos(l),e[i+3]=(gn.seededRandom(o)+Math.random())*.5}return e}update(){this.velocitySim.uniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture,this.velocitySim.uniforms.tPosition.value=this.positionSim.texture,this.velocitySim.uniforms.uModelMatrix.value.copy(this.mesh.matrixWorld),this.velocitySim.uniforms.uViewMatrix.value.copy(this.parent.activeCamera.matrixWorldInverse),this.velocitySim.uniforms.uProjectionMatrix.value.copy(this.parent.activeCamera.projectionMatrix),this.velocitySim.update(),this.positionSim.uniforms.tVelocity.value=this.velocitySim.texture,this.positionSim.uniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture,this.positionSim.uniforms.uModelMatrix.value.copy(this.mesh.matrixWorld),this.positionSim.uniforms.uViewMatrix.value.copy(this.parent.activeCamera.matrixWorldInverse),this.positionSim.uniforms.uProjectionMatrix.value.copy(this.parent.activeCamera.projectionMatrix),this.positionSim.update(),this.updateScrollRotation(this.parent.scrollVelocity),this.mesh.rotation.y+=this.options.speed*this.scrollSpeedMultiplier,this.mesh.material.uniforms.tPosition.value=this.positionSim.texture,this.mesh.material.uniforms.tVelocity.value=this.velocitySim.texture,this.mesh.material.uniforms.tClouds.value=this.parent.components.orb.cloudsRT.texture}updateScrollRotation(e){this.scrollSpeedMultiplier=1+Math.abs(e)*this.options.scrollResponsiveness,this.scrollSpeedMultiplier=gn.clamp(this.scrollSpeedMultiplier,1,this.options.scrollMaxSpeed)}addGui(){const e={rotationSpeed:Te.types.number(this.options.speed,{label:"Rotation Speed",nudgeMultiplier:1e-4,range:[0,.1]}),count:Te.types.number(this.mesh.count,{label:"Particle Count",nudgeMultiplier:1,range:[0,this.ACTIVE_PARTICLE_COUNT]}),simulation:{}},t=["uShapeThreshold","tClouds",...Object.keys(this.parent.globalUniforms.sun),...Object.keys(this.parent.globalUniforms.shadow)],i=["uSetup","uTexelSize","tVelocity","tPosition"],r=S.theatre.helper.autoAddUniforms(e.simulation,this.positionSim.uniforms,i),s=S.theatre.helper.autoAddUniforms(e.simulation,this.velocitySim.uniforms,i);S.theatre.helper.autoAddObject(this.mesh,this.parent.prettyName,{exclude:t,additionalConfig:e}).onValuesChange(a=>{for(let l=0;l<r.length;l++)r[l](this,a.simulation);for(let l=0;l<s.length;l++)s[l](this,a.simulation);this.mesh.count=a.count,this.options.speed=a.rotationSpeed},S.theatre.rafDriver)}load(){S.AssetLoader.loadTexture("webgl/textures/normalMapSphere.jpg",{flipY:!1,wrapping:ts,colorSpace:pi}).then(e=>{this.assets.textures.normal=e})}destroy(){var e,t;super.destroy(),this.parent.remove(this),this.remove(this.mesh),this.velocitySim.destroy(),this.positionSim.destroy(),this.mesh.geometry.dispose(),this.mesh.material.dispose(),(e=this.mesh.material.uniforms.tNormal.value)==null||e.dispose(),(t=this.mesh.material.uniforms.tClouds.value)==null||t.dispose(),this.mesh.customDepthMaterial.dispose(),this.assets.textures.normal.dispose(),this.scrollSpeedMultiplier=1}}var cce=`#include <default_pars>
#include <normals_tangents_vert_pars>
#include <world_position_transform_vert_pars>
varying vec2 vUv;varying vec2 vScreenSpace;varying vec3 vView;varying vec3 vPosition;uniform float uTime;uniform float uRevealProgress;void main(){vUv=uv;vPosition=position;vec4 transformedPosition=vec4(position,1.0);vec3 objectNormal=vec3(normal);vec3 objectTangent=vec3(tangent.xyz);vec3 transformedNormal=objectNormal;transformedNormal=normalMatrix*transformedNormal;vec3 transformedTangent=(modelViewMatrix*vec4(objectTangent,0.0)).xyz;vNormal=normalize(transformedNormal);vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);vec4 worldPosition=modelMatrix*transformedPosition;vec4 mvPosition=viewMatrix*worldPosition;vViewPosition=-mvPosition.xyz;vWorldPosition=worldPosition;vView=normalize(cameraPosition-worldPosition.xyz);vNormal=normalize((modelMatrix*vec4(normal,0.0)).xyz);gl_Position=projectionMatrix*mvPosition;vScreenSpace=gl_Position.xy/gl_Position.w*0.5+vec2(0.5);}`,uce=`#include <default_pars>
#include <default_frag_pars>
#include <tonemapping_pars_fragment>
uniform int uToneMapping;varying vec2 vUv;varying vec2 vScreenSpace;varying vec3 vView;varying vec3 vViewPosition;varying vec3 vPosition;varying vec4 vWorldPosition;varying vec3 vNormal;
#ifdef RENDER_CLOUDS
uniform vec3 uCloudNoiseScale;uniform float uCloudNoiseSpeed;
#else
uniform sampler2D tClouds;
#endif
uniform float uTime;uniform float uColorFresnelAmount;uniform float uColorFresnelOffset;uniform float uColorFresnelFalloff;uniform float uOpacityFresnelAmount;uniform float uOpacityFresnelOffset;uniform float uOpacityFresnelFalloff;uniform bool uDevCameraActive;uniform bool uDebugClouds;uniform vec2 uCloudsSmoothstep;uniform vec3 uCloudsColor;uniform float uOpacity;uniform vec3 uFresnelColor;uniform vec3 uLightPosition;uniform vec3 uLightColor;uniform float uLightIntensity;uniform float uSpecularIntensity;uniform vec3 uLightPosition2;uniform vec3 uLightColor2;uniform float uLightIntensity2;uniform float uSpecularIntensity2;uniform vec3 uAmbientColor;uniform float uShininess;float fresnelFunc(float amount,float offset,float falloff,vec3 normal,vec3 view){return clamp(offset+(1.0-offset)*pow(1.0-dot(normal,view),amount)*falloff,0.,1.);}float random(in vec2 st){return fract(sin(dot(st.xy,vec2(12.9898,78.233)))*43758.5453123);}float mod289(float x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 perm(vec4 x){return mod289(((x*34.0)+1.0)*x);}float noise(vec3 p){vec3 a=floor(p);vec3 d=p-a;d=d*d*(3.0-2.0*d);vec4 b=a.xxyy+vec4(0.0,1.0,0.0,1.0);vec4 k1=perm(b.xyxy);vec4 k2=perm(k1.xyxy+b.zzww);vec4 c=k2+a.zzzz;vec4 k3=perm(c);vec4 k4=perm(c+1.0);vec4 o1=fract(k3*(1.0/41.0));vec4 o2=fract(k4*(1.0/41.0));vec4 o3=o2*d.z+o1*(1.0-d.z);vec2 o4=o3.yw*d.x+o3.xz*(1.0-d.x);return o4.y*d.y+o4.x*(1.0-d.y);}
#define NUM_OCTAVES 5
float fbm(vec3 x){float v=0.0;float a=0.5;vec3 shift=vec3(100);for(int i=0;i<NUM_OCTAVES;++i){v+=a*noise(x);x=x*2.0+shift;a*=0.5;}return v;}vec3 getColorRampColor(float factor,float stop1,float stop2,float stop3,vec3 firstColor,vec3 middleColor,vec3 endColor){vec3 color=mix(firstColor,middleColor,smoothstep(stop1,stop2,factor));color=mix(color,endColor,smoothstep(stop2,stop3,factor));return color;}void main(){
#ifdef RENDER_CLOUDS
float cloudsSample=fbm(vec3(vPosition.xyz*uCloudNoiseScale+vec3(0.0,0.0,uTime*uCloudNoiseSpeed)));gl_FragColor=vec4(vec3(cloudsSample),1.0);return;
#else
vec3 normal=normalize(vNormal);vec3 viewDir=normalize(vView);vec3 lightDir=normalize(uLightPosition-vViewPosition);vec3 ambient=uAmbientColor;float noiseColor=texture2D(tClouds,vScreenSpace).r;float clouds=smoothstep(0.15,0.9,noiseColor);ambient=mix(ambient*uCloudsColor,ambient,clouds);float diff=max(dot(normal,lightDir),0.0);float diff2=max(dot(normal,normalize(uLightPosition2-vViewPosition)),0.0);vec3 diffuse=diff*uLightColor*uLightIntensity;diffuse=mix(diffuse,diff2*uLightColor2*uLightIntensity2,diff2);vec3 reflectDir=reflect(-lightDir,normal);float spec=pow(max(dot(viewDir,reflectDir),0.0),uShininess)*uSpecularIntensity;float spec2=pow(max(dot(viewDir,reflect(-normalize(uLightPosition2-vViewPosition),normal)),0.0),uShininess)*uSpecularIntensity2;vec3 specular=spec*uLightColor;specular=mix(specular,spec2*uLightColor2,spec2);vec3 phongColor=ambient+diffuse+specular;float colorFresnel=fresnelFunc(uColorFresnelAmount,uColorFresnelOffset,uColorFresnelFalloff,normal,viewDir);float opacityFresnel=fresnelFunc(uOpacityFresnelAmount,uOpacityFresnelOffset,uOpacityFresnelFalloff,normal,viewDir);float cloudsAlpha=smoothstep(uCloudsSmoothstep.x,uCloudsSmoothstep.y,noiseColor);gl_FragColor.rgb=vec3(mix(phongColor,uFresnelColor,colorFresnel));gl_FragColor.a=max(cloudsAlpha*uOpacity,opacityFresnel);if(uDebugClouds){gl_FragColor.rgb=vec3(cloudsAlpha);gl_FragColor.a=1.0;}
#include <tonemapping_frag>
#include <colorspace_fragment>
#endif
}`;class fce extends is{constructor(e={}){e=An({vertexShader:cce,fragmentShader:uce,uniforms:{uColorFresnelAmount:{value:0,gui:{min:0,max:100,step:.01}},uColorFresnelOffset:{value:.05,gui:{min:0,max:1,step:.001}},uColorFresnelFalloff:{value:1,gui:{min:0,max:100,step:.01}},uOpacityFresnelAmount:{value:1.82,gui:{min:0,max:100,step:.01}},uOpacityFresnelOffset:{value:.009,gui:{min:0,max:1,step:.001}},uOpacityFresnelFalloff:{value:1.75,gui:{min:0,max:100,step:.01}},uOpacity:{value:1,gui:{min:0,max:1,step:.01}},uFresnelColor:{value:new ke(16777215)},uAmbientColor:{value:new ke(4210752)},uCloudsColor:{value:new ke(0)},tClouds:{value:null},uDebugClouds:{value:!1},uCloudsSmoothstep:{value:new De(.1,.6),gui:{min:0,max:1,step:.01}},uCloudNoiseScale:{value:new Z(5,5,5),gui:{min:0,step:.1}},uCloudNoiseSpeed:{value:.1,gui:{min:0,max:1,step:.01}},uShininess:{value:30,gui:{min:0,max:200,step:1}},uLightPosition:{value:new Z(1,1,1)},uLightPosition2:{value:new Z(1,1,1)},uLightIntensity:{value:1,gui:{min:0,max:2,step:.01}},uSpecularIntensity:{value:1,gui:{min:0,max:2,step:.01}},uLightColor:{value:new ke(16777215)},uLightIntensity2:{value:1,gui:{min:0,max:2,step:.01}},uSpecularIntensity2:{value:1,gui:{min:0,max:2,step:.01}},uLightColor2:{value:new ke(16777215)}},defines:{RENDER_CLOUDS:!1},transparent:!0,depthWrite:!1},e),super(e)}}class dce extends co(Qe){constructor(){super({name:"Landing Orb",scrollResponsiveness:.05,scrollMaxSpeed:3},new Vd(1,32,32),new Jr),this.scale.setScalar(3),this.speed=.002,this.scrollSpeedMultiplier=1}build(){var t;const e=S.WebGL.renderer.getPixelRatio();this.cloudsRT=new ai(S.window.w*e,S.window.h*e,{minFilter:Yt,maxfilter:Yt}),(t=S.WebGL.rtViewer)==null||t.registerRT(this.cloudsRT,"clouds"),this.mainMaterial=new fce,this.material=this.mainMaterial,this.cloudsMaterial=new Cn({vertexShader:this.mainMaterial.vertexShader,fragmentShader:this.mainMaterial.fragmentShader,uniforms:this.mainMaterial.uniforms,defines:{RENDER_CLOUDS:!0}})}update(){this.updateScrollRotation(this.parent.scrollVelocity),this.rotation.y+=this.speed*this.scrollSpeedMultiplier,this.material=this.cloudsMaterial;const e=S.WebGL.renderer.getRenderTarget();S.WebGL.renderer.setRenderTarget(this.cloudsRT),S.WebGL.renderer.render(this,this.parent.activeCamera),S.WebGL.renderer.setRenderTarget(e),this.material=this.mainMaterial,this.mainMaterial.uniforms.tClouds.value=this.cloudsRT.texture}updateScrollRotation(e){this.scrollSpeedMultiplier=1+Math.abs(e)*this.options.scrollResponsiveness,this.scrollSpeedMultiplier=gn.clamp(this.scrollSpeedMultiplier,1,this.options.scrollMaxSpeed)}resize(){const e=S.WebGL.renderer.getPixelRatio();this.cloudsRT.setSize(S.window.w*e,S.window.h*e)}load(){}addGui(){const e={rotationSpeed:Te.types.number(this.speed,{label:"Rotation Speed",nudgeMultiplier:.001,range:[-.1,.1]})};S.theatre.helper.autoAddObject(this,this.parent.prettyName,{additionalConfig:e}).onValuesChange(i=>{this.speed=i.rotationSpeed},S.theatre.rafDriver)}destroy(){super.destroy(),this.parent.remove(this),this.geometry.dispose(),this.mainMaterial.dispose(),this.cloudsMaterial.dispose(),this.cloudsRT.dispose(),this.scrollSpeedMultiplier=1}}var hce=`#include <default_pars>
varying vec2 vUv;uniform sampler2D tOriginalTexture;uniform sampler2D tTexture;uniform float uTime;uniform float uNormalizedDelta;uniform float uIntroAnimation;uniform float uDecay;uniform float uLerpSpeed;uniform sampler2D tFluidSim;uniform float uFluidStrength;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;uniform mat4 uProjectionMatrix;uniform float uSetup;float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec2 fade(vec2 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec2 P){vec4 Pi=floor(P.xyxy)+vec4(0.0,0.0,1.0,1.0);vec4 Pf=fract(P.xyxy)-vec4(0.0,0.0,1.0,1.0);Pi=mod(Pi,289.0);vec4 ix=Pi.xzxz;vec4 iy=Pi.yyww;vec4 fx=Pf.xzxz;vec4 fy=Pf.yyww;vec4 i=permute(permute(ix)+iy);vec4 gx=2.0*fract(i*0.0243902439)-1.0;vec4 gy=abs(gx)-0.5;vec4 tx=floor(gx+0.5);gx=gx-tx;vec2 g00=vec2(gx.x,gy.x);vec2 g10=vec2(gx.y,gy.y);vec2 g01=vec2(gx.z,gy.z);vec2 g11=vec2(gx.w,gy.w);vec4 norm=1.79284291400159-0.85373472095314*vec4(dot(g00,g00),dot(g01,g01),dot(g10,g10),dot(g11,g11));g00*=norm.x;g01*=norm.y;g10*=norm.z;g11*=norm.w;float n00=dot(g00,vec2(fx.x,fy.x));float n10=dot(g10,vec2(fx.y,fy.y));float n01=dot(g01,vec2(fx.z,fy.z));float n11=dot(g11,vec2(fx.w,fy.w));vec2 fade_xy=fade(Pf.xy);vec2 n_x=mix(vec2(n00,n01),vec2(n10,n11),fade_xy.x);float n_xy=mix(n_x.x,n_x.y,fade_xy.y);return 2.3*n_xy;}mat3 rotate3D(float angle,vec3 axis){axis=normalize(axis);float s=sin(angle);float c=cos(angle);float oc=1.0-c;return mat3(oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c);}void main(){vec2 uv=vUv;mat3 rotation3D=rotate3D(0.001*uNormalizedDelta,vec3(0.0,0.0,1.0));vec4 originalPosFetch=texture2D(tOriginalTexture,uv);vec3 offsets=originalPosFetch.xyz;float angle=originalPosFetch.w;float randomIndex=rand(vUv);float randomIndex2=rand(vUv+484854.);vec4 position=texture2D(tTexture,uv);vec3 currentPos=position.xyz;float life=position.w;currentPos=rotation3D*currentPos;if(uSetup>0.5){gl_FragColor=vec4(offsets+normalize(offsets)*angle*map(randomIndex,0.0,1.0,0.1,0.6),cnoise(uv*50.+vec2(uv.x,2.0))*0.5+0.5);return;}if(life<0.0){gl_FragColor=vec4(offsets,1.0);return;}vec4 earlyViewPosition=uViewMatrix*uModelMatrix*vec4(currentPos,1.0);vec4 earlyProjection=uProjectionMatrix*earlyViewPosition;vec2 screenPos=earlyProjection.xy/earlyProjection.w*0.5+0.5;vec3 direction=normalize(offsets);currentPos+=direction*uNormalizedDelta*uLerpSpeed*0.1*angle*map(randomIndex,0.0,1.0,0.1,0.6)*uIntroAnimation;vec3 fluidDisplacement=vec3(0.);fluidDisplacement=texture2D(tFluidSim,screenPos).rgb;fluidDisplacement.z*=-1.+1.;life-=uDecay*uNormalizedDelta*0.1*(randomIndex2*0.5+0.5);gl_FragColor=vec4(currentPos+fluidDisplacement*uFluidStrength,life);}`,pce=`#include <default_pars>
#include <packing>
#ifdef DYNAMIC_SHADOWS
#include <shadowmap_pars_vertex>
#endif
attribute vec3 aRandom;attribute float aScale;attribute vec2 aFboUv;varying float vColorMix;varying vec2 vUv;varying vec2 vFboUv;uniform sampler2D tPosition;uniform float uTime;uniform float uParticleSize;uniform vec2 uScaleRange;varying mat3 vNormalMatrix;varying mat3 vNormalMatrixInverse;varying float vCenterFade;varying vec2 vScreenSpace;varying vec3 vViewPosition;varying vec3 vPosition;varying vec3 vNormal;varying vec4 vWorldPosition;varying vec3 vRandom;varying float vLife;uniform vec2 uCenterFade;
#ifdef DEPTH_PACKING
varying vec2 vHighPrecisionZW;
#endif
mat3 rotate3D(float angle,vec3 axis){axis=normalize(axis);float s=sin(angle);float c=cos(angle);float oc=1.0-c;return mat3(oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c);}float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}void main(){vUv=uv;vFboUv=aFboUv;vRandom=aRandom;vec4 particlePosition=texture2D(tPosition,aFboUv);vLife=particlePosition.w;vec4 transformedPosition=vec4(position,1.0);vec3 up=vec3(modelViewMatrix[0][1],modelViewMatrix[1][1],modelViewMatrix[2][1]);vec3 right=vec3(modelViewMatrix[0][0],modelViewMatrix[1][0],modelViewMatrix[2][0]);transformedPosition.xyz=right*transformedPosition.x+up*transformedPosition.y;
#ifdef USE_INSTANCING
transformedPosition=instanceMatrix*transformedPosition;
#endif
float scale=uParticleSize*aScale;scale*=mix(uScaleRange.x,uScaleRange.y,aRandom.x);scale*=mix(1.0,0.0,smoothstep(0.8,1.0,particlePosition.w));scale*=mix(0.0,1.0,smoothstep(0.0,0.40,particlePosition.w));transformedPosition.xyz*=scale;transformedPosition.xyz+=particlePosition.xyz;vPosition=transformedPosition.xyz;vec4 worldPosition=modelMatrix*transformedPosition;vWorldPosition=worldPosition;mat3 normalMatrixInverse=inverse(mat3(normalMatrix));vNormalMatrix=normalMatrix;vNormalMatrixInverse=normalMatrixInverse;vec3 transformedNormal=normal;
#ifdef USE_INSTANCING
mat3 m=mat3(instanceMatrix);transformedNormal/=vec3(dot(m[0],m[0]),dot(m[1],m[1]),dot(m[2],m[2]));transformedNormal=m*transformedNormal;
#endif
transformedNormal=normalMatrix*normal;vNormal=normalize(transformedNormal);
#ifdef DYNAMIC_SHADOWS
#include <shadowmap_vertex>
#endif
vec4 mvPosition=modelViewMatrix*transformedPosition;gl_Position=projectionMatrix*mvPosition;vViewPosition=-mvPosition.xyz;
#ifdef DEPTH_PACKING
vHighPrecisionZW=gl_Position.zw;
#endif
vScreenSpace=gl_Position.xy/gl_Position.w*0.5+vec2(0.5);vCenterFade=smoothstep(uCenterFade.x,uCenterFade.y,length(vPosition.xyz));}`,mce=`#include <default_pars>
#include <default_frag_pars>
#include <packing>
varying vec3 vRandom;varying vec2 vUv;varying float vLife;varying vec2 vFboUv;varying float vColorMix;varying float vCenterFade;varying mat3 vNormalMatrix;varying mat3 vNormalMatrixInverse;varying vec3 vViewPosition;varying vec3 vPosition;varying vec2 vScreenSpace;varying vec3 vNormal;varying vec4 vWorldPosition;uniform vec3 uColor;uniform vec3 uBloomColor;uniform float uOpacity;
#ifdef DYNAMIC_SHADOWS
uniform bool uDebugShadow;uniform bool receiveShadow;
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
uniform vec3 uShadowColor;uniform vec3 uShadowColor2;uniform float uShadowIntensity;
#endif
#ifdef DEPTH_PACKING
varying vec2 vHighPrecisionZW;
#endif
float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}float circle(in vec2 _st,in float _radius,in float _blur){vec2 dist=_st-vec2(0.5);return 1.-smoothstep(_radius-(_radius*_blur),_radius+(_radius*0.01),dot(dist,dist)*4.0);}void main(){float alpha=1.0-step(0.9,2.0*length(vUv-0.5));if(alpha<0.5)discard;
#ifdef DEPTH_PACKING
gl_FragColor=vec4(vec3(1.),1.0);
#else
gl_FragColor=vec4(uColor+uBloomColor,vCenterFade*uOpacity);
#endif
#ifdef DEPTH_PACKING
float fragCoordZ=0.5*vHighPrecisionZW[0]/vHighPrecisionZW[1]+0.5;gl_FragColor=packDepthToRGBA(fragCoordZ);
#else
#ifdef DYNAMIC_SHADOWS
gl_FragColor.rgb=mix(gl_FragColor.rgb,gl_FragColor.rgb*mix(uShadowColor,uShadowColor2,vColorMix),(1.0-getShadowMask())*uShadowIntensity);if(uDebugShadow){gl_FragColor.rgb=vec3(getShadowMask());}
#endif
#endif
#include <tonemapping_fragment>
#include <colorspace_fragment>
}`;class gce extends is{constructor(e={}){e=An({vertexShader:pce,fragmentShader:mce,uniforms:{tPosition:{value:null},uParticleSize:{value:.25,gui:{step:.01}},uScaleRange:{value:new De(.5,1),gui:{min:0,max:5,step:.01}},uOpacity:{value:1,gui:{min:0,max:1,step:.01}},uCenterFade:{value:new De(.5,1),gui:{min:0,max:5,step:.01}},uColor:{value:new ke(16777215)},uBloomColor:{value:new Z(1,.4,.7),gui:{min:0,max:5,step:.01}}},defines:{DEPTH_PACKING:!1,DYNAMIC_SHADOWS:!1},depthTest:!0,transparent:!0},e),super(e)}}const Ace=function(){let t=1,i=1;const r=[];for(let a=0;a<256;++a)r.push(Math.random());const s=function(a){const l=a*i,c=Math.floor(l),u=l-c,f=u*u*(3-2*u),h=c&255,p=h+1&255;return o(r[h],r[p],f)*t},o=function(a,l,c){return a*(1-c)+l*c};return{getVal:s,setAmplitude:function(a){t=a},setScale:function(a){i=a}}};class vce extends co(){constructor(e={}){e=An({name:"LandingOrbFlareParticles",textureWidth:96,maxParticleCount:96*96,planeScale:.1},e),super(e),this._textureWidth=this.options.textureWidth,this.PARTICLE_COUNT=this._textureWidth*this._textureWidth,this.ACTIVE_PARTICLE_COUNT=this.PARTICLE_COUNT>this.options.maxParticleCount?this.options.maxParticleCount:this.PARTICLE_COUNT,this.sizeRange=[.5,1]}build(){this.positionSim=new Qr({fragmentShader:hce,width:this._textureWidth,height:this._textureWidth,uniforms:{uSetup:{value:1},uDecay:{value:.01,gui:{min:0,max:1,step:.001}},uLerpSpeed:{value:.2,gui:{min:0,max:1,step:.001}},uIntroAnimation:{value:1},tFluidSim:{value:S.WebGL.fluidSim.advectionSimVelocity.texture},uFluidStrength:{value:.25,gui:{min:0,step:.001}},uModelMatrix:{value:new xt},uViewMatrix:{value:this.parent.activeCamera.matrixWorldInverse},uProjectionMatrix:{value:this.parent.activeCamera.projectionMatrix}},createTexture:!0,data:this.createParticlePositionData(),type:Zt}),this.positionSim.uniforms.uSetup.value=0,this.mesh=new wp(new ao(this.options.planeScale,this.options.planeScale),new gce({uniforms:{tPosition:{value:this.positionSim.texture}}}),this.ACTIVE_PARTICLE_COUNT),this.add(this.mesh),this.mesh.name=this.options.name,this.mesh.frustumCulled=!1;const e=[],t=new Float32Array(this.ACTIVE_PARTICLE_COUNT),i=new jt;for(let r=0;r<this.ACTIVE_PARTICLE_COUNT;r++)i.updateMatrix(),this.mesh.setMatrixAt(r,i.matrix),e.push(Math.random(),Math.random(),Math.random()),t[r]=gn.randFloat(this.sizeRange[0],this.sizeRange[1]);this.mesh.geometry.setAttribute("aFboUv",this.positionSim.fboUv.attributeInstanced),this.mesh.geometry.setAttribute("aRandom",new Do(new Float32Array(e),3)),this.mesh.geometry.setAttribute("aScale",new Do(t,1)),this.mesh.updateMatrix(),this.positionSim.uniforms.uModelMatrix.value=this.mesh.matrixWorld}createParticlePositionData(){const e=new Float32Array(this._textureWidth*this._textureWidth*4),t=2.9,i=new Ace;for(let r=0,s=this._textureWidth*this._textureWidth*4;r<s;r+=4){const o=Math.random(),a=r/s*Math.PI*2,l=.1,c=Math.cos(a)*t,u=Math.sin(a)*t,f=Math.sin(o*Math.PI*2)*l;e[r]=c,e[r+1]=u,e[r+2]=f,e[r+3]=gn.mapLinear(i.getVal(a*Math.PI*7),0,1,.2,1.25)}return e}update(){this.positionSim.uniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture,this.positionSim.uniforms.uModelMatrix.value.copy(this.mesh.matrixWorld),this.positionSim.uniforms.uViewMatrix.value.copy(this.parent.activeCamera.matrixWorldInverse),this.positionSim.uniforms.uProjectionMatrix.value.copy(this.parent.activeCamera.projectionMatrix),this.positionSim.update(),this.mesh.material.uniforms.tPosition.value=this.positionSim.texture}addGui(){const e={count:Te.types.number(this.mesh.count,{label:"Particle Count",nudgeMultiplier:1,range:[0,this.ACTIVE_PARTICLE_COUNT]}),simulation:{}},t=["uShapeThreshold","tClouds",...Object.keys(this.parent.globalUniforms.sun),...Object.keys(this.parent.globalUniforms.shadow)],i=["uSetup","uTexelSize","tVelocity","tPosition","uIntroAnimation"],r=S.theatre.helper.autoAddUniforms(e.simulation,this.positionSim.uniforms,i);S.theatre.helper.autoAddObject(this.mesh,this.parent.prettyName,{exclude:t,additionalConfig:e}).onValuesChange(o=>{for(let a=0;a<r.length;a++)r[a](this,o.simulation);this.mesh.count=o.count},S.theatre.rafDriver)}load(){}}const{lockScroll:yce,unlockScroll:_ce}=CA();class bce extends cc{constructor(){super("landing-orb",{domId:"landing"}),Object.assign(this.components,{orb:new dce,particles:new lce,flares:new vce}),Object.assign(this.globalUniforms,{shadow:{uShadowColor:{value:new ke(0)},uShadowColor2:{value:new ke(0)},uShadowIntensity:{value:.75}},sun:{uLightPosition:{value:new Z(1,1,1)},uLightPosition2:{value:new Z(1,1,1)}}}),this.scrollVelocity=0}start(){var e;super.start(),(e=this.introAnimation)==null||e.play(),S.theatre.objects[this.prettyName]["Post FX"]&&this.updatePostFXValuesFromTheatre(S.theatre.objects[this.prettyName]["Post FX"].value)}build(){super.build(),this.buildLights();const e={shadowColor:S.theatre.helper.parseColor(this.globalUniforms.shadow.uShadowColor.value,"shadow color"),shadowColor2:S.theatre.helper.parseColor(this.globalUniforms.shadow.uShadowColor2.value,"shadow color 2"),shadowIntensity:Te.types.number(this.globalUniforms.shadow.uShadowIntensity.value,{label:"shadow intensity",range:[0,1],nudgeMultiplier:.01}),sunPosition:Te.types.compound({x:Te.types.number(this.sun.position.x,{nudgeMultiplier:.1}),y:Te.types.number(this.sun.position.y,{nudgeMultiplier:.1}),z:Te.types.number(this.sun.position.z,{nudgeMultiplier:.1})}),dirLight2position:Te.types.compound({x:Te.types.number(this.dirLight2.position.x,{nudgeMultiplier:.1}),y:Te.types.number(this.dirLight2.position.y,{nudgeMultiplier:.1}),z:Te.types.number(this.dirLight2.position.z,{nudgeMultiplier:.1})}),shadowCamera:Te.types.compound({near:Te.types.number(this.sun.shadow.camera.near,{nudgeMultiplier:.1}),far:Te.types.number(this.sun.shadow.camera.far,{nudgeMultiplier:.1}),left:Te.types.number(this.sun.shadow.camera.left,{nudgeMultiplier:.1}),right:Te.types.number(this.sun.shadow.camera.right,{nudgeMultiplier:.1}),top:Te.types.number(this.sun.shadow.camera.top,{nudgeMultiplier:.1}),bottom:Te.types.number(this.sun.shadow.camera.bottom,{nudgeMultiplier:.1}),bias:Te.types.number(this.sun.shadow.bias,{nudgeMultiplier:1e-4}),normalBias:Te.types.number(this.sun.shadow.normalBias,{nudgeMultiplier:1e-4}),blurSamples:Te.types.number(this.sun.shadow.blurSamples,{nudgeMultiplier:1})}),shadowRadius:Te.types.number(this.sun.shadow.radius,{nudgeMultiplier:.1})};S.theatre.helper.addStudioSheetObject(this.prettyName,"Sun and Shadow",{visible:Te.types.boolean(this.sunHelper.visible,{label:"sun helper"}),shadowHelper:Te.types.boolean(this.sunShadowHelper.visible,{label:"shadow helper"}),dirLight2HelperVisible:Te.types.boolean(this.dirLight2Helper.visible,{label:"directional light 2 helper"})}).onValuesChange(r=>{this.dirLight2Helper.visible=r.dirLight2HelperVisible,this.dirLight2Helper.update(),this.sunHelper.visible=r.visible,this.sunShadowHelper.visible=r.shadowHelper,this.sunHelper.update(),this.sunShadowHelper.update()},S.theatre.rafDriver),S.theatre.helper.addSheetObject(this.prettyName,"Sun and Shadow",e,this).onValuesChange(r=>{this.globalUniforms.shadow.uShadowColor.value.copy(r.shadowColor),this.globalUniforms.shadow.uShadowColor2.value.copy(r.shadowColor2),this.globalUniforms.shadow.uShadowIntensity.value=r.shadowIntensity,this.sun.position.set(r.sunPosition.x,r.sunPosition.y,r.sunPosition.z),this.dirLight2.position.set(r.dirLight2position.x,r.dirLight2position.y,r.dirLight2position.z),this.dirLight2Helper.update(),this.sun.shadow.camera.near=r.shadowCamera.near,this.sun.shadow.camera.far=r.shadowCamera.far,this.sun.shadow.camera.left=r.shadowCamera.left,this.sun.shadow.camera.right=r.shadowCamera.right,this.sun.shadow.camera.top=r.shadowCamera.top,this.sun.shadow.camera.bottom=r.shadowCamera.bottom,this.sun.shadow.bias=r.shadowCamera.bias,this.sun.shadow.normalBias=r.shadowCamera.normalBias,this.sun.shadow.blurSamples=r.shadowCamera.blurSamples,this.sun.shadow.radius=r.shadowRadius,this.sun.shadow.camera.updateProjectionMatrix(),this.sun.shadow.needsUpdate=!0,S.WebGL.renderer.shadowMap.needsUpdate=!0,this.sunHelper.update(),this.sunShadowHelper.update()},S.theatre.rafDriver)}buildLights(){this.dirLight2=new Qg(16777215,1),this.dirLight2.position.copy(this.globalUniforms.sun.uLightPosition2.value),this.dirLight2.target.position.set(0,0,0),this.add(this.dirLight2.target),this.add(this.dirLight2),this.dirLight2Helper=new Qw(this.dirLight2),this.dirLight2Helper.visible=!1,this.add(this.dirLight2Helper),this.sun=new Qg(16777215,1),this.sun.shadow.autoUpdate=!0,this.sun.position.copy(this.globalUniforms.sun.uLightPosition.value),this.sun.target.position.set(0,0,0),this.sun.castShadow=!1,this.sun.shadow.mapSize.width=S.breakpoints.is("touch")?1024:2048,this.sun.shadow.mapSize.height=S.breakpoints.is("touch")?1024:2048,this.sun.shadow.camera.near=7.3,this.sun.shadow.camera.far=60,this.sun.shadow.camera.left=-9,this.sun.shadow.camera.right=9,this.sun.shadow.camera.top=11,this.sun.shadow.camera.bottom=-7,this.sun.shadow.blurSamples=6,this.sun.shadow.radius=2.3,this.sun.shadow.bias=-.001,this.sun.shadow.normalBias=0,this.add(this.sun),this.add(this.sun.target),this.sunHelper=new Qw(this.sun),this.sunHelper.visible=!1,this.add(this.sunHelper),this.sunShadowHelper=new c4(this.sun.shadow.camera),this.sunShadowHelper.visible=!1,this.add(this.sunShadowHelper)}updateLightandShadowUniforms(){this.globalUniforms.sun.uLightPosition.value.copy(this.sun.position),this.globalUniforms.sun.uLightPosition2.value.copy(this.dirLight2.position)}buildScrollAnimation(){var i;if(S.urlParams.has("scene"))return;const t=(i=OA(UA).theme)==null?void 0:i.screens;this.mm=dr.matchMedia(),this.mm.add({isDesktop:S.breakpoints.mediaQueries.md.media,isMobile:`(max-width: ${Number.parseInt(t.md)-1}px)`},r=>(this.scrollAnimation=dr.timeline({defaults:{duration:1.5,ease:(r.conditions.isDesktop,"power1.inOut")}}),this.introAnimation=dr.timeline({onStart:()=>{yce()},defaults:{duration:4,ease:(r.conditions.isDesktop,"power2.out")}}),r.conditions.isDesktop?(this.scrollAnimation.fromTo(this.cameras.camera1._position,{x:0,y:3.1,z:16.6},{x:3,y:-2,z:12,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"]`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,start:"top top",end:"center center",scrub:!0}},0),this.introAnimation.fromTo(this.components.particles.mesh.position,{y:-4,z:8},{y:0,z:0,delay:.6},0),this.introAnimation.fromTo(this.components.orb.position,{y:-4,z:8},{y:0,z:0,delay:.6},0),this.introAnimation.fromTo(this.components.flares.mesh.position,{y:-4,z:8},{y:0,z:0,delay:.6},0),this.introAnimation.fromTo(this.components.particles.mesh.rotation,{x:2},{x:0},"<+0.2"),this.introAnimation.fromTo(this.components.orb.rotation,{x:2},{x:0},"<"),this.introAnimation.fromTo(this.components.flares.positionSim.uniforms.uIntroAnimation,{value:4},{value:1,duration:3},"<")):(this.scrollAnimation.fromTo(this.cameras.camera1._position,{x:0,y:2.5,z:11},{x:1,y:-2.2,z:10,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"]`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,start:"top top",end:"bottom bottom-=15%",scrub:!0}},0),this.introAnimation.fromTo(this.components.particles.mesh.position,{y:-4,z:7},{y:0,z:0,delay:.5},0),this.introAnimation.fromTo(this.components.orb.position,{y:-4,z:7},{y:0,z:0,delay:.5},0),this.introAnimation.fromTo(this.components.flares.mesh.position,{y:-4,z:7},{y:0,z:0,delay:.5},0),this.introAnimation.fromTo(this.components.particles.mesh.rotation,{x:1.6},{x:0},"<+0.2"),this.introAnimation.fromTo(this.components.orb.rotation,{x:1.6},{x:0},"<"),this.introAnimation.fromTo(this.components.flares.positionSim.uniforms.uIntroAnimation,{value:2.5},{value:1,duration:3},"<")),this.introAnimation.call(()=>{_ce()},null,">-=1"),this.sectionScroll=Dt.create({trigger:`[data-webgl-section="${this.options.domId}"]`,start:"top top",end:"bottom bottom",scrub:!0}),()=>{this.scrollAnimation.kill(),this.sectionScroll.kill()}))}update(){this.sectionScroll&&(this.scrollVelocity=gn.lerp(this.scrollVelocity,this.sectionScroll.getVelocity(),.03)),this.updateLightandShadowUniforms(),super.update()}buildShadowPreviewMesh(){const e=`
		varying vec2 vUv;

		void main() {
			gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
			vUv = uv;
		}
		`,t=`
		#include <common>
		#include <packing>

		uniform sampler2D uDepthTexture;

		varying vec2 vUv;

		void main() {

			float depth = 1.0 - unpackRGBAToDepth( texture2D( uDepthTexture, vUv ) );
			gl_FragColor = vec4( vec3( depth ), 1.0 );

		}
		`;this.shadowPreviewMesh=new Qe(new ao,new Cn({vertexShader:e,fragmentShader:t,uniforms:{uDepthTexture:{value:null}},transparent:!0,depthTest:!1})),this.shadowPreviewMesh.name="Shadow Preview",this.shadowPreviewMesh.renderOrder=1e3,this.shadowPreviewMesh.position.set(-1.16,.8,-5),this.shadowPreviewMesh.visible=!0,this.cameras.camera1.add(this.shadowPreviewMesh),this.add(this.cameras.camera1)}destroy(){super.destroy(),this.scrollVelocity=0}}const xce=`{
 "camera":{
  "focal-length":50.0,
  "film-gauge":36.0,
  "ui-markers":0.0,
  "key-stops":0.0,
  "cam_marker":0.0,
  "tgt_marker":0.0
 },
 "objects":{},
 "grouped-objects":{},
 "paths":{
  "hover-001":[
   [
    [
     0.9181,
     -0.3338,
     -1.8907
    ],
    [
     1.5041,
     0.4792,
     -1.4342
    ],
    [
     1.7121,
     -0.5664,
     -1.136
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-002":[
   [
    [
     -2.0538,
     -0.3082,
     0.4846
    ],
    [
     -1.7188,
     0.5329,
     1.1379
    ],
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -2.031,
     0.3188,
     0.5626
    ],
    [
     -1.8205,
     0.9241,
     0.6021
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-003":[
   [
    [
     0.5359,
     -1.7443,
     1.098
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ],
    [
     0.0137,
     -1.9162,
     0.9312
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-004":[
   [
    [
     -1.4882,
     -1.0691,
     1.0902
    ],
    [
     -1.8515,
     -0.9329,
     0.4858
    ],
    [
     -1.4573,
     -1.4493,
     0.5641
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-005":[
   [
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     0.6833,
     -2.0172,
     -0.0087
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     0.8959,
     -1.8679,
     -0.493
    ],
    [
     1.7061,
     -1.2733,
     0.0182
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-006":[
   [
    [
     -0.9318,
     -1.849,
     -0.5093
    ],
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     -0.9318,
     -1.849,
     -0.5093
    ],
    [
     -1.4943,
     -1.0769,
     -1.0709
    ],
    [
     -0.9105,
     -1.2834,
     -1.4377
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-007":[
   [
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -0.6698,
     -2.0231,
     -0.021
    ],
    [
     -0.5656,
     -1.7456,
     -1.0848
    ],
    [
     -0.9105,
     -1.2834,
     -1.4377
    ],
    [
     -1.2559,
     -0.7166,
     -1.567
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-008":[
   [
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     -0.0301,
     -1.1102,
     1.8168
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-009":[
   [
    [
     -1.8247,
     -0.5638,
     0.9423
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-011":[
   [
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     1.4999,
     -0.4955,
     1.4329
    ],
    [
     1.4461,
     0.1656,
     1.5562
    ],
    [
     1.806,
     -0.619,
     0.9428
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-012":[
   [
    [
     2.031,
     0.647,
     0.0365
    ],
    [
     1.7428,
     0.5294,
     1.0997
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-013":[
   [
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     1.8315,
     0.902,
     0.6023
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-014":[
   [
    [
     0.9415,
     1.8475,
     0.4931
    ],
    [
     0.0335,
     1.8182,
     1.1063
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-015":[
   [
    [
     0.5902,
     1.7535,
     1.0556
    ],
    [
     0.6315,
     0.9307,
     1.8069
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-016":[
   [
    [
     0.5807,
     -0.7692,
     1.8982
    ],
    [
     0.0041,
     -0.0253,
     2.1306
    ],
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-017":[
   [
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     -1.2548,
     0.7317,
     1.5639
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-018":[
   [
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     0.9406,
     1.831,
     -0.5549
    ],
    [
     0.5353,
     1.7501,
     -1.0914
    ],
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     0.6858,
     2.0145,
     0.0293
    ],
    [
     1.4914,
     1.433,
     0.5084
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-019":[
   [
    [
     1.806,
     -0.619,
     0.9428
    ],
    [
     2.028,
     0.3274,
     0.5735
    ],
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     2.028,
     0.3274,
     0.5735
    ],
    [
     1.4831,
     1.1,
     1.0657
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-020":[
   [
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     1.5003,
     1.0448,
     -1.0928
    ],
    [
     1.8524,
     0.0364,
     -1.0472
    ],
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     2.13,
     0.0061,
     -0.0266
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-021":[
   [
    [
     0.5353,
     1.7501,
     -1.0914
    ],
    [
     1.0863,
     0.9702,
     -1.5587
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-022":[
   [
    [
     -1.2774,
     1.6989,
     -0.0774
    ],
    [
     -1.8364,
     0.9651,
     -0.4971
    ],
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     -1.2774,
     1.6989,
     -0.0774
    ],
    [
     -1.1242,
     1.5463,
     0.946
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-023":[
   [
    [
     0.5941,
     1.3494,
     -1.5352
    ],
    [
     0.0252,
     1.1029,
     -1.8213
    ],
    [
     -0.5979,
     0.8052,
     -1.8815
    ],
    [
     -0.5907,
     1.3467,
     -1.5403
    ],
    [
     0.0252,
     1.1029,
     -1.8213
    ],
    [
     0.0084,
     1.594,
     -1.4118
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-024":[
   [
    [
     -1.0463,
     1.4486,
     -1.1543
    ],
    [
     -0.9311,
     1.8353,
     -0.55
    ],
    [
     -1.7191,
     1.2587,
     -0.0217
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-025":[
   [
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -1.8172,
     0.5902,
     -0.9497
    ],
    [
     -2.0141,
     -0.3212,
     -0.6064
    ],
    [
     -1.4284,
     1.4571,
     -0.6046
    ],
    [
     -1.8172,
     0.5902,
     -0.9497
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-026":[
   [
    [
     -0.5728,
     0.1917,
     -2.0435
    ],
    [
     -0.3562,
     -0.4773,
     -2.047
    ],
    [
     0.0209,
     -0.9796,
     -1.8914
    ],
    [
     -0.681,
     -0.912,
     -1.8005
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "electric-406":[
   [
    [
     -1.2548,
     0.7317,
     1.5639
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ]
   ],
   {
    "attributes":{
     "index":785
    }
   }
  ],
  "electric-001":[
   [
    [
     -1.493,
     -0.46,
     1.448
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ]
   ],
   {
    "attributes":{
     "index":573
    }
   }
  ],
  "electric-002":[
   [
    [
     -1.493,
     -0.46,
     1.448
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ]
   ],
   {
    "attributes":{
     "index":558
    }
   }
  ],
  "electric-003":[
   [
    [
     -1.493,
     -0.46,
     1.448
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ]
   ],
   {
    "attributes":{
     "index":705
    }
   }
  ],
  "electric-004":[
   [
    [
     -0.5602,
     -0.8298,
     1.8783
    ],
    [
     -1.493,
     -0.46,
     1.448
    ]
   ],
   {
    "attributes":{
     "index":861
    }
   }
  ],
  "electric-005":[
   [
    [
     -0.5602,
     -0.8298,
     1.8783
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ]
   ],
   {
    "attributes":{
     "index":547
    }
   }
  ],
  "electric-006":[
   [
    [
     -0.5602,
     -0.8298,
     1.8783
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{
     "index":943
    }
   }
  ],
  "electric-007":[
   [
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{
     "index":492
    }
   }
  ],
  "electric-008":[
   [
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -0.5602,
     -0.8298,
     1.8783
    ],
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ],
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ]
   ],
   {
    "attributes":{
     "index":425
    }
   }
  ],
  "electric-009":[
   [
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ],
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -1.493,
     -0.46,
     1.448
    ]
   ],
   {
    "attributes":{
     "index":161
    }
   }
  ],
  "electric-010":[
   [
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ]
   ],
   {
    "attributes":{
     "index":558
    }
   }
  ],
  "electric-011":[
   [
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -0.5602,
     -0.8298,
     1.8783
    ]
   ],
   {
    "attributes":{
     "index":425
    }
   }
  ],
  "electric-012":[
   [
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ]
   ],
   {
    "attributes":{
     "index":574
    }
   }
  ],
  "electric-013":[
   [
    [
     0.5944,
     -1.3142,
     1.5696
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ]
   ],
   {
    "attributes":{
     "index":400
    }
   }
  ],
  "electric-014":[
   [
    [
     -0.0292,
     -1.5633,
     1.4462
    ],
    [
     -0.5602,
     -0.8298,
     1.8783
    ]
   ],
   {
    "attributes":{
     "index":410
    }
   }
  ],
  "electric-015":[
   [
    [
     -0.0292,
     -1.5633,
     1.4462
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ]
   ],
   {
    "attributes":{
     "index":243
    }
   }
  ],
  "electric-016":[
   [
    [
     -0.0292,
     -1.5633,
     1.4462
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{
     "index":920
    }
   }
  ],
  "electric-017":[
   [
    [
     0.5807,
     -0.7692,
     1.8982
    ],
    [
     -0.0292,
     -1.5633,
     1.4462
    ]
   ],
   {
    "attributes":{
     "index":511
    }
   }
  ],
  "electric-018":[
   [
    [
     0.5807,
     -0.7692,
     1.8982
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ],
    [
     0.5807,
     -0.7692,
     1.8982
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ]
   ],
   {
    "attributes":{
     "index":45
    }
   }
  ],
  "electric-019":[
   [
    [
     -0.0301,
     -1.1102,
     1.8168
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -0.0301,
     -1.1102,
     1.8168
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ]
   ],
   {
    "attributes":{
     "index":929
    }
   }
  ],
  "electric-020":[
   [
    [
     -0.0301,
     -1.1102,
     1.8168
    ],
    [
     0.5807,
     -0.7692,
     1.8982
    ],
    [
     -0.0301,
     -1.1102,
     1.8168
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ],
    [
     -0.0301,
     -1.1102,
     1.8168
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{
     "index":992
    }
   }
  ],
  "electric-021":[
   [
    [
     -0.0301,
     -1.1102,
     1.8168
    ],
    [
     -0.5602,
     -0.8298,
     1.8783
    ],
    [
     -0.0301,
     -1.1102,
     1.8168
    ],
    [
     -0.0292,
     -1.5633,
     1.4462
    ]
   ],
   {
    "attributes":{
     "index":843
    }
   }
  ],
  "electric-022":[
   [
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ],
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ]
   ],
   {
    "attributes":{
     "index":596
    }
   }
  ],
  "electric-023":[
   [
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     0.5807,
     -0.7692,
     1.8982
    ]
   ],
   {
    "attributes":{
     "index":400
    }
   }
  ],
  "electric-024":[
   [
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     -0.5602,
     -0.8298,
     1.8783
    ],
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     -0.0301,
     -1.1102,
     1.8168
    ]
   ],
   {
    "attributes":{
     "index":184
    }
   }
  ],
  "electric-025":[
   [
    [
     1.4461,
     0.1656,
     1.5562
    ],
    [
     1.2294,
     0.7388,
     1.575
    ]
   ],
   {
    "attributes":{
     "index":340
    }
   }
  ],
  "electric-026":[
   [
    [
     1.4999,
     -0.4955,
     1.4329
    ],
    [
     0.5807,
     -0.7692,
     1.8982
    ]
   ],
   {
    "attributes":{
     "index":637
    }
   }
  ],
  "electric-027":[
   [
    [
     1.4999,
     -0.4955,
     1.4329
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ]
   ],
   {
    "attributes":{
     "index":185
    }
   }
  ],
  "electric-028":[
   [
    [
     0.9764,
     0.3109,
     1.8659
    ],
    [
     1.4999,
     -0.4955,
     1.4329
    ]
   ],
   {
    "attributes":{
     "index":640
    }
   }
  ],
  "electric-029":[
   [
    [
     0.9764,
     0.3109,
     1.8659
    ],
    [
     1.4461,
     0.1656,
     1.5562
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ],
    [
     1.2294,
     0.7388,
     1.575
    ]
   ],
   {
    "attributes":{
     "index":854
    }
   }
  ],
  "electric-030":[
   [
    [
     1.0726,
     -0.3515,
     1.8099
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ]
   ],
   {
    "attributes":{
     "index":981
    }
   }
  ],
  "electric-031":[
   [
    [
     1.0726,
     -0.3515,
     1.8099
    ],
    [
     1.4461,
     0.1656,
     1.5562
    ],
    [
     1.0726,
     -0.3515,
     1.8099
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ],
    [
     1.0726,
     -0.3515,
     1.8099
    ],
    [
     0.5807,
     -0.7692,
     1.8982
    ]
   ],
   {
    "attributes":{
     "index":311
    }
   }
  ],
  "electric-032":[
   [
    [
     1.0726,
     -0.3515,
     1.8099
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ],
    [
     1.0726,
     -0.3515,
     1.8099
    ],
    [
     1.4999,
     -0.4955,
     1.4329
    ]
   ],
   {
    "attributes":{
     "index":326
    }
   }
  ],
  "electric-033":[
   [
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     1.4461,
     0.1656,
     1.5562
    ],
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ]
   ],
   {
    "attributes":{
     "index":573
    }
   }
  ],
  "electric-034":[
   [
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ]
   ],
   {
    "attributes":{
     "index":639
    }
   }
  ],
  "electric-035":[
   [
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     0.5807,
     -0.7692,
     1.8982
    ],
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     1.0726,
     -0.3515,
     1.8099
    ]
   ],
   {
    "attributes":{
     "index":520
    }
   }
  ],
  "electric-036":[
   [
    [
     -0.8964,
     1.2959,
     1.4304
    ],
    [
     -1.2548,
     0.7317,
     1.5639
    ]
   ],
   {
    "attributes":{
     "index":878
    }
   }
  ],
  "electric-037":[
   [
    [
     -0.2782,
     1.4274,
     1.5552
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ]
   ],
   {
    "attributes":{
     "index":441
    }
   }
  ],
  "electric-038":[
   [
    [
     0.9301,
     1.2734,
     1.4374
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ]
   ],
   {
    "attributes":{
     "index":219
    }
   }
  ],
  "electric-039":[
   [
    [
     0.9301,
     1.2734,
     1.4374
    ],
    [
     0.2769,
     1.394,
     1.5837
    ]
   ],
   {
    "attributes":{
     "index":33
    }
   }
  ],
  "electric-040":[
   [
    [
     0.9301,
     1.2734,
     1.4374
    ],
    [
     1.2294,
     0.7388,
     1.575
    ]
   ],
   {
    "attributes":{
     "index":218
    }
   }
  ],
  "electric-041":[
   [
    [
     -0.6395,
     0.9117,
     1.8172
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     -0.6395,
     0.9117,
     1.8172
    ],
    [
     0.2769,
     1.394,
     1.5837
    ]
   ],
   {
    "attributes":{
     "index":814
    }
   }
  ],
  "electric-042":[
   [
    [
     -0.6395,
     0.9117,
     1.8172
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ],
    [
     -0.6395,
     0.9117,
     1.8172
    ],
    [
     -1.2548,
     0.7317,
     1.5639
    ],
    [
     -0.6395,
     0.9117,
     1.8172
    ],
    [
     -0.2782,
     1.4274,
     1.5552
    ]
   ],
   {
    "attributes":{
     "index":307
    }
   }
  ],
  "electric-043":[
   [
    [
     -0.6395,
     0.9117,
     1.8172
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ]
   ],
   {
    "attributes":{
     "index":324
    }
   }
  ],
  "electric-044":[
   [
    [
     -0.003,
     1.0165,
     1.8721
    ],
    [
     0.9301,
     1.2734,
     1.4374
    ],
    [
     -0.003,
     1.0165,
     1.8721
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ]
   ],
   {
    "attributes":{
     "index":79
    }
   }
  ],
  "electric-045":[
   [
    [
     -0.003,
     1.0165,
     1.8721
    ],
    [
     -0.6395,
     0.9117,
     1.8172
    ]
   ],
   {
    "attributes":{
     "index":179
    }
   }
  ],
  "electric-046":[
   [
    [
     -0.003,
     1.0165,
     1.8721
    ],
    [
     -0.2782,
     1.4274,
     1.5552
    ],
    [
     -0.003,
     1.0165,
     1.8721
    ],
    [
     0.2769,
     1.394,
     1.5837
    ]
   ],
   {
    "attributes":{
     "index":233
    }
   }
  ],
  "electric-047":[
   [
    [
     0.6315,
     0.9307,
     1.8069
    ],
    [
     -0.2782,
     1.4274,
     1.5552
    ]
   ],
   {
    "attributes":{
     "index":938
    }
   }
  ],
  "electric-048":[
   [
    [
     0.6315,
     0.9307,
     1.8069
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ],
    [
     0.6315,
     0.9307,
     1.8069
    ],
    [
     1.2294,
     0.7388,
     1.575
    ],
    [
     0.6315,
     0.9307,
     1.8069
    ],
    [
     -0.003,
     1.0165,
     1.8721
    ]
   ],
   {
    "attributes":{
     "index":949
    }
   }
  ],
  "electric-049":[
   [
    [
     0.6315,
     0.9307,
     1.8069
    ],
    [
     0.2769,
     1.394,
     1.5837
    ],
    [
     0.6315,
     0.9307,
     1.8069
    ],
    [
     0.9301,
     1.2734,
     1.4374
    ]
   ],
   {
    "attributes":{
     "index":944
    }
   }
  ],
  "electric-050":[
   [
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     0.6315,
     0.9307,
     1.8069
    ],
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     -0.2782,
     1.4274,
     1.5552
    ]
   ],
   {
    "attributes":{
     "index":981
    }
   }
  ],
  "electric-051":[
   [
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ],
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ]
   ],
   {
    "attributes":{
     "index":287
    }
   }
  ],
  "electric-052":[
   [
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     -0.003,
     1.0165,
     1.8721
    ],
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     -0.6395,
     0.9117,
     1.8172
    ]
   ],
   {
    "attributes":{
     "index":730
    }
   }
  ],
  "electric-053":[
   [
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     -0.6395,
     0.9117,
     1.8172
    ],
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     1.2294,
     0.7388,
     1.575
    ],
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     0.2769,
     1.394,
     1.5837
    ]
   ],
   {
    "attributes":{
     "index":22
    }
   }
  ],
  "electric-054":[
   [
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ],
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     0.5481,
     -0.1528,
     2.0526
    ],
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     -0.003,
     1.0165,
     1.8721
    ]
   ],
   {
    "attributes":{
     "index":915
    }
   }
  ],
  "electric-055":[
   [
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     -0.3162,
     0.4911,
     2.0472
    ],
    [
     0.3255,
     0.4854,
     2.049
    ],
    [
     0.6315,
     0.9307,
     1.8069
    ]
   ],
   {
    "attributes":{
     "index":244
    }
   }
  ],
  "electric-056":[
   [
    [
     0.0041,
     -0.0253,
     2.1306
    ],
    [
     0.9764,
     0.3109,
     1.8659
    ],
    [
     0.0041,
     -0.0253,
     2.1306
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ],
    [
     0.0041,
     -0.0253,
     2.1306
    ],
    [
     -0.5602,
     -0.8298,
     1.8783
    ]
   ],
   {
    "attributes":{
     "index":73
    }
   }
  ],
  "electric-057":[
   [
    [
     0.0041,
     -0.0253,
     2.1306
    ],
    [
     -0.0061,
     -0.5943,
     2.0477
    ],
    [
     0.0041,
     -0.0253,
     2.1306
    ],
    [
     -0.5526,
     -0.16,
     2.052
    ],
    [
     0.0041,
     -0.0253,
     2.1306
    ],
    [
     0.5481,
     -0.1528,
     2.0526
    ]
   ],
   {
    "attributes":{
     "index":454
    }
   }
  ],
  "electric-058":[
   [
    [
     1.8328,
     0.0033,
     1.0872
    ],
    [
     1.2294,
     0.7388,
     1.575
    ]
   ],
   {
    "attributes":{
     "index":732
    }
   }
  ],
  "electric-059":[
   [
    [
     1.8328,
     0.0033,
     1.0872
    ],
    [
     1.4999,
     -0.4955,
     1.4329
    ]
   ],
   {
    "attributes":{
     "index":419
    }
   }
  ],
  "electric-060":[
   [
    [
     1.8328,
     0.0033,
     1.0872
    ],
    [
     1.4461,
     0.1656,
     1.5562
    ]
   ],
   {
    "attributes":{
     "index":931
    }
   }
  ],
  "electric-061":[
   [
    [
     1.7428,
     0.5294,
     1.0997
    ],
    [
     1.2294,
     0.7388,
     1.575
    ],
    [
     1.7428,
     0.5294,
     1.0997
    ],
    [
     1.4461,
     0.1656,
     1.5562
    ]
   ],
   {
    "attributes":{
     "index":53
    }
   }
  ],
  "electric-062":[
   [
    [
     1.7428,
     0.5294,
     1.0997
    ],
    [
     1.8328,
     0.0033,
     1.0872
    ]
   ],
   {
    "attributes":{
     "index":873
    }
   }
  ],
  "electric-063":[
   [
    [
     1.4831,
     1.1,
     1.0657
    ],
    [
     1.4461,
     0.1656,
     1.5562
    ]
   ],
   {
    "attributes":{
     "index":395
    }
   }
  ],
  "electric-064":[
   [
    [
     1.4831,
     1.1,
     1.0657
    ],
    [
     0.9301,
     1.2734,
     1.4374
    ],
    [
     1.4831,
     1.1,
     1.0657
    ],
    [
     1.2294,
     0.7388,
     1.575
    ]
   ],
   {
    "attributes":{
     "index":765
    }
   }
  ],
  "electric-065":[
   [
    [
     1.4831,
     1.1,
     1.0657
    ],
    [
     1.7428,
     0.5294,
     1.0997
    ]
   ],
   {
    "attributes":{
     "index":857
    }
   }
  ],
  "electric-066":[
   [
    [
     2.028,
     0.3274,
     0.5735
    ],
    [
     1.8328,
     0.0033,
     1.0872
    ]
   ],
   {
    "attributes":{
     "index":168
    }
   }
  ],
  "electric-067":[
   [
    [
     2.028,
     0.3274,
     0.5735
    ],
    [
     1.7428,
     0.5294,
     1.0997
    ]
   ],
   {
    "attributes":{
     "index":971
    }
   }
  ],
  "electric-068":[
   [
    [
     1.8315,
     0.902,
     0.6023
    ],
    [
     1.8328,
     0.0033,
     1.0872
    ]
   ],
   {
    "attributes":{
     "index":957
    }
   }
  ],
  "electric-069":[
   [
    [
     1.8315,
     0.902,
     0.6023
    ],
    [
     1.7428,
     0.5294,
     1.0997
    ],
    [
     1.8315,
     0.902,
     0.6023
    ],
    [
     2.028,
     0.3274,
     0.5735
    ],
    [
     1.8315,
     0.902,
     0.6023
    ],
    [
     1.4831,
     1.1,
     1.0657
    ]
   ],
   {
    "attributes":{
     "index":51
    }
   }
  ],
  "electric-070":[
   [
    [
     2.031,
     0.647,
     0.0365
    ],
    [
     1.8315,
     0.902,
     0.6023
    ],
    [
     2.031,
     0.647,
     0.0365
    ],
    [
     2.028,
     0.3274,
     0.5735
    ]
   ],
   {
    "attributes":{
     "index":502
    }
   }
  ],
  "electric-071":[
   [
    [
     0.5359,
     -1.7443,
     1.098
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ]
   ],
   {
    "attributes":{
     "index":756
    }
   }
  ],
  "electric-072":[
   [
    [
     0.5359,
     -1.7443,
     1.098
    ],
    [
     -0.0292,
     -1.5633,
     1.4462
    ]
   ],
   {
    "attributes":{
     "index":263
    }
   }
  ],
  "electric-073":[
   [
    [
     1.0769,
     -1.4743,
     1.0969
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ],
    [
     1.0769,
     -1.4743,
     1.0969
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ]
   ],
   {
    "attributes":{
     "index":621
    }
   }
  ],
  "electric-074":[
   [
    [
     1.0769,
     -1.4743,
     1.0969
    ],
    [
     0.5359,
     -1.7443,
     1.098
    ]
   ],
   {
    "attributes":{
     "index":223
    }
   }
  ],
  "electric-075":[
   [
    [
     1.4942,
     -1.0466,
     1.0985
    ],
    [
     1.0726,
     -0.3515,
     1.8099
    ],
    [
     1.4942,
     -1.0466,
     1.0985
    ],
    [
     0.5944,
     -1.3142,
     1.5696
    ]
   ],
   {
    "attributes":{
     "index":868
    }
   }
  ],
  "electric-076":[
   [
    [
     1.4942,
     -1.0466,
     1.0985
    ],
    [
     1.4999,
     -0.4955,
     1.4329
    ]
   ],
   {
    "attributes":{
     "index":193
    }
   }
  ],
  "electric-077":[
   [
    [
     1.4942,
     -1.0466,
     1.0985
    ],
    [
     1.085,
     -0.9419,
     1.5728
    ],
    [
     1.4942,
     -1.0466,
     1.0985
    ],
    [
     1.0769,
     -1.4743,
     1.0969
    ]
   ],
   {
    "attributes":{
     "index":800
    }
   }
  ],
  "electric-078":[
   [
    [
     0.936,
     -1.8347,
     0.5417
    ],
    [
     0.5359,
     -1.7443,
     1.098
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ],
    [
     1.0769,
     -1.4743,
     1.0969
    ]
   ],
   {
    "attributes":{
     "index":47
    }
   }
  ],
  "electric-079":[
   [
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     0.5359,
     -1.7443,
     1.098
    ]
   ],
   {
    "attributes":{
     "index":188
    }
   }
  ],
  "electric-080":[
   [
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     1.4942,
     -1.0466,
     1.0985
    ],
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     1.0769,
     -1.4743,
     1.0969
    ],
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ]
   ],
   {
    "attributes":{
     "index":376
    }
   }
  ],
  "electric-081":[
   [
    [
     1.2605,
     -1.72,
     0.042
    ],
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     1.2605,
     -1.72,
     0.042
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ]
   ],
   {
    "attributes":{
     "index":615
    }
   }
  ],
  "electric-082":[
   [
    [
     -1.4882,
     -1.0691,
     1.0902
    ],
    [
     -1.0835,
     -0.3694,
     1.7949
    ],
    [
     -1.4882,
     -1.0691,
     1.0902
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{
     "index":27
    }
   }
  ],
  "electric-083":[
   [
    [
     -1.4882,
     -1.0691,
     1.0902
    ],
    [
     -1.493,
     -0.46,
     1.448
    ]
   ],
   {
    "attributes":{
     "index":464
    }
   }
  ],
  "electric-084":[
   [
    [
     -1.4882,
     -1.0691,
     1.0902
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ]
   ],
   {
    "attributes":{
     "index":640
    }
   }
  ],
  "electric-085":[
   [
    [
     -1.0585,
     -1.4771,
     1.1154
    ],
    [
     -0.5602,
     -0.8298,
     1.8783
    ],
    [
     -1.0585,
     -1.4771,
     1.1154
    ],
    [
     -0.0292,
     -1.5633,
     1.4462
    ]
   ],
   {
    "attributes":{
     "index":533
    }
   }
  ],
  "electric-086":[
   [
    [
     -1.0585,
     -1.4771,
     1.1154
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ],
    [
     -1.0585,
     -1.4771,
     1.1154
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{
     "index":904
    }
   }
  ],
  "electric-087":[
   [
    [
     -1.0585,
     -1.4771,
     1.1154
    ],
    [
     -1.4882,
     -1.0691,
     1.0902
    ]
   ],
   {
    "attributes":{
     "index":901
    }
   }
  ],
  "electric-088":[
   [
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     0.5359,
     -1.7443,
     1.098
    ],
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     -1.0922,
     -0.9519,
     1.5636
    ]
   ],
   {
    "attributes":{
     "index":187
    }
   }
  ],
  "electric-089":[
   [
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     -0.0292,
     -1.5633,
     1.4462
    ]
   ],
   {
    "attributes":{
     "index":753
    }
   }
  ],
  "electric-090":[
   [
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ],
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     -1.0585,
     -1.4771,
     1.1154
    ]
   ],
   {
    "attributes":{
     "index":730
    }
   }
  ],
  "electric-091":[
   [
    [
     -1.4573,
     -1.4493,
     0.5641
    ],
    [
     -0.5716,
     -1.7489,
     1.0764
    ]
   ],
   {
    "attributes":{
     "index":586
    }
   }
  ],
  "electric-092":[
   [
    [
     -1.4573,
     -1.4493,
     0.5641
    ],
    [
     -1.0585,
     -1.4771,
     1.1154
    ]
   ],
   {
    "attributes":{
     "index":192
    }
   }
  ],
  "electric-093":[
   [
    [
     -1.4573,
     -1.4493,
     0.5641
    ],
    [
     -1.4882,
     -1.0691,
     1.0902
    ]
   ],
   {
    "attributes":{
     "index":919
    }
   }
  ],
  "electric-094":[
   [
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     -1.4882,
     -1.0691,
     1.0902
    ]
   ],
   {
    "attributes":{
     "index":554
    }
   }
  ],
  "electric-095":[
   [
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     -1.0585,
     -1.4771,
     1.1154
    ],
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     -1.4573,
     -1.4493,
     0.5641
    ]
   ],
   {
    "attributes":{
     "index":822
    }
   }
  ],
  "electric-096":[
   [
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -1.0585,
     -1.4771,
     1.1154
    ]
   ],
   {
    "attributes":{
     "index":333
    }
   }
  ],
  "electric-097":[
   [
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -0.9615,
     -1.8028,
     0.5956
    ]
   ],
   {
    "attributes":{
     "index":601
    }
   }
  ],
  "electric-098":[
   [
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -1.4573,
     -1.4493,
     0.5641
    ]
   ],
   {
    "attributes":{
     "index":369
    }
   }
  ],
  "electric-099":[
   [
    [
     -1.5024,
     1.0781,
     1.0546
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ]
   ],
   {
    "attributes":{
     "index":739
    }
   }
  ],
  "electric-100":[
   [
    [
     -1.5024,
     1.0781,
     1.0546
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ],
    [
     -1.5024,
     1.0781,
     1.0546
    ],
    [
     -1.2548,
     0.7317,
     1.5639
    ]
   ],
   {
    "attributes":{
     "index":91
    }
   }
  ],
  "electric-101":[
   [
    [
     -1.7188,
     0.5329,
     1.1379
    ],
    [
     -0.9522,
     0.278,
     1.8849
    ],
    [
     -1.7188,
     0.5329,
     1.1379
    ],
    [
     -1.493,
     -0.46,
     1.448
    ]
   ],
   {
    "attributes":{
     "index":757
    }
   }
  ],
  "electric-102":[
   [
    [
     -1.7188,
     0.5329,
     1.1379
    ],
    [
     -1.2548,
     0.7317,
     1.5639
    ]
   ],
   {
    "attributes":{
     "index":296
    }
   }
  ],
  "electric-103":[
   [
    [
     -1.7188,
     0.5329,
     1.1379
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ],
    [
     -1.7188,
     0.5329,
     1.1379
    ],
    [
     -1.5024,
     1.0781,
     1.0546
    ]
   ],
   {
    "attributes":{
     "index":931
    }
   }
  ],
  "electric-104":[
   [
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -1.2548,
     0.7317,
     1.5639
    ]
   ],
   {
    "attributes":{
     "index":800
    }
   }
  ],
  "electric-105":[
   [
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -1.493,
     -0.46,
     1.448
    ],
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ]
   ],
   {
    "attributes":{
     "index":193
    }
   }
  ],
  "electric-106":[
   [
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -1.7188,
     0.5329,
     1.1379
    ]
   ],
   {
    "attributes":{
     "index":604
    }
   }
  ],
  "electric-107":[
   [
    [
     -1.8205,
     0.9241,
     0.6021
    ],
    [
     -1.8519,
     0.0067,
     1.0503
    ]
   ],
   {
    "attributes":{
     "index":130
    }
   }
  ],
  "electric-108":[
   [
    [
     -1.8205,
     0.9241,
     0.6021
    ],
    [
     -1.7188,
     0.5329,
     1.1379
    ]
   ],
   {
    "attributes":{
     "index":766
    }
   }
  ],
  "electric-109":[
   [
    [
     -1.8205,
     0.9241,
     0.6021
    ],
    [
     -1.5024,
     1.0781,
     1.0546
    ]
   ],
   {
    "attributes":{
     "index":645
    }
   }
  ],
  "electric-110":[
   [
    [
     -2.031,
     0.3188,
     0.5626
    ],
    [
     -1.5024,
     1.0781,
     1.0546
    ]
   ],
   {
    "attributes":{
     "index":582
    }
   }
  ],
  "electric-111":[
   [
    [
     -2.031,
     0.3188,
     0.5626
    ],
    [
     -1.7188,
     0.5329,
     1.1379
    ]
   ],
   {
    "attributes":{
     "index":440
    }
   }
  ],
  "electric-112":[
   [
    [
     -2.0273,
     0.6501,
     0.0144
    ],
    [
     -1.8205,
     0.9241,
     0.6021
    ]
   ],
   {
    "attributes":{
     "index":579
    }
   }
  ],
  "electric-113":[
   [
    [
     -2.0273,
     0.6501,
     0.0144
    ],
    [
     -2.031,
     0.3188,
     0.5626
    ]
   ],
   {
    "attributes":{
     "index":66
    }
   }
  ],
  "electric-114":[
   [
    [
     0.5902,
     1.7535,
     1.0556
    ],
    [
     -0.2782,
     1.4274,
     1.5552
    ]
   ],
   {
    "attributes":{
     "index":475
    }
   }
  ],
  "electric-115":[
   [
    [
     0.5902,
     1.7535,
     1.0556
    ],
    [
     0.2769,
     1.394,
     1.5837
    ],
    [
     0.5902,
     1.7535,
     1.0556
    ],
    [
     0.9301,
     1.2734,
     1.4374
    ]
   ],
   {
    "attributes":{
     "index":569
    }
   }
  ],
  "electric-116":[
   [
    [
     0.0335,
     1.8182,
     1.1063
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ],
    [
     0.0335,
     1.8182,
     1.1063
    ],
    [
     -0.003,
     1.0165,
     1.8721
    ]
   ],
   {
    "attributes":{
     "index":679
    }
   }
  ],
  "electric-117":[
   [
    [
     0.0335,
     1.8182,
     1.1063
    ],
    [
     0.2769,
     1.394,
     1.5837
    ],
    [
     0.0335,
     1.8182,
     1.1063
    ],
    [
     -0.2782,
     1.4274,
     1.5552
    ]
   ],
   {
    "attributes":{
     "index":229
    }
   }
  ],
  "electric-118":[
   [
    [
     0.0335,
     1.8182,
     1.1063
    ],
    [
     0.5902,
     1.7535,
     1.0556
    ]
   ],
   {
    "attributes":{
     "index":222
    }
   }
  ],
  "electric-119":[
   [
    [
     -0.5938,
     1.7427,
     1.077
    ],
    [
     0.2769,
     1.394,
     1.5837
    ]
   ],
   {
    "attributes":{
     "index":142
    }
   }
  ],
  "electric-120":[
   [
    [
     -0.5938,
     1.7427,
     1.077
    ],
    [
     -0.2782,
     1.4274,
     1.5552
    ]
   ],
   {
    "attributes":{
     "index":516
    }
   }
  ],
  "electric-121":[
   [
    [
     -0.5938,
     1.7427,
     1.077
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ],
    [
     -0.5938,
     1.7427,
     1.077
    ],
    [
     0.0335,
     1.8182,
     1.1063
    ]
   ],
   {
    "attributes":{
     "index":73
    }
   }
  ],
  "electric-122":[
   [
    [
     0.3356,
     2.0176,
     0.588
    ],
    [
     -0.5938,
     1.7427,
     1.077
    ]
   ],
   {
    "attributes":{
     "index":520
    }
   }
  ],
  "electric-123":[
   [
    [
     0.3356,
     2.0176,
     0.588
    ],
    [
     0.0335,
     1.8182,
     1.1063
    ],
    [
     0.3356,
     2.0176,
     0.588
    ],
    [
     0.5902,
     1.7535,
     1.0556
    ]
   ],
   {
    "attributes":{
     "index":230
    }
   }
  ],
  "electric-124":[
   [
    [
     -0.3065,
     2.0301,
     0.5779
    ],
    [
     0.5902,
     1.7535,
     1.0556
    ]
   ],
   {
    "attributes":{
     "index":98
    }
   }
  ],
  "electric-125":[
   [
    [
     -0.3065,
     2.0301,
     0.5779
    ],
    [
     -0.5938,
     1.7427,
     1.077
    ],
    [
     -0.3065,
     2.0301,
     0.5779
    ],
    [
     0.0335,
     1.8182,
     1.1063
    ]
   ],
   {
    "attributes":{
     "index":774
    }
   }
  ],
  "electric-126":[
   [
    [
     -0.3065,
     2.0301,
     0.5779
    ],
    [
     0.3356,
     2.0176,
     0.588
    ]
   ],
   {
    "attributes":{
     "index":710
    }
   }
  ],
  "electric-127":[
   [
    [
     0.0071,
     2.1322,
     0.0348
    ],
    [
     0.3356,
     2.0176,
     0.588
    ]
   ],
   {
    "attributes":{
     "index":360
    }
   }
  ],
  "electric-128":[
   [
    [
     0.0071,
     2.1322,
     0.0348
    ],
    [
     -0.3065,
     2.0301,
     0.5779
    ]
   ],
   {
    "attributes":{
     "index":37
    }
   }
  ],
  "electric-129":[
   [
    [
     1.1392,
     1.5419,
     0.9286
    ],
    [
     1.2294,
     0.7388,
     1.575
    ],
    [
     1.1392,
     1.5419,
     0.9286
    ],
    [
     1.8315,
     0.902,
     0.6023
    ],
    [
     1.1392,
     1.5419,
     0.9286
    ],
    [
     0.3356,
     2.0176,
     0.588
    ]
   ],
   {
    "attributes":{
     "index":927
    }
   }
  ],
  "electric-130":[
   [
    [
     1.1392,
     1.5419,
     0.9286
    ],
    [
     0.9301,
     1.2734,
     1.4374
    ],
    [
     1.1392,
     1.5419,
     0.9286
    ],
    [
     0.5902,
     1.7535,
     1.0556
    ]
   ],
   {
    "attributes":{
     "index":405
    }
   }
  ],
  "electric-131":[
   [
    [
     1.1392,
     1.5419,
     0.9286
    ],
    [
     1.4831,
     1.1,
     1.0657
    ]
   ],
   {
    "attributes":{
     "index":941
    }
   }
  ],
  "electric-132":[
   [
    [
     0.9415,
     1.8475,
     0.4931
    ],
    [
     0.0071,
     2.1322,
     0.0348
    ]
   ],
   {
    "attributes":{
     "index":204
    }
   }
  ],
  "electric-133":[
   [
    [
     0.9415,
     1.8475,
     0.4931
    ],
    [
     0.5902,
     1.7535,
     1.0556
    ],
    [
     0.9415,
     1.8475,
     0.4931
    ],
    [
     0.3356,
     2.0176,
     0.588
    ]
   ],
   {
    "attributes":{
     "index":42
    }
   }
  ],
  "electric-134":[
   [
    [
     0.9415,
     1.8475,
     0.4931
    ],
    [
     1.1392,
     1.5419,
     0.9286
    ]
   ],
   {
    "attributes":{
     "index":472
    }
   }
  ],
  "electric-135":[
   [
    [
     0.6858,
     2.0145,
     0.0293
    ],
    [
     0.5902,
     1.7535,
     1.0556
    ]
   ],
   {
    "attributes":{
     "index":188
    }
   }
  ],
  "electric-136":[
   [
    [
     0.6858,
     2.0145,
     0.0293
    ],
    [
     0.0071,
     2.1322,
     0.0348
    ],
    [
     0.6858,
     2.0145,
     0.0293
    ],
    [
     0.3356,
     2.0176,
     0.588
    ]
   ],
   {
    "attributes":{
     "index":193
    }
   }
  ],
  "electric-137":[
   [
    [
     0.6858,
     2.0145,
     0.0293
    ],
    [
     0.9415,
     1.8475,
     0.4931
    ]
   ],
   {
    "attributes":{
     "index":347
    }
   }
  ],
  "electric-138":[
   [
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     0.3356,
     2.0176,
     0.588
    ]
   ],
   {
    "attributes":{
     "index":744
    }
   }
  ],
  "electric-139":[
   [
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     0.0071,
     2.1322,
     0.0348
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     0.6858,
     2.0145,
     0.0293
    ]
   ],
   {
    "attributes":{
     "index":201
    }
   }
  ],
  "electric-140":[
   [
    [
     1.4914,
     1.433,
     0.5084
    ],
    [
     0.9301,
     1.2734,
     1.4374
    ],
    [
     1.4914,
     1.433,
     0.5084
    ],
    [
     2.031,
     0.647,
     0.0365
    ]
   ],
   {
    "attributes":{
     "index":712
    }
   }
  ],
  "electric-141":[
   [
    [
     1.4914,
     1.433,
     0.5084
    ],
    [
     0.9415,
     1.8475,
     0.4931
    ],
    [
     1.4914,
     1.433,
     0.5084
    ],
    [
     1.4831,
     1.1,
     1.0657
    ]
   ],
   {
    "attributes":{
     "index":79
    }
   }
  ],
  "electric-142":[
   [
    [
     1.4914,
     1.433,
     0.5084
    ],
    [
     1.8315,
     0.902,
     0.6023
    ],
    [
     1.4914,
     1.433,
     0.5084
    ],
    [
     1.1392,
     1.5419,
     0.9286
    ]
   ],
   {
    "attributes":{
     "index":238
    }
   }
  ],
  "electric-143":[
   [
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     1.1392,
     1.5419,
     0.9286
    ]
   ],
   {
    "attributes":{
     "index":30
    }
   }
  ],
  "electric-144":[
   [
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     1.4914,
     1.433,
     0.5084
    ]
   ],
   {
    "attributes":{
     "index":304
    }
   }
  ],
  "electric-145":[
   [
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     0.6858,
     2.0145,
     0.0293
    ],
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     0.9415,
     1.8475,
     0.4931
    ]
   ],
   {
    "attributes":{
     "index":593
    }
   }
  ],
  "electric-146":[
   [
    [
     0.9406,
     1.831,
     -0.5549
    ],
    [
     0.9415,
     1.8475,
     0.4931
    ]
   ],
   {
    "attributes":{
     "index":542
    }
   }
  ],
  "electric-147":[
   [
    [
     0.9406,
     1.831,
     -0.5549
    ],
    [
     0.6858,
     2.0145,
     0.0293
    ]
   ],
   {
    "attributes":{
     "index":698
    }
   }
  ],
  "electric-148":[
   [
    [
     0.9406,
     1.831,
     -0.5549
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     0.9406,
     1.831,
     -0.5549
    ],
    [
     1.2476,
     1.7252,
     -0.0148
    ]
   ],
   {
    "attributes":{
     "index":495
    }
   }
  ],
  "electric-149":[
   [
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     1.1392,
     1.5419,
     0.9286
    ],
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     1.4831,
     1.1,
     1.0657
    ],
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     0.9415,
     1.8475,
     0.4931
    ]
   ],
   {
    "attributes":{
     "index":641
    }
   }
  ],
  "electric-150":[
   [
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     2.031,
     0.647,
     0.0365
    ],
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     1.8315,
     0.902,
     0.6023
    ]
   ],
   {
    "attributes":{
     "index":12
    }
   }
  ],
  "electric-151":[
   [
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     1.4914,
     1.433,
     0.5084
    ]
   ],
   {
    "attributes":{
     "index":266
    }
   }
  ],
  "electric-152":[
   [
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     1.4914,
     1.433,
     0.5084
    ]
   ],
   {
    "attributes":{
     "index":907
    }
   }
  ],
  "electric-153":[
   [
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     1.6981,
     1.2814,
     0.0206
    ]
   ],
   {
    "attributes":{
     "index":929
    }
   }
  ],
  "electric-154":[
   [
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     0.9406,
     1.831,
     -0.5549
    ]
   ],
   {
    "attributes":{
     "index":867
    }
   }
  ],
  "electric-155":[
   [
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     1.2476,
     1.7252,
     -0.0148
    ]
   ],
   {
    "attributes":{
     "index":821
    }
   }
  ],
  "electric-156":[
   [
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     2.031,
     0.647,
     0.0365
    ]
   ],
   {
    "attributes":{
     "index":145
    }
   }
  ],
  "electric-157":[
   [
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     1.6981,
     1.2814,
     0.0206
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     1.4351,
     1.4695,
     -0.5736
    ]
   ],
   {
    "attributes":{
     "index":526
    }
   }
  ],
  "electric-158":[
   [
    [
     1.806,
     -0.619,
     0.9428
    ],
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     1.806,
     -0.619,
     0.9428
    ],
    [
     1.8328,
     0.0033,
     1.0872
    ]
   ],
   {
    "attributes":{
     "index":81
    }
   }
  ],
  "electric-159":[
   [
    [
     1.806,
     -0.619,
     0.9428
    ],
    [
     1.4999,
     -0.4955,
     1.4329
    ],
    [
     1.806,
     -0.619,
     0.9428
    ],
    [
     1.4942,
     -1.0466,
     1.0985
    ]
   ],
   {
    "attributes":{
     "index":846
    }
   }
  ],
  "electric-160":[
   [
    [
     2.0535,
     -0.3056,
     0.4945
    ],
    [
     1.7428,
     0.5294,
     1.0997
    ],
    [
     2.0535,
     -0.3056,
     0.4945
    ],
    [
     2.031,
     0.647,
     0.0365
    ]
   ],
   {
    "attributes":{
     "index":249
    }
   }
  ],
  "electric-161":[
   [
    [
     2.0535,
     -0.3056,
     0.4945
    ],
    [
     1.8328,
     0.0033,
     1.0872
    ],
    [
     2.0535,
     -0.3056,
     0.4945
    ],
    [
     2.028,
     0.3274,
     0.5735
    ]
   ],
   {
    "attributes":{
     "index":88
    }
   }
  ],
  "electric-162":[
   [
    [
     2.0535,
     -0.3056,
     0.4945
    ],
    [
     1.806,
     -0.619,
     0.9428
    ]
   ],
   {
    "attributes":{
     "index":816
    }
   }
  ],
  "electric-163":[
   [
    [
     2.13,
     0.0061,
     -0.0266
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ]
   ],
   {
    "attributes":{
     "index":152
    }
   }
  ],
  "electric-164":[
   [
    [
     2.13,
     0.0061,
     -0.0266
    ],
    [
     2.028,
     0.3274,
     0.5735
    ]
   ],
   {
    "attributes":{
     "index":585
    }
   }
  ],
  "electric-165":[
   [
    [
     2.13,
     0.0061,
     -0.0266
    ],
    [
     2.031,
     0.647,
     0.0365
    ],
    [
     2.13,
     0.0061,
     -0.0266
    ],
    [
     2.0535,
     -0.3056,
     0.4945
    ]
   ],
   {
    "attributes":{
     "index":115
    }
   }
  ],
  "electric-166":[
   [
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     2.031,
     0.647,
     0.0365
    ]
   ],
   {
    "attributes":{
     "index":696
    }
   }
  ],
  "electric-167":[
   [
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     2.13,
     0.0061,
     -0.0266
    ]
   ],
   {
    "attributes":{
     "index":720
    }
   }
  ],
  "electric-168":[
   [
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     1.0769,
     -1.4743,
     1.0969
    ],
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     1.2605,
     -1.72,
     0.042
    ]
   ],
   {
    "attributes":{
     "index":495
    }
   }
  ],
  "electric-169":[
   [
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     2.0535,
     -0.3056,
     0.4945
    ],
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     1.4942,
     -1.0466,
     1.0985
    ]
   ],
   {
    "attributes":{
     "index":606
    }
   }
  ],
  "electric-170":[
   [
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     1.806,
     -0.619,
     0.9428
    ]
   ],
   {
    "attributes":{
     "index":531
    }
   }
  ],
  "electric-171":[
   [
    [
     2.0318,
     -0.6457,
     -0.045
    ],
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     2.0318,
     -0.6457,
     -0.045
    ],
    [
     1.806,
     -0.619,
     0.9428
    ]
   ],
   {
    "attributes":{
     "index":635
    }
   }
  ],
  "electric-172":[
   [
    [
     2.0318,
     -0.6457,
     -0.045
    ],
    [
     1.8344,
     -0.9634,
     0.5044
    ],
    [
     2.0318,
     -0.6457,
     -0.045
    ],
    [
     2.13,
     0.0061,
     -0.0266
    ]
   ],
   {
    "attributes":{
     "index":85
    }
   }
  ],
  "electric-173":[
   [
    [
     2.0318,
     -0.6457,
     -0.045
    ],
    [
     2.0535,
     -0.3056,
     0.4945
    ]
   ],
   {
    "attributes":{
     "index":15
    }
   }
  ],
  "electric-174":[
   [
    [
     2.0226,
     -0.3329,
     -0.5849
    ],
    [
     2.0535,
     -0.3056,
     0.4945
    ]
   ],
   {
    "attributes":{
     "index":516
    }
   }
  ],
  "electric-175":[
   [
    [
     2.0226,
     -0.3329,
     -0.5849
    ],
    [
     2.13,
     0.0061,
     -0.0266
    ],
    [
     2.0226,
     -0.3329,
     -0.5849
    ],
    [
     2.0406,
     0.3192,
     -0.5214
    ]
   ],
   {
    "attributes":{
     "index":331
    }
   }
  ],
  "electric-176":[
   [
    [
     2.0226,
     -0.3329,
     -0.5849
    ],
    [
     2.0318,
     -0.6457,
     -0.045
    ]
   ],
   {
    "attributes":{
     "index":806
    }
   }
  ],
  "electric-177":[
   [
    [
     1.7061,
     -1.2733,
     0.0182
    ],
    [
     1.4942,
     -1.0466,
     1.0985
    ],
    [
     1.7061,
     -1.2733,
     0.0182
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ]
   ],
   {
    "attributes":{
     "index":189
    }
   }
  ],
  "electric-178":[
   [
    [
     1.7061,
     -1.2733,
     0.0182
    ],
    [
     2.0318,
     -0.6457,
     -0.045
    ],
    [
     1.7061,
     -1.2733,
     0.0182
    ],
    [
     1.2605,
     -1.72,
     0.042
    ]
   ],
   {
    "attributes":{
     "index":563
    }
   }
  ],
  "electric-179":[
   [
    [
     1.7061,
     -1.2733,
     0.0182
    ],
    [
     1.4513,
     -1.4582,
     0.5608
    ],
    [
     1.7061,
     -1.2733,
     0.0182
    ],
    [
     1.8344,
     -0.9634,
     0.5044
    ]
   ],
   {
    "attributes":{
     "index":933
    }
   }
  ],
  "electric-180":[
   [
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     1.8344,
     -0.9634,
     0.5044
    ]
   ],
   {
    "attributes":{
     "index":365
    }
   }
  ],
  "electric-181":[
   [
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     1.7061,
     -1.2733,
     0.0182
    ],
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     2.0226,
     -0.3329,
     -0.5849
    ]
   ],
   {
    "attributes":{
     "index":869
    }
   }
  ],
  "electric-182":[
   [
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     2.0318,
     -0.6457,
     -0.045
    ]
   ],
   {
    "attributes":{
     "index":68
    }
   }
  ],
  "electric-183":[
   [
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     2.0318,
     -0.6457,
     -0.045
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     1.4513,
     -1.4582,
     0.5608
    ]
   ],
   {
    "attributes":{
     "index":975
    }
   }
  ],
  "electric-184":[
   [
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     1.2605,
     -1.72,
     0.042
    ]
   ],
   {
    "attributes":{
     "index":219
    }
   }
  ],
  "electric-185":[
   [
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     1.7061,
     -1.2733,
     0.0182
    ]
   ],
   {
    "attributes":{
     "index":11
    }
   }
  ],
  "electric-186":[
   [
    [
     0.0137,
     -1.9162,
     0.9312
    ],
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     0.0137,
     -1.9162,
     0.9312
    ],
    [
     -0.5671,
     -1.3469,
     1.5486
    ]
   ],
   {
    "attributes":{
     "index":376
    }
   }
  ],
  "electric-187":[
   [
    [
     0.0137,
     -1.9162,
     0.9312
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ],
    [
     0.0137,
     -1.9162,
     0.9312
    ],
    [
     -0.0292,
     -1.5633,
     1.4462
    ],
    [
     0.0137,
     -1.9162,
     0.9312
    ],
    [
     -0.5716,
     -1.7489,
     1.0764
    ]
   ],
   {
    "attributes":{
     "index":738
    }
   }
  ],
  "electric-188":[
   [
    [
     0.0137,
     -1.9162,
     0.9312
    ],
    [
     0.5359,
     -1.7443,
     1.098
    ]
   ],
   {
    "attributes":{
     "index":230
    }
   }
  ],
  "electric-189":[
   [
    [
     0.3447,
     -2.0482,
     0.4814
    ],
    [
     1.0769,
     -1.4743,
     1.0969
    ],
    [
     0.3447,
     -2.0482,
     0.4814
    ],
    [
     1.2605,
     -1.72,
     0.042
    ]
   ],
   {
    "attributes":{
     "index":971
    }
   }
  ],
  "electric-190":[
   [
    [
     0.3447,
     -2.0482,
     0.4814
    ],
    [
     0.5359,
     -1.7443,
     1.098
    ]
   ],
   {
    "attributes":{
     "index":457
    }
   }
  ],
  "electric-191":[
   [
    [
     0.3447,
     -2.0482,
     0.4814
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ],
    [
     0.3447,
     -2.0482,
     0.4814
    ],
    [
     0.0137,
     -1.9162,
     0.9312
    ]
   ],
   {
    "attributes":{
     "index":158
    }
   }
  ],
  "electric-192":[
   [
    [
     0.6833,
     -2.0172,
     -0.0087
    ],
    [
     1.2605,
     -1.72,
     0.042
    ]
   ],
   {
    "attributes":{
     "index":604
    }
   }
  ],
  "electric-193":[
   [
    [
     0.6833,
     -2.0172,
     -0.0087
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ],
    [
     0.6833,
     -2.0172,
     -0.0087
    ],
    [
     0.3447,
     -2.0482,
     0.4814
    ]
   ],
   {
    "attributes":{
     "index":211
    }
   }
  ],
  "electric-194":[
   [
    [
     0.8959,
     -1.8679,
     -0.493
    ],
    [
     0.936,
     -1.8347,
     0.5417
    ]
   ],
   {
    "attributes":{
     "index":938
    }
   }
  ],
  "electric-195":[
   [
    [
     0.8959,
     -1.8679,
     -0.493
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     0.8959,
     -1.8679,
     -0.493
    ],
    [
     1.2605,
     -1.72,
     0.042
    ]
   ],
   {
    "attributes":{
     "index":843
    }
   }
  ],
  "electric-196":[
   [
    [
     0.8959,
     -1.8679,
     -0.493
    ],
    [
     0.6833,
     -2.0172,
     -0.0087
    ]
   ],
   {
    "attributes":{
     "index":21
    }
   }
  ],
  "electric-197":[
   [
    [
     -0.3172,
     -2.0495,
     0.4839
    ],
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -0.3172,
     -2.0495,
     0.4839
    ],
    [
     0.5359,
     -1.7443,
     1.098
    ]
   ],
   {
    "attributes":{
     "index":92
    }
   }
  ],
  "electric-198":[
   [
    [
     -0.3172,
     -2.0495,
     0.4839
    ],
    [
     -0.5716,
     -1.7489,
     1.0764
    ],
    [
     -0.3172,
     -2.0495,
     0.4839
    ],
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     -0.3172,
     -2.0495,
     0.4839
    ],
    [
     0.3447,
     -2.0482,
     0.4814
    ]
   ],
   {
    "attributes":{
     "index":163
    }
   }
  ],
  "electric-199":[
   [
    [
     -0.3172,
     -2.0495,
     0.4839
    ],
    [
     0.0137,
     -1.9162,
     0.9312
    ]
   ],
   {
    "attributes":{
     "index":814
    }
   }
  ],
  "electric-200":[
   [
    [
     0.0088,
     -2.1316,
     -0.0566
    ],
    [
     0.8959,
     -1.8679,
     -0.493
    ],
    [
     0.0088,
     -2.1316,
     -0.0566
    ],
    [
     0.0137,
     -1.9162,
     0.9312
    ]
   ],
   {
    "attributes":{
     "index":280
    }
   }
  ],
  "electric-201":[
   [
    [
     0.0088,
     -2.1316,
     -0.0566
    ],
    [
     0.6833,
     -2.0172,
     -0.0087
    ],
    [
     0.0088,
     -2.1316,
     -0.0566
    ],
    [
     0.3447,
     -2.0482,
     0.4814
    ]
   ],
   {
    "attributes":{
     "index":968
    }
   }
  ],
  "electric-202":[
   [
    [
     0.0088,
     -2.1316,
     -0.0566
    ],
    [
     -0.3172,
     -2.0495,
     0.4839
    ]
   ],
   {
    "attributes":{
     "index":278
    }
   }
  ],
  "electric-203":[
   [
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     0.3447,
     -2.0482,
     0.4814
    ]
   ],
   {
    "attributes":{
     "index":68
    }
   }
  ],
  "electric-204":[
   [
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     0.6833,
     -2.0172,
     -0.0087
    ],
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     0.0088,
     -2.1316,
     -0.0566
    ]
   ],
   {
    "attributes":{
     "index":238
    }
   }
  ],
  "electric-205":[
   [
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     0.8959,
     -1.8679,
     -0.493
    ]
   ],
   {
    "attributes":{
     "index":587
    }
   }
  ],
  "electric-206":[
   [
    [
     -0.6698,
     -2.0231,
     -0.021
    ],
    [
     0.3447,
     -2.0482,
     0.4814
    ]
   ],
   {
    "attributes":{
     "index":779
    }
   }
  ],
  "electric-207":[
   [
    [
     -0.6698,
     -2.0231,
     -0.021
    ],
    [
     -0.9615,
     -1.8028,
     0.5956
    ],
    [
     -0.6698,
     -2.0231,
     -0.021
    ],
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -0.6698,
     -2.0231,
     -0.021
    ],
    [
     0.0088,
     -2.1316,
     -0.0566
    ]
   ],
   {
    "attributes":{
     "index":898
    }
   }
  ],
  "electric-208":[
   [
    [
     -0.6698,
     -2.0231,
     -0.021
    ],
    [
     -0.3172,
     -2.0495,
     0.4839
    ]
   ],
   {
    "attributes":{
     "index":528
    }
   }
  ],
  "electric-209":[
   [
    [
     -0.2911,
     -2.0303,
     -0.5788
    ],
    [
     -0.3172,
     -2.0495,
     0.4839
    ]
   ],
   {
    "attributes":{
     "index":875
    }
   }
  ],
  "electric-210":[
   [
    [
     -0.2911,
     -2.0303,
     -0.5788
    ],
    [
     -0.6698,
     -2.0231,
     -0.021
    ]
   ],
   {
    "attributes":{
     "index":764
    }
   }
  ],
  "electric-211":[
   [
    [
     -0.2911,
     -2.0303,
     -0.5788
    ],
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     -0.2911,
     -2.0303,
     -0.5788
    ],
    [
     0.0088,
     -2.1316,
     -0.0566
    ]
   ],
   {
    "attributes":{
     "index":250
    }
   }
  ],
  "electric-212":[
   [
    [
     -0.9318,
     -1.849,
     -0.5093
    ],
    [
     0.0088,
     -2.1316,
     -0.0566
    ]
   ],
   {
    "attributes":{
     "index":533
    }
   }
  ],
  "electric-213":[
   [
    [
     -0.9318,
     -1.849,
     -0.5093
    ],
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -0.9318,
     -1.849,
     -0.5093
    ],
    [
     -0.2911,
     -2.0303,
     -0.5788
    ]
   ],
   {
    "attributes":{
     "index":303
    }
   }
  ],
  "electric-214":[
   [
    [
     -0.9318,
     -1.849,
     -0.5093
    ],
    [
     -0.6698,
     -2.0231,
     -0.021
    ]
   ],
   {
    "attributes":{
     "index":330
    }
   }
  ],
  "electric-215":[
   [
    [
     -1.8247,
     -0.5638,
     0.9423
    ],
    [
     -1.4573,
     -1.4493,
     0.5641
    ],
    [
     -1.8247,
     -0.5638,
     0.9423
    ],
    [
     -1.4416,
     0.1805,
     1.5558
    ]
   ],
   {
    "attributes":{
     "index":913
    }
   }
  ],
  "electric-216":[
   [
    [
     -1.8247,
     -0.5638,
     0.9423
    ],
    [
     -2.031,
     0.3188,
     0.5626
    ],
    [
     -1.8247,
     -0.5638,
     0.9423
    ],
    [
     -1.4882,
     -1.0691,
     1.0902
    ],
    [
     -1.8247,
     -0.5638,
     0.9423
    ],
    [
     -1.493,
     -0.46,
     1.448
    ]
   ],
   {
    "attributes":{
     "index":350
    }
   }
  ],
  "electric-217":[
   [
    [
     -1.8247,
     -0.5638,
     0.9423
    ],
    [
     -1.8519,
     0.0067,
     1.0503
    ]
   ],
   {
    "attributes":{
     "index":176
    }
   }
  ],
  "electric-218":[
   [
    [
     -1.8515,
     -0.9329,
     0.4858
    ],
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -1.8515,
     -0.9329,
     0.4858
    ],
    [
     -1.2861,
     -1.6943,
     0.047
    ]
   ],
   {
    "attributes":{
     "index":984
    }
   }
  ],
  "electric-219":[
   [
    [
     -1.8515,
     -0.9329,
     0.4858
    ],
    [
     -1.8247,
     -0.5638,
     0.9423
    ]
   ],
   {
    "attributes":{
     "index":255
    }
   }
  ],
  "electric-220":[
   [
    [
     -1.7314,
     -1.2437,
     -0.0102
    ],
    [
     -1.4573,
     -1.4493,
     0.5641
    ]
   ],
   {
    "attributes":{
     "index":17
    }
   }
  ],
  "electric-221":[
   [
    [
     -1.7314,
     -1.2437,
     -0.0102
    ],
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -1.7314,
     -1.2437,
     -0.0102
    ],
    [
     -1.8515,
     -0.9329,
     0.4858
    ]
   ],
   {
    "attributes":{
     "index":559
    }
   }
  ],
  "electric-222":[
   [
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -1.4573,
     -1.4493,
     0.5641
    ]
   ],
   {
    "attributes":{
     "index":539
    }
   }
  ],
  "electric-223":[
   [
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -0.9318,
     -1.849,
     -0.5093
    ]
   ],
   {
    "attributes":{
     "index":125
    }
   }
  ],
  "electric-224":[
   [
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -1.7314,
     -1.2437,
     -0.0102
    ]
   ],
   {
    "attributes":{
     "index":321
    }
   }
  ],
  "electric-225":[
   [
    [
     -2.0538,
     -0.3082,
     0.4846
    ],
    [
     -1.7314,
     -1.2437,
     -0.0102
    ],
    [
     -2.0538,
     -0.3082,
     0.4846
    ],
    [
     -2.0273,
     0.6501,
     0.0144
    ]
   ],
   {
    "attributes":{
     "index":459
    }
   }
  ],
  "electric-226":[
   [
    [
     -2.0538,
     -0.3082,
     0.4846
    ],
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -2.0538,
     -0.3082,
     0.4846
    ],
    [
     -1.8515,
     -0.9329,
     0.4858
    ],
    [
     -2.0538,
     -0.3082,
     0.4846
    ],
    [
     -2.031,
     0.3188,
     0.5626
    ]
   ],
   {
    "attributes":{
     "index":236
    }
   }
  ],
  "electric-227":[
   [
    [
     -2.0538,
     -0.3082,
     0.4846
    ],
    [
     -1.8247,
     -0.5638,
     0.9423
    ]
   ],
   {
    "attributes":{
     "index":204
    }
   }
  ],
  "electric-228":[
   [
    [
     -2.0315,
     -0.6389,
     -0.0225
    ],
    [
     -2.031,
     0.3188,
     0.5626
    ],
    [
     -2.0315,
     -0.6389,
     -0.0225
    ],
    [
     -1.8247,
     -0.5638,
     0.9423
    ]
   ],
   {
    "attributes":{
     "index":737
    }
   }
  ],
  "electric-229":[
   [
    [
     -2.0315,
     -0.6389,
     -0.0225
    ],
    [
     -1.7314,
     -1.2437,
     -0.0102
    ]
   ],
   {
    "attributes":{
     "index":846
    }
   }
  ],
  "electric-230":[
   [
    [
     -2.0315,
     -0.6389,
     -0.0225
    ],
    [
     -1.8515,
     -0.9329,
     0.4858
    ],
    [
     -2.0315,
     -0.6389,
     -0.0225
    ],
    [
     -2.0538,
     -0.3082,
     0.4846
    ]
   ],
   {
    "attributes":{
     "index":315
    }
   }
  ],
  "electric-231":[
   [
    [
     -1.848,
     -0.906,
     -0.5512
    ],
    [
     -1.8515,
     -0.9329,
     0.4858
    ]
   ],
   {
    "attributes":{
     "index":183
    }
   }
  ],
  "electric-232":[
   [
    [
     -1.848,
     -0.906,
     -0.5512
    ],
    [
     -1.457,
     -1.4604,
     -0.5276
    ]
   ],
   {
    "attributes":{
     "index":647
    }
   }
  ],
  "electric-233":[
   [
    [
     -1.848,
     -0.906,
     -0.5512
    ],
    [
     -1.7314,
     -1.2437,
     -0.0102
    ],
    [
     -1.848,
     -0.906,
     -0.5512
    ],
    [
     -2.0315,
     -0.6389,
     -0.0225
    ]
   ],
   {
    "attributes":{
     "index":63
    }
   }
  ],
  "electric-234":[
   [
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -1.8519,
     0.0067,
     1.0503
    ],
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -1.848,
     -0.906,
     -0.5512
    ]
   ],
   {
    "attributes":{
     "index":67
    }
   }
  ],
  "electric-235":[
   [
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -2.031,
     0.3188,
     0.5626
    ],
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -2.0315,
     -0.6389,
     -0.0225
    ]
   ],
   {
    "attributes":{
     "index":486
    }
   }
  ],
  "electric-236":[
   [
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -2.0273,
     0.6501,
     0.0144
    ],
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -2.0538,
     -0.3082,
     0.4846
    ]
   ],
   {
    "attributes":{
     "index":401
    }
   }
  ],
  "electric-237":[
   [
    [
     -2.0141,
     -0.3212,
     -0.6064
    ],
    [
     -2.0538,
     -0.3082,
     0.4846
    ]
   ],
   {
    "attributes":{
     "index":156
    }
   }
  ],
  "electric-238":[
   [
    [
     -2.0141,
     -0.3212,
     -0.6064
    ],
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -2.0141,
     -0.3212,
     -0.6064
    ],
    [
     -2.0315,
     -0.6389,
     -0.0225
    ]
   ],
   {
    "attributes":{
     "index":741
    }
   }
  ],
  "electric-239":[
   [
    [
     -2.0141,
     -0.3212,
     -0.6064
    ],
    [
     -1.848,
     -0.906,
     -0.5512
    ]
   ],
   {
    "attributes":{
     "index":5
    }
   }
  ],
  "electric-240":[
   [
    [
     -2.0509,
     0.3168,
     -0.4906
    ],
    [
     -2.0315,
     -0.6389,
     -0.0225
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ],
    [
     -2.031,
     0.3188,
     0.5626
    ]
   ],
   {
    "attributes":{
     "index":420
    }
   }
  ],
  "electric-241":[
   [
    [
     -2.0509,
     0.3168,
     -0.4906
    ],
    [
     -2.0141,
     -0.3212,
     -0.6064
    ]
   ],
   {
    "attributes":{
     "index":138
    }
   }
  ],
  "electric-242":[
   [
    [
     -2.0509,
     0.3168,
     -0.4906
    ],
    [
     -2.0273,
     0.6501,
     0.0144
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ],
    [
     -2.13,
     0.0134,
     -0.0272
    ]
   ],
   {
    "attributes":{
     "index":978
    }
   }
  ],
  "electric-243":[
   [
    [
     -1.1242,
     1.5463,
     0.946
    ],
    [
     -1.2548,
     0.7317,
     1.5639
    ],
    [
     -1.1242,
     1.5463,
     0.946
    ],
    [
     -0.3065,
     2.0301,
     0.5779
    ]
   ],
   {
    "attributes":{
     "index":842
    }
   }
  ],
  "electric-244":[
   [
    [
     -1.1242,
     1.5463,
     0.946
    ],
    [
     -1.8205,
     0.9241,
     0.6021
    ],
    [
     -1.1242,
     1.5463,
     0.946
    ],
    [
     -1.5024,
     1.0781,
     1.0546
    ]
   ],
   {
    "attributes":{
     "index":543
    }
   }
  ],
  "electric-245":[
   [
    [
     -1.1242,
     1.5463,
     0.946
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ],
    [
     -1.1242,
     1.5463,
     0.946
    ],
    [
     -0.5938,
     1.7427,
     1.077
    ]
   ],
   {
    "attributes":{
     "index":902
    }
   }
  ],
  "electric-246":[
   [
    [
     -1.4832,
     1.4545,
     0.4754
    ],
    [
     -0.5938,
     1.7427,
     1.077
    ],
    [
     -1.4832,
     1.4545,
     0.4754
    ],
    [
     -2.0273,
     0.6501,
     0.0144
    ]
   ],
   {
    "attributes":{
     "index":867
    }
   }
  ],
  "electric-247":[
   [
    [
     -1.4832,
     1.4545,
     0.4754
    ],
    [
     -1.5024,
     1.0781,
     1.0546
    ],
    [
     -1.4832,
     1.4545,
     0.4754
    ],
    [
     -1.8205,
     0.9241,
     0.6021
    ]
   ],
   {
    "attributes":{
     "index":426
    }
   }
  ],
  "electric-248":[
   [
    [
     -1.4832,
     1.4545,
     0.4754
    ],
    [
     -1.1242,
     1.5463,
     0.946
    ]
   ],
   {
    "attributes":{
     "index":687
    }
   }
  ],
  "electric-249":[
   [
    [
     -1.7191,
     1.2587,
     -0.0217
    ],
    [
     -1.5024,
     1.0781,
     1.0546
    ],
    [
     -1.7191,
     1.2587,
     -0.0217
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ]
   ],
   {
    "attributes":{
     "index":478
    }
   }
  ],
  "electric-250":[
   [
    [
     -1.7191,
     1.2587,
     -0.0217
    ],
    [
     -1.8205,
     0.9241,
     0.6021
    ],
    [
     -1.7191,
     1.2587,
     -0.0217
    ],
    [
     -2.0273,
     0.6501,
     0.0144
    ]
   ],
   {
    "attributes":{
     "index":433
    }
   }
  ],
  "electric-251":[
   [
    [
     -1.7191,
     1.2587,
     -0.0217
    ],
    [
     -1.4832,
     1.4545,
     0.4754
    ]
   ],
   {
    "attributes":{
     "index":160
    }
   }
  ],
  "electric-252":[
   [
    [
     -1.8364,
     0.9651,
     -0.4971
    ],
    [
     -1.8205,
     0.9241,
     0.6021
    ]
   ],
   {
    "attributes":{
     "index":973
    }
   }
  ],
  "electric-253":[
   [
    [
     -1.8364,
     0.9651,
     -0.4971
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ]
   ],
   {
    "attributes":{
     "index":963
    }
   }
  ],
  "electric-254":[
   [
    [
     -1.8364,
     0.9651,
     -0.4971
    ],
    [
     -2.0273,
     0.6501,
     0.0144
    ],
    [
     -1.8364,
     0.9651,
     -0.4971
    ],
    [
     -1.7191,
     1.2587,
     -0.0217
    ]
   ],
   {
    "attributes":{
     "index":994
    }
   }
  ],
  "electric-255":[
   [
    [
     -0.9025,
     1.8696,
     0.4723
    ],
    [
     -0.8964,
     1.2959,
     1.4304
    ],
    [
     -0.9025,
     1.8696,
     0.4723
    ],
    [
     0.0071,
     2.1322,
     0.0348
    ]
   ],
   {
    "attributes":{
     "index":590
    }
   }
  ],
  "electric-256":[
   [
    [
     -0.9025,
     1.8696,
     0.4723
    ],
    [
     -1.4832,
     1.4545,
     0.4754
    ],
    [
     -0.9025,
     1.8696,
     0.4723
    ],
    [
     -0.5938,
     1.7427,
     1.077
    ]
   ],
   {
    "attributes":{
     "index":153
    }
   }
  ],
  "electric-257":[
   [
    [
     -0.9025,
     1.8696,
     0.4723
    ],
    [
     -0.3065,
     2.0301,
     0.5779
    ],
    [
     -0.9025,
     1.8696,
     0.4723
    ],
    [
     -1.1242,
     1.5463,
     0.946
    ]
   ],
   {
    "attributes":{
     "index":567
    }
   }
  ],
  "electric-258":[
   [
    [
     -1.2774,
     1.6989,
     -0.0774
    ],
    [
     -0.9025,
     1.8696,
     0.4723
    ],
    [
     -1.2774,
     1.6989,
     -0.0774
    ],
    [
     -1.4832,
     1.4545,
     0.4754
    ]
   ],
   {
    "attributes":{
     "index":323
    }
   }
  ],
  "electric-259":[
   [
    [
     -1.2774,
     1.6989,
     -0.0774
    ],
    [
     -1.7191,
     1.2587,
     -0.0217
    ]
   ],
   {
    "attributes":{
     "index":629
    }
   }
  ],
  "electric-260":[
   [
    [
     -1.4284,
     1.4571,
     -0.6046
    ],
    [
     -1.4832,
     1.4545,
     0.4754
    ]
   ],
   {
    "attributes":{
     "index":898
    }
   }
  ],
  "electric-261":[
   [
    [
     -1.4284,
     1.4571,
     -0.6046
    ],
    [
     -1.7191,
     1.2587,
     -0.0217
    ],
    [
     -1.4284,
     1.4571,
     -0.6046
    ],
    [
     -1.8364,
     0.9651,
     -0.4971
    ]
   ],
   {
    "attributes":{
     "index":690
    }
   }
  ],
  "electric-262":[
   [
    [
     -1.4284,
     1.4571,
     -0.6046
    ],
    [
     -1.2774,
     1.6989,
     -0.0774
    ]
   ],
   {
    "attributes":{
     "index":989
    }
   }
  ],
  "electric-263":[
   [
    [
     -0.6265,
     2.0334,
     0.0222
    ],
    [
     0.3356,
     2.0176,
     0.588
    ],
    [
     -0.6265,
     2.0334,
     0.0222
    ],
    [
     -0.5938,
     1.7427,
     1.077
    ],
    [
     -0.6265,
     2.0334,
     0.0222
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ]
   ],
   {
    "attributes":{
     "index":438
    }
   }
  ],
  "electric-264":[
   [
    [
     -0.6265,
     2.0334,
     0.0222
    ],
    [
     -1.2774,
     1.6989,
     -0.0774
    ],
    [
     -0.6265,
     2.0334,
     0.0222
    ],
    [
     0.0071,
     2.1322,
     0.0348
    ]
   ],
   {
    "attributes":{
     "index":58
    }
   }
  ],
  "electric-265":[
   [
    [
     -0.6265,
     2.0334,
     0.0222
    ],
    [
     -0.3065,
     2.0301,
     0.5779
    ],
    [
     -0.6265,
     2.0334,
     0.0222
    ],
    [
     -0.9025,
     1.8696,
     0.4723
    ]
   ],
   {
    "attributes":{
     "index":280
    }
   }
  ],
  "electric-266":[
   [
    [
     -0.9311,
     1.8353,
     -0.55
    ],
    [
     -0.9025,
     1.8696,
     0.4723
    ]
   ],
   {
    "attributes":{
     "index":972
    }
   }
  ],
  "electric-267":[
   [
    [
     -0.9311,
     1.8353,
     -0.55
    ],
    [
     -0.6265,
     2.0334,
     0.0222
    ]
   ],
   {
    "attributes":{
     "index":53
    }
   }
  ],
  "electric-268":[
   [
    [
     -0.9311,
     1.8353,
     -0.55
    ],
    [
     -1.4284,
     1.4571,
     -0.6046
    ],
    [
     -0.9311,
     1.8353,
     -0.55
    ],
    [
     -1.2774,
     1.6989,
     -0.0774
    ]
   ],
   {
    "attributes":{
     "index":680
    }
   }
  ],
  "electric-269":[
   [
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     -0.3065,
     2.0301,
     0.5779
    ]
   ],
   {
    "attributes":{
     "index":593
    }
   }
  ],
  "electric-270":[
   [
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     -0.9311,
     1.8353,
     -0.55
    ]
   ],
   {
    "attributes":{
     "index":892
    }
   }
  ],
  "electric-271":[
   [
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     0.0071,
     2.1322,
     0.0348
    ],
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     -0.6265,
     2.0334,
     0.0222
    ]
   ],
   {
    "attributes":{
     "index":795
    }
   }
  ],
  "electric-272":[
   [
    [
     -0.5493,
     1.7609,
     -1.0703
    ],
    [
     -1.4284,
     1.4571,
     -0.6046
    ]
   ],
   {
    "attributes":{
     "index":485
    }
   }
  ],
  "electric-273":[
   [
    [
     -0.5493,
     1.7609,
     -1.0703
    ],
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     -0.5493,
     1.7609,
     -1.0703
    ],
    [
     -0.9311,
     1.8353,
     -0.55
    ]
   ],
   {
    "attributes":{
     "index":401
    }
   }
  ],
  "electric-274":[
   [
    [
     -1.0463,
     1.4486,
     -1.1543
    ],
    [
     -0.5493,
     1.7609,
     -1.0703
    ]
   ],
   {
    "attributes":{
     "index":14
    }
   }
  ],
  "electric-275":[
   [
    [
     -1.4857,
     1.0597,
     -1.099
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ]
   ],
   {
    "attributes":{
     "index":994
    }
   }
  ],
  "electric-276":[
   [
    [
     -1.4857,
     1.0597,
     -1.099
    ],
    [
     -1.8364,
     0.9651,
     -0.4971
    ],
    [
     -1.4857,
     1.0597,
     -1.099
    ],
    [
     -1.4284,
     1.4571,
     -0.6046
    ]
   ],
   {
    "attributes":{
     "index":764
    }
   }
  ],
  "electric-277":[
   [
    [
     -1.4857,
     1.0597,
     -1.099
    ],
    [
     -1.0463,
     1.4486,
     -1.1543
    ]
   ],
   {
    "attributes":{
     "index":904
    }
   }
  ],
  "electric-278":[
   [
    [
     -0.5907,
     1.3467,
     -1.5403
    ],
    [
     -1.4857,
     1.0597,
     -1.099
    ]
   ],
   {
    "attributes":{
     "index":680
    }
   }
  ],
  "electric-279":[
   [
    [
     -0.5907,
     1.3467,
     -1.5403
    ],
    [
     -0.5493,
     1.7609,
     -1.0703
    ],
    [
     -0.5907,
     1.3467,
     -1.5403
    ],
    [
     -1.0463,
     1.4486,
     -1.1543
    ]
   ],
   {
    "attributes":{
     "index":23
    }
   }
  ],
  "electric-280":[
   [
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -0.5493,
     1.7609,
     -1.0703
    ]
   ],
   {
    "attributes":{
     "index":230
    }
   }
  ],
  "electric-281":[
   [
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -0.5907,
     1.3467,
     -1.5403
    ],
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -1.0463,
     1.4486,
     -1.1543
    ],
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -1.4857,
     1.0597,
     -1.099
    ]
   ],
   {
    "attributes":{
     "index":371
    }
   }
  ],
  "electric-282":[
   [
    [
     -0.5979,
     0.8052,
     -1.8815
    ],
    [
     -1.0463,
     1.4486,
     -1.1543
    ]
   ],
   {
    "attributes":{
     "index":467
    }
   }
  ],
  "electric-283":[
   [
    [
     -0.5979,
     0.8052,
     -1.8815
    ],
    [
     -0.5907,
     1.3467,
     -1.5403
    ]
   ],
   {
    "attributes":{
     "index":972
    }
   }
  ],
  "electric-284":[
   [
    [
     -0.5979,
     0.8052,
     -1.8815
    ],
    [
     -1.0966,
     0.9775,
     -1.5422
    ]
   ],
   {
    "attributes":{
     "index":307
    }
   }
  ],
  "electric-285":[
   [
    [
     -1.8172,
     0.5902,
     -0.9497
    ],
    [
     -2.0273,
     0.6501,
     0.0144
    ],
    [
     -1.8172,
     0.5902,
     -0.9497
    ],
    [
     -1.8364,
     0.9651,
     -0.4971
    ],
    [
     -1.8172,
     0.5902,
     -0.9497
    ],
    [
     -1.4857,
     1.0597,
     -1.099
    ]
   ],
   {
    "attributes":{
     "index":553
    }
   }
  ],
  "electric-286":[
   [
    [
     -1.8172,
     0.5902,
     -0.9497
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ]
   ],
   {
    "attributes":{
     "index":359
    }
   }
  ],
  "electric-287":[
   [
    [
     -1.8458,
     0.0011,
     -1.0655
    ],
    [
     -2.13,
     0.0134,
     -0.0272
    ],
    [
     -1.8458,
     0.0011,
     -1.0655
    ],
    [
     -1.848,
     -0.906,
     -0.5512
    ]
   ],
   {
    "attributes":{
     "index":540
    }
   }
  ],
  "electric-288":[
   [
    [
     -1.8458,
     0.0011,
     -1.0655
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ]
   ],
   {
    "attributes":{
     "index":814
    }
   }
  ],
  "electric-289":[
   [
    [
     -1.8458,
     0.0011,
     -1.0655
    ],
    [
     -1.8172,
     0.5902,
     -0.9497
    ],
    [
     -1.8458,
     0.0011,
     -1.0655
    ],
    [
     -2.0141,
     -0.3212,
     -0.6064
    ]
   ],
   {
    "attributes":{
     "index":648
    }
   }
  ],
  "electric-290":[
   [
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ]
   ],
   {
    "attributes":{
     "index":618
    }
   }
  ],
  "electric-291":[
   [
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -1.848,
     -0.906,
     -0.5512
    ]
   ],
   {
    "attributes":{
     "index":149
    }
   }
  ],
  "electric-292":[
   [
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -2.0141,
     -0.3212,
     -0.6064
    ],
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -1.8458,
     0.0011,
     -1.0655
    ]
   ],
   {
    "attributes":{
     "index":423
    }
   }
  ],
  "electric-293":[
   [
    [
     -1.4943,
     -1.0769,
     -1.0709
    ],
    [
     -1.7314,
     -1.2437,
     -0.0102
    ],
    [
     -1.4943,
     -1.0769,
     -1.0709
    ],
    [
     -2.0141,
     -0.3212,
     -0.6064
    ]
   ],
   {
    "attributes":{
     "index":339
    }
   }
  ],
  "electric-294":[
   [
    [
     -1.4943,
     -1.0769,
     -1.0709
    ],
    [
     -1.457,
     -1.4604,
     -0.5276
    ]
   ],
   {
    "attributes":{
     "index":705
    }
   }
  ],
  "electric-295":[
   [
    [
     -1.4943,
     -1.0769,
     -1.0709
    ],
    [
     -1.848,
     -0.906,
     -0.5512
    ],
    [
     -1.4943,
     -1.0769,
     -1.0709
    ],
    [
     -1.7238,
     -0.5547,
     -1.1274
    ]
   ],
   {
    "attributes":{
     "index":225
    }
   }
  ],
  "electric-296":[
   [
    [
     -1.5125,
     0.4633,
     -1.4258
    ],
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -1.5125,
     0.4633,
     -1.4258
    ],
    [
     -2.0509,
     0.3168,
     -0.4906
    ],
    [
     -1.5125,
     0.4633,
     -1.4258
    ],
    [
     -0.5979,
     0.8052,
     -1.8815
    ]
   ],
   {
    "attributes":{
     "index":619
    }
   }
  ],
  "electric-297":[
   [
    [
     -1.5125,
     0.4633,
     -1.4258
    ],
    [
     -1.4857,
     1.0597,
     -1.099
    ],
    [
     -1.5125,
     0.4633,
     -1.4258
    ],
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -1.5125,
     0.4633,
     -1.4258
    ],
    [
     -1.8458,
     0.0011,
     -1.0655
    ]
   ],
   {
    "attributes":{
     "index":182
    }
   }
  ],
  "electric-298":[
   [
    [
     -1.5125,
     0.4633,
     -1.4258
    ],
    [
     -1.8172,
     0.5902,
     -0.9497
    ]
   ],
   {
    "attributes":{
     "index":865
    }
   }
  ],
  "electric-299":[
   [
    [
     -1.4287,
     -0.1283,
     -1.5752
    ],
    [
     -1.4943,
     -1.0769,
     -1.0709
    ],
    [
     -1.4287,
     -0.1283,
     -1.5752
    ],
    [
     -1.8172,
     0.5902,
     -0.9497
    ]
   ],
   {
    "attributes":{
     "index":965
    }
   }
  ],
  "electric-300":[
   [
    [
     -1.4287,
     -0.1283,
     -1.5752
    ],
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -1.4287,
     -0.1283,
     -1.5752
    ],
    [
     -1.8458,
     0.0011,
     -1.0655
    ]
   ],
   {
    "attributes":{
     "index":312
    }
   }
  ],
  "electric-301":[
   [
    [
     -1.4287,
     -0.1283,
     -1.5752
    ],
    [
     -1.5125,
     0.4633,
     -1.4258
    ]
   ],
   {
    "attributes":{
     "index":981
    }
   }
  ],
  "electric-302":[
   [
    [
     -1.2559,
     -0.7166,
     -1.567
    ],
    [
     -1.8458,
     0.0011,
     -1.0655
    ]
   ],
   {
    "attributes":{
     "index":235
    }
   }
  ],
  "electric-303":[
   [
    [
     -1.2559,
     -0.7166,
     -1.567
    ],
    [
     -1.7238,
     -0.5547,
     -1.1274
    ],
    [
     -1.2559,
     -0.7166,
     -1.567
    ],
    [
     -1.4943,
     -1.0769,
     -1.0709
    ]
   ],
   {
    "attributes":{
     "index":734
    }
   }
  ],
  "electric-304":[
   [
    [
     -1.2559,
     -0.7166,
     -1.567
    ],
    [
     -1.4287,
     -0.1283,
     -1.5752
    ]
   ],
   {
    "attributes":{
     "index":542
    }
   }
  ],
  "electric-305":[
   [
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -1.2559,
     -0.7166,
     -1.567
    ]
   ],
   {
    "attributes":{
     "index":609
    }
   }
  ],
  "electric-306":[
   [
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -0.5979,
     0.8052,
     -1.8815
    ]
   ],
   {
    "attributes":{
     "index":983
    }
   }
  ],
  "electric-307":[
   [
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -1.4287,
     -0.1283,
     -1.5752
    ],
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -1.5125,
     0.4633,
     -1.4258
    ]
   ],
   {
    "attributes":{
     "index":127
    }
   }
  ],
  "electric-308":[
   [
    [
     -0.9119,
     -0.3193,
     -1.8971
    ],
    [
     -1.5125,
     0.4633,
     -1.4258
    ]
   ],
   {
    "attributes":{
     "index":408
    }
   }
  ],
  "electric-309":[
   [
    [
     -0.9119,
     -0.3193,
     -1.8971
    ],
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -0.9119,
     -0.3193,
     -1.8971
    ],
    [
     -1.4287,
     -0.1283,
     -1.5752
    ]
   ],
   {
    "attributes":{
     "index":871
    }
   }
  ],
  "electric-310":[
   [
    [
     -0.9119,
     -0.3193,
     -1.8971
    ],
    [
     -1.2559,
     -0.7166,
     -1.567
    ]
   ],
   {
    "attributes":{
     "index":297
    }
   }
  ],
  "electric-311":[
   [
    [
     -0.5728,
     0.1917,
     -2.0435
    ],
    [
     -1.0966,
     0.9775,
     -1.5422
    ],
    [
     -0.5728,
     0.1917,
     -2.0435
    ],
    [
     -1.4287,
     -0.1283,
     -1.5752
    ]
   ],
   {
    "attributes":{
     "index":756
    }
   }
  ],
  "electric-312":[
   [
    [
     -0.5728,
     0.1917,
     -2.0435
    ],
    [
     -0.9119,
     -0.3193,
     -1.8971
    ]
   ],
   {
    "attributes":{
     "index":680
    }
   }
  ],
  "electric-313":[
   [
    [
     -0.5728,
     0.1917,
     -2.0435
    ],
    [
     -0.5979,
     0.8052,
     -1.8815
    ],
    [
     -0.5728,
     0.1917,
     -2.0435
    ],
    [
     -1.0414,
     0.3139,
     -1.8284
    ]
   ],
   {
    "attributes":{
     "index":235
    }
   }
  ],
  "electric-314":[
   [
    [
     -1.1262,
     -1.5396,
     -0.956
    ],
    [
     -1.848,
     -0.906,
     -0.5512
    ],
    [
     -1.1262,
     -1.5396,
     -0.956
    ],
    [
     -1.2559,
     -0.7166,
     -1.567
    ]
   ],
   {
    "attributes":{
     "index":129
    }
   }
  ],
  "electric-315":[
   [
    [
     -1.1262,
     -1.5396,
     -0.956
    ],
    [
     -1.2861,
     -1.6943,
     0.047
    ],
    [
     -1.1262,
     -1.5396,
     -0.956
    ],
    [
     -1.4943,
     -1.0769,
     -1.0709
    ]
   ],
   {
    "attributes":{
     "index":290
    }
   }
  ],
  "electric-316":[
   [
    [
     -1.1262,
     -1.5396,
     -0.956
    ],
    [
     -0.9318,
     -1.849,
     -0.5093
    ],
    [
     -1.1262,
     -1.5396,
     -0.956
    ],
    [
     -1.457,
     -1.4604,
     -0.5276
    ]
   ],
   {
    "attributes":{
     "index":900
    }
   }
  ],
  "electric-317":[
   [
    [
     -0.5656,
     -1.7456,
     -1.0848
    ],
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -0.5656,
     -1.7456,
     -1.0848
    ],
    [
     0.3215,
     -2.0274,
     -0.5747
    ]
   ],
   {
    "attributes":{
     "index":825
    }
   }
  ],
  "electric-318":[
   [
    [
     -0.5656,
     -1.7456,
     -1.0848
    ],
    [
     -0.9318,
     -1.849,
     -0.5093
    ]
   ],
   {
    "attributes":{
     "index":978
    }
   }
  ],
  "electric-319":[
   [
    [
     -0.5656,
     -1.7456,
     -1.0848
    ],
    [
     -0.2911,
     -2.0303,
     -0.5788
    ],
    [
     -0.5656,
     -1.7456,
     -1.0848
    ],
    [
     -1.1262,
     -1.5396,
     -0.956
    ]
   ],
   {
    "attributes":{
     "index":746
    }
   }
  ],
  "electric-320":[
   [
    [
     0.0243,
     -1.8296,
     -1.0856
    ],
    [
     0.0088,
     -2.1316,
     -0.0566
    ],
    [
     0.0243,
     -1.8296,
     -1.0856
    ],
    [
     0.8959,
     -1.8679,
     -0.493
    ]
   ],
   {
    "attributes":{
     "index":998
    }
   }
  ],
  "electric-321":[
   [
    [
     0.0243,
     -1.8296,
     -1.0856
    ],
    [
     -0.2911,
     -2.0303,
     -0.5788
    ]
   ],
   {
    "attributes":{
     "index":941
    }
   }
  ],
  "electric-322":[
   [
    [
     0.0243,
     -1.8296,
     -1.0856
    ],
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     0.0243,
     -1.8296,
     -1.0856
    ],
    [
     -0.5656,
     -1.7456,
     -1.0848
    ]
   ],
   {
    "attributes":{
     "index":153
    }
   }
  ],
  "electric-323":[
   [
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     0.6833,
     -2.0172,
     -0.0087
    ],
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     -0.2911,
     -2.0303,
     -0.5788
    ]
   ],
   {
    "attributes":{
     "index":764
    }
   }
  ],
  "electric-324":[
   [
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     0.8959,
     -1.8679,
     -0.493
    ]
   ],
   {
    "attributes":{
     "index":508
    }
   }
  ],
  "electric-325":[
   [
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     0.0243,
     -1.8296,
     -1.0856
    ]
   ],
   {
    "attributes":{
     "index":447
    }
   }
  ],
  "electric-326":[
   [
    [
     -0.9105,
     -1.2834,
     -1.4377
    ],
    [
     -1.457,
     -1.4604,
     -0.5276
    ],
    [
     -0.9105,
     -1.2834,
     -1.4377
    ],
    [
     -0.9119,
     -0.3193,
     -1.8971
    ]
   ],
   {
    "attributes":{
     "index":374
    }
   }
  ],
  "electric-327":[
   [
    [
     -0.9105,
     -1.2834,
     -1.4377
    ],
    [
     -1.1262,
     -1.5396,
     -0.956
    ]
   ],
   {
    "attributes":{
     "index":370
    }
   }
  ],
  "electric-328":[
   [
    [
     -0.311,
     -1.4075,
     -1.5711
    ],
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     -0.311,
     -1.4075,
     -1.5711
    ],
    [
     -1.1262,
     -1.5396,
     -0.956
    ]
   ],
   {
    "attributes":{
     "index":317
    }
   }
  ],
  "electric-329":[
   [
    [
     -0.311,
     -1.4075,
     -1.5711
    ],
    [
     0.0243,
     -1.8296,
     -1.0856
    ],
    [
     -0.311,
     -1.4075,
     -1.5711
    ],
    [
     -0.5656,
     -1.7456,
     -1.0848
    ]
   ],
   {
    "attributes":{
     "index":593
    }
   }
  ],
  "electric-330":[
   [
    [
     -0.311,
     -1.4075,
     -1.5711
    ],
    [
     -0.9105,
     -1.2834,
     -1.4377
    ]
   ],
   {
    "attributes":{
     "index":39
    }
   }
  ],
  "electric-331":[
   [
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     -0.5656,
     -1.7456,
     -1.0848
    ]
   ],
   {
    "attributes":{
     "index":620
    }
   }
  ],
  "electric-332":[
   [
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     0.0243,
     -1.8296,
     -1.0856
    ]
   ],
   {
    "attributes":{
     "index":67
    }
   }
  ],
  "electric-333":[
   [
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     -0.311,
     -1.4075,
     -1.5711
    ]
   ],
   {
    "attributes":{
     "index":637
    }
   }
  ],
  "electric-334":[
   [
    [
     -0.681,
     -0.912,
     -1.8005
    ],
    [
     -1.4287,
     -0.1283,
     -1.5752
    ],
    [
     -0.681,
     -0.912,
     -1.8005
    ],
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     -0.681,
     -0.912,
     -1.8005
    ],
    [
     -0.5656,
     -1.7456,
     -1.0848
    ]
   ],
   {
    "attributes":{
     "index":553
    }
   }
  ],
  "electric-335":[
   [
    [
     -0.681,
     -0.912,
     -1.8005
    ],
    [
     -0.311,
     -1.4075,
     -1.5711
    ],
    [
     -0.681,
     -0.912,
     -1.8005
    ],
    [
     -1.2559,
     -0.7166,
     -1.567
    ]
   ],
   {
    "attributes":{
     "index":52
    }
   }
  ],
  "electric-336":[
   [
    [
     -0.681,
     -0.912,
     -1.8005
    ],
    [
     -0.9119,
     -0.3193,
     -1.8971
    ],
    [
     -0.681,
     -0.912,
     -1.8005
    ],
    [
     -0.9105,
     -1.2834,
     -1.4377
    ]
   ],
   {
    "attributes":{
     "index":692
    }
   }
  ],
  "electric-337":[
   [
    [
     0.0209,
     -0.9796,
     -1.8914
    ],
    [
     -0.9105,
     -1.2834,
     -1.4377
    ]
   ],
   {
    "attributes":{
     "index":791
    }
   }
  ],
  "electric-338":[
   [
    [
     0.0209,
     -0.9796,
     -1.8914
    ],
    [
     -0.311,
     -1.4075,
     -1.5711
    ],
    [
     0.0209,
     -0.9796,
     -1.8914
    ],
    [
     0.282,
     -1.4109,
     -1.5708
    ]
   ],
   {
    "attributes":{
     "index":127
    }
   }
  ],
  "electric-339":[
   [
    [
     -0.3562,
     -0.4773,
     -2.047
    ],
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -0.3562,
     -0.4773,
     -2.047
    ],
    [
     -1.2559,
     -0.7166,
     -1.567
    ],
    [
     -0.3562,
     -0.4773,
     -2.047
    ],
    [
     -0.311,
     -1.4075,
     -1.5711
    ]
   ],
   {
    "attributes":{
     "index":988
    }
   }
  ],
  "electric-340":[
   [
    [
     -0.3562,
     -0.4773,
     -2.047
    ],
    [
     -0.9119,
     -0.3193,
     -1.8971
    ],
    [
     -0.3562,
     -0.4773,
     -2.047
    ],
    [
     -0.681,
     -0.912,
     -1.8005
    ]
   ],
   {
    "attributes":{
     "index":629
    }
   }
  ],
  "electric-341":[
   [
    [
     1.1146,
     -1.5526,
     -0.9456
    ],
    [
     1.2605,
     -1.72,
     0.042
    ],
    [
     1.1146,
     -1.5526,
     -0.9456
    ],
    [
     1.8223,
     -0.9494,
     -0.5568
    ]
   ],
   {
    "attributes":{
     "index":228
    }
   }
  ],
  "electric-342":[
   [
    [
     1.1146,
     -1.5526,
     -0.9456
    ],
    [
     0.3215,
     -2.0274,
     -0.5747
    ],
    [
     1.1146,
     -1.5526,
     -0.9456
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ]
   ],
   {
    "attributes":{
     "index":107
    }
   }
  ],
  "electric-343":[
   [
    [
     1.1146,
     -1.5526,
     -0.9456
    ],
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     1.1146,
     -1.5526,
     -0.9456
    ],
    [
     0.8959,
     -1.8679,
     -0.493
    ]
   ],
   {
    "attributes":{
     "index":887
    }
   }
  ],
  "electric-344":[
   [
    [
     1.479,
     -1.0788,
     -1.0913
    ],
    [
     2.0226,
     -0.3329,
     -0.5849
    ]
   ],
   {
    "attributes":{
     "index":685
    }
   }
  ],
  "electric-345":[
   [
    [
     1.479,
     -1.0788,
     -1.0913
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ]
   ],
   {
    "attributes":{
     "index":491
    }
   }
  ],
  "electric-346":[
   [
    [
     1.479,
     -1.0788,
     -1.0913
    ],
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     1.479,
     -1.0788,
     -1.0913
    ],
    [
     1.1146,
     -1.5526,
     -0.9456
    ]
   ],
   {
    "attributes":{
     "index":471
    }
   }
  ],
  "electric-347":[
   [
    [
     1.7121,
     -0.5664,
     -1.136
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ]
   ],
   {
    "attributes":{
     "index":766
    }
   }
  ],
  "electric-348":[
   [
    [
     1.7121,
     -0.5664,
     -1.136
    ],
    [
     1.8223,
     -0.9494,
     -0.5568
    ],
    [
     1.7121,
     -0.5664,
     -1.136
    ],
    [
     2.0226,
     -0.3329,
     -0.5849
    ]
   ],
   {
    "attributes":{
     "index":181
    }
   }
  ],
  "electric-349":[
   [
    [
     1.7121,
     -0.5664,
     -1.136
    ],
    [
     1.479,
     -1.0788,
     -1.0913
    ]
   ],
   {
    "attributes":{
     "index":438
    }
   }
  ],
  "electric-350":[
   [
    [
     1.8524,
     0.0364,
     -1.0472
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     1.8524,
     0.0364,
     -1.0472
    ],
    [
     2.13,
     0.0061,
     -0.0266
    ]
   ],
   {
    "attributes":{
     "index":47
    }
   }
  ],
  "electric-351":[
   [
    [
     1.8524,
     0.0364,
     -1.0472
    ],
    [
     1.7121,
     -0.5664,
     -1.136
    ]
   ],
   {
    "attributes":{
     "index":842
    }
   }
  ],
  "electric-352":[
   [
    [
     1.8524,
     0.0364,
     -1.0472
    ],
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     1.8524,
     0.0364,
     -1.0472
    ],
    [
     2.0226,
     -0.3329,
     -0.5849
    ]
   ],
   {
    "attributes":{
     "index":1000
    }
   }
  ],
  "electric-353":[
   [
    [
     0.9346,
     -1.2864,
     -1.419
    ],
    [
     1.4992,
     -1.4312,
     -0.4887
    ],
    [
     0.9346,
     -1.2864,
     -1.419
    ],
    [
     0.0209,
     -0.9796,
     -1.8914
    ]
   ],
   {
    "attributes":{
     "index":568
    }
   }
  ],
  "electric-354":[
   [
    [
     0.9346,
     -1.2864,
     -1.419
    ],
    [
     0.5571,
     -1.7589,
     -1.0622
    ],
    [
     0.9346,
     -1.2864,
     -1.419
    ],
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     0.9346,
     -1.2864,
     -1.419
    ],
    [
     1.479,
     -1.0788,
     -1.0913
    ]
   ],
   {
    "attributes":{
     "index":365
    }
   }
  ],
  "electric-355":[
   [
    [
     0.9346,
     -1.2864,
     -1.419
    ],
    [
     1.1146,
     -1.5526,
     -0.9456
    ]
   ],
   {
    "attributes":{
     "index":186
    }
   }
  ],
  "electric-356":[
   [
    [
     1.2223,
     -0.7339,
     -1.5807
    ],
    [
     1.1146,
     -1.5526,
     -0.9456
    ]
   ],
   {
    "attributes":{
     "index":372
    }
   }
  ],
  "electric-357":[
   [
    [
     1.2223,
     -0.7339,
     -1.5807
    ],
    [
     1.7121,
     -0.5664,
     -1.136
    ],
    [
     1.2223,
     -0.7339,
     -1.5807
    ],
    [
     1.479,
     -1.0788,
     -1.0913
    ],
    [
     1.2223,
     -0.7339,
     -1.5807
    ],
    [
     0.9346,
     -1.2864,
     -1.419
    ]
   ],
   {
    "attributes":{
     "index":156
    }
   }
  ],
  "electric-358":[
   [
    [
     1.4553,
     -0.1666,
     -1.5462
    ],
    [
     1.479,
     -1.0788,
     -1.0913
    ]
   ],
   {
    "attributes":{
     "index":236
    }
   }
  ],
  "electric-359":[
   [
    [
     1.4553,
     -0.1666,
     -1.5462
    ],
    [
     1.8524,
     0.0364,
     -1.0472
    ]
   ],
   {
    "attributes":{
     "index":69
    }
   }
  ],
  "electric-360":[
   [
    [
     0.7001,
     -0.8801,
     -1.8046
    ],
    [
     1.479,
     -1.0788,
     -1.0913
    ],
    [
     0.7001,
     -0.8801,
     -1.8046
    ],
    [
     1.4553,
     -0.1666,
     -1.5462
    ]
   ],
   {
    "attributes":{
     "index":115
    }
   }
  ],
  "electric-361":[
   [
    [
     0.7001,
     -0.8801,
     -1.8046
    ],
    [
     1.2223,
     -0.7339,
     -1.5807
    ]
   ],
   {
    "attributes":{
     "index":467
    }
   }
  ],
  "electric-362":[
   [
    [
     0.9181,
     -0.3338,
     -1.8907
    ],
    [
     0.9346,
     -1.2864,
     -1.419
    ]
   ],
   {
    "attributes":{
     "index":166
    }
   }
  ],
  "electric-363":[
   [
    [
     0.9181,
     -0.3338,
     -1.8907
    ],
    [
     1.4553,
     -0.1666,
     -1.5462
    ]
   ],
   {
    "attributes":{
     "index":684
    }
   }
  ],
  "electric-364":[
   [
    [
     0.9181,
     -0.3338,
     -1.8907
    ],
    [
     0.7001,
     -0.8801,
     -1.8046
    ],
    [
     0.9181,
     -0.3338,
     -1.8907
    ],
    [
     1.2223,
     -0.7339,
     -1.5807
    ]
   ],
   {
    "attributes":{
     "index":479
    }
   }
  ],
  "electric-365":[
   [
    [
     0.3419,
     -0.4567,
     -2.0542
    ],
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     0.3419,
     -0.4567,
     -2.0542
    ],
    [
     1.2223,
     -0.7339,
     -1.5807
    ]
   ],
   {
    "attributes":{
     "index":700
    }
   }
  ],
  "electric-366":[
   [
    [
     0.3419,
     -0.4567,
     -2.0542
    ],
    [
     -0.3562,
     -0.4773,
     -2.047
    ],
    [
     0.3419,
     -0.4567,
     -2.0542
    ],
    [
     0.0209,
     -0.9796,
     -1.8914
    ]
   ],
   {
    "attributes":{
     "index":719
    }
   }
  ],
  "electric-367":[
   [
    [
     0.3419,
     -0.4567,
     -2.0542
    ],
    [
     0.9181,
     -0.3338,
     -1.8907
    ],
    [
     0.3419,
     -0.4567,
     -2.0542
    ],
    [
     0.7001,
     -0.8801,
     -1.8046
    ]
   ],
   {
    "attributes":{
     "index":728
    }
   }
  ],
  "electric-368":[
   [
    [
     1.8032,
     0.6289,
     -0.9375
    ],
    [
     1.4553,
     -0.1666,
     -1.5462
    ],
    [
     1.8032,
     0.6289,
     -0.9375
    ],
    [
     2.031,
     0.647,
     0.0365
    ]
   ],
   {
    "attributes":{
     "index":88
    }
   }
  ],
  "electric-369":[
   [
    [
     1.8032,
     0.6289,
     -0.9375
    ],
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     1.8032,
     0.6289,
     -0.9375
    ],
    [
     1.8524,
     0.0364,
     -1.0472
    ]
   ],
   {
    "attributes":{
     "index":25
    }
   }
  ],
  "electric-370":[
   [
    [
     1.8032,
     0.6289,
     -0.9375
    ],
    [
     2.0406,
     0.3192,
     -0.5214
    ],
    [
     1.8032,
     0.6289,
     -0.9375
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ]
   ],
   {
    "attributes":{
     "index":464
    }
   }
  ],
  "electric-371":[
   [
    [
     1.5003,
     1.0448,
     -1.0928
    ],
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     1.5003,
     1.0448,
     -1.0928
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ]
   ],
   {
    "attributes":{
     "index":25
    }
   }
  ],
  "electric-372":[
   [
    [
     1.5003,
     1.0448,
     -1.0928
    ],
    [
     1.8032,
     0.6289,
     -0.9375
    ]
   ],
   {
    "attributes":{
     "index":168
    }
   }
  ],
  "electric-373":[
   [
    [
     1.083,
     1.4647,
     -1.1053
    ],
    [
     1.2476,
     1.7252,
     -0.0148
    ],
    [
     1.083,
     1.4647,
     -1.1053
    ],
    [
     1.8032,
     0.6289,
     -0.9375
    ],
    [
     1.083,
     1.4647,
     -1.1053
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ]
   ],
   {
    "attributes":{
     "index":858
    }
   }
  ],
  "electric-374":[
   [
    [
     1.083,
     1.4647,
     -1.1053
    ],
    [
     0.9406,
     1.831,
     -0.5549
    ]
   ],
   {
    "attributes":{
     "index":368
    }
   }
  ],
  "electric-375":[
   [
    [
     1.083,
     1.4647,
     -1.1053
    ],
    [
     1.4351,
     1.4695,
     -0.5736
    ],
    [
     1.083,
     1.4647,
     -1.1053
    ],
    [
     1.5003,
     1.0448,
     -1.0928
    ]
   ],
   {
    "attributes":{
     "index":346
    }
   }
  ],
  "electric-376":[
   [
    [
     0.5353,
     1.7501,
     -1.0914
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     0.5353,
     1.7501,
     -1.0914
    ],
    [
     0.9406,
     1.831,
     -0.5549
    ]
   ],
   {
    "attributes":{
     "index":3
    }
   }
  ],
  "electric-377":[
   [
    [
     0.5353,
     1.7501,
     -1.0914
    ],
    [
     1.083,
     1.4647,
     -1.1053
    ]
   ],
   {
    "attributes":{
     "index":756
    }
   }
  ],
  "electric-378":[
   [
    [
     0.0244,
     1.9058,
     -0.9523
    ],
    [
     0.0071,
     2.1322,
     0.0348
    ],
    [
     0.0244,
     1.9058,
     -0.9523
    ],
    [
     -0.5907,
     1.3467,
     -1.5403
    ],
    [
     0.0244,
     1.9058,
     -0.9523
    ],
    [
     0.9406,
     1.831,
     -0.5549
    ]
   ],
   {
    "attributes":{
     "index":665
    }
   }
  ],
  "electric-379":[
   [
    [
     0.0244,
     1.9058,
     -0.9523
    ],
    [
     -0.5493,
     1.7609,
     -1.0703
    ],
    [
     0.0244,
     1.9058,
     -0.9523
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ]
   ],
   {
    "attributes":{
     "index":955
    }
   }
  ],
  "electric-380":[
   [
    [
     0.0244,
     1.9058,
     -0.9523
    ],
    [
     -0.3213,
     2.0427,
     -0.5122
    ],
    [
     0.0244,
     1.9058,
     -0.9523
    ],
    [
     0.5353,
     1.7501,
     -1.0914
    ]
   ],
   {
    "attributes":{
     "index":900
    }
   }
  ],
  "electric-381":[
   [
    [
     1.5041,
     0.4792,
     -1.4342
    ],
    [
     1.8295,
     0.9603,
     -0.5191
    ],
    [
     1.5041,
     0.4792,
     -1.4342
    ],
    [
     2.0406,
     0.3192,
     -0.5214
    ]
   ],
   {
    "attributes":{
     "index":687
    }
   }
  ],
  "electric-382":[
   [
    [
     1.5041,
     0.4792,
     -1.4342
    ],
    [
     1.8524,
     0.0364,
     -1.0472
    ],
    [
     1.5041,
     0.4792,
     -1.4342
    ],
    [
     1.5003,
     1.0448,
     -1.0928
    ]
   ],
   {
    "attributes":{
     "index":984
    }
   }
  ],
  "electric-383":[
   [
    [
     1.5041,
     0.4792,
     -1.4342
    ],
    [
     1.4553,
     -0.1666,
     -1.5462
    ],
    [
     1.5041,
     0.4792,
     -1.4342
    ],
    [
     1.8032,
     0.6289,
     -0.9375
    ]
   ],
   {
    "attributes":{
     "index":565
    }
   }
  ],
  "electric-384":[
   [
    [
     1.0863,
     0.9702,
     -1.5587
    ],
    [
     1.083,
     1.4647,
     -1.1053
    ],
    [
     1.0863,
     0.9702,
     -1.5587
    ],
    [
     1.5041,
     0.4792,
     -1.4342
    ]
   ],
   {
    "attributes":{
     "index":67
    }
   }
  ],
  "electric-385":[
   [
    [
     1.0863,
     0.9702,
     -1.5587
    ],
    [
     1.5003,
     1.0448,
     -1.0928
    ]
   ],
   {
    "attributes":{
     "index":196
    }
   }
  ],
  "electric-386":[
   [
    [
     0.5941,
     1.3494,
     -1.5352
    ],
    [
     1.5003,
     1.0448,
     -1.0928
    ],
    [
     0.5941,
     1.3494,
     -1.5352
    ],
    [
     0.0244,
     1.9058,
     -0.9523
    ]
   ],
   {
    "attributes":{
     "index":501
    }
   }
  ],
  "electric-387":[
   [
    [
     0.5941,
     1.3494,
     -1.5352
    ],
    [
     1.083,
     1.4647,
     -1.1053
    ]
   ],
   {
    "attributes":{
     "index":632
    }
   }
  ],
  "electric-388":[
   [
    [
     0.5941,
     1.3494,
     -1.5352
    ],
    [
     1.0863,
     0.9702,
     -1.5587
    ],
    [
     0.5941,
     1.3494,
     -1.5352
    ],
    [
     0.5353,
     1.7501,
     -1.0914
    ]
   ],
   {
    "attributes":{
     "index":38
    }
   }
  ],
  "electric-389":[
   [
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     -1.0463,
     1.4486,
     -1.1543
    ],
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     0.339,
     2.0493,
     -0.4779
    ],
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     -0.3213,
     2.0427,
     -0.5122
    ]
   ],
   {
    "attributes":{
     "index":314
    }
   }
  ],
  "electric-390":[
   [
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     -0.5493,
     1.7609,
     -1.0703
    ],
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     -0.5907,
     1.3467,
     -1.5403
    ],
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     0.5941,
     1.3494,
     -1.5352
    ]
   ],
   {
    "attributes":{
     "index":96
    }
   }
  ],
  "electric-391":[
   [
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     0.5353,
     1.7501,
     -1.0914
    ],
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     0.0244,
     1.9058,
     -0.9523
    ]
   ],
   {
    "attributes":{
     "index":266
    }
   }
  ],
  "electric-392":[
   [
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     1.5003,
     1.0448,
     -1.0928
    ],
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     1.2223,
     -0.7339,
     -1.5807
    ],
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     0.3419,
     -0.4567,
     -2.0542
    ]
   ],
   {
    "attributes":{
     "index":156
    }
   }
  ],
  "electric-393":[
   [
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     1.4553,
     -0.1666,
     -1.5462
    ],
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     1.0863,
     0.9702,
     -1.5587
    ],
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     0.9181,
     -0.3338,
     -1.8907
    ]
   ],
   {
    "attributes":{
     "index":42
    }
   }
  ],
  "electric-394":[
   [
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     1.5041,
     0.4792,
     -1.4342
    ]
   ],
   {
    "attributes":{
     "index":80
    }
   }
  ],
  "electric-395":[
   [
    [
     0.5871,
     0.8016,
     -1.8883
    ],
    [
     0.0084,
     1.594,
     -1.4118
    ],
    [
     0.5871,
     0.8016,
     -1.8883
    ],
    [
     1.5041,
     0.4792,
     -1.4342
    ]
   ],
   {
    "attributes":{
     "index":396
    }
   }
  ],
  "electric-396":[
   [
    [
     0.5871,
     0.8016,
     -1.8883
    ],
    [
     1.0527,
     0.3347,
     -1.8227
    ],
    [
     0.5871,
     0.8016,
     -1.8883
    ],
    [
     0.5941,
     1.3494,
     -1.5352
    ]
   ],
   {
    "attributes":{
     "index":514
    }
   }
  ],
  "electric-397":[
   [
    [
     0.5871,
     0.8016,
     -1.8883
    ],
    [
     1.0863,
     0.9702,
     -1.5587
    ]
   ],
   {
    "attributes":{
     "index":850
    }
   }
  ],
  "electric-398":[
   [
    [
     0.0252,
     1.1029,
     -1.8213
    ],
    [
     1.0863,
     0.9702,
     -1.5587
    ],
    [
     0.0252,
     1.1029,
     -1.8213
    ],
    [
     0.5353,
     1.7501,
     -1.0914
    ]
   ],
   {
    "attributes":{
     "index":945
    }
   }
  ],
  "electric-399":[
   [
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     1.4553,
     -0.1666,
     -1.5462
    ],
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     0.0252,
     1.1029,
     -1.8213
    ],
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     1.0863,
     0.9702,
     -1.5587
    ]
   ],
   {
    "attributes":{
     "index":448
    }
   }
  ],
  "electric-400":[
   [
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     0.5871,
     0.8016,
     -1.8883
    ],
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     1.0527,
     0.3347,
     -1.8227
    ]
   ],
   {
    "attributes":{
     "index":593
    }
   }
  ],
  "electric-401":[
   [
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     0.5941,
     1.3494,
     -1.5352
    ],
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     -1.0414,
     0.3139,
     -1.8284
    ],
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     -0.5907,
     1.3467,
     -1.5403
    ]
   ],
   {
    "attributes":{
     "index":863
    }
   }
  ],
  "electric-402":[
   [
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     -0.5728,
     0.1917,
     -2.0435
    ],
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     0.5871,
     0.8016,
     -1.8883
    ]
   ],
   {
    "attributes":{
     "index":97
    }
   }
  ],
  "electric-403":[
   [
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     -0.5979,
     0.8052,
     -1.8815
    ],
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     0.0252,
     1.1029,
     -1.8213
    ]
   ],
   {
    "attributes":{
     "index":831
    }
   }
  ],
  "electric-404":[
   [
    [
     -0.0228,
     0.0107,
     -2.1307
    ],
    [
     0.9181,
     -0.3338,
     -1.8907
    ],
    [
     -0.0228,
     0.0107,
     -2.1307
    ],
    [
     0.0209,
     -0.9796,
     -1.8914
    ],
    [
     -0.0228,
     0.0107,
     -2.1307
    ],
    [
     -0.5979,
     0.8052,
     -1.8815
    ]
   ],
   {
    "attributes":{
     "index":942
    }
   }
  ],
  "electric-405":[
   [
    [
     -0.0228,
     0.0107,
     -2.1307
    ],
    [
     -0.9119,
     -0.3193,
     -1.8971
    ],
    [
     -0.0228,
     0.0107,
     -2.1307
    ],
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     -0.0228,
     0.0107,
     -2.1307
    ],
    [
     -0.5728,
     0.1917,
     -2.0435
    ]
   ],
   {
    "attributes":{
     "index":132
    }
   }
  ],
  "inner-outer-001":[
   [
    [
     -0.7041,
     1.4342,
     -0.2275
    ],
    [
     -0.9258,
     1.8857,
     -0.2991
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-002":[
   [
    [
     -1.0162,
     -1.0908,
     0.6323
    ],
    [
     -1.3361,
     -1.4342,
     0.8314
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-003":[
   [
    [
     -1.5967,
     0.1634,
     0.1198
    ],
    [
     -2.0994,
     0.2148,
     0.1575
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-004":[
   [
    [
     -0.0816,
     -0.8884,
     1.3474
    ],
    [
     -0.1073,
     -1.168,
     1.7715
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-005":[
   [
    [
     0.0023,
     1.5281,
     -0.5313
    ],
    [
     0.003,
     2.0092,
     -0.6986
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-006":[
   [
    [
     0.4509,
     0.4112,
     1.5089
    ],
    [
     0.5929,
     0.5407,
     1.9839
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-007":[
   [
    [
     0.3179,
     -1.5306,
     -0.3796
    ],
    [
     0.418,
     -2.0125,
     -0.4992
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-008":[
   [
    [
     -0.9461,
     -0.2232,
     -1.3149
    ],
    [
     -1.2439,
     -0.2935,
     -1.7288
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-009":[
   [
    [
     0.1755,
     1.5822,
     0.3168
    ],
    [
     0.2308,
     2.0803,
     0.4165
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-010":[
   [
    [
     -1.0742,
     0.8864,
     0.8331
    ],
    [
     -1.4124,
     1.1655,
     1.0953
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-011":[
   [
    [
     0.1489,
     0.7275,
     -1.4359
    ],
    [
     0.1958,
     0.9566,
     -1.888
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-012":[
   [
    [
     -0.7557,
     -0.855,
     -1.1626
    ],
    [
     -0.9936,
     -1.1241,
     -1.5286
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-013":[
   [
    [
     -0.2479,
     -1.1892,
     1.0643
    ],
    [
     -0.326,
     -1.5636,
     1.3994
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-014":[
   [
    [
     0.3163,
     -1.5439,
     0.3987
    ],
    [
     0.4159,
     -2.0299,
     0.5242
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-015":[
   [
    [
     0.8062,
     1.3901,
     0.1711
    ],
    [
     1.06,
     1.8278,
     0.2249
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-016":[
   [
    [
     -0.962,
     0.958,
     0.8729
    ],
    [
     -1.2649,
     1.2596,
     1.1477
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-017":[
   [
    [
     1.2567,
     0.6179,
     0.8441
    ],
    [
     1.6523,
     0.8124,
     1.1099
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-018":[
   [
    [
     -0.5811,
     -1.3582,
     -0.642
    ],
    [
     -0.764,
     -1.7857,
     -0.8442
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-019":[
   [
    [
     0.068,
     0.7202,
     1.4369
    ],
    [
     0.0894,
     0.947,
     1.8893
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-020":[
   [
    [
     -0.3836,
     0.8555,
     -1.3191
    ],
    [
     -0.5044,
     1.1249,
     -1.7343
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-021":[
   [
    [
     -0.4105,
     0.132,
     1.5529
    ],
    [
     -0.5397,
     0.1735,
     2.0418
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-022":[
   [
    [
     -0.3047,
     -0.4865,
     -1.5393
    ],
    [
     -0.4006,
     -0.6397,
     -2.0238
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-023":[
   [
    [
     1.5385,
     0.4438,
     -0.1356
    ],
    [
     2.0229,
     0.5835,
     -0.1783
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-024":[
   [
    [
     -0.229,
     1.5834,
     0.2226
    ],
    [
     -0.3012,
     2.0819,
     0.2927
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-025":[
   [
    [
     0.2284,
     -1.3012,
     0.922
    ],
    [
     0.3003,
     -1.7108,
     1.2122
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-026":[
   [
    [
     -0.3738,
     -1.5567,
     -0.1904
    ],
    [
     -0.4914,
     -2.0468,
     -0.2503
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-027":[
   [
    [
     1.0035,
     1.1747,
     0.4812
    ],
    [
     1.3194,
     1.5445,
     0.6327
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-028":[
   [
    [
     -1.0501,
     -1.0277,
     -0.6692
    ],
    [
     -1.3807,
     -1.3513,
     -0.8799
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-029":[
   [
    [
     0.9157,
     -1.3116,
     0.3631
    ],
    [
     1.204,
     -1.7246,
     0.4774
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-030":[
   [
    [
     0.1842,
     -1.462,
     -0.6732
    ],
    [
     0.2421,
     -1.9222,
     -0.8851
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-031":[
   [
    [
     1.4678,
     0.4794,
     0.4881
    ],
    [
     1.9298,
     0.6303,
     0.6417
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-032":[
   [
    [
     0.8307,
     1.0478,
     0.9141
    ],
    [
     1.0922,
     1.3777,
     1.2018
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-033":[
   [
    [
     0.4323,
     -0.5544,
     1.4446
    ],
    [
     0.5684,
     -0.729,
     1.8994
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-034":[
   [
    [
     1.0385,
     0.5363,
     -1.1187
    ],
    [
     1.3654,
     0.7051,
     -1.4708
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-035":[
   [
    [
     1.1666,
     -0.5107,
     0.9895
    ],
    [
     1.5338,
     -0.6715,
     1.301
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-036":[
   [
    [
     0.4644,
     -1.5564,
     0.055
    ],
    [
     0.6106,
     -2.0464,
     0.0723
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-037":[
   [
    [
     0.2452,
     1.5673,
     -0.3688
    ],
    [
     0.3224,
     2.0607,
     -0.4849
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-038":[
   [
    [
     -0.832,
     -1.3706,
     0.2905
    ],
    [
     -1.094,
     -1.8021,
     0.3819
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-039":[
   [
    [
     -0.7712,
     1.3666,
     0.4039
    ],
    [
     -1.014,
     1.7968,
     0.531
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-040":[
   [
    [
     1.5851,
     0.1092,
     0.2994
    ],
    [
     2.0842,
     0.1436,
     0.3937
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-041":[
   [
    [
     0.4023,
     1.5767,
     -0.1767
    ],
    [
     0.5289,
     2.073,
     -0.2323
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-042":[
   [
    [
     0.3333,
     1.4056,
     0.7588
    ],
    [
     0.4383,
     1.8481,
     0.9977
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-043":[
   [
    [
     -1.4813,
     0.0607,
     0.6445
    ],
    [
     -1.9476,
     0.0798,
     0.8473
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-044":[
   [
    [
     -0.2619,
     -1.5738,
     -0.2646
    ],
    [
     -0.3443,
     -2.0692,
     -0.3479
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-045":[
   [
    [
     -0.325,
     -1.3161,
     -0.9117
    ],
    [
     -0.4274,
     -1.7304,
     -1.1987
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-046":[
   [
    [
     -1.1023,
     -0.6135,
     -1.0123
    ],
    [
     -1.4493,
     -0.8067,
     -1.3309
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-047":[
   [
    [
     1.0361,
     1.1092,
     -0.5458
    ],
    [
     1.3623,
     1.4584,
     -0.7176
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-048":[
   [
    [
     -1.521,
     -0.3853,
     -0.4179
    ],
    [
     -1.9998,
     -0.5066,
     -0.5494
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-049":[
   [
    [
     1.5112,
     0.1487,
     -0.5401
    ],
    [
     1.9869,
     0.1955,
     -0.7101
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-050":[
   [
    [
     -0.3557,
     -1.3806,
     -0.8064
    ],
    [
     -0.4676,
     -1.8153,
     -1.0602
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-051":[
   [
    [
     -0.8556,
     0.5501,
     -1.2587
    ],
    [
     -1.1249,
     0.7233,
     -1.6549
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-052":[
   [
    [
     -1.4026,
     0.6672,
     -0.4738
    ],
    [
     -1.8441,
     0.8772,
     -0.6229
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-053":[
   [
    [
     0.0738,
     -1.6144,
     -0.2259
    ],
    [
     0.097,
     -2.1226,
     -0.297
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-054":[
   [
    [
     0.4072,
     1.2287,
     -0.9727
    ],
    [
     0.5353,
     1.6155,
     -1.2789
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-055":[
   [
    [
     0.546,
     1.1534,
     0.9825
    ],
    [
     0.7179,
     1.5165,
     1.2918
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-056":[
   [
    [
     -0.5266,
     -1.3304,
     -0.7578
    ],
    [
     -0.6923,
     -1.7492,
     -0.9964
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-057":[
   [
    [
     -0.1114,
     1.5482,
     0.4669
    ],
    [
     -0.1464,
     2.0355,
     0.614
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-058":[
   [
    [
     -0.4888,
     -1.5336,
     0.2197
    ],
    [
     -0.6427,
     -2.0164,
     0.2889
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-059":[
   [
    [
     1.1333,
     0.7848,
     -0.8597
    ],
    [
     1.49,
     1.0318,
     -1.1303
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-060":[
   [
    [
     -0.5074,
     -0.8624,
     -1.2785
    ],
    [
     -0.6672,
     -1.1339,
     -1.681
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-061":[
   [
    [
     -1.3735,
     0.8357,
     0.0923
    ],
    [
     -1.806,
     1.0988,
     0.1213
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-062":[
   [
    [
     -0.9522,
     1.1423,
     0.6683
    ],
    [
     -1.2519,
     1.5019,
     0.8786
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-063":[
   [
    [
     0.3111,
     -1.3059,
     0.8974
    ],
    [
     0.409,
     -1.7171,
     1.1799
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-064":[
   [
    [
     -1.527,
     0.2679,
     -0.4769
    ],
    [
     -2.0077,
     0.3522,
     -0.6271
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-065":[
   [
    [
     0.8659,
     1.2194,
     -0.5976
    ],
    [
     1.1385,
     1.6033,
     -0.7857
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-066":[
   [
    [
     -1.0061,
     -1.0586,
     -0.7021
    ],
    [
     -1.3228,
     -1.3919,
     -0.9232
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-067":[
   [
    [
     0.8261,
     0.7893,
     1.1417
    ],
    [
     1.0862,
     1.0378,
     1.5011
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-068":[
   [
    [
     -0.1026,
     0.4064,
     1.5587
    ],
    [
     -0.1349,
     0.5343,
     2.0493
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-069":[
   [
    [
     1.3289,
     -0.8155,
     -0.3933
    ],
    [
     1.7472,
     -1.0723,
     -0.5171
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-070":[
   [
    [
     0.3679,
     -1.5844,
     0.1729
    ],
    [
     0.4837,
     -2.0832,
     0.2273
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-071":[
   [
    [
     0.3473,
     1.1741,
     -1.0455
    ],
    [
     0.4566,
     1.5437,
     -1.3746
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-072":[
   [
    [
     0.9131,
     -0.0153,
     1.3268
    ],
    [
     1.2005,
     -0.0201,
     1.7446
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-073":[
   [
    [
     0.1068,
     -1.6113,
     -0.1777
    ],
    [
     0.1405,
     -2.1185,
     -0.2336
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-074":[
   [
    [
     0.4835,
     -1.5213,
     -0.2946
    ],
    [
     0.6358,
     -2.0003,
     -0.3874
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-075":[
   [
    [
     -1.3853,
     0.7568,
     -0.3947
    ],
    [
     -1.8214,
     0.9951,
     -0.5189
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-076":[
   [
    [
     0.5451,
     -0.5719,
     1.4094
    ],
    [
     0.7167,
     -0.752,
     1.8531
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-077":[
   [
    [
     -0.3508,
     -1.3664,
     0.8077
    ],
    [
     -0.4612,
     -1.7966,
     1.0619
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-078":[
   [
    [
     0.2211,
     -1.5726,
     -0.3151
    ],
    [
     0.2907,
     -2.0677,
     -0.4143
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-079":[
   [
    [
     0.1952,
     0.7792,
     1.4007
    ],
    [
     0.2567,
     1.0245,
     1.8417
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-080":[
   [
    [
     1.0369,
     -0.6356,
     1.0585
    ],
    [
     1.3634,
     -0.8357,
     1.3918
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-081":[
   [
    [
     -1.6213,
     0.1352,
     -0.1762
    ],
    [
     -2.1317,
     0.1777,
     -0.2317
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-082":[
   [
    [
     1.3681,
     -0.1224,
     -0.8948
    ],
    [
     1.7988,
     -0.1609,
     -1.1765
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-083":[
   [
    [
     -0.6713,
     1.4838,
     0.2118
    ],
    [
     -0.8826,
     1.951,
     0.2785
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-084":[
   [
    [
     -0.3951,
     1.4476,
     -0.5863
    ],
    [
     -0.5195,
     1.9033,
     -0.7708
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-085":[
   [
    [
     0.6331,
     0.0965,
     1.4756
    ],
    [
     0.8324,
     0.1269,
     1.9401
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-086":[
   [
    [
     -0.0961,
     -1.5854,
     0.2938
    ],
    [
     -0.1263,
     -2.0846,
     0.3863
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-087":[
   [
    [
     1.3376,
     0.1799,
     0.9194
    ],
    [
     1.7587,
     0.2365,
     1.2089
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-088":[
   [
    [
     -0.9247,
     -1.3144,
     -0.0068
    ],
    [
     -1.2158,
     -1.7282,
     -0.0089
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-089":[
   [
    [
     0.3706,
     -1.4377,
     -0.6333
    ],
    [
     0.4873,
     -1.8902,
     -0.8326
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-090":[
   [
    [
     -0.2661,
     0.997,
     1.2409
    ],
    [
     -0.3498,
     1.3109,
     1.6316
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-091":[
   [
    [
     1.3241,
     0.8261,
     0.3893
    ],
    [
     1.741,
     1.0861,
     0.5119
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-092":[
   [
    [
     0.2858,
     -1.4113,
     0.7364
    ],
    [
     0.3757,
     -1.8556,
     0.9683
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-093":[
   [
    [
     0.3808,
     -1.5656,
     -0.0494
    ],
    [
     0.5006,
     -2.0585,
     -0.0649
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-094":[
   [
    [
     0.7605,
     -1.4193,
     0.0886
    ],
    [
     0.9999,
     -1.8661,
     0.1165
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-095":[
   [
    [
     0.9172,
     0.0027,
     1.3249
    ],
    [
     1.2059,
     0.0035,
     1.742
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-096":[
   [
    [
     0.9044,
     1.1357,
     -0.6994
    ],
    [
     1.1891,
     1.4932,
     -0.9195
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-097":[
   [
    [
     1.1143,
     0.1567,
     1.153
    ],
    [
     1.4651,
     0.206,
     1.516
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-098":[
   [
    [
     1.2784,
     -0.9813,
     0.116
    ],
    [
     1.6809,
     -1.2903,
     0.1525
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-099":[
   [
    [
     0.6659,
     -1.3113,
     0.683
    ],
    [
     0.8755,
     -1.7241,
     0.898
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-100":[
   [
    [
     0.8958,
     1.1313,
     -0.7186
    ],
    [
     1.1778,
     1.4875,
     -0.9449
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-101":[
   [
    [
     1.2067,
     0.9304,
     -0.5169
    ],
    [
     1.5866,
     1.2233,
     -0.6796
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-102":[
   [
    [
     -0.0724,
     -1.5841,
     0.2991
    ],
    [
     -0.0952,
     -2.0829,
     0.3933
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-103":[
   [
    [
     -1.0707,
     -1.1723,
     -0.3257
    ],
    [
     -1.4078,
     -1.5413,
     -0.4282
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-104":[
   [
    [
     1.5195,
     -0.2227,
     0.5045
    ],
    [
     1.9979,
     -0.2928,
     0.6633
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-105":[
   [
    [
     1.4168,
     0.1061,
     -0.7823
    ],
    [
     1.8628,
     0.1395,
     -1.0286
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-106":[
   [
    [
     0.0082,
     0.8234,
     1.3918
    ],
    [
     0.0107,
     1.0826,
     1.8299
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-107":[
   [
    [
     -1.5543,
     0.4129,
     -0.0292
    ],
    [
     -2.0436,
     0.5428,
     -0.0384
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-108":[
   [
    [
     1.0894,
     0.7758,
     0.9223
    ],
    [
     1.4324,
     1.0201,
     1.2126
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-109":[
   [
    [
     1.1813,
     -0.1052,
     1.0906
    ],
    [
     1.5532,
     -0.1383,
     1.4339
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-110":[
   [
    [
     -1.4542,
     0.7027,
     -0.1393
    ],
    [
     -1.912,
     0.9239,
     -0.1832
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-111":[
   [
    [
     -0.2418,
     -0.965,
     -1.2793
    ],
    [
     -0.3179,
     -1.2688,
     -1.682
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-112":[
   [
    [
     1.3198,
     0.6193,
     -0.711
    ],
    [
     1.7353,
     0.8143,
     -0.9348
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-113":[
   [
    [
     0.2899,
     -1.3689,
     -0.8695
    ],
    [
     0.3811,
     -1.7999,
     -1.1432
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-114":[
   [
    [
     -1.147,
     0.8862,
     -0.7331
    ],
    [
     -1.5081,
     1.1652,
     -0.9639
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-115":[
   [
    [
     -0.6187,
     -0.7071,
     1.3334
    ],
    [
     -0.8134,
     -0.9297,
     1.7532
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-116":[
   [
    [
     -1.01,
     -1.2602,
     0.1172
    ],
    [
     -1.328,
     -1.657,
     0.1541
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-117":[
   [
    [
     0.6949,
     -1.344,
     0.5503
    ],
    [
     0.9137,
     -1.7671,
     0.7236
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-118":[
   [
    [
     -1.3853,
     -0.8151,
     -0.0902
    ],
    [
     -1.8214,
     -1.0717,
     -0.1186
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-119":[
   [
    [
     0.8782,
     0.4674,
     1.2851
    ],
    [
     1.1547,
     0.6145,
     1.6897
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-120":[
   [
    [
     1.2453,
     0.7415,
     -0.7115
    ],
    [
     1.6373,
     0.9749,
     -0.9355
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-121":[
   [
    [
     -0.1481,
     0.5301,
     -1.5264
    ],
    [
     -0.1948,
     0.697,
     -2.0069
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-122":[
   [
    [
     -1.4021,
     0.7584,
     0.2748
    ],
    [
     -1.8435,
     0.9971,
     0.3613
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-123":[
   [
    [
     0.5595,
     1.4117,
     0.5401
    ],
    [
     0.7357,
     1.8561,
     0.7101
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-124":[
   [
    [
     -1.3212,
     -0.3294,
     -0.8824
    ],
    [
     -1.7371,
     -0.4331,
     -1.1602
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-125":[
   [
    [
     -0.9297,
     -1.251,
     -0.4052
    ],
    [
     -1.2223,
     -1.6449,
     -0.5328
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-126":[
   [
    [
     -1.334,
     -0.5637,
     -0.7162
    ],
    [
     -1.7539,
     -0.7411,
     -0.9417
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-127":[
   [
    [
     -0.9395,
     0.3256,
     -1.292
    ],
    [
     -1.2353,
     0.4281,
     -1.6988
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-128":[
   [
    [
     -0.1595,
     0.7423,
     1.4273
    ],
    [
     -0.2097,
     0.976,
     1.8766
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-129":[
   [
    [
     1.59,
     -0.2997,
     0.0492
    ],
    [
     2.0905,
     -0.394,
     0.0647
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-130":[
   [
    [
     0.3838,
     -1.3954,
     -0.7457
    ],
    [
     0.5046,
     -1.8346,
     -0.9804
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-131":[
   [
    [
     0.8914,
     -0.3906,
     -1.3113
    ],
    [
     1.1721,
     -0.5135,
     -1.7241
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-132":[
   [
    [
     0.158,
     1.5421,
     0.4538
    ],
    [
     0.2077,
     2.0276,
     0.5967
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-133":[
   [
    [
     1.2455,
     -0.8101,
     0.6224
    ],
    [
     1.6376,
     -1.0652,
     0.8183
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-134":[
   [
    [
     1.0542,
     1.0305,
     0.6571
    ],
    [
     1.386,
     1.3549,
     0.8639
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-135":[
   [
    [
     -0.4744,
     -0.718,
     -1.372
    ],
    [
     -0.6238,
     -0.944,
     -1.804
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-136":[
   [
    [
     -1.2011,
     -0.9869,
     0.4105
    ],
    [
     -1.5793,
     -1.2976,
     0.5397
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-137":[
   [
    [
     0.3728,
     1.4542,
     0.5802
    ],
    [
     0.4901,
     1.912,
     0.7629
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-138":[
   [
    [
     0.4739,
     1.3536,
     -0.7681
    ],
    [
     0.6231,
     1.7798,
     -1.0099
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-139":[
   [
    [
     1.0036,
     1.2504,
     0.1127
    ],
    [
     1.3196,
     1.644,
     0.1482
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-140":[
   [
    [
     -0.8442,
     -1.3589,
     -0.2288
    ],
    [
     -1.1099,
     -1.7867,
     -0.3008
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-141":[
   [
    [
     1.2306,
     0.8485,
     -0.6044
    ],
    [
     1.618,
     1.1157,
     -0.7947
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-142":[
   [
    [
     -0.2161,
     -1.0039,
     -1.2488
    ],
    [
     -0.2842,
     -1.3199,
     -1.642
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-143":[
   [
    [
     0.4268,
     0.5868,
     1.461
    ],
    [
     0.5611,
     0.7716,
     1.921
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-144":[
   [
    [
     -0.987,
     -0.3985,
     -1.2339
    ],
    [
     -1.2978,
     -0.524,
     -1.6224
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-145":[
   [
    [
     -1.5664,
     -0.3381,
     0.2552
    ],
    [
     -2.0596,
     -0.4445,
     0.3355
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-146":[
   [
    [
     0.0673,
     1.5397,
     0.4979
    ],
    [
     0.0884,
     2.0244,
     0.6546
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-147":[
   [
    [
     -1.3659,
     -0.7288,
     0.4721
    ],
    [
     -1.7959,
     -0.9582,
     0.6207
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-148":[
   [
    [
     -1.6131,
     0.1603,
     -0.2856
    ],
    [
     -2.1209,
     0.2107,
     -0.3755
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-149":[
   [
    [
     -0.1174,
     0.6093,
     1.4855
    ],
    [
     -0.1544,
     0.8011,
     1.9532
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-150":[
   [
    [
     -1.053,
     0.7704,
     -0.9622
    ],
    [
     -1.3846,
     1.0129,
     -1.2651
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-151":[
   [
    [
     0.7268,
     -1.1348,
     0.8982
    ],
    [
     0.9555,
     -1.4921,
     1.181
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-152":[
   [
    [
     -1.3119,
     -0.6669,
     0.6664
    ],
    [
     -1.7249,
     -0.8769,
     0.8761
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-153":[
   [
    [
     -0.5099,
     -1.3757,
     -0.6699
    ],
    [
     -0.6704,
     -1.8089,
     -0.8808
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-154":[
   [
    [
     -0.6111,
     1.5051,
     0.1307
    ],
    [
     -0.8035,
     1.9789,
     0.1719
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-155":[
   [
    [
     -0.124,
     -1.5946,
     0.2476
    ],
    [
     -0.163,
     -2.0966,
     0.3256
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-156":[
   [
    [
     0.7342,
     1.3448,
     -0.4977
    ],
    [
     0.9654,
     1.7682,
     -0.6543
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-157":[
   [
    [
     -0.0033,
     1.6012,
     -0.1177
    ],
    [
     -0.0044,
     2.1053,
     -0.1548
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-158":[
   [
    [
     -1.401,
     0.2391,
     -0.7882
    ],
    [
     -1.8421,
     0.3143,
     -1.0363
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-159":[
   [
    [
     -1.6066,
     -0.1571,
     0.3022
    ],
    [
     -2.1124,
     -0.2066,
     0.3974
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-160":[
   [
    [
     0.3924,
     1.5347,
     -0.3774
    ],
    [
     0.5159,
     2.0178,
     -0.4962
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-161":[
   [
    [
     0.7887,
     1.3972,
     -0.2052
    ],
    [
     1.0369,
     1.837,
     -0.2698
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-162":[
   [
    [
     0.2267,
     1.517,
     0.4849
    ],
    [
     0.2981,
     1.9945,
     0.6375
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-163":[
   [
    [
     0.3241,
     0.1914,
     1.5676
    ],
    [
     0.4262,
     0.2517,
     2.0611
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-164":[
   [
    [
     -0.8456,
     -0.1002,
     -1.3742
    ],
    [
     -1.1118,
     -0.1318,
     -1.8069
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-165":[
   [
    [
     -0.7774,
     1.3072,
     -0.5528
    ],
    [
     -1.0221,
     1.7187,
     -0.7268
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-166":[
   [
    [
     0.4556,
     -1.5485,
     -0.0778
    ],
    [
     0.599,
     -2.036,
     -0.1022
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-167":[
   [
    [
     1.1627,
     1.0379,
     0.4408
    ],
    [
     1.5287,
     1.3646,
     0.5795
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-168":[
   [
    [
     -0.896,
     0.3323,
     -1.3131
    ],
    [
     -1.178,
     0.437,
     -1.7265
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-169":[
   [
    [
     -1.5749,
     0.1172,
     -0.3887
    ],
    [
     -2.0708,
     0.1541,
     -0.511
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-170":[
   [
    [
     -0.4473,
     0.728,
     1.3724
    ],
    [
     -0.5881,
     0.9572,
     1.8044
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-171":[
   [
    [
     0.8244,
     -1.3879,
     0.0019
    ],
    [
     1.0839,
     -1.8248,
     0.0025
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-172":[
   [
    [
     0.9586,
     -0.0427,
     1.2968
    ],
    [
     1.2603,
     -0.0562,
     1.7051
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-173":[
   [
    [
     -0.3555,
     1.1103,
     -1.1041
    ],
    [
     -0.4674,
     1.4598,
     -1.4517
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-174":[
   [
    [
     -1.4844,
     0.6378,
     0.0309
    ],
    [
     -1.9517,
     0.8385,
     0.0406
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-175":[
   [
    [
     -0.9855,
     1.2041,
     -0.4656
    ],
    [
     -1.2958,
     1.5832,
     -0.6121
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-176":[
   [
    [
     -1.2983,
     0.9468,
     0.248
    ],
    [
     -1.707,
     1.2449,
     0.326
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-177":[
   [
    [
     0.9716,
     -1.2969,
     0.2568
    ],
    [
     1.2775,
     -1.7052,
     0.3376
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-178":[
   [
    [
     -0.7696,
     -0.7983,
     1.1751
    ],
    [
     -1.0118,
     -1.0496,
     1.5451
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-179":[
   [
    [
     -1.0918,
     1.052,
     0.5515
    ],
    [
     -1.4355,
     1.3831,
     0.7251
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-180":[
   [
    [
     0.0453,
     1.6117,
     0.0872
    ],
    [
     0.0595,
     2.1191,
     0.1146
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-181":[
   [
    [
     0.6411,
     1.1046,
     0.9841
    ],
    [
     0.8429,
     1.4524,
     1.2939
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-182":[
   [
    [
     1.3418,
     -0.8983,
     -0.0502
    ],
    [
     1.7642,
     -1.1811,
     -0.0659
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-183":[
   [
    [
     -0.8819,
     -1.3547,
     0.2014
    ],
    [
     -1.1596,
     -1.7812,
     0.2649
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-184":[
   [
    [
     -0.2898,
     -1.2469,
     0.98
    ],
    [
     -0.3811,
     -1.6395,
     1.2886
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-185":[
   [
    [
     0.0196,
     1.5094,
     -0.6086
    ],
    [
     0.0258,
     1.9846,
     -0.8002
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-186":[
   [
    [
     0.8495,
     1.162,
     -0.724
    ],
    [
     1.117,
     1.5278,
     -0.9519
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-187":[
   [
    [
     0.6087,
     1.4381,
     0.4326
    ],
    [
     0.8003,
     1.8908,
     0.5688
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-188":[
   [
    [
     -1.0622,
     1.0685,
     -0.5697
    ],
    [
     -1.3965,
     1.4049,
     -0.7491
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-189":[
   [
    [
     1.0154,
     -0.8996,
     -0.8768
    ],
    [
     1.3351,
     -1.1828,
     -1.1528
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-190":[
   [
    [
     -0.8788,
     0.5692,
     -1.228
    ],
    [
     -1.1555,
     0.7484,
     -1.6146
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-191":[
   [
    [
     0.1163,
     0.0182,
     1.6256
    ],
    [
     0.1529,
     0.024,
     2.1373
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-192":[
   [
    [
     -1.2854,
     0.7865,
     0.5599
    ],
    [
     -1.6901,
     1.0341,
     0.7362
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-193":[
   [
    [
     -0.1486,
     -1.5108,
     -0.5578
    ],
    [
     -0.1954,
     -1.9865,
     -0.7334
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-194":[
   [
    [
     -0.5128,
     1.3603,
     0.7026
    ],
    [
     -0.6742,
     1.7885,
     0.9238
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-195":[
   [
    [
     0.3493,
     -1.5674,
     0.323
    ],
    [
     0.4592,
     -2.0608,
     0.4247
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-196":[
   [
    [
     -0.4564,
     -1.4094,
     -0.6441
    ],
    [
     -0.6001,
     -1.853,
     -0.8469
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-197":[
   [
    [
     0.6571,
     1.0222,
     1.0733
    ],
    [
     0.864,
     1.344,
     1.4111
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-198":[
   [
    [
     0.3434,
     -1.5026,
     -0.4493
    ],
    [
     0.4515,
     -1.9757,
     -0.5908
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-199":[
   [
    [
     -1.5541,
     -0.4197,
     -0.297
    ],
    [
     -2.0433,
     -0.5518,
     -0.3905
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-200":[
   [
    [
     -0.5213,
     1.1041,
     1.0562
    ],
    [
     -0.6854,
     1.4517,
     1.3888
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-201":[
   [
    [
     0.7909,
     1.3719,
     0.3381
    ],
    [
     1.0398,
     1.8038,
     0.4445
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-202":[
   [
    [
     -1.47,
     -0.437,
     0.5108
    ],
    [
     -1.9327,
     -0.5746,
     0.6716
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-203":[
   [
    [
     -0.151,
     0.8164,
     -1.3807
    ],
    [
     -0.1986,
     1.0734,
     -1.8153
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-204":[
   [
    [
     -1.0541,
     -0.9067,
     -0.8332
    ],
    [
     -1.3859,
     -1.1922,
     -1.0955
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-205":[
   [
    [
     -1.2545,
     0.1107,
     -1.0075
    ],
    [
     -1.6495,
     0.1456,
     -1.3247
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-206":[
   [
    [
     1.1143,
     0.1552,
     -1.1601
    ],
    [
     1.4651,
     0.204,
     -1.5253
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-207":[
   [
    [
     0.0828,
     1.5995,
     -0.1513
    ],
    [
     0.1089,
     2.1031,
     -0.1989
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-208":[
   [
    [
     -1.3379,
     0.7955,
     -0.4452
    ],
    [
     -1.7591,
     1.0459,
     -0.5854
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-209":[
   [
    [
     1.1319,
     0.067,
     1.1371
    ],
    [
     1.4882,
     0.088,
     1.4951
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-210":[
   [
    [
     -0.609,
     -1.3952,
     -0.5305
    ],
    [
     -0.8008,
     -1.8344,
     -0.6975
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-211":[
   [
    [
     -1.6235,
     0.0876,
     -0.1541
    ],
    [
     -2.1345,
     0.1152,
     -0.2026
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-212":[
   [
    [
     0.4158,
     1.4478,
     -0.5739
    ],
    [
     0.5467,
     1.9036,
     -0.7546
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-213":[
   [
    [
     -0.5168,
     0.7371,
     -1.3582
    ],
    [
     -0.6795,
     0.9692,
     -1.7858
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-214":[
   [
    [
     0.8074,
     1.2784,
     -0.5676
    ],
    [
     1.0616,
     1.6808,
     -0.7463
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-215":[
   [
    [
     -1.4361,
     0.0013,
     -0.7556
    ],
    [
     -1.8882,
     0.0017,
     -0.9935
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-216":[
   [
    [
     0.4998,
     1.4352,
     -0.5323
    ],
    [
     0.6571,
     1.887,
     -0.6999
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-217":[
   [
    [
     -1.3101,
     0.9582,
     -0.0089
    ],
    [
     -1.7226,
     1.2598,
     -0.0117
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-218":[
   [
    [
     -0.4826,
     -1.5418,
     -0.095
    ],
    [
     -0.6346,
     -2.0272,
     -0.1249
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-219":[
   [
    [
     -0.3183,
     -1.4647,
     0.5888
    ],
    [
     -0.4185,
     -1.9258,
     0.7742
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-220":[
   [
    [
     -1.4329,
     0.5004,
     0.5482
    ],
    [
     -1.884,
     0.658,
     0.7207
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-221":[
   [
    [
     -0.6399,
     -0.7663,
     -1.2831
    ],
    [
     -0.8413,
     -1.0076,
     -1.6871
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-222":[
   [
    [
     -1.3132,
     -0.9544,
     0.0138
    ],
    [
     -1.7266,
     -1.2548,
     0.0181
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-223":[
   [
    [
     1.5639,
     -0.3485,
     0.239
    ],
    [
     2.0562,
     -0.4582,
     0.3143
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-224":[
   [
    [
     0.6571,
     -1.418,
     0.382
    ],
    [
     0.8639,
     -1.8644,
     0.5023
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-225":[
   [
    [
     0.803,
     -1.393,
     0.1742
    ],
    [
     1.0558,
     -1.8316,
     0.229
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-226":[
   [
    [
     1.3798,
     -0.7046,
     0.4738
    ],
    [
     1.8142,
     -0.9264,
     0.6229
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-227":[
   [
    [
     0.9777,
     -1.2748,
     0.3345
    ],
    [
     1.2854,
     -1.6762,
     0.4398
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-228":[
   [
    [
     -0.337,
     1.2806,
     0.9429
    ],
    [
     -0.4431,
     1.6838,
     1.2397
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-229":[
   [
    [
     -1.0316,
     -1.2296,
     -0.1201
    ],
    [
     -1.3563,
     -1.6167,
     -0.158
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-230":[
   [
    [
     0.0508,
     -1.6011,
     0.1203
    ],
    [
     0.0668,
     -2.1052,
     0.1581
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-231":[
   [
    [
     1.4727,
     -0.047,
     0.656
    ],
    [
     1.9363,
     -0.0618,
     0.8625
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-232":[
   [
    [
     1.4525,
     -0.7026,
     0.1713
    ],
    [
     1.9098,
     -0.9237,
     0.2252
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-233":[
   [
    [
     -0.3763,
     0.5263,
     1.5089
    ],
    [
     -0.4948,
     0.692,
     1.9839
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-234":[
   [
    [
     0.0964,
     -0.0364,
     1.6325
    ],
    [
     0.1268,
     -0.0479,
     2.1465
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-235":[
   [
    [
     -0.2433,
     1.6012,
     -0.06
    ],
    [
     -0.3199,
     2.1053,
     -0.079
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-236":[
   [
    [
     -1.1951,
     1.078,
     -0.0566
    ],
    [
     -1.5714,
     1.4174,
     -0.0745
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-237":[
   [
    [
     -1.612,
     -0.0712,
     0.2698
    ],
    [
     -2.1195,
     -0.0936,
     0.3547
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-238":[
   [
    [
     1.0164,
     1.2436,
     0.0736
    ],
    [
     1.3363,
     1.6351,
     0.0968
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-239":[
   [
    [
     -1.1041,
     -1.1715,
     -0.2066
    ],
    [
     -1.4517,
     -1.5403,
     -0.2716
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-240":[
   [
    [
     -0.1019,
     0.5587,
     -1.5281
    ],
    [
     -0.134,
     0.7346,
     -2.0092
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-241":[
   [
    [
     -1.5854,
     -0.1159,
     0.3629
    ],
    [
     -2.0846,
     -0.1524,
     0.4772
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-242":[
   [
    [
     -1.3938,
     0.4628,
     0.6583
    ],
    [
     -1.8325,
     0.6085,
     0.8655
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-243":[
   [
    [
     1.1481,
     -0.8463,
     -0.7782
    ],
    [
     1.5095,
     -1.1128,
     -1.0232
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-244":[
   [
    [
     -1.2707,
     -1.0012,
     -0.211
    ],
    [
     -1.6707,
     -1.3164,
     -0.2774
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-245":[
   [
    [
     0.4948,
     1.5362,
     -0.1512
    ],
    [
     0.6506,
     2.0199,
     -0.1988
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-246":[
   [
    [
     1.1893,
     0.9289,
     -0.5618
    ],
    [
     1.5637,
     1.2213,
     -0.7387
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-247":[
   [
    [
     1.5957,
     0.0313,
     -0.3092
    ],
    [
     2.0981,
     0.0411,
     -0.4066
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-248":[
   [
    [
     -1.5082,
     0.289,
     -0.5192
    ],
    [
     -1.9829,
     0.38,
     -0.6826
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-249":[
   [
    [
     1.111,
     1.0525,
     0.5144
    ],
    [
     1.4608,
     1.3838,
     0.6763
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-250":[
   [
    [
     0.2255,
     -1.4257,
     -0.755
    ],
    [
     0.2965,
     -1.8745,
     -0.9927
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-251":[
   [
    [
     -0.6498,
     1.4704,
     -0.0847
    ],
    [
     -0.8544,
     1.9333,
     -0.1113
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-252":[
   [
    [
     1.52,
     0.4864,
     -0.2225
    ],
    [
     1.9985,
     0.6395,
     -0.2926
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-253":[
   [
    [
     -1.4534,
     -0.5377,
     0.4469
    ],
    [
     -1.911,
     -0.707,
     0.5876
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-254":[
   [
    [
     0.9018,
     1.035,
     -0.8714
    ],
    [
     1.1857,
     1.3609,
     -1.1457
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-255":[
   [
    [
     1.5589,
     0.4119,
     0.0523
    ],
    [
     2.0497,
     0.5416,
     0.0688
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-256":[
   [
    [
     1.527,
     -0.499,
     0.0149
    ],
    [
     2.0078,
     -0.6561,
     0.0196
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-257":[
   [
    [
     0.8517,
     1.3706,
     -0.1753
    ],
    [
     1.1198,
     1.8021,
     -0.2305
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-258":[
   [
    [
     -0.2517,
     -1.4821,
     -0.5763
    ],
    [
     -0.3309,
     -1.9487,
     -0.7577
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-259":[
   [
    [
     -1.4102,
     -0.5583,
     0.5907
    ],
    [
     -1.8542,
     -0.7341,
     0.7767
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-260":[
   [
    [
     1.1911,
     0.5531,
     0.9486
    ],
    [
     1.566,
     0.7272,
     1.2473
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-261":[
   [
    [
     0.8765,
     1.2794,
     -0.474
    ],
    [
     1.1525,
     1.6822,
     -0.6233
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-262":[
   [
    [
     -0.0612,
     -0.8867,
     1.3517
    ],
    [
     -0.0804,
     -1.1659,
     1.7772
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-263":[
   [
    [
     -1.1365,
     0.9618,
     0.6132
    ],
    [
     -1.4943,
     1.2646,
     0.8062
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-264":[
   [
    [
     -0.1053,
     1.5721,
     0.3964
    ],
    [
     -0.1385,
     2.067,
     0.5212
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-265":[
   [
    [
     0.3571,
     1.5775,
     -0.0483
    ],
    [
     0.4696,
     2.0741,
     -0.0635
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-266":[
   [
    [
     -1.1409,
     -1.0567,
     -0.4513
    ],
    [
     -1.5001,
     -1.3894,
     -0.5933
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-267":[
   [
    [
     1.1609,
     1.1146,
     -0.0614
    ],
    [
     1.5264,
     1.4656,
     -0.0807
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-268":[
   [
    [
     -1.1396,
     -0.9078,
     0.721
    ],
    [
     -1.4983,
     -1.1935,
     0.948
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-269":[
   [
    [
     -0.2398,
     1.4418,
     0.7103
    ],
    [
     -0.3153,
     1.8957,
     0.9339
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-270":[
   [
    [
     -1.0159,
     -0.8201,
     0.9616
    ],
    [
     -1.3357,
     -1.0783,
     1.2643
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-271":[
   [
    [
     -1.2268,
     0.9134,
     0.516
    ],
    [
     -1.613,
     1.201,
     0.6784
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-272":[
   [
    [
     -0.1421,
     0.5499,
     -1.5209
    ],
    [
     -0.1868,
     0.723,
     -1.9998
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-273":[
   [
    [
     -1.5744,
     0.32,
     0.1762
    ],
    [
     -2.07,
     0.4207,
     0.2317
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-274":[
   [
    [
     -0.6948,
     -1.4603,
     -0.0496
    ],
    [
     -0.9135,
     -1.92,
     -0.0652
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-275":[
   [
    [
     -0.0813,
     1.1,
     -1.2065
    ],
    [
     -0.1068,
     1.4462,
     -1.5863
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-276":[
   [
    [
     -1.6224,
     0.133,
     -0.1882
    ],
    [
     -2.1332,
     0.1749,
     -0.2475
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-277":[
   [
    [
     -1.5904,
     -0.2856,
     -0.0094
    ],
    [
     -2.0911,
     -0.3755,
     -0.0124
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-278":[
   [
    [
     -0.6692,
     -1.3922,
     0.4421
    ],
    [
     -0.8798,
     -1.8304,
     0.5813
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-279":[
   [
    [
     0.1023,
     1.4547,
     -0.7366
    ],
    [
     0.1345,
     1.9127,
     -0.9685
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-280":[
   [
    [
     1.0371,
     -1.2298,
     -0.0531
    ],
    [
     1.3636,
     -1.617,
     -0.0699
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-281":[
   [
    [
     -0.0443,
     1.0914,
     1.206
    ],
    [
     -0.0583,
     1.435,
     1.5857
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-282":[
   [
    [
     0.8445,
     1.3428,
     0.3052
    ],
    [
     1.1103,
     1.7655,
     0.4012
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-283":[
   [
    [
     -0.1203,
     1.5982,
     -0.1768
    ],
    [
     -0.1582,
     2.1014,
     -0.2325
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-284":[
   [
    [
     1.5651,
     -0.3718,
     0.0746
    ],
    [
     2.0579,
     -0.4889,
     0.0981
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-285":[
   [
    [
     -0.6169,
     1.1147,
     -0.9962
    ],
    [
     -0.8111,
     1.4656,
     -1.3099
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-286":[
   [
    [
     1.4085,
     -0.28,
     -0.7541
    ],
    [
     1.8519,
     -0.3681,
     -0.9915
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-287":[
   [
    [
     -1.2525,
     1.023,
     0.0121
    ],
    [
     -1.6468,
     1.3451,
     0.016
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-288":[
   [
    [
     1.1805,
     -0.7963,
     0.7781
    ],
    [
     1.5522,
     -1.0469,
     1.023
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-289":[
   [
    [
     -1.5036,
     0.0452,
     0.5785
    ],
    [
     -1.9769,
     0.0594,
     0.7607
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-290":[
   [
    [
     -0.4663,
     -1.4627,
     -0.4893
    ],
    [
     -0.6131,
     -1.9232,
     -0.6433
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-291":[
   [
    [
     0.0498,
     -1.572,
     -0.4251
    ],
    [
     0.0654,
     -2.0669,
     -0.559
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-292":[
   [
    [
     0.1762,
     -1.5284,
     0.5162
    ],
    [
     0.2317,
     -2.0096,
     0.6787
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-293":[
   [
    [
     0.0538,
     -1.5793,
     -0.4086
    ],
    [
     0.0707,
     -2.0765,
     -0.5372
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-294":[
   [
    [
     0.6591,
     -1.3125,
     -0.6719
    ],
    [
     0.8667,
     -1.7257,
     -0.8834
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-295":[
   [
    [
     1.3578,
     -0.524,
     0.7536
    ],
    [
     1.7852,
     -0.6889,
     0.9909
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-296":[
   [
    [
     0.5651,
     -1.2887,
     -0.8089
    ],
    [
     0.7431,
     -1.6944,
     -1.0636
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-297":[
   [
    [
     1.3778,
     0.5514,
     0.6308
    ],
    [
     1.8115,
     0.725,
     0.8294
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-298":[
   [
    [
     0.3846,
     0.3885,
     1.5396
    ],
    [
     0.5057,
     0.5108,
     2.0242
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-299":[
   [
    [
     -0.1,
     -1.6018,
     0.1065
    ],
    [
     -0.1315,
     -2.1061,
     0.1401
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-300":[
   [
    [
     -1.5097,
     -0.3128,
     -0.4764
    ],
    [
     -1.9849,
     -0.4112,
     -0.6263
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-301":[
   [
    [
     0.6669,
     0.8183,
     1.2487
    ],
    [
     0.8768,
     1.076,
     1.6418
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-302":[
   [
    [
     0.1943,
     -0.4672,
     -1.5446
    ],
    [
     0.2555,
     -0.6143,
     -2.0309
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-303":[
   [
    [
     -0.2101,
     -1.3433,
     -0.9006
    ],
    [
     -0.2762,
     -1.7662,
     -1.1841
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-304":[
   [
    [
     1.6023,
     -0.0205,
     0.285
    ],
    [
     2.1067,
     -0.027,
     0.3747
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-305":[
   [
    [
     -0.1244,
     -0.2184,
     1.5948
    ],
    [
     -0.1636,
     -0.2871,
     2.0968
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-306":[
   [
    [
     1.4525,
     0.2995,
     0.6461
    ],
    [
     1.9098,
     0.3938,
     0.8494
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-307":[
   [
    [
     1.5949,
     -0.1794,
     0.3267
    ],
    [
     2.097,
     -0.2358,
     0.4296
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-308":[
   [
    [
     0.0968,
     -1.4729,
     -0.6485
    ],
    [
     0.1273,
     -1.9366,
     -0.8526
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-309":[
   [
    [
     -0.3893,
     1.1965,
     -1.0097
    ],
    [
     -0.5118,
     1.5732,
     -1.3275
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-310":[
   [
    [
     -0.1669,
     1.4063,
     -0.7968
    ],
    [
     -0.2194,
     1.849,
     -1.0476
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-311":[
   [
    [
     -0.6861,
     1.3145,
     0.6417
    ],
    [
     -0.9021,
     1.7283,
     0.8437
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-312":[
   [
    [
     1.002,
     0.759,
     1.0118
    ],
    [
     1.3174,
     0.998,
     1.3303
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-313":[
   [
    [
     -0.1229,
     1.232,
     1.0356
    ],
    [
     -0.1616,
     1.6199,
     1.3616
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-314":[
   [
    [
     1.0466,
     -1.1934,
     -0.3139
    ],
    [
     1.376,
     -1.569,
     -0.4127
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-315":[
   [
    [
     0.2785,
     -0.5782,
     1.4758
    ],
    [
     0.3661,
     -0.7602,
     1.9404
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-316":[
   [
    [
     0.7545,
     0.051,
     1.4304
    ],
    [
     0.9921,
     0.0671,
     1.8808
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-317":[
   [
    [
     -1.1003,
     -0.2834,
     -1.1544
    ],
    [
     -1.4467,
     -0.3726,
     -1.5178
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-318":[
   [
    [
     -0.2484,
     1.4517,
     -0.6604
    ],
    [
     -0.3266,
     1.9087,
     -0.8683
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-319":[
   [
    [
     -0.2843,
     1.5569,
     0.3207
    ],
    [
     -0.3738,
     2.0471,
     0.4216
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-320":[
   [
    [
     1.5267,
     -0.517,
     -0.0887
    ],
    [
     2.0074,
     -0.6798,
     -0.1167
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-321":[
   [
    [
     0.1598,
     -1.419,
     -0.77
    ],
    [
     0.2101,
     -1.8657,
     -1.0124
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-322":[
   [
    [
     -1.4929,
     0.4487,
     0.4555
    ],
    [
     -1.9629,
     0.59,
     0.5989
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-323":[
   [
    [
     -0.3849,
     1.4483,
     -0.5904
    ],
    [
     -0.506,
     1.9042,
     -0.7763
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-324":[
   [
    [
     -0.3459,
     -1.5629,
     -0.1822
    ],
    [
     -0.4548,
     -2.0549,
     -0.2396
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-325":[
   [
    [
     -1.1369,
     -1.0454,
     -0.4772
    ],
    [
     -1.4948,
     -1.3745,
     -0.6274
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-326":[
   [
    [
     1.2921,
     -0.7487,
     0.6029
    ],
    [
     1.6988,
     -0.9844,
     0.7927
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-327":[
   [
    [
     1.5603,
     -0.0705,
     0.4339
    ],
    [
     2.0515,
     -0.0927,
     0.5705
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-328":[
   [
    [
     0.1404,
     -0.7218,
     1.4408
    ],
    [
     0.1846,
     -0.9491,
     1.8944
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-329":[
   [
    [
     0.3273,
     -1.1287,
     -1.0943
    ],
    [
     0.4303,
     -1.484,
     -1.4387
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-330":[
   [
    [
     -1.1265,
     -0.4116,
     -1.0761
    ],
    [
     -1.4811,
     -0.5412,
     -1.4149
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-331":[
   [
    [
     -0.6381,
     1.138,
     0.9459
    ],
    [
     -0.839,
     1.4962,
     1.2437
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-332":[
   [
    [
     -0.4469,
     0.8159,
     1.3202
    ],
    [
     -0.5876,
     1.0728,
     1.7359
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-333":[
   [
    [
     -0.2141,
     0.6251,
     1.4786
    ],
    [
     -0.2815,
     0.8219,
     1.9441
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-334":[
   [
    [
     0.2411,
     0.7078,
     1.4325
    ],
    [
     0.317,
     0.9307,
     1.8834
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-335":[
   [
    [
     -1.4058,
     -0.7594,
     -0.2216
    ],
    [
     -1.8484,
     -0.9985,
     -0.2914
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-336":[
   [
    [
     0.3729,
     0.6663,
     -1.4203
    ],
    [
     0.4903,
     0.876,
     -1.8674
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-337":[
   [
    [
     1.1563,
     0.1319,
     -1.1168
    ],
    [
     1.5203,
     0.1735,
     -1.4683
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-338":[
   [
    [
     -0.0034,
     1.1111,
     -1.2219
    ],
    [
     -0.0044,
     1.4609,
     -1.6066
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-339":[
   [
    [
     1.4874,
     0.5937,
     -0.1802
    ],
    [
     1.9557,
     0.7806,
     -0.2369
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-340":[
   [
    [
     -0.599,
     0.7523,
     -1.3284
    ],
    [
     -0.7876,
     0.9891,
     -1.7466
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-341":[
   [
    [
     -1.1772,
     0.8383,
     -0.7307
    ],
    [
     -1.5478,
     1.1023,
     -0.9608
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-342":[
   [
    [
     -0.9676,
     -1.3009,
     0.2862
    ],
    [
     -1.2722,
     -1.7104,
     0.3763
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-343":[
   [
    [
     1.455,
     -0.2189,
     -0.6791
    ],
    [
     1.9131,
     -0.2878,
     -0.8929
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-344":[
   [
    [
     0.5024,
     -0.1107,
     1.55
    ],
    [
     0.6606,
     -0.1455,
     2.038
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-345":[
   [
    [
     -1.0173,
     -0.1793,
     -1.2515
    ],
    [
     -1.3376,
     -0.2357,
     -1.6454
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-346":[
   [
    [
     0.2757,
     -0.6116,
     -1.4816
    ],
    [
     0.3625,
     -0.8042,
     -1.948
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-347":[
   [
    [
     1.4308,
     -0.6142,
     0.4383
    ],
    [
     1.8812,
     -0.8076,
     0.5762
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-348":[
   [
    [
     -1.137,
     -0.2553,
     -1.1225
    ],
    [
     -1.495,
     -0.3357,
     -1.4759
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-349":[
   [
    [
     -0.7598,
     0.2454,
     -1.4159
    ],
    [
     -0.999,
     0.3227,
     -1.8616
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-350":[
   [
    [
     -0.8316,
     1.3711,
     0.1809
    ],
    [
     -1.0934,
     1.8027,
     0.2379
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-351":[
   [
    [
     1.5189,
     -0.2586,
     0.4989
    ],
    [
     1.997,
     -0.34,
     0.6559
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-352":[
   [
    [
     -0.32,
     0.0079,
     1.5816
    ],
    [
     -0.4208,
     0.0104,
     2.0795
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-353":[
   [
    [
     -0.6625,
     -0.7017,
     -1.2981
    ],
    [
     -0.871,
     -0.9227,
     -1.7068
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-354":[
   [
    [
     -1.4277,
     -0.2112,
     -0.7608
    ],
    [
     -1.8771,
     -0.2777,
     -1.0003
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-355":[
   [
    [
     -1.1562,
     -0.737,
     -0.895
    ],
    [
     -1.5201,
     -0.9691,
     -1.1767
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-356":[
   [
    [
     1.4772,
     -0.5734,
     -0.3767
    ],
    [
     1.9422,
     -0.7539,
     -0.4953
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-357":[
   [
    [
     1.5119,
     0.5067,
     -0.2513
    ],
    [
     1.9878,
     0.6662,
     -0.3304
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-358":[
   [
    [
     1.4124,
     0.0488,
     0.8245
    ],
    [
     1.857,
     0.0641,
     1.0841
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-359":[
   [
    [
     1.265,
     0.3409,
     0.9428
    ],
    [
     1.6633,
     0.4482,
     1.2396
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-360":[
   [
    [
     0.6764,
     1.0856,
     -0.9823
    ],
    [
     0.8894,
     1.4274,
     -1.2916
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-361":[
   [
    [
     -1.0557,
     0.4333,
     -1.1683
    ],
    [
     -1.3881,
     0.5697,
     -1.5361
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-362":[
   [
    [
     0.1539,
     -1.407,
     -0.7971
    ],
    [
     0.2024,
     -1.8499,
     -1.048
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-363":[
   [
    [
     0.2754,
     -0.0628,
     1.5964
    ],
    [
     0.3621,
     -0.0826,
     2.099
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-364":[
   [
    [
     1.2302,
     0.3855,
     0.9663
    ],
    [
     1.6175,
     0.5068,
     1.2705
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-365":[
   [
    [
     1.4718,
     0.2929,
     -0.6084
    ],
    [
     1.9351,
     0.3851,
     -0.7999
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-366":[
   [
    [
     -1.5728,
     0.3561,
     0.14
    ],
    [
     -2.0679,
     0.4682,
     0.184
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-367":[
   [
    [
     0.2628,
     -1.5732,
     -0.2703
    ],
    [
     0.3455,
     -2.0684,
     -0.3554
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-368":[
   [
    [
     -0.1579,
     0.8338,
     1.3769
    ],
    [
     -0.2076,
     1.0963,
     1.8104
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-369":[
   [
    [
     0.5103,
     1.0389,
     -1.1208
    ],
    [
     0.6709,
     1.366,
     -1.4736
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-370":[
   [
    [
     -0.5682,
     -0.9251,
     1.2109
    ],
    [
     -0.7471,
     -1.2163,
     1.5921
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-371":[
   [
    [
     1.1639,
     -0.4207,
     1.0483
    ],
    [
     1.5304,
     -0.5531,
     1.3783
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-372":[
   [
    [
     -1.0118,
     0.4775,
     -1.1766
    ],
    [
     -1.3304,
     0.6278,
     -1.5471
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-373":[
   [
    [
     0.0279,
     1.2594,
     1.0024
    ],
    [
     0.0367,
     1.6558,
     1.3179
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-374":[
   [
    [
     1.1852,
     0.5932,
     0.9404
    ],
    [
     1.5583,
     0.78,
     1.2364
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-375":[
   [
    [
     1.2906,
     -0.2872,
     0.9248
    ],
    [
     1.697,
     -0.3776,
     1.2159
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-376":[
   [
    [
     0.2504,
     1.0229,
     -1.2237
    ],
    [
     0.3292,
     1.3449,
     -1.609
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-377":[
   [
    [
     0.8158,
     1.2525,
     -0.6036
    ],
    [
     1.0726,
     1.6468,
     -0.7936
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-378":[
   [
    [
     -0.7018,
     -1.4255,
     -0.3722
    ],
    [
     -0.9228,
     -1.8743,
     -0.4893
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-379":[
   [
    [
     -0.8158,
     0.8007,
     -1.1361
    ],
    [
     -1.0727,
     1.0528,
     -1.4937
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-380":[
   [
    [
     -0.84,
     -0.1565,
     -1.3799
    ],
    [
     -1.1045,
     -0.2057,
     -1.8143
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-381":[
   [
    [
     0.2396,
     -0.8082,
     1.3715
    ],
    [
     0.315,
     -1.0626,
     1.8033
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-382":[
   [
    [
     -0.0897,
     -0.7113,
     -1.4408
    ],
    [
     -0.1179,
     -0.9353,
     -1.8944
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-383":[
   [
    [
     -1.0903,
     -1.0225,
     0.5999
    ],
    [
     -1.4335,
     -1.3444,
     0.7888
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-384":[
   [
    [
     -1.068,
     0.0546,
     -1.2051
    ],
    [
     -1.4042,
     0.0718,
     -1.5844
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-385":[
   [
    [
     -0.0062,
     -0.4427,
     1.5689
    ],
    [
     -0.0082,
     -0.582,
     2.0629
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-386":[
   [
    [
     1.5145,
     0.4192,
     -0.358
    ],
    [
     1.9913,
     0.5512,
     -0.4707
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-387":[
   [
    [
     1.3242,
     -0.4178,
     0.8545
    ],
    [
     1.7411,
     -0.5493,
     1.1235
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-388":[
   [
    [
     0.4342,
     -0.7612,
     1.3692
    ],
    [
     0.5709,
     -1.0009,
     1.8002
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-389":[
   [
    [
     1.2959,
     0.4082,
     0.882
    ],
    [
     1.7039,
     0.5367,
     1.1597
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-390":[
   [
    [
     0.0969,
     -0.7839,
     -1.4091
    ],
    [
     0.1275,
     -1.0307,
     -1.8526
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-391":[
   [
    [
     -0.4055,
     -1.2784,
     0.9129
    ],
    [
     -0.5332,
     -1.6809,
     1.2003
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-392":[
   [
    [
     0.2395,
     1.5591,
     -0.403
    ],
    [
     0.3149,
     2.0499,
     -0.5298
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-393":[
   [
    [
     -0.0883,
     0.0917,
     -1.6233
    ],
    [
     -0.1161,
     0.1206,
     -2.1344
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-394":[
   [
    [
     -0.8014,
     -0.9599,
     -1.0245
    ],
    [
     -1.0536,
     -1.2621,
     -1.3471
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-395":[
   [
    [
     0.3784,
     -0.8238,
     1.3395
    ],
    [
     0.4975,
     -1.0831,
     1.7612
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-396":[
   [
    [
     -1.5923,
     0.2919,
     -0.0528
    ],
    [
     -2.0936,
     0.3838,
     -0.0694
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-397":[
   [
    [
     0.4333,
     -1.1299,
     -1.0618
    ],
    [
     0.5698,
     -1.4857,
     -1.3961
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-398":[
   [
    [
     -1.0071,
     -0.1369,
     1.2623
    ],
    [
     -1.3242,
     -0.1799,
     1.6597
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-399":[
   [
    [
     0.1394,
     1.515,
     -0.5697
    ],
    [
     0.1833,
     1.9919,
     -0.7491
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-400":[
   [
    [
     -0.7416,
     -1.1457,
     -0.8749
    ],
    [
     -0.9751,
     -1.5063,
     -1.1503
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-401":[
   [
    [
     -0.7062,
     -1.1727,
     -0.8636
    ],
    [
     -0.9286,
     -1.5419,
     -1.1355
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-402":[
   [
    [
     -1.3925,
     0.5643,
     0.5904
    ],
    [
     -1.8309,
     0.7419,
     0.7762
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-403":[
   [
    [
     1.2041,
     0.0795,
     1.0632
    ],
    [
     1.5832,
     0.1045,
     1.3979
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-404":[
   [
    [
     0.711,
     -0.3113,
     1.4199
    ],
    [
     0.9348,
     -0.4093,
     1.8669
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-405":[
   [
    [
     1.0318,
     0.8513,
     -0.9294
    ],
    [
     1.3567,
     1.1194,
     -1.2219
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-406":[
   [
    [
     -0.9022,
     -1.2148,
     -0.5932
    ],
    [
     -1.1863,
     -1.5973,
     -0.78
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-407":[
   [
    [
     -0.9364,
     -0.782,
     -1.0535
    ],
    [
     -1.2312,
     -1.0282,
     -1.3851
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-408":[
   [
    [
     0.6687,
     -0.3715,
     1.4219
    ],
    [
     0.8792,
     -0.4884,
     1.8696
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-409":[
   [
    [
     -0.1809,
     -0.2058,
     1.5895
    ],
    [
     -0.2379,
     -0.2706,
     2.0898
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-410":[
   [
    [
     -0.8462,
     -0.0343,
     -1.3714
    ],
    [
     -1.1126,
     -0.0451,
     -1.8031
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-411":[
   [
    [
     -0.0321,
     -0.834,
     1.3889
    ],
    [
     -0.0422,
     -1.0966,
     1.8262
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-412":[
   [
    [
     0.7347,
     -1.1363,
     -0.8902
    ],
    [
     0.966,
     -1.494,
     -1.1705
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-413":[
   [
    [
     0.6402,
     -0.3436,
     -1.4392
    ],
    [
     0.8418,
     -0.4518,
     -1.8923
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-414":[
   [
    [
     0.8214,
     -0.935,
     1.0268
    ],
    [
     1.0799,
     -1.2294,
     1.35
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-415":[
   [
    [
     1.0101,
     -0.6304,
     -1.0797
    ],
    [
     1.3281,
     -0.8289,
     -1.4196
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-416":[
   [
    [
     -0.4922,
     1.2236,
     0.9304
    ],
    [
     -0.6472,
     1.6089,
     1.2233
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-417":[
   [
    [
     0.5904,
     0.8707,
     -1.2545
    ],
    [
     0.7762,
     1.1449,
     -1.6494
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-418":[
   [
    [
     0.5336,
     1.1465,
     -1.0093
    ],
    [
     0.7015,
     1.5075,
     -1.327
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-419":[
   [
    [
     -0.8537,
     -1.072,
     0.8694
    ],
    [
     -1.1224,
     -1.4095,
     1.1431
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-420":[
   [
    [
     -0.3027,
     0.0124,
     1.5851
    ],
    [
     -0.398,
     0.0164,
     2.0841
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-421":[
   [
    [
     0.6865,
     -0.6986,
     1.2998
    ],
    [
     0.9026,
     -0.9185,
     1.709
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-422":[
   [
    [
     -0.3125,
     1.0854,
     -1.1426
    ],
    [
     -0.4109,
     1.4271,
     -1.5023
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-423":[
   [
    [
     0.211,
     -1.2721,
     0.9642
    ],
    [
     0.2774,
     -1.6725,
     1.2678
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-424":[
   [
    [
     0.3993,
     -0.7656,
     -1.3613
    ],
    [
     0.525,
     -1.0066,
     -1.7898
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-425":[
   [
    [
     -1.1221,
     0.7581,
     0.9078
    ],
    [
     -1.4753,
     0.9967,
     1.1935
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-426":[
   [
    [
     -0.1102,
     -0.7342,
     1.438
    ],
    [
     -0.1449,
     -0.9653,
     1.8908
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-427":[
   [
    [
     0.2947,
     -0.4542,
     1.5156
    ],
    [
     0.3874,
     -0.5972,
     1.9927
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-428":[
   [
    [
     0.1304,
     1.0918,
     -1.1977
    ],
    [
     0.1715,
     1.4356,
     -1.5748
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-429":[
   [
    [
     -0.2575,
     -0.389,
     -1.5626
    ],
    [
     -0.3385,
     -0.5115,
     -2.0546
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-430":[
   [
    [
     0.6502,
     1.0553,
     -1.0308
    ],
    [
     0.8549,
     1.3875,
     -1.3553
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-431":[
   [
    [
     0.6507,
     -1.0023,
     1.0825
    ],
    [
     0.8555,
     -1.3178,
     1.4232
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-432":[
   [
    [
     0.8139,
     -0.7223,
     1.1861
    ],
    [
     1.0702,
     -0.9496,
     1.5595
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-433":[
   [
    [
     0.7726,
     0.0407,
     -1.4155
    ],
    [
     1.0158,
     0.0536,
     -1.8611
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-434":[
   [
    [
     -0.8954,
     -0.9492,
     0.9601
    ],
    [
     -1.1773,
     -1.248,
     1.2623
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-435":[
   [
    [
     -0.7287,
     -0.1031,
     1.441
    ],
    [
     -0.9582,
     -0.1355,
     1.8947
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-436":[
   [
    [
     1.1897,
     0.522,
     -0.9551
    ],
    [
     1.5642,
     0.6864,
     -1.2558
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-437":[
   [
    [
     0.8196,
     -0.8263,
     1.1172
    ],
    [
     1.0776,
     -1.0865,
     1.4689
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-438":[
   [
    [
     -0.437,
     -0.8359,
     1.3226
    ],
    [
     -0.5746,
     -1.0991,
     1.7389
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-439":[
   [
    [
     0.4709,
     -0.7889,
     -1.3307
    ],
    [
     0.6192,
     -1.0372,
     -1.7496
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-440":[
   [
    [
     0.0413,
     -1.4732,
     0.7267
    ],
    [
     0.0543,
     -1.937,
     0.9555
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-441":[
   [
    [
     0.4799,
     -0.8493,
     -1.2927
    ],
    [
     0.6309,
     -1.1166,
     -1.6997
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-442":[
   [
    [
     -1.3888,
     -0.3338,
     0.7856
    ],
    [
     -1.826,
     -0.4389,
     1.033
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-443":[
   [
    [
     0.4511,
     -0.5513,
     1.4409
    ],
    [
     0.5931,
     -0.7248,
     1.8945
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-444":[
   [
    [
     1.0487,
     0.3858,
     -1.2034
    ],
    [
     1.3788,
     0.5072,
     -1.5823
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-445":[
   [
    [
     1.3031,
     -0.1519,
     -0.9605
    ],
    [
     1.7133,
     -0.1997,
     -1.2629
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-446":[
   [
    [
     1.2255,
     -0.1987,
     -1.0386
    ],
    [
     1.6113,
     -0.2612,
     -1.3656
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-447":[
   [
    [
     1.0085,
     -0.6527,
     1.0711
    ],
    [
     1.326,
     -0.8581,
     1.4083
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-448":[
   [
    [
     -0.5092,
     -1.2631,
     0.9052
    ],
    [
     -0.6695,
     -1.6607,
     1.1901
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-449":[
   [
    [
     -0.1611,
     -0.4322,
     1.5499
    ],
    [
     -0.2118,
     -0.5683,
     2.0378
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-450":[
   [
    [
     0.1372,
     0.6392,
     -1.4905
    ],
    [
     0.1804,
     0.8404,
     -1.9598
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-451":[
   [
    [
     0.755,
     0.2129,
     -1.4201
    ],
    [
     0.9927,
     0.28,
     -1.8672
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-452":[
   [
    [
     -0.6529,
     -0.398,
     1.4213
    ],
    [
     -0.8585,
     -0.5234,
     1.8687
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-453":[
   [
    [
     0.1704,
     0.6192,
     -1.4891
    ],
    [
     0.2241,
     0.8141,
     -1.9579
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-454":[
   [
    [
     1.2494,
     0.2375,
     -0.9892
    ],
    [
     1.6427,
     0.3122,
     -1.3007
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-455":[
   [
    [
     0.9983,
     -1.2729,
     0.1841
    ],
    [
     1.3126,
     -1.6737,
     0.2421
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-456":[
   [
    [
     0.6328,
     0.9511,
     -1.1454
    ],
    [
     0.832,
     1.2505,
     -1.506
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-457":[
   [
    [
     -0.5412,
     0.5412,
     1.4231
    ],
    [
     -0.7116,
     0.7116,
     1.8711
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-458":[
   [
    [
     1.1991,
     0.6907,
     -0.8396
    ],
    [
     1.5766,
     0.9082,
     -1.1039
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-459":[
   [
    [
     -1.0355,
     -0.2228,
     1.2409
    ],
    [
     -1.3615,
     -0.293,
     1.6316
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-460":[
   [
    [
     -1.2119,
     -0.6178,
     0.8695
    ],
    [
     -1.5934,
     -0.8123,
     1.1432
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-461":[
   [
    [
     -0.7558,
     0.8434,
     1.1692
    ],
    [
     -0.9937,
     1.1089,
     1.5373
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-462":[
   [
    [
     -0.8561,
     -0.0466,
     1.362
    ],
    [
     -1.1256,
     -0.0613,
     1.7908
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-463":[
   [
    [
     0.1745,
     1.3932,
     -0.8123
    ],
    [
     0.2294,
     1.8318,
     -1.068
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-464":[
   [
    [
     -0.8727,
     0.359,
     1.3333
    ],
    [
     -1.1475,
     0.472,
     1.7531
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-465":[
   [
    [
     -0.1094,
     -1.2202,
     1.0551
    ],
    [
     -0.1439,
     -1.6044,
     1.3873
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-466":[
   [
    [
     -0.8183,
     -0.8384,
     1.1108
    ],
    [
     -1.0759,
     -1.1023,
     1.4605
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-467":[
   [
    [
     -0.3213,
     -0.0083,
     1.5825
    ],
    [
     -0.4224,
     -0.0109,
     2.0807
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-468":[
   [
    [
     0.6454,
     0.9468,
     -1.1406
    ],
    [
     0.8486,
     1.2449,
     -1.4997
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-469":[
   [
    [
     0.0459,
     1.3998,
     -0.8321
    ],
    [
     0.0604,
     1.8405,
     -1.094
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-470":[
   [
    [
     -1.0588,
     -1.2082,
     -0.1469
    ],
    [
     -1.3921,
     -1.5885,
     -0.1931
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-471":[
   [
    [
     -1.0453,
     0.7879,
     0.9531
    ],
    [
     -1.3744,
     1.0359,
     1.2531
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-472":[
   [
    [
     -0.7791,
     -0.1147,
     1.4085
    ],
    [
     -1.0244,
     -0.1508,
     1.8519
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-473":[
   [
    [
     0.7956,
     0.9403,
     -1.04
    ],
    [
     1.046,
     1.2363,
     -1.3674
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-474":[
   [
    [
     0.2918,
     1.2381,
     -0.9913
    ],
    [
     0.3837,
     1.6278,
     -1.3034
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-475":[
   [
    [
     0.8534,
     0.9775,
     -0.9623
    ],
    [
     1.122,
     1.2852,
     -1.2653
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-476":[
   [
    [
     0.1323,
     0.7226,
     -1.4416
    ],
    [
     0.174,
     0.9501,
     -1.8955
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-477":[
   [
    [
     -0.4046,
     0.3762,
     1.5329
    ],
    [
     -0.532,
     0.4946,
     2.0155
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-478":[
   [
    [
     -1.2339,
     -0.8937,
     0.5296
    ],
    [
     -1.6223,
     -1.1751,
     0.6963
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-479":[
   [
    [
     0.8002,
     0.5249,
     -1.2984
    ],
    [
     1.0521,
     0.6901,
     -1.7072
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-480":[
   [
    [
     0.8673,
     0.2967,
     -1.3408
    ],
    [
     1.1403,
     0.3901,
     -1.7629
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-481":[
   [
    [
     0.033,
     0.6399,
     -1.5087
    ],
    [
     0.0435,
     0.8414,
     -1.9837
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-482":[
   [
    [
     0.3556,
     0.8291,
     -1.3399
    ],
    [
     0.4675,
     1.0901,
     -1.7617
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-483":[
   [
    [
     -1.1044,
     0.6643,
     0.9809
    ],
    [
     -1.4521,
     0.8735,
     1.2898
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-484":[
   [
    [
     0.0245,
     1.0682,
     -1.2454
    ],
    [
     0.0322,
     1.4045,
     -1.6375
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-485":[
   [
    [
     0.6727,
     0.2893,
     -1.448
    ],
    [
     0.8845,
     0.3803,
     -1.9039
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-486":[
   [
    [
     -0.6408,
     0.2238,
     1.4552
    ],
    [
     -0.8426,
     0.2942,
     1.9133
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-487":[
   [
    [
     -0.6187,
     0.0453,
     1.4885
    ],
    [
     -0.8135,
     0.0596,
     1.9571
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-488":[
   [
    [
     -0.8472,
     0.5783,
     1.2467
    ],
    [
     -1.114,
     0.7604,
     1.6391
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-489":[
   [
    [
     0.8888,
     0.4612,
     -1.2726
    ],
    [
     1.1686,
     0.6064,
     -1.6733
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-490":[
   [
    [
     -1.1457,
     -0.1284,
     1.1274
    ],
    [
     -1.5064,
     -0.1688,
     1.4823
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-491":[
   [
    [
     -1.0472,
     0.7014,
     1.0074
    ],
    [
     -1.3769,
     0.9222,
     1.3245
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-492":[
   [
    [
     0.2448,
     0.7938,
     -1.3796
    ],
    [
     0.3219,
     1.0437,
     -1.8139
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-493":[
   [
    [
     -1.1812,
     0.0983,
     1.0861
    ],
    [
     -1.5531,
     0.1293,
     1.428
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-494":[
   [
    [
     0.0961,
     0.4195,
     -1.5611
    ],
    [
     0.1263,
     0.5515,
     -2.0525
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-495":[
   [
    [
     -0.9933,
     0.2365,
     1.2747
    ],
    [
     -1.306,
     0.3109,
     1.676
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-496":[
   [
    [
     0.0337,
     1.047,
     -1.2571
    ],
    [
     0.0443,
     1.3766,
     -1.6528
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-497":[
   [
    [
     0.1598,
     0.4521,
     -1.5463
    ],
    [
     0.2101,
     0.5945,
     -2.0332
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-498":[
   [
    [
     0.2573,
     0.0926,
     -1.6002
    ],
    [
     0.3383,
     0.1217,
     -2.104
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-499":[
   [
    [
     -1.0823,
     0.0332,
     1.1885
    ],
    [
     -1.423,
     0.0437,
     1.5626
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "inner-outer-500":[
   [
    [
     -0.0229,
     0.9148,
     -1.3405
    ],
    [
     -0.0301,
     1.2028,
     -1.7625
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-027":[
   [
    [
     1.1146,
     -1.5526,
     -0.9456
    ],
    [
     0.282,
     -1.4109,
     -1.5708
    ],
    [
     0.7001,
     -0.8801,
     -1.8046
    ],
    [
     0.0209,
     -0.9796,
     -1.8914
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-028":[
   [
    [
     -1.4857,
     1.0597,
     -1.099
    ],
    [
     -0.9311,
     1.8353,
     -0.55
    ],
    [
     0.0244,
     1.9058,
     -0.9523
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-029":[
   [
    [
     -0.0294,
     0.5959,
     -2.0443
    ],
    [
     -0.0228,
     0.0107,
     -2.1307
    ],
    [
     0.5871,
     0.8016,
     -1.8883
    ],
    [
     0.0252,
     1.1029,
     -1.8213
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-030":[
   [
    [
     1.2223,
     -0.7339,
     -1.5807
    ],
    [
     1.4553,
     -0.1666,
     -1.5462
    ],
    [
     1.7121,
     -0.5664,
     -1.136
    ]
   ],
   {
    "attributes":{}
   }
  ],
  "hover-031":[
   [
    [
     0.5509,
     0.1811,
     -2.0536
    ],
    [
     0.7001,
     -0.8801,
     -1.8046
    ],
    [
     0.9346,
     -1.2864,
     -1.419
    ]
   ],
   {
    "attributes":{}
   }
  ]
 },
 "empties":{},
 "instances":{}
}`;var Cce=`#include <common>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
uniform float uLineWidth;uniform vec2 uResolution;attribute vec3 instanceStart;attribute vec3 instanceEnd;attribute vec3 instanceColorStart;attribute vec3 instanceColorEnd;varying float vVertIndex;attribute float instanceIndexStart;attribute float instanceIndexEnd;varying float vOffset;attribute float instanceOffsetStart;attribute float instanceOffsetEnd;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
varying vec2 vUv;varying float vPositionY;attribute float instanceDistanceStart;attribute float instanceDistanceEnd;varying float vLineDistance;uniform float uTime;void trimSegment(const in vec4 start,inout vec4 end){float a=projectionMatrix[2][2];float b=projectionMatrix[3][2];float nearEstimate=-0.5*b/a;float alpha=(nearEstimate-start.z)/(end.z-start.z);end.xyz=mix(start.xyz,end.xyz,alpha);}vec4 rotationQuat(const in vec3 axis,const in float angle){vec3 axisNorm=normalize(axis);return vec4(axisNorm*sin(angle/2.0),cos(angle/2.0));}mat3 rotationMatrix(const in vec4 q){float x=q.x;float y=q.y;float z=q.z;float w=q.w;float x2=x+x;float y2=y+y;float z2=z+z;float xx=x*x2;float xy=x*y2;float xz=x*z2;float yy=y*y2;float yz=y*z2;float zz=z*z2;float wx=w*x2;float wy=w*y2;float wz=w*z2;return mat3(1.0-(yy+zz),xy+wz,xz-wy,xy-wz,1.0-(xx+zz),yz+wx,xz+wy,yz-wx,1.0-(xx+yy));}void main(){vUv=uv;vPositionY=position.y;vVertIndex=(position.y<0.5)? instanceIndexStart : instanceIndexEnd;vOffset=(position.y<0.5)? instanceOffsetStart : instanceOffsetEnd;vLineDistance=(position.y<0.5)? instanceDistanceStart : instanceDistanceEnd;float aspect=uResolution.x/uResolution.y;vec4 start=viewMatrix*modelMatrix*vec4(instanceStart,1.0);vec4 end=viewMatrix*modelMatrix*vec4(instanceEnd,1.0);
#ifdef WORLD_UNITS
worldStart=start.xyz;worldEnd=end.xyz;
#endif
bool perspective=(projectionMatrix[2][3]==-1.0);if(perspective){if(start.z<0.0&&end.z>=0.0){trimSegment(start,end);}else if(end.z<0.0&&start.z>=0.0){trimSegment(end,start);}}vec4 clipStart=projectionMatrix*start;vec4 clipEnd=projectionMatrix*end;vec3 ndcStart=clipStart.xyz/clipStart.w;vec3 ndcEnd=clipEnd.xyz/clipEnd.w;vec2 dir=ndcEnd.xy-ndcStart.xy;dir.x*=aspect;dir=normalize(dir);
#ifdef WORLD_UNITS
vec3 worldDir=normalize(end.xyz-start.xyz);vec3 tmpFwd=normalize(mix(start.xyz,end.xyz,0.5));vec3 worldUp=normalize(cross(worldDir,tmpFwd));vec3 worldFwd=cross(worldDir,worldUp);worldPos=position.y<0.5 ? start: end;float hw=uLineWidth*0.5;worldPos.xyz+=position.x<0.0 ? hw*worldUp :-hw*worldUp;worldPos.xyz+=position.y<0.5 ?-hw*worldDir : hw*worldDir;worldPos.xyz+=worldFwd*hw;if(position.y>1.0||position.y<0.0){worldPos.xyz-=worldFwd*2.0*hw;}vec4 clip=projectionMatrix*worldPos;vec3 clipPose=(position.y<0.5)? ndcStart : ndcEnd;clip.z=clipPose.z*clip.w;
#else
vec2 offset=vec2(dir.y,-dir.x);dir.x/=aspect;offset.x/=aspect;if(position.x<0.0)offset*=-1.0;if(position.y<0.0){offset+=-dir;}else if(position.y>1.0){offset+=dir;}offset*=uLineWidth;offset/=uResolution.y;vec4 clip=(position.y<0.5)? clipStart : clipEnd;offset*=clip.w;clip.xy+=offset;
#endif
gl_Position=clip;vec4 mvPosition=(position.y<0.5)? start : end;
#include <logdepthbuf_vertex>
#include <clipping_planes_vertex>
}`,Sce=`#include <default_pars>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
uniform vec3 uBaseColor;uniform float uOpacity;uniform float uLineWidth;varying float vLineDistance;varying float vVertIndex;varying float vOffset;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
varying vec2 vUv;varying float vPositionY;uniform float uAnimationTime;uniform float uHighlightPower;vec2 closestLineToLine(vec3 p1,vec3 p2,vec3 p3,vec3 p4){float mua;float mub;vec3 p13=p1-p3;vec3 p43=p4-p3;vec3 p21=p2-p1;float d1343=dot(p13,p43);float d4321=dot(p43,p21);float d1321=dot(p13,p21);float d4343=dot(p43,p43);float d2121=dot(p21,p21);float denom=d2121*d4343-d4321*d4321;float numer=d1343*d4321-d1321*d4343;mua=numer/denom;mua=clamp(mua,0.0,1.0);mub=(d1343+d4321*(mua))/d4343;mub=clamp(mub,0.0,1.0);return vec2(mua,mub);}float easeOutExpo(float t){return 1.0-pow(2.0,-10.0*t);}float easeOutExpo(float t,float power){return 1.0-pow(2.0,-power*t);}float easeOutCubic(float t){return 1.0-pow(1.0-t,3.0);}float easeOutLinear(float t){return 1.0-t;}void main(){
#include <clipping_planes_fragment>
float alpha=uOpacity;
#ifdef WORLD_UNITS
vec3 rayEnd=normalize(worldPos.xyz)*1e5;vec3 lineDir=worldEnd-worldStart;vec2 params=closestLineToLine(worldStart,worldEnd,vec3(0.0,0.0,0.0),rayEnd);vec3 p1=worldStart+lineDir*params.x;vec3 p2=rayEnd*params.y;vec3 delta=p1-p2;float len=length(delta);float norm=len/uLineWidth;
#ifdef USE_ALPHA_TO_COVERAGE
float dnorm=fwidth(norm);alpha=1.0-smoothstep(0.5-dnorm,0.5+dnorm,norm);
#else
if(norm>0.5){discard;}
#endif
#else
#ifdef USE_ALPHA_TO_COVERAGE
float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;float dlen=fwidth(len2);if(abs(vUv.y)>1.0){alpha=1.0-smoothstep(1.0-dlen,1.0+dlen,len2);}
#else
if(abs(vUv.y)>1.0){float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;if(len2>1.0)discard;}
#endif
#endif
#include <logdepthbuf_fragment>
gl_FragColor.a=alpha;gl_FragColor.rgb=uBaseColor*5.;float offset=vOffset*2.0;float revealSpeed=0.2;float repeatDelay=3.0+offset;float timeProgress=easeOutExpo(mod(uAnimationTime*revealSpeed,repeatDelay)-offset,6.0);float hideProgress=easeOutExpo(max(0.0,mod(uAnimationTime*revealSpeed,repeatDelay)-0.3-offset),4.0);float revealFactor=step(vVertIndex-0.05,timeProgress)-step(vVertIndex-0.05,hideProgress);float highlight=max(1.0-step(vVertIndex-0.05+0.3,map(timeProgress,0.0,1.0,0.0,1.2)),0.0);gl_FragColor.rgb+=pow(highlight,uHighlightPower)*0.5;if(max(0.0,revealFactor)<0.01)discard;
#include <tonemapping_fragment>
#include <colorspace_fragment>
#include <premultiplied_alpha_fragment>
}`;class wce extends is{constructor(e={}){e=An({vertexShader:Cce,fragmentShader:Sce,uniforms:{uOpacity:{value:1,gui:{min:0,max:1,step:.1}}},defines:{WORLD_UNITS:!0},transparent:!0},e),super(e)}}class Ece extends co(){constructor(e={}){e=An({name:"CryptoOrbLines",key:"inner-outer",speed:0,scrollResponsiveness:.5,scrollMaxSpeed:10},e),super(e),this.globalUniforms={uLineWidth:{value:.008,gui:{min:0,max:.1,step:.001}},uBaseColor:{value:new ke(15525854)},uHighlightPower:{value:2,gui:{min:1,max:5,step:.01}}},this.scrollSpeedMultiplier=1}build(e){const t=Object.keys(e.paths).filter(f=>f.startsWith(this.options.key));this.lineData=t.reduce((f,h)=>(f[h]=e.paths[h],f),{});const i=[],r=[],s=[];for(const f in this.lineData){const h=this.lineData[f][0],p=Math.random();for(let m=0;m<h.length-1;m++){const g=h[m],A=h[m+1];i.push(g[0],g[1],g[2]),i.push(A[0],A[1],A[2]),r.push(m/(h.length-1)),r.push((m+1)/(h.length-1)),s.push(p),s.push(p)}}const o=new Ld().setPositions(i),a=new Float32Array(r),l=new Yr(a,2,1);o.setAttribute("instanceIndexStart",new fn(l,1,0)),o.setAttribute("instanceIndexEnd",new fn(l,1,1));const c=new Float32Array(s),u=new Yr(c,2,1);o.setAttribute("instanceOffsetStart",new fn(u,1,0)),o.setAttribute("instanceOffsetEnd",new fn(u,1,1)),this.line=new tp(o,new wce({uniforms:{uAnimationTime:{value:0},...this.globalUniforms}})),this.line.name=`CryptoLine-${this.options.key} / Line`,this.line.computeLineDistances(),this.line.scale.set(1,1,1),this.add(this.line),this.scene=this.parent}update(){this.updateScrollRotation(this.scene.scrollVelocity),this.line.rotation.y+=this.options.speed+this.scrollSpeedMultiplier,this.line.material.uniforms.uAnimationTime.value+=S.WebGL.normalizedDelta*.05}updateScrollRotation(e){this.scrollSpeedMultiplier=Math.abs(e)*this.options.scrollResponsiveness,this.scrollSpeedMultiplier=gn.clamp(this.scrollSpeedMultiplier,0,this.options.scrollMaxSpeed)}stop(){this.line.material.uniforms.uAnimationTime.value=0}addGui(){S.theatre.helper.autoAddObject(this.line,this.parent.prettyName,{exclude:[...Object.keys(this.globalUniforms),"uAnimationTime"]});const e={},t=S.theatre.helper.autoAddUniforms(e,this.globalUniforms);S.theatre.helper.addSheetObject(this.parent.prettyName,`CryptoLine-${this.options.key} / Global`,e,this).onValuesChange(r=>{for(let s=0;s<t.length;s++)t[s](this,r)},S.theatre.rafDriver)}destroy(){super.destroy(),this.remove(this.line),this.parent.remove(this),this.line.geometry.dispose(),this.line.material.dispose(),this.scrollSpeedMultiplier=1}}var Tce=`#include <default_pars>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
uniform float uLineWidth;uniform vec2 uResolution;uniform float uFresnelAmount;uniform float uFresnelOffset;uniform float uFresnelFalloff;varying float vFresnelFade;attribute vec3 instanceStart;attribute vec3 instanceEnd;attribute vec3 instanceColorStart;attribute vec3 instanceColorEnd;varying float vVertIndex;attribute float instanceIndexStart;attribute float instanceIndexEnd;varying float vRandom;varying float vRandomIndex;attribute float instanceRandomIndexStart;attribute float instanceRandomIndexEnd;varying float vOffset;attribute float instanceOffsetStart;attribute float instanceOffsetEnd;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
varying vec2 vUv;varying float vPositionY;attribute float instanceDistanceStart;attribute float instanceDistanceEnd;varying float vLineDistance;uniform float uTime;void trimSegment(const in vec4 start,inout vec4 end){float a=projectionMatrix[2][2];float b=projectionMatrix[3][2];float nearEstimate=-0.5*b/a;float alpha=(nearEstimate-start.z)/(end.z-start.z);end.xyz=mix(start.xyz,end.xyz,alpha);}vec4 rotationQuat(const in vec3 axis,const in float angle){vec3 axisNorm=normalize(axis);return vec4(axisNorm*sin(angle/2.0),cos(angle/2.0));}mat3 rotationMatrix(const in vec4 q){float x=q.x;float y=q.y;float z=q.z;float w=q.w;float x2=x+x;float y2=y+y;float z2=z+z;float xx=x*x2;float xy=x*y2;float xz=x*z2;float yy=y*y2;float yz=y*z2;float zz=z*z2;float wx=w*x2;float wy=w*y2;float wz=w*z2;return mat3(1.0-(yy+zz),xy+wz,xz-wy,xy-wz,1.0-(xx+zz),yz+wx,xz+wy,yz-wx,1.0-(xx+yy));}float rand(float p){return fract(sin(p)*43758.5453123);}float fresnelFunc(float amount,float offset,float falloff,vec3 normal,vec3 view){return clamp(offset+(1.0-offset)*pow(1.0-dot(normal,view),amount)*falloff,0.,1.);}void main(){vUv=uv;vPositionY=position.y;vVertIndex=(position.y<0.5)? instanceIndexStart : instanceIndexEnd;vOffset=(position.y<0.5)? instanceOffsetStart : instanceOffsetEnd;vRandom=map(rand(vOffset+instanceStart.x+instanceStart.y),0.0,1.0,0.05,0.5);vRandomIndex=(position.y<0.5)? instanceRandomIndexStart : instanceRandomIndexEnd;vLineDistance=(position.y<0.5)? instanceDistanceStart : instanceDistanceEnd;float aspect=uResolution.x/uResolution.y;vec4 start=viewMatrix*modelMatrix*vec4(instanceStart,1.0);vec4 end=viewMatrix*modelMatrix*vec4(instanceEnd,1.0);
#ifdef WORLD_UNITS
worldStart=start.xyz;worldEnd=end.xyz;
#endif
bool perspective=(projectionMatrix[2][3]==-1.0);if(perspective){if(start.z<0.0&&end.z>=0.0){trimSegment(start,end);}else if(end.z<0.0&&start.z>=0.0){trimSegment(end,start);}}vec4 clipStart=projectionMatrix*start;vec4 clipEnd=projectionMatrix*end;vec3 ndcStart=clipStart.xyz/clipStart.w;vec3 ndcEnd=clipEnd.xyz/clipEnd.w;vec2 dir=ndcEnd.xy-ndcStart.xy;dir.x*=aspect;dir=normalize(dir);
#ifdef WORLD_UNITS
vec3 worldDir=normalize(end.xyz-start.xyz);vec3 tmpFwd=normalize(mix(start.xyz,end.xyz,0.5));vec3 worldUp=normalize(cross(worldDir,tmpFwd));vec3 worldFwd=cross(worldDir,worldUp);worldPos=position.y<0.5 ? start: end;float hw=uLineWidth*0.5;worldPos.xyz+=position.x<0.0 ? hw*worldUp :-hw*worldUp;worldPos.xyz+=position.y<0.5 ?-hw*worldDir : hw*worldDir;worldPos.xyz+=worldFwd*hw;if(position.y>1.0||position.y<0.0){worldPos.xyz-=worldFwd*2.0*hw;}vec4 clip=projectionMatrix*worldPos;vec3 clipPose=(position.y<0.5)? ndcStart : ndcEnd;clip.z=clipPose.z*clip.w;
#else
vec2 offset=vec2(dir.y,-dir.x);dir.x/=aspect;offset.x/=aspect;if(position.x<0.0)offset*=-1.0;if(position.y<0.0){offset+=-dir;}else if(position.y>1.0){offset+=dir;}offset*=uLineWidth;offset/=uResolution.y;vec4 clip=(position.y<0.5)? clipStart : clipEnd;offset*=clip.w;clip.xy+=offset;
#endif
gl_Position=clip;vec3 viewDir=-worldPos.xyz;vec3 fakePos=(position.y<0.5)? instanceStart : instanceEnd;vec3 fakeNormal=normalize(modelMatrix*vec4(normalize(fakePos),1.0)).rgb;float fresnel=max(0.0,1.0-fresnelFunc(uFresnelAmount,uFresnelOffset,uFresnelFalloff,fakeNormal,viewDir));vFresnelFade=fresnel;vec4 mvPosition=(position.y<0.5)? start : end;
#include <logdepthbuf_vertex>
#include <clipping_planes_vertex>
}`,Mce=`#include <default_pars>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
uniform vec3 uBaseColor;uniform vec3 uExtraColor;uniform float uTheatreTime;uniform float uTimeProgress;uniform float uHighlightPower;uniform float uHighlightLength;uniform float uOpacity;uniform float uLineWidth;varying float vRandom;varying float vRandomIndex;varying float vLineDistance;varying float vVertIndex;varying float vOffset;varying float vFresnelFade;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
varying vec2 vUv;varying float vPositionY;vec2 closestLineToLine(vec3 p1,vec3 p2,vec3 p3,vec3 p4){float mua;float mub;vec3 p13=p1-p3;vec3 p43=p4-p3;vec3 p21=p2-p1;float d1343=dot(p13,p43);float d4321=dot(p43,p21);float d1321=dot(p13,p21);float d4343=dot(p43,p43);float d2121=dot(p21,p21);float denom=d2121*d4343-d4321*d4321;float numer=d1343*d4321-d1321*d4343;mua=numer/denom;mua=clamp(mua,0.0,1.0);mub=(d1343+d4321*(mua))/d4343;mub=clamp(mub,0.0,1.0);return vec2(mua,mub);}float easeOutExpo(float t){return 1.0-pow(2.0,-10.0*t);}float easeOutExpo(float t,float power){return 1.0-pow(2.0,-power*t);}float easeOutCubic(float t){return 1.0-pow(1.0-t,3.0);}float easeOutLinear(float t){return 1.0-t;}float easeInExpo(float t,float power){return pow(2.0,power*(t-1.0));}float rand(const in float n){return fract(sin(n)*43758.5453123);}void main(){
#include <clipping_planes_fragment>
float alpha=uOpacity;
#ifdef WORLD_UNITS
vec3 rayEnd=normalize(worldPos.xyz)*1e5;vec3 lineDir=worldEnd-worldStart;vec2 params=closestLineToLine(worldStart,worldEnd,vec3(0.0,0.0,0.0),rayEnd);vec3 p1=worldStart+lineDir*params.x;vec3 p2=rayEnd*params.y;vec3 delta=p1-p2;float len=length(delta);float norm=len/uLineWidth;
#ifdef USE_ALPHA_TO_COVERAGE
float dnorm=fwidth(norm);alpha=1.0-smoothstep(0.5-dnorm,0.5+dnorm,norm);
#else
if(norm>0.5){discard;}
#endif
#else
#ifdef USE_ALPHA_TO_COVERAGE
float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;float dlen=fwidth(len2);if(abs(vUv.y)>1.0){alpha=1.0-smoothstep(1.0-dlen,1.0+dlen,len2);}
#else
if(abs(vUv.y)>1.0){float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;if(len2>1.0)discard;}
#endif
#endif
#include <logdepthbuf_fragment>
gl_FragColor.a=alpha*vFresnelFade;gl_FragColor.rgb=uBaseColor*5.;float offset=vOffset;
#ifdef EXTRA_LINES
float mappedTimeProgress=smoothstep(offset*vRandom,offset,uTimeProgress);
#else
float mappedTimeProgress=smoothstep(offset-vRandom,offset,uTimeProgress);
#endif
float revealFactor=max(0.0,step(vVertIndex,mappedTimeProgress));
#ifndef EXTRA_LINES
float time=uTheatreTime*1.0;float phase=5.0;float modTime=mod(max(0.0,time-offset-vRandomIndex*phase),phase)/phase;float randomStart=0.1;float revealDuration=0.2;float mapRevealTime=smoothstep(randomStart,randomStart+revealDuration,modTime);float mapHideTime=smoothstep((randomStart+revealDuration),(randomStart+revealDuration)+revealDuration,modTime);float smoothness=0.3;float remappedGrowthFactor=map(mapRevealTime,0.0,1.0,0.0,1.0+smoothness);float remappedShrinkFactor=map(mapHideTime,0.0,1.0,0.0,1.0+smoothness);float extraColorFactor=max(0.0,(1.0-smoothstep(remappedGrowthFactor-smoothness,remappedGrowthFactor,vVertIndex))*smoothstep(remappedShrinkFactor-smoothness,remappedShrinkFactor,vVertIndex));gl_FragColor.rgb=mix(gl_FragColor.rgb,uExtraColor*5.0,extraColorFactor);
#endif
float highlight=max(1.0-step(vVertIndex+uHighlightLength,map(mappedTimeProgress,0.0,1.0,0.0,1.2)),0.0);gl_FragColor.rgb+=pow(highlight,uHighlightPower)*0.5;if(revealFactor<0.001)discard;
#include <tonemapping_fragment>
#include <colorspace_fragment>
#include <premultiplied_alpha_fragment>
}`;class Ice extends is{constructor(e={}){e=An({vertexShader:Tce,fragmentShader:Mce,uniforms:{uOpacity:{value:1,gui:{min:0,max:1,step:.1}}},defines:{EXTRA_LINES:!1,WORLD_UNITS:!0},transparent:!0,depthTest:!1},e),super(e)}}class Dce extends co(){constructor(e={}){e=An({name:"Electric-branches",key:"electric",speed:0,scrollResponsiveness:.5,scrollMaxSpeed:10},e),super(e),this.globalUniforms={uLineWidth:{value:.008,gui:{min:0,max:.1,step:.001}},uBaseColor:{value:new ke(15855337)},uExtraColor:{value:new ke(0)},uTheatreTime:{value:0},uTimeProgress:{value:0,gui:{min:0,max:1,step:.01}},uHighlightPower:{value:2,gui:{min:1,max:5,step:.01}},uHighlightLength:{value:.3,gui:{min:0,max:1,step:.01}},uFresnelAmount:{value:1,gui:{min:0,max:100,step:.01}},uFresnelOffset:{value:.01,gui:{min:0,max:1,step:.001}},uFresnelFalloff:{value:.1,gui:{min:0,max:100,step:.01}}},this.getOffsetFunction=this.getNameOffset,this.options.key==="extended"&&(this.getOffsetFunction=this.getRandomOffset),this.scrollSpeedMultiplier=1}getNameOffset(){return gn.mapLinear(Math.random(),0,1,.5,1)}getRandomOffset(e){return gn.mapLinear(gn.seededRandom(e.split("-")[0].split("extended")[1]+45468),0,1,.2,1)}build(e){this.lineData=Object.keys(e.paths).filter(p=>p.startsWith(this.options.key)).reduce((p,m)=>(p[m]=e.paths[m],p),{});const t=[],i=[],r=[],s=[];for(const p in this.lineData){const m=this.lineData[p][0],g=this.getOffsetFunction(p);for(let A=0;A<m.length-1;A++){const y=m[A],x=m[A+1];t.push(y[0],y[1],y[2]),t.push(x[0],x[1],x[2]),i.push(A/(m.length-1)),i.push((A+1)/(m.length-1)),r.push(g),r.push(g);const b=gn.seededRandom(this.lineData[p][1].attributes.index||0);s.push(b),s.push(b)}}const o=new Ld().setPositions(t),a=new Float32Array(i),l=new Yr(a,2,1);o.setAttribute("instanceIndexStart",new fn(l,1,0)),o.setAttribute("instanceIndexEnd",new fn(l,1,1));const c=new Float32Array(r),u=new Yr(c,2,1);o.setAttribute("instanceOffsetStart",new fn(u,1,0)),o.setAttribute("instanceOffsetEnd",new fn(u,1,1));const f=new Float32Array(s),h=new Yr(f,2,1);o.setAttribute("instanceRandomIndexStart",new fn(h,1,0)),o.setAttribute("instanceRandomIndexEnd",new fn(h,1,1)),this.line=new tp(o,new Ice({uniforms:{...this.globalUniforms},defines:{EXTRA_LINES:this.options.key==="extended"}})),this.line.name=`${this.options.name} / Line`,this.line.computeLineDistances(),this.line.scale.set(1,1,1),this.add(this.line),this.scene=this.parent}update(){this.updateScrollRotation(this.scene.scrollVelocity),this.line.rotation.y+=this.options.speed+this.scrollSpeedMultiplier,this.globalUniforms.uTheatreTime.value=S.theatre.sheets.CryptoOrb.sequence.position}updateScrollRotation(e){this.scrollSpeedMultiplier=Math.abs(e)*this.options.scrollResponsiveness,this.scrollSpeedMultiplier=gn.clamp(this.scrollSpeedMultiplier,0,this.options.scrollMaxSpeed)}addGui(){S.theatre.helper.autoAddObject(this.line,this.parent.prettyName,{exclude:["uTheatreTime",...Object.keys(this.globalUniforms)]});const e={},t=S.theatre.helper.autoAddUniforms(e,this.globalUniforms,["uTheatreTime"]);S.theatre.helper.addSheetObject(this.parent.prettyName,`${this.options.name} / Global`,e,this).onValuesChange(r=>{for(let s=0;s<t.length;s++)t[s](this,r)},S.theatre.rafDriver)}destroy(){super.destroy(),this.remove(this.line),this.line.geometry.dispose(),this.line.material.dispose(),this.parent.remove(this),this.scrollSpeedMultiplier=1}}var Pce=`#include <default_pars>
#include <packing>
attribute vec3 aRandom;attribute float aScale;attribute vec2 aFboUv;varying vec2 vUv;uniform sampler2D tPosition;uniform float uTime;uniform float uParticleSize;varying vec3 vViewPosition;varying vec3 vNormal;varying vec4 vWorldPosition;varying vec3 vRandom;
#ifdef DEPTH_PACKING
varying vec2 vHighPrecisionZW;
#endif
void main(){vUv=uv;vRandom=aRandom;vec4 particlePosition=texture2D(tPosition,aFboUv);vec4 transformedPosition=vec4(position,1.0);vec3 up=vec3(modelViewMatrix[0][1],modelViewMatrix[1][1],modelViewMatrix[2][1]);vec3 right=vec3(modelViewMatrix[0][0],modelViewMatrix[1][0],modelViewMatrix[2][0]);transformedPosition.xyz=right*transformedPosition.x+up*transformedPosition.y;
#ifdef USE_INSTANCING
transformedPosition=instanceMatrix*transformedPosition;
#endif
float scale=uParticleSize*aScale;transformedPosition.xyz*=scale;transformedPosition.xyz+=particlePosition.xyz;vec4 worldPosition=modelMatrix*transformedPosition;vWorldPosition=worldPosition;mat3 normalMatrixInverse=inverse(mat3(normalMatrix));vec3 transformedNormal=normal;
#ifdef USE_INSTANCING
mat3 m=mat3(instanceMatrix);transformedNormal/=vec3(dot(m[0],m[0]),dot(m[1],m[1]),dot(m[2],m[2]));transformedNormal=m*transformedNormal;
#endif
transformedNormal=normalMatrix*normal;vNormal=normalize(transformedNormal);vec4 mvPosition=modelViewMatrix*transformedPosition;gl_Position=projectionMatrix*mvPosition;vViewPosition=-mvPosition.xyz;
#ifdef DEPTH_PACKING
vHighPrecisionZW=gl_Position.zw;
#endif
}`,Rce=`#include <default_pars>
#include <default_frag_pars>
#include <packing>
uniform sampler2D tMatcap;uniform float uMatcapBlend;uniform int uMatcapBlendMode;varying vec3 vRandom;varying vec3 vRandomAttributes;varying vec2 vUv;varying float vLife;varying float vSplineIndex;varying vec3 vViewPosition;varying vec3 vNormal;varying vec4 vWorldPosition;uniform vec3 uBaseColor;uniform float uOpacity;
#ifdef DEPTH_PACKING
varying vec2 vHighPrecisionZW;
#endif
void main(){float alpha=1.0-step(0.9,2.0*length(vUv-0.5));if(alpha<0.5)discard;
#ifdef DEPTH_PACKING
gl_FragColor=vec4(vec3(1.),1.0);
#else
vec3 randoms=vec3(map(vRandom.x,0.,1.,0.9,1.0),map(vRandom.y,0.,1.,0.2,1.8),map(vRandom.z,0.,1.,0.2,1.8));vec3 color=uBaseColor;color.rgb*=randoms.x;gl_FragColor=vec4(color*10.,uOpacity);
#ifdef USE_MATCAP
vec3 normal=normalize(vNormal);vec3 viewDir=normalize(vViewPosition);vec3 x=normalize(vec3(viewDir.z,0.0,-viewDir.x));vec3 y=cross(viewDir,x);vec2 uv=vec2(dot(x,normal),dot(y,normal))*0.495+0.5;vec4 matcapColor=texture2D(tMatcap,uv);if(uMatcapBlendMode==0){gl_FragColor.rgb=blendSoftLight(gl_FragColor.rgb,matcapColor.rgb,uMatcapBlend);}else if(uMatcapBlendMode==1){gl_FragColor.rgb=blendLinearLight(gl_FragColor.rgb,matcapColor.rgb,uMatcapBlend);}else if(uMatcapBlendMode==2){gl_FragColor.rgb=blendLighten(gl_FragColor.rgb,matcapColor.rgb,uMatcapBlend);}else if(uMatcapBlendMode==3){gl_FragColor.rgb=blendOverlay(gl_FragColor.rgb,matcapColor.rgb,uMatcapBlend);}else if(uMatcapBlendMode==4){gl_FragColor.rgb=blendAdd(gl_FragColor.rgb,matcapColor.rgb,uMatcapBlend);}else{gl_FragColor.rgb=blendMultiply(gl_FragColor.rgb,matcapColor.rgb,uMatcapBlend);}
#endif
#endif
#ifdef DEPTH_PACKING
float fragCoordZ=0.5*vHighPrecisionZW[0]/vHighPrecisionZW[1]+0.5;gl_FragColor=packDepthToRGBA(fragCoordZ);
#endif
#include <tonemapping_fragment>
#include <colorspace_fragment>
}`;class Bce extends is{constructor(e={}){e=An({vertexShader:Pce,fragmentShader:Rce,uniforms:{tPosition:{value:null},uBaseColor:{value:new ke(14154239)},uParticleSize:{value:.25,gui:{step:.01}},uOpacity:{value:1,gui:{min:0,max:1,step:.01}}},defines:{DEPTH_PACKING:!1},side:Mo,depthTest:!1,transparent:!0},e),super(e)}}var Lce=`#include <default_pars>
varying vec2 vUv;uniform sampler2D tOriginalTexture;uniform sampler2D tTexture;uniform float uTime;uniform float uDelta;uniform float uNormalizedDelta;uniform float uRotationSpeed;uniform float uRadius;uniform float uCurlSize;uniform float uCurlNoiseSpeed;uniform float uCurlStrength;uniform float uLerpSpeed;uniform sampler2D tFluidSim;uniform float uFluidStrength;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;uniform mat4 uProjectionMatrix;uniform bool uCurl;uniform float uSetup;vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}float mod289(float x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}float permute(float x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float taylorInvSqrt(float r){return 1.79284291400159-0.85373472095314*r;}vec4 grad4(float j,vec4 ip){const vec4 ones=vec4(1.0,1.0,1.0,-1.0);vec4 p,s;p.xyz=floor(fract(vec3(j)*ip.xyz)*7.0)*ip.z-1.0;p.w=1.5-dot(abs(p.xyz),ones.xyz);s=vec4(lessThan(p,vec4(0.0)));p.xyz=p.xyz+(s.xyz*2.0-1.0)*s.www;return p;}
#define F4 0.309016994374947451
vec4 snoise4(vec4 v){const vec4 C=vec4(0.138196601125011,0.276393202250021,0.414589803375032,-0.447213595499958);vec4 i=floor(v+dot(v,vec4(F4)));vec4 x0=v-i+dot(i,C.xxxx);vec4 i0;vec3 isX=step(x0.yzw,x0.xxx);vec3 isYZ=step(x0.zww,x0.yyz);i0.x=isX.x+isX.y+isX.z;i0.yzw=1.0-isX;i0.y+=isYZ.x+isYZ.y;i0.zw+=1.0-isYZ.xy;i0.z+=isYZ.z;i0.w+=1.0-isYZ.z;vec4 i3=clamp(i0,0.0,1.0);vec4 i2=clamp(i0-1.0,0.0,1.0);vec4 i1=clamp(i0-2.0,0.0,1.0);vec4 x1=x0-i1+C.xxxx;vec4 x2=x0-i2+C.yyyy;vec4 x3=x0-i3+C.zzzz;vec4 x4=x0+C.wwww;i=mod289(i);float j0=permute(permute(permute(permute(i.w)+i.z)+i.y)+i.x);vec4 j1=permute(permute(permute(permute(i.w+vec4(i1.w,i2.w,i3.w,1.0))+i.z+vec4(i1.z,i2.z,i3.z,1.0))+i.y+vec4(i1.y,i2.y,i3.y,1.0))+i.x+vec4(i1.x,i2.x,i3.x,1.0));vec4 ip=vec4(1.0/294.0,1.0/49.0,1.0/7.0,0.0);vec4 p0=grad4(j0,ip);vec4 p1=grad4(j1.x,ip);vec4 p2=grad4(j1.y,ip);vec4 p3=grad4(j1.z,ip);vec4 p4=grad4(j1.w,ip);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;p4*=taylorInvSqrt(dot(p4,p4));vec3 values0=vec3(dot(p0,x0),dot(p1,x1),dot(p2,x2));vec2 values1=vec2(dot(p3,x3),dot(p4,x4));vec3 m0=max(0.5-vec3(dot(x0,x0),dot(x1,x1),dot(x2,x2)),0.0);vec2 m1=max(0.5-vec2(dot(x3,x3),dot(x4,x4)),0.0);vec3 temp0=-6.0*m0*m0*values0;vec2 temp1=-6.0*m1*m1*values1;vec3 mmm0=m0*m0*m0;vec2 mmm1=m1*m1*m1;float dx=temp0[0]*x0.x+temp0[1]*x1.x+temp0[2]*x2.x+temp1[0]*x3.x+temp1[1]*x4.x+mmm0[0]*p0.x+mmm0[1]*p1.x+mmm0[2]*p2.x+mmm1[0]*p3.x+mmm1[1]*p4.x;float dy=temp0[0]*x0.y+temp0[1]*x1.y+temp0[2]*x2.y+temp1[0]*x3.y+temp1[1]*x4.y+mmm0[0]*p0.y+mmm0[1]*p1.y+mmm0[2]*p2.y+mmm1[0]*p3.y+mmm1[1]*p4.y;float dz=temp0[0]*x0.z+temp0[1]*x1.z+temp0[2]*x2.z+temp1[0]*x3.z+temp1[1]*x4.z+mmm0[0]*p0.z+mmm0[1]*p1.z+mmm0[2]*p2.z+mmm1[0]*p3.z+mmm1[1]*p4.z;float dw=temp0[0]*x0.w+temp0[1]*x1.w+temp0[2]*x2.w+temp1[0]*x3.w+temp1[1]*x4.w+mmm0[0]*p0.w+mmm0[1]*p1.w+mmm0[2]*p2.w+mmm1[0]*p3.w+mmm1[1]*p4.w;return vec4(dx,dy,dz,dw)*49.0;}vec3 curl(in vec3 p,in float noiseTime,in float persistence){vec4 xNoisePotentialDerivatives=vec4(0.0);vec4 yNoisePotentialDerivatives=vec4(0.0);vec4 zNoisePotentialDerivatives=vec4(0.0);for(int i=0;i<3;++i){float twoPowI=pow(2.0,float(i));float scale=0.5*twoPowI*pow(persistence,float(i));xNoisePotentialDerivatives+=snoise4(vec4(p*twoPowI,noiseTime))*scale;yNoisePotentialDerivatives+=snoise4(vec4((p+vec3(123.4,129845.6,-1239.1))*twoPowI,noiseTime))*scale;zNoisePotentialDerivatives+=snoise4(vec4((p+vec3(-9519.0,9051.0,-123.0))*twoPowI,noiseTime))*scale;}return vec3(zNoisePotentialDerivatives[1]-yNoisePotentialDerivatives[2],xNoisePotentialDerivatives[2]-zNoisePotentialDerivatives[0],yNoisePotentialDerivatives[0]-xNoisePotentialDerivatives[1]);}float range(float oldValue,float oldMin,float oldMax,float newMin,float newMax){float oldRange=oldMax-oldMin;float newRange=newMax-newMin;return(((oldValue-oldMin)*newRange)/oldRange)+newMin;}vec2 range(vec2 oldValue,vec2 oldMin,vec2 oldMax,vec2 newMin,vec2 newMax){vec2 v;v.x=range(oldValue.x,oldMin.x,oldMax.x,newMin.x,newMax.x);v.y=range(oldValue.y,oldMin.y,oldMax.y,newMin.y,newMax.y);return v;}vec3 range(vec3 oldValue,vec3 oldMin,vec3 oldMax,vec3 newMin,vec3 newMax){vec3 v;v.x=range(oldValue.x,oldMin.x,oldMax.x,newMin.x,newMax.x);v.y=range(oldValue.y,oldMin.y,oldMax.y,newMin.y,newMax.y);v.z=range(oldValue.z,oldMin.z,oldMax.z,newMin.z,newMax.z);return v;}float scnoise(vec3 v){float t=v.z*0.3;v.y*=0.8;float noise=0.0;float s=0.5;noise+=range(sin(v.x*0.9/s+t*10.0)+sin(v.x*2.4/s+t*15.0)+sin(v.x*-3.5/s+t*4.0)+sin(v.x*-2.5/s+t*7.1),-1.0,1.0,-0.3,0.3);noise+=range(sin(v.y*-0.3/s+t*18.0)+sin(v.y*1.6/s+t*18.0)+sin(v.y*2.6/s+t*8.0)+sin(v.y*-2.6/s+t*4.5),-1.0,1.0,-0.3,0.3);return noise;}mat3 rotate3D(float angle,vec3 axis){axis=normalize(axis);float s=sin(angle);float c=cos(angle);float oc=1.0-c;return mat3(oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c);}void main(){vec2 uv=vUv;mat3 rotation3D=rotate3D(uRotationSpeed*uTime,vec3(0.0,1.0,0.0));vec4 originalPosFetch=texture2D(tOriginalTexture,uv);vec3 offsets=originalPosFetch.xyz;float staticParticle=originalPosFetch.w;vec4 position=texture2D(tTexture,uv);vec3 currentPos=position.xyz;vec3 target;target+=offsets*1.0;target=rotation3D*target;if(uCurl&&staticParticle<0.5){target+=curl(currentPos*uCurlSize,uTime*uCurlNoiseSpeed,0.1+(1.0-(vUv.y+vUv.x)*0.5)*0.1)*uCurlStrength;}vec4 earlyViewPosition=uViewMatrix*uModelMatrix*vec4(currentPos,1.0);vec4 earlyProjection=uProjectionMatrix*earlyViewPosition;vec2 screenPos=earlyProjection.xy/earlyProjection.w*0.5+0.5;vec3 fluidDisplacement=vec3(0.);fluidDisplacement=texture2D(tFluidSim,screenPos).rgb;fluidDisplacement.z*=-1.+1.;target+=fluidDisplacement*uFluidStrength;if(uSetup>0.5){currentPos=target;}currentPos+=(target-currentPos)*uLerpSpeed*uNormalizedDelta;gl_FragColor=vec4(currentPos,staticParticle);}`;class e6 extends co(){constructor(e={}){e=An({name:"CryptoOrbParticleSpheres",key:"inner",outerRadius:2,innerRadius:1,textureWidth:32,maxParticleCount:32*32,planeScale:.1,scene:null,scrollResponsiveness:1e-5,scrollMaxSpeed:.1},e),super(e),this._textureWidth=this.options.textureWidth,this.PARTICLE_COUNT=this._textureWidth*this._textureWidth,this.ACTIVE_PARTICLE_COUNT=this.PARTICLE_COUNT>this.options.maxParticleCount?this.options.maxParticleCount:this.PARTICLE_COUNT,this.sizeRange=[.5,1],this.scrollSpeedMultiplier=0}build(){this.numOfStaticParticles=this.assets.models.sphere.geometry.attributes.position.count,this.positionSim=new Qr({fragmentShader:Lce,width:this._textureWidth,height:this._textureWidth,uniforms:{uSetup:{value:1},uLerpSpeed:{value:.2,gui:{min:0,max:1,step:.001}},uCurl:{value:!0},uCurlSize:{value:.5,gui:{min:0,max:2,step:.01}},uCurlNoiseSpeed:{value:.3,gui:{min:0,max:2,step:.01}},uCurlStrength:{value:.03,gui:{min:0,max:2,step:.001}},uRotationSpeed:{value:.05,gui:{step:.001}},tFluidSim:{value:S.WebGL.fluidSim.advectionSimVelocity.texture},uFluidStrength:{value:.25,gui:{min:0,step:.001}},uModelMatrix:{value:new xt},uViewMatrix:{value:this.options.scene.activeCamera.matrixWorldInverse},uProjectionMatrix:{value:this.options.scene.activeCamera.projectionMatrix}},createTexture:!0,data:this.createParticlePositionData(),type:Zt}),this.positionSim.uniforms.uSetup.value=0,this.mesh=new wp(new ao(this.options.planeScale,this.options.planeScale),new Bce,this.ACTIVE_PARTICLE_COUNT),this.add(this.mesh);const e=[],t=new Float32Array(this.ACTIVE_PARTICLE_COUNT),i=new jt;for(let r=0;r<this.ACTIVE_PARTICLE_COUNT;r++)i.updateMatrix(),this.mesh.setMatrixAt(r,i.matrix),e.push(Math.random(),Math.random(),Math.random()),t[r]=gn.randFloat(this.sizeRange[0],this.sizeRange[1]);this.mesh.geometry.setAttribute("aFboUv",this.positionSim.fboUv.attributeInstanced),this.mesh.geometry.setAttribute("aRandom",new Do(new Float32Array(e),3)),this.mesh.geometry.setAttribute("aScale",new Do(t,1)),this.mesh.updateMatrix(),this.positionSim.uniforms.uModelMatrix.value=this.mesh.matrixWorld}createParticlePositionData(){const e=new Float32Array(this._textureWidth*this._textureWidth*4),t=this.assets.models.sphere.geometry.attributes.position.array,i=this.options.key==="inner"?this.options.innerRadius:this.options.outerRadius;for(let r=0,s=this._textureWidth*this._textureWidth*4;r<s;r+=4)if(r/4<this.numOfStaticParticles)e[r]=t[r/4*3+0],e[r+1]=t[r/4*3+1],e[r+2]=t[r/4*3+2],e[r+3]=1;else{const a=Math.random(),l=Math.random(),c=2*Math.PI*a,u=Math.acos(2*l-1);e[r]=Math.sin(u)*Math.cos(c)*i,e[r+1]=Math.sin(u)*Math.sin(c)*i,e[r+2]=Math.cos(u)*i,e[r+3]=0}return e}update(){this.positionSim.uniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture,this.positionSim.uniforms.uModelMatrix.value.copy(this.mesh.matrixWorld),this.positionSim.uniforms.uViewMatrix.value.copy(this.options.scene.activeCamera.matrixWorldInverse),this.positionSim.uniforms.uProjectionMatrix.value.copy(this.options.scene.activeCamera.projectionMatrix),this.updateScrollRotation(this.options.scene.scrollVelocity),this.positionSim.update(),this.mesh.material.uniforms.tPosition.value=this.positionSim.texture,this.mesh.rotation.y+=1*this.scrollSpeedMultiplier}updateScrollRotation(e){this.scrollSpeedMultiplier=0+Math.abs(e)*this.options.scrollResponsiveness,this.scrollSpeedMultiplier=gn.clamp(this.scrollSpeedMultiplier,0,this.options.scrollMaxSpeed)}addGui(){const e={visible:this.mesh.visible,count:Te.types.number(this.mesh.count,{label:"Particle Count",nudgeMultiplier:1,range:[0,this.ACTIVE_PARTICLE_COUNT]}),material:{},simulation:{}},t=[],i=["uSetup","uTexelSize","uSpeedMultiplier"],r=S.theatre.helper.autoAddUniforms(e.material,this.mesh.material.uniforms,t),s=S.theatre.helper.autoAddUniforms(e.simulation,this.positionSim.uniforms,i);S.theatre.helper.addSheetObject(this.parent.prettyName,`${this.options.name} / ${this.options.key}`,e,this).onValuesChange(a=>{for(let l=0;l<r.length;l++)r[l](this,a.material);for(let l=0;l<s.length;l++)s[l](this,a.simulation);this.mesh.visible=a.visible,this.mesh.count=a.count},S.theatre.rafDriver)}load(){S.AssetLoader.loadGltf(`/webgl/models/crypto-${this.options.key}-sphere-points.glb`).then(e=>{this.assets.models.sphere=e.scene.children[0]})}destroy(){var e;this.positionSim.destroy(),this.mesh.geometry.dispose(),this.mesh.material.dispose(),this.remove(this.mesh),this.parent.remove(this),this.assets.models.sphere.geometry.dispose(),(e=this.assets.models.sphere.material)==null||e.dispose(),this.scrollSpeedMultiplier=0}}class Fce extends lo{constructor(t={}){t=An({materialOpts:{transmission:1,roughness:.1,thickness:1,color:16777215,dispersion:1,ior:1.5,attenuationDistance:200},customUniforms:{uFresnelAmount:{value:3,gui:{min:0,max:100,step:.01}},uFresnelOffset:{value:.05,gui:{min:0,max:1,step:.001}},uFresnelFalloff:{value:1.5,gui:{min:0,max:100,step:.01}}},backgroundSavePass:null},t);super(t.materialOpts);pe(this,"onBeforeCompile",t=>{Object.assign(t.uniforms,{...this.customUniforms,tBackgroundPass:{value:this.backgroundSavePass.renderTarget.texture}}),t.vertexShader=t.vertexShader.replace("#include <normal_pars_vertex>",`
			#include <normal_pars_vertex>
			varying vec3 vView;
			varying vec3 vNormalFresnel;
			`),t.vertexShader=t.vertexShader.replace("#include <worldpos_vertex>",`
			#include <worldpos_vertex>
			vView = normalize(cameraPosition - worldPosition.xyz); // view direction in object space
			vNormalFresnel = normalize((modelMatrix * vec4(normal, 0.0)).xyz); // normalized object space normals
			`),t.fragmentShader=t.fragmentShader.replace("#include <roughnessmap_pars_fragment>",`
			#include <roughnessmap_pars_fragment>

			uniform float uFresnelAmount;
			uniform float uFresnelOffset;
			uniform float uFresnelFalloff;
			varying vec3 vView;
			varying vec3 vNormalFresnel;

			float fresnelFunc(float amount, float offset, float falloff, vec3 normal, vec3 view) {
				return clamp(offset + (1.0 - offset) * pow(1.0 - dot(normal, view), amount) * falloff, 0., 1.);
			}
			`),t.fragmentShader=t.fragmentShader.replace("#include <normal_fragment_begin>",`
			#include <normal_fragment_begin>
			vec3 viewDir = normalize(vView);
			float fresnel = fresnelFunc(uFresnelAmount, uFresnelOffset, uFresnelFalloff, normalize(vNormalFresnel), viewDir);
			roughnessFactor *= fresnel;
			`),t.fragmentShader=t.fragmentShader.replace("#include <transmission_pars_fragment>",`
			uniform sampler2D tBackgroundPass;

				uniform float transmission;
				uniform float thickness;
				uniform float attenuationDistance;
				uniform vec3 attenuationColor;
				#ifdef USE_TRANSMISSIONMAP
					uniform sampler2D transmissionMap;
				#endif
				#ifdef USE_THICKNESSMAP
					uniform sampler2D thicknessMap;
				#endif
				uniform vec2 transmissionSamplerSize;
				uniform sampler2D transmissionSamplerMap;
				uniform mat4 modelMatrix;
				uniform mat4 projectionMatrix;
				varying vec3 vWorldPosition;
				float w0( float a ) {
					return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
				}
				float w1( float a ) {
					return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
				}
				float w2( float a ) {
					return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
				}
				float w3( float a ) {
					return ( 1.0 / 6.0 ) * ( a * a * a );
				}
				float g0( float a ) {
					return w0( a ) + w1( a );
				}
				float g1( float a ) {
					return w2( a ) + w3( a );
				}
				float h0( float a ) {
					return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
				}
				float h1( float a ) {
					return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
				}
				vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
					uv = uv * texelSize.zw + 0.5;
					vec2 iuv = floor( uv );
					vec2 fuv = fract( uv );
					float g0x = g0( fuv.x );
					float g1x = g1( fuv.x );
					float h0x = h0( fuv.x );
					float h1x = h1( fuv.x );
					float h0y = h0( fuv.y );
					float h1y = h1( fuv.y );
					vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
					vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
					vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
					vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
					return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
					g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
				}
				vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
					vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
					vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
					vec2 fLodSizeInv = 1.0 / fLodSize;
					vec2 cLodSizeInv = 1.0 / cLodSize;
					vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
					vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
					return mix( fSample, cSample, fract( lod ) );
				}
				vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
					vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
					vec3 modelScale;
					modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
					modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
					modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
					return normalize( refractionVector ) * thickness * modelScale;
				}
				float applyIorToRoughness( const in float roughness, const in float ior ) {
					return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
				}
				vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
					float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
					return textureBicubic( tBackgroundPass, fragCoord.xy, lod );
				}
				vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
					if ( isinf( attenuationDistance ) ) {
						return vec3( 1.0 );
					}
					else {
						vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
						vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );
						return transmittance;
					}
				
				}
				vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor, const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix, const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness, const in vec3 attenuationColor, const in float attenuationDistance ) {
					vec4 transmittedLight;
					vec3 transmittance;
					#ifdef USE_DISPERSION
						float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
						vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
						for ( int i = 0; i < 3; i ++ ) {
							vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
							vec3 refractedRayExit = position + transmissionRay;
							vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
							vec2 refractionCoords = ndcPos.xy / ndcPos.w;
							refractionCoords += 1.0;
							refractionCoords /= 2.0;
							vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
							transmittedLight[ i ] = transmissionSample[ i ];
							transmittedLight.a += transmissionSample.a;
							transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
						}
						transmittedLight.a /= 3.0;
					#else
						vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
						vec3 refractedRayExit = position + transmissionRay;
						vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
						vec2 refractionCoords = ndcPos.xy / ndcPos.w;
						refractionCoords += 1.0;
						refractionCoords /= 2.0;
						transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
						transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
					#endif
					vec3 attenuatedColor = transmittance * transmittedLight.rgb;
					vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
					float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
					return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
				}
			`)});this.backgroundSavePass=t.backgroundSavePass,this.customUniforms=t.customUniforms}}class Oce extends co(Qe){constructor(e={}){e=An({name:"CryptoOrbGlassSphere",speed:0},e),super(e,new Vd(2.38,32,32))}build(){this.material=new Fce({materialOpts:{transmission:1,roughness:.1,thickness:1,color:16777215,dispersion:1,ior:1.5,reflectivity:.5,attenuationDistance:200,envMap:this.assets.textures.envmap,envMapRotation:new Di(0,0,0)},customUniforms:{uFresnelAmount:{value:3,gui:{min:0,max:100,step:.01}},uFresnelOffset:{value:.05,gui:{min:0,max:1,step:.001}},uFresnelFalloff:{value:1.5,gui:{min:0,max:100,step:.01}}},backgroundSavePass:this.parent.backgroundSavePass})}update(){}onBeforeRender(){S.WebGL.renderer.clear(!1,!0,!1)}addGui(){const e={material:{fresnelAmount:Te.types.number(this.material.customUniforms.uFresnelAmount.value,{range:[0,100],nudgeMultiplier:.01}),fresnelOffset:Te.types.number(this.material.customUniforms.uFresnelOffset.value,{range:[0,1],nudgeMultiplier:.001}),fresnelFalloff:Te.types.number(this.material.customUniforms.uFresnelFalloff.value,{range:[0,100],nudgeMultiplier:.01})}};S.theatre.helper.autoAddObject(this,this.parent.prettyName,{additionalConfig:e}).onValuesChange(i=>{this.material.customUniforms.uFresnelAmount.value=i.material.fresnelAmount,this.material.customUniforms.uFresnelOffset.value=i.material.fresnelOffset,this.material.customUniforms.uFresnelFalloff.value=i.material.fresnelFalloff},S.theatre.rafDriver)}load(){S.AssetLoader.loadTexture("/webgl/textures/studio-env.png",{mapping:$a,wrapping:ts,colorSpace:En}).then(e=>{this.assets.textures.envmap=e})}}var Uce=`#include <default_pars>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
uniform float uLineWidth;uniform vec2 uResolution;uniform vec2 uMouse;uniform float uMouseRadius;uniform float uMouseFresnelAmount;uniform float uMouseFresnelOffset;uniform float uMouseFresnelFalloff;attribute vec3 instanceStart;attribute vec3 instanceEnd;varying float vMouseInfluence;varying float vVertIndex;attribute float instanceIndexStart;attribute float instanceIndexEnd;varying float vRandom;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
varying vec2 vUv;varying float vPositionY;attribute float instanceDistanceStart;attribute float instanceDistanceEnd;varying float vLineDistance;uniform float uTime;void trimSegment(const in vec4 start,inout vec4 end){float a=projectionMatrix[2][2];float b=projectionMatrix[3][2];float nearEstimate=-0.5*b/a;float alpha=(nearEstimate-start.z)/(end.z-start.z);end.xyz=mix(start.xyz,end.xyz,alpha);}vec4 rotationQuat(const in vec3 axis,const in float angle){vec3 axisNorm=normalize(axis);return vec4(axisNorm*sin(angle/2.0),cos(angle/2.0));}mat3 rotationMatrix(const in vec4 q){float x=q.x;float y=q.y;float z=q.z;float w=q.w;float x2=x+x;float y2=y+y;float z2=z+z;float xx=x*x2;float xy=x*y2;float xz=x*z2;float yy=y*y2;float yz=y*z2;float zz=z*z2;float wx=w*x2;float wy=w*y2;float wz=w*z2;return mat3(1.0-(yy+zz),xy+wz,xz-wy,xy-wz,1.0-(xx+zz),yz+wx,xz+wy,yz-wx,1.0-(xx+yy));}float rand(float p){return fract(sin(p)*43758.5453123);}float fresnelFunc(float amount,float offset,float falloff,vec3 normal,vec3 view){return clamp(offset+(1.0-offset)*pow(1.0-dot(normal,view),amount)*falloff,0.,1.);}void main(){vUv=uv;vPositionY=position.y;vVertIndex=(position.y<0.5)? instanceIndexStart : instanceIndexEnd;vLineDistance=(position.y<0.5)? instanceDistanceStart : instanceDistanceEnd;float aspect=uResolution.x/uResolution.y;vec4 start=viewMatrix*modelMatrix*vec4(instanceStart,1.0);vec4 end=viewMatrix*modelMatrix*vec4(instanceEnd,1.0);
#ifdef WORLD_UNITS
worldStart=start.xyz;worldEnd=end.xyz;
#endif
bool perspective=(projectionMatrix[2][3]==-1.0);if(perspective){if(start.z<0.0&&end.z>=0.0){trimSegment(start,end);}else if(end.z<0.0&&start.z>=0.0){trimSegment(end,start);}}vec4 clipStart=projectionMatrix*start;vec4 clipEnd=projectionMatrix*end;vec3 ndcStart=clipStart.xyz/clipStart.w;vec3 ndcEnd=clipEnd.xyz/clipEnd.w;vec2 dir=ndcEnd.xy-ndcStart.xy;dir.x*=aspect;dir=normalize(dir);
#ifdef WORLD_UNITS
vec3 worldDir=normalize(end.xyz-start.xyz);vec3 tmpFwd=normalize(mix(start.xyz,end.xyz,0.5));vec3 worldUp=normalize(cross(worldDir,tmpFwd));vec3 worldFwd=cross(worldDir,worldUp);worldPos=position.y<0.5 ? start: end;float hw=uLineWidth*0.5;worldPos.xyz+=position.x<0.0 ? hw*worldUp :-hw*worldUp;worldPos.xyz+=position.y<0.5 ?-hw*worldDir : hw*worldDir;worldPos.xyz+=worldFwd*hw;if(position.y>1.0||position.y<0.0){worldPos.xyz-=worldFwd*2.0*hw;}vec4 clip=projectionMatrix*worldPos;vec3 clipPose=(position.y<0.5)? ndcStart : ndcEnd;clip.z=clipPose.z*clip.w;
#else
vec2 offset=vec2(dir.y,-dir.x);dir.x/=aspect;offset.x/=aspect;if(position.x<0.0)offset*=-1.0;if(position.y<0.0){offset+=-dir;}else if(position.y>1.0){offset+=dir;}offset*=uLineWidth;offset/=uResolution.y;vec4 clip=(position.y<0.5)? clipStart : clipEnd;offset*=clip.w;clip.xy+=offset;
#endif
gl_Position=clip;vec2 screenSpace=gl_Position.xy/gl_Position.w*0.5+vec2(0.5);float dist=distance(screenSpace,uMouse);vMouseInfluence=1.0-smoothstep(0.01,uMouseRadius,dist);vec3 viewDir=-worldPos.xyz;vec3 fakePos=(position.y<0.5)? instanceStart : instanceEnd;vec3 fakeNormal=normalize(modelMatrix*vec4(normalize(fakePos),1.0)).rgb;float fresnel=max(0.0,1.0-fresnelFunc(uMouseFresnelAmount,uMouseFresnelOffset,uMouseFresnelFalloff,fakeNormal,viewDir));vMouseInfluence*=fresnel;vec4 mvPosition=(position.y<0.5)? start : end;
#include <logdepthbuf_vertex>
#include <clipping_planes_vertex>
}`,Nce=`#include <default_pars>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
uniform vec3 uBaseColor;uniform vec3 uHoverColor;uniform float uOpacity;uniform float uLineWidth;varying float vMouseInfluence;varying float vLineDistance;varying float vVertIndex;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
varying vec2 vUv;varying float vPositionY;vec2 closestLineToLine(vec3 p1,vec3 p2,vec3 p3,vec3 p4){float mua;float mub;vec3 p13=p1-p3;vec3 p43=p4-p3;vec3 p21=p2-p1;float d1343=dot(p13,p43);float d4321=dot(p43,p21);float d1321=dot(p13,p21);float d4343=dot(p43,p43);float d2121=dot(p21,p21);float denom=d2121*d4343-d4321*d4321;float numer=d1343*d4321-d1321*d4343;mua=numer/denom;mua=clamp(mua,0.0,1.0);mub=(d1343+d4321*(mua))/d4343;mub=clamp(mub,0.0,1.0);return vec2(mua,mub);}float easeOutExpo(float t){return 1.0-pow(2.0,-10.0*t);}float easeOutExpo(float t,float power){return 1.0-pow(2.0,-power*t);}float easeOutCubic(float t){return 1.0-pow(1.0-t,3.0);}float easeOutLinear(float t){return 1.0-t;}float easeInExpo(float t,float power){return pow(2.0,power*(t-1.0));}float rand(const in float n){return fract(sin(n)*43758.5453123);}void main(){
#include <clipping_planes_fragment>
float alpha=uOpacity;
#ifdef WORLD_UNITS
vec3 rayEnd=normalize(worldPos.xyz)*1e5;vec3 lineDir=worldEnd-worldStart;vec2 params=closestLineToLine(worldStart,worldEnd,vec3(0.0,0.0,0.0),rayEnd);vec3 p1=worldStart+lineDir*params.x;vec3 p2=rayEnd*params.y;vec3 delta=p1-p2;float len=length(delta);float norm=len/uLineWidth;
#ifdef USE_ALPHA_TO_COVERAGE
float dnorm=fwidth(norm);alpha=1.0-smoothstep(0.5-dnorm,0.5+dnorm,norm);
#else
if(norm>0.5){discard;}
#endif
#else
#ifdef USE_ALPHA_TO_COVERAGE
float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;float dlen=fwidth(len2);if(abs(vUv.y)>1.0){alpha=1.0-smoothstep(1.0-dlen,1.0+dlen,len2);}
#else
if(abs(vUv.y)>1.0){float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;if(len2>1.0)discard;}
#endif
#endif
#include <logdepthbuf_fragment>
gl_FragColor.a=alpha;gl_FragColor.rgb=uBaseColor*5.;gl_FragColor.rgb=mix(gl_FragColor.rgb,uHoverColor*5.0,vMouseInfluence);
#include <tonemapping_fragment>
#include <colorspace_fragment>
#include <premultiplied_alpha_fragment>
}`;class kce extends is{constructor(e={}){e=An({vertexShader:Uce,fragmentShader:Nce,uniforms:{uMouse:{value:new De(-10,-10)},uOpacity:{value:1,gui:{min:0,max:1,step:.1}}},defines:{WORLD_UNITS:!0},transparent:!0,depthTest:!1},e),super(e)}}class zce extends co(){constructor(e={}){e=An({name:"hover-line",key:"hover",speed:0,scrollResponsiveness:.5,scrollMaxSpeed:10},e),super(e),this.globalUniforms={uLineWidth:{value:.008,gui:{min:0,max:.1,step:.001}},uBaseColor:{value:new ke(15855337)},uHoverColor:{value:new ke(0)},uMouseRadius:{value:.1,gui:{min:0,step:.01}},uMouseFresnelAmount:{value:3,gui:{min:0,max:100,step:.01}},uMouseFresnelOffset:{value:.01,gui:{min:0,max:1,step:.001}},uMouseFresnelFalloff:{value:.1,gui:{min:0,max:100,step:.01}}},this.getOffsetFunction=this.getNameOffset,this.pointerPos=new De(-10,-10),this.targetPointerPos=new De(-10,-10),this.scrollSpeedMultiplier=1}getNameOffset(e){return gn.mapLinear(gn.seededRandom(42342+Object.keys(this.lineData).filter(t=>t.startsWith(e.split("-")[0])).length+Object.keys(this.lineData).indexOf(e.split("-")[0]+"-001")),0,1,.5,1)}getRandomOffset(e){return gn.mapLinear(gn.seededRandom(e.split("-")[0].split("extended")[1]+45468),0,1,.2,1)}build(e){this.lineData=Object.keys(e.paths).filter(a=>a.startsWith(this.options.key)).reduce((a,l)=>(a[l]=e.paths[l],a),{});const t=[],i=[];for(const a in this.lineData){const l=this.lineData[a][0];for(let c=0;c<l.length-1;c++){const u=l[c],f=l[c+1];t.push(u[0],u[1],u[2]),t.push(f[0],f[1],f[2]),i.push(c/(l.length-1)),i.push((c+1)/(l.length-1))}}const r=new Ld().setPositions(t),s=new Float32Array(i),o=new Yr(s,2,1);r.setAttribute("instanceIndexStart",new fn(o,1,0)),r.setAttribute("instanceIndexEnd",new fn(o,1,1)),this.line=new tp(r,new kce({uniforms:{...this.globalUniforms},defines:{}})),this.line.name=`${this.options.name} / Line`,this.line.computeLineDistances(),this.line.scale.set(1,1,1),this.add(this.line),this.scene=this.parent}update(){S.pointer.glScreenSpace.equals(this.targetPointerPos)||(this.targetPointerPos.copy(S.pointer.glScreenSpace),this.pointerPos.x===-10&&this.pointerPos.y===-10&&this.pointerPos.copy(this.targetPointerPos)),this.pointerPos.lerp(this.targetPointerPos,.08),this.line.material.uniforms.uMouse.value.copy(this.pointerPos),this.updateScrollRotation(this.scene.scrollVelocity),this.line.rotation.y+=this.options.speed+this.scrollSpeedMultiplier}updateScrollRotation(e){this.scrollSpeedMultiplier=Math.abs(e)*this.options.scrollResponsiveness,this.scrollSpeedMultiplier=gn.clamp(this.scrollSpeedMultiplier,0,this.options.scrollMaxSpeed)}addGui(){S.theatre.helper.autoAddObject(this.line,this.parent.prettyName,{exclude:["uMouse",...Object.keys(this.globalUniforms)]});const e={},t=S.theatre.helper.autoAddUniforms(e,this.globalUniforms,["uTheatreTime"]);S.theatre.helper.addSheetObject(this.parent.prettyName,`${this.options.name} / Global`,e,this).onValuesChange(r=>{for(let s=0;s<t.length;s++)t[s](this,r)},S.theatre.rafDriver)}destroy(){super.destroy(),this.remove(this.line),this.line.geometry.dispose(),this.line.material.dispose(),this.parent.remove(this),this.pointerPos.set(-10,-10),this.targetPointerPos.set(-10,-10),this.scrollSpeedMultiplier=1}}const t6=Object.assign({"/public/webgl/crypto-orb.unseen":xce});class Hce extends cc{constructor(){super("crypto-orb",{domId:"crypto",domAlign:"left"}),Object.assign(this.components,{lines:new Ece({speed:.001,scrollResponsiveness:1e-5,scrollMaxSpeed:3}),connectingLines:new Dce({speed:.001,scrollResponsiveness:1e-5,scrollMaxSpeed:3}),hoverLines:new zce({speed:.001,scrollResponsiveness:1e-5,scrollMaxSpeed:3}),innerParticleSphere:new e6({scene:this,scrollResponsiveness:7e-6,scrollMaxSpeed:.15}),outerParticleSphere:new e6({key:"outer",scene:this,scrollResponsiveness:7e-6,scrollMaxSpeed:.3}),glassSphere:new Oce}),this.glassObjectsScene=new Wa,this.glassObjectsScene.name=this.prettyName,this.scrollVelocity=0}start(){super.start(),this.renderPassOrbObjects.enabled=!0,this.backgroundSavePass.enabled=!0}stop(){super.stop(),this.renderPassOrbObjects.enabled=!1,this.backgroundSavePass.enabled=!1}update(){this.sectionScroll&&(this.scrollVelocity=gn.lerp(this.scrollVelocity,this.sectionScroll.getVelocity(),.05)),super.update()}build(){super.build(),this.glassObjectsScene.add(this.backgroundSphere),this.glassObjectsScene.add(this.components.lines),this.glassObjectsScene.add(this.components.connectingLines),this.glassObjectsScene.add(this.components.hoverLines),this.glassObjectsScene.add(this.components.innerParticleSphere),this.glassObjectsScene.add(this.components.outerParticleSphere)}buildPasses(){super.buildPasses(),this.renderPass.clear=!1,this.renderPass.clearDepth=!0,this.renderPassOrbObjects=new h4(this.glassObjectsScene,this.activeCamera),this.renderPassOrbObjects.name=`${this.name} Render Orb Objects`,this.renderPassOrbObjects.enabled=!1,this.backgroundSavePass=new p4(new ai(S.window.w*S.WebGL.renderer.getPixelRatio(),S.window.h*S.WebGL.renderer.getPixelRatio(),{type:nn,generateMipmaps:!0,minFilter:Qx})),this.backgroundSavePass.name=`${this.name} Background Save`,this.backgroundSavePass.enabled=!1,this.backgroundSavePass.renderTarget.setSize(S.window.w*S.WebGL.renderer.getPixelRatio(),S.window.h*S.WebGL.renderer.getPixelRatio()),S.WebGL.composerPasses.add(this.renderPassOrbObjects,S.WebGL.composerPassOrder[this.name]+2),S.WebGL.composerPasses.add(this.backgroundSavePass,S.WebGL.composerPassOrder[this.name]+3)}load(){for(const e in t6)this.objectData=t6[e];this.objectData=JSON.parse(this.objectData)}destroy(){super.destroy(),this.renderPassOrbObjects.dispose(),this.backgroundSavePass.dispose(),this.scrollVelocity=0}}var Vce=`#include <default_pars>
#include <normals_tangents_vert_pars>
#include <world_position_transform_vert_pars>
attribute float _len;attribute float _strand_1;attribute float _strand_2;attribute float _bundle;varying vec2 vUv;varying float vLen;varying float vStrand1;varying float vStrand2;varying float vBundle;uniform float uTime;uniform sampler2D tFluidSim;float luminance(const in vec3 rgb){const vec3 weights=vec3(0.2126,0.7152,0.0722);return dot(weights,rgb);}void main(){vUv=uv;vLen=_len;vStrand1=_strand_1;vStrand2=_strand_2;vBundle=_bundle;vec4 transformedPosition=vec4(position,1.0);vec4 earlyProjection=projectionMatrix*modelViewMatrix*vec4(position,1.);vec2 screenSpace=earlyProjection.xy/earlyProjection.w*vec2(0.5,0.5)+vec2(0.5,0.5);vec3 fluidColor=texture2D(tFluidSim,screenSpace).rgb;float fluid=luminance(abs(fluidColor));fluid=smoothstep(-1.,1.5,fluid)-0.5;fluid*=0.15;vec3 dirToCenter=normalize(position-vec3(0.0,0.0,0.0));
#ifndef MAIN_ORB
transformedPosition.xyz+=vec3(fluid)*dirToCenter;
#endif
#include <normals_tangents_vert>
#include <instance_offset_vert>
/***Do any overall instance transformations(after instance offsets are applied)here*aka transform instances uniformly in "local" instance MESH space**With non-instanced meshes this is equal to local transform**e.g. transformedPosition.y=transformedPosition.y+sin(uTime*2.)*5.;*/
#include <world_position_transform_vert>
/***Do any world transformations here**e.g. worldPosition.y=worldPosition.y+sin(uTime*2.)*5.;*/
#include <mv_position_transform_vert>
#include <varyings_vert>
gl_Position=projectionMatrix*mvPosition;}`,Gce=`#include <default_pars>
#include <default_frag_pars>
#include <dynamic_frag_pars>
#include <tonemapping_pars_fragment>
uniform int uToneMapping;varying vec2 vUv;varying float vLen;varying float vStrand1;varying float vStrand2;varying float vBundle;uniform float uTime;uniform vec3 uHighlightColor;uniform float uHighlightPower;uniform float uMatcapContrast;uniform float uFillLength;uniform float uEndFadeLength;uniform float uStartFadeLength;uniform float uFillRepeat;uniform float uBundleOffset;uniform float uStrandOffset;uniform float uFadeContrast;uniform float uSpeed;uniform float uRevealProgress;uniform vec2 uResolution;uniform sampler2D tFluidSim;vec3 loopingThreshold(float progress,float fillLength,float startFade,float endFade,float repeat){float progressModulo=fract(progress*repeat);progressModulo=smoothstep(0.0,fillLength,progressModulo);float startThreshold=smoothstep(0.0,startFade,progressModulo);float endThreshold=smoothstep(1.-endFade,1.0,progressModulo);return vec3(startThreshold-endThreshold,startThreshold,endThreshold);}void main(){
#include <dynamic_frag>
gl_FragColor.rgb=pow(gl_FragColor.rgb,vec3(uMatcapContrast+(vStrand1*2.-1.)*0.1));gl_FragColor.rgb*=uColor;float time;float len;
#ifdef MAIN_ORB
len=vLen;time=uTime*(uSpeed+vBundle*0.1)+vBundle*uBundleOffset+vStrand2*uStrandOffset;
#else
len=vLen;time=uTime*uSpeed+vBundle*uBundleOffset;
#endif
float progress=len+time+sin(uTime*2.+vBundle*24.392)*0.05;vec3 thresholds=loopingThreshold(mod(progress,1.0),uFillLength,uStartFadeLength+vStrand1*0.1,uEndFadeLength,uFillRepeat+floor(vBundle*vBundle));vec3 highlightColor=pow(uHighlightColor,vec3(map(vStrand1,0.,1.,0.3,2.)));highlightColor=gl_FragColor.rgb*highlightColor;highlightColor+=highlightColor*(1.-pow(uHighlightColor,vec3(1.-thresholds.y)*uFadeContrast))*uHighlightPower*(1.-thresholds.y);gl_FragColor.rgb=mix(gl_FragColor.rgb,highlightColor,1.-thresholds.y);float backsideFade=smoothstep(-2.5,0.,vWorldPosition.z);gl_FragColor.a*=backsideFade;
#ifdef MAIN_ORB
vec2 screenCoords=gl_FragCoord.xy/uResolution.xy;vec3 fluidColor=texture2D(tFluidSim,screenCoords).rgb;float fluid=luminance(abs(fluidColor.rgb));fluid=smoothstep(0.,1.,fluid);fluid*=1.;gl_FragColor.rgb=pow(gl_FragColor.rgb,vec3(1.+fluid*1.));
#endif
#ifdef MAIN_ORB
if(1.-(vLen+vStrand1*0.1+vBundle*0.1)>map(uRevealProgress,0.,1.,-0.2,1.2))discard;
#else
if(1.-(vLen+vBundle*0.1)>map(uRevealProgress,0.,1.,-0.1,1.1))discard;
#endif
if(thresholds.x<0.01)discard;
#include <tonemapping_frag>
#include <colorspace_fragment>
}`,Qce=`#include <default_pars>
#include <normals_tangents_vert_pars>
#include <world_position_transform_vert_pars>
varying vec2 vUv;uniform float uTime;mat4 rotationMatrix(vec3 axis,float angle){axis=normalize(axis);float s=sin(angle);float c=cos(angle);float oc=1.0-c;return mat4(oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,0.0,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,0.0,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c,0.0,0.0,0.0,0.0,1.0);}void main(){vUv=uv;vec4 transformedPosition=vec4(position,1.0);
#include <normals_tangents_vert>
#include <instance_offset_vert>
/***Do any overall instance transformations(after instance offsets are applied)here*aka transform instances uniformly in "local" instance MESH space**With non-instanced meshes this is equal to local transform**e.g. transformedPosition.y=transformedPosition.y+sin(uTime*2.)*5.;*/
#include <world_position_transform_vert>
/***Do any world transformations here**e.g. worldPosition.y=worldPosition.y+sin(uTime*2.)*5.;*/
#include <mv_position_transform_vert>
#include <varyings_vert>
gl_Position=projectionMatrix*mvPosition;}`,jce=`#include <default_pars>
#include <default_frag_pars>
#include <dynamic_frag_pars>
#include <tonemapping_pars_fragment>
uniform int uToneMapping;varying vec2 vUv;void main(){
#include <dynamic_frag>
#include <tonemapping_frag>
#include <colorspace_fragment>
}`;class NA extends is{constructor(e={},t){e=An({vertexShader:Qce,fragmentShader:jce,uniforms:{tDiffuse:{value:new xn},uDiffuseScale:{value:1},tNormal:{value:new xn},uNormalScale:{value:1},uNormalStrength:{value:1,gui:{min:0,max:1,step:.001}},tMatcap:{value:new xn},tEnvMap:{value:null},uEnvMapStrength:{value:1.6,gui:{min:0,step:.001}},uDiffuseMatcapBlend:{value:1,gui:{min:0,max:1,step:.001}},tRoughness:{value:new xn},uRoughness:{value:1,gui:{min:0,max:1,step:.001}},uRoughnessScale:{value:1},tMetalness:{value:new xn},uMetalness:{value:0,gui:{min:0,max:1,step:.001}},uMetalnessScale:{value:1},uSpecularIntensity:{value:1,gui:{min:0,max:10,step:.001}},uSpecularColor:{value:new ke(16777215)},uIOR:{value:1.5,gui:{min:0,max:2.33,step:.001}},uColor:{value:new ke(16777215)},uEmissiveColor:{value:new ke(0)},uOpacity:{value:1,gui:{min:0,max:1,step:.001}},tLightMap:{value:new xn},uLightMapIntensity:{value:0,gui:{min:0,step:.01}},tEmissiveMap:{value:new xn},uMatcapBlendMode:{value:5,gui:{min:0,max:5,step:1}},toneMappingExposure:{value:1},uToneMapping:{value:3}},defines:{USE_DIFFUSE:!1,USE_NORMAL:!1,USE_MATCAP:!1,USE_ENV:!1,USE_ROUGH:!1,USE_METALNESS:!1,USE_EMISSIVEMAP:!1,USE_LIGHTMAP:!1,USE_TONEMAPPING:!1,USE_UDIMS:!1}},e),super(e),this.scene=t,this.generatePMREMDefines()}generatePMREMDefines(){if(this.defines.CUBEUV_TEXEL_WIDTH&&this.defines.CUBEUV_TEXEL_HEIGHT&&this.defines.CUBEUV_MAX_MIP||!this.uniforms.tEnvMap.value)return;const e=S.WebGL.pmremHandler.generateShaderDefines(this.uniforms.tEnvMap.value);this.defines=Object.assign(this.defines,e)}applyMaterialProperties(e,t){Object.values(e.material).length>0&&(e.material.metallic&&(this.uniforms.uMetalness.value=e.material.metallic),e.material.roughness&&(this.uniforms.uRoughness.value=e.material.roughness),e.material.ior&&(this.uniforms.uIOR.value=e.material.ior),e.material.specular&&(this.uniforms.uSpecularIntensity.value=e.material.specular),e.material.alpha&&(this.uniforms.uOpacity.value=e.material.alpha),e.material.alpha<1&&(this.transparent=!0)),Object.values(e.textures).length>0&&(e.textures["base-color"]&&!Array.isArray(e.textures["base-color"])&&(this.uniforms.tDiffuse.value=t["base-color"]),e.textures.normal&&!Array.isArray(e.textures.normal)&&(this.uniforms.tNormal.value=t.normal),e.textures.metallic&&!Array.isArray(e.textures.metallic)&&(this.uniforms.tMetalness.value=t.metallic),e.textures.roughness&&!Array.isArray(e.textures.roughness)&&(this.uniforms.tRoughness.value=t.roughness,this.uniforms.uRoughness.value=1))}}var Wce=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#define saturate( a ) clamp( a, 0.0, 1.0 )
float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}
#if defined(USE_ENV) || defined(USE_FOG)
#include <cubeUVreflectionFrag>
#endif
vec3 transformDirection(in vec3 dir,in mat4 matrix){return normalize((matrix*vec4(dir,0.0)).xyz);}vec3 inverseTransformDirection(in vec3 dir,in mat4 matrix){return normalize((vec4(dir,0.0)*matrix).xyz);}`,qce=`float blendSoftLight(float base,float blend){return(blend<0.5)?(2.0*base*blend+base*base*(1.0-2.0*blend)):(sqrt(base)*(2.0*blend-1.0)+2.0*base*(1.0-blend));}vec3 blendSoftLight(vec3 base,vec3 blend){return vec3(blendSoftLight(base.r,blend.r),blendSoftLight(base.g,blend.g),blendSoftLight(base.b,blend.b));}vec3 blendSoftLight(vec3 base,vec3 blend,float opacity){return(blendSoftLight(base,blend)*opacity+base*(1.0-opacity));}float blendLinearBurn(float base,float blend){return max(base+blend-1.0,0.0);}vec3 blendLinearBurn(vec3 base,vec3 blend){return max(base+blend-vec3(1.0),vec3(0.0));}vec3 blendLinearBurn(vec3 base,vec3 blend,float opacity){return(blendLinearBurn(base,blend)*opacity+base*(1.0-opacity));}float blendLinearDodge(float base,float blend){return min(base+blend,1.0);}vec3 blendLinearDodge(vec3 base,vec3 blend){return min(base+blend,vec3(1.0));}vec3 blendLinearDodge(vec3 base,vec3 blend,float opacity){return(blendLinearDodge(base,blend)*opacity+base*(1.0-opacity));}float blendLinearLight(float base,float blend){return blend<0.5?blendLinearBurn(base,(2.0*blend)):blendLinearDodge(base,(2.0*(blend-0.5)));}vec3 blendLinearLight(vec3 base,vec3 blend){return vec3(blendLinearLight(base.r,blend.r),blendLinearLight(base.g,blend.g),blendLinearLight(base.b,blend.b));}vec3 blendLinearLight(vec3 base,vec3 blend,float opacity){return(blendLinearLight(base,blend)*opacity+base*(1.0-opacity));}float blendLighten(float base,float blend){return max(blend,base);}vec3 blendLighten(vec3 base,vec3 blend){return vec3(blendLighten(base.r,blend.r),blendLighten(base.g,blend.g),blendLighten(base.b,blend.b));}vec3 blendLighten(vec3 base,vec3 blend,float opacity){return(blendLighten(base,blend)*opacity+base*(1.0-opacity));}float blendOverlay(float base,float blend){return base<0.5?(2.0*base*blend):(1.0-2.0*(1.0-base)*(1.0-blend));}vec3 blendOverlay(vec3 base,vec3 blend){return vec3(blendOverlay(base.r,blend.r),blendOverlay(base.g,blend.g),blendOverlay(base.b,blend.b));}vec3 blendOverlay(vec3 base,vec3 blend,float opacity){return(blendOverlay(base,blend)*opacity+base*(1.0-opacity));}float blendColorDodge(float base,float blend){return(blend==1.0)?blend:min(base/(1.0-blend),1.0);}vec3 blendColorDodge(vec3 base,vec3 blend){return vec3(blendColorDodge(base.r,blend.r),blendColorDodge(base.g,blend.g),blendColorDodge(base.b,blend.b));}vec3 blendColorDodge(vec3 base,vec3 blend,float opacity){return(blendColorDodge(base,blend)*opacity+base*(1.0-opacity));}float blendScreen(float base,float blend){return 1.0-((1.0-base)*(1.0-blend));}vec3 blendScreen(vec3 base,vec3 blend){return vec3(blendScreen(base.r,blend.r),blendScreen(base.g,blend.g),blendScreen(base.b,blend.b));}vec3 blendScreen(vec3 base,vec3 blend,float opacity){return(blendScreen(base,blend)*opacity+base*(1.0-opacity));}float blendAdd(float base,float blend){return min(base+blend,1.0);}vec3 blendAdd(vec3 base,vec3 blend){return min(base+blend,vec3(1.0));}vec3 blendAdd(vec3 base,vec3 blend,float opacity){return(blendAdd(base,blend)*opacity+base*(1.0-opacity));}vec3 blendMultiply(vec3 base,vec3 blend){return base*blend;}vec3 blendMultiply(vec3 base,vec3 blend,float opacity){return(blendMultiply(base,blend)*opacity+base*(1.0-opacity));}
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
float pow2(const in float x){return x*x;}vec3 pow2(const in vec3 x){return x*x;}float pow3(const in float x){return x*x*x;}float pow4(const in float x){float x2=x*x;return x2*x2;}float max3(const in vec3 v){return max(max(v.x,v.y),v.z);}float average(const in vec3 v){return dot(v,vec3(0.3333333));}vec4 sRGBToLinear(in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.w);}vec3 sRGBToLinear(in vec3 value){return vec3(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))));}`,Xce=`vec3 objectNormal=vec3(normal);vec3 transformedNormal=objectNormal;
#ifdef USE_INSTANCING
mat3 m=mat3(instanceMatrix);transformedNormal/=vec3(dot(m[0],m[0]),dot(m[1],m[1]),dot(m[2],m[2]));transformedNormal=m*transformedNormal;
#endif
transformedNormal=normalMatrix*transformedNormal;vNormal=normalize(transformedNormal);`,Yce=`#ifdef USE_TONEMAPPING
if(uToneMapping==0){gl_FragColor.rgb=LinearToneMapping(gl_FragColor.rgb);}else if(uToneMapping==1){gl_FragColor.rgb=ReinhardToneMapping(gl_FragColor.rgb);}else if(uToneMapping==2){gl_FragColor.rgb=OptimizedCineonToneMapping(gl_FragColor.rgb);}else{gl_FragColor.rgb=ACESFilmicToneMapping(gl_FragColor.rgb);}
#endif
`,$ce="attribute vec2 aPosition;attribute vec2 aOffset;attribute vec2 aSize;attribute float aIndex;attribute float aWord;attribute float aLine;attribute float aLength;attribute float aPage;uniform float uFontBase;uniform float uFontLineHeight;uniform float uFontSize;uniform float uLayoutDescender;varying vec2 vUv;varying vec2 vPosition;varying vec2 vOffset;varying vec2 vSize;varying float vIndex;varying float vWord;varying float vLine;varying float vLength;varying float vPage;",Kce="vUv=uv;vPosition=aPosition;vOffset=aOffset;vSize=aSize;vIndex=aIndex;vWord=aWord;vLine=aLine;vLength=aLength;vPage=aPage;vec3 transformedPos=position;",Zce="precision highp float;uniform float uOpacity;uniform vec3 uColor;uniform float uFontBase;uniform float uFontLineHeight;uniform float uFontSize;uniform float uLayoutDescender;varying vec2 vUv;varying vec2 vPosition;varying vec2 vOffset;varying vec2 vSize;varying float vIndex;varying float vWord;varying float vLine;varying float vLength;varying float vPage;float median(float r,float g,float b){return max(min(r,g),min(max(r,g),b));}float spxRange(sampler2D tex,vec2 uv){vec2 unit=vec2(6.0)/vec2(textureSize(tex,0));vec2 screen=vec2(1.0)/fwidth(uv);return max(0.5*dot(unit,screen),1.0);}",Jce="vec3 bitmap=msdf();float range=pxRange();float sigDist=median(bitmap.r,bitmap.g,bitmap.b);float pxDist=range*(sigDist-0.5);float alpha=clamp(pxDist+0.5,0.0,1.0);float mask=clamp(alpha*uOpacity,0.,1.);gl_FragColor=vec4(uColor.xyz,alpha);",eue="uniform float uProgress;uniform float uStagger;varying float vDiff;float textAnimation(float bound,float index,float stagger){return(bound*stagger)*(index)+bound;}",tue=`float progress=(1.-uProgress);
#ifdef ANIM_CHAR_X
transformedPos.x-=textAnimation(aSize.x,aIndex,uStagger)*progress;vDiff=transformedPos.x;
#endif
#ifdef ANIM_CHAR_Y
transformedPos.y+=textAnimation(uFontLineHeight,aIndex,uStagger)*progress;vDiff=transformedPos.y;
#endif
#ifdef ANIM_WORD_X
transformedPos.x-=textAnimation(aSize.x,aWord,uStagger)*progress;vDiff=transformedPos.x;
#endif
#ifdef ANIM_WORD_Y
transformedPos.y+=textAnimation(uFontLineHeight,aWord,uStagger)*progress;vDiff=transformedPos.y;
#endif
#ifdef ANIM_LINE_X
transformedPos.x-=textAnimation(aSize.x,aLine,uStagger)*progress;vDiff=transformedPos.x;
#endif
#ifdef ANIM_LINE_Y
transformedPos.y+=textAnimation(uFontLineHeight,aLine,uStagger)*progress;vDiff=transformedPos.y;
#endif
`,nue="varying float vDiff;",iue=`#ifdef ANIM_CHAR_X
if(vDiff<(vPosition.x+vOffset.x))discard;
#endif
#ifdef ANIM_CHAR_Y
if(vDiff>(vPosition.y+uFontLineHeight))discard;
#endif
#ifdef ANIM_WORD_X
if(vDiff<(vPosition.x+vOffset.x))discard;
#endif
#ifdef ANIM_WORD_Y
if(vDiff>(vPosition.y+uFontLineHeight))discard;
#endif
#ifdef ANIM_LINE_X
if(vDiff<(vPosition.x+vOffset.x))discard;
#endif
#ifdef ANIM_LINE_Y
if(vDiff>(vPosition.y+uFontLineHeight))discard;
#endif
`,rue="attribute vec4 tangent;varying vec3 vNormal;varying vec3 vTangent;varying vec3 vBitangent;",sue=`vec3 objectNormal=vec3(normal);vec3 objectTangent=vec3(tangent.xyz);vec3 transformedNormal=objectNormal;
#ifdef USE_INSTANCING
mat3 m=mat3(instanceMatrix);transformedNormal/=vec3(dot(m[0],m[0]),dot(m[1],m[1]),dot(m[2],m[2]));transformedNormal=m*transformedNormal;
#endif
transformedNormal=normalMatrix*transformedNormal;vec3 transformedTangent=(modelViewMatrix*vec4(objectTangent,0.0)).xyz;vNormal=normalize(transformedNormal);vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);`,oue="varying vec3 vViewPosition;varying vec4 vWorldPosition;",aue="vec4 worldPosition=modelMatrix*transformedPosition;",lue=`#ifdef USE_INSTANCING
transformedPosition=instanceMatrix*transformedPosition;
#endif
`,cue="vec4 mvPosition=viewMatrix*worldPosition;",uue="vViewPosition=-mvPosition.xyz;vWorldPosition=worldPosition;",fue=`vec4 diffuseColor=vec4(uColor,uOpacity);vec3 totalEmissiveRadiance=uEmissiveColor;ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#ifdef USE_UDIMS
float textureIndex;for(float i=0.;i<float(USE_UDIMS);i+=1.){textureIndex+=step(i+1.,vUv.x);}vec2 udimUV=(vUv-vec2(textureIndex,0.0));
#endif
#ifdef USE_DIFFUSE
#ifdef USE_UDIMS
diffuseColor*=getDiffuseUDIMcolor(tDiffuseArray,textureIndex,udimUV,uDiffuseScale);
#else
diffuseColor*=texture2D(tDiffuse,vUv*uDiffuseScale);
#endif
#endif
float roughnessFactor=uRoughness;
#ifdef USE_ROUGH
#ifdef USE_UDIMS
vec4 texelRoughness=getRoughUDIMcolor(tRoughnessArray,textureIndex,udimUV,uRoughnessScale);
#else
vec4 texelRoughness=texture2D(tRoughness,vUv*uRoughnessScale);
#endif
roughnessFactor*=texelRoughness.g;
#endif
float metalnessFactor=uMetalness;
#ifdef USE_METALNESS
vec4 texelMetalness=texture2D(tMetalness,vUv*uMetalnessScale);metalnessFactor*=texelMetalness.b;
#endif
float faceDirection=gl_FrontFacing ? 1.0 :-1.0;
#ifdef FLAT_SHADED
vec3 fdx=dFdx(vViewPosition);vec3 fdy=dFdy(vViewPosition);vec3 normal=normalize(cross(fdx,fdy));
#else
vec3 normal=normalize(vNormal);vec3 tangent=normalize(vTangent);vec3 bitangent=normalize(vBitangent);
#ifdef DOUBLE_SIDED
normal=normal*faceDirection;tangent=tangent*faceDirection;bitangent=bitangent*faceDirection;
#endif
mat3 vTBN=mat3(tangent,bitangent,normal);
#endif
vec3 geometryNormal=normal;
#ifdef USE_NORMAL
#ifdef OBJECTSPACE_NORMALMAP
normal=texture2D(tNormal,vUv*uNormalScale).xyz*2.0-1.0;
#ifdef FLIP_SIDED
normal=-normal;
#endif
#ifdef DOUBLE_SIDED
normal=normal*faceDirection;
#endif
normal=normalize(normalMatrix*normal);
#else
#ifdef USE_UDIMS
vec3 mapN=getNormalUDIMcolor(tNormalArray,textureIndex,udimUV,uNormalScale).rgb*2.0-1.0;
#else
vec3 mapN=texture2D(tNormal,vUv*uNormalScale).xyz*2.0-1.0;
#endif
mapN.xy*=uNormalStrength;normal=normalize(vTBN*mapN);
#endif
#endif
#ifdef USE_EMISSIVEMAP
vec4 emissiveColor=texture2D(tEmissiveMap,vUv);totalEmissiveRadiance*=emissiveColor.rgb;
#endif
#ifdef USE_MATCAP
vec3 viewDir=normalize(vViewPosition);vec3 x=normalize(vec3(viewDir.z,0.0,-viewDir.x));vec3 y=cross(viewDir,x);vec2 uv=vec2(dot(x,normal),dot(y,normal))*0.495+0.5;vec4 matcapColor=texture2D(tMatcap,uv);
#else
vec4 matcapColor=vec4(1.);
#endif
DynamicMaterial material;material.diffuseColor=diffuseColor.rgb*(1.0-metalnessFactor);vec3 dxy=max(abs(dFdx(geometryNormal)),abs(dFdy(geometryNormal)));float geometryRoughness=max(max(dxy.x,dxy.y),dxy.z);material.roughness=max(roughnessFactor,0.0525);material.roughness+=geometryRoughness;material.roughness=min(material.roughness,1.0);material.ior=uIOR;float specularIntensityFactor;vec3 specularColorFactor;specularIntensityFactor=uSpecularIntensity;specularColorFactor=uSpecularColor;material.specularF90=mix(specularIntensityFactor,1.0,metalnessFactor);material.specularColor=mix(min(pow2((material.ior-1.0)/(material.ior+1.0))*specularColorFactor,vec3(1.0))*specularIntensityFactor,diffuseColor.rgb,metalnessFactor);GeometricContext geometry;geometry.position=-vViewPosition;geometry.normal=normal;geometry.viewDir=(isOrthographic)? vec3(0,0,1): normalize(vViewPosition);vec3 ambientLightColor=vec3(0.0);vec3 iblIrradiance=vec3(0.0);vec3 irradiance=getAmbientLightIrradiance(ambientLightColor);vec3 radiance=vec3(0.0);vec3 clearcoatRadiance=vec3(0.0);
#ifdef USE_LIGHTMAP
vec4 lightMapTexel=texture2D(tLightMap,vUv);vec3 lightMapIrradiance=lightMapTexel.rgb*uLightMapIntensity;irradiance+=lightMapIrradiance;
#endif
#ifdef USE_ENV
iblIrradiance+=getIBLIrradiance(geometry.normal);radiance+=getIBLRadiance(geometry.viewDir,geometry.normal,material.roughness);
#endif
RE_IndirectDiffuse_Physical(irradiance,geometry,material,reflectedLight);RE_IndirectSpecular_Physical(radiance,iblIrradiance,clearcoatRadiance,geometry,material,reflectedLight);vec3 totalDiffuse=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse;vec3 totalSpecular=reflectedLight.directSpecular+reflectedLight.indirectSpecular;vec3 outgoingLight=totalDiffuse+totalSpecular+totalEmissiveRadiance;
#ifdef USE_MATCAP
if(uMatcapBlendMode==0){outgoingLight=blendSoftLight(outgoingLight.rgb,matcapColor.rgb,uDiffuseMatcapBlend);}else if(uMatcapBlendMode==1){outgoingLight=blendLinearLight(outgoingLight.rgb,matcapColor.rgb,uDiffuseMatcapBlend);}else if(uMatcapBlendMode==2){outgoingLight=blendLighten(outgoingLight.rgb,matcapColor.rgb,uDiffuseMatcapBlend);}else if(uMatcapBlendMode==3){outgoingLight=blendOverlay(outgoingLight.rgb,matcapColor.rgb,uDiffuseMatcapBlend);}else if(uMatcapBlendMode==4){outgoingLight=blendAdd(outgoingLight.rgb,matcapColor.rgb,uDiffuseMatcapBlend);}else{outgoingLight=blendMultiply(outgoingLight.rgb,matcapColor.rgb,uDiffuseMatcapBlend);}
#endif
gl_FragColor=vec4(outgoingLight,diffuseColor.a);`,due=`struct DynamicMaterial{vec3 diffuseColor;float roughness;vec3 specularColor;float specularF90;float ior;};struct IncidentLight{vec3 color;vec3 direction;bool visible;};struct ReflectedLight{vec3 directDiffuse;vec3 directSpecular;vec3 indirectDiffuse;vec3 indirectSpecular;};struct GeometricContext{vec3 position;vec3 normal;vec3 viewDir;};
#include <lights_pars_begin>
varying vec3 vViewPosition;varying vec3 vNormal;varying vec3 vTangent;varying vec3 vBitangent;uniform float uOpacity;uniform float uMetalness;uniform float uSpecularIntensity;uniform vec3 uEmissiveColor;uniform vec3 uSpecularColor;uniform float uDiffuseMatcapBlend;uniform vec3 uColor;uniform int uMatcapBlendMode;
#ifdef USE_MATCAP
uniform sampler2D tMatcap;
#endif
#ifdef USE_UDIMS
#define MAX_UDIMS 2
#endif
#ifdef USE_DIFFUSE
uniform float uDiffuseScale;
#ifdef USE_UDIMS
uniform sampler2D tDiffuseArray[MAX_UDIMS];vec4 getDiffuseUDIMcolor(float textureIndx,vec2 udimuv,float textureScale){switch(int(textureIndx)){case 0:return texture(tDiffuseArray[0],udimuv*textureScale);break;case 1:return texture(tDiffuseArray[1],udimuv*textureScale);break;}}
#else
uniform sampler2D tDiffuse;
#endif
#endif
#ifdef USE_NORMAL
uniform float uNormalScale;uniform float uNormalStrength;
#ifdef USE_UDIMS
uniform sampler2D tNormalArray[MAX_UDIMS];vec4 getNormalUDIMcolor(float textureIndx,vec2 udimuv,float textureScale){switch(int(textureIndx)){case 0:return texture(tNormalArray[0],udimuv*textureScale);break;case 1:return texture(tNormalArray[1],udimuv*textureScale);break;}}
#else
uniform sampler2D tNormal;
#endif
#endif
#ifdef USE_ROUGH
uniform float uRoughnessScale;
#ifdef USE_UDIMS
uniform sampler2D tRoughnessArray[MAX_UDIMS];vec4 getRoughUDIMcolor(float textureIndx,vec2 udimuv,float textureScale){switch(int(textureIndx)){case 0:return texture(tRoughnessArray[0],udimuv*textureScale);break;case 1:return texture(tRoughnessArray[1],udimuv*textureScale);break;}}
#else
uniform sampler2D tRoughness;
#endif
#endif
#ifdef USE_METALNESS
uniform sampler2D tMetalness;uniform float uMetalnessScale;
#endif
#ifdef USE_EMISSIVEMAP
uniform sampler2D tEmissiveMap;
#endif
#ifdef USE_LIGHTMAP
uniform sampler2D tLightMap;uniform float uLightMapIntensity;
#endif
varying vec4 vWorldPosition;uniform float uRoughness;uniform float uIOR;
#ifdef USE_ENV
uniform sampler2D tEnvMap;uniform float uEnvMapStrength;vec3 getIBLRadiance(const in vec3 viewDir,const in vec3 normal,const in float roughness){vec3 reflectVec=reflect(-viewDir,normal);reflectVec=normalize(mix(reflectVec,normal,roughness*roughness));reflectVec=inverseTransformDirection(reflectVec,viewMatrix);vec4 envMapColor=textureCubeUV(tEnvMap,reflectVec,roughness);return envMapColor.rgb*uEnvMapStrength;}vec3 getIBLIrradiance(const in vec3 normal){vec3 worldNormal=inverseTransformDirection(normal,viewMatrix);vec4 envMapColor=textureCubeUV(tEnvMap,worldNormal,1.0);return PI*envMapColor.rgb*uEnvMapStrength;}
#endif
vec3 BRDF_Lambert(const in vec3 diffuseColor){return RECIPROCAL_PI*diffuseColor;}void RE_IndirectDiffuse_Physical(const in vec3 irradiance,const in GeometricContext geometry,const in DynamicMaterial material,inout ReflectedLight reflectedLight){reflectedLight.indirectDiffuse+=irradiance*BRDF_Lambert(material.diffuseColor);}vec2 DFGApprox(const in vec3 normal,const in vec3 viewDir,const in float roughness){float dotNV=saturate(dot(normal,viewDir));const vec4 c0=vec4(-1,-0.0275,-0.572,0.022);const vec4 c1=vec4(1,0.0425,1.04,-0.04);vec4 r=roughness*c0+c1;float a004=min(r.x*r.x,exp2(-9.28*dotNV))*r.x+r.y;vec2 fab=vec2(-1.04,1.04)*a004+r.zw;return fab;}void computeMultiscattering(const in vec3 normal,const in vec3 viewDir,const in vec3 specularColor,const in float specularF90,const in float roughness,inout vec3 singleScatter,inout vec3 multiScatter){vec2 fab=DFGApprox(normal,viewDir,roughness);vec3 Fr=specularColor;vec3 FssEss=Fr*fab.x+specularF90*fab.y;float Ess=fab.x+fab.y;float Ems=1.0-Ess;vec3 Favg=Fr+(1.0-Fr)*0.047619;vec3 Fms=FssEss*Favg/(1.0-Ems*Favg);singleScatter+=FssEss;multiScatter+=Fms*Ems;}void RE_IndirectSpecular_Physical(const in vec3 radiance,const in vec3 irradiance,const in vec3 clearcoatRadiance,const in GeometricContext geometry,const in DynamicMaterial material,inout ReflectedLight reflectedLight){vec3 singleScattering=vec3(0.0);vec3 multiScattering=vec3(0.0);vec3 cosineWeightedIrradiance=irradiance*RECIPROCAL_PI;computeMultiscattering(geometry.normal,geometry.viewDir,material.specularColor,material.specularF90,material.roughness,singleScattering,multiScattering);vec3 totalScattering=singleScattering+multiScattering;vec3 diffuse=material.diffuseColor*(1.0-max(max(totalScattering.r,totalScattering.g),totalScattering.b));reflectedLight.indirectSpecular+=radiance*singleScattering;reflectedLight.indirectSpecular+=multiScattering*cosineWeightedIrradiance;reflectedLight.indirectDiffuse+=diffuse*cosineWeightedIrradiance;}`,hue=`vec3 lightDirection=normalize(uLightPos-vWorldPosition.xyz);
#ifdef USE_HIGHLIGHT_DIFFUSE
float diffuseFactor=max(dot(normalize(vNormal),lightDirection),0.0);vec3 diffuse=diffuseFactor*uLightColor;
#else
vec3 diffuse=vec3(0.0);
#endif
vec3 viewDirExtra=normalize(cameraPosition-vWorldPosition.xyz);vec3 reflectDir=reflect(-lightDirection,normalize(vNormal));float specularFactor=pow(max(dot(viewDirExtra,reflectDir),0.0),uShininess);vec3 specular=uExtraSpecularStrength*specularFactor*uLightColor;gl_FragColor.rgb=(uAmbient+diffuse+specular)*gl_FragColor.rgb;`,pue="uniform vec3 uLightPos;uniform vec3 uLightColor;uniform vec3 uAmbient;uniform float uExtraSpecularStrength;uniform float uShininess;",mue=`#define cubeUV_minMipLevel 4.0
#define cubeUV_minTileSize 16.0
float getFace(vec3 direction){vec3 absDirection=abs(direction);float face=-1.0;if(absDirection.x>absDirection.z){if(absDirection.x>absDirection.y)face=direction.x>0.0 ? 0.0 : 3.0;else face=direction.y>0.0 ? 1.0 : 4.0;}else{if(absDirection.z>absDirection.y)face=direction.z>0.0 ? 2.0 : 5.0;else face=direction.y>0.0 ? 1.0 : 4.0;}return face;}vec2 getUV(vec3 direction,float face){vec2 uv;if(face==0.0){uv=vec2(direction.z,direction.y)/abs(direction.x);}else if(face==1.0){uv=vec2(-direction.x,-direction.z)/abs(direction.y);}else if(face==2.0){uv=vec2(-direction.x,direction.y)/abs(direction.z);}else if(face==3.0){uv=vec2(-direction.z,direction.y)/abs(direction.x);}else if(face==4.0){uv=vec2(-direction.x,direction.z)/abs(direction.y);}else{uv=vec2(direction.x,direction.y)/abs(direction.z);}return 0.5*(uv+1.0);}vec3 bilinearCubeUV(sampler2D envMap,vec3 direction,float mipInt){float face=getFace(direction);float filterInt=max(cubeUV_minMipLevel-mipInt,0.0);mipInt=max(mipInt,cubeUV_minMipLevel);float faceSize=exp2(mipInt);highp vec2 uv=getUV(direction,face)*(faceSize-2.0)+1.0;if(face>2.0){uv.y+=faceSize;face-=3.0;}uv.x+=face*faceSize;uv.x+=filterInt*3.0*cubeUV_minTileSize;uv.y+=4.0*(exp2(float(CUBEUV_MAX_MIP))-faceSize);uv.x*=CUBEUV_TEXEL_WIDTH;uv.y*=CUBEUV_TEXEL_HEIGHT;
#ifdef texture2DGradEXT
return texture2DGradEXT(envMap,uv,vec2(0.0),vec2(0.0)).rgb;
#else
return texture2D(envMap,uv).rgb;
#endif
}
#define cubeUV_r0 1.0
#define cubeUV_v0 0.339
#define cubeUV_m0 - 2.0
#define cubeUV_r1 0.8
#define cubeUV_v1 0.276
#define cubeUV_m1 - 1.0
#define cubeUV_r4 0.4
#define cubeUV_v4 0.046
#define cubeUV_m4 2.0
#define cubeUV_r5 0.305
#define cubeUV_v5 0.016
#define cubeUV_m5 3.0
#define cubeUV_r6 0.21
#define cubeUV_v6 0.0038
#define cubeUV_m6 4.0
float roughnessToMip(float roughness){float mip=0.0;if(roughness>=cubeUV_r1){mip=(cubeUV_r0-roughness)*(cubeUV_m1-cubeUV_m0)/(cubeUV_r0-cubeUV_r1)+cubeUV_m0;}else if(roughness>=cubeUV_r4){mip=(cubeUV_r1-roughness)*(cubeUV_m4-cubeUV_m1)/(cubeUV_r1-cubeUV_r4)+cubeUV_m1;}else if(roughness>=cubeUV_r5){mip=(cubeUV_r4-roughness)*(cubeUV_m5-cubeUV_m4)/(cubeUV_r4-cubeUV_r5)+cubeUV_m4;}else if(roughness>=cubeUV_r6){mip=(cubeUV_r5-roughness)*(cubeUV_m6-cubeUV_m5)/(cubeUV_r5-cubeUV_r6)+cubeUV_m5;}else{mip=-2.0*log2(1.16*roughness);}return mip;}vec4 textureCubeUV(sampler2D envMap,vec3 sampleDir,float roughness){float mip=clamp(roughnessToMip(roughness),cubeUV_m0,float(CUBEUV_MAX_MIP));float mipF=fract(mip);float mipInt=floor(mip);vec3 color0=bilinearCubeUV(envMap,sampleDir,mipInt);if(mipF==0.0){return vec4(color0,1.0);}else{vec3 color1=bilinearCubeUV(envMap,sampleDir,mipInt+1.0);return vec4(mix(color0,color1,mipF),1.0);}}`;function gue(){ut.default_pars=Wn(Wce),ut.default_frag_pars=Wn(qce),ut.normalsVert=Wn(Xce),ut.tonemapping_frag=Wn(Yce),ut.cubeUVreflectionFrag=Wn(mue),ut.msdf_vert_pars=Wn($ce),ut.msdf_vert=Wn(Kce),ut.msdf_frag_pars=Wn(Zce),ut.msdf_frag=Wn(Jce),ut.msdf_base_anim_vert_pars=Wn(eue),ut.msdf_base_anim_vert=Wn(tue),ut.msdf_base_anim_frag_pars=Wn(nue),ut.msdf_base_anim_frag=Wn(iue),ut.normals_tangents_vert_pars=Wn(rue),ut.normals_tangents_vert=Wn(sue),ut.world_position_transform_vert_pars=Wn(oue),ut.world_position_transform_vert=Wn(aue),ut.instance_offset_vert=Wn(lue),ut.mv_position_transform_vert=Wn(cue),ut.varyings_vert=Wn(uue),ut.dynamic_frag_pars=Wn(due),ut.dynamic_frag=Wn(fue),ut.dynamic_highlight_frag_pars=Wn(pue),ut.dynamic_highlight_frag=Wn(hue)}function Aue(){Ke.msdf={uOpacity:{value:1},uColor:{value:new ke("#FFFFFF")},uFontBase:{value:0},uFontLineHeight:{value:0},uFontSize:{value:0},uLayoutDescender:{value:0},uLayoutAscender:{value:0}},Ke.msdfBaseAnim={uProgress:{value:0},uStagger:{value:0}}}class n6 extends NA{constructor(e={}){e=An({vertexShader:Vce,fragmentShader:Gce,uniforms:{uMatcapContrast:{value:.8,gui:{min:.01,step:.01}},uHighlightPower:{value:15,gui:{min:0,max:100,step:.1}},uHighlightColor:{value:new ke(5866203)},uFillLength:{value:.3,gui:{min:0,max:1,step:.001}},uStartFadeLength:{value:.2,gui:{min:0,max:.9999,step:.001}},uEndFadeLength:{value:1e-4,gui:{min:0,max:.999,step:.001}},uFillRepeat:{value:1,gui:{min:0,max:20,step:1}},uBundleOffset:{value:12.5629,gui:{min:0,max:50,step:.01}},uStrandOffset:{value:.05,gui:{min:0,max:1,step:.001}},uFadeContrast:{value:5,gui:{min:0,max:50,step:.01}},uSpeed:{value:.2,gui:{min:0,max:10,step:.01}},uRevealProgress:{value:0,gui:{min:0,max:1,step:.01}}},defines:{USE_MATCAP:!0},transparent:!0},e),super(e)}generatePMREMDefines(){}}class vue extends co(){constructor(){super({name:"Computing Orb"})}build(){this.bands=new Qe(this.assets.models.bands.geometry,new n6({uniforms:{tMatcap:{value:this.assets.textures.matcapChromeBlurred},tFluidSim:{value:null},uMatcapBlendMode:{value:2}},defines:{MAIN_ORB:!0}})),this.bands.name=this.name+" Bands",this.add(this.bands),this.extraThreads=new Qe(this.assets.models.extraThreads.geometry,new n6({uniforms:{tMatcap:{value:this.assets.textures.matcapChromeBlurred},tFluidSim:{value:null},uMatcapBlendMode:{value:2}}})),this.extraThreads.name=this.name+" Extra Threads",this.add(this.extraThreads)}update(){this.bands.material.uniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture,this.extraThreads.material.uniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture;let e=Math.abs(this.parent.scrollVelocity)*7e-6;this.rotation.y+=.002+e}load(){S.AssetLoader.loadGltf("/webgl/models/computing.glb").then(e=>{this.assets.models.bands=e.scene.children[1],this.assets.models.extraThreads=e.scene.children[0]}),S.AssetLoader.loadTexture("/webgl/textures/blurry_silver_mirrorball.jpg").then(e=>{this.assets.textures.matcapChromeBlurred=e})}addGui(){S.theatre.helper.autoAddObject(this.bands,this.parent.prettyName),S.theatre.helper.autoAddObject(this.extraThreads,this.parent.prettyName)}}class yue extends cc{constructor(){super("computing-orb",{domId:"computing",domAlign:"right"}),this.components=Object.assign({orb:new vue}),this.scrollVelocity=0}update(){this.sectionScroll&&(this.scrollVelocity=gn.lerp(this.scrollVelocity,this.sectionScroll.getVelocity(),.1)),super.update()}}var _ue=`#include <default_pars>
#include <normals_tangents_vert_pars>
#include <world_position_transform_vert_pars>
attribute float _id;attribute vec3 _center;attribute float _mediumpanel;varying vec2 vUv;varying float vMediumPanel;uniform float uTime;uniform vec2 uMouse;uniform float uMouseRadius;uniform float uMouseFalloff;uniform float uRevealProgress;uniform vec2 uResolution;float pulse(float time,float frequency){const float pi=3.14;return 0.5*(1.+sin(2.*pi*frequency*time));}vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod(Pi0,289.0);Pi1=mod(Pi1,289.0);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0/7.0;vec4 gy0=fract(floor(gx0)/7.0)-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1/7.0;vec4 gy1=fract(floor(gx1)/7.0)-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}void main(){vUv=uv;vMediumPanel=_mediumpanel;vec4 transformedPosition=vec4(position,1.0);vec3 center=vec3(_center.x,_center.z,-_center.y);vec3 worldPos=(modelMatrix*transformedPosition).xyz;float screenAspect=uResolution.x/uResolution.y;vec4 earlyProjection=projectionMatrix*modelViewMatrix*vec4(center,1.);vec2 screenSpace=earlyProjection.xy/earlyProjection.w*vec2(0.5,0.5)+vec2(0.5,0.5);float screenToMouseDistance=distance(vec3(screenSpace,0.),vec3(uMouse,0.));float scale=smoothstep(uMouseFalloff,1.,screenToMouseDistance*uMouseRadius);scale+=smoothstep(0.5,0.,worldPos.z);float noise=cnoise(vec3(center*20.+uTime*0.1));float noiseScale=smoothstep(0.2,0.,noise);scale=clamp(scale,0.,1.);float modelScaleOffset=1.087;if(_mediumpanel!=1.){transformedPosition.xyz-=center*modelScaleOffset;transformedPosition.xyz*=scale;transformedPosition.xyz+=center*modelScaleOffset;}else{transformedPosition.xyz+=center*modelScaleOffset;transformedPosition.xyz*=map(noiseScale,0.,1.,0.987,1.01);transformedPosition.xyz-=center*modelScaleOffset;}transformedPosition.xyz+=center*modelScaleOffset;float revealScale=1.+(1.-uRevealProgress)*0.1;transformedPosition.xyz*=revealScale;transformedPosition.xyz-=center*modelScaleOffset;transformedPosition.xyz-=center*modelScaleOffset;float revealProgress=1.-map(uRevealProgress,0.,1.,-0.1,1.1);transformedPosition.xyz*=smoothstep(revealProgress-0.1,revealProgress,1.-map(center.y,-1.,1.,0.,1.));transformedPosition.xyz+=center*modelScaleOffset;vec3 objectNormal=vec3(normal);vec3 objectTangent=vec3(tangent.xyz);vec3 transformedNormal=objectNormal;if(_mediumpanel!=1.){transformedNormal.xyz-=center*modelScaleOffset;transformedNormal.xyz*=scale;transformedNormal.xyz+=center*modelScaleOffset;}else{transformedNormal.xyz+=center*modelScaleOffset;transformedNormal.xyz*=map(noiseScale,0.,1.,0.987,1.01);transformedNormal.xyz-=center*modelScaleOffset;}transformedNormal=normalMatrix*transformedNormal;vec3 transformedTangent=(modelViewMatrix*vec4(objectTangent,0.0)).xyz;vNormal=normalize(transformedNormal);vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);
#include <instance_offset_vert>
/***Do any overall instance transformations(after instance offsets are applied)here*aka transform instances uniformly in "local" instance MESH space**With non-instanced meshes this is equal to local transform**e.g. transformedPosition.y=transformedPosition.y+sin(uTime*2.)*5.;*/
#include <world_position_transform_vert>
/***Do any world transformations here**e.g. worldPosition.y=worldPosition.y+sin(uTime*2.)*5.;*/
#include <mv_position_transform_vert>
#include <varyings_vert>
gl_Position=projectionMatrix*mvPosition;}`,bue=`#include <default_pars>
#include <default_frag_pars>
#include <dynamic_frag_pars>
#include <tonemapping_pars_fragment>
uniform int uToneMapping;varying vec2 vUv;varying float vMediumPanel;uniform float uMatcapContrast;void main(){
#include <dynamic_frag>
gl_FragColor.rgb=pow(gl_FragColor.rgb,vec3(uMatcapContrast));
#include <tonemapping_frag>
#include <colorspace_fragment>
}`;class xue extends NA{constructor(e={}){e=An({vertexShader:_ue,fragmentShader:bue,uniforms:{uMatcapContrast:{value:.8,gui:{min:.01,step:.01}},uMouseRadius:{value:5,gui:{min:0,step:.1}},uMouseFalloff:{value:.5,gui:{min:0,step:.01}},uRevealProgress:{value:0,gui:{min:0,max:1,step:.01}}},transparent:!0},e),super(e)}}var Cue=`#include <default_pars>
#include <normals_tangents_vert_pars>
#include <world_position_transform_vert_pars>
attribute float _progress;attribute float _random;varying vec2 vUv;varying float vProgress;varying float vRandom;varying float vMouseMask;varying vec3 vPosition;uniform float uTime;uniform vec2 uMouse;uniform float uMouseRadius;uniform float uMouseFalloff;uniform vec2 uResolution;void main(){vUv=uv;vProgress=_progress;vRandom=_random;vPosition=position;vec4 transformedPosition=vec4(position,1.0);vec3 worldPos=(modelMatrix*transformedPosition).xyz;float screenAspect=uResolution.x/uResolution.y;vec4 earlyProjection=projectionMatrix*modelViewMatrix*transformedPosition;vec2 screenSpace=earlyProjection.xy/earlyProjection.w*vec2(0.5,0.5)+vec2(0.5,0.5);float screenToMouseDistance=distance(vec3(screenSpace,position.z*0.15),vec3(uMouse,0.25));vMouseMask=smoothstep(uMouseFalloff,1.,screenToMouseDistance*uMouseRadius);vMouseMask+=smoothstep(0.5,0.,worldPos.z);vMouseMask=clamp(vMouseMask,0.,1.);
#include <normals_tangents_vert>
#include <instance_offset_vert>
/***Do any overall instance transformations(after instance offsets are applied)here*aka transform instances uniformly in "local" instance MESH space**With non-instanced meshes this is equal to local transform**e.g. transformedPosition.y=transformedPosition.y+sin(uTime*2.)*5.;*/
#include <world_position_transform_vert>
/***Do any world transformations here**e.g. worldPosition.y=worldPosition.y+sin(uTime*2.)*5.;*/
#include <mv_position_transform_vert>
#include <varyings_vert>
gl_Position=projectionMatrix*mvPosition;}`,Sue=`#include <default_pars>
#include <default_frag_pars>
#include <dynamic_frag_pars>
#include <tonemapping_pars_fragment>
uniform int uToneMapping;varying vec2 vUv;varying float vProgress;varying float vRandom;varying float vMouseMask;varying vec3 vPosition;uniform float uTime;uniform float uMatcapContrast;uniform float uFillLength;uniform float uEndFadeLength;uniform float uStartFadeLength;uniform float uFillRepeat;uniform float uSpeed;uniform float uRevealProgress;uniform vec3 uHighlightColor;uniform float uHighlightStrength;uniform float uHighlightRevealProgress;uniform bool uDevCameraActive;uniform vec2 uMouse;vec3 loopingThreshold(float progress,float fillLength,float startFade,float endFade,float repeat){float progressModulo=fract(progress*repeat);progressModulo=smoothstep(0.0,fillLength,progressModulo);float startThreshold=smoothstep(0.0,startFade,progressModulo);float endThreshold=smoothstep(1.-endFade,1.0,progressModulo);return vec3(startThreshold-endThreshold,startThreshold,endThreshold);}void main(){
#include <dynamic_frag>
vec4 mouse=vec4(uMouse,0.,1.);float mask=vMouseMask;gl_FragColor.rgb=pow(gl_FragColor.rgb,vec3(uMatcapContrast));float time=uTime*uSpeed;float progress=map(vProgress,0.,1.,0.,1.)+time+vRandom;vec3 thresholds=loopingThreshold(mod(progress,1.0),uFillLength,uStartFadeLength,uEndFadeLength,uFillRepeat);thresholds=clamp(thresholds,0.,1.);float revealProgress=1.-map(uRevealProgress,0.,1.,-0.1,1.2);gl_FragColor.rgb=mix(gl_FragColor.rgb,mix(gl_FragColor.rgb*uHighlightColor*uHighlightStrength,gl_FragColor.rgb,thresholds.x),uHighlightRevealProgress);gl_FragColor.a*=smoothstep(revealProgress-0.001,revealProgress,1.-map(vPosition.y+vRandom*0.3,-1.,1.,0.,1.));
#include <tonemapping_frag>
#include <colorspace_fragment>
}`;class wue extends NA{constructor(e={}){e=An({vertexShader:Cue,fragmentShader:Sue,uniforms:{uMatcapContrast:{value:.8,gui:{min:.01,step:.01}},uMatcapBlendMode:{value:2},uFillLength:{value:.3,gui:{min:0,max:1,step:.001}},uStartFadeLength:{value:.05,gui:{min:0,max:.9999,step:.001}},uEndFadeLength:{value:.05,gui:{min:0,max:.999,step:.001}},uFillRepeat:{value:1,gui:{min:0,max:20,step:1}},uSpeed:{value:.2,gui:{min:0,max:10,step:.01}},uRevealProgress:{value:0,gui:{min:0,max:1,step:.01}},uHighlightColor:{value:new ke(0)},uHighlightStrength:{value:10,gui:{min:0,max:100,step:.1}},uHighlightRevealProgress:{value:0,gui:{min:0,max:1,step:.01}},uMouseRadius:{value:2.5,gui:{min:0,step:.1}},uMouseFalloff:{value:.9,gui:{min:0,step:.01}}},transparent:!0},e),super(e)}generatePMREMDefines(){}}class Eue extends co(){constructor(){super({name:"Engineering Orb"}),this.smoothMouse=new De,this.mouseLerpSpeed=.075}build(){this.group=new Va,this.group.name=this.name+" Group",this.add(this.group),this.group.rotation.x=.85,this.group.rotation.z=.25,this.mesh=new Qe(this.assets.models.orb.geometry,new xue({uniforms:{tMatcap:{value:this.assets.textures.matcapChromeBlurred},uMouse:{value:this.smoothMouse}},defines:{USE_MATCAP:!0}})),this.mesh.geometry.computeTangents(),this.mesh.name=this.name,this.group.add(this.mesh),this.meshGaps=new Qe(this.assets.models.orbGaps.geometry,new wue({uniforms:{tMatcap:{value:this.assets.textures.matcapChromeRing},uMouse:{value:this.smoothMouse}},defines:{USE_MATCAP:!0}})),this.meshGaps.name=this.name+" Gaps",this.group.add(this.meshGaps)}update(){this.smoothMouse.lerp(S.pointer.glScreenSpace,this.mouseLerpSpeed);let e=Math.abs(this.parent.scrollVelocity)*7e-6;this.group.rotation.y+=.001+e}load(){S.AssetLoader.loadGltf("/webgl/models/engineering-orb.glb").then(e=>{this.assets.models.orb=e.scene.children[0]}),S.AssetLoader.loadGltf("/webgl/models/engineering-orb-gaps.glb").then(e=>{this.assets.models.orbGaps=e.scene.children[0]}),S.AssetLoader.loadTexture("/webgl/textures/blurry_silver_mirrorball.jpg").then(e=>{this.assets.textures.matcapChromeBlurred=e}),S.AssetLoader.loadTexture("/webgl/textures/chrome-ring.png").then(e=>{this.assets.textures.matcapChromeRing=e})}addGui(){S.theatre.helper.autoAddObject(this.group,this.parent.prettyName,{exclude:["rotation"]}),S.theatre.helper.autoAddObject(this.mesh,this.parent.prettyName,{exclude:["position","rotation","scale","uMouse"]}),S.theatre.helper.autoAddObject(this.meshGaps,this.parent.prettyName,{exclude:["position","rotation","scale","uMouse"]}),S.theatre.helper.addSheetObject(this.parent.prettyName,"Mouse Settings",{mouseLerpSpeed:Te.types.number(this.mouseLerpSpeed,{range:[0,1],nudgeMultiplier:.001})}).onValuesChange(e=>{this.mouseLerpSpeed=e.mouseLerpSpeed},S.theatre.rafDriver)}}class Tue extends cc{constructor(){super("engineering-orb",{domId:"engineering",domAlign:"left"}),this.components=Object.assign({orb:new Eue}),this.scrollVelocity=0}build(){super.build(),this.renderEnvMap()}renderEnvMap(){const e=new Hg(256),t=new $I(1,1e3,e);this.components.orb.visible=!1,t.update(S.WebGL.renderer,this),this.components.orb.visible=!0,e.texture.isHDR=!1;const i=S.WebGL.pmremHandler.buildEnvironmentTexture(this,e.texture);this.components.orb.mesh.material.uniforms.tEnvMap.value=i,this.components.orb.mesh.material.defines.USE_ENV=!0,this.components.orb.mesh.material.generatePMREMDefines(),this.components.orb.mesh.material.needsUpdate=!0}update(){this.sectionScroll&&(this.scrollVelocity=gn.lerp(this.scrollVelocity,this.sectionScroll.getVelocity(),.1)),super.update()}}var Mue=`#define STANDARD
#ifdef PHYSICAL
#define IOR
#define USE_SPECULAR
#endif
uniform vec3 diffuse;uniform vec3 emissive;uniform float roughness;uniform float metalness;uniform float opacity;
#ifdef IOR
uniform float ior;
#endif
#ifdef USE_SPECULAR
uniform float specularIntensity;uniform vec3 specularColor;
#ifdef USE_SPECULAR_COLORMAP
uniform sampler2D specularColorMap;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
uniform sampler2D specularIntensityMap;
#endif
#endif
#ifdef USE_CLEARCOAT
uniform float clearcoat;uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
uniform float iridescence;uniform float iridescenceIOR;uniform float iridescenceThicknessMinimum;uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
uniform vec3 sheenColor;uniform float sheenRoughness;
#ifdef USE_SHEEN_COLORMAP
uniform sampler2D sheenColorMap;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
uniform sampler2D sheenRoughnessMap;
#endif
#endif
#ifdef USE_ANISOTROPY
uniform vec2 anisotropyVector;
#ifdef USE_ANISOTROPYMAP
uniform sampler2D anisotropyMap;
#endif
#endif
varying vec3 vViewPosition;varying vec2 vUv;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+1.0*C.xxx;vec3 x2=x0-i2+2.0*C.xxx;vec3 x3=x0-1.+3.0*C.xxx;i=mod(i,289.0);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=1.0/7.0;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}uniform sampler2D tBackgroundPass;uniform sampler2D tFluidSim;uniform vec2 uResolution;uniform float transmission;uniform float thickness;uniform float attenuationDistance;uniform vec3 attenuationColor;
#ifdef USE_TRANSMISSIONMAP
uniform sampler2D transmissionMap;
#endif
#ifdef USE_THICKNESSMAP
uniform sampler2D thicknessMap;
#endif
uniform vec2 transmissionSamplerSize;uniform sampler2D transmissionSamplerMap;uniform mat4 modelMatrix;uniform mat4 projectionMatrix;varying vec3 vWorldPosition;float w0(float a){return(1.0/6.0)*(a*(a*(-a+3.0)-3.0)+1.0);}float w1(float a){return(1.0/6.0)*(a*a*(3.0*a-6.0)+4.0);}float w2(float a){return(1.0/6.0)*(a*(a*(-3.0*a+3.0)+3.0)+1.0);}float w3(float a){return(1.0/6.0)*(a*a*a);}float g0(float a){return w0(a)+w1(a);}float g1(float a){return w2(a)+w3(a);}float h0(float a){return-1.0+w1(a)/(w0(a)+w1(a));}float h1(float a){return 1.0+w3(a)/(w2(a)+w3(a));}vec4 bicubic(sampler2D tex,vec2 uv,vec4 texelSize,float lod){uv=uv*texelSize.zw+0.5;vec2 iuv=floor(uv);vec2 fuv=fract(uv);float g0x=g0(fuv.x);float g1x=g1(fuv.x);float h0x=h0(fuv.x);float h1x=h1(fuv.x);float h0y=h0(fuv.y);float h1y=h1(fuv.y);vec2 p0=(vec2(iuv.x+h0x,iuv.y+h0y)-0.5)*texelSize.xy;vec2 p1=(vec2(iuv.x+h1x,iuv.y+h0y)-0.5)*texelSize.xy;vec2 p2=(vec2(iuv.x+h0x,iuv.y+h1y)-0.5)*texelSize.xy;vec2 p3=(vec2(iuv.x+h1x,iuv.y+h1y)-0.5)*texelSize.xy;return g0(fuv.y)*(g0x*textureLod(tex,p0,lod)+g1x*textureLod(tex,p1,lod))+g1(fuv.y)*(g0x*textureLod(tex,p2,lod)+g1x*textureLod(tex,p3,lod));}vec4 textureBicubic(sampler2D sampler,vec2 uv,float lod){vec2 fLodSize=vec2(textureSize(sampler,int(lod)));vec2 cLodSize=vec2(textureSize(sampler,int(lod+1.0)));vec2 fLodSizeInv=1.0/fLodSize;vec2 cLodSizeInv=1.0/cLodSize;vec4 fSample=bicubic(sampler,uv,vec4(fLodSizeInv,fLodSize),floor(lod));vec4 cSample=bicubic(sampler,uv,vec4(cLodSizeInv,cLodSize),ceil(lod));return mix(fSample,cSample,fract(lod));}vec3 getVolumeTransmissionRay(const in vec3 n,const in vec3 v,const in float thickness,const in float ior,const in mat4 modelMatrix){vec3 refractionVector=refract(-v,normalize(n),1.0/ior);vec3 modelScale;modelScale.x=length(vec3(modelMatrix[0].xyz));modelScale.y=length(vec3(modelMatrix[1].xyz));modelScale.z=length(vec3(modelMatrix[2].xyz));return normalize(refractionVector)*thickness*modelScale;}float applyIorToRoughness(const in float roughness,const in float ior){return roughness*clamp(ior*2.0-2.0,0.0,1.0);}vec4 getTransmissionSample(const in vec2 fragCoord,const in float roughness,const in float ior){float lod=log2(transmissionSamplerSize.x)*applyIorToRoughness(roughness,ior);return textureBicubic(tBackgroundPass,fragCoord.xy,lod);}vec3 volumeAttenuation(const in float transmissionDistance,const in vec3 attenuationColor,const in float attenuationDistance){if(isinf(attenuationDistance)){return vec3(1.0);}else{vec3 attenuationCoefficient=-log(attenuationColor)/attenuationDistance;vec3 transmittance=exp(-attenuationCoefficient*transmissionDistance);return transmittance;}}vec4 getIBLVolumeRefraction(const in vec3 n,const in vec3 v,const in float roughness,const in vec3 diffuseColor,const in vec3 specularColor,const in float specularF90,const in vec3 position,const in mat4 modelMatrix,const in mat4 viewMatrix,const in mat4 projMatrix,const in float dispersion,const in float ior,const in float thickness,const in vec3 attenuationColor,const in float attenuationDistance){vec4 transmittedLight;vec3 transmittance;
#ifdef USE_DISPERSION
float halfSpread=(ior-1.0)*0.025*dispersion;vec3 iors=vec3(ior-halfSpread,ior,ior+halfSpread);for(int i=0;i<3;i++){vec3 transmissionRay=getVolumeTransmissionRay(n,v,thickness,iors[i],modelMatrix);vec3 refractedRayExit=position+transmissionRay;vec4 ndcPos=projMatrix*viewMatrix*vec4(refractedRayExit,1.0);vec2 refractionCoords=ndcPos.xy/ndcPos.w;refractionCoords+=1.0;refractionCoords/=2.0;vec4 transmissionSample=getTransmissionSample(refractionCoords,roughness,iors[i]);transmittedLight[i]=transmissionSample[i];transmittedLight.a+=transmissionSample.a;transmittance[i]=diffuseColor[i]*volumeAttenuation(length(transmissionRay),attenuationColor,attenuationDistance)[i];}transmittedLight.a/=3.0;
#else
vec3 transmissionRay=getVolumeTransmissionRay(n,v,thickness,ior,modelMatrix);vec3 refractedRayExit=position+transmissionRay;vec4 ndcPos=projMatrix*viewMatrix*vec4(refractedRayExit,1.0);vec2 refractionCoords=ndcPos.xy/ndcPos.w;refractionCoords+=1.0;refractionCoords/=2.0;transmittedLight=getTransmissionSample(refractionCoords,roughness,ior);transmittance=diffuseColor*volumeAttenuation(length(transmissionRay),attenuationColor,attenuationDistance);
#endif
vec3 attenuatedColor=transmittance*transmittedLight.rgb;vec3 F=EnvironmentBRDF(n,v,specularColor,specularF90,roughness);float transmittanceFactor=(transmittance.r+transmittance.g+transmittance.b)/3.0;return vec4((1.0-F)*attenuatedColor,1.0-(1.0-transmittedLight.a)*transmittanceFactor);}
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
uniform float uFresnelAmount;uniform float uFresnelOffset;uniform float uFresnelFalloff;varying vec3 vView;varying vec3 vNormalFresnel;varying vec3 vPosition;uniform float uTime;uniform vec3 uHighlightColor;float map(float value,float min1,float max1,float min2,float max2){return min2+(value-min1)*(max2-min2)/(max1-min1);}vec3 loopingThreshold(float progress,float fillLength,float startFade,float endFade,float repeat){float progressModulo=fract(progress*repeat);progressModulo=smoothstep(0.0,fillLength,progressModulo);float startThreshold=smoothstep(0.0,startFade,progressModulo);float endThreshold=smoothstep(1.-endFade,1.0,progressModulo);return vec3(clamp(startThreshold-endThreshold,0.,1.),startThreshold,endThreshold);}float fresnelFunc(float amount,float offset,float falloff,vec3 normal,vec3 view){return clamp(offset+(1.0-offset)*pow(1.0-dot(normal,view),amount)*falloff,0.,1.);}
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main(){vec4 diffuseColor=vec4(diffuse,opacity);
#include <clipping_planes_fragment>
ReflectedLight reflectedLight=ReflectedLight(vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));vec3 totalEmissiveRadiance=emissive;
#include <logdepthbuf_fragment>
#include <map_fragment>
#include <color_fragment>
#include <alphamap_fragment>
#include <alphatest_fragment>
#include <alphahash_fragment>
#include <roughnessmap_fragment>
#include <metalnessmap_fragment>
#include <normal_fragment_begin>
vec2 screenCoords=gl_FragCoord.xy/uResolution.xy;vec3 fluidColor=texture2D(tFluidSim,screenCoords).rgb;float fluid=luminance(abs(fluidColor.rgb));fluid=smoothstep(0.1,0.9,fluid);fluid*=1.;vec3 viewDir=normalize(vView);float fresnel=fresnelFunc(uFresnelAmount,uFresnelOffset,uFresnelFalloff,normalize(vNormalFresnel),viewDir);roughnessFactor*=fresnel;float noise=snoise(vec3(vUv*10.,uTime*0.3))*0.5+0.5;float mappedYPosition=map(vPosition.y,-2.,2.,0.0,1.0);float mappedYPositionTopMask=smoothstep(-0.3,0.,vPosition.y);float time=uTime*0.12;float rippleFade=loopingThreshold(mod(mappedYPosition+time+noise*0.1,1.),0.6,0.2,0.9,2.).x;rippleFade*=1.-mappedYPositionTopMask;rippleFade=clamp(rippleFade,0.,1.);fluid*=1.-mappedYPositionTopMask;
#ifdef USE_NORMALMAP_OBJECTSPACE
normal=texture2D(normalMap,vNormalMapUv).xyz*2.0-1.0;
#ifdef FLIP_SIDED
normal=-normal;
#endif
#ifdef DOUBLE_SIDED
normal=normal*faceDirection;
#endif
normal=normalize(normalMatrix*normal);
#elif defined( USE_NORMALMAP_TANGENTSPACE )
vec3 mapN=texture2D(normalMap,vNormalMapUv).xyz*2.0-1.0;mapN.xy*=normalScale;normal=mix(normal,normalize(tbn*mapN),1.-mappedYPositionTopMask);
#elif defined( USE_BUMPMAP )
normal=perturbNormalArb(-vViewPosition,normal,dHdxy_fwd(),faceDirection);
#endif
#include <clearcoat_normal_fragment_begin>
#include <clearcoat_normal_fragment_maps>
#include <emissivemap_fragment>
#include <lights_physical_fragment>
#include <lights_fragment_begin>
#include <lights_fragment_maps>
#include <lights_fragment_end>
float ambientOcclusion=texture2D(aoMap,vAoMapUv).r;vec3 totalDiffuse=reflectedLight.directDiffuse+reflectedLight.indirectDiffuse;vec3 totalSpecular=reflectedLight.directSpecular+reflectedLight.indirectSpecular;
#include <transmission_fragment>
vec3 outgoingLight=totalDiffuse+totalSpecular+totalEmissiveRadiance;
#ifdef USE_SHEEN
float sheenEnergyComp=1.0-0.157*max3(material.sheenColor);outgoingLight=outgoingLight*sheenEnergyComp+sheenSpecularDirect+sheenSpecularIndirect;
#endif
#ifdef USE_CLEARCOAT
float dotNVcc=saturate(dot(geometryClearcoatNormal,geometryViewDir));vec3 Fcc=F_Schlick(material.clearcoatF0,material.clearcoatF90,dotNVcc);outgoingLight=outgoingLight*(1.0-material.clearcoat*Fcc)+(clearcoatSpecularDirect+clearcoatSpecularIndirect)*material.clearcoat;
#endif
outgoingLight.rgb+=vec3(1.-ambientOcclusion)*uHighlightColor*rippleFade*10.;outgoingLight.rgb+=vec3(1.-ambientOcclusion)*attenuationColor*fluid*10.;
#include <opaque_fragment>
#include <tonemapping_fragment>
#include <colorspace_fragment>
#include <fog_fragment>
#include <premultiplied_alpha_fragment>
#include <dithering_fragment>
}`;class Iue extends lo{constructor(t={}){t=An({materialOpts:{transmission:1,roughness:.1,thickness:1,color:16777215,dispersion:1,ior:1.5,attenuationDistance:200},customUniforms:{uFresnelAmount:{value:3,gui:{min:0,max:100,step:.01}},uFresnelOffset:{value:.05,gui:{min:0,max:1,step:.001}},uFresnelFalloff:{value:1.5,gui:{min:0,max:100,step:.01}},uHighlightColor:{value:new ke(16777215)}},backgroundSavePass:null},t);super(t.materialOpts);pe(this,"onBeforeCompile",t=>{Object.assign(t.uniforms,{...this.customUniforms,tBackgroundPass:{value:this.backgroundSavePass.renderTarget.texture}}),t.vertexShader=t.vertexShader.replace("#include <normal_pars_vertex>",`
			#include <normal_pars_vertex>
			varying vec3 vView;
			varying vec3 vNormalFresnel;
			varying vec3 vPosition;
			varying vec2 vUv;
			`),t.vertexShader=t.vertexShader.replace("#include <worldpos_vertex>",`
			#include <worldpos_vertex>
			vView = normalize(cameraPosition - worldPosition.xyz); // view direction in object space
			vNormalFresnel = normalize((modelMatrix * vec4(normal, 0.0)).xyz); // normalized object space normals
			`),t.vertexShader=t.vertexShader.replace("#include <begin_vertex>",`
			#include <begin_vertex>
			vPosition = vec3( position );
			vUv = uv;
			`),t.fragmentShader=Mue});this.backgroundSavePass=t.backgroundSavePass,this.customUniforms=t.customUniforms}}var Due=`#include <common>
#include <color_pars_vertex>
#include <clipping_planes_pars_vertex>
uniform float linewidth;uniform vec2 uResolution;attribute vec3 instanceStart;attribute vec3 instanceEnd;attribute float _random1;attribute float _random2;attribute float instanceProgressStart;attribute float instanceProgressEnd;varying float vProgress;varying float vRandom1;varying float vRandom2;varying vec2 vUv;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
void trimSegment(const in vec4 start,inout vec4 end){float a=projectionMatrix[2][2];float b=projectionMatrix[3][2];float nearEstimate=-0.5*b/a;float alpha=(nearEstimate-start.z)/(end.z-start.z);end.xyz=mix(start.xyz,end.xyz,alpha);}void main(){vRandom1=_random1;vRandom2=_random2;vUv=uv;vProgress=(position.y<0.5)? instanceProgressStart : instanceProgressEnd;float aspect=uResolution.x/uResolution.y;vec4 start=modelViewMatrix*vec4(instanceStart,1.0);vec4 end=modelViewMatrix*vec4(instanceEnd,1.0);
#ifdef WORLD_UNITS
worldStart=start.xyz;worldEnd=end.xyz;
#endif
bool perspective=(projectionMatrix[2][3]==-1.0);if(perspective){if(start.z<0.0&&end.z>=0.0){trimSegment(start,end);}else if(end.z<0.0&&start.z>=0.0){trimSegment(end,start);}}vec4 clipStart=projectionMatrix*start;vec4 clipEnd=projectionMatrix*end;vec3 ndcStart=clipStart.xyz/clipStart.w;vec3 ndcEnd=clipEnd.xyz/clipEnd.w;vec2 dir=ndcEnd.xy-ndcStart.xy;dir.x*=aspect;dir=normalize(dir);
#ifdef WORLD_UNITS
vec3 worldDir=normalize(end.xyz-start.xyz);vec3 tmpFwd=normalize(mix(start.xyz,end.xyz,0.5));vec3 worldUp=normalize(cross(worldDir,tmpFwd));vec3 worldFwd=cross(worldDir,worldUp);worldPos=position.y<0.5 ? start: end;float hw=linewidth*0.5;worldPos.xyz+=position.x<0.0 ? hw*worldUp :-hw*worldUp;
#ifndef USE_DASH
worldPos.xyz+=position.y<0.5 ?-hw*worldDir : hw*worldDir;worldPos.xyz+=worldFwd*hw;if(position.y>1.0||position.y<0.0){worldPos.xyz-=worldFwd*2.0*hw;}
#endif
vec4 clip=projectionMatrix*worldPos;vec3 clipPose=(position.y<0.5)? ndcStart : ndcEnd;clip.z=clipPose.z*clip.w;
#else
vec2 offset=vec2(dir.y,-dir.x);dir.x/=aspect;offset.x/=aspect;if(position.x<0.0)offset*=-1.0;if(position.y<0.0){offset+=-dir;}else if(position.y>1.0){offset+=dir;}offset*=linewidth;offset/=uResolution.y;vec4 clip=(position.y<0.5)? clipStart : clipEnd;offset*=clip.w;clip.xy+=offset;
#endif
gl_Position=clip;vec4 mvPosition=(position.y<0.5)? start : end;
#include <clipping_planes_vertex>
}`,Pue=`varying float vProgress;varying float vRandom1;varying float vRandom2;varying vec2 vUv;uniform vec3 diffuse;uniform float opacity;uniform float linewidth;uniform float uRevealProgress;uniform float uParticleProgress;uniform float uAmbientParticleProgress;uniform bool uDevCameraActive;uniform float uTime;
#ifdef WORLD_UNITS
varying vec4 worldPos;varying vec3 worldStart;varying vec3 worldEnd;
#endif
#include <default_pars>
#include <color_pars_fragment>
#include <clipping_planes_pars_fragment>
vec2 closestLineToLine(vec3 p1,vec3 p2,vec3 p3,vec3 p4){float mua;float mub;vec3 p13=p1-p3;vec3 p43=p4-p3;vec3 p21=p2-p1;float d1343=dot(p13,p43);float d4321=dot(p43,p21);float d1321=dot(p13,p21);float d4343=dot(p43,p43);float d2121=dot(p21,p21);float denom=d2121*d4343-d4321*d4321;float numer=d1343*d4321-d1321*d4343;mua=numer/denom;mua=clamp(mua,0.0,1.0);mub=(d1343+d4321*(mua))/d4343;mub=clamp(mub,0.0,1.0);return vec2(mua,mub);}float pulse(float time,float frequency){const float pi=3.14;return 0.5*(1.+sin(2.*pi*frequency*time));}vec3 loopingThreshold(float progress,float fillLength,float startFade,float endFade,float repeat){float progressModulo=fract(progress*repeat);progressModulo=smoothstep(0.0,fillLength,progressModulo);float startThreshold=smoothstep(0.0,startFade,progressModulo);float endThreshold=smoothstep(1.-endFade,1.0,progressModulo);return vec3(startThreshold-endThreshold,startThreshold,endThreshold);}void main(){
#include <clipping_planes_fragment>
if(vUv.y<-1.0||vUv.y>1.0)discard;float alpha=opacity;alpha*=pulse(vProgress-vRandom2-uTime*0.2,2.)*1.;float randomReveal=map(vRandom1,0.,1.,0.7,1.);float revealThreshold=1.-smoothstep(uRevealProgress-0.1,uRevealProgress,vProgress*randomReveal);if(uDevCameraActive)revealThreshold=1.;alpha*=revealThreshold;float time=uParticleProgress+vRandom2*0.01;float progress=map(vProgress,0.,1.,0.,1.)-time;vec3 thresholds=loopingThreshold(mod(progress,1.0),0.005,0.01,0.01,1.)*(1.+vRandom2*50.);alpha+=thresholds.x;
#ifdef WORLD_UNITS
vec3 rayEnd=normalize(worldPos.xyz)*1e5;vec3 lineDir=worldEnd-worldStart;vec2 params=closestLineToLine(worldStart,worldEnd,vec3(0.0,0.0,0.0),rayEnd);vec3 p1=worldStart+lineDir*params.x;vec3 p2=rayEnd*params.y;vec3 delta=p1-p2;float len=length(delta);float norm=len/linewidth;
#ifndef USE_DASH
#ifdef USE_ALPHA_TO_COVERAGE
float dnorm=fwidth(norm);alpha=1.0-smoothstep(0.5-dnorm,0.5+dnorm,norm)+opacity;
#else
if(norm>0.5){discard;}
#endif
#endif
#else
#ifdef USE_ALPHA_TO_COVERAGE
float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;float dlen=fwidth(len2);if(abs(vUv.y)>1.0){alpha=1.0-smoothstep(1.0-dlen,1.0+dlen,len2);}
#else
if(abs(vUv.y)>1.0){float a=vUv.x;float b=(vUv.y>0.0)? vUv.y-1.0 : vUv.y+1.0;float len2=a*a+b*b;if(len2>1.0)discard;}
#endif
#endif
vec4 diffuseColor=vec4(pow(diffuse,vec3(1.3+(vRandom1*2.-1.))),alpha);alpha*=smoothstep(1.-vRandom2*0.25,0.5+vRandom2*0.25,vProgress);time=uTime*(0.05+vRandom2*0.05)+vRandom1*0.9;progress=map(vProgress,0.,1.,0.,1.)-time;thresholds=loopingThreshold(mod(progress,1.0),0.01,0.01,0.01,2.)*(1.+vRandom2*10.)*(1.-smoothstep(uAmbientParticleProgress-0.1,uAmbientParticleProgress,vProgress));alpha+=thresholds.x;gl_FragColor=vec4(diffuseColor.rgb,alpha);
#include <tonemapping_fragment>
#include <colorspace_fragment>
#include <premultiplied_alpha_fragment>
}`;class i6 extends is{constructor(e={}){e=An({vertexShader:Due,fragmentShader:Pue,uniforms:{diffuse:{value:new ke(16777215)},opacity:{value:1,gui:{min:0,step:.01}},uRevealProgress:{value:0,gui:{min:0,max:1,step:.01}},uParticleProgress:{value:0,gui:{min:-1,max:2,step:.01}},uAmbientParticleProgress:{value:0,gui:{min:-1,max:2,step:.01}},linewidth:{value:1,gui:{step:.01}}},defines:{USE_ALPHA_TO_COVERAGE:!1,WORLD_UNITS:!1},transparent:!0},e),super(e)}}class Rue extends co(){constructor(){super({name:"Biology Orb"})}build(){this.group=new Va,this.group.name=this.name+" / Group",this.add(this.group),this.irisLines=new tp(new Ld,new i6),this.irisLines.name=this.name+" / Iris Lines";const e=this.assets.models.irisLines.geometry.toNonIndexed();this.irisLines.geometry.setPositions(e.attributes.position.array);const t=e.attributes._progress,i=new Float32Array(t.count);for(let c=0,u=0,f=t.count;c<f;c++,u+=2)i[u]=t.getX(u),i[u+1]=t.getX(u+1);const r=new Yr(i,2,1);this.irisLines.geometry.setAttribute("instanceProgressStart",new fn(r,1,0)),this.irisLines.geometry.setAttribute("instanceProgressEnd",new fn(r,1,1)),this.irisLines.geometry.setAttribute("_random1",new fn(new Yr(e.attributes._random1.array,2,1),1,0)),this.irisLines.geometry.setAttribute("_random2",new fn(new Yr(e.attributes._random2.array,2,1),1,0)),this.group.add(this.irisLines),this.irisLines2=new tp(new Ld,new i6),this.irisLines2.name=this.name+" / Iris Lines 2";const s=this.assets.models.irisLines2.geometry.toNonIndexed();this.irisLines2.geometry.setPositions(s.attributes.position.array);const o=s.attributes._progress,a=new Float32Array(o.count);for(let c=0,u=0,f=o.count;c<f;c++,u+=2)a[u]=o.getX(u),a[u+1]=o.getX(u+1);const l=new Yr(a,2,1);this.irisLines2.geometry.setAttribute("instanceProgressStart",new fn(l,1,0)),this.irisLines2.geometry.setAttribute("instanceProgressEnd",new fn(l,1,1)),this.irisLines2.geometry.setAttribute("_random1",new fn(new Yr(s.attributes._random1.array,2,1),1,0)),this.irisLines2.geometry.setAttribute("_random2",new fn(new Yr(s.attributes._random2.array,2,1),1,0)),this.group.add(this.irisLines2),this.ball=new Qe(this.assets.models.ball.geometry,new Iue({materialOpts:{transmission:1,roughness:.1,thickness:1,color:16777215,dispersion:1,ior:1.5,envMap:this.assets.textures.envmap,normalMap:this.assets.textures.ballNormal,aoMap:this.assets.textures.ballAo},customUniforms:{tFluidSim:{value:S.WebGL.fluidSim.advectionSimVelocity.texture},uFresnelAmount:{value:3,gui:{min:0,max:100,step:.01}},uFresnelOffset:{value:.05,gui:{min:0,max:1,step:.001}},uFresnelFalloff:{value:1.5,gui:{min:0,max:100,step:.01}},uTime:S.WebGL.globalUniforms.uTime,uResolution:S.WebGL.globalUniforms.uResolution},backgroundSavePass:this.parent.backgroundSavePass})),this.ball.name=this.name+" / Ball",this.ball.renderOrder=1,this.group.add(this.ball),this.ball.onBeforeRender=()=>{S.WebGL.renderer.clear(!1,!0,!1),this.ball.material.customUniforms.tFluidSim.value=S.WebGL.fluidSim.advectionSimVelocity.texture,this.ball.material.customUniforms.uResolution.value.copy(S.WebGL.globalUniforms.uResolution.value),this.ball.material.customUniforms.uTime.value=S.WebGL.globalUniforms.uTime.value}}load(){S.AssetLoader.loadGltf("/webgl/models/eye.glb").then(e=>{this.assets.models.irisLines=e.scene.getObjectByName("iris-lines-01"),this.assets.models.irisLines2=e.scene.getObjectByName("iris-lines-02"),this.assets.models.ball=e.scene.getObjectByName("ball")}),S.AssetLoader.loadTexture("/webgl/textures/soft-light-env.webp",{mapping:$a,wrapping:ts,colorSpace:En}).then(e=>{this.assets.textures.envmap=e}),S.AssetLoader.loadTexture("/webgl/textures/hex-normal.png",{wrapping:ts}).then(e=>{this.assets.textures.ballNormal=e}),S.AssetLoader.loadTexture("/webgl/textures/hex-ao.jpg",{wrapping:ts,minFilter:Yt}).then(e=>{this.assets.textures.ballAo=e})}addGui(){S.theatre.helper.autoAddObject(this.group,this.parent.prettyName,{exclude:["position","rotation"]}).onValuesChange(i=>{this.irisLines.scale.copy(i.transforms.scale),this.irisLines2.scale.copy(i.transforms.scale)},S.theatre.rafDriver),S.theatre.helper.autoAddObject(this.irisLines,this.parent.prettyName,{exclude:["position","rotation","scale"]}),S.theatre.helper.autoAddObject(this.irisLines2,this.parent.prettyName,{exclude:["position","rotation","scale"]});const e=new ke(16777215);e.convertLinearToSRGB(),e.isSRGB=!0;const t={material:{fresnelAmount:Te.types.number(this.ball.material.customUniforms.uFresnelAmount.value,{range:[0,100],nudgeMultiplier:.01}),fresnelOffset:Te.types.number(this.ball.material.customUniforms.uFresnelOffset.value,{range:[0,1],nudgeMultiplier:.001}),fresnelFalloff:Te.types.number(this.ball.material.customUniforms.uFresnelFalloff.value,{range:[0,100],nudgeMultiplier:.01}),highlightColor:Te.types.rgba({r:e.r,g:e.g,b:e.b,a:1},{label:"Highlight Color"})}};S.theatre.helper.autoAddObject(this.ball,this.parent.prettyName,{additionalConfig:t}).onValuesChange(i=>{this.ball.material.customUniforms.uFresnelAmount.value=i.material.fresnelAmount,this.ball.material.customUniforms.uFresnelOffset.value=i.material.fresnelOffset,this.ball.material.customUniforms.uFresnelFalloff.value=i.material.fresnelFalloff,this.ball.material.customUniforms.uHighlightColor.value.copySRGBToLinear(i.material.highlightColor)},S.theatre.rafDriver)}}class Bue extends cc{constructor(){super("biology-orb",{domId:"biology",domAlign:"right"}),this.components=Object.assign({orb:new Rue}),this.glassObjectsScene=new Wa,this.glassObjectsScene.name=this.prettyName}start(){super.start(),this.renderPassOrbObjects.enabled=!0,this.backgroundSavePass.enabled=!0}stop(){super.stop(),this.renderPassOrbObjects.enabled=!1,this.backgroundSavePass.enabled=!1}build(){super.build(),this.glassObjectsScene.add(this.backgroundSphere),this.glassObjectsScene.add(this.components.orb.irisLines),this.glassObjectsScene.add(this.components.orb.irisLines2)}buildPasses(){super.buildPasses(),this.renderPass.clear=!1,this.renderPass.clearDepth=!0,this.renderPassOrbObjects=new h4(this.glassObjectsScene,this.activeCamera),this.renderPassOrbObjects.name=`${this.name} Render Orb Objects`,this.renderPassOrbObjects.enabled=!1,this.backgroundSavePass=new p4(new ai(S.window.w*S.WebGL.renderer.getPixelRatio(),S.window.h*S.WebGL.renderer.getPixelRatio(),{type:nn,generateMipmaps:!0,minFilter:Qx})),this.backgroundSavePass.name=`${this.name} Background Save`,this.backgroundSavePass.enabled=!1,this.backgroundSavePass.renderTarget.setSize(S.window.w*S.WebGL.renderer.getPixelRatio(),S.window.h*S.WebGL.renderer.getPixelRatio()),S.WebGL.composerPasses.add(this.renderPassOrbObjects,S.WebGL.composerPassOrder[this.name]+2),S.WebGL.composerPasses.add(this.backgroundSavePass,S.WebGL.composerPassOrder[this.name]+3)}addAdditionalDesktopScrollAnimations(e){e.fromTo([this.components.orb.group.position,this.components.orb.irisLines.position,this.components.orb.irisLines2.position],{x:-1.34,y:.8,z:0},{x:0,y:0,z:0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-logo-grid`,start:"center center-=10%",end:"top top-=30%",scrub:.1}},0).fromTo([this.components.orb.group.rotation,this.components.orb.irisLines.rotation,this.components.orb.irisLines2.rotation],{x:.78,y:.08,z:.81},{x:.82,y:1.46,z:.73,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-logo-grid`,start:"center center-=10%",end:"top top-=30%",scrub:.1}},0)}addAdditionalMobileScrollAnimations(e){e.fromTo([this.components.orb.group.position,this.components.orb.irisLines.position,this.components.orb.irisLines2.position],{x:-1.47,y:.8,z:0},{x:0,y:0,z:0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-logo-grid`,start:"top top",end:"top top-=10%",scrub:.1,preventOverlaps:!0,fastScrollEnd:!0}},0).fromTo([this.components.orb.group.rotation,this.components.orb.irisLines.rotation,this.components.orb.irisLines2.rotation],{x:.78,y:.08,z:.81},{x:.82,y:1.46,z:.73,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-logo-grid`,start:"top top",end:"top top-=10%",scrub:.1,preventOverlaps:!0,fastScrollEnd:!0}},0)}destroy(){super.destroy(),this.renderPassOrbObjects.dispose(),this.backgroundSavePass.dispose()}}var Lue=`#include <default_pars>
#include <normals_tangents_vert_pars>
#include <world_position_transform_vert_pars>
varying vec2 vUv;varying vec3 vPos;varying float vRingId;varying float vDisplacement;attribute vec2 aFboUv;uniform float uTime;uniform vec3 uScale;uniform sampler2D tPosition;uniform sampler2D tOriginalPosition;varying vec3 vDebug;varying vec2 vHighPrecisionZW;uniform float uEnterBlockScale;float fresnelFunc(float amount,float offset,float falloff,vec3 normal,vec3 view){return clamp(offset+(1.0-offset)*pow(1.0-dot(normal,view),amount)*falloff,0.,1.);}mat3 lookAtPoint(vec3 target,vec3 position){vec3 localUp=vec3(0,1,0);vec3 forward=normalize(position-target);vec3 right=normalize(cross(localUp,forward));vec3 up=normalize(cross(forward,right));return mat3(right,up,forward);}mat3 rotationMatrix(vec3 axis,float angle){axis=normalize(axis);float s=sin(angle);float c=cos(angle);float oc=1.0-c;return mat3(oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c);}float rand(float n){return fract(sin(n)*43758.5453123);}void main(){vUv=uv;vec4 transformedPosition=vec4(position,1.0);vec4 originalPosFetch=texture2D(tOriginalPosition,aFboUv);vRingId=originalPosFetch.w;vec4 tilePosition=texture2D(tPosition,aFboUv);vDisplacement=tilePosition.w;transformedPosition.xyz*=uScale;float normalizeRingIndex=vRingId/40.0;float scaleSmoothness=0.2;float mappedScaleProgress=map(uEnterBlockScale,0.0,1.0,0.0,1.0+scaleSmoothness);transformedPosition.xyz*=1.0-smoothstep(mappedScaleProgress-scaleSmoothness,mappedScaleProgress,1.0-normalizeRingIndex);float scaleAmount=mix(0.5,1.0,smoothstep(0.0,4.0,originalPosFetch.w)-smoothstep(33.0,37.,originalPosFetch.w));transformedPosition.x*=scaleAmount;mat3 lookAt=lookAtPoint(tilePosition.xyz,vec3(0.0));transformedPosition.xyz=lookAt*transformedPosition.xyz;
#include <instance_offset_vert>
transformedPosition.xyz+=tilePosition.xyz;vec3 objectNormal=vec3(normal);vec3 objectTangent=vec3(tangent.xyz);vec3 transformedNormal=lookAtPoint(transformedPosition.xyz,vec3(0.0))*objectNormal;
#ifdef USE_INSTANCING
mat3 m=mat3(instanceMatrix);transformedNormal/=vec3(dot(m[0],m[0]),dot(m[1],m[1]),dot(m[2],m[2]));transformedNormal=m*transformedNormal;
#endif
transformedNormal=normalMatrix*transformedNormal;vec3 transformedTangent=(modelViewMatrix*vec4(objectTangent,0.0)).xyz;vNormal=normalize(transformedNormal);vTangent=normalize(transformedTangent);vBitangent=normalize(cross(vNormal,vTangent)*tangent.w);vPos=transformedPosition.xyz;vDebug=vec3(tilePosition.w);
#include <world_position_transform_vert>
#include <mv_position_transform_vert>
#include <varyings_vert>
gl_Position=projectionMatrix*mvPosition;vHighPrecisionZW=gl_Position.zw;}`,Fue=`#include <default_pars>
#include <packing>
#include <default_frag_pars>
#include <dynamic_frag_pars>
#include <tonemapping_pars_fragment>
uniform int uToneMapping;varying float vRingId;varying vec2 vUv;varying vec3 vDebug;varying vec3 vPos;varying float vDisplacement;uniform bool uDevCameraActive;uniform bool uDebug;uniform vec3 uInsideGlowColor;uniform float uInsideGlowStrength;uniform vec3 uDisplacementColor;varying vec2 vHighPrecisionZW;void main(){
#if defined(DEPTH_PACKING) || defined(DEPTH_NORMAL_PACKING)
gl_FragColor=vec4(vec3(1.),1.0);
#else
#include <dynamic_frag>
gl_FragColor.rgb+=max(0.0,smoothstep(-0.5,0.5,-vPos.z))*uInsideGlowStrength*uInsideGlowColor;gl_FragColor.rgb+=uDisplacementColor*vDisplacement;if(uDebug)gl_FragColor.rgb=vec3(vDebug);
#endif
if(vRingId>100.0){discard;}
#include <tonemapping_frag>
#include <colorspace_fragment>
#ifdef DEPTH_PACKING
float fragCoordZ=0.5*vHighPrecisionZW[0]/vHighPrecisionZW[1]+0.5;gl_FragColor=vec4(1.0)-vec4(vec3(0.0),1.0);
#elif defined(DEPTH_NORMAL_PACKING)
float fragCoordZ=0.5*vHighPrecisionZW[0]/vHighPrecisionZW[1]+0.5;pc_fragColor=vec4(vNormal,fragCoordZ);
#endif
}`;class Oue extends NA{constructor(e={}){e=An({vertexShader:Lue,fragmentShader:Fue,uniforms:{uEnterBlockScale:{value:1,gui:{min:0,max:1,step:.01}},uScale:{value:new Z(1,1,1),gui:{min:0,step:.01}},uDisplacementColor:{value:new ke(16711935)},uInsideGlowColor:{value:new ke(16770019)},uInsideGlowStrength:{value:1,gui:{min:0,step:.01}},uDebug:{value:!1},uRoughness:{value:.023,gui:{min:0,max:1,step:.001}},uMetalness:{value:1,gui:{min:0,max:1,step:.001}},uMatcapBlendMode:{value:5,gui:{min:0,max:5,step:1}}},defines:{FLAT_SHADED:!0,USE_MATCAP:!1,USE_ENV:!0}},e),super(e)}}var Uue=`#include <default_pars>
varying vec2 vUv;uniform sampler2D tOriginalTexture;uniform sampler2D tTexture;uniform mat4 uModelMatrix;uniform mat4 uViewMatrix;uniform mat4 uProjectionMatrix;uniform float uTime;uniform float uDelta;uniform float uNormalizedDelta;uniform float uLerpSpeed;uniform float uSetup;uniform float uRingRotationSpeed;uniform float uRotationAngle;uniform vec2 uMouse;uniform float uMouseDisplacementStrength;uniform float uMouseRadius;uniform float uMouseFresnelAmount;uniform float uMouseFresnelOffset;uniform float uMouseFresnelFalloff;uniform float uAmbientDisplacementStrength;uniform float uAmbientDisplacementScale;uniform float uAmbientDisplacementSpeed;uniform float uBeatOscillationSpeed;uniform float uBeatSpeed;float fresnelFunc(float amount,float offset,float falloff,vec3 normal,vec3 view){return clamp(offset+(1.0-offset)*pow(1.0-dot(normal,view),amount)*falloff,0.,1.);}float rand(vec2 co){return fract(sin(dot(co.xy,vec2(12.9898,78.233)))*43758.5453);}float rand(float n){return fract(sin(n)*43758.5453123);}mat3 rotationMatrix(vec3 axis,float angle){axis=normalize(axis);float s=sin(angle);float c=cos(angle);float oc=1.0-c;return mat3(oc*axis.x*axis.x+c,oc*axis.x*axis.y-axis.z*s,oc*axis.z*axis.x+axis.y*s,oc*axis.x*axis.y+axis.z*s,oc*axis.y*axis.y+c,oc*axis.y*axis.z-axis.x*s,oc*axis.z*axis.x-axis.y*s,oc*axis.y*axis.z+axis.x*s,oc*axis.z*axis.z+c);}vec4 permute(vec4 x){return mod(((x*34.0)+1.0)*x,289.0);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}vec3 fade(vec3 t){return t*t*t*(t*(t*6.0-15.0)+10.0);}float cnoise(vec3 P){vec3 Pi0=floor(P);vec3 Pi1=Pi0+vec3(1.0);Pi0=mod(Pi0,289.0);Pi1=mod(Pi1,289.0);vec3 Pf0=fract(P);vec3 Pf1=Pf0-vec3(1.0);vec4 ix=vec4(Pi0.x,Pi1.x,Pi0.x,Pi1.x);vec4 iy=vec4(Pi0.yy,Pi1.yy);vec4 iz0=Pi0.zzzz;vec4 iz1=Pi1.zzzz;vec4 ixy=permute(permute(ix)+iy);vec4 ixy0=permute(ixy+iz0);vec4 ixy1=permute(ixy+iz1);vec4 gx0=ixy0/7.0;vec4 gy0=fract(floor(gx0)/7.0)-0.5;gx0=fract(gx0);vec4 gz0=vec4(0.5)-abs(gx0)-abs(gy0);vec4 sz0=step(gz0,vec4(0.0));gx0-=sz0*(step(0.0,gx0)-0.5);gy0-=sz0*(step(0.0,gy0)-0.5);vec4 gx1=ixy1/7.0;vec4 gy1=fract(floor(gx1)/7.0)-0.5;gx1=fract(gx1);vec4 gz1=vec4(0.5)-abs(gx1)-abs(gy1);vec4 sz1=step(gz1,vec4(0.0));gx1-=sz1*(step(0.0,gx1)-0.5);gy1-=sz1*(step(0.0,gy1)-0.5);vec3 g000=vec3(gx0.x,gy0.x,gz0.x);vec3 g100=vec3(gx0.y,gy0.y,gz0.y);vec3 g010=vec3(gx0.z,gy0.z,gz0.z);vec3 g110=vec3(gx0.w,gy0.w,gz0.w);vec3 g001=vec3(gx1.x,gy1.x,gz1.x);vec3 g101=vec3(gx1.y,gy1.y,gz1.y);vec3 g011=vec3(gx1.z,gy1.z,gz1.z);vec3 g111=vec3(gx1.w,gy1.w,gz1.w);vec4 norm0=taylorInvSqrt(vec4(dot(g000,g000),dot(g010,g010),dot(g100,g100),dot(g110,g110)));g000*=norm0.x;g010*=norm0.y;g100*=norm0.z;g110*=norm0.w;vec4 norm1=taylorInvSqrt(vec4(dot(g001,g001),dot(g011,g011),dot(g101,g101),dot(g111,g111)));g001*=norm1.x;g011*=norm1.y;g101*=norm1.z;g111*=norm1.w;float n000=dot(g000,Pf0);float n100=dot(g100,vec3(Pf1.x,Pf0.yz));float n010=dot(g010,vec3(Pf0.x,Pf1.y,Pf0.z));float n110=dot(g110,vec3(Pf1.xy,Pf0.z));float n001=dot(g001,vec3(Pf0.xy,Pf1.z));float n101=dot(g101,vec3(Pf1.x,Pf0.y,Pf1.z));float n011=dot(g011,vec3(Pf0.x,Pf1.yz));float n111=dot(g111,Pf1);vec3 fade_xyz=fade(Pf0);vec4 n_z=mix(vec4(n000,n100,n010,n110),vec4(n001,n101,n011,n111),fade_xyz.z);vec2 n_yz=mix(n_z.xy,n_z.zw,fade_xyz.y);float n_xyz=mix(n_yz.x,n_yz.y,fade_xyz.x);return 2.2*n_xyz;}float noise(float p){float fl=floor(p);float fc=fract(p);return mix(rand(fl),rand(fl+1.0),fc);}float noise(vec2 n){const vec2 d=vec2(0.0,1.0);vec2 b=floor(n),f=smoothstep(vec2(0.0),vec2(1.0),fract(n));return mix(mix(rand(b),rand(b+d.yx),f.x),mix(rand(b+d.xy),rand(b+d.yy),f.x),f.y);}float easeOutExpo(float t,float power){return 1.0-pow(2.0,-power*t);}float easeInExpo(float t,float power){return pow(2.0,power*(t-1.0));}void main(){vec2 uv=vUv;vec4 originalPosFetch=texture2D(tOriginalTexture,uv);float ringId=originalPosFetch.w;vec4 position=texture2D(tTexture,uv);vec3 currentPos=position.xyz;float randOffset=max(0.3,rand(ringId+545864.));float direction=1.0;mat3 rotation=rotationMatrix(vec3(0.,1.,0.),uTime*randOffset*direction*uRingRotationSpeed);rotation=rotation*rotationMatrix(vec3(0.,1.,0.),uRotationAngle);vec3 target=rotation*originalPosFetch.xyz;float randomIndex=rand(vUv);float randomIndex2=rand(vUv*2.0+4651.);vec3 sphereNormal=normalize(originalPosFetch.xyz);vec3 rotatedNormal=rotation*sphereNormal;vec4 earlyViewPosition=uViewMatrix*uModelMatrix*vec4(target,1.0);vec4 earlyProjection=uProjectionMatrix*earlyViewPosition;vec2 screenPos=earlyProjection.xy/earlyProjection.w*0.5+0.5;float distance=distance(screenPos,uMouse);float displacementFactor=1.-smoothstep(0.0,uMouseRadius,distance);float displacement=uMouseDisplacementStrength*displacementFactor*(sin(uTime*1.5+randomIndex*PI*2.0)*0.5+1.0);displacement+=uAmbientDisplacementStrength*map(randomIndex2,0.0,1.0,0.5,1.15)*smoothstep(cnoise(vec3(screenPos*uAmbientDisplacementScale,uTime*uAmbientDisplacementSpeed)),0.0,1.0);vec3 viewDir=-earlyViewPosition.xyz;vec3 fresnelNormal=(uModelMatrix*vec4(rotation*sphereNormal,1.0)).rgb;float fresnel=max(0.0,1.0-fresnelFunc(uMouseFresnelAmount,uMouseFresnelOffset,uMouseFresnelFalloff,fresnelNormal,viewDir));target+=rotatedNormal*displacement*fresnel;if(uSetup>0.5){gl_FragColor=vec4(target,displacement*fresnel);return;}currentPos+=(target-currentPos)*uNormalizedDelta*uLerpSpeed;gl_FragColor=vec4(currentPos,displacement*fresnel);if(ringId>100.){gl_FragColor=vec4(currentPos,999.9);}}`;class Nue extends co(){constructor(){super({name:"Team Orb",speed:.0015,scrollResponsiveness:.035,scrollMaxSpeed:6});pe(this,"onResize",()=>{});this.pointerPos=new De(-10,-10),this.targetPointerPos=new De(-10,-10),this.scrollSpeedMultiplier=1,this.enableRotationOnScroll=0,this._rotation=0}build(){this.assets.textures.envmapPMREM=S.WebGL.pmremHandler.buildEnvironmentTexture(this,this.assets.textures.envmap);const t=this.assets.models.ball.geometry.attributes.position.count;this.textureWidth=Math.ceil(Math.sqrt(t)),this.count=this.textureWidth*this.textureWidth,this.positionSim=new Qr({width:this.textureWidth,height:this.textureWidth,fragmentShader:Uue,uniforms:{uBeatSpeed:{value:10},uSetup:{value:1},uLerpSpeed:{value:.1,gui:{min:0,max:1,step:.001}},uRotationAngle:{value:0},uRingRotationSpeed:{value:.08,gui:{min:0,step:.01}},uMouseDisplacementStrength:{value:.19,gui:{min:0,step:.01}},uMouseRadius:{value:.15,gui:{min:0,step:.01}},uMouseFresnelAmount:{value:2,gui:{min:0,max:100,step:.01}},uMouseFresnelOffset:{value:.01,gui:{min:0,max:1,step:.001}},uMouseFresnelFalloff:{value:.05,gui:{min:0,max:100,step:.01}},uAmbientDisplacementStrength:{value:.05,gui:{min:0,max:1,step:.01}},uAmbientDisplacementScale:{value:.05,gui:{min:0,step:.01}},uAmbientDisplacementSpeed:{value:.05,gui:{min:0,step:.01}},uMouse:{value:this.pointerPos},uModelMatrix:{value:new xt},uViewMatrix:{value:this.parent.activeCamera.matrixWorldInverse},uProjectionMatrix:{value:this.parent.activeCamera.projectionMatrix}},createTexture:!0,type:Zt,data:this.getSphereData()}),this.positionSim.uniforms.uSetup.value=0,this.mesh=new wp(this.assets.models.cube.geometry.rotateY(Math.PI*.5).rotateZ(Math.PI*.5).scale(.05,.05,.05),new Oue({uniforms:{tOriginalPosition:{value:this.positionSim.originalTexture},tPosition:{value:this.positionSim.texture},tEnvMap:{value:this.assets.textures.envmapPMREM}}}),this.count),this.add(this.mesh),this.mesh.name=this.name,this.mesh.frustumCulled=!1,this.defaultMaterial=this.mesh.material,this.depthMaterial=new Cn({vertexShader:this.defaultMaterial.vertexShader,fragmentShader:this.defaultMaterial.fragmentShader,uniforms:this.defaultMaterial.uniforms,defines:{DEPTH_PACKING:Kx}}),this.godraysMaterial=new Cn({vertexShader:this.defaultMaterial.vertexShader,fragmentShader:this.defaultMaterial.fragmentShader,uniforms:this.defaultMaterial.uniforms,defines:{DEPTH_NORMAL_PACKING:!0}});const i=new jt,r=[];for(let s=0;s<this.count;s++)i.updateMatrix(),this.mesh.setMatrixAt(s,i.matrix),r.push(Math.random(),Math.random(),Math.random());this.mesh.geometry.setAttribute("aFboUv",this.positionSim.fboUv.attributeInstanced),this.mesh.geometry.setAttribute("aRandom",new Do(new Float32Array(r),3)),this.mesh.updateMatrix(),this.positionSim.uniforms.uModelMatrix.value=this.mesh.matrixWorld,oc(this.onResize,!1),this.onResize()}getSphereData(){const t=new Float32Array(this.textureWidth*this.textureWidth*4);for(let i=0;i<this.textureWidth*this.textureWidth*4;i+=4){const r=i/4,s=this.assets.models.ball.geometry.attributes.position.getX(r),o=this.assets.models.ball.geometry.attributes.position.getY(r),a=this.assets.models.ball.geometry.attributes.position.getZ(r),l=this.assets.models.ball.geometry.attributes._ringid.array[r];if(s===void 0||o===void 0||a===void 0){t[i+0]=999.99,t[i+1]=999.99,t[i+2]=999.99,t[i+3]=999.99;continue}t[i+0]=s,t[i+1]=o,t[i+2]=a,t[i+3]=l}return t}update(){this.updateScrollRotation(this.parent.scrollVelocity*this.enableRotationOnScroll),this._rotation+=this.options.speed*this.scrollSpeedMultiplier*S.WebGL.normalizedDelta,this.positionSim.uniforms.uRotationAngle.value=this._rotation,S.pointer.glScreenSpace.equals(this.targetPointerPos)||(this.targetPointerPos.copy(S.pointer.glScreenSpace),this.pointerPos.x===-10&&this.pointerPos.y===-10&&this.pointerPos.copy(this.targetPointerPos)),this.pointerPos.lerp(this.targetPointerPos,.06),this.positionSim.uniforms.uMouse.value.copy(this.pointerPos),this.positionSim.uniforms.uModelMatrix.value=this.mesh.matrixWorld,this.positionSim.uniforms.uViewMatrix.value=this.parent.activeCamera.matrixWorldInverse,this.positionSim.uniforms.uProjectionMatrix.value=this.parent.activeCamera.projectionMatrix,this.positionSim.update(),this.mesh.material.uniforms.tPosition.value=this.positionSim.texture}updateScrollRotation(t){this.scrollSpeedMultiplier=1+Math.abs(t)*this.options.scrollResponsiveness,this.scrollSpeedMultiplier=gn.clamp(this.scrollSpeedMultiplier,1,this.options.scrollMaxSpeed)}preRender(){this.positionSim.uniforms.uSetup.value=1,this.positionSim.update(),this.positionSim.uniforms.uSetup.value=0}setDepthMaterial(){this.mesh.material=this.depthMaterial}setDefaultMaterial(){this.mesh.material=this.defaultMaterial}setGodraysMaterial(){this.mesh.material=this.godraysMaterial}destroy(){var t,i;super.destroy(),this.mesh.geometry.dispose(),this.defaultMaterial.dispose(),this.depthMaterial.dispose(),this.godraysMaterial.dispose(),this.positionSim.destroy(),this.remove(this.mesh),this.parent.remove(this);for(const r in this.assets.textures)this.assets.textures[r].dispose();for(const r in this.assets.models)(t=this.assets.models[r].geometry)==null||t.dispose(),(i=this.assets.models[r].material)==null||i.dispose();this.pointerPos.set(-10,-10),this.targetPointerPos.set(-10,-10)}load(){S.AssetLoader.loadGltf("/webgl/models/team-ball.glb").then(t=>{this.assets.models.ball=t.scene.children[0]}),S.AssetLoader.loadGltf("/webgl/models/team-cube.glb").then(t=>{this.assets.models.cube=t.scene.children[0]}),S.AssetLoader.loadTexture("/webgl/textures/team-orb-env.jpg",{mapping:$a,colorSpace:En,wrapping:ts}).then(t=>{this.assets.textures.envmap=t,this.assets.textures.envmap.name="envmap",this.assets.textures.envmap.isHDR=!1})}addGui(){const t={simulation:{}},i=S.theatre.helper.autoAddUniforms(t.simulation,this.positionSim.uniforms,["uSetup","uMouse","uModelMatrix","uViewMatrix","uProjectionMatrix"]);S.theatre.helper.autoAddObject(this.mesh,this.parent.prettyName,{additionalConfig:t}).onValuesChange(s=>{for(let o=0;o<i.length;o++)i[o](this,s.simulation)},S.theatre.rafDriver)}}class kue extends cc{constructor(){super("team-orb",{domId:"team"}),Object.assign(this.components,{orb:new Nue}),Object.assign(this.cameraLayers,{godrays:1}),this.godrays={enabled:!0},this.godrayRenderTargetResolutionMultiplier=1/4,this._clipPosition=new Vt,this._sunPosition=new Z(106.79,0,-891.29),this._screenSpacePosition=new Z,this._TAPS_PER_PASS=7,this.scrollVelocity=0}build(){super.build(),this.buildGodrays()}buildScrollAnimation(){var i;if(S.urlParams.has("scene"))return;const t=(i=OA(UA).theme)==null?void 0:i.screens;this.mm=dr.matchMedia(),this.mm.add({isDesktop:S.breakpoints.mediaQueries.md.media,isMobile:`(max-width: ${Number.parseInt(t.md)-1}px)`},r=>{this.scrollAnimation=dr.timeline({defaults:{duration:1,ease:r.conditions.isDesktop?"power2.inOut":"power1.inOut"}}),r.conditions.isDesktop?this.scrollAnimation.fromTo(this.cameras.camera1._position,{x:-1,y:1,z:6},{x:-1,y:0,z:10,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,start:"top bottom+=40%",end:"center center",scrub:!0}},0).fromTo(this.cameras.camera1._position,{x:-1,y:0,z:10},{x:1.4,y:0,z:7.9,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-team-list`,start:"center center",end:"top top",scrub:!0}},0).fromTo(this._sunPosition,{x:106.79,y:0,z:-891.29},{x:-206.76,y:0,z:-891.29,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-team-list`,start:"center center",end:"top top",scrub:!0}},0):this.scrollAnimation.fromTo(this.cameras.camera1._position,{x:0,y:10,z:4},{x:0,y:1,z:10,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,start:"top bottom+=80%",end:"top top",scrub:!0}}).fromTo(this.cameras.camera1._position,{x:0,y:1,z:10},{x:()=>{let o;return S.window.w<=480?o=1/S.window.h*1400:S.window.w<=768?o=S.window.h*.0032*(S.window.w/S.window.h):o=1.6,o},y:0,z:7.9,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-team-list`,start:"top top",end:"top top",scrub:!0}},0).fromTo(this._sunPosition,{x:0,y:-120,z:-891.29},{x:-180,y:0,z:-891.29,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-section-copy`,endTrigger:`[data-webgl-section="${this.options.domId}"] .js-team-list`,start:"top top",end:"top top",scrub:!0}},0),this.sectionScroll=Dt.create({trigger:`[data-webgl-section="${this.options.domId}"]`,start:"top top",end:"bottom bottom",scrub:!0});const s=dr.to(this.components.orb,{enableRotationOnScroll:1,paused:!0,scrollTrigger:{trigger:`[data-webgl-section="${this.options.domId}"] .js-team-list`,start:"top top+=40%",end:"bottom bottom",scrub:!0}});return()=>{this.scrollAnimation.kill(),this.sectionScroll.kill(),s.kill()}})}getStepSize(e,t,i){return e*Math.pow(t,-i)}filterGodRays(e,t,i){this.godrays.scene.overrideMaterial=this.godrays.materialGodraysGenerate,this.godrays.godrayGenUniforms.fStepSize.value=i,this.godrays.godrayGenUniforms.tInput.value=e,S.WebGL.renderer.setRenderTarget(t),S.WebGL.renderer.render(this.godrays.scene,this.godrays.camera),this.godrays.scene.overrideMaterial=null}buildGodrays(){var o,a,l;this.godrays.scene=new Wa,this.godrays.camera=new Ou(-.5,.5,.5,-.5,-1e4,1e4),this.godrays.camera.position.z=100,this.godrays.scene.add(this.godrays.camera);const e=S.WebGL.renderer.getPixelRatio();this.godrays.rtTextureDepthMask=new ai(S.window.w*e,S.window.h*e,{type:nn}),(o=S.WebGL.rtViewer)==null||o.registerRT(this.godrays.rtTextureDepthMask,"Godrays Depth Mask RT");const t=S.window.w*this.godrayRenderTargetResolutionMultiplier*e,i=S.window.h*this.godrayRenderTargetResolutionMultiplier*e;this.godrays.rtTextureGodRays1=new ai(t,i,{type:nn}),(a=S.WebGL.rtViewer)==null||a.registerRT(this.godrays.rtTextureGodRays1,"Godrays RT 1"),this.godrays.rtTextureGodRays2=new ai(t,i,{type:nn}),(l=S.WebGL.rtViewer)==null||l.registerRT(this.godrays.rtTextureGodRays2,"Godrays RT 2");const r=_re;this.godrays.godrayGenUniforms=Io.clone(r.uniforms),this.godrays.materialGodraysGenerate=new Cn({uniforms:{...this.godrays.godrayGenUniforms,...S.WebGL.globalUniforms},vertexShader:r.vertexShader,fragmentShader:`

				#define TAPS_PER_PASS ${this._TAPS_PER_PASS.toFixed(1)}

				varying vec2 vUv;

				uniform sampler2D tInput;

				uniform vec3 vSunPositionScreenSpace;
				uniform float fStepSize; // filter step size

				uniform vec2 uResolution;

				void main() {

					// delta from current pixel to "sun" position
					vec2 sunPosAdjusted = vSunPositionScreenSpace.xy;
					vec2 uvAdjusted = vUv;

					// Adjust for aspect ratio
					sunPosAdjusted -= vec2(0.5, 0.5);
					uvAdjusted -= vec2(0.5, 0.5);
					if (uResolution.x > uResolution.y) {
						uvAdjusted.x *= uResolution.x / uResolution.y; // makes it fit the scren
						sunPosAdjusted.x *= uResolution.x / uResolution.y;

						// other way - doesn't cause increasing strength on all edges but causes bigger gaps on landscape :/ 
						// uvAdjusted.y *= uResolution.y / uResolution.x; // makes it bigger
						// sunPosAdjusted.y *= uResolution.y / uResolution.x;

					} else {
						uvAdjusted.y *= uResolution.y / uResolution.x;
						sunPosAdjusted.y *= uResolution.y / uResolution.x;

						// other way
						// uvAdjusted.x *= uResolution.x / uResolution.y; 
						// sunPosAdjusted.x *= uResolution.x / uResolution.y;
					}

					uvAdjusted += vec2(0.5, 0.5);
					sunPosAdjusted += vec2(0.5, 0.5);

					vec2 delta = vSunPositionScreenSpace.xy - vUv;

					float dist = length( sunPosAdjusted.xy - uvAdjusted );

					vec2 stepv = fStepSize * delta / dist;

					// Number of iterations between pixel and sun
					float iters = dist/fStepSize;
					
					vec2 uv = vUv.xy;
					float col = 0.0;

					// Unrolling loop manually makes it work in ANGLE
					float f = min( 1.0, max( vSunPositionScreenSpace.z / 10.0, 0.0 ) ); // used to fade out godrays
					// f *= (1.0 - (dist * 0.25));
					// f = 1.0;

					// TODO fix so that extreme aspect ratios don't cause the godrays to be stronger on the edges

					// when the difference between x and y is bigger we need f to be smaller
					// when the difference between x and y is bigger, the dist value reaches higher too 

					// if (uResolution.x < uResolution.y) {
					// 	float aspect = clamp(uResolution.y / uResolution.x, 0.5, 1.0);
					// 	f *= (1.0 - (dist * aspect));
					// } else {
					// 	float aspect = clamp(uResolution.x / uResolution.y, 0.5, 1.0);
					// 	f *= (1.0 - (dist * aspect));
					// }

					// f = dist;

					// if ( 0.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
					// uv += stepv;

					// if ( 1.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
					// uv += stepv;

					// if ( 2.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
					// uv += stepv;

					// if ( 3.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
					// uv += stepv;

					// if ( 4.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
					// uv += stepv;

					// if ( 5.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
					// uv += stepv;

					// if ( 6.0 <= iters && uv.y < 1.0 ) col += texture2D( tInput, uv ).r * f;
					// uv += stepv;

					for ( float i = 0.0; i < TAPS_PER_PASS; i += 1.0 ) {
						if ( i <= iters && uv.y < 1.0 ) {
							col += texture2D( tInput, uv ).r * f;
						}
						uv += stepv;
					}

					// Should technically be dividing by 'iters but 'TAPS_PER_PASS' smooths out
					// objectionable artifacts, in particular near the sun position. The side
					// effect is that the result is darker than it should be around the sun, as
					// TAPS_PER_PASS is greater than the number of samples actually accumulated.
					// When the result is inverted (in the shader 'godrays_combine this produces
					// a slight bright spot at the position of the sun, even when it is occluded.

					gl_FragColor = vec4( col/TAPS_PER_PASS );
					gl_FragColor.a = 1.0;

					// gl_FragColor.rgb = vec3(abs(delta), 0.0);
					// gl_FragColor.rgb = vec3(abs(delta / dist), 0.0);

				}`}),this.godrays.quad=new Qe(new ao(1,1),this.godrays.materialGodraysGenerate),this.godrays.quad.position.z=-9900,this.godrays.scene.add(this.godrays.quad),S.theatre.helper.addSheetObject(this.prettyName,"Godrays",{enabled:Te.types.boolean(this.godraysPass.material.uniforms.uEnabled.value),intensity:Te.types.number(this.godraysPass.material.uniforms.uIntensity.value,{nudgeMultiplier:.01}),exponent:Te.types.number(this.godraysPass.material.uniforms.uExponent.value,{nudgeMultiplier:.01}),maxLimit:Te.types.number(this.godraysPass.material.uniforms.uMaxLimit.value,{nudgeMultiplier:.01}),debug:Te.types.boolean(this.godraysPass.material.uniforms.uDebug.value)}).onValuesChange(c=>{this.godraysPass.material.uniforms.uEnabled.value=c.enabled,this.godraysPass.material.uniforms.uIntensity.value=c.intensity,this.godraysPass.material.uniforms.uExponent.value=c.exponent,this.godraysPass.material.uniforms.uDebug.value=c.debug,this.godraysPass.material.uniforms.uMaxLimit.value=c.maxLimit},S.theatre.rafDriver)}update(){if(this.sectionScroll&&(this.scrollVelocity=gn.lerp(this.scrollVelocity,this.sectionScroll.getVelocity(),.2)),super.update(),!this.godrays.enabled)return;const e=S.WebGL.renderer.autoClear,t=S.WebGL.renderer.getRenderTarget(),i=this.background;S.WebGL.renderer.autoClear=!1,this._clipPosition.x=this._sunPosition.x,this._clipPosition.y=this._sunPosition.y,this._clipPosition.z=this._sunPosition.z,this._clipPosition.w=1,this._clipPosition.applyMatrix4(this.activeCamera.matrixWorldInverse).applyMatrix4(this.activeCamera.projectionMatrix),this._clipPosition.x/=this._clipPosition.w,this._clipPosition.y/=this._clipPosition.w,this._screenSpacePosition.x=(this._clipPosition.x+1)/2,this._screenSpacePosition.y=(this._clipPosition.y+1)/2,this._screenSpacePosition.z=this._clipPosition.z,this.godrays.godrayGenUniforms.vSunPositionScreenSpace.value.copy(this._screenSpacePosition),this.background=new ke(0),this.components.orb.setDepthMaterial(),S.WebGL.renderer.setRenderTarget(this.godrays.rtTextureDepthMask),S.WebGL.renderer.clear(),S.WebGL.renderer.render(this.components.orb,this.activeCamera);const r=1.5;this.filterGodRays(this.godrays.rtTextureDepthMask.texture,this.godrays.rtTextureGodRays2,this.getStepSize(r,this._TAPS_PER_PASS,1)),this.filterGodRays(this.godrays.rtTextureGodRays2.texture,this.godrays.rtTextureGodRays1,this.getStepSize(r,this._TAPS_PER_PASS,2)),this.filterGodRays(this.godrays.rtTextureGodRays1.texture,this.godrays.rtTextureGodRays2,this.getStepSize(r,this._TAPS_PER_PASS,3)),this.godrays.scene.overrideMaterial=null,S.WebGL.renderer.setRenderTarget(t),this.components.orb.setDefaultMaterial(),this.background=i,S.WebGL.renderer.autoClear=e,this.godraysPass.material.uniforms.tGodrays.value=this.godrays.rtTextureGodRays2.texture}buildPasses(){super.buildPasses(),this.godraysPass=new np(new is({vertexShader:I4,fragmentShader:`

				#include <default_frag_pars>

				varying vec2 vUv;
		
				uniform sampler2D tDiffuse;
				uniform sampler2D tGodrays;
		
				uniform float uExponent;
				uniform float uIntensity;
				uniform float uMaxLimit;

				uniform float uTime;

				uniform bool uEnabled;
				uniform bool uDebug;
		
				void main() {

					float godraySample = pow(texture2D( tGodrays, vUv ).r, uExponent) * uIntensity;

					if (uDebug) {
						gl_FragColor = vec4(vec3(godraySample), 1.0);
						return;
					}

					gl_FragColor = texture2D( tDiffuse, vUv );

					if (uEnabled) {
						// gl_FragColor.rgb -= vec3( pow(smoothstep(0.22, 1.0, texture2D( tGodrays, vUv ).r), uExponent) * uIntensity );
						// gl_FragColor.rgb = max(gl_FragColor.rgb - max(min(godraySample, 1.0), 0.0) * 1.0, 0.0);
						gl_FragColor.rgb += min(vec3(godraySample), uMaxLimit);
						// gl_FragColor.rgb = blendScreen(gl_FragColor.rgb, vec3(godraySample), 1.0);
					}
					
				}
			`,uniforms:{uEnabled:{value:!0},tDiffuse:{value:null},tGodrays:{value:null},uIntensity:{value:50},uMaxLimit:{value:1},uExponent:{value:5},uDebug:{value:!1}}})),this.godraysPass.enabled=!1,this.godraysPass.name=`${this.name} Godrays`,S.WebGL.composerPasses.add(this.godraysPass,S.WebGL.composerPassOrder[this.name]+5)}onSceneResize(){const e=S.WebGL.renderer.getPixelRatio();this.godrays.rtTextureDepthMask.setSize(S.window.w*e,S.window.h*e);const t=S.window.w*this.godrayRenderTargetResolutionMultiplier*e,i=S.window.h*this.godrayRenderTargetResolutionMultiplier*e;this.godrays.rtTextureGodRays1.setSize(t,i),this.godrays.rtTextureGodRays2.setSize(t,i)}destroy(){var e,t,i;super.destroy(),this.godrays.rtTextureDepthMask.dispose(),this.godrays.rtTextureGodRays1.dispose(),this.godrays.rtTextureGodRays2.dispose(),(e=S.WebGL.rtViewer)==null||e.unregisterRT("Godrays Depth Mask RT"),(t=S.WebGL.rtViewer)==null||t.unregisterRT("Godrays RT 1"),(i=S.WebGL.rtViewer)==null||i.unregisterRT("Godrays RT 2"),this.godrays.materialGodraysGenerate.dispose(),this.godrays.quad.geometry.dispose(),this.scrollVelocity=0}start(){this.components.orb.preRender(),super.start(),this.godraysPass.enabled=!0}stop(){super.stop(),this.godraysPass.enabled=!1}}class zue{constructor(e){pe(this,"array",[]);pe(this,"sourceArray");this.sourceArray=e}add(e,t){this.array.push({index:t,item:e}),this.array.sort(this.sort),this.updateSourceArray()}remove(e){for(let t=0;t<this.array.length;t++)this.array[t].item===e&&this.array.splice(t,1);this.updateSourceArray()}updateSourceArray(){this.sourceArray.length=0;for(let e=0;e<this.array.length;e++)this.sourceArray[e]=this.array[e].item}sort(e,t){return e.index>t.index?1:-1}}class Hue extends ac{constructor(){super();pe(this,"check",()=>{if(!this.run)return;this.frames++;const t=performance.now();if(t>=this.prevTime+this.checkInterval){const i=this.frames*1e3/(t-this.prevTime);if(i>1&&(this.avgFps.push(i),this.checkCount++,this.checkCount===5)){this.run=!1;const r=Math.min(...this.avgFps),s=Math.max(...this.avgFps);for(let a=0;a<this.avgFps.length;a++)if(this.avgFps[a]===r){this.avgFps.splice(a,1);break}for(let a=0;a<this.avgFps.length;a++)if(this.avgFps[a]===s){this.avgFps.splice(a,1);break}const o=Math.ceil(this.avgFps.reduce((a,l)=>a+l,0)/this.avgFps.length);this.avgFps=[],this.gpuTier=this.tiers.filter(a=>o>=a).length,this.totalChecks++,requestAnimationFrame(()=>{setTimeout(()=>{this.emit("FPSChecked",{gpuTier:this.gpuTier})},0)}),this.gpuTier<this.totalCheckLimit&&this.totalChecks<this.totalCheckLimit&&this.enable()}this.prevTime=t,this.frames=0}});pe(this,"onDocVisibilityChange",()=>{this.run&&document.visibilityState==="visible"&&(this.prevTime=performance.now(),this.frames=0)});pe(this,"onResize",()=>{this.run&&(this.prevTime=performance.now(),this.frames=0,this.checkCount=0,this.avgFps=[])});this.run=!1,this.hasRun=!1,this.checkInterval=500,this.frames=0,this.prevTime=0,this.checkCount=0,this.totalChecks=0,this.tiers=[15,30,40,50],this.totalCheckLimit=10,this.gpuTier=this.tiers.length,this.avgFps=[]}init(){S.urlParams.has("forcehq")||(S.RAFCollection.add(this.check,200),document.addEventListener("visibilitychange",this.onDocVisibilityChange),oc(this.onResize,!1),this.on("CheckFPS",()=>{this.avgFps=[],this.totalChecks=0,this.hasRun=!0,this.enable()}),this.emit("CheckFPS"))}enable(){this.checkCount=0,this.run=!0}disable(){this.run=!1}on(t,i){this.addEventListener(t,i)}off(t,i){this.removeEventListener(t,i)}emit(t,i={}){this.dispatchEvent({type:t,data:i})}}const Rm=new Hue,xf=S.env==="development"?"//undefinedundefined":"https://undefinedundefined";function Vue(n,e){const t=r=>{var o,a,l,c,u,f,h,p,m,g,A,y,x,b;const s=[{type:"Icon",title:"Reset State",svgSource:'<svg stroke="currentColor" fill="none" stroke-width="2" viewBox="0 0 24 24" stroke-linecap="round" stroke-linejoin="round" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><polyline points="23 4 23 10 17 10"></polyline><polyline points="1 20 1 14 7 14"></polyline><path d="M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15"></path></svg>',onClick:_=>{confirm("Revert all changes?")&&(r.__experimental.__experimental_clearPersistentStorage(S.theatre.persistenceKey),localStorage.removeItem(S.theatre.persistenceKey+".persistent"),localStorage.removeItem(S.theatre.persistenceKey+".openRTViewerPanes"),window.location.reload())}},{type:"Icon",title:"Save",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M48 96V416c0 8.8 7.2 16 16 16H384c8.8 0 16-7.2 16-16V170.5c0-4.2-1.7-8.3-4.7-11.3l33.9-33.9c12 12 18.7 28.3 18.7 45.3V416c0 35.3-28.7 64-64 64H64c-35.3 0-64-28.7-64-64V96C0 60.7 28.7 32 64 32H309.5c17 0 33.3 6.7 45.3 18.7l74.5 74.5-33.9 33.9L320.8 84.7c-.3-.3-.5-.5-.8-.8V184c0 13.3-10.7 24-24 24H104c-13.3 0-24-10.7-24-24V80H64c-8.8 0-16 7.2-16 16zm80-16v80H272V80H128zm32 240a64 64 0 1 1 128 0 64 64 0 1 1 -128 0z"/></svg>',onClick:_=>{const T=window.prompt("Save as: ","state");if(!T)return;const M=S.theatre.studio.createContentOfSaveFile(S.theatre.project.address.projectId);fetch(`${xf}?save`,{method:"POST",body:JSON.stringify({name:T,projectId:n,data:M})}).then(I=>{I.json().then(P=>{P&&Te.notify.success("Saved Project","Project has been saved!")})},I=>{console.error(I)})}},{type:"Icon",title:"Versions",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M464 256A208 208 0 1 1 48 256a208 208 0 1 1 416 0zM0 256a256 256 0 1 0 512 0A256 256 0 1 0 0 256zM232 120V256c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2V120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"/></svg>',onClick:_=>{r.createPane("unseen-versions")}}];return(S.env==="development"||S.env==="browsersync")&&s.push({type:"Icon",title:"Publish Current Version",svgSource:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"/></svg>',onClick:_=>{const T=S.theatre.studio.createContentOfSaveFile(S.theatre.project.address.projectId);confirm("This will overwrite the published version. Are you sure?")&&fetch(`${xf}?publish`,{method:"POST",body:JSON.stringify({projectId:n,data:T})}).then(M=>{M.json().then(I=>{console.log(I),I&&Te.notify.success("Published Project","Project has been published!")})},M=>{console.error(M)})}}),S.WebGL&&((a=(o=S.WebGL)==null?void 0:o.activeScene)!=null&&a.devTools&&s.push({type:"Switch",value:S.WebGL.activeScene.devTools.enabled,onChange:_=>{S.theatre.studio.transaction(({set:T})=>{T(S.theatre.studioObjects[S.WebGL.activeScene.prettyName]["Dev Tools"].props.enabled,!S.WebGL.activeScene.devTools.enabled)})},options:[{value:!0,label:"Toggle Orbit Cam",svgSource:`<svg fill="currentColor" viewBox="0 -4 24 24" xmlns="http://www.w3.org/2000/svg">
						<path d="M1450,258l-5-2v2a2,2,0,0,1-2,2h-13a2,2,0,0,1-2-2V246a2,2,0,0,1,2-2h13a2,2,0,0,1,2,2v2l5-2a2,2,0,0,1,2,2v8A2,2,0,0,1,1450,258Zm-7-4v-8h-13v12h13v-4Zm7-6-5,2v4l5,2v-8Z" transform="translate(-1428 -244)"/>
					</svg>`}]}),s.push({type:"Switch",value:S.theatre.previewCamOpen,onChange:_=>{S.theatre.previewCamOpen||r.createPane("unseen-preview-cam")},options:[{value:!0,label:"Show Preview Cam",svgSource:`<svg width="62" height="62" viewBox="0 0 62 62" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path d="M11 40.3901C11 44.1666 14.0779 47.2445 17.8544 47.2445H44.2269C48.0034 47.2445 51.0813 44.1666 51.0813 40.3901L51.0838 24.6006C51.0838 20.824 48.0059 17.7461 44.2294 17.7461H40.5617L39.4201 15.9642C38.6355 14.734 37.2939 14 35.8435 14H26.0732C24.6152 14 23.2813 14.7315 22.4966 15.9642L21.355 17.7461H17.862C14.0855 17.7461 11.0076 20.8241 11.0076 24.6006V40.3901H11ZM13.592 24.6006C13.592 22.2491 15.503 20.338 17.8545 20.338H22.765L24.671 17.3563C24.9747 16.8779 25.5012 16.5918 26.0631 16.5918H35.8335C36.403 16.5918 36.9219 16.8778 37.2256 17.3563L39.1316 20.338H44.2194C46.5708 20.338 48.4819 22.2491 48.4819 24.6006V40.3849C48.4819 42.7364 46.5708 44.6474 44.2194 44.6474H17.8469C15.4954 44.6474 13.5844 42.7364 13.5844 40.3849L13.5869 24.6006H13.592Z" fill="currentColor" stroke="currentColor"/>
					<path d="M30.8314 40.6629C35.6989 40.6629 39.6629 36.704 39.6629 31.8314C39.6629 26.9639 35.704 23 30.8314 23C25.9589 23 22 26.9588 22 31.8314C21.9975 36.704 25.9563 40.6629 30.8314 40.6629ZM30.8314 25.5971C34.2713 25.5971 37.0708 28.3966 37.0708 31.8365C37.0708 35.2765 34.2713 38.076 30.8314 38.076C27.3915 38.076 24.592 35.2765 24.592 31.8365C24.5895 28.3966 27.389 25.5971 30.8314 25.5971Z" fill="currentColor" stroke="currentColor"/>
					<path d="M2.67939 23.1374C3.51909 23.1374 4.28245 22.4504 4.28245 21.5344V4.20611H21.6107C22.4504 4.20611 23.2137 3.51908 23.2137 2.60305C23.2137 1.68702 22.5267 1 21.6107 1H1.07634V21.458C1.07634 22.374 1.76336 23.1374 2.67939 23.1374Z" fill="currentColor" stroke="currentColor"/>
					<path d="M40.8474 1.07633C40.0077 1.07633 39.2443 1.76336 39.2443 2.67939C39.2443 3.59542 39.9313 4.28244 40.8474 4.28244H58.2519V21.6107C58.2519 22.4504 58.939 23.2137 59.855 23.2137C60.771 23.2137 61.458 22.5267 61.458 21.6107V1.07633H40.8474Z" fill="currentColor" stroke="currentColor"/>
					<path d="M21.6107 57.7939H4.20611V40.4656C4.20611 39.626 3.51908 38.8626 2.60305 38.8626C1.68702 38.8626 1 39.5496 1 40.4656V60.9237H21.6107C22.4504 60.9237 23.2137 60.2366 23.2137 59.3206C23.2137 58.4046 22.4504 57.7939 21.6107 57.7939Z" fill="currentColor" stroke="currentColor"/>
					<path d="M59.7787 38.8626C58.939 38.8626 58.1756 39.5496 58.1756 40.4656V57.7939H40.8474C40.0077 57.7939 39.2443 58.4809 39.2443 59.3969C39.2443 60.313 39.9313 61 40.8474 61H61.3054V40.4656C61.3817 39.626 60.6947 38.8626 59.7787 38.8626Z" fill="currentColor" stroke="currentColor"/>
					</svg>`}]}),s.push({type:"Icon",title:"Preview Render Target",svgSource:`<svg width="44" height="44" viewBox="0 0 44 44" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path d="M42.2293 0H1.77073C0.79293 0 0 0.79293 0 1.77073V42.2288C0 43.2071 0.79293 43.9995 1.77073 43.9995H42.2293C43.2076 43.9995 44 43.2066 44 42.2288V1.77073C44 0.79293 43.2071 0 42.2293 0ZM40.4585 40.4581H3.54146V3.54195H40.4581L40.4585 40.4581Z" fill="currentColor"/>
			<path d="M17.0296 7.07653H7.08046V17.0257H17.0296V7.07653Z" fill="currentColor"/>
			<path d="M26.9787 17.0257H17.0296V26.9748H26.9787V17.0257Z" fill="currentColor"/>
			<path d="M36.9279 26.9743H26.9787V36.9235H36.9279V26.9743Z" fill="currentColor"/>
			<path d="M36.9279 7.07653H26.9787V17.0257H36.9279V7.07653Z" fill="currentColor"/>
			<path d="M17.0296 26.9743H7.08046V36.9235H17.0296V26.9743Z" fill="currentColor"/>
			</svg>`,onClick:_=>{r.createPane("unseen-preview-render-target")}}),(l=S.WebGL)!=null&&l.stats&&s.push({type:"Switch",value:(c=S.WebGL)==null?void 0:c.stats.visible,onChange:_=>{S.theatre.studio.transaction(({set:T})=>{T(S.theatre.studioObjects.Unseen.Settings.props.showStats,!S.WebGL.stats.visible)})},options:[{value:!0,label:"Toggle Stats",svgSource:`<svg width="80" height="50" viewBox="0 0 80 50" fill="none" xmlns="http://www.w3.org/2000/svg">
					<path fill-rule="evenodd" clip-rule="evenodd" d="M44.2427 42.6127C39.8757 46.1878 33.4079 42.4536 34.3206 36.8842C34.532 35.5937 35.1015 34.3885 35.9641 33.4056L56.3606 10.167L46.4335 39.4501C46.0136 40.6886 45.2546 41.7843 44.2427 42.6127ZM29.3864 36.0757C27.7285 46.1926 39.4774 52.9758 47.41 46.4816C49.1461 45.0603 50.4484 43.1803 51.1687 41.0554L63.5119 4.64551C64.741 1.01991 60.092 -1.66419 57.5667 1.21301L32.2063 30.1074C30.7262 31.7937 29.7492 33.8615 29.3864 36.0757ZM40 8.59171C20.67 8.59171 5 24.2618 5 43.5917C5 44.9724 3.8807 46.0917 2.5 46.0917C1.11929 46.0917 0 44.9724 0 43.5917C0 21.5003 17.9086 3.59171 40 3.59171C41.6223 3.59171 43.2232 3.68841 44.7969 3.87661C46.1678 4.04061 47.1463 5.28491 46.9823 6.65581C46.8184 8.02681 45.5741 9.00521 44.2031 8.84131C42.826 8.67661 41.4235 8.59171 40 8.59171ZM63.6624 14.3916C64.6014 13.3793 66.1832 13.3199 67.1954 14.2588C75.0679 21.5608 80 32.0022 80 43.5917C80 44.9724 78.8807 46.0917 77.5 46.0917C76.1193 46.0917 75 44.9724 75 43.5917C75 33.4507 70.6903 24.3201 63.7952 17.9247C62.7829 16.9857 62.7235 15.4039 63.6624 14.3916Z" fill="currentColor"/>
					</svg>`}]}),(h=(f=(u=S.WebGL)==null?void 0:u.activeScene)==null?void 0:f.devTools)!=null&&h.enabled&&(s.push({type:"Switch",value:S.WebGL.activeScene.devTools.grid.enabled,onChange:_=>{S.theatre.studio.transaction(({set:T})=>{T(S.theatre.studioObjects[S.WebGL.activeScene.prettyName]["Dev Tools"].props.grid,!S.WebGL.activeScene.devTools.grid.enabled)})},options:[{value:!0,label:"Toggle Grid",svgSource:`<svg width="21" height="21" viewBox="0 0 21 21" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path fill-rule="evenodd" clip-rule="evenodd" d="M1.00285 19.9985L19.9985 19.9971L19.9971 1.00147L1.00147 1.00285L1.00285 19.9985ZM0.998746 0H20.0013C20.5528 0 21 0.438615 21 0.998746V20.0013C21 20.5528 20.5614 21 20.0013 21H0.998746C0.447154 21 0 20.5614 0 20.0013V0.998746C0 0.447154 0.438615 0 0.998746 0Z" fill="currentColor"/>
						<path d="M6 0H5V21H6V0Z" fill="currentColor"/>
						<path d="M11 0H10V21H11V0Z" fill="currentColor"/>
						<path d="M16 0H15V21H16V0Z" fill="currentColor"/>
						<path d="M21 10H0V11H21V10Z" fill="currentColor"/>
						<path d="M21 5H0V6H21V5Z" fill="currentColor"/>
						<path d="M21 15H0V16H21V15Z" fill="currentColor"/>
						</svg>`}]}),s.push({type:"Switch",value:(p=S.WebGL)==null?void 0:p.activeScene.devTools.options.helpers,onChange:_=>{S.theatre.studio.transaction(({set:T})=>{T(S.theatre.studioObjects[S.WebGL.activeScene.prettyName]["Dev Tools"].props.helpers,!S.WebGL.activeScene.devTools.options.helpers)})},options:[{value:!0,label:"Toggle Helpers",svgSource:`<svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
						<path d="M2 3C2 2.44772 2.44772 2 3 2H8.5C9.05229 2 9.5 1.55228 9.5 1C9.5 0.447715 9.05229 0 8.5 0H3C1.34315 0 0 1.34315 0 3V8.5C0 9.05229 0.447715 9.5 1 9.5C1.55228 9.5 2 9.05229 2 8.5V3Z" fill="currentColor"/>
						<path d="M23.5 0C22.9477 0 22.5 0.447715 22.5 1C22.5 1.55228 22.9477 2 23.5 2H29C29.5523 2 30 2.44772 30 3V8.5C30 9.05229 30.4477 9.5 31 9.5C31.5523 9.5 32 9.05229 32 8.5V3C32 1.34315 30.6569 0 29 0H23.5Z" fill="currentColor"/>
						<path d="M2 23.5C2 22.9477 1.55228 22.5 1 22.5C0.447715 22.5 0 22.9477 0 23.5V29C0 30.6569 1.34315 32 3 32H8.5C9.05229 32 9.5 31.5523 9.5 31C9.5 30.4477 9.05229 30 8.5 30H3C2.44772 30 2 29.5523 2 29V23.5Z" fill="currentColor"/>
						<path d="M32 23.5C32 22.9477 31.5523 22.5 31 22.5C30.4477 22.5 30 22.9477 30 23.5V29C30 29.5523 29.5523 30 29 30H23.5C22.9477 30 22.5 30.4477 22.5 31C22.5 31.5523 22.9477 32 23.5 32H29C30.6569 32 32 30.6569 32 29V23.5Z" fill="currentColor"/>
						<path fill-rule="evenodd" clip-rule="evenodd" d="M4.65826 21.0602L10.3238 19L4.65826 16.9398C4.26307 16.7961 4 16.4205 4 16C4 15.5795 4.26307 15.2039 4.65826 15.0602L10.3238 13L4.65826 10.9398C4.26307 10.7961 4 10.4205 4 10C4 9.57949 4.26307 9.20391 4.65826 9.06021L15.6583 5.06021C15.879 4.97993 16.121 4.97993 16.3417 5.06021L27.3417 9.06021C27.7369 9.20391 28 9.57949 28 10C28 10.4205 27.7369 10.7961 27.3417 10.9398L21.6762 13L27.3417 15.0602C27.7369 15.2039 28 15.5795 28 16C28 16.4205 27.7369 16.7961 27.3417 16.9398L21.6762 19L27.3417 21.0602C27.7369 21.2039 28 21.5795 28 22C28 22.4205 27.7369 22.7961 27.3417 22.9398L16.3417 26.9398C16.121 27.0201 15.879 27.0201 15.6583 26.9398L4.65826 22.9398C4.26307 22.7961 4 22.4205 4 22C4 21.5795 4.26307 21.2039 4.65826 21.0602ZM18.75 14.0641L16.3417 14.9398C16.121 15.0201 15.879 15.0201 15.6583 14.9398L13.25 14.0641L7.92618 16L16 18.9359L24.0738 16L18.75 14.0641ZM7.92618 22L13.25 20.0641L15.6583 20.9398C15.879 21.0201 16.121 21.0201 16.3417 20.9398L18.75 20.0641L24.0738 22L16 24.9359L7.92618 22ZM16 12.9359L7.92618 10L16 7.06406L24.0738 10L16 12.9359Z" fill="currentColor"/>
						</svg>`}]})),(A=(g=(m=S.WebGL)==null?void 0:m.activeScene)==null?void 0:g.devTools)!=null&&A.enabled&&((b=(x=(y=S.WebGL)==null?void 0:y.activeScene)==null?void 0:x.devTools)!=null&&b.transformControls.enabled)&&(s.push({type:"Switch",value:S.WebGL.activeScene.devTools.transformControls.mode,onChange:_=>{S.WebGL.activeScene.devTools.transformControls.setMode(_),S.theatre.updateExtensionToolbar()},options:[{value:"translate",label:"Translate",svgSource:'<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M278.6 9.4c-12.5-12.5-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l9.4-9.4V224H109.3l9.4-9.4c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-64 64c-12.5 12.5-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-9.4-9.4H224V402.7l-9.4-9.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l64 64c12.5 12.5 32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0l-9.4 9.4V288H402.7l-9.4 9.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l64-64c12.5-12.5 12.5-32.8 0-45.3l-64-64c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3l9.4 9.4H288V109.3l9.4 9.4c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3l-64-64z"/></svg>'},{value:"rotate",label:"Rotate",svgSource:'<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M142.9 142.9c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2s12.5 14.8 22.2 14.8H463.5c0 0 0 0 0 0H472c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2s-19.3-1.7-26.2 5.2L413.4 96.6c-87.6-86.5-228.7-86.2-315.8 1C73.2 122 55.6 150.7 44.8 181.4c-5.9 16.7 2.9 34.9 19.5 40.8s34.9-2.9 40.8-19.5c7.7-21.8 20.2-42.3 37.8-59.8zM16 312v7.6 .7V440c0 9.7 5.8 18.5 14.8 22.2s19.3 1.7 26.2-5.2l41.6-41.6c87.6 86.5 228.7 86.2 315.8-1c24.4-24.4 42.1-53.1 52.9-83.7c5.9-16.7-2.9-34.9-19.5-40.8s-34.9 2.9-40.8 19.5c-7.7 21.8-20.2 42.3-37.8 59.8c-62.2 62.2-162.7 62.5-225.3 1L185 329c6.9-6.9 8.9-17.2 5.2-26.2s-12.5-14.8-22.2-14.8H48.4h-.7H40c-13.3 0-24 10.7-24 24z"/></svg>'},{value:"scale",label:"Scale",svgSource:'<svg fill="currentColor" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M344 0H488c13.3 0 24 10.7 24 24V168c0 9.7-5.8 18.5-14.8 22.2s-19.3 1.7-26.2-5.2l-39-39-87 87c-9.4 9.4-24.6 9.4-33.9 0l-32-32c-9.4-9.4-9.4-24.6 0-33.9l87-87L327 41c-6.9-6.9-8.9-17.2-5.2-26.2S334.3 0 344 0zM168 512H24c-13.3 0-24-10.7-24-24V344c0-9.7 5.8-18.5 14.8-22.2s19.3-1.7 26.2 5.2l39 39 87-87c9.4-9.4 24.6-9.4 33.9 0l32 32c9.4 9.4 9.4 24.6 0 33.9l-87 87 39 39c6.9 6.9 8.9 17.2 5.2 26.2s-12.5 14.8-22.2 14.8z"/></svg>'}]}),s.push({type:"Switch",value:S.WebGL.activeScene.devTools.transformControls.space,onChange:_=>{S.WebGL.activeScene.devTools.transformControls.setSpace(_),S.theatre.updateExtensionToolbar()},options:[{value:"world",label:"World Transform",svgSource:'<svg viewBox="0 0 90 90" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M90 44.7C89.9 33.3 85.6 21.9 76.8 13.2C68.3 4.7 57 0 45 0C33 0 21.7 4.7 13.2 13.2C4.5 21.9 0.1 33.3 0 44.7C0 44.8 0 44.9 0 45C0 45.1 0 45.2 0 45.3C0.1 56.7 4.4 68.1 13.2 76.8C21.7 85.3 33 90 45 90C57 90 68.3 85.3 76.8 76.8C85.5 68.1 89.9 56.7 90 45.3C90 45.2 90 45.1 90 45C90 44.9 90 44.8 90 44.7ZM74.9 71.5C72.2 69.1 69.3 67.1 66.2 65.4C67.6 60 68.5 53.9 68.7 47.5H84.9C84.4 56.1 81 64.6 74.9 71.5ZM5.1 47.5H21.3C21.5 54 22.4 60 23.8 65.4C20.7 67 17.8 69.1 15.1 71.5C9 64.6 5.6 56.1 5.1 47.5ZM15.1 18.5C17.8 20.9 20.7 22.9 23.8 24.6C22.3 30 21.5 36 21.3 42.5H5.1C5.6 33.9 9 25.4 15.1 18.5ZM42.5 24.8C38.2 24.5 33.9 23.6 29.8 21.9C32.8 13.1 37.3 6.9 42.5 5.4V24.8ZM42.5 29.8V42.5H26.3C26.5 36.9 27.2 31.5 28.4 26.7C32.9 28.5 37.7 29.5 42.5 29.8ZM42.5 47.5V60.2C37.7 60.5 32.9 61.5 28.4 63.3C27.2 58.5 26.5 53.1 26.3 47.5H42.5ZM42.5 65.2V84.6C37.3 83.1 32.8 76.8 29.8 68.1C33.9 66.4 38.2 65.5 42.5 65.2ZM47.5 65.2C51.8 65.5 56.1 66.4 60.2 68.1C57.2 76.9 52.7 83.1 47.5 84.6V65.2ZM47.5 60.2V47.5H63.7C63.5 53.1 62.8 58.5 61.6 63.3C57.1 61.5 52.3 60.5 47.5 60.2ZM47.5 42.5V29.8C52.3 29.5 57.1 28.5 61.6 26.7C62.8 31.5 63.5 36.9 63.7 42.5H47.5ZM47.5 24.8V5.4C52.7 6.9 57.2 13.2 60.2 21.9C56.1 23.6 51.8 24.5 47.5 24.8ZM58 7.2C62.9 8.9 67.4 11.5 71.4 15C69.3 16.8 67.1 18.4 64.8 19.7C63 14.7 60.7 10.4 58 7.2ZM25.3 19.7C23 18.4 20.7 16.8 18.7 15C22.7 11.5 27.2 8.9 32.1 7.2C29.3 10.4 27 14.7 25.3 19.7ZM25.3 70.3C27.1 75.3 29.4 79.5 32 82.8C27.1 81.1 22.6 78.5 18.6 75C20.7 73.2 22.9 71.6 25.3 70.3ZM64.7 70.3C67 71.6 69.3 73.2 71.3 75C67.3 78.5 62.8 81.1 57.9 82.8C60.7 79.6 63 75.3 64.7 70.3ZM68.7 42.5C68.5 36 67.7 30 66.2 24.6C69.3 23 72.2 20.9 74.9 18.5C81 25.4 84.3 33.9 84.9 42.5H68.7Z" fill="currentColor"/></svg>'},{value:"local",label:"Local Transform",svgSource:'<svg viewBox="0 0 100 92" xmlns="http://www.w3.org/2000/svg"><path d="M99.867 85.986C99.969 85.685 100.015 85.364 99.996 85.037C99.986 84.871 99.96 84.703 99.915 84.536L99.914 84.534L96.015 69.978C95.658 68.643 94.28 67.857 92.953 68.209C91.619 68.566 90.827 69.938 91.184 71.271L93.539 80.063L52.416 56.321V8.95L58.807 15.341C59.295 15.829 59.935 16.073 60.575 16.073C61.215 16.073 61.854 15.829 62.343 15.341C63.32 14.365 63.32 12.782 62.343 11.806L51.684 1.147C50.707 0.169996 49.124 0.169996 48.149 1.147L37.49 11.806C36.513 12.782 36.513 14.365 37.49 15.341C37.978 15.829 38.618 16.073 39.258 16.073C39.898 16.073 40.538 15.829 41.026 15.341L47.417 8.95V56.321L6.49499 79.946L8.83799 71.203C9.19499 69.869 8.40399 68.498 7.06999 68.14C5.73599 67.786 4.36499 68.575 4.00799 69.908L0.136993 84.354C-0.0800068 85.008 -0.0370068 85.746 0.334993 86.389C0.720993 87.057 1.37199 87.462 2.07799 87.584L16.434 91.43C16.651 91.488 16.869 91.516 17.082 91.516C18.186 91.516 19.196 90.779 19.496 89.662C19.853 88.329 19.061 86.958 17.728 86.6L9.01299 84.265L49.916 60.651L90.96 84.348L82.294 86.67C80.961 87.027 80.169 88.399 80.526 89.733C80.826 90.849 81.836 91.587 82.939 91.587C83.154 91.587 83.372 91.559 83.588 91.501L98.147 87.6C98.908 87.396 99.483 86.857 99.778 86.187C99.806 86.124 99.841 86.064 99.864 85.999C99.865 85.994 99.865 85.99 99.867 85.986Z" fill="currentColor"/></svg>'}]}))),s};return{id:"unseen-extension",toolbars:{global(r,s){var l;S.theatre.studioSheets.Unseen=ri(S.theatre.studioProject.sheet("Unseen"));const o={};(l=S.WebGL)!=null&&l.stats&&(o.showStats=S.WebGL.stats.visible);const a=S.theatre.helper.addStudioSheetObject("Unseen","Settings",o);S.theatre.updateExtensionToolbar=()=>{r(t(s))},S.theatre.updateExtensionToolbar(),a.onValuesChange(c=>{var u;(u=S.WebGL)!=null&&u.stats&&(c.showStats?S.WebGL.showStats():S.WebGL.hideStats()),S.theatre.updateExtensionToolbar()},S.theatre.rafDriver)},previewCamToolbar(r,s){return r([{type:"Icon",title:"Toggle Wireframe",svgSource:'<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.486 2 2 6.486 2 12s4.486 10 10 10 10-4.486 10-10S17.514 2 12 2zm7.931 9h-2.764a14.67 14.67 0 0 0-1.792-6.243A8.013 8.013 0 0 1 19.931 11zM12.53 4.027c1.035 1.364 2.427 3.78 2.627 6.973H9.03c.139-2.596.994-5.028 2.451-6.974.172-.01.344-.026.519-.026.179 0 .354.016.53.027zm-3.842.7C7.704 6.618 7.136 8.762 7.03 11H4.069a8.013 8.013 0 0 1 4.619-6.273zM4.069 13h2.974c.136 2.379.665 4.478 1.556 6.23A8.01 8.01 0 0 1 4.069 13zm7.381 6.973C10.049 18.275 9.222 15.896 9.041 13h6.113c-.208 2.773-1.117 5.196-2.603 6.972-.182.012-.364.028-.551.028-.186 0-.367-.016-.55-.027zm4.011-.772c.955-1.794 1.538-3.901 1.691-6.201h2.778a8.005 8.005 0 0 1-4.469 6.201z"></path></svg>',onClick:()=>{}}]),()=>{}}},panes:[{class:"unseen-versions",mount:async({paneId:r,node:s})=>{s.style.overflowY="auto";const o="unseen-versions-wrapper",a=document.createElement("style"),l=`
						.${o} {
							padding: 0.3rem;
							font-size: 0.7rem;
						}

						.${o} li {
							margin-bottom: 0.5rem;
						}

						.${o} a {
							color: white;
						}

						.${o} .list-wrap {
							display: flex;
							flex-direction: column;
							width: 100%;
						}

						.${o} .list-wrap > div {
							display: flex;
							justify-content: space-between;
							align-items: center;
							padding: 0.2rem 0.4rem;
						}

						.${o} .list-wrap > div.published {
							padding: 0.4rem 0.4rem;
							border-bottom: 1px solid #888;
						}

						.${o} .list-wrap > div.active {
							background-color: rgb(85, 167, 113, 0.2);
						}

						.${o} .list-wrap > div:hover {
							background-color: rgba(255, 255, 255, 0.2);
						}

						.${o} .list-wrap small {
							font-size: 0.6rem;
							color: #aaa;
						}

						.${o} .list-wrap .btn {
							display: inline-block;
							appearance: none;
							padding: 0.3rem 0.4rem;
							background: #676767;
							border: 1px solid rgba(0, 0, 0, 0.5);
							font-size: 0.5rem;
							text-transform: uppercase;
							font-weight: 600;
							cursor: pointer;
							color: #fff;
							text-decoration: none;
						}

						.${o} .list-wrap .btn:hover {
							opacity: 0.7;
						}

						.${o} .list-wrap .btn--download {
							background: #286a2e;
						}

						.${o} .list-wrap .btn--delete {
							background: #6a2835;
						}

						.${o} .list-wrap .btn--rename {
							background: #276b81;
						}
					`;a.appendChild(document.createTextNode(l)),s.appendChild(a);const c=document.createElement("div");c.classList.add(o),s.appendChild(c);const u=A=>{window.addEventListener("beforeunload",()=>{S.theatre.studio.__experimental.__experimental_clearPersistentStorage(S.theatre.persistenceKey),localStorage.removeItem(S.theatre.persistenceKey+".persistent")})},f=A=>{const y=A.target.dataset.file;fetch("https://undefinedundefined?download",{method:"POST",body:JSON.stringify({filename:y,projectId:n})}).then(x=>{x.json().then(b=>{b&&fetch(`${xf}?save`,{method:"POST",body:JSON.stringify({name:y.replace(".json",""),projectId:n,data:JSON.parse(b)})}).then(_=>{_.json().then(T=>{T&&(Te.notify.success("Downloaded Project","Project has been downloaded!"),m())})},_=>{console.error(_)})})},x=>{console.error(x)})},h=A=>{confirm("Are you sure?")&&fetch(`${xf}?delete`,{method:"POST",body:JSON.stringify({file:A.target.dataset.file,projectId:n})}).then(y=>{y.json().then(x=>{console.log(x),x&&(Te.notify.success("Deleted Project","Project has been deleted!"),m())})},y=>{console.error(y)})},p=A=>{const y=A.target.dataset.filename.replace(".json",""),x=window.prompt("Rename to:",y);x===y||!x||fetch(`${xf}?rename`,{method:"POST",body:JSON.stringify({file:A.target.dataset.file,projectId:n,newName:x})}).then(b=>{b.json().then(_=>{_&&(Te.notify.success("Renamed Version",`Version has been renamed to "${_}"`),m())})},b=>{console.error(b)})},m=()=>{c.innerHTML="Loading...",g();const A=[];let y=[],x=[],b=[];S.env==="development"&&A.push(new Promise(_=>{fetch(`https://undefinedundefined?list=${n}`).then(T=>{T.json().then(M=>{y=M,_()})},T=>{console.error(T)})})),A.push(new Promise(_=>{fetch(`${xf}?list=${n}`).then(T=>{T.json().then(M=>{x=M,_()})},T=>{console.error(T)})})),Promise.all(A).then(()=>{const _=y.filter(P=>{const w=!x.find(E=>E[0]===P[0]);return w&&P.push(!0),w});b=[...x,..._],b.sort((P,w)=>w[3]-P[3]);const T=S.urlParams.get("version"),M=S.urlParams.has("scene")?"&scene="+S.urlParams.get("scene"):"";let I='<div class="list-wrap">';b.forEach(P=>{P[0]==="state.json"&&(I+=`
										<div class="${P[0]==="state.json"?"published":""} ${P[0]===T?"active":""}">
											<span>Published Version <small>(${P[2]})</small></span>
											<div>
												<a href="${e}/?gui&version=${encodeURI(P[0])}${M}" class="btn js-view">View</a>
											</div>
										</div>`)}),b.forEach(P=>{P[4]?I+=`
										<div class="${P[0]===T?"active":""}">
											<span>${P[1]==="state"?P[2]:P[1]+" <small>("+P[2]+")</small>"}</span>
											<div>
												<button class="btn btn--download js-download" data-file="${P[0]}">Download</button>
											</div>
										</div>`:P[0]!=="state.json"&&(I+=`
										<div class="${P[0]===T?"active":""}">
											<span>${P[1]==="state"?P[2]:P[1]+" <small>("+P[2]+")</small>"}</span>
											<div>
												<a href="${e}/?gui&version=${encodeURI(P[0])}${M}" class="btn js-view">View</a>
												<button class="btn btn--delete js-delete" data-file="${P[0]}">Delete</button>
												<button class="btn btn--rename js-rename" data-file="${P[0]}" data-filename="${P[1]}">Rename</button>
											</div>
										</div>`)}),I+="</div>",c.innerHTML=I,c.querySelectorAll(".js-view").forEach(P=>{P.addEventListener("click",u)}),c.querySelectorAll(".js-download").forEach(P=>{P.addEventListener("click",f)}),c.querySelectorAll(".js-delete").forEach(P=>{P.addEventListener("click",h)}),c.querySelectorAll(".js-rename").forEach(P=>{P.addEventListener("click",p)})})},g=()=>{c.querySelectorAll(".js-view").forEach(A=>{A.removeEventListener("click",u)}),c.querySelectorAll(".js-download").forEach(A=>{A.removeEventListener("click",f)}),c.querySelectorAll(".js-delete").forEach(A=>{A.removeEventListener("click",h)}),c.querySelectorAll(".js-rename").forEach(A=>{A.removeEventListener("click",p)})};return m(),()=>{g()}}},{class:"unseen-preview-cam",mount({paneId:r,node:s}){s.parentElement.style.boxShadow="none";const o=new Ly(s,"Composer Result");return S.theatre.previewCamOpen=!0,S.theatre.updateExtensionToolbar(),()=>{o.destroy(),S.theatre.previewCamOpen=!1,S.theatre.updateExtensionToolbar()}}},{class:"unseen-preview-render-target",mount({paneId:r,node:s}){s.style.overflowY="auto",s.parentElement.style.boxShadow="none";const o=JSON.parse(localStorage.getItem(S.theatre.persistenceKey+".openRTViewerPanes"));let a,l;if(o!=null&&o[r]&&S.WebGL.rtViewer.renderTargets[o[r]]){const c=o[r];a=new Ly(s,c)}else{let c='<ul style="padding: 1rem">';for(const u in S.WebGL.rtViewer.renderTargets)c+=`<li style="margin-bottom: 0.5rem"><button style="padding: 0.25rem" data-rtname="${u}">Open ${u}</button></li>`;c+="</ul>",s.innerHTML=c,l=u=>{const f=u.target.dataset.rtname;a=new Ly(s,f);const h=JSON.parse(localStorage.getItem(S.theatre.persistenceKey+".openRTViewerPanes"))||{};h[r]=f,localStorage.setItem(S.theatre.persistenceKey+".openRTViewerPanes",JSON.stringify(h)),s.innerHTML=""},s.querySelectorAll("button").forEach(u=>{u.addEventListener("click",l)})}return()=>{a==null||a.destroy();const c=JSON.parse(localStorage.getItem(S.theatre.persistenceKey+".openRTViewerPanes"));c!=null&&c[r]?(delete c[r],localStorage.setItem(S.theatre.persistenceKey+".openRTViewerPanes",JSON.stringify(c))):s.querySelectorAll("button").forEach(u=>{u.removeEventListener("click",l)})}}}]}}class Ly{constructor(e,t,i={}){pe(this,"updateLocation",()=>{const e=this.paneElement.parentElement.offsetLeft,t=this.paneElement.parentElement.offsetTop+this.paneElement.offsetTop,i=this.paneElement.clientWidth,r=this.paneElement.clientHeight;S.WebGL.rtViewer.rtViews[this.rtName].setLocation(e,t,i,r)});pe(this,"onResize",()=>{this.updateLocation()});this.paneElement=e,this.rtName=t,this.paneElement.style.background="none",S.WebGL.rtViewer.createRTView(this.rtName,i),this.updateLocation(),this.observer=new MutationObserver(this.updateLocation),this.observer.observe(this.paneElement.parentElement,{attributes:!0,attributeFilter:["style"]}),oc(this.onResize)}destroy(){this.observer.disconnect(),S.WebGL.rtViewer.destroyRTView(this.rtName),kl.delete(this.onResize)}}const Gue=Object.freeze(Object.defineProperty({__proto__:null,default:Vue},Symbol.toStringTag,{value:"Module"}));class r6{constructor(e,t={}){pe(this,"assets",{textures:{},fonts:{},models:{}});pe(this,"beforeRender",e=>{this.clockDelta=this.clock.getDelta(),this.globalUniforms.uDelta.value=this.clockDelta>.016?.016:this.clockDelta,this.globalUniforms.uTime.value=e*.001,this.clockDelta=Math.round(this.clockDelta*1e3)/1e3,this.clockDelta=gn.clamp(this.clockDelta,0,.016),this.normalizedDelta=this.clockDelta/.016,this.globalUniforms.uNormalizedDelta.value=this.normalizedDelta,this.renderer.info.reset()});pe(this,"render",()=>{var e;this.composer.enabled&&this.composer.render(),(e=this.stats)==null||e.update(),S.Gui&&S.Gui.refresh(!1)});pe(this,"onResize",()=>{this.renderer.setSize(S.window.w,S.window.h),this.composer.setSize(S.window.w,S.window.h),this.globalUniforms.uResolution.value.set(S.window.w*this.renderer.getPixelRatio(),S.window.h*this.renderer.getPixelRatio())});pe(this,"onFPSChecked",({data:e})=>{const{gpuTier:t}=e;t<4&&(this.renderer.getPixelRatio()<=2&&this.renderer.getPixelRatio()>1.5&&(this.renderer.setPixelRatio(1.5),this.composer.setPixelRatio(1.5),Q_(kl)),this.renderer.getPixelRatio()<=1.5&&this.renderer.getPixelRatio()>1.25&&(this.renderer.setPixelRatio(1.25),this.composer.setPixelRatio(1.25),Q_(kl)),this.globalUniforms.uResolution.value.set(S.window.w*this.renderer.getPixelRatio(),S.window.h*this.renderer.getPixelRatio()))});var a;this.el=e,this.options=An({parseBlenderData:!1},t),this.enabled=!1,this.isBuilt=!1,this.renderer=new Hne({alpha:!1,antialias:!1,canvas:this.el,powerPreference:"high-performance",stencil:!1,preserveDrawingBuffer:!0});const i=this.renderer.getContext().getExtension("WEBGL_debug_renderer_info");if(i!=null){const l=this.renderer.getContext().getParameter(i.UNMASKED_RENDERER_WEBGL);l.includes("Intel")&&(l.includes("Plus")||l.includes("HD"))&&(S.isLowTierGPU=!0)}this.renderer.setPixelRatio(S.window.dpr>=2?2:S.window.dpr),this.renderer.setSize(S.window.w,S.window.h),this.renderer.info.autoReset=!1,this.renderer.shadowMap.enabled=!1,this.renderer.shadowMap.autoUpdate=!1,this.renderer.shadowMap.type=zo,this.composer=new Are(this.renderer,new ai(S.window.w*this.renderer.getPixelRatio(),S.window.h*this.renderer.getPixelRatio(),{type:nn})),this.composer.enabled=!S.urlParams.has("controls"),this.composerPasses=new zue(this.composer.passes),S.AssetLoader.setDracoLoader(),S.AssetLoader.setAvailableKtxFiles(),S.AssetLoader.setKtxLoader(this.renderer),S.env!=="production"&&(this.rtViewer=new cle,(a=this.rtViewer)==null||a.registerRT(this.composer.renderTarget1,"Composer Result")),this.pmremHandler=new sle(this.renderer),this.clock=new oD,this.clockDelta=.016,this.composerPassOrder={"landing-orb":0,"crypto-orb":10,"computing-orb":20,"engineering-orb":30,"biology-orb":40,"team-orb":50,article:60,transitions:100,postfx:200},this.globalUniforms={uDelta:{value:0},uNormalizedDelta:{value:0},uTime:{value:0},uResolution:{value:new De(S.window.w*this.renderer.getPixelRatio(),S.window.h*this.renderer.getPixelRatio())},uDevCameraActive:{value:!1}},S.theatre.sheets["Global WebGL"]=ri(S.theatre.project.sheet("Global WebGL")),this.currentMouse=new De,this.previousMouse=new De,this.scenes={"landing-orb":bce,"crypto-orb":Hce,"computing-orb":yue,"engineering-orb":Tue,"biology-orb":Bue,"team-orb":kue,article:Jle},this.activeScene=null,this.globalTransitionUniforms={uNoise1Scale:{value:new De(.015,.03),gui:{step:.001}},uNoise2Scale:{value:new De(.1,.1),gui:{step:.001}},uNoise1Offset:{value:new De(.5,0),gui:{step:.001}},uUvDistortion:{value:.03,gui:{min:0,step:.001}},uAdditionalUvDistortion:{value:.2,gui:{min:0,step:.001}},uChromaticAberrationStrength:{value:.003,gui:{min:0,step:.001}},uCrossfadeSize:{value:.05,gui:{min:0,step:.001}},uCrossfadeNoise:{value:.05,gui:{min:0,step:.001}}};const r={},s=S.theatre.helper.autoAddUniforms(r,this.globalTransitionUniforms);S.theatre.helper.addSheetObject("Global WebGL","Transition",r).onValuesChange(l=>{for(let c=0;c<s.length;c++)s[c](null,l)},S.theatre.rafDriver),S.urlParams.has("gui")||S.urlParams.get("devmode")==="webgl"?this.transitions=[]:this.transitions=[new Nh({fromScene:"landing-orb",toScene:"computing-orb"}),new Nh({fromScene:"computing-orb",toScene:"engineering-orb"}),new Nh({fromScene:"engineering-orb",toScene:"biology-orb"}),new Nh({fromScene:"biology-orb",toScene:"crypto-orb"}),new Nh({fromScene:"crypto-orb",toScene:"team-orb"})],fle(),gue(),Aue(),this.load(),oc(this.onResize,!1),Rm.init(),this.buildStats(),S.urlParams.get("devmode")==="webgl"&&(dE(".lenis").style.display="none",dE(".js-header").style.display="none")}initScenes(){if(S.urlParams.has("scene")){const e=S.urlParams.get("scene");if(this.scenes[e])this.scenes[e]=this.scenes[e]?new this.scenes[e](e,{},this):new cc(e),S.sceneName=e;else{alert("No scene found called: "+e);for(const t in this.scenes)this.scenes[t]!==null&&(this.scenes[t]=new this.scenes[t](t,{},this));S.sceneName=Object.keys(this.scenes)[0]}}else{for(const e in this.scenes)this.scenes[e]!==null&&(this.scenes[e]=new this.scenes[e](e,{},this));S.sceneName=Object.keys(this.scenes)[0]}}buildSceneScrollAnimations(){Object.keys(this.scenes).forEach(e=>{this.scenes[e]instanceof Wa&&this.scenes[e].options.domId&&this.scenes[e].buildScrollAnimation()})}killSceneScrollAnimations(){Object.keys(this.scenes).forEach(e=>{var t,i;(i=(t=this.scenes[e]).killScrollAnimation)==null||i.call(t)})}buildScenePostFxAnimations(){if(S.urlParams.get("devmode")==="webgl")return;this.postFxAnimations=[];const e=Nb("[data-webgl-section]");e.forEach((t,i)=>{var a,l;if(i===e.length-1)return;const r=S.theatre.objects[this.scenes[t.dataset.webglSection+"-orb"].prettyName]["Post FX"].value,s=S.theatre.objects[(l=this.scenes[((a=e[i+1])==null?void 0:a.dataset.webglSection)+"-orb"])==null?void 0:l.prettyName]["Post FX"].value,o=dr.timeline({paused:!0,defaults:{duration:1,ease:"none"},scrollTrigger:{trigger:t,start:"bottom bottom",end:"bottom top",scrub:.1}}).fromTo(this.bloomPass,{enabled:r.bloom.enabled,strength:r.bloom.strength,threshold:r.bloom.threshold,radius:r.bloom.radius},{enabled:s.bloom.enabled,strength:s.bloom.strength,threshold:s.bloom.threshold,radius:s.bloom.radius},0).fromTo(this.directionalBloomPass,{enabled:r.directionalBloom.enabled,strength:r.directionalBloom.strength,threshold:r.directionalBloom.threshold,radius:r.directionalBloom.radius},{enabled:s.directionalBloom.enabled,strength:s.directionalBloom.strength,threshold:s.directionalBloom.threshold,radius:s.directionalBloom.radius},0);this.postFxAnimations.push(o)})}killScenePostFxAnimations(){var e;(e=this.postFxAnimations)==null||e.forEach(t=>{t.kill()}),this.postFxAnimations=[]}build(){var e,t,i;if(!this.isBuilt){this.isBuilt=!0,this.buildFluidSim(),this.buildPasses(),this.buildTheatreOptions();for(const r in this.scenes)(t=(e=this.scenes[r])==null?void 0:e.build)==null||t.call(e);S.env!=="production"&&!((i=window==null?void 0:window.__TheatreJS_StudioBundle)!=null&&i._studio._store._atom._currentState.ephemeral.extensions.byId["unseen-extension"])&&wr(()=>Promise.resolve().then(()=>Gue),void 0,import.meta.url).then(async({default:r})=>{var s,o;(o=(s=S.theatre)==null?void 0:s.studio)==null||o.extend(r("blueyard","/"))})}}buildTransitions(){for(let e=0;e<this.transitions.length;e++)this.transitions[e].build()}killTransitionTimelines(){for(let e=0;e<this.transitions.length;e++)this.transitions[e].killTimeline()}destroyTransitions(){for(let e=0;e<this.transitions.length;e++)this.transitions[e].destroy()}buildFluidSim(){var e;this.fluidSim=new vle({simulationOpts:{uniforms:{}},fluid:{force:10,forceClamp:20}}),(e=this.rtViewer)==null||e.registerRT(this.fluidSim.advectionSimVelocity.renderTargets.read,"Fluid Sim")}buildPasses(){this.bloomPass=new Fd(new De(S.window.w,S.window.h)),this.bloomPass.threshold=1,this.bloomPass.strength=.24,this.bloomPass.radius=.04,this.bloomPass.name="Bloom",this.bloomPass.enabled=!1,this.directionalBloomPass=new Ud(new De(S.window.w,S.window.h)),this.directionalBloomPass.threshold=1,this.directionalBloomPass.strength=.24,this.directionalBloomPass.radius=.04,this.directionalBloomPass.name="Directional Bloom",this.directionalBloomPass.enabled=!1,this.fxaaPass=new np(new is({vertexShader:ece,fragmentShader:tce,uniforms:{tDiffuse:{value:null},uSamples:{value:S.isLowTierGPU?4:8,gui:{min:0,step:1}}},defines:{EDGE_THRESHOLD_MIN:.009,EDGE_THRESHOLD_MAX:.125,SUBPIXEL_QUALITY:.85},name:"FXAAMaterial"})),this.fxaaPass.name="FXAA",this.fxaaPass.material.name="FXAA",this.compositePass=new np(new is({vertexShader:I4,fragmentShader:nce,uniforms:{tDiffuse:{value:null},uEnabled:{value:!0},uChromaticAberration:{value:!0},uVignette:{value:!1},uNoise:{value:!0},uMaxDistort:{value:.449},uBendAmount:{value:-.0779},uVignetteStrength:{value:.602},uVignetteInnerStrength:{value:.08},uVignetteOuterStrength:{value:.21},uVignetteColor:{value:new ke(0)},uNoiseStrength:{value:.23}},name:"FinalComposite"})),this.compositePass.name="Final Composite",S.env!=="production"&&S.env!=="browsersync-no-theatre"&&(this.outputPass=new yre),this.composerPasses.add(this.fxaaPass,this.composerPassOrder.postfx),S.isLowTierGPU||(this.composerPasses.add(this.bloomPass,this.composerPassOrder.postfx+2),this.composerPasses.add(this.directionalBloomPass,this.composerPassOrder.postfx+4)),this.composerPasses.add(this.compositePass,this.composerPassOrder.postfx+10)}buildTheatreOptions(){const e={chromaticAberration:{enabled:Te.types.boolean(S.WebGL.compositePass.material.uniforms.uChromaticAberration.value),maxDistort:Te.types.number(S.WebGL.compositePass.material.uniforms.uMaxDistort.value,{range:[0,4],nudgeMultiplier:.001}),bendAmount:Te.types.number(S.WebGL.compositePass.material.uniforms.uBendAmount.value,{range:[-1,1],nudgeMultiplier:.001})},vignette:{enabled:Te.types.boolean(S.WebGL.compositePass.material.uniforms.uVignette.value),strength:Te.types.number(S.WebGL.compositePass.material.uniforms.uVignetteStrength.value,{range:[0,1],nudgeMultiplier:.001}),outerStrength:Te.types.number(S.WebGL.compositePass.material.uniforms.uVignetteOuterStrength.value,{range:[0,2],nudgeMultiplier:.01}),innerStrength:Te.types.number(S.WebGL.compositePass.material.uniforms.uVignetteInnerStrength.value,{range:[0,5],nudgeMultiplier:.01}),color:S.theatre.helper.parseColor(S.WebGL.compositePass.material.uniforms.uVignetteColor.value)},noise:{enabled:Te.types.boolean(S.WebGL.compositePass.material.uniforms.uNoise.value),strength:Te.types.number(S.WebGL.compositePass.material.uniforms.uNoiseStrength.value,{range:[0,1],nudgeMultiplier:.001})},led:{}};S.theatre.helper.addSheetObject("Global WebGL","Post FX",e).onValuesChange(i=>{S.WebGL.compositePass.material.uniforms.uChromaticAberration.value=i.chromaticAberration.enabled,S.WebGL.compositePass.material.uniforms.uMaxDistort.value=i.chromaticAberration.maxDistort,S.WebGL.compositePass.material.uniforms.uBendAmount.value=i.chromaticAberration.bendAmount,S.WebGL.compositePass.material.uniforms.uVignette.value=i.vignette.enabled,S.WebGL.compositePass.material.uniforms.uVignetteStrength.value=i.vignette.strength,S.WebGL.compositePass.material.uniforms.uVignetteInnerStrength.value=i.vignette.innerStrength,S.WebGL.compositePass.material.uniforms.uVignetteOuterStrength.value=i.vignette.outerStrength,S.WebGL.compositePass.material.uniforms.uVignetteColor.value.copy(i.vignette.color),S.WebGL.compositePass.material.uniforms.uNoise.value=i.noise.enabled,S.WebGL.compositePass.material.uniforms.uNoiseStrength.value=i.noise.strength},S.theatre.rafDriver);const t={fluid:{force:Te.types.number(20,{range:[0,1/0],nudgeMultiplier:.1}),forceClamp:Te.types.number(100,{range:[0,1/0],nudgeMultiplier:.1}),iterations:Te.types.number(3,{range:[0,12],nudgeMultiplier:1})},simulation:{mouseRadius:Te.types.number(.25,{range:[0,1],nudgeMultiplier:.01}),pressure:Te.types.number(.98,{range:[.55,.999],nudgeMultiplier:1e-4}),curlStrength:Te.types.number(.25,{range:[0,2],nudgeMultiplier:1e-4}),dissipation:Te.types.number(.1,{range:[0,.99],nudgeMultiplier:1e-4}),clearValue:Te.types.number(.1,{range:[0,.99],nudgeMultiplier:1e-4}),viscosity:Te.types.number(.08,{range:[0,1],nudgeMultiplierp:1e-4})}};S.theatre.helper.addSheetObject("Global WebGL","Fluid Sim",t).onValuesChange(i=>{this.fluidSim&&(S.WebGL.fluidSim.options.fluid.force=i.fluid.force,S.WebGL.fluidSim.options.fluid.forceClamp=i.fluid.forceClamp,S.WebGL.fluidSim.options.fluid.iterations=i.fluid.iterations,S.WebGL.fluidSim.options.simulationOpts.uniforms.uMouseRadius.value=i.simulation.mouseRadius,S.WebGL.fluidSim.options.simulationOpts.uniforms.uPressure.value=i.simulation.pressure,S.WebGL.fluidSim.options.simulationOpts.uniforms.uCurlStrength.value=i.simulation.curlStrength,S.WebGL.fluidSim.options.simulationOpts.uniforms.uDissipation.value=i.simulation.dissipation,S.WebGL.fluidSim.options.simulationOpts.uniforms.uClearValue.value=i.simulation.clearValue,S.WebGL.fluidSim.options.simulationOpts.uniforms.uViscosity.value=i.simulation.viscosity)},S.theatre.rafDriver)}buildStats(){if(S.env!=="production"&&S.urlParams.has("stats")){this.stats=new ile({trackGPU:!0,samplesLog:200,graphsPerSecond:4,logsPerSecond:4}),this.stats.visible=!0,this.stats.init(this.renderer),this.stats.dom.classList.add("js-stats"),Object.assign(this.stats.dom.style,{display:"flex",width:"100%",justifyContent:"center",pointerEvents:"none"});const e=`
				.js-stats > * {
					position: static !important;
				}
			`,t=document.createElement("style");t.innerHTML=e,this.stats.dom.appendChild(t),document.body.appendChild(this.stats.dom)}}showStats(){this.stats.dom.style.display="flex",this.stats.visible=!0}hideStats(){this.stats.dom.style.display="none",this.stats.visible=!1}preRender(){for(const e in this.scenes)this.scenes[e]instanceof Wa&&(S.WebGL.renderer.compile(this.scenes[e],this.scenes[e].activeCamera),S.theatre.sheets[this.scenes[e].prettyName].sequence.position=1,this.scenes[e].renderPass.enabled=!0,this.scenes[e].renderPassOrbObjects&&(this.scenes[e].renderPassOrbObjects.enabled=!0),this.scenes[e].backgroundSavePass&&(this.scenes[e].backgroundSavePass.enabled=!0));S.WebGL.composer.render();for(const e in this.scenes)this.scenes[e]instanceof Wa&&(this.scenes[e].renderPass.enabled=!1,S.theatre.sheets[this.scenes[e].prettyName].sequence.position=0,this.scenes[e].renderPassOrbObjects&&(this.scenes[e].renderPassOrbObjects.enabled=!1),this.scenes[e].backgroundSavePass&&(this.scenes[e].backgroundSavePass.enabled=!1))}start(){var e,t;this.enabled||(Rm.dispatchEvent("CheckFPS"),this.enabled=!0,this.addEvents(),(e=this.rtViewer)==null||e.enable(),(t=this.scenes[S.sceneName])==null||t.start(),S.theatre.manager&&S.theatre.manager.enableRAF())}stop(){var e;this.enabled&&(this.enabled=!1,this.removeEvents(),(e=this.rtViewer)==null||e.disable(),Object.keys(this.scenes).forEach(t=>{var i,r;(r=(i=this.scenes[t])==null?void 0:i.stop)==null||r.call(i)}),S.theatre.manager&&S.theatre.manager.disableRAF())}destroy(){var e;this.stop(),this.destroyScenes(),(e=this.rtViewer)==null||e.destroy(),this.renderer.dispose(),this.destroyTransitions(),this.killSceneScrollAnimations(),this.killScenePostFxAnimations(),S.theatre.helper.detachAllSheetObjects("Global WebGL")}destroyScenes(){var e,t;for(const i in this.scenes)(t=(e=this.scenes[i])==null?void 0:e.destroy)==null||t.call(e)}addEvents(){S.RAFCollection.add(this.beforeRender,1),S.RAFCollection.add(this.render,100),Rm.on("FPSChecked",this.onFPSChecked),S.isLowTierGPU||S.WebGL.fluidSim.addEvents()}removeEvents(){S.RAFCollection.remove(this.beforeRender),S.RAFCollection.remove(this.render),Rm.off("FPSChecked",this.onFPSChecked),S.isLowTierGPU||S.WebGL.fluidSim.removeEvents()}generateTexture(e,t={}){return e instanceof HTMLImageElement&&(e=new xn(e)),e.minFilter=t.minFilter||Fs,e.magFilter=t.magFilter||Yt,e.wrapS=e.wrapT=t.wrapping||ti,e.flipY=t.flipY!==void 0?t.flipY:!0,e.colorSpace=t.colorSpace||pi,e.mapping=t.mapping||Gx,e.isCompressedTexture||(e.generateMipmaps=t.generateMipmaps!==void 0?t.generateMipmaps:!0),e.anisotropy=t.anisotropy||1,this.renderer.initTexture(e),e}load(){this.loadFonts(),S.AssetLoader.loadTexture("/webgl/textures/gradient-noise.jpg",{wrapping:ts}).then(e=>{this.assets.textures.noise=e})}loadFonts(){for(const e in S.webglFonts){const t=JSON.parse(S.webglFonts[e]);this.assets.fonts[e]=t,t.pages.forEach((i,r)=>{const s=i.split(".")[0];S.AssetLoader.loadTexture(`/webgl/fonts/${e}/msdf/${i}`,{flipY:!0,anisotropy:this.renderer.capabilities.getMaxAnisotropy()}).then(o=>{this.assets.textures[`${e}_${s}-${r}`]=o})})}}}const Que=JSON.parse('{"LandingOrb":{"staticOverrides":{"byObject":{"Cameras / Camera 1":{"enableLookAt":false,"transforms":{"position":{"x":0,"z":16.599999999999987,"y":3.1000000000000014}}},"Landing Orb":{"uniforms":{"uColorFresnelAmount":3.400000000000001,"uAmbientColor":{"r":1,"g":0.6274509803921569,"b":0.4666666666666667,"a":1},"uFresnelColor":{"r":0.9607843137254902,"g":0.8980392156862745,"b":0.8862745098039215,"a":1},"uColorFresnelFalloff":1.5100000000000005,"uLightPosition":{"x":-12,"y":16,"z":53},"uCloudsColor":{"r":0.8588235294117647,"g":0.06274509803921569,"b":0.06274509803921569,"a":1},"uShininess":74,"uSpecularIntensity":0.18999999999999984,"uLightIntensity":0.9499999999999996,"uLightColor":{"r":0.9058823529411765,"g":0.7098039215686275,"b":0.4196078431372549,"a":1},"uOpacity":0.95,"uLightIntensity2":0.9200000000000004,"uSpecularIntensity2":0.6799999999999992,"uLightColor2":{"r":0.7215686274509804,"g":0.1803921568627451,"b":0.3176470588235294,"a":1},"uLightPosition2":{"x":18.000000000000007,"y":-6.700000000000017,"z":22.000000000000057},"uOpacityFresnelFalloff":1.980000000000002,"uOpacityFresnelOffset":0.025000000000000112,"uOpacityFresnelAmount":1.3699999999999974,"uDebugClouds":false,"uCloudNoiseScale":{"x":2.5,"y":2.5,"z":2.5},"uCloudsSmoothstep":{"y":0.9199999999999999,"x":0.36000000000000015},"uCloudNoiseSpeed":0.4199999999999998},"material":{"transparent":true,"depthWrite":true},"visible":true},"LandingOrbParticles":{"material":{"depthTest":true,"transparent":false},"simulation":{"uniforms":{"uCurlSize":0.2799999999999992,"uCurlNoiseSpeed":3.6600000000000037,"uCurlStrength":0.08700000000000001,"uLerpSpeed":0.20399999999999982,"uCurl":true,"uRadius":2.95,"uFriction":0,"uDecay":0.37399999999999944,"uShapeThreshold":0.25,"uAmplitude":{"x":0.1350000000000001,"y":0.12099999999999991},"uRoughness":0.650000000000011,"uDetail":0.5,"uFrequency":{"x":7.580000000000001,"y":9.64},"uCurlNoisePersistence":0.16700000000000043,"uNoiseTranslation":{"x":105.12000000000008,"y":104.0200000000002,"z":97.25999999999998},"uDecay2":0.3960000000000003,"uLerpSpeed2":0.3840000000000002,"uFluidStrength":0.1}},"visible":true,"uniforms":{"uParticleSize":0.35,"uAmbientColor1":{"r":0.30980392156862746,"g":0.1803921568627451,"b":0.17254901960784313,"a":1},"uAmbientColor2":{"r":0.4666666666666667,"g":0.32941176470588235,"b":0.19607843137254902,"a":1},"uBaseColor":{"r":0.8666666666666667,"g":0.2980392156862745,"b":0.2980392156862745,"a":1},"uBaseColor2":{"r":1,"g":0.5843137254901961,"b":0.3215686274509804,"a":1},"uEdgeColor1":{"r":0.9882352941176471,"g":0.6078431372549019,"b":0.49411764705882355,"a":1},"uEdgeColor2":{"r":1,"g":0.7450980392156863,"b":0.5333333333333333,"a":1},"uRandomHighlightSelect":0.98,"uRandomHighlightBaseColor":{"r":1,"g":0,"b":0,"a":1},"uBloomColor1":{"r":0.9529411764705882,"g":0.6666666666666666,"b":0.6352941176470588,"a":1},"uBloomColor2":{"r":0.9607843137254902,"g":0.7372549019607844,"b":0.6274509803921569,"a":1},"uSunDistanceColorStep":9.929999999999692,"uShininess":83,"uLightIntensity":1.4900000000000004,"uSpecularIntensity":0.64,"uLightColor":{"r":1,"g":0.9058823529411765,"b":0.8705882352941177,"a":1},"uLightColor2":{"r":1,"g":0.9137254901960784,"b":0.8392156862745098,"a":1},"uSpecularIntensity2":2,"uCloudsFadeIntensity":2.800000000000005,"uEdgeColorStop":{"x":1.9299999999999962,"y":2.8899999999999904},"uScaleRange":{"y":1.2},"uRandomHighlightColor":{"x":10,"y":1.57,"z":1.3100000000000005},"uBrightColorPick":{"x":0.13,"y":0.16},"uDistanceFadeNearFar":{"x":18.180000000000096,"y":19.529999999999873}}},"Cameras / Settings":{"cameraPivotStrength":0,"cameraPivotOffset":18,"cameraPivotAngle":{"x":0.21700000000000014,"y":0.11799999999999988},"cameraYTranslate":0},"Post FX":{"vignette":{"enabled":false},"bloom":{"enabled":true,"strength":0.32999999999999985,"radius":0},"bloomPassColor":{"enabled":false,"threshold":1.345999999999997,"strength":1.2799999999999994,"radius":0.5400000000000003},"noise":{"strength":0.23}},"Background":{"uniforms":{"uColor2":{"r":0.8235294117647058,"g":0.6823529411764706,"b":0.2549019607843137,"a":1},"uColor3":{"r":0.9803921568627451,"g":0.9568627450980393,"b":0.788235294117647,"a":1},"uColor2Brightness":1,"uColor1":{"r":1,"g":0.3137254901960784,"b":0.3137254901960784,"a":1},"uScale1":1.8800000000000008,"uOffset2":{"x":-0.5100000000000005,"y":-0.27000000000000035},"uOffset1":{"x":-3.66000000000001,"y":-0.3999999999999997},"uScale2":1.4400000000000004},"visible":true,"material":{"transparent":true,"depthTest":true}},"Global Uniforms":{"uniforms":{"uLightPosition":{"x":-37,"y":23,"z":91},"uLightPosition2":{"x":102,"y":3,"z":84}}},"Sun and Shadow":{"sunPosition":{"x":4.2,"y":5.799999999999996,"z":6.00000000000003},"dirLight2position":{"x":-10.000000000000005,"y":1.1999999999999993,"z":-0.1999999999999064},"shadowIntensity":0.6300000000000001,"shadowCamera":{"far":13.799999999999947,"top":3.7000000000000006,"bottom":-2.9000000000000012,"left":-4.200000000000013,"right":3.200000000000005,"near":5.500000000000009},"shadowColor":{"r":0.17647058823529413,"g":0.0196078431372549,"b":0.15294117647058825,"a":1},"shadowColor2":{"r":0.36470588235294116,"g":0.16862745098039217,"b":0.07058823529411765,"a":1}},"LandingOrbFlareParticles":{"material":{"transparent":true,"blending":"2","depthWrite":true,"depthTest":true},"simulation":{"uniforms":{"uDecay":0.131,"uLerpSpeed":0.15699999999999986,"uFluidStrength":0.03}},"visible":true,"uniforms":{"uParticleSize":0.3,"uColor":{"r":1,"g":0,"b":0,"a":1},"uScaleRange":{"y":1.2},"uCenterFade":{"x":3,"y":3.3},"uBloomColor":{"x":0.5399999999999996,"y":0.9299999999999997,"z":0.94}}},"Fluid Sim":{"simulation":{"mouseRadius":0.1,"pressure":0.9883000000000002,"curlStrength":0.3675000000000004,"dissipation":0.034999999999999615,"clearValue":0,"viscosity":0.484126984126984},"fluid":{"forceClamp":20,"force":5}}}},"sequence":{"subUnitsPerUnit":30,"length":10,"type":"PositionalSequence","tracksByObject":{"Landing Orb":{"trackData":{},"trackIdByPropPath":{}}}}},"CryptoOrb":{"staticOverrides":{"byObject":{"Cameras / Camera 1":{"transforms":{"position":{"z":17.31000000000005,"x":-2.1899999999999977}},"enableLookAt":false},"Background":{"color":{"r":0.9215686274509803,"g":0.9294117647058824,"b":0.9294117647058824,"a":1},"uniforms":{"uColor2":{"r":0.9254901960784314,"g":0.5568627450980392,"b":0.4392156862745098,"a":1},"uColor1":{"r":0.47058823529411764,"g":0.03529411764705882,"b":0.6,"a":1},"uColor3":{"r":1,"g":0.9921568627450981,"b":0.9686274509803922,"a":1},"uOffset":{"x":0.00999999999999994,"y":-6.938893903907228e-18},"uGradientMidPoint":0.3900000000000001,"uColor1Brightness":1,"uColor2Brightness":1,"uScale1":2.0599999999999983,"uScale2":1.379999999999989,"uOffset1":{"x":5.989999999999967,"y":-4.529999999999993,"z":-2.569999999999993},"uOffset2":{"x":-2.4599999999999835,"y":-3.4199999999999897,"z":2.65999999999999},"uScale3":1.4800000000000069,"uOffset3":{"x":0.23000000000000026},"uColor4":{"r":0.7450980392156863,"g":0.8941176470588236,"b":1,"a":1},"uColor4BlendEnd":0.7299999999999998,"uColor4BlendStart":0.18999999999999992},"material":{"transparent":true,"depthTest":true}},"CryptoOrbParticleSpheres / inner":{"simulation":{"uniforms":{"uCurlSize":0.909999999999999,"uCurlNoiseSpeed":0.19999999999999996,"uCurlStrength":0.07500000000000004,"uCurl":true,"uLerpSpeed":0.2,"uFluidStrength":0.11499999999999974}},"material":{"uniforms":{"uBaseColor":{"r":0.5372549019607843,"g":0.6784313725490196,"b":0.7294117647058823,"a":1},"uParticleSize":0.2,"uOpacity":0.5600000000000002}},"count":1024,"visible":true},"CryptoOrbParticleSpheres / outer":{"simulation":{"uniforms":{"uCurlSize":1.3200000000000005,"uCurlStrength":0.068,"uCurlNoiseSpeed":0.12000000000000002,"uCurl":true,"uFluidStrength":0.13199999999999967}},"material":{"uniforms":{"uBaseColor":{"r":0.8901960784313725,"g":0.43529411764705883,"b":0.7254901960784313,"a":1},"uParticleSize":0.15}}},"Electric-branches / Global":{"uniforms":{"uBaseColor":{"r":0.25882352941176473,"g":0.23529411764705882,"b":0.3254901960784314,"a":1},"uLineWidth":0.005400000000000002,"uHighlightPower":2.7299999999999986,"uHideProgress":0,"uHighlightLength":0.43999999999999984,"uExtraColor":{"r":0.8196078431372549,"g":0.7098039215686275,"b":1,"a":1},"uFresnelOffset":0.6330000000000001,"uFresnelFalloff":0.22999999999999995,"uFresnelAmount":1}},"CryptoLine-inner-outer / Global":{"uniforms":{"uBaseColor":{"r":0.5372549019607843,"g":0.6313725490196078,"b":0.6470588235294118,"a":1},"uLineWidth":0.003,"uHighlightPower":5}},"Post FX":{"bloom":{"enabled":true,"threshold":1.4400000000000004,"strength":0.5099999999999999,"radius":1},"chromaticAberration":{"maxDistort":0.689,"bendAmount":-0.09589999999999999},"vignette":{"enabled":false},"bloomPassColor":{"threshold":1.0600000000000003,"strength":1.1999999999999993,"radius":1.2400000000000007,"enabled":false},"directionalBloom":{"enabled":false},"noise":{"strength":0.2}},"CryptoOrbGlassSphere":{"material":{"roughness":1,"iridescence":0.41,"dispersion":7.309999999999996,"thickness":0.21999999999999997,"ior":1.1800000000000002,"anisotropy":0,"attenuationDistance":10,"attenuationColor":{"r":0.09411764705882353,"g":0.09411764705882353,"b":0.09411764705882353,"a":1},"clearcoat":0,"clearcoatRoughness":0,"iridescenceIOR":2.100000000000004,"sheen":1,"sheenRoughness":1,"sheenColor":{"r":0.6235294117647059,"g":0.3254901960784314,"b":0.16470588235294117,"a":1},"specularIntensity":0.5899999999999999,"specularColor":{"r":0.5411764705882353,"g":0.25882352941176473,"b":0.5137254901960784,"a":1},"reflectivity":1,"envMapRotation":{"x":-1.1684073464101945,"y":4.490000000000003,"z":0.3800000000000001},"fresnelAmount":3.709999999999995,"transmission":1,"envMapIntensity":2.3,"fresnelOffset":0,"fresnelFalloff":1.1800000000000008,"color":{"r":0.9725490196078431,"g":0.9725490196078431,"b":0.9725490196078431,"a":1},"blending":"1","side":"0"},"visible":true},"Cameras / Settings":{"cameraPivotAngle":{"x":0.1,"y":0.1},"cameraPivotStrength":1,"cameraPivotOffset":20,"cameraXTranslate":0,"cameraPivotRollAmount":0.3,"pointerLerpSpeed1":0.02},"CryptoLine-inner-outer / Line":{"material":{"transparent":true,"depthTest":false,"depthWrite":true,"colorWrite":true,"blending":"1"},"transforms":{"scale":{"x":1},"position":{"x":0}},"uniforms":{"uOpacity":1},"visible":true},"Electric-branches / Line":{"material":{"blending":"2","transparent":true,"depthTest":true},"transforms":{"scale":{"x":1.1,"y":1.1,"z":1.1}},"visible":true},"Extra-branches / Global":{"uniforms":{"uBaseColor":{"r":0.9450980392156862,"g":0.7843137254901961,"b":1,"a":1},"uLineWidth":0.005999999999999979,"uHighlightLength":0.1}},"Extra-branches / Line":{"material":{"blending":"2","transparent":true,"depthWrite":true,"colorWrite":true,"depthTest":true},"visible":false,"uniforms":{"uOpacity":0.2},"transforms":{"scale":{"x":1,"y":1,"z":1}}},"hover-line / Global":{"uniforms":{"uHoverColor":{"r":1,"g":0.5058823529411764,"b":0.26666666666666666,"a":1},"uBaseColor":{"r":0,"g":0,"b":0,"a":1},"uMouseFresnelAmount":6.059999999999991,"uMouseRadius":0.11,"uMouseFresnelOffset":0.01}},"hover-line / Line":{"material":{"blending":"2"},"transforms":{"scale":{"x":1.1,"y":1.1,"z":1.1}}},"Fluid Sim":{"simulation":{"mouseRadius":0.05,"curlStrength":0.0812,"clearValue":0,"dissipation":0.016499999999999845,"viscosity":0.015873015873015872},"fluid":{"forceClamp":30,"force":20}}}},"sequence":{"subUnitsPerUnit":30,"length":35.47,"type":"PositionalSequence","tracksByObject":{"Cameras / Camera 1":{"trackData":{},"trackIdByPropPath":{}},"Electric-branches / Global":{"trackData":{"0kLKUVgKd-":{"type":"BasicKeyframedTrack","__debugName":"Electric-branches / Global:[\\"uniforms\\",\\"uTimeProgress\\"]","keyframes":[{"id":"__etIdk9rv","position":1.067,"connectedRight":true,"handles":[0.5,1,0.18,0.975],"type":"bezier","value":0},{"id":"feej9gcTkU","position":10.533,"connectedRight":true,"handles":[0.624,0.448,0.5,0],"type":"bezier","value":1}]},"PrwP4EWWWQ":{"type":"BasicKeyframedTrack","__debugName":"Electric-branches / Global:[\\"uniforms\\",\\"uHighlightLength\\"]","keyframes":[{"id":"WwZlh6rfW_","position":1.067,"connectedRight":true,"handles":[0.5,1,0.18,0.641],"type":"bezier","value":0.43999999999999984},{"id":"2Aa00SeaUE","position":10.333,"connectedRight":true,"handles":[0.5,1,0.5,0],"type":"bezier","value":0}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uTimeProgress\\"]":"0kLKUVgKd-","[\\"uniforms\\",\\"uHighlightLength\\"]":"PrwP4EWWWQ"}},"Extra-branches / Global":{"trackData":{"JaInCSkaln":{"type":"BasicKeyframedTrack","__debugName":"Extra-branches / Global:[\\"uniforms\\",\\"uTimeProgress\\"]","keyframes":[{"id":"-RKmnoKjXh","position":7.3,"connectedRight":true,"handles":[0.5,1,0.55,0.085],"type":"bezier","value":0},{"id":"OCQuwQAT3j","position":33.467,"connectedRight":true,"handles":[0.68,0.53,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uTimeProgress\\"]":"JaInCSkaln"}}}}},"ComputingOrb":{"staticOverrides":{"byObject":{"Cameras / Camera 1":{"transforms":{"position":{"z":7.250000000000007,"x":0.7700000000000002,"y":0}},"enableLookAt":false},"Computing Orb Bands":{"uniforms":{"uHighlightPower":39.90000000000002,"uHighlightColor":{"r":0.9137254901960784,"g":0.3843137254901961,"b":1,"a":1},"uFadeLength":0.028799999999999975,"uMatcapBlendMode":1,"uMatcapContrast":1.6400000000000008,"uFadeContrast":36.469999999999985,"uSpeed":0.08,"uColor":{"r":0.9411764705882353,"g":0.8901960784313725,"b":0.9803921568627451,"a":1},"uFillRepeat":3,"uStrandOffset":0.021000000000000005,"uBundleOffset":28.16999999999999,"uFillLength":0.6919999999999997,"uStartFadeLength":0.04300000000000001,"uEndFadeLength":0.001,"uEmissiveColor":{"r":0.7254901960784313,"g":0.9215686274509803,"b":0.9647058823529412,"a":1},"uIOR":1.6149999999999987,"uSpecularColor":{"r":1,"g":1,"b":1,"a":1},"uMetalness":0,"uRoughness":0.2,"uOpacity":0.8699999999999999,"uLightMapIntensity":0,"uRevealProgress":1,"uMouseRadius":0.007299999999999993,"uFresnelAmount":2.6899999999999973,"uFresnelOffset":0.016,"uFresnelFalloff":2.659999999999997},"material":{"depthWrite":true,"blending":"1","transparent":true,"wireframe":false},"transforms":{"rotation":{"z":0.54,"x":0.13999999999999968},"scale":{"x":2.4,"y":2.4,"z":2.4}}},"Background":{"color":{"r":0.8862745098039215,"g":0.9294117647058824,"b":0.9725490196078431,"a":1},"uniforms":{"uColor2":{"r":0.3254901960784314,"g":0.6784313725490196,"b":0.9333333333333333,"a":1},"uColor3":{"r":1,"g":1,"b":1,"a":1},"uColor1":{"r":0.4117647058823529,"g":0.21176470588235294,"b":0.8431372549019608,"a":1},"uColor3Brightness":1,"uGradientMidPoint":0.3900000000000002,"uColor2Brightness":1,"uColor1Brightness":1,"uUseTexture":false,"uTextureSize":{"x":4500,"y":3000},"uScale1":2.5700000000000025,"uOffset1":{"x":1.5899999999999987,"y":-1.8600000000000005},"uScale2":2.139999999999998,"uOffset2":{"x":0.5400000000000004,"y":0.25,"z":-0.02000000000000001}}},"Post FX":{"chromaticAberration":{"enabled":true,"maxDistort":1.7539999999999996},"bloom":{"enabled":true,"threshold":1.12,"radius":1.1,"strength":0.3500000000000001},"vignette":{"enabled":false},"bloomPassColor":{"threshold":1.4099999999999995,"radius":1,"enabled":false,"strength":0.3999999999999999},"directionalBloom":{"enabled":false},"noise":{"strength":0.2}},"Cameras / Settings":{"cameraPivotStrength":1,"cameraPivotOffset":14.820000000000007,"cameraPivotAngle":{"x":0.1,"y":0.1},"cameraPivotRollAmount":0.4,"cameraYTranslate":0,"cameraXTranslate":0,"pointerLerpSpeed1":0.02},"Computing Orb Extra Threads":{"uniforms":{"uColor":{"r":0.6745098039215687,"g":0.6705882352941176,"b":0.9686274509803922,"a":1},"uMatcapContrast":0.38,"uFillLength":1,"uFadeContrast":11.219999999999999,"uHighlightPower":71.49999999999991,"uHighlightColor":{"r":0.9607843137254902,"g":0.15294117647058825,"b":0.8784313725490196,"a":1},"uSpeed":0.10999999999999999,"uFillRepeat":5,"uStrandOffset":0.19000000000000006,"uBundleOffset":19.049999999999983,"uStartFadeLength":0.5670000000000004,"uEndFadeLength":0,"uEmissiveColor":{"r":0.9568627450980393,"g":0.5568627450980392,"b":0.9921568627450981,"a":1},"uSpecularColor":{"r":1,"g":1,"b":1,"a":1},"uLightMapIntensity":0},"transforms":{"rotation":{"x":0.13999999999999968,"z":0.54},"scale":{"x":2.4,"y":2.4,"z":2.4}}},"Computing Orb Test Mesh":{"uniforms":{"uProgress":0}}}},"sequence":{"subUnitsPerUnit":30,"length":5.66,"type":"PositionalSequence","tracksByObject":{"Computing Orb Bands":{"trackData":{"ZdQXNL5W9h":{"type":"BasicKeyframedTrack","__debugName":"Computing Orb Bands:[\\"uniforms\\",\\"uRevealProgress\\"]","keyframes":[{"id":"UtYyOZBhun","position":0.533,"connectedRight":true,"handles":[0.5,1,0.25,0.46],"type":"bezier","value":0},{"id":"tF_kmpbfN-","position":4.533,"connectedRight":true,"handles":[0.45,0.94,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uRevealProgress\\"]":"ZdQXNL5W9h"}},"Computing Orb Extra Threads":{"trackData":{"ujuAZthtkG":{"type":"BasicKeyframedTrack","__debugName":"Computing Orb Extra Threads:[\\"uniforms\\",\\"uRevealProgress\\"]","keyframes":[{"id":"yYCKDOSHMC","position":0.533,"connectedRight":true,"handles":[0.5,1,0.5,0],"type":"bezier","value":0},{"id":"QukKUscb4m","position":4,"connectedRight":true,"handles":[0.5,1,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uRevealProgress\\"]":"ujuAZthtkG"}}}}},"BiologyOrb":{"staticOverrides":{"byObject":{"Cameras / Camera 1":{"enableLookAt":false,"transforms":{"position":{"y":-0.41000000000000003,"z":9.179999999999955,"x":-0.5300000000000001}},"lookAtTarget":{"y":0}},"Cameras / Settings":{"cameraPivotStrength":1,"cameraPivotOffset":20,"cameraPivotAngle":{"x":0.15,"y":0.1},"cameraXTranslate":0,"cameraPivotRollAmount":0.3,"cameraYTranslate":0,"cameraZTranslate":0,"pointerLerpSpeed1":0.02},"Biology Orb / Iris":{"uniforms":{"uMatcapContrast":1.3099999999999992,"uRevealProgress":1,"uColor":{"r":1,"g":1,"b":1,"a":1},"uColor2":{"r":0.3803921568627451,"g":1,"b":0.7764705882352941,"a":1},"uColor3":{"r":0.7843137254901961,"g":0.8941176470588236,"b":0.9137254901960784,"a":1},"uColor1":{"r":0.40784313725490196,"g":0.29411764705882354,"b":0.7843137254901961,"a":1},"uColor3Brightness":1.2499999999999998,"uColor1Brightness":3.449999999999998,"uColor2Brightness":2.020000000000001,"uMetalness":0,"uFillLength":0.38800000000000007,"uEndFadeLength":0.9329999999999999,"uStartFadeLength":0.10400000000000006,"uSpeed":0.2},"material":{"depthWrite":true,"depthTest":true,"blending":"1","transparent":false,"side":"0"},"transforms":{"rotation":{"x":-0.1,"y":0.4,"z":0.5},"position":{"x":0,"y":0,"z":0}},"visible":true},"Post FX":{"bloom":{"enabled":true,"threshold":1.5599999999999996,"strength":0.27999999999999936,"radius":0.13999999999999843},"chromaticAberration":{"enabled":true,"maxDistort":1.0679999999999998,"bendAmount":-0.02590000000000002},"vignette":{"enabled":false},"noise":{"enabled":true,"strength":0.048000000000000015},"directionalBloom":{"enabled":false},"bloomPassColor":{"enabled":false,"threshold":1.8099999999999998,"strength":1.3999999999999995,"radius":1}},"Background":{"color":{"r":0.9333333333333333,"g":0.9098039215686274,"b":0.9725490196078431,"a":1},"uniforms":{"uColor1":{"r":0.07450980392156863,"g":0.6235294117647059,"b":0.6235294117647059,"a":1},"uColor2":{"r":0.7372549019607844,"g":0.25098039215686274,"b":1,"a":1},"uColor3":{"r":0.8784313725490196,"g":1,"b":0.9803921568627451,"a":1},"uOffset":{"x":16.409999999999936,"y":-1.3299999999999732},"uGradientMidPoint":0.7399999999999998,"uScale":0.42000000000007054,"uUseTexture":false,"uTextureSize":{"x":1920,"y":1207},"uOffset1":{"x":4.65,"y":3.41,"z":-0.019999999999999636},"uOffset2":{"x":4.15,"y":-1.6,"z":1.01},"uScale2":3.0499999999999825,"uScale1":3.24,"uScale3":3.49,"uOffset3":{"x":2.65,"y":-0.37},"uColor1Brightness":1.79,"uColor2Brightness":2.9},"material":{"depthWrite":true,"transparent":true,"depthTest":true}},"Biology Orb / Group":{"transforms":{"rotation":{"x":0.7800000000000005,"z":0.8100000000000005,"y":0.08000000000000196},"position":{"x":-1.3400000000000005,"y":0.7999999999999999,"z":0},"scale":{"x":1.8,"y":1.8,"z":1.8}}},"Biology Orb / Ball":{"visible":true,"material":{"blending":"1","transparent":false,"side":"0","depthWrite":true,"ior":1.15,"bumpScale":1,"thickness":0.23000000000000007,"dispersion":4.590000000000018,"sheenColor":{"r":0.25882352941176473,"g":1,"b":0.803921568627451,"a":0.69},"fresnelOffset":0,"roughness":1,"fresnelFalloff":1.4300000000000008,"fresnelAmount":3.320000000000001,"opacity":0.9900000000000004,"iridescence":1,"clearcoat":0.23000000000000034,"sheen":1,"sheenRoughness":0,"normalMap":{"type":"image"},"map":{"type":"image"},"normalScale":{"x":1,"y":1.47},"envMapRotation":{"x":-6.739999999999991,"y":-0.9499999999999997,"z":5.039999999999989},"attenuationDistance":200,"attenuationColor":{"r":0.8352941176470589,"g":0.5411764705882353,"b":0.9725490196078431,"a":1},"envMapIntensity":2.310000000000002,"iridescenceIOR":1.2800000000000145,"specularIntensity":0,"transmission":1,"envMap":{"type":"image"},"clearcoatRoughness":0,"depthTest":true,"color":{"r":1,"g":1,"b":1,"a":1},"normalMapRepeat":{"x":7.262999999999993,"y":4.299999999999992},"roughnessMapRepeat":{"x":4.463000000000009,"y":2.1899999999999977},"aoMapRepeat":{"x":7.262999999999993,"y":4.299999999999992},"wireframe":false,"colorWrite":true,"highlightColor":{"r":0.36470588235294116,"g":0.8235294117647058,"b":0.8392156862745098,"a":1}},"uniforms":{"uColor1":{"r":0.9686274509803922,"g":0.9254901960784314,"b":1,"a":1},"uFresnelAmount":1.5199999999999867,"uFresnelOffset":0,"uFresnelPower":2.5000000000000036,"uFresnelFalloff":1.4799999999999978,"uColor1Brightness":1.2000000000000002,"uLightPosition":{"x":-8,"y":6,"z":-5},"uShininess":35,"uAmbientColor":{"r":0.8745098039215686,"g":0.8235294117647058,"b":0.9607843137254902,"a":1},"uLightColor":{"r":0.8588235294117647,"g":0.5490196078431373,"b":1,"a":1},"uLightIntensity":1.1500000000000006,"uSpecularIntensity":0.469999999999999}},"Biology Orb / Iris Lines":{"transforms":{"rotation":{"x":-0.1,"y":0.4,"z":0.5},"position":{"x":0,"y":0,"z":0}},"material":{"depthWrite":false,"depthTest":true,"blending":"2","color":{"r":0.3764705882352941,"g":0.8862745098039215,"b":1,"a":1},"transparent":true,"side":"0"},"uniforms":{"diffuse":{"r":0.43137254901960786,"g":0.8274509803921568,"b":1,"a":1},"linewidth":1.342999999999996,"dashSize":1,"gapSize":1,"dashOffset":0,"dashScale":1,"opacity":0.9500000000000004,"uRevealProgress":1,"worldUnits":1},"visible":true},"Biology Orb / Iris Lines 2":{"material":{"blending":"2","transparent":true,"depthWrite":false},"visible":true,"uniforms":{"diffuse":{"r":0.5019607843137255,"g":0.40784313725490196,"b":0.9803921568627451,"a":1},"uRevealProgress":1,"opacity":1.5800000000000014,"uAmbientParticleProgress":0,"linewidth":1.1820000000000004}},"Biology Orb / Iris Lines Two":{"uniforms":{"diffuse":{"r":0.8784313725490196,"g":0.6274509803921569,"b":0.07058823529411765,"a":1}}},"Biology Orb / Iris Lines 3":{"visible":true,"material":{"blending":"2","depthWrite":false},"uniforms":{"uRevealProgress":1,"diffuse":{"r":0.28627450980392155,"g":1,"b":0.9803921568627451,"a":1}}}}},"sequence":{"subUnitsPerUnit":30,"length":17.4,"type":"PositionalSequence","tracksByObject":{"Biology Orb / Iris":{"trackData":{"Uask-PsNn8":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris:[\\"uniforms\\",\\"uRevealProgress\\"]","keyframes":[{"id":"3VzuavECI0","position":0,"connectedRight":true,"handles":[0.5,1,0.455,0.03],"type":"bezier","value":0},{"id":"yjZ6FKuig9","position":3.867,"connectedRight":true,"handles":[0.515,0.955,0.5,0],"type":"bezier","value":1}]},"8icKPq9vN0":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris:[\\"uniforms\\",\\"uContractionStrength\\"]","keyframes":[]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uRevealProgress\\"]":"Uask-PsNn8","[\\"uniforms\\",\\"uContractionStrength\\"]":"8icKPq9vN0"}},"Biology Orb / Group":{"trackData":{},"trackIdByPropPath":{}},"Biology Orb / Iris Lines":{"trackData":{"t-3yKNYN96":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris Lines:[\\"uniforms\\",\\"uRevealProgress\\"]","keyframes":[{"id":"nTLuecL09D","position":0,"connectedRight":true,"handles":[0.5,1,0.165,0.84],"type":"bezier","value":0},{"id":"PK5fbV6H2l","position":14.633,"connectedRight":true,"handles":[0.44,1,0.5,0],"type":"bezier","value":1}]},"RlHhLI_sty":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris Lines:[\\"uniforms\\",\\"uParticleProgress\\"]","keyframes":[{"id":"PAwYPVWuwG","position":0,"connectedRight":true,"handles":[0.5,1,0.165,0.84],"type":"bezier","value":-0.019000000000000003},{"id":"Ku5ixbZbbR","position":11.767,"connectedRight":true,"handles":[0.44,1,0.5,0],"type":"bezier","value":0.979}]},"NDOGho1G-K":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris Lines:[\\"uniforms\\",\\"uAmbientParticleProgress\\"]","keyframes":[{"id":"tUTRoFRn1o","position":0.633,"connectedRight":true,"handles":[0.5,1,0.165,0.84],"type":"bezier","value":0},{"id":"A4OXkTwXC4","position":16.9,"connectedRight":true,"handles":[0.44,1,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uRevealProgress\\"]":"t-3yKNYN96","[\\"uniforms\\",\\"uParticleProgress\\"]":"RlHhLI_sty","[\\"uniforms\\",\\"uAmbientParticleProgress\\"]":"NDOGho1G-K"}},"Biology Orb / Iris Lines 2":{"trackData":{"eVFr4ao0HY":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris Lines 2:[\\"uniforms\\",\\"uRevealProgress\\"]","keyframes":[{"id":"XIostsl1In","position":0,"connectedRight":true,"handles":[0.5,1,0.165,0.84],"type":"bezier","value":0},{"id":"l9VP5bewsm","position":17.1,"connectedRight":true,"handles":[0.44,1,0.5,0],"type":"bezier","value":1}]},"D0P_q0c6bN":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris Lines 2:[\\"uniforms\\",\\"uParticleProgress\\"]","keyframes":[{"id":"Pmrf_glBHZ","position":0,"connectedRight":true,"handles":[0.5,1,0.165,0.84],"type":"bezier","value":-0.01900000000000001},{"id":"sxpgVEukZE","position":12.233,"connectedRight":true,"handles":[0.44,1,0.5,0],"type":"bezier","value":0.974000000000002}]},"vrDyIRxdHz":{"type":"BasicKeyframedTrack","__debugName":"Biology Orb / Iris Lines 2:[\\"uniforms\\",\\"uAmbientParticleProgress\\"]","keyframes":[{"id":"kl0N8hRmou","position":0.633,"connectedRight":true,"handles":[0.5,1,0.165,0.84],"type":"bezier","value":0},{"id":"bcNN56qSfp","position":14.633,"connectedRight":true,"handles":[0.44,1,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uRevealProgress\\"]":"eVFr4ao0HY","[\\"uniforms\\",\\"uParticleProgress\\"]":"D0P_q0c6bN","[\\"uniforms\\",\\"uAmbientParticleProgress\\"]":"vrDyIRxdHz"}}}}},"EngineeringOrb":{"staticOverrides":{"byObject":{"Cameras / Camera 1":{"transforms":{"position":{"z":7.979999999999988,"x":0.8400000000000003}}},"Cameras / Settings":{"cameraPivotStrength":1,"cameraPivotOffset":20,"cameraPivotAngle":{"x":0.1,"y":0.1},"cameraPivotRollAmount":0.3,"pointerLerpSpeed1":0.02,"cameraZTranslate":0},"Engineering Orb":{"uniforms":{"uMatcapContrast":1.0199999999999996,"uSpeed":0.17999999999999988,"uRevealProgress":0,"uColor":{"r":0.8509803921568627,"g":0.9058823529411765,"b":1,"a":1},"uFillRepeat":1,"uFillLength":1,"uStartFadeLength":0.5,"uEndFadeLength":0.03599999999999959,"uHighlightStrength":70.40000000000013,"uRoughness":0.16100000000000003,"uMetalness":0.5219999999999996,"uMatcapBlendMode":3,"uEnvMapStrength":1.032000000000041,"tNormal":{"type":"image"},"uNormalStrength":0,"uDiffuseMatcapBlend":1,"uMouseRadius":6.099999999999958,"uMouseFalloff":0.22000000000000014},"material":{"side":"0","blending":"1","depthWrite":true,"depthTest":true,"transparent":false,"roughness":0.21999999999999983,"metalness":1,"envMapRotation":{"y":0},"color":{"r":1,"g":1,"b":1,"a":1},"envMapIntensity":1,"transmission":0,"opacity":1,"thickness":0.8400000000000003,"iridescence":0,"iridescenceIOR":1.5399999999999956,"ior":3.619999999999999,"wireframe":false},"transforms":{"scale":{"x":1,"y":1,"z":1},"rotation":{"x":0,"z":0,"y":0}},"visible":true},"Post FX":{"bloom":{"enabled":true,"threshold":1.3799999999999994,"strength":0.6299999999999988,"radius":1},"vignette":{"enabled":true},"bloomPassColor":{"strength":0.27,"threshold":1.4300000000000006,"radius":0.879999999999999,"enabled":false},"directionalBloom":{"enabled":false}},"Background":{"color":{"r":0.9647058823529412,"g":0.9686274509803922,"b":0.9490196078431372,"a":1},"color2":{"r":1,"g":0.7647058823529411,"b":0.5019607843137255,"a":1},"color1":{"r":1,"g":1,"b":1,"a":1},"uniforms":{"uColor2":{"r":0,"g":0.4588235294117647,"b":1,"a":1},"uColor3":{"r":0.15294117647058825,"g":0.2549019607843137,"b":0.9490196078431372,"a":1},"uGradientMidPoint":0.3900000000000001,"uColor1":{"r":0.9490196078431372,"g":1,"b":1,"a":1},"uColor2Brightness":1,"uOffset":{"x":0},"uColor3Brightness":1,"uColor1Brightness":1,"uScale2":4.67,"uScale1":1.78,"uOffset2":{"y":3.6,"z":1.37,"x":-5.94},"uOffset1":{"x":-2.82,"y":1.22},"uColor4":{"r":0.10588235294117647,"g":0.5450980392156862,"b":1,"a":1},"uColor4BlendStart":0.31,"uColor4BlendEnd":1.44}},"Engineering Orb Gaps":{"material":{"blending":"1","transparent":true,"depthWrite":false,"side":"0","depthTest":true},"uniforms":{"uMatcapContrast":0.9100000000000001,"uMatcapBlendMode":2,"uHighlightStrength":6.4999999999999964,"uSpeed":0.2,"uFillRepeat":1,"uColor":{"r":0.9803921568627451,"g":1,"b":0.8156862745098039,"a":1},"uStartFadeLength":0.049000000000000016,"uEndFadeLength":0.049000000000000016,"uFillLength":1,"uHighlightColor":{"r":0.788235294117647,"g":1,"b":0.7686274509803922,"a":1},"uMouseRadius":4.400000000000005,"uEnvMapStrength":1.6,"uMouseFalloff":0.5,"uRevealProgress":1},"visible":true,"transforms":{"rotation":{"x":0,"z":0,"y":0},"scale":{"x":1,"y":1,"z":1}}},"Engineering Orb Group":{"transforms":{"rotation":{"x":0.850000000000001,"z":0.26000000000000056},"scale":{"x":2.2,"y":2.2,"z":2.2}}},"Engineering Orb Inner":{"material":{"opacity":1,"transparent":true,"blending":"1","color":{"r":1,"g":1,"b":1,"a":1}},"uniforms":{"uMatcapBlendMode":4,"uEnvMapStrength":0.40099999999999947,"uMetalness":1,"uRoughness":0,"uOpacity":0.42000000000000026,"uMetalnessScale":1},"visible":false},"Mouse Settings":{"mouseLerpSpeed":0.03200000000000002}}},"sequence":{"subUnitsPerUnit":30,"length":9.98,"type":"PositionalSequence","tracksByObject":{"Engineering Orb":{"trackData":{"NJ3rkj-m_i":{"type":"BasicKeyframedTrack","__debugName":"Engineering Orb:[\\"uniforms\\",\\"uRevealProgress\\"]","keyframes":[{"id":"EXCAphVjOd","position":0,"connectedRight":true,"handles":[0.5,1,0.25,0.46],"type":"bezier","value":0},{"id":"hjS5aORSCq","position":3.667,"connectedRight":true,"handles":[0.45,0.94,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uRevealProgress\\"]":"NJ3rkj-m_i"}},"Engineering Orb Gaps":{"trackData":{"8doOcC1izE":{"type":"BasicKeyframedTrack","__debugName":"Engineering Orb Gaps:[\\"uniforms\\",\\"uRevealProgress\\"]","keyframes":[{"id":"1SwcxsvDIL","position":1.567,"connectedRight":true,"handles":[0.5,1,0.215,0.61],"type":"bezier","value":0},{"id":"CTGH8Wsey2","position":3.833,"connectedRight":true,"handles":[0.355,1,0.5,0],"type":"bezier","value":1}]},"SnUOv9ImWz":{"type":"BasicKeyframedTrack","__debugName":"Engineering Orb Gaps:[\\"uniforms\\",\\"uHighlightRevealProgress\\"]","keyframes":[{"id":"CoMkS12sw8","position":1.833,"connectedRight":true,"handles":[0.5,1,0.5,0],"type":"bezier","value":0},{"id":"cGpVWxQsGn","position":2.433,"connectedRight":true,"handles":[0.5,1,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uRevealProgress\\"]":"8doOcC1izE","[\\"uniforms\\",\\"uHighlightRevealProgress\\"]":"SnUOv9ImWz"}}}}},"TeamOrb":{"staticOverrides":{"byObject":{"Background":{"uniforms":{"uColor2":{"r":1,"g":0.12549019607843137,"b":0.6509803921568628,"a":1},"uColor3":{"r":0.7176470588235294,"g":0.3607843137254902,"b":0.9921568627450981,"a":1},"uColor1":{"r":0.9137254901960784,"g":0.803921568627451,"b":1,"a":1},"uGradientMidPoint":0.5,"uOffset":{"x":-0.5900000000000001,"y":-0.12999999999999987},"uUseTexture":false,"uScale1":2.919999999999981,"uOffset1":{"x":4.059999999999991,"y":3.240000000000002,"z":0.4500000000000002},"uScale2":3.8699999999999926,"uOffset2":{"x":-1.3700000000000008,"y":-10.280000000000038,"z":0.020000000000000025},"uColor1Brightness":1.09,"uColor2Brightness":1.7500000000000009,"uColor3Brightness":0.9300000000000003,"uColor4BlendStart":0,"uColor4":{"r":0.7568627450980392,"g":0.7607843137254902,"b":1,"a":1},"uColor4BlendEnd":0.15999999999999986},"visible":true,"material":{"blending":"1","transparent":true,"depthTest":true,"depthWrite":true}},"Cameras / Settings":{"cameraPivotStrength":0,"cameraPivotAngle":{"x":0.2,"y":0.2},"cameraPivotOffset":10.779999999999994},"Team Orb":{"uniforms":{"uRoughness":0,"uMetalness":1,"uScale":{"x":0.4499999999999995,"y":0.8499999999999999},"uMatcapBlendMode":4,"uDiffuseMatcapBlend":1,"uInsideGlowColor":{"r":1,"g":0.8901960784313725,"b":0.8901960784313725,"a":1},"uInsideGlowStrength":0.8,"uColor":{"r":1,"g":1,"b":1,"a":1},"uEnvMapStrength":1.5,"tMatcap":{"type":"image"},"uDisplacementColor":{"r":1,"g":0.8745098039215686,"b":0.9882352941176471,"a":1},"tEmissiveMap":{"type":"image"},"uEnterBlockScale":0},"transforms":{"position":{"x":0,"y":0,"z":2.0000000000000004},"rotation":{"x":-0.050000000000000204}},"simulation":{"uniforms":{"uAmbientDisplacementScale":0.1,"uAmbientDisplacementStrength":0.05,"uAmbientDisplacementSpeed":0,"uRotationSpeedY":0.04,"uBeatOscillationSpeed":5,"uBeatSpeed":0.9,"uLerpSpeed":1}},"material":{"transparent":true,"blending":"1","side":"0","depthTest":true,"depthWrite":true}},"Cameras / Camera 1":{"transforms":{"position":{"z":7.9000000000000075,"x":1.4}},"near":1,"far":50,"focalLength":50},"Post FX":{"bloom":{"enabled":true,"strength":0.5999999999999988,"radius":1,"threshold":1.1799999999999993},"directionalBloom":{"enabled":false,"threshold":1.2300000000000002,"strength":0.5900000000000001,"radius":0.5300000000000002},"bloomPassColor":{"enabled":false},"vignette":{"enabled":false},"noise":{"strength":0.2}},"Godrays":{"intensity":10,"debug":false,"exponent":4.680000000000002,"maxLimit":1,"colourSpeed":1.7899999999999996,"enabled":true,"sunPosition":{"z":-891.2899999999988,"x":-206.76999999999944}}}},"sequence":{"subUnitsPerUnit":30,"length":10,"type":"PositionalSequence","tracksByObject":{"Team Orb":{"trackData":{"18NznjLGkA":{"type":"BasicKeyframedTrack","__debugName":"Team Orb:[\\"uniforms\\",\\"uEnterBlockScale\\"]","keyframes":[{"id":"2hYIDTbVso","position":0.6,"connectedRight":true,"handles":[0.5,1,0.467,0.705],"type":"bezier","value":0},{"id":"HXfsXOZgAN","position":2.9,"connectedRight":true,"handles":[0.555,0.54,0.5,0],"type":"bezier","value":1}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uEnterBlockScale\\"]":"18NznjLGkA"}}}}},"Global WebGL":{"staticOverrides":{"byObject":{"Fluid Sim":{"simulation":{"mouseRadius":0.11999999999999998,"curlStrength":0.3684000000000013,"dissipation":0.05340000000000012,"clearValue":0,"viscosity":0.47619047619047594,"pressure":0.999},"fluid":{"force":30,"forceClamp":695.2,"iterations":2}},"Post FX":{"noise":{"strength":0.14539999999999867}},"Transition":{"uniforms":{"uNoise1Offset":{"x":0.026000000000000016,"y":0.0008000000000000073},"uNoise1Scale":{"x":0.016700000000000017,"y":0.030600000000000082},"uNoise2Scale":{"x":0.1691000000000003,"y":0.10059999999999993},"uCrossfadeSize":0.4075000000000002,"uUvDistortion":0.041500000000000044}}}}},"Article":{"staticOverrides":{"byObject":{"Background":{"uniforms":{"uScale1":2.1399999999999983,"uScale2":1.6600000000000006,"uOffset1":{"x":-3.66000000000001,"y":-0.3999999999999997},"uOffset2":{"x":-0.5100000000000005,"y":-0.27000000000000035},"uSpeed":0.24,"uScale3":1.5600000000000032}}}},"sequence":{"subUnitsPerUnit":30,"length":10,"type":"PositionalSequence","tracksByObject":{"Background":{"trackData":{"jn_9Y5fBac":{"type":"BasicKeyframedTrack","__debugName":"Background:[\\"uniforms\\",\\"uColor1\\"]","keyframes":[{"id":"3C6eDWN2fK","position":0,"connectedRight":true,"handles":[0.5,1,0.5,0.5],"type":"bezier","value":{"r":0.9960784940007982,"g":0.9960784940007982,"b":0.9960784940007982,"a":1}},{"id":"k43UvuAJa3","position":1,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":1,"g":0.3137254901960784,"b":0.3137254901960784,"a":1}},{"id":"Wj9j2eUNct","position":2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.9490196078431372,"g":1,"b":1,"a":1}},{"id":"CaCXMGNG3f","position":3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.4117647058823529,"g":0.21176470588235294,"b":0.8431372549019608,"a":1}},{"id":"wNp3f0WoqO","position":4,"connectedRight":true,"handles":[0.5,0.5,0.5,0],"type":"bezier","value":{"r":0.9137254901960784,"g":0.803921568627451,"b":1,"a":1}}]},"tAkMB6eFQQ":{"type":"BasicKeyframedTrack","__debugName":"Background:[\\"uniforms\\",\\"uColor2\\"]","keyframes":[{"id":"CyBxYtHUVZ","position":0,"connectedRight":true,"handles":[0.5,1,0.5,0.5],"type":"bezier","value":{"r":0.9999999999999999,"g":0.9843139745950885,"b":0.7764737558081337,"a":1}},{"id":"9r5mXQOX67","position":1,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.8235294117647058,"g":0.6823529411764706,"b":0.2549019607843137,"a":1}},{"id":"Gw1-zBVgqc","position":2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0,"g":0.4588235294117647,"b":1,"a":1}},{"id":"38TmgwSG3F","position":3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.3254901960784314,"g":0.6784313725490196,"b":0.9333333333333333,"a":1}},{"id":"LOGk5AVxHF","position":4,"connectedRight":true,"handles":[0.5,0.5,0.5,0],"type":"bezier","value":{"r":1,"g":0.12549019607843137,"b":0.6509803921568628,"a":1}}]},"TVNNnXaW8O":{"type":"BasicKeyframedTrack","__debugName":"Background:[\\"uniforms\\",\\"uColor3\\"]","keyframes":[{"id":"Qsek8ajbJT","position":0,"connectedRight":true,"handles":[0.5,1,0.5,0.5],"type":"bezier","value":{"r":0.9999999999999999,"g":0.9803924676542063,"b":0.9098053011777971,"a":1}},{"id":"SYm4ohA-7c","position":1,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.9803921568627451,"g":0.9568627450980393,"b":0.788235294117647,"a":1}},{"id":"bT0Hz_JUrW","position":2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.15294117647058825,"g":0.2549019607843137,"b":0.9490196078431372,"a":1}},{"id":"IehwRuenvD","position":3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":1,"g":1,"b":1,"a":1}},{"id":"fSpFsArmsE","position":4,"connectedRight":true,"handles":[0.5,0.5,0.5,0],"type":"bezier","value":{"r":0.7176470588235294,"g":0.3607843137254902,"b":0.9921568627450981,"a":1}}]},"tgCnkpoF4h":{"type":"BasicKeyframedTrack","__debugName":"Background:[\\"uniforms\\",\\"uColor4\\"]","keyframes":[{"id":"ad5fTZMJgs","position":0,"connectedRight":true,"handles":[0.5,1,0.5,0.5],"type":"bezier","value":{"r":0.9999999999999999,"g":0.9803924676542063,"b":0.9098053011777971,"a":1}},{"id":"q3qWVFO1gr","position":1,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.9999999999999999,"g":0.9803924676542063,"b":0.9098053011777971,"a":1}},{"id":"xusShI4X94","position":2,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.10588235294117647,"g":0.5450980392156862,"b":1,"a":1}},{"id":"UZ-THAZcaq","position":3,"connectedRight":true,"handles":[0.5,0.5,0.5,0.5],"type":"bezier","value":{"r":0.996078431372549,"g":0.9803921568627451,"b":0.9098039215686274,"a":1}},{"id":"3hHkv19TP4","position":4,"connectedRight":true,"handles":[0.5,0.5,0.5,0],"type":"bezier","value":{"r":0.7568627450980392,"g":0.7607843137254902,"b":1,"a":1}}]}},"trackIdByPropPath":{"[\\"uniforms\\",\\"uColor1\\"]":"jn_9Y5fBac","[\\"uniforms\\",\\"uColor2\\"]":"tAkMB6eFQQ","[\\"uniforms\\",\\"uColor3\\"]":"TVNNnXaW8O","[\\"uniforms\\",\\"uColor4\\"]":"tgCnkpoF4h"}}}}}}'),jue="0.4.0",Wue=["HnbPs2zrqOJveuKQ","gtQMaFq2KZLufip_","U9NMXQfyNPYLfiyO","0617rMb9SBFnBjKo","bgiviuckCP5h_B-g","AFW3_VIpwlBBPq43","vjHguKDKJaJzX6w0","2Yy_BurE8r3U9WfU","accyVzyxBjXCFiP8","KBohPS7vXPJpZPOU","WxzNKZhQNUEMiDs_","4IIOllKPW06ih64O","Fj6lIWLopyOyJIRJ","aQ5JzkMs39Rw7AWf","gvDtKFPV_tBTSLwF","Gw8tST0OTruMoy79","cIBMKsGmtZXSQPfn","LnrsK1DgKUvfkTfh","6cNq35wv20Tmzg1j","Gp5sraTqL3oLqH4P","DF6IdcZb6EebGoSK","iikxvToIotVelC_T","lq1Ajq3-PylHDZ4M","YtiXHWZIKnC82Cee","jPD-a4u1fLYrQoGR","LY_Pq-JMI9-TSS9a","OLVkdrIFoxsQQj3d","nt45wuBkzYzrM6DM","T6AapVF2K9s7pvFA","JFTyNTfULR9RFeTJ","UfJLfXWQB0Bic7bG","_9-NubWl8jV9KT4l","V4o7qXTHatm2wRuE","f6t3cc_C7ECMON4Z","BO4DWXGlxZfWF1ZZ","VDdBDi67_AEhqbF-","N-rv8sxvI2BeZSRJ","kg2xkgZXTi6oxl20","rBICj3NTaB7NXCQu","9i8nMiLP-YfkVKvc","wsQbE1_QdE7uqNgh","imj4kam45X1PwAbe","2RFtRzYJW48Oekv8","5j31bE9brgsUdkze","P_Scd77GAfHEhumO","8j6n1_o7Xb9obF4u","kmzegN6SoCRXmF5d","5GSZnBa4ot-V_VF6","wdXhqE3he8XJPs5Z","9Ri-b3rX-eTmFm0H"],que={sheetsById:Que,definitionVersion:jue,revisionHistory:Wue};class Xue{addSheetObject(e,t,i,r,s=!1){S.theatre.objects[e]||(S.theatre.objects[e]={});const o={...i},a=ri(S.theatre.sheets[e].object(t,i,{reconfigure:s}));a._originalConfig=o,a._onValuesChangeCallbacks=[];const l=(u,f=S.theatre.rafDriver)=>{const h=a.onValuesChange(u,f);return a._onValuesChangeCallbacks.push(h),h};S.theatre.objects[e][t]=a;const c={onValuesChange:l,_originalConfig:o};return r&&(a._webglObject=r,r._theatreObject=a,c._webglObject=r),ri(c)}addStudioSheetObject(e,t,i){if(S.theatre.studio){S.theatre.studioObjects[e]||(S.theatre.studioObjects[e]=ri({}));const r=ri(S.theatre.studioSheets[e]).object(t,i);return S.theatre.studioObjects[e][t]=ri(r),r}else return{onValuesChange:()=>{}}}unsubscribeFromAllSheetObjectCallbacks(e){if(e._onValuesChangeCallbacks)for(let t=0;t<e._onValuesChangeCallbacks.length;t++)e._onValuesChangeCallbacks[t]()}detachAllSheetObjects(e){if(S.theatre.objects[e]){for(const t in S.theatre.objects[e]){const i=ri(S.theatre.objects[e][t]);this.unsubscribeFromAllSheetObjectCallbacks(i),i._webglObject&&(i._webglObject._theatreObject=null,i._webglObject=null),S.theatre.sheets[e].detachObject(t),delete S.theatre.objects[e][t]}delete S.theatre.objects[e]}}detachAllStudioSheetObjects(e){if(S.theatre.studioObjects[e])for(const t in S.theatre.studioObjects[e])S.theatre.studioSheets[e].detachObject(t),delete S.theatre.studioObjects[e][t]}deleteSheet(e){S.theatre.sheets[e]&&(this.detachAllSheetObjects(e),S.theatre.sheets[e]._webglScene=null,delete S.theatre.sheets[e])}updateSheetObject(e,t){if(!(e!=null&&e._originalConfig))throw new Error("Sheet Object is missing the _originalConfig property. It likely wasn't created with TheatreHelper.addSheetObject().");const i={...e._originalConfig,...t};return this.addSheetObject(e.address.sheetId,e.address.objectKey,i,null,!0)}autoAddObject(e,t,{exclude:i=[],include:r=[],addDefines:s=!0,additionalConfig:o={}}={}){if(e===void 0||t===void 0)throw new Error("Object and Theatre Sheet are required.");const a={visible:Te.types.boolean(e.visible),transforms:{},...o},l=!i.includes("position"),c=!i.includes("rotation"),u=!i.includes("scale");l&&(a.transforms.position=Te.types.compound({x:Te.types.number(e.position.x,{nudgeMultiplier:.1}),y:Te.types.number(e.position.y,{nudgeMultiplier:.1}),z:Te.types.number(e.position.z,{nudgeMultiplier:.1})})),c&&(a.transforms.rotation=Te.types.compound({x:Te.types.number(e.rotation.x,{nudgeMultiplier:.1}),y:Te.types.number(e.rotation.y,{nudgeMultiplier:.1}),z:Te.types.number(e.rotation.z,{nudgeMultiplier:.1})})),u&&(a.transforms.scale=Te.types.compound({x:Te.types.number(e.scale.x,{nudgeMultiplier:.1}),y:Te.types.number(e.scale.y,{nudgeMultiplier:.1}),z:Te.types.number(e.scale.z,{nudgeMultiplier:.1})}));const f=this.autoAddMaterial(a,{material:e.material,exclude:i,include:r,addDefines:s}),h=this.addSheetObject(t,e.name,a,e);return h.onValuesChange(p=>{e.visible=p.visible,l&&e.position.copy(p.transforms.position),c&&e.rotation.set(p.transforms.rotation.x,p.transforms.rotation.y,p.transforms.rotation.z),u&&e.scale.copy(p.transforms.scale),f(e,p)},S.theatre.rafDriver),h}autoAddMaterial(e,{material:t,options:i=!0,exclude:r,include:s,addDefines:o=!0}){if(!t)return()=>{};e.material||(e.material={}),i&&Object.assign(e.material,{wireframe:Te.types.boolean(t.wireframe),side:Te.types.stringLiteral(t.side,{[Mo]:"front",[Pr]:"back",[Ks]:"double"},{as:"menu"}),blending:Te.types.stringLiteral(t.blending,{[Co]:"NoBlending",[bu]:"NormalBlending",[q0]:"AdditiveBlending",[X_]:"SubtractiveBlending",[Y_]:"MultiplyBlending",[bI]:"CustomBlending"},{as:"menu"}),transparent:Te.types.boolean(t.transparent),depthTest:Te.types.boolean(t.depthTest),depthWrite:Te.types.boolean(t.depthWrite),colorWrite:Te.types.boolean(t.colorWrite)});const a=this.autoAddUniforms(e,t.uniforms,r,s),l=this.autoAddThreeMaterial(e,t,r,s);return(c,u)=>{c.material.wireframe=u.material.wireframe,c.material.side=Number.parseInt(u.material.side),c.material.blending=Number.parseInt(u.material.blending),c.material.transparent=u.material.transparent,c.material.depthTest=u.material.depthTest,c.material.depthWrite=u.material.depthWrite,c.material.colorWrite=u.material.colorWrite;for(let f=0;f<a.length;f++)a[f](c,u);for(let f=0;f<l.length;f++)l[f](c,u)}}autoAddThreeMaterial(e,t,i=[],r=[]){var a;e.material||(e.material={});const s=[],o=["aoMap","aoMapIntensity","attenuationColor","attenuationDistance","color","bumpMap","bumpScale","displacementBias","displacementMap","displacementScale","emissive","emissiveIntensity","emissiveMap","_dispersion","_anisotropy","_clearcoat","_iridescence","_sheen","iridescenceIOR","clearcoatRoughness","envMap","envMapIntensity","envMapRotation","ior","map","matcap","metalness","metalnessMap","normalMap","normalScale","opacity","roughness","roughnessMap","specular","specularColor","specularMap","specularIntensity","specularColorMap","specularIntensityMap","sheenColor","sheenRoughness","thickness","_transmission"];if(t.type!=="ShaderMaterial"&&t.type!=="RawShaderMaterial"){for(const l in t)if(o.includes(l))if(t[l]===null||(a=t[l])!=null&&a.isTexture){e.material[l]=Te.types.image("",{label:l});let c=!0;s.push((u,f)=>{var m,g,A,y;const h=S.theatre.project.getAssetUrl(f.material[l]),p={wrapping:ts};if((m=t[l])!=null&&m.isTexture&&Object.assign(p,{minFilter:t[l].minFilter,magFilter:t[l].magFilter,flipY:t[l].flipY,colorSpace:t[l].colorSpace,mapping:t[l].mapping}),h&&((g=t[l])==null?void 0:g.source.data.src)!==h){const x=new Image;x.addEventListener("load",()=>{t[l]=S.WebGL.generateTexture(x,p),t[l].needsUpdate=!0,t.needsUpdate=!0,c=!1},{once:!0}),x.src=h}else!h&&((A=t[l])==null?void 0:A.source.data.src)!==h&&!c&&((y=t[l])!=null&&y.isTexture)&&(t[l]=null,t.needsUpdate=!0,c=!1)}),e.material[l+"Repeat"]=Te.types.compound({x:Te.types.number(1,{nudgeMultiplier:.01}),y:Te.types.number(1,{nudgeMultiplier:.01})}),s.push((u,f)=>{var h;(h=t[l])!=null&&h.isTexture&&(t[l].repeat.set(f.material[l+"Repeat"].x,f.material[l+"Repeat"].y),t[l].needsUpdate=!0)})}else if(t[l].isColor)e.material[l]=this.parseColor(t[l],l),s.push((c,u)=>{t[l].copySRGBToLinear(u.material[l])});else if(l.includes("_")){const c=l.replace("_","");e.material[c]=Te.types.number(t[c],{label:c,nudgeMultiplier:.01}),s.push((u,f)=>{t[c]!==f.material[c]&&(t[c]=f.material[c],t.needsUpdate=!0)})}else if(typeof t[l]=="object"){const c={};for(const u in t[l])if(Object.hasOwnProperty.call(t[l],u)&&typeof t[l][u]=="number"){const f=u.replace("_","");c[f]=Te.types.number(t[l][f],{nudgeMultiplier:.01})}e.material[l]=Te.types.compound(c,{label:l}),s.push((u,f)=>{t[l].isEuler?t[l].set(f.material[l].x,f.material[l].y,f.material[l].z):t[l].copy(f.material[l])})}else if(typeof t[l]=="number"){const c=t[l]===1/0?1e3:t[l];e.material[l]=Te.types.number(c,{label:l,range:[0,1/0],nudgeMultiplier:.01}),s.push((u,f)=>{t[l]=f.material[l]})}else typeof t[l]=="boolean"&&(e.material[l]=Te.types.boolean(t[l],{label:l}),s.push((c,u)=>{t[l]=u.material[l]}))}return s}autoAddThreeMaterialImages(e,t,i=[],r=[]){const s=[];for(const o in t){if(i.includes(o)||r.length&&!r.includes(o)||o.toLowerCase().slice(-3)!=="map"||!t[o])continue;const a=t[o];t[o].isTexture&&(e[o]=Te.types.image("",{label:o}),s.push((l,c)=>{const u=S.theatre.project.getAssetUrl(c[o]),f={minFilter:a.minFilter,magFilter:a.magFilter,wrapping:a.wrapS,flipY:a.flipY,colorSpace:a.colorSpace,mapping:a.mapping};if(u){const h=new Image;h.addEventListener("load",()=>{if(o==="envMap"){const p=S.WebGL.generateTexture(h,f);p.mapping!==$a&&(p.mapping=$a,p.needsUpdate=!0);const m=S.WebGL.pmremHandler.fromEquirectangular(p);t[o]=m}else t[o]=S.WebGL.generateTexture(h,f);t[o].needsUpdate=!0},{once:!0}),h.src=u}}))}return s}autoAddUniforms(e,t,i=[],r=[],s="FOG"){e.uniforms||(e.uniforms={});const o=[];for(const a in t){if(a==="uTime"||a==="uResolution"||a==="uTexelSize"||a==="uDevCameraActive"||a.toLowerCase().includes("delta")||i.includes(a)||r.length&&!r.includes(a)||a.toLowerCase().includes("tonemap")||s&&a.toUpperCase().includes(s))continue;const l=t[a];if(!(l.value===null||l.value===void 0)&&!(l.value.isMatrix4||l.value.isMatrix3||l.value.isRenderTargetTexture||l.value.isDepthTexture||l.value instanceof Hd||Array.isArray(l.value)))if(l.value.isColor)e.uniforms[a]=this.parseColor(l.value,a),o.push((c,u)=>{l.value.copySRGBToLinear(u.uniforms[a])});else if(l.value.isTexture)e.uniforms[a]=Te.types.image("",{label:a}),o.push((c,u)=>{const f=S.theatre.project.getAssetUrl(u.uniforms[a]),h={minFilter:l.value.minFilter,magFilter:l.value.magFilter,wrapping:ts,flipY:l.value.flipY,colorSpace:l.value.colorSpace};if(f){const p=new Image;p.addEventListener("load",()=>{l.value=S.WebGL.generateTexture(p,h),l.value.needsUpdate=!0},{once:!0}),p.src=f}});else if(typeof l.value=="object"){const c={};for(const u in l.value)if(Object.hasOwnProperty.call(l.value,u)){const f=this.parseUniformGui(l,u);c[u]=Te.types.number(l.value[u],f)}e.uniforms[a]=Te.types.compound(c,{label:a}),o.push((u,f)=>{l.value.copy(f.uniforms[a])})}else if(typeof l.value=="number"){const c=this.parseUniformGui(l);e.uniforms[a]=Te.types.number(l.value,{label:a,...c}),o.push((u,f)=>{l.value=f.uniforms[a]})}else typeof l.value=="boolean"&&(e.uniforms[a]=Te.types.boolean(l.value,{label:a}),o.push((c,u)=>{l.value=u.uniforms[a]}))}return o}parseUniformGui(e,t=!1){const i={};return e.gui&&((e.gui.min!==void 0||e.gui.max!==void 0)&&(i.range=[-1/0,1/0],e.gui.min!==void 0&&(i.range[0]=e.gui.min),e.gui.max!==void 0&&(i.range[1]=e.gui.max)),e.gui.step&&(i.nudgeMultiplier=e.gui.step),t&&e.gui[t]&&(i.range=i.range||[-1/0,1/0],e.gui[t].min!==void 0&&(i.range[0]=e.gui[t].min),e.gui[t].max!==void 0&&(i.range[1]=e.gui[t].max))),i}parseColor(e,t=!1){const i={};return t&&(i.label=t),e.isSRGB||(e.convertLinearToSRGB(),e.isSRGB=!0),Te.types.rgba({r:e.r,g:e.g,b:e.b,a:1},i)}}const Yue=Object.assign({"/public/webgl/theatre/blueyard/state.json":que});class s6{initStudio(e){S.theatre.studio=ri(e),S.theatre.studioProject=ri(S.theatre.studio.getStudioProject()),S.theatre.persistenceKey=ri("BlueYard-theatre"),S.theatre.studio.initialize({persistenceKey:S.theatre.persistenceKey,__experimental_rafDriver:S.theatre.rafDriver}),S.urlParams.has("gui")||S.theatre.studio.ui.hide(),S.urlParams.has("gui")&&S.theatre.studio.onSelectionChange(i=>{var r,s,o,a;(r=S.WebGL)!=null&&r.isBuilt&&i.length&&(i[0]._webglScene&&((s=S.WebGL)==null?void 0:s.activeScene)!==i[0]._webglScene||i[0].sheet&&i[0].sheet._webglScene&&((o=S.WebGL)==null?void 0:o.activeScene)!==i[0].sheet._webglScene)&&(S.WebGL.activeScene.theatreIsPlaying&&(S.WebGL.activeScene.runNextTheatreSequence=!1,S.WebGL.activeScene.pauseTheatreSequence()),S.WebGL.activeScene.stop(),(a=i[0].sheet)!=null&&a._webglScene?i[0].sheet._webglScene.start():i[0]._webglScene.start())}),S.urlParams.has("gui")&&S.urlParams.has("autoplay")&&(S.theatre.studio.__experimental.__experimental_disblePlayPauseKeyboardShortcut(),window.addEventListener("keydown",i=>{i.code==="Space"&&(S.WebGL.activeScene.theatreIsPlaying?(S.WebGL.activeScene.runNextTheatreSequence=!1,S.WebGL.activeScene.pauseTheatreSequence()):S.WebGL.activeScene.playTheatreSequence())}));const t=document.createElement("style");t.innerHTML=`
			[data-testid="DetailPanel-Object"] {
				width: 340px;
			}

			.kXqnKI {
				--step: 13px;
				--left-pad: 5px;
				--right-width: 40%;
			}

			.brRnNE {
				--right-width: 40%;
			}
		`,setTimeout(()=>{document.querySelector("#theatrejs-studio-root").shadowRoot.appendChild(t)},500)}async loadProjectState(e,t){S.theatre.helper=ri(new Xue),S.theatre.rafDriver=ri(Te.createRafDriver());let i;if(S.urlParams.has("version")){const r=S.urlParams.get("version"),s=(S.env==="development","//undefinedundefined");i=await(await fetch(s+"?download",{method:"POST",body:JSON.stringify({filename:r,projectId:t})})).json(),i=JSON.parse(i)}else i=Yue[`/public/webgl/theatre/${t}/state.json`];return S.theatre.project=ri(Te.getProject(e,{state:i,assets:{baseUrl:"/"}})),S.env!=="production"&&S.theatre.project.ready.then(()=>{!S.urlParams.has("gui")&&window.__TheatreJS_StudioBundle._studio._store._atom._currentState.ephemeral.coreByProject[e].loadingState.type==="browserStateIsNotBasedOnDiskState"&&(S.theatre.studio.__experimental.__experimental_clearPersistentStorage(S.theatre.persistenceKey),localStorage.removeItem(S.theatre.persistenceKey+".persistent"),window.location.reload())}),S.theatre.project.ready}enableRAF(){S.RAFCollection.add(S.theatre.rafDriver.tick,-1)}disableRAF(){S.RAFCollection.remove(S.theatre.rafDriver.tick)}}function $ue(){var o;const e=(o=OA(UA).theme)==null?void 0:o.screens,t={},i={};Object.entries(e).forEach(([a])=>{t[a]=gt(!1)}),t.touch=gt(!1),t.ipadpro=gt(!1);const r=()=>{Object.entries(e).forEach(([a])=>{i[a]&&(t[a].value=i[a].matches)}),t.touch.value=i.touch.matches,t.ipadpro.value=i.ipadpro.matches};return _A(()=>{Object.entries(e).forEach(([a,l])=>{i[a]=window.matchMedia(`(min-width: ${l})`),t[a].value=i[a].matches,i[a].addEventListener("change",r)}),i.touch=window.matchMedia("(pointer: coarse)"),t.touch.value=i.touch.matches,i.touch.addEventListener("change",r),i.ipadpro=window.matchMedia("(hover: none) and (pointer: coarse) and (min-width: 1024px)"),t.ipadpro.value=i.ipadpro.matches,i.ipadpro.addEventListener("change",r)}),nl(()=>{Object.entries(i).forEach(([a,l])=>{l.removeEventListener("change",r)})}),{is:a=>{var l;return((l=t[a])==null?void 0:l.value)??!1},queries:t,mediaQueries:i}}const Kue=vs({__name:"WebGLApplication",setup(n,{expose:e}){const{checkIfLoaded:t}=Wo(),i=tle(),r=Bu(),s=$ue(),o=gt(),a=gt(),l=()=>{var c;(c=a.value)==null||c.initScenes(),t().then(()=>{var u,f;(u=a.value)==null||u.build(),(f=a.value)==null||f.preRender()})};return ks(async()=>{var c;((c=i.urlParams)==null?void 0:c.get("devmode"))!=="ui"&&(i.breakpoints=s,window.store=i,r.public.THEATRE_STATE&&(i.env!=="production"?wr(()=>import("./d1XoaXDz.js").then(u=>u.i),[],import.meta.url).then(async({default:u})=>{i.theatre.manager=ri(new s6),i.theatre.manager.initStudio(ri(u)),await i.theatre.manager.loadProjectState("BlueYard","blueyard"),o.value&&(a.value=ri(new r6(o.value)),i.WebGL=a.value,l())}):(i.theatre.manager=ri(new s6),await i.theatre.manager.loadProjectState("BlueYard","blueyard"),o.value&&(a.value=ri(new r6(o.value)),i.WebGL=a.value,l()))))}),nl(()=>{var c;(c=a.value)==null||c.destroy()}),e({webgl:a}),(c,u)=>(fi(),ka("canvas",{ref_key:"canvas",ref:o,style:{width:"100%",height:"100%",position:"fixed",top:"0",left:"0",zIndex:"-1",visibility:"hidden",opacity:"0"}},null,512))}});function Zue(n){const e=ro({});return sA(()=>{const t=Tn().$nuxtSiteConfig.get(fA({resolveRefs:!0},n));Object.assign(e,t)}),delete e._priority,e}function Jue(n){const e=new URL(n);return e.search="",e.pathname.endsWith("/")&&(e.pathname=e.pathname.slice(0,-1)),e.toString()}const efe=vs({__name:"app",async setup(n){var f,h,p;let e,t;const{data:i}=([e,t]=n7(()=>HP(Qre)),e=await e,t(),e),r=hA(),{url:s}=Zue(),o=((f=i==null?void 0:i.value)==null?void 0:f.defaultTitle)||"",a=(h=i==null?void 0:i.value)==null?void 0:h.ogImageUrl,l=((p=i==null?void 0:i.value)==null?void 0:p.ogDescription)||"",c=ro(tX());YQ({description:l,ogDescription:l,ogImage:a,twitterCard:"summary_large_image"}),gT({titleTemplate:m=>m?`${m} - ${o}`:o,htmlAttrs:{lang:"en"},bodyAttrs:{class:"bg-background text-black/80"},link:[{rel:"canonical",href:()=>Jue(`${s}${r.path}`)},{rel:"icon",type:"image/png",href:"/favicon-96x96.png",sizes:"96x96"},{rel:"icon",type:"image/svg+xml",href:"/favicon.svg"},{rel:"shortcut icon",href:"/favicon.ico"},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"manifest",href:"/site.webmanifest"}],meta:[{name:"apple-mobile-web-app-title",content:"BlueYard Capital"}]});const u=()=>{S.window.w=window.innerWidth,S.window.h=window.innerHeight,S.window.dpr=window.devicePixelRatio};return ex(()=>{u(),S.urlParams=new URLSearchParams(window.location.search)}),ks(()=>{}),oc(u),oi([()=>c.x,()=>c.y],()=>{const{x:m,y:g}=c;S.pointer.x=m,S.pointer.y=g,S.pointer.gl.set(S.pointer.x-S.window.w/2,-S.pointer.y+S.window.h/2),S.pointer.glNormalized.set(S.pointer.x/S.window.w*2-1,-(S.pointer.y/S.window.h)*2+1),S.pointer.glScreenSpace.set(S.pointer.x/S.window.w,1-S.pointer.y/S.window.h)}),(m,g)=>{var _;const A=Ire,y=Fae,x=Uae,b=ele;return fi(),ka(Ii,null,[dn(A),dn(y,{"footer-links":(_=qt(i))==null?void 0:_.navigationLinks},null,8,["footer-links"]),dn(b,null,{default:Na(()=>[ei("div",null,[dn(x)])]),_:1}),dn(Kue)],64)}}}),tfe={__name:"nuxt-error-page",props:{error:Object},setup(n){const t=n.error;t.stack&&t.stack.split(`
`).splice(1).map(f=>({text:f.replace("webpack:/","").replace(".vue",".js").trim(),internal:f.includes("node_modules")&&!f.includes(".cache")||f.includes("internal")||f.includes("new Promise")})).map(f=>`<span class="stack${f.internal?" internal":""}">${f.text}</span>`).join(`
`);const i=Number(t.statusCode||500),r=i===404,s=t.statusMessage??(r?"Page Not Found":"Internal Server Error"),o=t.message||t.toString(),a=void 0,u=r?U5(()=>wr(()=>import("./DejfDbmJ.js"),__vite__mapDeps([11,12]),import.meta.url)):U5(()=>wr(()=>import("./DuA8wLjA.js"),__vite__mapDeps([13,14]),import.meta.url));return(f,h)=>(fi(),$s(qt(u),fz(M7({statusCode:qt(i),statusMessage:qt(s),description:qt(o),stack:qt(a)})),null,16))}},nfe={key:0},o6={__name:"nuxt-root",setup(n){const e=()=>null,t=Tn(),i=t.deferHydration();if(t.isHydrating){const l=t.hooks.hookOnce("app:error",i);As().beforeEach(l)}const r=!1;Ga(dA,hA()),t.hooks.callHookWith(l=>l.map(c=>c()),"vue:setup");const s=pA(),o=!1;$6((l,c,u)=>{if(t.hooks.callHook("vue:error",l,c,u).catch(f=>console.error("[nuxt] Error in `vue:error` hook",f)),ZG(l)&&(l.fatal||l.unhandled))return t.runWithContext(()=>Rf(l)),!1});const a=!1;return(l,c)=>(fi(),$s(x7,{onResolve:qt(i)},{default:Na(()=>[qt(o)?(fi(),ka("div",nfe)):qt(s)?(fi(),$s(qt(tfe),{key:1,error:qt(s)},null,8,["error"])):qt(a)?(fi(),$s(qt(e),{key:2,context:qt(a)},null,8,["context"])):qt(r)?(fi(),$s(J6(qt(r)),{key:3})):(fi(),$s(qt(efe),{key:4}))]),_:1},8,["onResolve"]))}};let a6;{let n;a6=async function(){var o,a;if(n)return n;const i=!!(((o=window.__NUXT__)==null?void 0:o.serverRendered)??((a=document.getElementById("__NUXT_DATA__"))==null?void 0:a.dataset.ssr)==="true")?SV(o6):CV(o6),r=UG({vueApp:i});async function s(l){await r.callHook("app:error",l),r.payload.error=r.payload.error||Cp(l)}i.config.errorHandler=s,r.hook("app:suspense:resolve",()=>{i.config.errorHandler===s&&(i.config.errorHandler=void 0)});try{await zG(r,wre)}catch(l){s(l)}try{await r.hooks.callHook("app:created",i),await r.hooks.callHook("app:beforeMount",i),i.mount(LG),await r.hooks.callHook("app:mounted",i),await el()}catch(l){s(l)}return i},n=a6().catch(e=>{throw console.error("Error while mounting app:",e),e})}export{HP as $,nl as A,mI as B,ni as C,an as D,S as E,Ii as F,z5 as G,yp as H,tA as I,Nb as J,ofe as K,Ro as L,Tn as M,sfe as N,fA as O,dC as P,na as Q,uA as R,Dt as S,tV as T,tG as U,HV as V,Bu as W,rfe as X,fz as Y,n7 as Z,m4 as _,ei as a,CA as a0,Rre as a1,Qz as a2,aV as a3,afe as a4,Ga as a5,HH as a6,kre as a7,Ure as a8,es as a9,Mr as aa,lfe as ab,YQ as ac,Fi as ad,Qo as ae,WP as af,ufe as ag,dn as b,ka as c,rx as d,yI as e,vs as f,$ue as g,Wo as h,oi as i,oc as j,xp as k,$s as l,tx as m,J6 as n,fi as o,Ao as p,Dre as q,gt as r,VH as s,If as t,gT as u,qt as v,Na as w,ks as x,el as y,dr as z};
