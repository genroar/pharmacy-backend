import{ad as je,ae as $n,af as mle}from"./B-3NFgV6.js";function gle(En,bo){for(var on=0;on<bo.length;on++){const ti=bo[on];if(typeof ti!="string"&&!Array.isArray(ti)){for(const Jo in ti)if(Jo!=="default"&&!(Jo in En)){const Ur=Object.getOwnPropertyDescriptor(ti,Jo);Ur&&Object.defineProperty(En,Jo,Ur.get?Ur:{enumerable:!0,get:()=>ti[Jo]})}}}return Object.freeze(Object.defineProperty(En,Symbol.toStringTag,{value:"Module"}))}function Tg(En){throw new Error('Could not dynamically require "'+En+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Dd={exports:{}};Dd.exports;var sq;function vle(){return sq||(sq=1,function(En,bo){var on={},ti=Object.create,Jo=Object.freeze,Ur=Object.defineProperty,cq=Object.defineProperties,dq=Object.getOwnPropertyDescriptor,fq=Object.getOwnPropertyDescriptors,pq=Object.getOwnPropertyNames,Ad=Object.getOwnPropertySymbols,hq=Object.getPrototypeOf,zg=Object.prototype.hasOwnProperty,a2=Object.prototype.propertyIsEnumerable,Dg=(e,t)=>{if(t=Symbol[e])return t;throw Error("Symbol."+e+" is not defined")},mq=Math.pow,Ag=(e,t,n)=>t in e?Ur(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,L=(e,t)=>{for(var n in t||(t={}))zg.call(t,n)&&Ag(e,n,t[n]);if(Ad)for(var n of Ad(t))a2.call(t,n)&&Ag(e,n,t[n]);return e},he=(e,t)=>cq(e,fq(t)),Qs=(e,t)=>{var n={};for(var o in e)zg.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&Ad)for(var o of Ad(e))t.indexOf(o)<0&&a2.call(e,o)&&(n[o]=e[o]);return n},P=(e,t)=>()=>(e&&(t=e(e=0)),t),He=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),i2=(e,t)=>{for(var n in t)Ur(e,n,{get:t[n],enumerable:!0})},l2=(e,t,n,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of pq(t))!zg.call(e,i)&&i!==n&&Ur(e,i,{get:()=>t[i],enumerable:!(o=dq(t,i))||o.enumerable});return e},$=(e,t,n)=>(n=e!=null?ti(hq(e)):{},l2(t||!e||!e.__esModule?Ur(n,"default",{value:e,enumerable:!0}):n,e)),gq=e=>l2(Ur({},"__esModule",{value:!0}),e),et=(e,t,n)=>(Ag(e,typeof t!="symbol"?t+"":t,n),n),F=(e,t)=>Jo(Ur(e,"raw",{value:Jo(e.slice())})),Vt=(e,t,n)=>new Promise((o,i)=>{var l=d=>{try{u(n.next(d))}catch(f){i(f)}},s=d=>{try{u(n.throw(d))}catch(f){i(f)}},u=d=>d.done?o(d.value):Promise.resolve(d.value).then(l,s);u((n=n.apply(e,t)).next())}),vq=function(e,t){this[0]=e,this[1]=t},yq=e=>{var t=e[Dg("asyncIterator")],n=!1,o,i={};return t==null?(t=e[Dg("iterator")](),o=l=>i[l]=s=>t[l](s)):(t=t.call(e),o=l=>i[l]=s=>{if(n){if(n=!1,l==="throw")throw s;return s}return n=!0,{done:!1,value:new vq(new Promise(u=>{var d=t[l](s);if(!(d instanceof Object))throw TypeError("Object expected");u(d)}),1)}}),i[Dg("iterator")]=()=>i,o("next"),"throw"in t?o("throw"):i.throw=l=>{throw l},"return"in t&&o("return"),i};function bq(e){s2=e}function de(){return s2}var s2,Ne=P(()=>{});function Bd(e,t,n=[]){if(typeof e=="object"&&e){if(u2(e)||c2(e)){t(e,n);return}for(let[o,i]of Object.entries(e))Bd(i,t,[...n,o])}else{if(e==null)return;t(e,n)}}var u2,c2,Bg=P(()=>{u2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"type")&&e.type==="image"&&Object.hasOwnProperty.call(e,"id")&&typeof e.id=="string"&&e.id!=="",c2=e=>typeof e=="object"&&e!==null&&Object.hasOwnProperty.call(e,"r")&&Object.hasOwnProperty.call(e,"g")&&Object.hasOwnProperty.call(e,"b")&&Object.hasOwnProperty.call(e,"a")&&typeof e.r=="number"&&typeof e.g=="number"&&typeof e.b=="number"&&typeof e.a=="number"});function ea(e){return t=>typeof t=="object"&&!!t&&t.type===e}var Ng,Nd,d2,ur,f2,p2,Fg,Rg,ni=P(()=>{Ng=ea("Theatre_Project"),Nd=ea("Theatre_Sheet"),d2=ea("Theatre_SheetTemplate"),ur=ea("Theatre_SheetObject"),f2=ea("Theatre_Sequence"),p2=ea("Theatre_SheetObjectTemplate"),Fg=ea("Theatre_Sheet_PublicAPI"),Rg=ea("Theatre_SheetObject_PublicAPI")}),h2,Mg,m2=P(()=>{h2=typeof $n=="object"&&$n&&$n.Object===Object&&$n,Mg=h2}),g2,v2,Ln,cr=P(()=>{m2(),g2=typeof self=="object"&&self&&self.Object===Object&&self,v2=Mg||g2||Function("return this")(),Ln=v2}),y2,dr,Js=P(()=>{cr(),y2=Ln.Symbol,dr=y2});function kq(e){var t=b2.call(e,hl),n=e[hl];try{e[hl]=void 0;var o=!0}catch{}var i=k2.call(e);return o&&(t?e[hl]=n:delete e[hl]),i}var Ug,b2,k2,hl,w2,wq=P(()=>{Js(),Ug=Object.prototype,b2=Ug.hasOwnProperty,k2=Ug.toString,hl=dr?dr.toStringTag:void 0,w2=kq});function xq(e){return S2.call(e)}var x2,S2,E2,Sq=P(()=>{x2=Object.prototype,S2=x2.toString,E2=xq});function Eq(e){return e==null?e===void 0?P2:_2:Vg&&Vg in Object(e)?w2(e):E2(e)}var _2,P2,Vg,ta,ml=P(()=>{Js(),wq(),Sq(),_2="[object Null]",P2="[object Undefined]",Vg=dr?dr.toStringTag:void 0,ta=Eq});function _q(e){return e!=null&&typeof e=="object"}var na,gl=P(()=>{na=_q});function Pq(e){return typeof e=="symbol"||na(e)&&ta(e)==C2}var C2,ri,eu=P(()=>{ml(),gl(),C2="[object Symbol]",ri=Pq});function Cq(e,t){for(var n=-1,o=e==null?0:e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}var vl,Hg=P(()=>{vl=Cq}),I2,An,fr=P(()=>{I2=Array.isArray,An=I2});function j2(e){if(typeof e=="string")return e;if(An(e))return vl(e,j2)+"";if(ri(e))return Wg?Wg.call(e):"";var t=e+"";return t=="0"&&1/e==-O2?"-0":t}var O2,Kg,Wg,T2,Iq=P(()=>{Js(),Hg(),fr(),eu(),O2=1/0,Kg=dr?dr.prototype:void 0,Wg=Kg?Kg.toString:void 0,T2=j2});function jq(e){for(var t=e.length;t--&&z2.test(e.charAt(t)););return t}var z2,D2,Oq=P(()=>{z2=/\s/,D2=jq});function Tq(e){return e&&e.slice(0,D2(e)+1).replace(A2,"")}var A2,B2,zq=P(()=>{Oq(),A2=/^\s+/,B2=Tq});function Dq(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Vr,oi=P(()=>{Vr=Dq});function Aq(e){if(typeof e=="number")return e;if(ri(e))return qg;if(Vr(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Vr(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=B2(e);var n=F2.test(e);return n||R2.test(e)?M2(e.slice(2),n?2:8):N2.test(e)?qg:+e}var qg,N2,F2,R2,M2,ko,tu=P(()=>{zq(),oi(),eu(),qg=NaN,N2=/^[-+]0x[0-9a-f]+$/i,F2=/^0b[01]+$/i,R2=/^0o[0-7]+$/i,M2=parseInt,ko=Aq});function Bq(e){if(!e)return e===0?e:0;if(e=ko(e),e===$g||e===-$g){var t=e<0?-1:1;return t*U2}return e===e?e:0}var $g,U2,Fd,V2=P(()=>{tu(),$g=1/0,U2=17976931348623157e292,Fd=Bq});function Nq(e){var t=Fd(e),n=t%1;return t===t?n?t-n:t:0}var nu,Rd=P(()=>{V2(),nu=Nq});function Fq(e){return e}var ru,Md=P(()=>{ru=Fq});function Rq(e){if(!Vr(e))return!1;var t=ta(e);return t==K2||t==W2||t==H2||t==q2}var H2,K2,W2,q2,Lg,$2=P(()=>{ml(),oi(),H2="[object AsyncFunction]",K2="[object Function]",W2="[object GeneratorFunction]",q2="[object Proxy]",Lg=Rq}),L2,Ud,Mq=P(()=>{cr(),L2=Ln["__core-js_shared__"],Ud=L2});function Uq(e){return!!Zg&&Zg in e}var Zg,Z2,Vq=P(()=>{Mq(),Zg=function(){var e=/[^.]+$/.exec(Ud&&Ud.keys&&Ud.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z2=Uq});function Hq(e){if(e!=null){try{return X2.call(e)}catch{}try{return e+""}catch{}}return""}var G2,X2,ra,Y2=P(()=>{G2=Function.prototype,X2=G2.toString,ra=Hq});function Kq(e){if(!Vr(e)||Z2(e))return!1;var t=Lg(e)?oS:J2;return t.test(ra(e))}var Q2,J2,eS,tS,nS,rS,oS,aS,Wq=P(()=>{$2(),Vq(),oi(),Y2(),Q2=/[\\^$.*+?()[\]{}|]/g,J2=/^\[object .+?Constructor\]$/,eS=Function.prototype,tS=Object.prototype,nS=eS.toString,rS=tS.hasOwnProperty,oS=RegExp("^"+nS.call(rS).replace(Q2,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),aS=Kq});function qq(e,t){return e==null?void 0:e[t]}var iS,$q=P(()=>{iS=qq});function Lq(e,t){var n=iS(e,t);return aS(n)?n:void 0}var oa,ai=P(()=>{Wq(),$q(),oa=Lq}),lS,Vd,Zq=P(()=>{ai(),cr(),lS=oa(Ln,"WeakMap"),Vd=lS});function Gq(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var sS,Xq=P(()=>{sS=Gq});function Yq(){}var uS,Qq=P(()=>{uS=Yq});function Jq(e,t){var n=-1,o=e.length;for(t||(t=Array(o));++n<o;)t[n]=e[n];return t}var cS,e$=P(()=>{cS=Jq});function t$(e){var t=0,n=0;return function(){var o=pS(),i=fS-(o-n);if(n=o,i>0){if(++t>=dS)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var dS,fS,pS,hS,n$=P(()=>{dS=800,fS=16,pS=Date.now,hS=t$});function r$(e){return function(){return e}}var mS,o$=P(()=>{mS=r$}),gS,ou,vS=P(()=>{ai(),gS=function(){try{var e=oa(Object,"defineProperty");return e({},"",{}),e}catch{}}(),ou=gS}),yS,bS,a$=P(()=>{o$(),vS(),Md(),yS=ou?function(e,t){return ou(e,"toString",{configurable:!0,enumerable:!1,value:mS(t),writable:!0})}:ru,bS=yS}),kS,wS,i$=P(()=>{a$(),n$(),kS=hS(bS),wS=kS});function l$(e,t,n,o){for(var i=e.length,l=n+(o?1:-1);o?l--:++l<i;)if(t(e[l],l,e))return l;return-1}var Hd,Gg=P(()=>{Hd=l$});function s$(e){return e!==e}var xS,u$=P(()=>{xS=s$});function c$(e,t,n){for(var o=n-1,i=e.length;++o<i;)if(e[o]===t)return o;return-1}var SS,d$=P(()=>{SS=c$});function f$(e,t,n){return t===t?SS(e,t,n):Hd(e,xS,n)}var Xg,ES=P(()=>{Gg(),u$(),d$(),Xg=f$});function p$(e,t){var n=e==null?0:e.length;return!!n&&Xg(e,t,0)>-1}var _S,h$=P(()=>{ES(),_S=p$});function m$(e,t){var n=typeof e;return t=t??PS,!!t&&(n=="number"||n!="symbol"&&CS.test(e))&&e>-1&&e%1==0&&e<t}var PS,CS,au,Kd=P(()=>{PS=9007199254740991,CS=/^(?:0|[1-9]\d*)$/,au=m$});function g$(e,t,n){t=="__proto__"&&ou?ou(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var Wd,Yg=P(()=>{vS(),Wd=g$});function v$(e,t){return e===t||e!==e&&t!==t}var iu,qd=P(()=>{iu=v$});function y$(e,t,n){var o=e[t];(!(jS.call(e,t)&&iu(o,n))||n===void 0&&!(t in e))&&Wd(e,t,n)}var IS,jS,OS,b$=P(()=>{Yg(),qd(),IS=Object.prototype,jS=IS.hasOwnProperty,OS=y$});function k$(e,t,n){return t=Qg(t===void 0?e.length-1:t,0),function(){for(var o=arguments,i=-1,l=Qg(o.length-t,0),s=Array(l);++i<l;)s[i]=o[t+i];i=-1;for(var u=Array(t+1);++i<t;)u[i]=o[i];return u[t]=n(s),sS(e,this,u)}}var Qg,TS,w$=P(()=>{Xq(),Qg=Math.max,TS=k$});function x$(e,t){return wS(TS(e,t,ru),e+"")}var Jg,zS=P(()=>{Md(),w$(),i$(),Jg=x$});function S$(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=DS}var DS,$d,e0=P(()=>{DS=9007199254740991,$d=S$});function E$(e){return e!=null&&$d(e.length)&&!Lg(e)}var lu,Ld=P(()=>{$2(),e0(),lu=E$});function _$(e,t,n){if(!Vr(n))return!1;var o=typeof t;return(o=="number"?lu(n)&&au(t,n.length):o=="string"&&t in n)?iu(n[t],e):!1}var t0,P$=P(()=>{qd(),Ld(),Kd(),oi(),t0=_$});function C$(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||AS;return e===n}var AS,BS,I$=P(()=>{AS=Object.prototype,BS=C$});function j$(e,t){for(var n=-1,o=Array(e);++n<e;)o[n]=t(n);return o}var NS,O$=P(()=>{NS=j$});function T$(e){return na(e)&&ta(e)==FS}var FS,n0,z$=P(()=>{ml(),gl(),FS="[object Arguments]",n0=T$}),r0,RS,MS,US,Zd,o0=P(()=>{z$(),gl(),r0=Object.prototype,RS=r0.hasOwnProperty,MS=r0.propertyIsEnumerable,US=n0(function(){return arguments}())?n0:function(e){return na(e)&&RS.call(e,"callee")&&!MS.call(e,"callee")},Zd=US});function D$(){return!1}var VS,A$=P(()=>{VS=D$}),a0,i0,HS,l0,KS,WS,Gd,qS=P(()=>{cr(),A$(),a0=bo&&!bo.nodeType&&bo,i0=a0&&!0&&En&&!En.nodeType&&En,HS=i0&&i0.exports===a0,l0=HS?Ln.Buffer:void 0,KS=l0?l0.isBuffer:void 0,WS=KS||VS,Gd=WS});function B$(e){return na(e)&&$d(e.length)&&!!dt[ta(e)]}var $S,LS,ZS,GS,XS,YS,QS,JS,eE,tE,nE,rE,oE,aE,iE,lE,sE,uE,cE,dE,fE,pE,hE,mE,dt,gE,N$=P(()=>{ml(),e0(),gl(),$S="[object Arguments]",LS="[object Array]",ZS="[object Boolean]",GS="[object Date]",XS="[object Error]",YS="[object Function]",QS="[object Map]",JS="[object Number]",eE="[object Object]",tE="[object RegExp]",nE="[object Set]",rE="[object String]",oE="[object WeakMap]",aE="[object ArrayBuffer]",iE="[object DataView]",lE="[object Float32Array]",sE="[object Float64Array]",uE="[object Int8Array]",cE="[object Int16Array]",dE="[object Int32Array]",fE="[object Uint8Array]",pE="[object Uint8ClampedArray]",hE="[object Uint16Array]",mE="[object Uint32Array]",dt={},dt[lE]=dt[sE]=dt[uE]=dt[cE]=dt[dE]=dt[fE]=dt[pE]=dt[hE]=dt[mE]=!0,dt[$S]=dt[LS]=dt[aE]=dt[ZS]=dt[iE]=dt[GS]=dt[XS]=dt[YS]=dt[QS]=dt[JS]=dt[eE]=dt[tE]=dt[nE]=dt[rE]=dt[oE]=!1,gE=B$});function F$(e){return function(t){return e(t)}}var Xd,s0=P(()=>{Xd=F$}),u0,yl,vE,Yd,yE,c0,R$=P(()=>{m2(),u0=bo&&!bo.nodeType&&bo,yl=u0&&!0&&En&&!En.nodeType&&En,vE=yl&&yl.exports===u0,Yd=vE&&Mg.process,yE=function(){try{var e=yl&&yl.require&&yl.require("util").types;return e||Yd&&Yd.binding&&Yd.binding("util")}catch{}}(),c0=yE}),d0,bE,f0,kE=P(()=>{N$(),s0(),R$(),d0=c0&&c0.isTypedArray,bE=d0?Xd(d0):gE,f0=bE});function M$(e,t){var n=An(e),o=!n&&Zd(e),i=!n&&!o&&Gd(e),l=!n&&!o&&!i&&f0(e),s=n||o||i||l,u=s?NS(e.length,String):[],d=u.length;for(var f in e)(t||xE.call(e,f))&&!(s&&(f=="length"||i&&(f=="offset"||f=="parent")||l&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||au(f,d)))&&u.push(f);return u}var wE,xE,SE,U$=P(()=>{O$(),o0(),fr(),qS(),Kd(),kE(),wE=Object.prototype,xE=wE.hasOwnProperty,SE=M$});function V$(e,t){return function(n){return e(t(n))}}var p0,EE=P(()=>{p0=V$}),_E,PE,H$=P(()=>{EE(),_E=p0(Object.keys,Object),PE=_E});function K$(e){if(!BS(e))return PE(e);var t=[];for(var n in Object(e))IE.call(e,n)&&n!="constructor"&&t.push(n);return t}var CE,IE,jE,W$=P(()=>{I$(),H$(),CE=Object.prototype,IE=CE.hasOwnProperty,jE=K$});function q$(e){return lu(e)?SE(e):jE(e)}var Qd,h0=P(()=>{U$(),W$(),Ld(),Qd=q$});function $$(e,t){if(An(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||ri(e)?!0:TE.test(e)||!OE.test(e)||t!=null&&e in Object(t)}var OE,TE,Jd,m0=P(()=>{fr(),eu(),OE=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,TE=/^\w*$/,Jd=$$}),zE,bl,ef=P(()=>{ai(),zE=oa(Object,"create"),bl=zE});function L$(){this.__data__=bl?bl(null):{},this.size=0}var DE,Z$=P(()=>{ef(),DE=L$});function G$(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var AE,X$=P(()=>{AE=G$});function Y$(e){var t=this.__data__;if(bl){var n=t[e];return n===BE?void 0:n}return FE.call(t,e)?t[e]:void 0}var BE,NE,FE,RE,Q$=P(()=>{ef(),BE="__lodash_hash_undefined__",NE=Object.prototype,FE=NE.hasOwnProperty,RE=Y$});function J$(e){var t=this.__data__;return bl?t[e]!==void 0:UE.call(t,e)}var ME,UE,VE,eL=P(()=>{ef(),ME=Object.prototype,UE=ME.hasOwnProperty,VE=J$});function tL(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=bl&&t===void 0?HE:t,this}var HE,KE,nL=P(()=>{ef(),HE="__lodash_hash_undefined__",KE=tL});function kl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var g0,rL=P(()=>{Z$(),X$(),Q$(),eL(),nL(),kl.prototype.clear=DE,kl.prototype.delete=AE,kl.prototype.get=RE,kl.prototype.has=VE,kl.prototype.set=KE,g0=kl});function oL(){this.__data__=[],this.size=0}var WE,aL=P(()=>{WE=oL});function iL(e,t){for(var n=e.length;n--;)if(iu(e[n][0],t))return n;return-1}var su,tf=P(()=>{qd(),su=iL});function lL(e){var t=this.__data__,n=su(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():$E.call(t,n,1),--this.size,!0}var qE,$E,LE,sL=P(()=>{tf(),qE=Array.prototype,$E=qE.splice,LE=lL});function uL(e){var t=this.__data__,n=su(t,e);return n<0?void 0:t[n][1]}var ZE,cL=P(()=>{tf(),ZE=uL});function dL(e){return su(this.__data__,e)>-1}var GE,fL=P(()=>{tf(),GE=dL});function pL(e,t){var n=this.__data__,o=su(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}var XE,hL=P(()=>{tf(),XE=pL});function wl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var uu,nf=P(()=>{aL(),sL(),cL(),fL(),hL(),wl.prototype.clear=WE,wl.prototype.delete=LE,wl.prototype.get=ZE,wl.prototype.has=GE,wl.prototype.set=XE,uu=wl}),YE,xl,v0=P(()=>{ai(),cr(),YE=oa(Ln,"Map"),xl=YE});function mL(){this.size=0,this.__data__={hash:new g0,map:new(xl||uu),string:new g0}}var QE,gL=P(()=>{rL(),nf(),v0(),QE=mL});function vL(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var JE,yL=P(()=>{JE=vL});function bL(e,t){var n=e.__data__;return JE(t)?n[typeof t=="string"?"string":"hash"]:n.map}var cu,rf=P(()=>{yL(),cu=bL});function kL(e){var t=cu(this,e).delete(e);return this.size-=t?1:0,t}var e_,wL=P(()=>{rf(),e_=kL});function xL(e){return cu(this,e).get(e)}var t_,SL=P(()=>{rf(),t_=xL});function EL(e){return cu(this,e).has(e)}var n_,_L=P(()=>{rf(),n_=EL});function PL(e,t){var n=cu(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}var r_,CL=P(()=>{rf(),r_=PL});function Sl(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}var du,y0=P(()=>{gL(),wL(),SL(),_L(),CL(),Sl.prototype.clear=QE,Sl.prototype.delete=e_,Sl.prototype.get=t_,Sl.prototype.has=n_,Sl.prototype.set=r_,du=Sl});function b0(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(o_);var n=function(){var o=arguments,i=t?t.apply(this,o):o[0],l=n.cache;if(l.has(i))return l.get(i);var s=e.apply(this,o);return n.cache=l.set(i,s)||l,s};return n.cache=new(b0.Cache||du),n}var o_,k0,a_=P(()=>{y0(),o_="Expected a function",b0.Cache=du,k0=b0});function IL(e){var t=k0(e,function(o){return n.size===i_&&n.clear(),o}),n=t.cache;return t}var i_,l_,jL=P(()=>{a_(),i_=500,l_=IL}),s_,u_,c_,d_,OL=P(()=>{jL(),s_=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u_=/\\(\\)?/g,c_=l_(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(s_,function(n,o,i,l){t.push(i?l.replace(u_,"$1"):o||n)}),t}),d_=c_});function TL(e){return e==null?"":T2(e)}var of,f_=P(()=>{Iq(),of=TL});function zL(e,t){return An(e)?e:Jd(e,t)?[e]:d_(of(e))}var af,w0=P(()=>{fr(),m0(),OL(),f_(),af=zL});function DL(e){if(typeof e=="string"||ri(e))return e;var t=e+"";return t=="0"&&1/e==-p_?"-0":t}var p_,El,fu=P(()=>{eu(),p_=1/0,El=DL});function AL(e,t){t=af(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[El(t[n++])];return n&&n==o?e:void 0}var lf,x0=P(()=>{w0(),fu(),lf=AL});function BL(e,t,n){var o=e==null?void 0:lf(e,t);return o===void 0?n:o}var ii,pu=P(()=>{x0(),ii=BL});function NL(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}var S0,h_=P(()=>{S0=NL});function FL(e){return An(e)||Zd(e)||!!(E0&&e&&e[E0])}var E0,m_,RL=P(()=>{Js(),o0(),fr(),E0=dr?dr.isConcatSpreadable:void 0,m_=FL});function g_(e,t,n,o,i){var l=-1,s=e.length;for(n||(n=m_),i||(i=[]);++l<s;){var u=e[l];t>0&&n(u)?t>1?g_(u,t-1,n,o,i):S0(i,u):o||(i[i.length]=u)}return i}var v_,ML=P(()=>{h_(),RL(),v_=g_}),y_,b_,UL=P(()=>{EE(),y_=p0(Object.getPrototypeOf,Object),b_=y_});function VL(e){if(!na(e)||ta(e)!=k_)return!1;var t=b_(e);if(t===null)return!0;var n=S_.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&_0.call(n)==E_}var k_,w_,x_,_0,S_,E_,sf,__=P(()=>{ml(),UL(),gl(),k_="[object Object]",w_=Function.prototype,x_=Object.prototype,_0=w_.toString,S_=x_.hasOwnProperty,E_=_0.call(Object),sf=VL});function HL(e){var t=Math[e];return function(n,o){if(n=ko(n),o=o==null?0:C_(nu(o),292),o&&P_(n)){var i=(of(n)+"e").split("e"),l=t(i[0]+"e"+(+i[1]+o));return i=(of(l)+"e").split("e"),+(i[0]+"e"+(+i[1]-o))}return t(n)}}var P_,C_,I_,KL=P(()=>{cr(),Rd(),tu(),f_(),P_=Ln.isFinite,C_=Math.min,I_=HL});function WL(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}var j_,qL=P(()=>{j_=WL});function $L(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=ko(n),n=n===n?n:0),t!==void 0&&(t=ko(t),t=t===t?t:0),j_(ko(e),t,n)}var kt,uf=P(()=>{qL(),tu(),kt=$L});function LL(){this.__data__=new uu,this.size=0}var O_,ZL=P(()=>{nf(),O_=LL});function GL(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var T_,XL=P(()=>{T_=GL});function YL(e){return this.__data__.get(e)}var z_,QL=P(()=>{z_=YL});function JL(e){return this.__data__.has(e)}var D_,eZ=P(()=>{D_=JL});function tZ(e,t){var n=this.__data__;if(n instanceof uu){var o=n.__data__;if(!xl||o.length<A_-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new du(o)}return n.set(e,t),this.size=n.size,this}var A_,B_,nZ=P(()=>{nf(),v0(),y0(),A_=200,B_=tZ});function _l(e){var t=this.__data__=new uu(e);this.size=t.size}var hu,N_=P(()=>{nf(),ZL(),XL(),QL(),eZ(),nZ(),_l.prototype.clear=O_,_l.prototype.delete=T_,_l.prototype.get=z_,_l.prototype.has=D_,_l.prototype.set=B_,hu=_l});function rZ(e,t){for(var n=-1,o=e==null?0:e.length,i=0,l=[];++n<o;){var s=e[n];t(s,n,e)&&(l[i++]=s)}return l}var F_,oZ=P(()=>{F_=rZ});function aZ(){return[]}var R_,iZ=P(()=>{R_=aZ}),M_,U_,P0,V_,H_,lZ=P(()=>{oZ(),iZ(),M_=Object.prototype,U_=M_.propertyIsEnumerable,P0=Object.getOwnPropertySymbols,V_=P0?function(e){return e==null?[]:(e=Object(e),F_(P0(e),function(t){return U_.call(e,t)}))}:R_,H_=V_});function sZ(e,t,n){var o=t(e);return An(e)?o:S0(o,n(e))}var K_,uZ=P(()=>{h_(),fr(),K_=sZ});function cZ(e){return K_(e,Qd,H_)}var C0,dZ=P(()=>{uZ(),lZ(),h0(),C0=cZ}),W_,cf,fZ=P(()=>{ai(),cr(),W_=oa(Ln,"DataView"),cf=W_}),q_,df,pZ=P(()=>{ai(),cr(),q_=oa(Ln,"Promise"),df=q_}),$_,li,L_=P(()=>{ai(),cr(),$_=oa(Ln,"Set"),li=$_}),I0,Z_,j0,O0,T0,z0,G_,X_,Y_,Q_,J_,aa,D0,hZ=P(()=>{fZ(),v0(),pZ(),L_(),Zq(),ml(),Y2(),I0="[object Map]",Z_="[object Object]",j0="[object Promise]",O0="[object Set]",T0="[object WeakMap]",z0="[object DataView]",G_=ra(cf),X_=ra(xl),Y_=ra(df),Q_=ra(li),J_=ra(Vd),aa=ta,(cf&&aa(new cf(new ArrayBuffer(1)))!=z0||xl&&aa(new xl)!=I0||df&&aa(df.resolve())!=j0||li&&aa(new li)!=O0||Vd&&aa(new Vd)!=T0)&&(aa=function(e){var t=ta(e),n=t==Z_?e.constructor:void 0,o=n?ra(n):"";if(o)switch(o){case G_:return z0;case X_:return I0;case Y_:return j0;case Q_:return O0;case J_:return T0}return t}),D0=aa}),eP,A0,mZ=P(()=>{cr(),eP=Ln.Uint8Array,A0=eP});function gZ(e){return this.__data__.set(e,tP),this}var tP,nP,vZ=P(()=>{tP="__lodash_hash_undefined__",nP=gZ});function yZ(e){return this.__data__.has(e)}var rP,bZ=P(()=>{rP=yZ});function ff(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new du;++t<n;)this.add(e[t])}var B0,oP=P(()=>{y0(),vZ(),bZ(),ff.prototype.add=ff.prototype.push=nP,ff.prototype.has=rP,B0=ff});function kZ(e,t){for(var n=-1,o=e==null?0:e.length;++n<o;)if(t(e[n],n,e))return!0;return!1}var aP,wZ=P(()=>{aP=kZ});function xZ(e,t){return e.has(t)}var N0,iP=P(()=>{N0=xZ});function SZ(e,t,n,o,i,l){var s=n&lP,u=e.length,d=t.length;if(u!=d&&!(s&&d>u))return!1;var f=l.get(e),m=l.get(t);if(f&&m)return f==t&&m==e;var v=-1,g=!0,h=n&sP?new B0:void 0;for(l.set(e,t),l.set(t,e);++v<u;){var b=e[v],y=t[v];if(o)var k=s?o(y,b,v,t,e,l):o(b,y,v,e,t,l);if(k!==void 0){if(k)continue;g=!1;break}if(h){if(!aP(t,function(x,S){if(!N0(h,S)&&(b===x||i(b,x,n,o,l)))return h.push(S)})){g=!1;break}}else if(!(b===y||i(b,y,n,o,l))){g=!1;break}}return l.delete(e),l.delete(t),g}var lP,sP,F0,uP=P(()=>{oP(),wZ(),iP(),lP=1,sP=2,F0=SZ});function EZ(e){var t=-1,n=Array(e.size);return e.forEach(function(o,i){n[++t]=[i,o]}),n}var cP,_Z=P(()=>{cP=EZ});function PZ(e){var t=-1,n=Array(e.size);return e.forEach(function(o){n[++t]=o}),n}var pf,R0=P(()=>{pf=PZ});function CZ(e,t,n,o,i,l,s){switch(n){case SP:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case xP:return!(e.byteLength!=t.byteLength||!l(new A0(e),new A0(t)));case pP:case hP:case vP:return iu(+e,+t);case mP:return e.name==t.name&&e.message==t.message;case yP:case kP:return e==t+"";case gP:var u=cP;case bP:var d=o&dP;if(u||(u=pf),e.size!=t.size&&!d)return!1;var f=s.get(e);if(f)return f==t;o|=fP,s.set(e,t);var m=F0(u(e),u(t),o,i,l,s);return s.delete(e),m;case wP:if(hf)return hf.call(e)==hf.call(t)}return!1}var dP,fP,pP,hP,mP,gP,vP,yP,bP,kP,wP,xP,SP,M0,hf,EP,IZ=P(()=>{Js(),mZ(),qd(),uP(),_Z(),R0(),dP=1,fP=2,pP="[object Boolean]",hP="[object Date]",mP="[object Error]",gP="[object Map]",vP="[object Number]",yP="[object RegExp]",bP="[object Set]",kP="[object String]",wP="[object Symbol]",xP="[object ArrayBuffer]",SP="[object DataView]",M0=dr?dr.prototype:void 0,hf=M0?M0.valueOf:void 0,EP=CZ});function jZ(e,t,n,o,i,l){var s=n&_P,u=C0(e),d=u.length,f=C0(t),m=f.length;if(d!=m&&!s)return!1;for(var v=d;v--;){var g=u[v];if(!(s?g in t:CP.call(t,g)))return!1}var h=l.get(e),b=l.get(t);if(h&&b)return h==t&&b==e;var y=!0;l.set(e,t),l.set(t,e);for(var k=s;++v<d;){g=u[v];var x=e[g],S=t[g];if(o)var _=s?o(S,x,g,t,e,l):o(x,S,g,e,t,l);if(!(_===void 0?x===S||i(x,S,n,o,l):_)){y=!1;break}k||(k=g=="constructor")}if(y&&!k){var O=e.constructor,j=t.constructor;O!=j&&"constructor"in e&&"constructor"in t&&!(typeof O=="function"&&O instanceof O&&typeof j=="function"&&j instanceof j)&&(y=!1)}return l.delete(e),l.delete(t),y}var _P,PP,CP,IP,OZ=P(()=>{dZ(),_P=1,PP=Object.prototype,CP=PP.hasOwnProperty,IP=jZ});function TZ(e,t,n,o,i,l){var s=An(e),u=An(t),d=s?V0:D0(e),f=u?V0:D0(t);d=d==U0?mu:d,f=f==U0?mu:f;var m=d==mu,v=f==mu,g=d==f;if(g&&Gd(e)){if(!Gd(t))return!1;s=!0,m=!1}if(g&&!m)return l||(l=new hu),s||f0(e)?F0(e,t,n,o,i,l):EP(e,t,d,n,o,i,l);if(!(n&jP)){var h=m&&H0.call(e,"__wrapped__"),b=v&&H0.call(t,"__wrapped__");if(h||b){var y=h?e.value():e,k=b?t.value():t;return l||(l=new hu),i(y,k,n,o,l)}}return g?(l||(l=new hu),IP(e,t,n,o,i,l)):!1}var jP,U0,V0,mu,OP,H0,TP,zZ=P(()=>{N_(),uP(),IZ(),OZ(),hZ(),fr(),qS(),kE(),jP=1,U0="[object Arguments]",V0="[object Array]",mu="[object Object]",OP=Object.prototype,H0=OP.hasOwnProperty,TP=TZ});function zP(e,t,n,o,i){return e===t?!0:e==null||t==null||!na(e)&&!na(t)?e!==e&&t!==t:TP(e,t,n,o,zP,i)}var K0,DP=P(()=>{zZ(),gl(),K0=zP});function DZ(e,t,n,o){var i=n.length,l=i,s=!o;if(e==null)return!l;for(e=Object(e);i--;){var u=n[i];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<l;){u=n[i];var d=u[0],f=e[d],m=u[1];if(s&&u[2]){if(f===void 0&&!(d in e))return!1}else{var v=new hu;if(o)var g=o(f,m,d,e,t,v);if(!(g===void 0?K0(m,f,AP|BP,o,v):g))return!1}}return!0}var AP,BP,NP,AZ=P(()=>{N_(),DP(),AP=1,BP=2,NP=DZ});function BZ(e){return e===e&&!Vr(e)}var W0,FP=P(()=>{oi(),W0=BZ});function NZ(e){for(var t=Qd(e),n=t.length;n--;){var o=t[n],i=e[o];t[n]=[o,i,W0(i)]}return t}var RP,FZ=P(()=>{FP(),h0(),RP=NZ});function RZ(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var q0,MP=P(()=>{q0=RZ});function MZ(e){var t=RP(e);return t.length==1&&t[0][2]?q0(t[0][0],t[0][1]):function(n){return n===e||NP(n,e,t)}}var UP,UZ=P(()=>{AZ(),FZ(),MP(),UP=MZ});function VZ(e,t){return e!=null&&t in Object(e)}var VP,HZ=P(()=>{VP=VZ});function KZ(e,t,n){t=af(t,e);for(var o=-1,i=t.length,l=!1;++o<i;){var s=El(t[o]);if(!(l=e!=null&&n(e,s)))break;e=e[s]}return l||++o!=i?l:(i=e==null?0:e.length,!!i&&$d(i)&&au(s,i)&&(An(e)||Zd(e)))}var HP,WZ=P(()=>{w0(),o0(),fr(),Kd(),e0(),fu(),HP=KZ});function qZ(e,t){return e!=null&&HP(e,t,VP)}var KP,$Z=P(()=>{HZ(),WZ(),KP=qZ});function LZ(e,t){return Jd(e)&&W0(t)?q0(El(e),t):function(n){var o=ii(n,e);return o===void 0&&o===t?KP(n,e):K0(t,o,WP|qP)}}var WP,qP,$P,ZZ=P(()=>{DP(),pu(),$Z(),m0(),FP(),MP(),fu(),WP=1,qP=2,$P=LZ});function GZ(e){return function(t){return t==null?void 0:t[e]}}var LP,XZ=P(()=>{LP=GZ});function YZ(e){return function(t){return lf(t,e)}}var ZP,QZ=P(()=>{x0(),ZP=YZ});function JZ(e){return Jd(e)?LP(El(e)):ZP(e)}var GP,eG=P(()=>{XZ(),QZ(),m0(),fu(),GP=JZ});function tG(e){return typeof e=="function"?e:e==null?ru:typeof e=="object"?An(e)?$P(e[0],e[1]):UP(e):GP(e)}var Pl,gu=P(()=>{UZ(),ZZ(),Md(),fr(),eG(),Pl=tG});function nG(e,t,n,o){for(var i=-1,l=e==null?0:e.length;++i<l;){var s=e[i];t(o,s,n(s),e)}return o}var XP,rG=P(()=>{XP=nG});function oG(e){return function(t,n,o){for(var i=-1,l=Object(t),s=o(t),u=s.length;u--;){var d=s[e?u:++i];if(n(l[d],d,l)===!1)break}return t}}var YP,aG=P(()=>{YP=oG}),QP,JP,iG=P(()=>{aG(),QP=YP(),JP=QP});function lG(e,t){return e&&JP(e,t,Qd)}var $0,e5=P(()=>{iG(),h0(),$0=lG});function sG(e,t){return function(n,o){if(n==null)return n;if(!lu(n))return e(n,o);for(var i=n.length,l=t?i:-1,s=Object(n);(t?l--:++l<i)&&o(s[l],l,s)!==!1;);return n}}var t5,uG=P(()=>{Ld(),t5=sG}),n5,L0,r5=P(()=>{e5(),uG(),n5=t5($0),L0=n5});function cG(e,t,n,o){return L0(e,function(i,l,s){t(o,i,n(i),s)}),o}var o5,dG=P(()=>{r5(),o5=cG});function fG(e,t){return function(n,o){var i=An(n)?XP:o5,l=t?t():{};return i(n,e,Pl(o,2),l)}}var a5,pG=P(()=>{rG(),dG(),gu(),fr(),a5=fG}),i5,mf,hG=P(()=>{cr(),i5=function(){return Ln.Date.now()},mf=i5});function mG(e,t,n){var o,i,l,s,u,d,f=0,m=!1,v=!1,g=!0;if(typeof e!="function")throw new TypeError(l5);t=ko(t)||0,Vr(n)&&(m=!!n.leading,v="maxWait"in n,l=v?s5(ko(n.maxWait)||0,t):l,g="trailing"in n?!!n.trailing:g);function h(z){var V=o,W=i;return o=i=void 0,f=z,s=e.apply(W,V),s}function b(z){return f=z,u=setTimeout(x,t),m?h(z):s}function y(z){var V=z-d,W=z-f,B=t-V;return v?u5(B,l-W):B}function k(z){var V=z-d,W=z-f;return d===void 0||V>=t||V<0||v&&W>=l}function x(){var z=mf();if(k(z))return S(z);u=setTimeout(x,y(z))}function S(z){return u=void 0,g&&o?h(z):(o=i=void 0,s)}function _(){u!==void 0&&clearTimeout(u),f=0,o=d=i=u=void 0}function O(){return u===void 0?s:S(mf())}function j(){var z=mf(),V=k(z);if(o=arguments,i=this,d=z,V){if(u===void 0)return b(d);if(v)return clearTimeout(u),u=setTimeout(x,t),h(d)}return u===void 0&&(u=setTimeout(x,t)),s}return j.cancel=_,j.flush=O,j}var l5,s5,u5,Z0,c5=P(()=>{oi(),hG(),tu(),l5="Expected a function",s5=Math.max,u5=Math.min,Z0=mG});function gG(e,t,n){for(var o=-1,i=e==null?0:e.length;++o<i;)if(n(t,e[o]))return!0;return!1}var d5,vG=P(()=>{d5=gG});function yG(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var si,gf=P(()=>{si=yG});function bG(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var i=n==null?0:nu(n);return i<0&&(i=f5(o+i,0)),Hd(e,Pl(t,3),i)}var f5,G0,kG=P(()=>{Gg(),gu(),Rd(),f5=Math.max,G0=bG});function wG(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var i=o-1;return n!==void 0&&(i=nu(n),i=n<0?p5(o+i,0):h5(i,o-1)),Hd(e,Pl(t,3),i,!0)}var p5,h5,m5,xG=P(()=>{Gg(),gu(),Rd(),p5=Math.max,h5=Math.min,m5=wG});function SG(e,t){var n=-1,o=lu(e)?Array(e.length):[];return L0(e,function(i,l,s){o[++n]=t(i,l,s)}),o}var g5,EG=P(()=>{r5(),Ld(),g5=SG});function _G(e,t,n){return e>=y5(t,n)&&e<v5(t,n)}var v5,y5,b5,PG=P(()=>{v5=Math.max,y5=Math.min,b5=_G});function CG(e,t,n){return t=Fd(t),n===void 0?(n=t,t=0):n=Fd(n),e=ko(e),b5(e,t,n)}var X0,IG=P(()=>{PG(),V2(),tu(),X0=CG});function jG(e){return typeof e=="number"&&e==nu(e)}var Y0,k5=P(()=>{Rd(),Y0=jG}),w5,vu,OG=P(()=>{Yg(),pG(),w5=a5(function(e,t,n){Wd(e,n,t)}),vu=w5});function TG(e,t){var n={};return t=Pl(t,3),$0(e,function(o,i,l){Wd(n,i,t(o,i,l))}),n}var ui,x5=P(()=>{Yg(),e5(),gu(),ui=TG});function zG(e,t,n,o){if(!Vr(e))return e;t=af(t,e);for(var i=-1,l=t.length,s=l-1,u=e;u!=null&&++i<l;){var d=El(t[i]),f=n;if(d==="__proto__"||d==="constructor"||d==="prototype")return e;if(i!=s){var m=u[d];f=o?o(m,d,u):void 0,f===void 0&&(f=Vr(m)?m:au(t[i+1])?[]:{})}OS(u,d,f),u=u[d]}return e}var S5,DG=P(()=>{b$(),w0(),Kd(),oi(),fu(),S5=zG});function AG(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var E5,BG=P(()=>{E5=AG});function NG(e,t){if(e!==t){var n=e!==void 0,o=e===null,i=e===e,l=ri(e),s=t!==void 0,u=t===null,d=t===t,f=ri(t);if(!u&&!f&&!l&&e>t||l&&s&&d&&!u&&!f||o&&s&&d||!n&&d||!i)return 1;if(!o&&!l&&!f&&e<t||f&&n&&i&&!o&&!l||u&&n&&i||!s&&i||!d)return-1}return 0}var _5,FG=P(()=>{eu(),_5=NG});function RG(e,t,n){for(var o=-1,i=e.criteria,l=t.criteria,s=i.length,u=n.length;++o<s;){var d=_5(i[o],l[o]);if(d){if(o>=u)return d;var f=n[o];return d*(f=="desc"?-1:1)}}return e.index-t.index}var P5,MG=P(()=>{FG(),P5=RG});function UG(e,t,n){t.length?t=vl(t,function(l){return An(l)?function(s){return lf(s,l.length===1?l[0]:l)}:l}):t=[ru];var o=-1;t=vl(t,Xd(Pl));var i=g5(e,function(l,s,u){var d=vl(t,function(f){return f(l)});return{criteria:d,index:++o,value:l}});return E5(i,function(l,s){return P5(l,s,n)})}var C5,VG=P(()=>{Hg(),x0(),gu(),EG(),BG(),s0(),MG(),Md(),fr(),C5=UG});function HG(e,t,n,o){for(var i=n-1,l=e.length;++i<l;)if(o(e[i],t))return i;return-1}var I5,KG=P(()=>{I5=HG});function WG(e,t,n,o){var i=o?I5:Xg,l=-1,s=t.length,u=e;for(e===t&&(t=cS(t)),n&&(u=vl(e,Xd(n)));++l<s;)for(var d=0,f=t[l],m=n?n(f):f;(d=i(u,m,d,o))>-1;)u!==e&&Q0.call(u,d,1),Q0.call(e,d,1);return e}var j5,Q0,O5,qG=P(()=>{Hg(),ES(),KG(),s0(),e$(),j5=Array.prototype,Q0=j5.splice,O5=WG});function $G(e,t){return e&&e.length&&t&&t.length?O5(e,t):e}var T5,LG=P(()=>{qG(),T5=$G}),z5,D5,ZG=P(()=>{zS(),LG(),z5=Jg(T5),D5=z5}),A5,B5,GG=P(()=>{KL(),A5=I_("round"),B5=A5});function XG(e,t,n){return e==null?e:S5(e,t,n)}var Cl,J0=P(()=>{DG(),Cl=XG}),N5,F5,YG=P(()=>{ML(),VG(),zS(),P$(),N5=Jg(function(e,t){if(e==null)return[];var n=t.length;return n>1&&t0(e,t[0],t[1])?t=[]:n>2&&t0(t[0],t[1],t[2])&&(t=[t[0]]),C5(e,v_(t,1),[])}),F5=N5}),R5,M5,U5,QG=P(()=>{L_(),Qq(),R0(),R5=1/0,M5=li&&1/pf(new li([,-0]))[1]==R5?function(e){return new li(e)}:uS,U5=M5});function JG(e,t,n){var o=-1,i=_S,l=e.length,s=!0,u=[],d=u;if(n)s=!1,i=d5;else if(l>=V5){var f=t?null:U5(e);if(f)return pf(f);s=!1,i=N0,d=new B0}else d=t?[]:u;e:for(;++o<l;){var m=e[o],v=t?t(m):m;if(m=n||m!==0?m:0,s&&v===v){for(var g=d.length;g--;)if(d[g]===v)continue e;t&&d.push(v),u.push(m)}else i(d,v,n)||(d!==u&&d.push(v),u.push(m))}return u}var V5,H5,eX=P(()=>{oP(),h$(),vG(),iP(),QG(),R0(),V5=200,H5=JG});function tX(e){return e&&e.length?H5(e):[]}var ia,nX=P(()=>{eX(),ia=tX}),Ft=P(()=>{uf(),c5(),kG(),IG(),k5(),__(),gf(),x5(),a_(),GG(),nX()}),rX=He((e,t)=>{var n;t.exports=typeof queueMicrotask=="function"?queueMicrotask.bind(typeof window<"u"?window:$n):o=>(n||(n=Promise.resolve())).then(o).catch(i=>setTimeout(()=>{throw i},0))}),oX=He(e=>{var t=Symbol.for("react.element"),n=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),g=Symbol.iterator;function h(A){return A===null||typeof A!="object"?null:(A=g&&A[g]||A["@@iterator"],typeof A=="function"?A:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},y=Object.assign,k={};function x(A,N,oe){this.props=A,this.context=N,this.refs=k,this.updater=oe||b}x.prototype.isReactComponent={},x.prototype.setState=function(A,N){if(typeof A!="object"&&typeof A!="function"&&A!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,A,N,"setState")},x.prototype.forceUpdate=function(A){this.updater.enqueueForceUpdate(this,A,"forceUpdate")};function S(){}S.prototype=x.prototype;function _(A,N,oe){this.props=A,this.context=N,this.refs=k,this.updater=oe||b}var O=_.prototype=new S;O.constructor=_,y(O,x.prototype),O.isPureReactComponent=!0;var j=Array.isArray,z=Object.prototype.hasOwnProperty,V={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function B(A,N,oe){var le,ue={},te=null,Oe=null;if(N!=null)for(le in N.ref!==void 0&&(Oe=N.ref),N.key!==void 0&&(te=""+N.key),N)z.call(N,le)&&!W.hasOwnProperty(le)&&(ue[le]=N[le]);var me=arguments.length-2;if(me===1)ue.children=oe;else if(1<me){for(var Ie=Array(me),Ae=0;Ae<me;Ae++)Ie[Ae]=arguments[Ae+2];ue.children=Ie}if(A&&A.defaultProps)for(le in me=A.defaultProps,me)ue[le]===void 0&&(ue[le]=me[le]);return{$$typeof:t,type:A,key:te,ref:Oe,props:ue,_owner:V.current}}function Z(A,N){return{$$typeof:t,type:A.type,key:N,ref:A.ref,props:A.props,_owner:A._owner}}function re(A){return typeof A=="object"&&A!==null&&A.$$typeof===t}function D(A){var N={"=":"=0",":":"=2"};return"$"+A.replace(/[=:]/g,function(oe){return N[oe]})}var G=/\/+/g;function C(A,N){return typeof A=="object"&&A!==null&&A.key!=null?D(""+A.key):N.toString(36)}function Q(A,N,oe,le,ue){var te=typeof A;(te==="undefined"||te==="boolean")&&(A=null);var Oe=!1;if(A===null)Oe=!0;else switch(te){case"string":case"number":Oe=!0;break;case"object":switch(A.$$typeof){case t:case n:Oe=!0}}if(Oe)return Oe=A,ue=ue(Oe),A=le===""?"."+C(Oe,0):le,j(ue)?(oe="",A!=null&&(oe=A.replace(G,"$&/")+"/"),Q(ue,N,oe,"",function(Ae){return Ae})):ue!=null&&(re(ue)&&(ue=Z(ue,oe+(!ue.key||Oe&&Oe.key===ue.key?"":(""+ue.key).replace(G,"$&/")+"/")+A)),N.push(ue)),1;if(Oe=0,le=le===""?".":le+":",j(A))for(var me=0;me<A.length;me++){te=A[me];var Ie=le+C(te,me);Oe+=Q(te,N,oe,Ie,ue)}else if(Ie=h(A),typeof Ie=="function")for(A=Ie.call(A),me=0;!(te=A.next()).done;)te=te.value,Ie=le+C(te,me++),Oe+=Q(te,N,oe,Ie,ue);else if(te==="object")throw N=String(A),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(A).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return Oe}function xe(A,N,oe){if(A==null)return A;var le=[],ue=0;return Q(A,le,"","",function(te){return N.call(oe,te,ue++)}),le}function q(A){if(A._status===-1){var N=A._result;N=N(),N.then(function(oe){(A._status===0||A._status===-1)&&(A._status=1,A._result=oe)},function(oe){(A._status===0||A._status===-1)&&(A._status=2,A._result=oe)}),A._status===-1&&(A._status=0,A._result=N)}if(A._status===1)return A._result.default;throw A._result}var K={current:null},ee={transition:null},ge={ReactCurrentDispatcher:K,ReactCurrentBatchConfig:ee,ReactCurrentOwner:V};e.Children={map:xe,forEach:function(A,N,oe){xe(A,function(){N.apply(this,arguments)},oe)},count:function(A){var N=0;return xe(A,function(){N++}),N},toArray:function(A){return xe(A,function(N){return N})||[]},only:function(A){if(!re(A))throw Error("React.Children.only expected to receive a single React element child.");return A}},e.Component=x,e.Fragment=o,e.Profiler=l,e.PureComponent=_,e.StrictMode=i,e.Suspense=f,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ge,e.cloneElement=function(A,N,oe){if(A==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+A+".");var le=y({},A.props),ue=A.key,te=A.ref,Oe=A._owner;if(N!=null){if(N.ref!==void 0&&(te=N.ref,Oe=V.current),N.key!==void 0&&(ue=""+N.key),A.type&&A.type.defaultProps)var me=A.type.defaultProps;for(Ie in N)z.call(N,Ie)&&!W.hasOwnProperty(Ie)&&(le[Ie]=N[Ie]===void 0&&me!==void 0?me[Ie]:N[Ie])}var Ie=arguments.length-2;if(Ie===1)le.children=oe;else if(1<Ie){me=Array(Ie);for(var Ae=0;Ae<Ie;Ae++)me[Ae]=arguments[Ae+2];le.children=me}return{$$typeof:t,type:A.type,key:ue,ref:te,props:le,_owner:Oe}},e.createContext=function(A){return A={$$typeof:u,_currentValue:A,_currentValue2:A,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},A.Provider={$$typeof:s,_context:A},A.Consumer=A},e.createElement=B,e.createFactory=function(A){var N=B.bind(null,A);return N.type=A,N},e.createRef=function(){return{current:null}},e.forwardRef=function(A){return{$$typeof:d,render:A}},e.isValidElement=re,e.lazy=function(A){return{$$typeof:v,_payload:{_status:-1,_result:A},_init:q}},e.memo=function(A,N){return{$$typeof:m,type:A,compare:N===void 0?null:N}},e.startTransition=function(A){var N=ee.transition;ee.transition={};try{A()}finally{ee.transition=N}},e.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},e.useCallback=function(A,N){return K.current.useCallback(A,N)},e.useContext=function(A){return K.current.useContext(A)},e.useDebugValue=function(){},e.useDeferredValue=function(A){return K.current.useDeferredValue(A)},e.useEffect=function(A,N){return K.current.useEffect(A,N)},e.useId=function(){return K.current.useId()},e.useImperativeHandle=function(A,N,oe){return K.current.useImperativeHandle(A,N,oe)},e.useInsertionEffect=function(A,N){return K.current.useInsertionEffect(A,N)},e.useLayoutEffect=function(A,N){return K.current.useLayoutEffect(A,N)},e.useMemo=function(A,N){return K.current.useMemo(A,N)},e.useReducer=function(A,N,oe){return K.current.useReducer(A,N,oe)},e.useRef=function(A){return K.current.useRef(A)},e.useState=function(A){return K.current.useState(A)},e.useSyncExternalStore=function(A,N,oe){return K.current.useSyncExternalStore(A,N,oe)},e.useTransition=function(){return K.current.useTransition()},e.version="18.2.0"}),X=He((e,t)=>{t.exports=oX()}),aX=He(e=>{function t(K,ee){var ge=K.length;K.push(ee);e:for(;0<ge;){var A=ge-1>>>1,N=K[A];if(0<i(N,ee))K[A]=ee,K[ge]=N,ge=A;else break e}}function n(K){return K.length===0?null:K[0]}function o(K){if(K.length===0)return null;var ee=K[0],ge=K.pop();if(ge!==ee){K[0]=ge;e:for(var A=0,N=K.length,oe=N>>>1;A<oe;){var le=2*(A+1)-1,ue=K[le],te=le+1,Oe=K[te];if(0>i(ue,ge))te<N&&0>i(Oe,ue)?(K[A]=Oe,K[te]=ge,A=te):(K[A]=ue,K[le]=ge,A=le);else if(te<N&&0>i(Oe,ge))K[A]=Oe,K[te]=ge,A=te;else break e}}return ee}function i(K,ee){var ge=K.sortIndex-ee.sortIndex;return ge!==0?ge:K.id-ee.id}typeof performance=="object"&&typeof performance.now=="function"?(l=performance,e.unstable_now=function(){return l.now()}):(s=Date,u=s.now(),e.unstable_now=function(){return s.now()-u});var l,s,u,d=[],f=[],m=1,v=null,g=3,h=!1,b=!1,y=!1,k=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(K){for(var ee=n(f);ee!==null;){if(ee.callback===null)o(f);else if(ee.startTime<=K)o(f),ee.sortIndex=ee.expirationTime,t(d,ee);else break;ee=n(f)}}function O(K){if(y=!1,_(K),!b)if(n(d)!==null)b=!0,xe(j);else{var ee=n(f);ee!==null&&q(O,ee.startTime-K)}}function j(K,ee){b=!1,y&&(y=!1,x(W),W=-1),h=!0;var ge=g;try{for(_(ee),v=n(d);v!==null&&(!(v.expirationTime>ee)||K&&!re());){var A=v.callback;if(typeof A=="function"){v.callback=null,g=v.priorityLevel;var N=A(v.expirationTime<=ee);ee=e.unstable_now(),typeof N=="function"?v.callback=N:v===n(d)&&o(d),_(ee)}else o(d);v=n(d)}if(v!==null)var oe=!0;else{var le=n(f);le!==null&&q(O,le.startTime-ee),oe=!1}return oe}finally{v=null,g=ge,h=!1}}var z=!1,V=null,W=-1,B=5,Z=-1;function re(){return!(e.unstable_now()-Z<B)}function D(){if(V!==null){var K=e.unstable_now();Z=K;var ee=!0;try{ee=V(!0,K)}finally{ee?G():(z=!1,V=null)}}else z=!1}var G;typeof S=="function"?G=function(){S(D)}:typeof MessageChannel<"u"?(C=new MessageChannel,Q=C.port2,C.port1.onmessage=D,G=function(){Q.postMessage(null)}):G=function(){k(D,0)};var C,Q;function xe(K){V=K,z||(z=!0,G())}function q(K,ee){W=k(function(){K(e.unstable_now())},ee)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(K){K.callback=null},e.unstable_continueExecution=function(){b||h||(b=!0,xe(j))},e.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<K?Math.floor(1e3/K):5},e.unstable_getCurrentPriorityLevel=function(){return g},e.unstable_getFirstCallbackNode=function(){return n(d)},e.unstable_next=function(K){switch(g){case 1:case 2:case 3:var ee=3;break;default:ee=g}var ge=g;g=ee;try{return K()}finally{g=ge}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(K,ee){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ge=g;g=K;try{return ee()}finally{g=ge}},e.unstable_scheduleCallback=function(K,ee,ge){var A=e.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?A+ge:A):ge=A,K){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=ge+N,K={id:m++,callback:ee,priorityLevel:K,startTime:ge,expirationTime:N,sortIndex:-1},ge>A?(K.sortIndex=ge,t(f,K),n(d)===null&&K===n(f)&&(y?(x(W),W=-1):y=!0,q(O,ge-A))):(K.sortIndex=N,t(d,K),b||h||(b=!0,xe(j))),K},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(K){var ee=g;return function(){var ge=g;g=ee;try{return K.apply(this,arguments)}finally{g=ge}}}}),iX=He((e,t)=>{t.exports=aX()}),lX=He(e=>{var t=X(),n=iX();function o(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function s(r,a){u(r,a),u(r+"Capture",a)}function u(r,a){for(l[r]=a,r=0;r<a.length;r++)i.add(a[r])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},g={};function h(r){return f.call(g,r)?!0:f.call(v,r)?!1:m.test(r)?g[r]=!0:(v[r]=!0,!1)}function b(r,a,c,p){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return p?!1:c!==null?!c.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function y(r,a,c,p){if(a===null||typeof a>"u"||b(r,a,c,p))return!0;if(p)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function k(r,a,c,p,w,E,T){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=p,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=r,this.type=a,this.sanitizeURL=E,this.removeEmptyString=T}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){x[r]=new k(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];x[a]=new k(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){x[r]=new k(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){x[r]=new k(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){x[r]=new k(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){x[r]=new k(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){x[r]=new k(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){x[r]=new k(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){x[r]=new k(r,5,!1,r.toLowerCase(),null,!1,!1)});var S=/[\-:]([a-z])/g;function _(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(S,_);x[a]=new k(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!1,!1)}),x.xlinkHref=new k("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){x[r]=new k(r,1,!1,r.toLowerCase(),null,!0,!0)});function O(r,a,c,p){var w=x.hasOwnProperty(a)?x[a]:null;(w!==null?w.type!==0:p||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(y(a,c,w,p)&&(c=null),p||w===null?h(a)&&(c===null?r.removeAttribute(a):r.setAttribute(a,""+c)):w.mustUseProperty?r[w.propertyName]=c===null?w.type===3?!1:"":c:(a=w.attributeName,p=w.attributeNamespace,c===null?r.removeAttribute(a):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,p?r.setAttributeNS(p,a,c):r.setAttribute(a,c))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),V=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),B=Symbol.for("react.strict_mode"),Z=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),D=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),xe=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),K=Symbol.for("react.offscreen"),ee=Symbol.iterator;function ge(r){return r===null||typeof r!="object"?null:(r=ee&&r[ee]||r["@@iterator"],typeof r=="function"?r:null)}var A=Object.assign,N;function oe(r){if(N===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);N=a&&a[1]||""}return`
`+N+r}var le=!1;function ue(r,a){if(!r||le)return"";le=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(pe){var p=pe}Reflect.construct(r,[],a)}else{try{a.call()}catch(pe){p=pe}r.call(a.prototype)}else{try{throw Error()}catch(pe){p=pe}r()}}catch(pe){if(pe&&p&&typeof pe.stack=="string"){for(var w=pe.stack.split(`
`),E=p.stack.split(`
`),T=w.length-1,H=E.length-1;1<=T&&0<=H&&w[T]!==E[H];)H--;for(;1<=T&&0<=H;T--,H--)if(w[T]!==E[H]){if(T!==1||H!==1)do if(T--,H--,0>H||w[T]!==E[H]){var Y=`
`+w[T].replace(" at new "," at ");return r.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",r.displayName)),Y}while(1<=T&&0<=H);break}}}finally{le=!1,Error.prepareStackTrace=c}return(r=r?r.displayName||r.name:"")?oe(r):""}function te(r){switch(r.tag){case 5:return oe(r.type);case 16:return oe("Lazy");case 13:return oe("Suspense");case 19:return oe("SuspenseList");case 0:case 2:case 15:return r=ue(r.type,!1),r;case 11:return r=ue(r.type.render,!1),r;case 1:return r=ue(r.type,!0),r;default:return""}}function Oe(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case W:return"Fragment";case V:return"Portal";case Z:return"Profiler";case B:return"StrictMode";case C:return"Suspense";case Q:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case D:return(r.displayName||"Context")+".Consumer";case re:return(r._context.displayName||"Context")+".Provider";case G:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case xe:return a=r.displayName||null,a!==null?a:Oe(r.type)||"Memo";case q:a=r._payload,r=r._init;try{return Oe(r(a))}catch{}}return null}function me(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Oe(a);case 8:return a===B?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function Ie(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function Ae(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function We(r){var a=Ae(r)?"checked":"value",c=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),p=""+r[a];if(!r.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,E=c.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return w.call(this)},set:function(T){p=""+T,E.call(this,T)}}),Object.defineProperty(r,a,{enumerable:c.enumerable}),{getValue:function(){return p},setValue:function(T){p=""+T},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function Ve(r){r._valueTracker||(r._valueTracker=We(r))}function it(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var c=a.getValue(),p="";return r&&(p=Ae(r)?r.checked?"true":"false":r.value),r=p,r!==c?(a.setValue(r),!0):!1}function I(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function fe(r,a){var c=a.checked;return A({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??r._wrapperState.initialChecked})}function ce(r,a){var c=a.defaultValue==null?"":a.defaultValue,p=a.checked!=null?a.checked:a.defaultChecked;c=Ie(a.value!=null?a.value:c),r._wrapperState={initialChecked:p,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function U(r,a){a=a.checked,a!=null&&O(r,"checked",a,!1)}function R(r,a){U(r,a);var c=Ie(a.value),p=a.type;if(c!=null)p==="number"?(c===0&&r.value===""||r.value!=c)&&(r.value=""+c):r.value!==""+c&&(r.value=""+c);else if(p==="submit"||p==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?ve(r,a.type,c):a.hasOwnProperty("defaultValue")&&ve(r,a.type,Ie(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function ne(r,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var p=a.type;if(!(p!=="submit"&&p!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,c||a===r.value||(r.value=a),r.defaultValue=a}c=r.name,c!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,c!==""&&(r.name=c)}function ve(r,a,c){(a!=="number"||I(r.ownerDocument)!==r)&&(c==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+c&&(r.defaultValue=""+c))}var ke=Array.isArray;function ae(r,a,c,p){if(r=r.options,a){a={};for(var w=0;w<c.length;w++)a["$"+c[w]]=!0;for(c=0;c<r.length;c++)w=a.hasOwnProperty("$"+r[c].value),r[c].selected!==w&&(r[c].selected=w),w&&p&&(r[c].defaultSelected=!0)}else{for(c=""+Ie(c),a=null,w=0;w<r.length;w++){if(r[w].value===c){r[w].selected=!0,p&&(r[w].defaultSelected=!0);return}a!==null||r[w].disabled||(a=r[w])}a!==null&&(a.selected=!0)}}function Se(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(o(91));return A({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function ye(r,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(o(92));if(ke(c)){if(1<c.length)throw Error(o(93));c=c[0]}a=c}a==null&&(a=""),c=a}r._wrapperState={initialValue:Ie(c)}}function we(r,a){var c=Ie(a.value),p=Ie(a.defaultValue);c!=null&&(c=""+c,c!==r.value&&(r.value=c),a.defaultValue==null&&r.defaultValue!==c&&(r.defaultValue=c)),p!=null&&(r.defaultValue=""+p)}function Ue(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function ot(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ze(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?ot(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var tn,Ba=function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,p,w){MSApp.execUnsafeLocalFunction(function(){return r(a,c,p,w)})}:r}(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(tn=tn||document.createElement("div"),tn.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=tn.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function cn(r,a){if(a){var c=r.firstChild;if(c&&c===r.lastChild&&c.nodeType===3){c.nodeValue=a;return}}r.textContent=a}var Or={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Et=["Webkit","ms","Moz","O"];Object.keys(Or).forEach(function(r){Et.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),Or[a]=Or[r]})});function el(r,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||Or.hasOwnProperty(r)&&Or[r]?(""+a).trim():a+"px"}function Ps(r,a){r=r.style;for(var c in a)if(a.hasOwnProperty(c)){var p=c.indexOf("--")===0,w=el(c,a[c],p);c==="float"&&(c="cssFloat"),p?r.setProperty(c,w):r[c]=w}}var Tr=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Cs(r,a){if(a){if(Tr[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(o(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(o(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(o(61))}if(a.style!=null&&typeof a.style!="object")throw Error(o(62))}}function Zc(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Gc=null;function Xc(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,nr=null,zr=null;function xH(r){if(r=vd(r)){if(typeof Is!="function")throw Error(o(280));var a=r.stateNode;a&&(a=Lm(a),Is(r.stateNode,r.type,a))}}function SH(r){nr?zr?zr.push(r):zr=[r]:nr=r}function EH(){if(nr){var r=nr,a=zr;if(zr=nr=null,xH(r),a)for(r=0;r<a.length;r++)xH(a[r])}}function _H(r,a){return r(a)}function PH(){}var Sw=!1;function CH(r,a,c){if(Sw)return r(a,c);Sw=!0;try{return _H(r,a,c)}finally{Sw=!1,(nr!==null||zr!==null)&&(PH(),EH())}}function Yc(r,a){var c=r.stateNode;if(c===null)return null;var p=Lm(c);if(p===null)return null;c=p[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(r=r.type,p=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!p;break e;default:r=!1}if(r)return null;if(c&&typeof c!="function")throw Error(o(231,a,typeof c));return c}var Ew=!1;if(d)try{js={},Object.defineProperty(js,"passive",{get:function(){Ew=!0}}),window.addEventListener("test",js,js),window.removeEventListener("test",js,js)}catch{Ew=!1}var js;function Sae(r,a,c,p,w,E,T,H,Y){var pe=Array.prototype.slice.call(arguments,3);try{a.apply(c,pe)}catch(_e){this.onError(_e)}}var Qc=!1,xm=null,Sm=!1,_w=null,Eae={onError:function(r){Qc=!0,xm=r}};function _ae(r,a,c,p,w,E,T,H,Y){Qc=!1,xm=null,Sae.apply(Eae,arguments)}function Pae(r,a,c,p,w,E,T,H,Y){if(_ae.apply(this,arguments),Qc){if(Qc){var pe=xm;Qc=!1,xm=null}else throw Error(o(198));Sm||(Sm=!0,_w=pe)}}function tl(r){var a=r,c=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,a.flags&4098&&(c=a.return),r=a.return;while(r)}return a.tag===3?c:null}function IH(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function jH(r){if(tl(r)!==r)throw Error(o(188))}function Cae(r){var a=r.alternate;if(!a){if(a=tl(r),a===null)throw Error(o(188));return a!==r?null:r}for(var c=r,p=a;;){var w=c.return;if(w===null)break;var E=w.alternate;if(E===null){if(p=w.return,p!==null){c=p;continue}break}if(w.child===E.child){for(E=w.child;E;){if(E===c)return jH(w),r;if(E===p)return jH(w),a;E=E.sibling}throw Error(o(188))}if(c.return!==p.return)c=w,p=E;else{for(var T=!1,H=w.child;H;){if(H===c){T=!0,c=w,p=E;break}if(H===p){T=!0,p=w,c=E;break}H=H.sibling}if(!T){for(H=E.child;H;){if(H===c){T=!0,c=E,p=w;break}if(H===p){T=!0,p=E,c=w;break}H=H.sibling}if(!T)throw Error(o(189))}}if(c.alternate!==p)throw Error(o(190))}if(c.tag!==3)throw Error(o(188));return c.stateNode.current===c?r:a}function OH(r){return r=Cae(r),r!==null?TH(r):null}function TH(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=TH(r);if(a!==null)return a;r=r.sibling}return null}var zH=n.unstable_scheduleCallback,DH=n.unstable_cancelCallback,Iae=n.unstable_shouldYield,jae=n.unstable_requestPaint,Tt=n.unstable_now,Oae=n.unstable_getCurrentPriorityLevel,Pw=n.unstable_ImmediatePriority,AH=n.unstable_UserBlockingPriority,Em=n.unstable_NormalPriority,Tae=n.unstable_LowPriority,BH=n.unstable_IdlePriority,_m=null,ho=null;function zae(r){if(ho&&typeof ho.onCommitFiberRoot=="function")try{ho.onCommitFiberRoot(_m,r,void 0,(r.current.flags&128)===128)}catch{}}var Dr=Math.clz32?Math.clz32:Bae,Dae=Math.log,Aae=Math.LN2;function Bae(r){return r>>>=0,r===0?32:31-(Dae(r)/Aae|0)|0}var Pm=64,Cm=4194304;function Jc(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Im(r,a){var c=r.pendingLanes;if(c===0)return 0;var p=0,w=r.suspendedLanes,E=r.pingedLanes,T=c&268435455;if(T!==0){var H=T&~w;H!==0?p=Jc(H):(E&=T,E!==0&&(p=Jc(E)))}else T=c&~w,T!==0?p=Jc(T):E!==0&&(p=Jc(E));if(p===0)return 0;if(a!==0&&a!==p&&!(a&w)&&(w=p&-p,E=a&-a,w>=E||w===16&&(E&4194240)!==0))return a;if(p&4&&(p|=c&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=p;0<a;)c=31-Dr(a),w=1<<c,p|=r[c],a&=~w;return p}function Nae(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Fae(r,a){for(var c=r.suspendedLanes,p=r.pingedLanes,w=r.expirationTimes,E=r.pendingLanes;0<E;){var T=31-Dr(E),H=1<<T,Y=w[T];Y===-1?(!(H&c)||H&p)&&(w[T]=Nae(H,a)):Y<=a&&(r.expiredLanes|=H),E&=~H}}function Cw(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function NH(){var r=Pm;return Pm<<=1,!(Pm&4194240)&&(Pm=64),r}function Iw(r){for(var a=[],c=0;31>c;c++)a.push(r);return a}function ed(r,a,c){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-Dr(a),r[a]=c}function Rae(r,a){var c=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var p=r.eventTimes;for(r=r.expirationTimes;0<c;){var w=31-Dr(c),E=1<<w;a[w]=0,p[w]=-1,r[w]=-1,c&=~E}}function jw(r,a){var c=r.entangledLanes|=a;for(r=r.entanglements;c;){var p=31-Dr(c),w=1<<p;w&a|r[p]&a&&(r[p]|=a),c&=~w}}var ut=0;function FH(r){return r&=-r,1<r?4<r?r&268435455?16:536870912:4:1}var RH,Ow,MH,UH,VH,Tw=!1,jm=[],Na=null,Fa=null,Ra=null,td=new Map,nd=new Map,Ma=[],Mae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function HH(r,a){switch(r){case"focusin":case"focusout":Na=null;break;case"dragenter":case"dragleave":Fa=null;break;case"mouseover":case"mouseout":Ra=null;break;case"pointerover":case"pointerout":td.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":nd.delete(a.pointerId)}}function rd(r,a,c,p,w,E){return r===null||r.nativeEvent!==E?(r={blockedOn:a,domEventName:c,eventSystemFlags:p,nativeEvent:E,targetContainers:[w]},a!==null&&(a=vd(a),a!==null&&Ow(a)),r):(r.eventSystemFlags|=p,a=r.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),r)}function Uae(r,a,c,p,w){switch(a){case"focusin":return Na=rd(Na,r,a,c,p,w),!0;case"dragenter":return Fa=rd(Fa,r,a,c,p,w),!0;case"mouseover":return Ra=rd(Ra,r,a,c,p,w),!0;case"pointerover":var E=w.pointerId;return td.set(E,rd(td.get(E)||null,r,a,c,p,w)),!0;case"gotpointercapture":return E=w.pointerId,nd.set(E,rd(nd.get(E)||null,r,a,c,p,w)),!0}return!1}function KH(r){var a=nl(r.target);if(a!==null){var c=tl(a);if(c!==null){if(a=c.tag,a===13){if(a=IH(c),a!==null){r.blockedOn=a,VH(r.priority,function(){MH(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){r.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Om(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var c=Dw(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(c===null){c=r.nativeEvent;var p=new c.constructor(c.type,c);Gc=p,c.target.dispatchEvent(p),Gc=null}else return a=vd(c),a!==null&&Ow(a),r.blockedOn=c,!1;a.shift()}return!0}function WH(r,a,c){Om(r)&&c.delete(a)}function Vae(){Tw=!1,Na!==null&&Om(Na)&&(Na=null),Fa!==null&&Om(Fa)&&(Fa=null),Ra!==null&&Om(Ra)&&(Ra=null),td.forEach(WH),nd.forEach(WH)}function od(r,a){r.blockedOn===a&&(r.blockedOn=null,Tw||(Tw=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Vae)))}function ad(r){function a(w){return od(w,r)}if(0<jm.length){od(jm[0],r);for(var c=1;c<jm.length;c++){var p=jm[c];p.blockedOn===r&&(p.blockedOn=null)}}for(Na!==null&&od(Na,r),Fa!==null&&od(Fa,r),Ra!==null&&od(Ra,r),td.forEach(a),nd.forEach(a),c=0;c<Ma.length;c++)p=Ma[c],p.blockedOn===r&&(p.blockedOn=null);for(;0<Ma.length&&(c=Ma[0],c.blockedOn===null);)KH(c),c.blockedOn===null&&Ma.shift()}var Os=j.ReactCurrentBatchConfig,Tm=!0;function Hae(r,a,c,p){var w=ut,E=Os.transition;Os.transition=null;try{ut=1,zw(r,a,c,p)}finally{ut=w,Os.transition=E}}function Kae(r,a,c,p){var w=ut,E=Os.transition;Os.transition=null;try{ut=4,zw(r,a,c,p)}finally{ut=w,Os.transition=E}}function zw(r,a,c,p){if(Tm){var w=Dw(r,a,c,p);if(w===null)Zw(r,a,p,zm,c),HH(r,p);else if(Uae(w,r,a,c,p))p.stopPropagation();else if(HH(r,p),a&4&&-1<Mae.indexOf(r)){for(;w!==null;){var E=vd(w);if(E!==null&&RH(E),E=Dw(r,a,c,p),E===null&&Zw(r,a,p,zm,c),E===w)break;w=E}w!==null&&p.stopPropagation()}else Zw(r,a,p,null,c)}}var zm=null;function Dw(r,a,c,p){if(zm=null,r=Xc(p),r=nl(r),r!==null)if(a=tl(r),a===null)r=null;else if(c=a.tag,c===13){if(r=IH(a),r!==null)return r;r=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return zm=r,null}function qH(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Oae()){case Pw:return 1;case AH:return 4;case Em:case Tae:return 16;case BH:return 536870912;default:return 16}default:return 16}}var Ua=null,Aw=null,Dm=null;function $H(){if(Dm)return Dm;var r,a=Aw,c=a.length,p,w="value"in Ua?Ua.value:Ua.textContent,E=w.length;for(r=0;r<c&&a[r]===w[r];r++);var T=c-r;for(p=1;p<=T&&a[c-p]===w[E-p];p++);return Dm=w.slice(r,1<p?1-p:void 0)}function Am(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Bm(){return!0}function LH(){return!1}function Hn(r){function a(c,p,w,E,T){this._reactName=c,this._targetInst=w,this.type=p,this.nativeEvent=E,this.target=T,this.currentTarget=null;for(var H in r)r.hasOwnProperty(H)&&(c=r[H],this[H]=c?c(E):E[H]);return this.isDefaultPrevented=(E.defaultPrevented!=null?E.defaultPrevented:E.returnValue===!1)?Bm:LH,this.isPropagationStopped=LH,this}return A(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Bm)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Bm)},persist:function(){},isPersistent:Bm}),a}var Ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bw=Hn(Ts),id=A({},Ts,{view:0,detail:0}),Wae=Hn(id),Nw,Fw,ld,Nm=A({},id,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mw,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==ld&&(ld&&r.type==="mousemove"?(Nw=r.screenX-ld.screenX,Fw=r.screenY-ld.screenY):Fw=Nw=0,ld=r),Nw)},movementY:function(r){return"movementY"in r?r.movementY:Fw}}),ZH=Hn(Nm),qae=A({},Nm,{dataTransfer:0}),$ae=Hn(qae),Lae=A({},id,{relatedTarget:0}),Rw=Hn(Lae),Zae=A({},Ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Gae=Hn(Zae),Xae=A({},Ts,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Yae=Hn(Xae),Qae=A({},Ts,{data:0}),GH=Hn(Qae),Jae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eie={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tie={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nie(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=tie[r])?!!a[r]:!1}function Mw(){return nie}var rie=A({},id,{key:function(r){if(r.key){var a=Jae[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=Am(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?eie[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mw,charCode:function(r){return r.type==="keypress"?Am(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Am(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),oie=Hn(rie),aie=A({},Nm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XH=Hn(aie),iie=A({},id,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mw}),lie=Hn(iie),sie=A({},Ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),uie=Hn(sie),cie=A({},Nm,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),die=Hn(cie),fie=[9,13,27,32],Uw=d&&"CompositionEvent"in window,sd=null;d&&"documentMode"in document&&(sd=document.documentMode);var pie=d&&"TextEvent"in window&&!sd,YH=d&&(!Uw||sd&&8<sd&&11>=sd),QH=" ",JH=!1;function eK(r,a){switch(r){case"keyup":return fie.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function tK(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var zs=!1;function hie(r,a){switch(r){case"compositionend":return tK(a);case"keypress":return a.which!==32?null:(JH=!0,QH);case"textInput":return r=a.data,r===QH&&JH?null:r;default:return null}}function mie(r,a){if(zs)return r==="compositionend"||!Uw&&eK(r,a)?(r=$H(),Dm=Aw=Ua=null,zs=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return YH&&a.locale!=="ko"?null:a.data;default:return null}}var gie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nK(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!gie[r.type]:a==="textarea"}function rK(r,a,c,p){SH(p),a=Wm(a,"onChange"),0<a.length&&(c=new Bw("onChange","change",null,c,p),r.push({event:c,listeners:a}))}var ud=null,cd=null;function vie(r){xK(r,0)}function Fm(r){var a=Fs(r);if(it(a))return r}function yie(r,a){if(r==="change")return a}var oK=!1;d&&(d?(Rm="oninput"in document,Rm||(Hw=document.createElement("div"),Hw.setAttribute("oninput","return;"),Rm=typeof Hw.oninput=="function"),Vw=Rm):Vw=!1,oK=Vw&&(!document.documentMode||9<document.documentMode));var Vw,Rm,Hw;function aK(){ud&&(ud.detachEvent("onpropertychange",iK),cd=ud=null)}function iK(r){if(r.propertyName==="value"&&Fm(cd)){var a=[];rK(a,cd,r,Xc(r)),CH(vie,a)}}function bie(r,a,c){r==="focusin"?(aK(),ud=a,cd=c,ud.attachEvent("onpropertychange",iK)):r==="focusout"&&aK()}function kie(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Fm(cd)}function wie(r,a){if(r==="click")return Fm(a)}function xie(r,a){if(r==="input"||r==="change")return Fm(a)}function Sie(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var Ar=typeof Object.is=="function"?Object.is:Sie;function dd(r,a){if(Ar(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var c=Object.keys(r),p=Object.keys(a);if(c.length!==p.length)return!1;for(p=0;p<c.length;p++){var w=c[p];if(!f.call(a,w)||!Ar(r[w],a[w]))return!1}return!0}function lK(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sK(r,a){var c=lK(r);r=0;for(var p;c;){if(c.nodeType===3){if(p=r+c.textContent.length,r<=a&&p>=a)return{node:c,offset:a-r};r=p}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=lK(c)}}function uK(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?uK(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function cK(){for(var r=window,a=I();a instanceof r.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)r=a.contentWindow;else break;a=I(r.document)}return a}function Kw(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function Eie(r){var a=cK(),c=r.focusedElem,p=r.selectionRange;if(a!==c&&c&&c.ownerDocument&&uK(c.ownerDocument.documentElement,c)){if(p!==null&&Kw(c)){if(a=p.start,r=p.end,r===void 0&&(r=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(r,c.value.length);else if(r=(a=c.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var w=c.textContent.length,E=Math.min(p.start,w);p=p.end===void 0?E:Math.min(p.end,w),!r.extend&&E>p&&(w=p,p=E,E=w),w=sK(c,E);var T=sK(c,p);w&&T&&(r.rangeCount!==1||r.anchorNode!==w.node||r.anchorOffset!==w.offset||r.focusNode!==T.node||r.focusOffset!==T.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),r.removeAllRanges(),E>p?(r.addRange(a),r.extend(T.node,T.offset)):(a.setEnd(T.node,T.offset),r.addRange(a)))}}for(a=[],r=c;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)r=a[c],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var _ie=d&&"documentMode"in document&&11>=document.documentMode,Ds=null,Ww=null,fd=null,qw=!1;function dK(r,a,c){var p=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;qw||Ds==null||Ds!==I(p)||(p=Ds,"selectionStart"in p&&Kw(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),fd&&dd(fd,p)||(fd=p,p=Wm(Ww,"onSelect"),0<p.length&&(a=new Bw("onSelect","select",null,a,c),r.push({event:a,listeners:p}),a.target=Ds)))}function Mm(r,a){var c={};return c[r.toLowerCase()]=a.toLowerCase(),c["Webkit"+r]="webkit"+a,c["Moz"+r]="moz"+a,c}var As={animationend:Mm("Animation","AnimationEnd"),animationiteration:Mm("Animation","AnimationIteration"),animationstart:Mm("Animation","AnimationStart"),transitionend:Mm("Transition","TransitionEnd")},$w={},fK={};d&&(fK=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Um(r){if($w[r])return $w[r];if(!As[r])return r;var a=As[r],c;for(c in a)if(a.hasOwnProperty(c)&&c in fK)return $w[r]=a[c];return r}var pK=Um("animationend"),hK=Um("animationiteration"),mK=Um("animationstart"),gK=Um("transitionend"),vK=new Map,yK="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Va(r,a){vK.set(r,a),s(a,[r])}for(Hm=0;Hm<yK.length;Hm++)Vm=yK[Hm],bK=Vm.toLowerCase(),kK=Vm[0].toUpperCase()+Vm.slice(1),Va(bK,"on"+kK);var Vm,bK,kK,Hm;Va(pK,"onAnimationEnd"),Va(hK,"onAnimationIteration"),Va(mK,"onAnimationStart"),Va("dblclick","onDoubleClick"),Va("focusin","onFocus"),Va("focusout","onBlur"),Va(gK,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Pie=new Set("cancel close invalid load scroll toggle".split(" ").concat(pd));function wK(r,a,c){var p=r.type||"unknown-event";r.currentTarget=c,Pae(p,a,void 0,r),r.currentTarget=null}function xK(r,a){a=(a&4)!==0;for(var c=0;c<r.length;c++){var p=r[c],w=p.event;p=p.listeners;e:{var E=void 0;if(a)for(var T=p.length-1;0<=T;T--){var H=p[T],Y=H.instance,pe=H.currentTarget;if(H=H.listener,Y!==E&&w.isPropagationStopped())break e;wK(w,H,pe),E=Y}else for(T=0;T<p.length;T++){if(H=p[T],Y=H.instance,pe=H.currentTarget,H=H.listener,Y!==E&&w.isPropagationStopped())break e;wK(w,H,pe),E=Y}}}if(Sm)throw r=_w,Sm=!1,_w=null,r}function yt(r,a){var c=a[ex];c===void 0&&(c=a[ex]=new Set);var p=r+"__bubble";c.has(p)||(SK(a,r,2,!1),c.add(p))}function Lw(r,a,c){var p=0;a&&(p|=4),SK(c,r,p,a)}var Km="_reactListening"+Math.random().toString(36).slice(2);function hd(r){if(!r[Km]){r[Km]=!0,i.forEach(function(c){c!=="selectionchange"&&(Pie.has(c)||Lw(c,!1,r),Lw(c,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Km]||(a[Km]=!0,Lw("selectionchange",!1,a))}}function SK(r,a,c,p){switch(qH(a)){case 1:var w=Hae;break;case 4:w=Kae;break;default:w=zw}c=w.bind(null,a,c,r),w=void 0,!Ew||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),p?w!==void 0?r.addEventListener(a,c,{capture:!0,passive:w}):r.addEventListener(a,c,!0):w!==void 0?r.addEventListener(a,c,{passive:w}):r.addEventListener(a,c,!1)}function Zw(r,a,c,p,w){var E=p;if(!(a&1)&&!(a&2)&&p!==null)e:for(;;){if(p===null)return;var T=p.tag;if(T===3||T===4){var H=p.stateNode.containerInfo;if(H===w||H.nodeType===8&&H.parentNode===w)break;if(T===4)for(T=p.return;T!==null;){var Y=T.tag;if((Y===3||Y===4)&&(Y=T.stateNode.containerInfo,Y===w||Y.nodeType===8&&Y.parentNode===w))return;T=T.return}for(;H!==null;){if(T=nl(H),T===null)return;if(Y=T.tag,Y===5||Y===6){p=E=T;continue e}H=H.parentNode}}p=p.return}CH(function(){var pe=E,_e=Xc(c),Pe=[];e:{var Ee=vK.get(r);if(Ee!==void 0){var Te=Bw,Be=r;switch(r){case"keypress":if(Am(c)===0)break e;case"keydown":case"keyup":Te=oie;break;case"focusin":Be="focus",Te=Rw;break;case"focusout":Be="blur",Te=Rw;break;case"beforeblur":case"afterblur":Te=Rw;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=ZH;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=$ae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=lie;break;case pK:case hK:case mK:Te=Gae;break;case gK:Te=uie;break;case"scroll":Te=Wae;break;case"wheel":Te=die;break;case"copy":case"cut":case"paste":Te=Yae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=XH}var Fe=(a&4)!==0,zt=!Fe&&r==="scroll",ie=Fe?Ee!==null?Ee+"Capture":null:Ee;Fe=[];for(var J=pe,se;J!==null;){se=J;var Ce=se.stateNode;if(se.tag===5&&Ce!==null&&(se=Ce,ie!==null&&(Ce=Yc(J,ie),Ce!=null&&Fe.push(md(J,Ce,se)))),zt)break;J=J.return}0<Fe.length&&(Ee=new Te(Ee,Be,null,c,_e),Pe.push({event:Ee,listeners:Fe}))}}if(!(a&7)){e:{if(Ee=r==="mouseover"||r==="pointerover",Te=r==="mouseout"||r==="pointerout",Ee&&c!==Gc&&(Be=c.relatedTarget||c.fromElement)&&(nl(Be)||Be[qo]))break e;if((Te||Ee)&&(Ee=_e.window===_e?_e:(Ee=_e.ownerDocument)?Ee.defaultView||Ee.parentWindow:window,Te?(Be=c.relatedTarget||c.toElement,Te=pe,Be=Be?nl(Be):null,Be!==null&&(zt=tl(Be),Be!==zt||Be.tag!==5&&Be.tag!==6)&&(Be=null)):(Te=null,Be=pe),Te!==Be)){if(Fe=ZH,Ce="onMouseLeave",ie="onMouseEnter",J="mouse",(r==="pointerout"||r==="pointerover")&&(Fe=XH,Ce="onPointerLeave",ie="onPointerEnter",J="pointer"),zt=Te==null?Ee:Fs(Te),se=Be==null?Ee:Fs(Be),Ee=new Fe(Ce,J+"leave",Te,c,_e),Ee.target=zt,Ee.relatedTarget=se,Ce=null,nl(_e)===pe&&(Fe=new Fe(ie,J+"enter",Be,c,_e),Fe.target=se,Fe.relatedTarget=zt,Ce=Fe),zt=Ce,Te&&Be)t:{for(Fe=Te,ie=Be,J=0,se=Fe;se;se=Bs(se))J++;for(se=0,Ce=ie;Ce;Ce=Bs(Ce))se++;for(;0<J-se;)Fe=Bs(Fe),J--;for(;0<se-J;)ie=Bs(ie),se--;for(;J--;){if(Fe===ie||ie!==null&&Fe===ie.alternate)break t;Fe=Bs(Fe),ie=Bs(ie)}Fe=null}else Fe=null;Te!==null&&EK(Pe,Ee,Te,Fe,!1),Be!==null&&zt!==null&&EK(Pe,zt,Be,Fe,!0)}}e:{if(Ee=pe?Fs(pe):window,Te=Ee.nodeName&&Ee.nodeName.toLowerCase(),Te==="select"||Te==="input"&&Ee.type==="file")var Me=yie;else if(nK(Ee))if(oK)Me=xie;else{Me=kie;var qe=bie}else(Te=Ee.nodeName)&&Te.toLowerCase()==="input"&&(Ee.type==="checkbox"||Ee.type==="radio")&&(Me=wie);if(Me&&(Me=Me(r,pe))){rK(Pe,Me,c,_e);break e}qe&&qe(r,Ee,pe),r==="focusout"&&(qe=Ee._wrapperState)&&qe.controlled&&Ee.type==="number"&&ve(Ee,"number",Ee.value)}switch(qe=pe?Fs(pe):window,r){case"focusin":(nK(qe)||qe.contentEditable==="true")&&(Ds=qe,Ww=pe,fd=null);break;case"focusout":fd=Ww=Ds=null;break;case"mousedown":qw=!0;break;case"contextmenu":case"mouseup":case"dragend":qw=!1,dK(Pe,c,_e);break;case"selectionchange":if(_ie)break;case"keydown":case"keyup":dK(Pe,c,_e)}var $e;if(Uw)e:{switch(r){case"compositionstart":var Ge="onCompositionStart";break e;case"compositionend":Ge="onCompositionEnd";break e;case"compositionupdate":Ge="onCompositionUpdate";break e}Ge=void 0}else zs?eK(r,c)&&(Ge="onCompositionEnd"):r==="keydown"&&c.keyCode===229&&(Ge="onCompositionStart");Ge&&(YH&&c.locale!=="ko"&&(zs||Ge!=="onCompositionStart"?Ge==="onCompositionEnd"&&zs&&($e=$H()):(Ua=_e,Aw="value"in Ua?Ua.value:Ua.textContent,zs=!0)),qe=Wm(pe,Ge),0<qe.length&&(Ge=new GH(Ge,r,null,c,_e),Pe.push({event:Ge,listeners:qe}),$e?Ge.data=$e:($e=tK(c),$e!==null&&(Ge.data=$e)))),($e=pie?hie(r,c):mie(r,c))&&(pe=Wm(pe,"onBeforeInput"),0<pe.length&&(_e=new GH("onBeforeInput","beforeinput",null,c,_e),Pe.push({event:_e,listeners:pe}),_e.data=$e))}xK(Pe,a)})}function md(r,a,c){return{instance:r,listener:a,currentTarget:c}}function Wm(r,a){for(var c=a+"Capture",p=[];r!==null;){var w=r,E=w.stateNode;w.tag===5&&E!==null&&(w=E,E=Yc(r,c),E!=null&&p.unshift(md(r,E,w)),E=Yc(r,a),E!=null&&p.push(md(r,E,w))),r=r.return}return p}function Bs(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function EK(r,a,c,p,w){for(var E=a._reactName,T=[];c!==null&&c!==p;){var H=c,Y=H.alternate,pe=H.stateNode;if(Y!==null&&Y===p)break;H.tag===5&&pe!==null&&(H=pe,w?(Y=Yc(c,E),Y!=null&&T.unshift(md(c,Y,H))):w||(Y=Yc(c,E),Y!=null&&T.push(md(c,Y,H)))),c=c.return}T.length!==0&&r.push({event:a,listeners:T})}var Cie=/\r\n?/g,Iie=/\u0000|\uFFFD/g;function _K(r){return(typeof r=="string"?r:""+r).replace(Cie,`
`).replace(Iie,"")}function qm(r,a,c){if(a=_K(a),_K(r)!==a&&c)throw Error(o(425))}function $m(){}var Gw=null,Xw=null;function Yw(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Qw=typeof setTimeout=="function"?setTimeout:void 0,jie=typeof clearTimeout=="function"?clearTimeout:void 0,PK=typeof Promise=="function"?Promise:void 0,Oie=typeof queueMicrotask=="function"?queueMicrotask:typeof PK<"u"?function(r){return PK.resolve(null).then(r).catch(Tie)}:Qw;function Tie(r){setTimeout(function(){throw r})}function Jw(r,a){var c=a,p=0;do{var w=c.nextSibling;if(r.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(p===0){r.removeChild(w),ad(a);return}p--}else c!=="$"&&c!=="$?"&&c!=="$!"||p++;c=w}while(c);ad(a)}function Ha(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function CK(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return r;a--}else c==="/$"&&a++}r=r.previousSibling}return null}var Ns=Math.random().toString(36).slice(2),mo="__reactFiber$"+Ns,gd="__reactProps$"+Ns,qo="__reactContainer$"+Ns,ex="__reactEvents$"+Ns,zie="__reactListeners$"+Ns,Die="__reactHandles$"+Ns;function nl(r){var a=r[mo];if(a)return a;for(var c=r.parentNode;c;){if(a=c[qo]||c[mo]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(r=CK(r);r!==null;){if(c=r[mo])return c;r=CK(r)}return a}r=c,c=r.parentNode}return null}function vd(r){return r=r[mo]||r[qo],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Fs(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(o(33))}function Lm(r){return r[gd]||null}var tx=[],Rs=-1;function Ka(r){return{current:r}}function bt(r){0>Rs||(r.current=tx[Rs],tx[Rs]=null,Rs--)}function mt(r,a){Rs++,tx[Rs]=r.current,r.current=a}var Wa={},dn=Ka(Wa),jn=Ka(!1),rl=Wa;function Ms(r,a){var c=r.type.contextTypes;if(!c)return Wa;var p=r.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===a)return p.__reactInternalMemoizedMaskedChildContext;var w={},E;for(E in c)w[E]=a[E];return p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=w),w}function On(r){return r=r.childContextTypes,r!=null}function Zm(){bt(jn),bt(dn)}function IK(r,a,c){if(dn.current!==Wa)throw Error(o(168));mt(dn,a),mt(jn,c)}function jK(r,a,c){var p=r.stateNode;if(a=a.childContextTypes,typeof p.getChildContext!="function")return c;p=p.getChildContext();for(var w in p)if(!(w in a))throw Error(o(108,me(r)||"Unknown",w));return A({},c,p)}function Gm(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Wa,rl=dn.current,mt(dn,r),mt(jn,jn.current),!0}function OK(r,a,c){var p=r.stateNode;if(!p)throw Error(o(169));c?(r=jK(r,a,rl),p.__reactInternalMemoizedMergedChildContext=r,bt(jn),bt(dn),mt(dn,r)):bt(jn),mt(jn,c)}var $o=null,Xm=!1,nx=!1;function TK(r){$o===null?$o=[r]:$o.push(r)}function Aie(r){Xm=!0,TK(r)}function qa(){if(!nx&&$o!==null){nx=!0;var r=0,a=ut;try{var c=$o;for(ut=1;r<c.length;r++){var p=c[r];do p=p(!0);while(p!==null)}$o=null,Xm=!1}catch(w){throw $o!==null&&($o=$o.slice(r+1)),zH(Pw,qa),w}finally{ut=a,nx=!1}}return null}var Us=[],Vs=0,Ym=null,Qm=0,rr=[],or=0,ol=null,Lo=1,Zo="";function al(r,a){Us[Vs++]=Qm,Us[Vs++]=Ym,Ym=r,Qm=a}function zK(r,a,c){rr[or++]=Lo,rr[or++]=Zo,rr[or++]=ol,ol=r;var p=Lo;r=Zo;var w=32-Dr(p)-1;p&=~(1<<w),c+=1;var E=32-Dr(a)+w;if(30<E){var T=w-w%5;E=(p&(1<<T)-1).toString(32),p>>=T,w-=T,Lo=1<<32-Dr(a)+w|c<<w|p,Zo=E+r}else Lo=1<<E|c<<w|p,Zo=r}function rx(r){r.return!==null&&(al(r,1),zK(r,1,0))}function ox(r){for(;r===Ym;)Ym=Us[--Vs],Us[Vs]=null,Qm=Us[--Vs],Us[Vs]=null;for(;r===ol;)ol=rr[--or],rr[or]=null,Zo=rr[--or],rr[or]=null,Lo=rr[--or],rr[or]=null}var Kn=null,Wn=null,wt=!1,Br=null;function DK(r,a){var c=sr(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=r,a=r.deletions,a===null?(r.deletions=[c],r.flags|=16):a.push(c)}function AK(r,a){switch(r.tag){case 5:var c=r.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Kn=r,Wn=Ha(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Kn=r,Wn=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=ol!==null?{id:Lo,overflow:Zo}:null,r.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=sr(18,null,null,0),c.stateNode=a,c.return=r,r.child=c,Kn=r,Wn=null,!0):!1;default:return!1}}function ax(r){return(r.mode&1)!==0&&(r.flags&128)===0}function ix(r){if(wt){var a=Wn;if(a){var c=a;if(!AK(r,a)){if(ax(r))throw Error(o(418));a=Ha(c.nextSibling);var p=Kn;a&&AK(r,a)?DK(p,c):(r.flags=r.flags&-4097|2,wt=!1,Kn=r)}}else{if(ax(r))throw Error(o(418));r.flags=r.flags&-4097|2,wt=!1,Kn=r}}}function BK(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Kn=r}function Jm(r){if(r!==Kn)return!1;if(!wt)return BK(r),wt=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!Yw(r.type,r.memoizedProps)),a&&(a=Wn)){if(ax(r))throw NK(),Error(o(418));for(;a;)DK(r,a),a=Ha(a.nextSibling)}if(BK(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(o(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var c=r.data;if(c==="/$"){if(a===0){Wn=Ha(r.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}r=r.nextSibling}Wn=null}}else Wn=Kn?Ha(r.stateNode.nextSibling):null;return!0}function NK(){for(var r=Wn;r;)r=Ha(r.nextSibling)}function Hs(){Wn=Kn=null,wt=!1}function lx(r){Br===null?Br=[r]:Br.push(r)}var Bie=j.ReactCurrentBatchConfig;function Nr(r,a){if(r&&r.defaultProps){a=A({},a),r=r.defaultProps;for(var c in r)a[c]===void 0&&(a[c]=r[c]);return a}return a}var eg=Ka(null),tg=null,Ks=null,sx=null;function ux(){sx=Ks=tg=null}function cx(r){var a=eg.current;bt(eg),r._currentValue=a}function dx(r,a,c){for(;r!==null;){var p=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,p!==null&&(p.childLanes|=a)):p!==null&&(p.childLanes&a)!==a&&(p.childLanes|=a),r===c)break;r=r.return}}function Ws(r,a){tg=r,sx=Ks=null,r=r.dependencies,r!==null&&r.firstContext!==null&&(r.lanes&a&&(Tn=!0),r.firstContext=null)}function ar(r){var a=r._currentValue;if(sx!==r)if(r={context:r,memoizedValue:a,next:null},Ks===null){if(tg===null)throw Error(o(308));Ks=r,tg.dependencies={lanes:0,firstContext:r}}else Ks=Ks.next=r;return a}var il=null;function fx(r){il===null?il=[r]:il.push(r)}function FK(r,a,c,p){var w=a.interleaved;return w===null?(c.next=c,fx(a)):(c.next=w.next,w.next=c),a.interleaved=c,Go(r,p)}function Go(r,a){r.lanes|=a;var c=r.alternate;for(c!==null&&(c.lanes|=a),c=r,r=r.return;r!==null;)r.childLanes|=a,c=r.alternate,c!==null&&(c.childLanes|=a),c=r,r=r.return;return c.tag===3?c.stateNode:null}var $a=!1;function px(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function RK(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Xo(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function La(r,a,c){var p=r.updateQueue;if(p===null)return null;if(p=p.shared,at&2){var w=p.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),p.pending=a,Go(r,c)}return w=p.interleaved,w===null?(a.next=a,fx(p)):(a.next=w.next,w.next=a),p.interleaved=a,Go(r,c)}function ng(r,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,jw(r,c)}}function MK(r,a){var c=r.updateQueue,p=r.alternate;if(p!==null&&(p=p.updateQueue,c===p)){var w=null,E=null;if(c=c.firstBaseUpdate,c!==null){do{var T={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};E===null?w=E=T:E=E.next=T,c=c.next}while(c!==null);E===null?w=E=a:E=E.next=a}else w=E=a;c={baseState:p.baseState,firstBaseUpdate:w,lastBaseUpdate:E,shared:p.shared,effects:p.effects},r.updateQueue=c;return}r=c.lastBaseUpdate,r===null?c.firstBaseUpdate=a:r.next=a,c.lastBaseUpdate=a}function rg(r,a,c,p){var w=r.updateQueue;$a=!1;var E=w.firstBaseUpdate,T=w.lastBaseUpdate,H=w.shared.pending;if(H!==null){w.shared.pending=null;var Y=H,pe=Y.next;Y.next=null,T===null?E=pe:T.next=pe,T=Y;var _e=r.alternate;_e!==null&&(_e=_e.updateQueue,H=_e.lastBaseUpdate,H!==T&&(H===null?_e.firstBaseUpdate=pe:H.next=pe,_e.lastBaseUpdate=Y))}if(E!==null){var Pe=w.baseState;T=0,_e=pe=Y=null,H=E;do{var Ee=H.lane,Te=H.eventTime;if((p&Ee)===Ee){_e!==null&&(_e=_e.next={eventTime:Te,lane:0,tag:H.tag,payload:H.payload,callback:H.callback,next:null});e:{var Be=r,Fe=H;switch(Ee=a,Te=c,Fe.tag){case 1:if(Be=Fe.payload,typeof Be=="function"){Pe=Be.call(Te,Pe,Ee);break e}Pe=Be;break e;case 3:Be.flags=Be.flags&-65537|128;case 0:if(Be=Fe.payload,Ee=typeof Be=="function"?Be.call(Te,Pe,Ee):Be,Ee==null)break e;Pe=A({},Pe,Ee);break e;case 2:$a=!0}}H.callback!==null&&H.lane!==0&&(r.flags|=64,Ee=w.effects,Ee===null?w.effects=[H]:Ee.push(H))}else Te={eventTime:Te,lane:Ee,tag:H.tag,payload:H.payload,callback:H.callback,next:null},_e===null?(pe=_e=Te,Y=Pe):_e=_e.next=Te,T|=Ee;if(H=H.next,H===null){if(H=w.shared.pending,H===null)break;Ee=H,H=Ee.next,Ee.next=null,w.lastBaseUpdate=Ee,w.shared.pending=null}}while(!0);if(_e===null&&(Y=Pe),w.baseState=Y,w.firstBaseUpdate=pe,w.lastBaseUpdate=_e,a=w.shared.interleaved,a!==null){w=a;do T|=w.lane,w=w.next;while(w!==a)}else E===null&&(w.shared.lanes=0);ul|=T,r.lanes=T,r.memoizedState=Pe}}function UK(r,a,c){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var p=r[a],w=p.callback;if(w!==null){if(p.callback=null,p=c,typeof w!="function")throw Error(o(191,w));w.call(p)}}}var VK=new t.Component().refs;function hx(r,a,c,p){a=r.memoizedState,c=c(p,a),c=c==null?a:A({},a,c),r.memoizedState=c,r.lanes===0&&(r.updateQueue.baseState=c)}var og={isMounted:function(r){return(r=r._reactInternals)?tl(r)===r:!1},enqueueSetState:function(r,a,c){r=r._reactInternals;var p=Sn(),w=Ya(r),E=Xo(p,w);E.payload=a,c!=null&&(E.callback=c),a=La(r,E,w),a!==null&&(Mr(a,r,w,p),ng(a,r,w))},enqueueReplaceState:function(r,a,c){r=r._reactInternals;var p=Sn(),w=Ya(r),E=Xo(p,w);E.tag=1,E.payload=a,c!=null&&(E.callback=c),a=La(r,E,w),a!==null&&(Mr(a,r,w,p),ng(a,r,w))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var c=Sn(),p=Ya(r),w=Xo(c,p);w.tag=2,a!=null&&(w.callback=a),a=La(r,w,p),a!==null&&(Mr(a,r,p,c),ng(a,r,p))}};function HK(r,a,c,p,w,E,T){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(p,E,T):a.prototype&&a.prototype.isPureReactComponent?!dd(c,p)||!dd(w,E):!0}function KK(r,a,c){var p=!1,w=Wa,E=a.contextType;return typeof E=="object"&&E!==null?E=ar(E):(w=On(a)?rl:dn.current,p=a.contextTypes,E=(p=p!=null)?Ms(r,w):Wa),a=new a(c,E),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=og,r.stateNode=a,a._reactInternals=r,p&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=w,r.__reactInternalMemoizedMaskedChildContext=E),a}function WK(r,a,c,p){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,p),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,p),a.state!==r&&og.enqueueReplaceState(a,a.state,null)}function mx(r,a,c,p){var w=r.stateNode;w.props=c,w.state=r.memoizedState,w.refs=VK,px(r);var E=a.contextType;typeof E=="object"&&E!==null?w.context=ar(E):(E=On(a)?rl:dn.current,w.context=Ms(r,E)),w.state=r.memoizedState,E=a.getDerivedStateFromProps,typeof E=="function"&&(hx(r,a,E,c),w.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&og.enqueueReplaceState(w,w.state,null),rg(r,c,w,p),w.state=r.memoizedState),typeof w.componentDidMount=="function"&&(r.flags|=4194308)}function yd(r,a,c){if(r=c.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(o(309));var p=c.stateNode}if(!p)throw Error(o(147,r));var w=p,E=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===E?a.ref:(a=function(T){var H=w.refs;H===VK&&(H=w.refs={}),T===null?delete H[E]:H[E]=T},a._stringRef=E,a)}if(typeof r!="string")throw Error(o(284));if(!c._owner)throw Error(o(290,r))}return r}function ag(r,a){throw r=Object.prototype.toString.call(a),Error(o(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function qK(r){var a=r._init;return a(r._payload)}function $K(r){function a(ie,J){if(r){var se=ie.deletions;se===null?(ie.deletions=[J],ie.flags|=16):se.push(J)}}function c(ie,J){if(!r)return null;for(;J!==null;)a(ie,J),J=J.sibling;return null}function p(ie,J){for(ie=new Map;J!==null;)J.key!==null?ie.set(J.key,J):ie.set(J.index,J),J=J.sibling;return ie}function w(ie,J){return ie=Ja(ie,J),ie.index=0,ie.sibling=null,ie}function E(ie,J,se){return ie.index=se,r?(se=ie.alternate,se!==null?(se=se.index,se<J?(ie.flags|=2,J):se):(ie.flags|=2,J)):(ie.flags|=1048576,J)}function T(ie){return r&&ie.alternate===null&&(ie.flags|=2),ie}function H(ie,J,se,Ce){return J===null||J.tag!==6?(J=Yx(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Y(ie,J,se,Ce){var Me=se.type;return Me===W?_e(ie,J,se.props.children,Ce,se.key):J!==null&&(J.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&qK(Me)===J.type)?(Ce=w(J,se.props),Ce.ref=yd(ie,J,se),Ce.return=ie,Ce):(Ce=Eg(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=yd(ie,J,se),Ce.return=ie,Ce)}function pe(ie,J,se,Ce){return J===null||J.tag!==4||J.stateNode.containerInfo!==se.containerInfo||J.stateNode.implementation!==se.implementation?(J=Qx(se,ie.mode,Ce),J.return=ie,J):(J=w(J,se.children||[]),J.return=ie,J)}function _e(ie,J,se,Ce,Me){return J===null||J.tag!==7?(J=pl(se,ie.mode,Ce,Me),J.return=ie,J):(J=w(J,se),J.return=ie,J)}function Pe(ie,J,se){if(typeof J=="string"&&J!==""||typeof J=="number")return J=Yx(""+J,ie.mode,se),J.return=ie,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case z:return se=Eg(J.type,J.key,J.props,null,ie.mode,se),se.ref=yd(ie,null,J),se.return=ie,se;case V:return J=Qx(J,ie.mode,se),J.return=ie,J;case q:var Ce=J._init;return Pe(ie,Ce(J._payload),se)}if(ke(J)||ge(J))return J=pl(J,ie.mode,se,null),J.return=ie,J;ag(ie,J)}return null}function Ee(ie,J,se,Ce){var Me=J!==null?J.key:null;if(typeof se=="string"&&se!==""||typeof se=="number")return Me!==null?null:H(ie,J,""+se,Ce);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case z:return se.key===Me?Y(ie,J,se,Ce):null;case V:return se.key===Me?pe(ie,J,se,Ce):null;case q:return Me=se._init,Ee(ie,J,Me(se._payload),Ce)}if(ke(se)||ge(se))return Me!==null?null:_e(ie,J,se,Ce,null);ag(ie,se)}return null}function Te(ie,J,se,Ce,Me){if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number")return ie=ie.get(se)||null,H(J,ie,""+Ce,Me);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case z:return ie=ie.get(Ce.key===null?se:Ce.key)||null,Y(J,ie,Ce,Me);case V:return ie=ie.get(Ce.key===null?se:Ce.key)||null,pe(J,ie,Ce,Me);case q:var qe=Ce._init;return Te(ie,J,se,qe(Ce._payload),Me)}if(ke(Ce)||ge(Ce))return ie=ie.get(se)||null,_e(J,ie,Ce,Me,null);ag(J,Ce)}return null}function Be(ie,J,se,Ce){for(var Me=null,qe=null,$e=J,Ge=J=0,qt=null;$e!==null&&Ge<se.length;Ge++){$e.index>Ge?(qt=$e,$e=null):qt=$e.sibling;var lt=Ee(ie,$e,se[Ge],Ce);if(lt===null){$e===null&&($e=qt);break}r&&$e&&lt.alternate===null&&a(ie,$e),J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt,$e=qt}if(Ge===se.length)return c(ie,$e),wt&&al(ie,Ge),Me;if($e===null){for(;Ge<se.length;Ge++)$e=Pe(ie,se[Ge],Ce),$e!==null&&(J=E($e,J,Ge),qe===null?Me=$e:qe.sibling=$e,qe=$e);return wt&&al(ie,Ge),Me}for($e=p(ie,$e);Ge<se.length;Ge++)qt=Te($e,ie,Ge,se[Ge],Ce),qt!==null&&(r&&qt.alternate!==null&&$e.delete(qt.key===null?Ge:qt.key),J=E(qt,J,Ge),qe===null?Me=qt:qe.sibling=qt,qe=qt);return r&&$e.forEach(function(ei){return a(ie,ei)}),wt&&al(ie,Ge),Me}function Fe(ie,J,se,Ce){var Me=ge(se);if(typeof Me!="function")throw Error(o(150));if(se=Me.call(se),se==null)throw Error(o(151));for(var qe=Me=null,$e=J,Ge=J=0,qt=null,lt=se.next();$e!==null&&!lt.done;Ge++,lt=se.next()){$e.index>Ge?(qt=$e,$e=null):qt=$e.sibling;var ei=Ee(ie,$e,lt.value,Ce);if(ei===null){$e===null&&($e=qt);break}r&&$e&&ei.alternate===null&&a(ie,$e),J=E(ei,J,Ge),qe===null?Me=ei:qe.sibling=ei,qe=ei,$e=qt}if(lt.done)return c(ie,$e),wt&&al(ie,Ge),Me;if($e===null){for(;!lt.done;Ge++,lt=se.next())lt=Pe(ie,lt.value,Ce),lt!==null&&(J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt);return wt&&al(ie,Ge),Me}for($e=p(ie,$e);!lt.done;Ge++,lt=se.next())lt=Te($e,ie,Ge,lt.value,Ce),lt!==null&&(r&&lt.alternate!==null&&$e.delete(lt.key===null?Ge:lt.key),J=E(lt,J,Ge),qe===null?Me=lt:qe.sibling=lt,qe=lt);return r&&$e.forEach(function(hle){return a(ie,hle)}),wt&&al(ie,Ge),Me}function zt(ie,J,se,Ce){if(typeof se=="object"&&se!==null&&se.type===W&&se.key===null&&(se=se.props.children),typeof se=="object"&&se!==null){switch(se.$$typeof){case z:e:{for(var Me=se.key,qe=J;qe!==null;){if(qe.key===Me){if(Me=se.type,Me===W){if(qe.tag===7){c(ie,qe.sibling),J=w(qe,se.props.children),J.return=ie,ie=J;break e}}else if(qe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===q&&qK(Me)===qe.type){c(ie,qe.sibling),J=w(qe,se.props),J.ref=yd(ie,qe,se),J.return=ie,ie=J;break e}c(ie,qe);break}else a(ie,qe);qe=qe.sibling}se.type===W?(J=pl(se.props.children,ie.mode,Ce,se.key),J.return=ie,ie=J):(Ce=Eg(se.type,se.key,se.props,null,ie.mode,Ce),Ce.ref=yd(ie,J,se),Ce.return=ie,ie=Ce)}return T(ie);case V:e:{for(qe=se.key;J!==null;){if(J.key===qe)if(J.tag===4&&J.stateNode.containerInfo===se.containerInfo&&J.stateNode.implementation===se.implementation){c(ie,J.sibling),J=w(J,se.children||[]),J.return=ie,ie=J;break e}else{c(ie,J);break}else a(ie,J);J=J.sibling}J=Qx(se,ie.mode,Ce),J.return=ie,ie=J}return T(ie);case q:return qe=se._init,zt(ie,J,qe(se._payload),Ce)}if(ke(se))return Be(ie,J,se,Ce);if(ge(se))return Fe(ie,J,se,Ce);ag(ie,se)}return typeof se=="string"&&se!==""||typeof se=="number"?(se=""+se,J!==null&&J.tag===6?(c(ie,J.sibling),J=w(J,se),J.return=ie,ie=J):(c(ie,J),J=Yx(se,ie.mode,Ce),J.return=ie,ie=J),T(ie)):c(ie,J)}return zt}var qs=$K(!0),LK=$K(!1),bd={},go=Ka(bd),kd=Ka(bd),wd=Ka(bd);function ll(r){if(r===bd)throw Error(o(174));return r}function gx(r,a){switch(mt(wd,a),mt(kd,r),mt(go,bd),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:Ze(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=Ze(a,r)}bt(go),mt(go,a)}function $s(){bt(go),bt(kd),bt(wd)}function ZK(r){ll(wd.current);var a=ll(go.current),c=Ze(a,r.type);a!==c&&(mt(kd,r),mt(go,c))}function vx(r){kd.current===r&&(bt(go),bt(kd))}var _t=Ka(0);function ig(r){for(var a=r;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if(a.flags&128)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var yx=[];function bx(){for(var r=0;r<yx.length;r++)yx[r]._workInProgressVersionPrimary=null;yx.length=0}var lg=j.ReactCurrentDispatcher,kx=j.ReactCurrentBatchConfig,sl=0,Pt=null,Mt=null,Kt=null,sg=!1,xd=!1,Sd=0,Nie=0;function fn(){throw Error(o(321))}function wx(r,a){if(a===null)return!1;for(var c=0;c<a.length&&c<r.length;c++)if(!Ar(r[c],a[c]))return!1;return!0}function xx(r,a,c,p,w,E){if(sl=E,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,lg.current=r===null||r.memoizedState===null?Uie:Vie,r=c(p,w),xd){E=0;do{if(xd=!1,Sd=0,25<=E)throw Error(o(301));E+=1,Kt=Mt=null,a.updateQueue=null,lg.current=Hie,r=c(p,w)}while(xd)}if(lg.current=dg,a=Mt!==null&&Mt.next!==null,sl=0,Kt=Mt=Pt=null,sg=!1,a)throw Error(o(300));return r}function Sx(){var r=Sd!==0;return Sd=0,r}function vo(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r,Kt}function ir(){if(Mt===null){var r=Pt.alternate;r=r!==null?r.memoizedState:null}else r=Mt.next;var a=Kt===null?Pt.memoizedState:Kt.next;if(a!==null)Kt=a,Mt=r;else{if(r===null)throw Error(o(310));Mt=r,r={memoizedState:Mt.memoizedState,baseState:Mt.baseState,baseQueue:Mt.baseQueue,queue:Mt.queue,next:null},Kt===null?Pt.memoizedState=Kt=r:Kt=Kt.next=r}return Kt}function Ed(r,a){return typeof a=="function"?a(r):a}function Ex(r){var a=ir(),c=a.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=Mt,w=p.baseQueue,E=c.pending;if(E!==null){if(w!==null){var T=w.next;w.next=E.next,E.next=T}p.baseQueue=w=E,c.pending=null}if(w!==null){E=w.next,p=p.baseState;var H=T=null,Y=null,pe=E;do{var _e=pe.lane;if((sl&_e)===_e)Y!==null&&(Y=Y.next={lane:0,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null}),p=pe.hasEagerState?pe.eagerState:r(p,pe.action);else{var Pe={lane:_e,action:pe.action,hasEagerState:pe.hasEagerState,eagerState:pe.eagerState,next:null};Y===null?(H=Y=Pe,T=p):Y=Y.next=Pe,Pt.lanes|=_e,ul|=_e}pe=pe.next}while(pe!==null&&pe!==E);Y===null?T=p:Y.next=H,Ar(p,a.memoizedState)||(Tn=!0),a.memoizedState=p,a.baseState=T,a.baseQueue=Y,c.lastRenderedState=p}if(r=c.interleaved,r!==null){w=r;do E=w.lane,Pt.lanes|=E,ul|=E,w=w.next;while(w!==r)}else w===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function _x(r){var a=ir(),c=a.queue;if(c===null)throw Error(o(311));c.lastRenderedReducer=r;var p=c.dispatch,w=c.pending,E=a.memoizedState;if(w!==null){c.pending=null;var T=w=w.next;do E=r(E,T.action),T=T.next;while(T!==w);Ar(E,a.memoizedState)||(Tn=!0),a.memoizedState=E,a.baseQueue===null&&(a.baseState=E),c.lastRenderedState=E}return[E,p]}function GK(){}function XK(r,a){var c=Pt,p=ir(),w=a(),E=!Ar(p.memoizedState,w);if(E&&(p.memoizedState=w,Tn=!0),p=p.queue,Px(JK.bind(null,c,p,r),[r]),p.getSnapshot!==a||E||Kt!==null&&Kt.memoizedState.tag&1){if(c.flags|=2048,_d(9,QK.bind(null,c,p,w,a),void 0,null),Wt===null)throw Error(o(349));sl&30||YK(c,a,w)}return w}function YK(r,a,c){r.flags|=16384,r={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.stores=[r]):(c=a.stores,c===null?a.stores=[r]:c.push(r))}function QK(r,a,c,p){a.value=c,a.getSnapshot=p,eW(a)&&tW(r)}function JK(r,a,c){return c(function(){eW(a)&&tW(r)})}function eW(r){var a=r.getSnapshot;r=r.value;try{var c=a();return!Ar(r,c)}catch{return!0}}function tW(r){var a=Go(r,1);a!==null&&Mr(a,r,1,-1)}function nW(r){var a=vo();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ed,lastRenderedState:r},a.queue=r,r=r.dispatch=Mie.bind(null,Pt,r),[a.memoizedState,r]}function _d(r,a,c,p){return r={tag:r,create:a,destroy:c,deps:p,next:null},a=Pt.updateQueue,a===null?(a={lastEffect:null,stores:null},Pt.updateQueue=a,a.lastEffect=r.next=r):(c=a.lastEffect,c===null?a.lastEffect=r.next=r:(p=c.next,c.next=r,r.next=p,a.lastEffect=r)),r}function rW(){return ir().memoizedState}function ug(r,a,c,p){var w=vo();Pt.flags|=r,w.memoizedState=_d(1|a,c,void 0,p===void 0?null:p)}function cg(r,a,c,p){var w=ir();p=p===void 0?null:p;var E=void 0;if(Mt!==null){var T=Mt.memoizedState;if(E=T.destroy,p!==null&&wx(p,T.deps)){w.memoizedState=_d(a,c,E,p);return}}Pt.flags|=r,w.memoizedState=_d(1|a,c,E,p)}function oW(r,a){return ug(8390656,8,r,a)}function Px(r,a){return cg(2048,8,r,a)}function aW(r,a){return cg(4,2,r,a)}function iW(r,a){return cg(4,4,r,a)}function lW(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function sW(r,a,c){return c=c!=null?c.concat([r]):null,cg(4,4,lW.bind(null,a,r),c)}function Cx(){}function uW(r,a){var c=ir();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&wx(a,p[1])?p[0]:(c.memoizedState=[r,a],r)}function cW(r,a){var c=ir();a=a===void 0?null:a;var p=c.memoizedState;return p!==null&&a!==null&&wx(a,p[1])?p[0]:(r=r(),c.memoizedState=[r,a],r)}function dW(r,a,c){return sl&21?(Ar(c,a)||(c=NH(),Pt.lanes|=c,ul|=c,r.baseState=!0),a):(r.baseState&&(r.baseState=!1,Tn=!0),r.memoizedState=c)}function Fie(r,a){var c=ut;ut=c!==0&&4>c?c:4,r(!0);var p=kx.transition;kx.transition={};try{r(!1),a()}finally{ut=c,kx.transition=p}}function fW(){return ir().memoizedState}function Rie(r,a,c){var p=Ya(r);if(c={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null},pW(r))hW(a,c);else if(c=FK(r,a,c,p),c!==null){var w=Sn();Mr(c,r,p,w),mW(c,a,p)}}function Mie(r,a,c){var p=Ya(r),w={lane:p,action:c,hasEagerState:!1,eagerState:null,next:null};if(pW(r))hW(a,w);else{var E=r.alternate;if(r.lanes===0&&(E===null||E.lanes===0)&&(E=a.lastRenderedReducer,E!==null))try{var T=a.lastRenderedState,H=E(T,c);if(w.hasEagerState=!0,w.eagerState=H,Ar(H,T)){var Y=a.interleaved;Y===null?(w.next=w,fx(a)):(w.next=Y.next,Y.next=w),a.interleaved=w;return}}catch{}finally{}c=FK(r,a,w,p),c!==null&&(w=Sn(),Mr(c,r,p,w),mW(c,a,p))}}function pW(r){var a=r.alternate;return r===Pt||a!==null&&a===Pt}function hW(r,a){xd=sg=!0;var c=r.pending;c===null?a.next=a:(a.next=c.next,c.next=a),r.pending=a}function mW(r,a,c){if(c&4194240){var p=a.lanes;p&=r.pendingLanes,c|=p,a.lanes=c,jw(r,c)}}var dg={readContext:ar,useCallback:fn,useContext:fn,useEffect:fn,useImperativeHandle:fn,useInsertionEffect:fn,useLayoutEffect:fn,useMemo:fn,useReducer:fn,useRef:fn,useState:fn,useDebugValue:fn,useDeferredValue:fn,useTransition:fn,useMutableSource:fn,useSyncExternalStore:fn,useId:fn,unstable_isNewReconciler:!1},Uie={readContext:ar,useCallback:function(r,a){return vo().memoizedState=[r,a===void 0?null:a],r},useContext:ar,useEffect:oW,useImperativeHandle:function(r,a,c){return c=c!=null?c.concat([r]):null,ug(4194308,4,lW.bind(null,a,r),c)},useLayoutEffect:function(r,a){return ug(4194308,4,r,a)},useInsertionEffect:function(r,a){return ug(4,2,r,a)},useMemo:function(r,a){var c=vo();return a=a===void 0?null:a,r=r(),c.memoizedState=[r,a],r},useReducer:function(r,a,c){var p=vo();return a=c!==void 0?c(a):a,p.memoizedState=p.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},p.queue=r,r=r.dispatch=Rie.bind(null,Pt,r),[p.memoizedState,r]},useRef:function(r){var a=vo();return r={current:r},a.memoizedState=r},useState:nW,useDebugValue:Cx,useDeferredValue:function(r){return vo().memoizedState=r},useTransition:function(){var r=nW(!1),a=r[0];return r=Fie.bind(null,r[1]),vo().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,c){var p=Pt,w=vo();if(wt){if(c===void 0)throw Error(o(407));c=c()}else{if(c=a(),Wt===null)throw Error(o(349));sl&30||YK(p,a,c)}w.memoizedState=c;var E={value:c,getSnapshot:a};return w.queue=E,oW(JK.bind(null,p,E,r),[r]),p.flags|=2048,_d(9,QK.bind(null,p,E,c,a),void 0,null),c},useId:function(){var r=vo(),a=Wt.identifierPrefix;if(wt){var c=Zo,p=Lo;c=(p&~(1<<32-Dr(p)-1)).toString(32)+c,a=":"+a+"R"+c,c=Sd++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=Nie++,a=":"+a+"r"+c.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},Vie={readContext:ar,useCallback:uW,useContext:ar,useEffect:Px,useImperativeHandle:sW,useInsertionEffect:aW,useLayoutEffect:iW,useMemo:cW,useReducer:Ex,useRef:rW,useState:function(){return Ex(Ed)},useDebugValue:Cx,useDeferredValue:function(r){var a=ir();return dW(a,Mt.memoizedState,r)},useTransition:function(){var r=Ex(Ed)[0],a=ir().memoizedState;return[r,a]},useMutableSource:GK,useSyncExternalStore:XK,useId:fW,unstable_isNewReconciler:!1},Hie={readContext:ar,useCallback:uW,useContext:ar,useEffect:Px,useImperativeHandle:sW,useInsertionEffect:aW,useLayoutEffect:iW,useMemo:cW,useReducer:_x,useRef:rW,useState:function(){return _x(Ed)},useDebugValue:Cx,useDeferredValue:function(r){var a=ir();return Mt===null?a.memoizedState=r:dW(a,Mt.memoizedState,r)},useTransition:function(){var r=_x(Ed)[0],a=ir().memoizedState;return[r,a]},useMutableSource:GK,useSyncExternalStore:XK,useId:fW,unstable_isNewReconciler:!1};function Ls(r,a){try{var c="",p=a;do c+=te(p),p=p.return;while(p);var w=c}catch(E){w=`
Error generating stack: `+E.message+`
`+E.stack}return{value:r,source:a,stack:w,digest:null}}function Ix(r,a,c){return{value:r,source:null,stack:c??null,digest:a??null}}function jx(r,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var Kie=typeof WeakMap=="function"?WeakMap:Map;function gW(r,a,c){c=Xo(-1,c),c.tag=3,c.payload={element:null};var p=a.value;return c.callback=function(){yg||(yg=!0,Kx=p),jx(r,a)},c}function vW(r,a,c){c=Xo(-1,c),c.tag=3;var p=r.type.getDerivedStateFromError;if(typeof p=="function"){var w=a.value;c.payload=function(){return p(w)},c.callback=function(){jx(r,a)}}var E=r.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(c.callback=function(){jx(r,a),typeof p!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var T=a.stack;this.componentDidCatch(a.value,{componentStack:T!==null?T:""})}),c}function yW(r,a,c){var p=r.pingCache;if(p===null){p=r.pingCache=new Kie;var w=new Set;p.set(a,w)}else w=p.get(a),w===void 0&&(w=new Set,p.set(a,w));w.has(c)||(w.add(c),r=rle.bind(null,r,a,c),a.then(r,r))}function bW(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function kW(r,a,c,p,w){return r.mode&1?(r.flags|=65536,r.lanes=w,r):(r===a?r.flags|=65536:(r.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=Xo(-1,1),a.tag=2,La(c,a,1))),c.lanes|=1),r)}var Wie=j.ReactCurrentOwner,Tn=!1;function xn(r,a,c,p){a.child=r===null?LK(a,null,c,p):qs(a,r.child,c,p)}function wW(r,a,c,p,w){c=c.render;var E=a.ref;return Ws(a,w),p=xx(r,a,c,p,E,w),c=Sx(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~w,Yo(r,a,w)):(wt&&c&&rx(a),a.flags|=1,xn(r,a,p,w),a.child)}function xW(r,a,c,p,w){if(r===null){var E=c.type;return typeof E=="function"&&!Xx(E)&&E.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=E,SW(r,a,E,p,w)):(r=Eg(c.type,null,p,a,a.mode,w),r.ref=a.ref,r.return=a,a.child=r)}if(E=r.child,!(r.lanes&w)){var T=E.memoizedProps;if(c=c.compare,c=c!==null?c:dd,c(T,p)&&r.ref===a.ref)return Yo(r,a,w)}return a.flags|=1,r=Ja(E,p),r.ref=a.ref,r.return=a,a.child=r}function SW(r,a,c,p,w){if(r!==null){var E=r.memoizedProps;if(dd(E,p)&&r.ref===a.ref)if(Tn=!1,a.pendingProps=p=E,(r.lanes&w)!==0)r.flags&131072&&(Tn=!0);else return a.lanes=r.lanes,Yo(r,a,w)}return Ox(r,a,c,p,w)}function EW(r,a,c){var p=a.pendingProps,w=p.children,E=r!==null?r.memoizedState:null;if(p.mode==="hidden")if(!(a.mode&1))a.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Gs,qn),qn|=c;else{if(!(c&1073741824))return r=E!==null?E.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,mt(Gs,qn),qn|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=E!==null?E.baseLanes:c,mt(Gs,qn),qn|=p}else E!==null?(p=E.baseLanes|c,a.memoizedState=null):p=c,mt(Gs,qn),qn|=p;return xn(r,a,w,c),a.child}function _W(r,a){var c=a.ref;(r===null&&c!==null||r!==null&&r.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Ox(r,a,c,p,w){var E=On(c)?rl:dn.current;return E=Ms(a,E),Ws(a,w),c=xx(r,a,c,p,E,w),p=Sx(),r!==null&&!Tn?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~w,Yo(r,a,w)):(wt&&p&&rx(a),a.flags|=1,xn(r,a,c,w),a.child)}function PW(r,a,c,p,w){if(On(c)){var E=!0;Gm(a)}else E=!1;if(Ws(a,w),a.stateNode===null)pg(r,a),KK(a,c,p),mx(a,c,p,w),p=!0;else if(r===null){var T=a.stateNode,H=a.memoizedProps;T.props=H;var Y=T.context,pe=c.contextType;typeof pe=="object"&&pe!==null?pe=ar(pe):(pe=On(c)?rl:dn.current,pe=Ms(a,pe));var _e=c.getDerivedStateFromProps,Pe=typeof _e=="function"||typeof T.getSnapshotBeforeUpdate=="function";Pe||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==p||Y!==pe)&&WK(a,T,p,pe),$a=!1;var Ee=a.memoizedState;T.state=Ee,rg(a,p,T,w),Y=a.memoizedState,H!==p||Ee!==Y||jn.current||$a?(typeof _e=="function"&&(hx(a,c,_e,p),Y=a.memoizedState),(H=$a||HK(a,c,H,p,Ee,Y,pe))?(Pe||typeof T.UNSAFE_componentWillMount!="function"&&typeof T.componentWillMount!="function"||(typeof T.componentWillMount=="function"&&T.componentWillMount(),typeof T.UNSAFE_componentWillMount=="function"&&T.UNSAFE_componentWillMount()),typeof T.componentDidMount=="function"&&(a.flags|=4194308)):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=p,a.memoizedState=Y),T.props=p,T.state=Y,T.context=pe,p=H):(typeof T.componentDidMount=="function"&&(a.flags|=4194308),p=!1)}else{T=a.stateNode,RK(r,a),H=a.memoizedProps,pe=a.type===a.elementType?H:Nr(a.type,H),T.props=pe,Pe=a.pendingProps,Ee=T.context,Y=c.contextType,typeof Y=="object"&&Y!==null?Y=ar(Y):(Y=On(c)?rl:dn.current,Y=Ms(a,Y));var Te=c.getDerivedStateFromProps;(_e=typeof Te=="function"||typeof T.getSnapshotBeforeUpdate=="function")||typeof T.UNSAFE_componentWillReceiveProps!="function"&&typeof T.componentWillReceiveProps!="function"||(H!==Pe||Ee!==Y)&&WK(a,T,p,Y),$a=!1,Ee=a.memoizedState,T.state=Ee,rg(a,p,T,w);var Be=a.memoizedState;H!==Pe||Ee!==Be||jn.current||$a?(typeof Te=="function"&&(hx(a,c,Te,p),Be=a.memoizedState),(pe=$a||HK(a,c,pe,p,Ee,Be,Y)||!1)?(_e||typeof T.UNSAFE_componentWillUpdate!="function"&&typeof T.componentWillUpdate!="function"||(typeof T.componentWillUpdate=="function"&&T.componentWillUpdate(p,Be,Y),typeof T.UNSAFE_componentWillUpdate=="function"&&T.UNSAFE_componentWillUpdate(p,Be,Y)),typeof T.componentDidUpdate=="function"&&(a.flags|=4),typeof T.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof T.componentDidUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=1024),a.memoizedProps=p,a.memoizedState=Be),T.props=p,T.state=Be,T.context=Y,p=pe):(typeof T.componentDidUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=4),typeof T.getSnapshotBeforeUpdate!="function"||H===r.memoizedProps&&Ee===r.memoizedState||(a.flags|=1024),p=!1)}return Tx(r,a,c,p,E,w)}function Tx(r,a,c,p,w,E){_W(r,a);var T=(a.flags&128)!==0;if(!p&&!T)return w&&OK(a,c,!1),Yo(r,a,E);p=a.stateNode,Wie.current=a;var H=T&&typeof c.getDerivedStateFromError!="function"?null:p.render();return a.flags|=1,r!==null&&T?(a.child=qs(a,r.child,null,E),a.child=qs(a,null,H,E)):xn(r,a,H,E),a.memoizedState=p.state,w&&OK(a,c,!0),a.child}function CW(r){var a=r.stateNode;a.pendingContext?IK(r,a.pendingContext,a.pendingContext!==a.context):a.context&&IK(r,a.context,!1),gx(r,a.containerInfo)}function IW(r,a,c,p,w){return Hs(),lx(w),a.flags|=256,xn(r,a,c,p),a.child}var zx={dehydrated:null,treeContext:null,retryLane:0};function Dx(r){return{baseLanes:r,cachePool:null,transitions:null}}function jW(r,a,c){var p=a.pendingProps,w=_t.current,E=!1,T=(a.flags&128)!==0,H;if((H=T)||(H=r!==null&&r.memoizedState===null?!1:(w&2)!==0),H?(E=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(w|=1),mt(_t,w&1),r===null)return ix(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?(a.mode&1?r.data==="$!"?a.lanes=8:a.lanes=1073741824:a.lanes=1,null):(T=p.children,r=p.fallback,E?(p=a.mode,E=a.child,T={mode:"hidden",children:T},!(p&1)&&E!==null?(E.childLanes=0,E.pendingProps=T):E=_g(T,p,0,null),r=pl(r,p,c,null),E.return=a,r.return=a,E.sibling=r,a.child=E,a.child.memoizedState=Dx(c),a.memoizedState=zx,r):Ax(a,T));if(w=r.memoizedState,w!==null&&(H=w.dehydrated,H!==null))return qie(r,a,T,p,H,w,c);if(E){E=p.fallback,T=a.mode,w=r.child,H=w.sibling;var Y={mode:"hidden",children:p.children};return!(T&1)&&a.child!==w?(p=a.child,p.childLanes=0,p.pendingProps=Y,a.deletions=null):(p=Ja(w,Y),p.subtreeFlags=w.subtreeFlags&14680064),H!==null?E=Ja(H,E):(E=pl(E,T,c,null),E.flags|=2),E.return=a,p.return=a,p.sibling=E,a.child=p,p=E,E=a.child,T=r.child.memoizedState,T=T===null?Dx(c):{baseLanes:T.baseLanes|c,cachePool:null,transitions:T.transitions},E.memoizedState=T,E.childLanes=r.childLanes&~c,a.memoizedState=zx,p}return E=r.child,r=E.sibling,p=Ja(E,{mode:"visible",children:p.children}),!(a.mode&1)&&(p.lanes=c),p.return=a,p.sibling=null,r!==null&&(c=a.deletions,c===null?(a.deletions=[r],a.flags|=16):c.push(r)),a.child=p,a.memoizedState=null,p}function Ax(r,a){return a=_g({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function fg(r,a,c,p){return p!==null&&lx(p),qs(a,r.child,null,c),r=Ax(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function qie(r,a,c,p,w,E,T){if(c)return a.flags&256?(a.flags&=-257,p=Ix(Error(o(422))),fg(r,a,T,p)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(E=p.fallback,w=a.mode,p=_g({mode:"visible",children:p.children},w,0,null),E=pl(E,w,T,null),E.flags|=2,p.return=a,E.return=a,p.sibling=E,a.child=p,a.mode&1&&qs(a,r.child,null,T),a.child.memoizedState=Dx(T),a.memoizedState=zx,E);if(!(a.mode&1))return fg(r,a,T,null);if(w.data==="$!"){if(p=w.nextSibling&&w.nextSibling.dataset,p)var H=p.dgst;return p=H,E=Error(o(419)),p=Ix(E,p,void 0),fg(r,a,T,p)}if(H=(T&r.childLanes)!==0,Tn||H){if(p=Wt,p!==null){switch(T&-T){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=w&(p.suspendedLanes|T)?0:w,w!==0&&w!==E.retryLane&&(E.retryLane=w,Go(r,w),Mr(p,r,w,-1))}return Gx(),p=Ix(Error(o(421))),fg(r,a,T,p)}return w.data==="$?"?(a.flags|=128,a.child=r.child,a=ole.bind(null,r),w._reactRetry=a,null):(r=E.treeContext,Wn=Ha(w.nextSibling),Kn=a,wt=!0,Br=null,r!==null&&(rr[or++]=Lo,rr[or++]=Zo,rr[or++]=ol,Lo=r.id,Zo=r.overflow,ol=a),a=Ax(a,p.children),a.flags|=4096,a)}function OW(r,a,c){r.lanes|=a;var p=r.alternate;p!==null&&(p.lanes|=a),dx(r.return,a,c)}function Bx(r,a,c,p,w){var E=r.memoizedState;E===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:p,tail:c,tailMode:w}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=p,E.tail=c,E.tailMode=w)}function TW(r,a,c){var p=a.pendingProps,w=p.revealOrder,E=p.tail;if(xn(r,a,p.children,c),p=_t.current,p&2)p=p&1|2,a.flags|=128;else{if(r!==null&&r.flags&128)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&OW(r,c,a);else if(r.tag===19)OW(r,c,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}p&=1}if(mt(_t,p),!(a.mode&1))a.memoizedState=null;else switch(w){case"forwards":for(c=a.child,w=null;c!==null;)r=c.alternate,r!==null&&ig(r)===null&&(w=c),c=c.sibling;c=w,c===null?(w=a.child,a.child=null):(w=c.sibling,c.sibling=null),Bx(a,!1,w,c,E);break;case"backwards":for(c=null,w=a.child,a.child=null;w!==null;){if(r=w.alternate,r!==null&&ig(r)===null){a.child=w;break}r=w.sibling,w.sibling=c,c=w,w=r}Bx(a,!0,c,null,E);break;case"together":Bx(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function pg(r,a){!(a.mode&1)&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Yo(r,a,c){if(r!==null&&(a.dependencies=r.dependencies),ul|=a.lanes,!(c&a.childLanes))return null;if(r!==null&&a.child!==r.child)throw Error(o(153));if(a.child!==null){for(r=a.child,c=Ja(r,r.pendingProps),a.child=c,c.return=a;r.sibling!==null;)r=r.sibling,c=c.sibling=Ja(r,r.pendingProps),c.return=a;c.sibling=null}return a.child}function $ie(r,a,c){switch(a.tag){case 3:CW(a),Hs();break;case 5:ZK(a);break;case 1:On(a.type)&&Gm(a);break;case 4:gx(a,a.stateNode.containerInfo);break;case 10:var p=a.type._context,w=a.memoizedProps.value;mt(eg,p._currentValue),p._currentValue=w;break;case 13:if(p=a.memoizedState,p!==null)return p.dehydrated!==null?(mt(_t,_t.current&1),a.flags|=128,null):c&a.child.childLanes?jW(r,a,c):(mt(_t,_t.current&1),r=Yo(r,a,c),r!==null?r.sibling:null);mt(_t,_t.current&1);break;case 19:if(p=(c&a.childLanes)!==0,r.flags&128){if(p)return TW(r,a,c);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),mt(_t,_t.current),p)break;return null;case 22:case 23:return a.lanes=0,EW(r,a,c)}return Yo(r,a,c)}var zW,Nx,DW,AW;zW=function(r,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)r.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Nx=function(){},DW=function(r,a,c,p){var w=r.memoizedProps;if(w!==p){r=a.stateNode,ll(go.current);var E=null;switch(c){case"input":w=fe(r,w),p=fe(r,p),E=[];break;case"select":w=A({},w,{value:void 0}),p=A({},p,{value:void 0}),E=[];break;case"textarea":w=Se(r,w),p=Se(r,p),E=[];break;default:typeof w.onClick!="function"&&typeof p.onClick=="function"&&(r.onclick=$m)}Cs(c,p);var T;c=null;for(pe in w)if(!p.hasOwnProperty(pe)&&w.hasOwnProperty(pe)&&w[pe]!=null)if(pe==="style"){var H=w[pe];for(T in H)H.hasOwnProperty(T)&&(c||(c={}),c[T]="")}else pe!=="dangerouslySetInnerHTML"&&pe!=="children"&&pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&pe!=="autoFocus"&&(l.hasOwnProperty(pe)?E||(E=[]):(E=E||[]).push(pe,null));for(pe in p){var Y=p[pe];if(H=w!=null?w[pe]:void 0,p.hasOwnProperty(pe)&&Y!==H&&(Y!=null||H!=null))if(pe==="style")if(H){for(T in H)!H.hasOwnProperty(T)||Y&&Y.hasOwnProperty(T)||(c||(c={}),c[T]="");for(T in Y)Y.hasOwnProperty(T)&&H[T]!==Y[T]&&(c||(c={}),c[T]=Y[T])}else c||(E||(E=[]),E.push(pe,c)),c=Y;else pe==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,H=H?H.__html:void 0,Y!=null&&H!==Y&&(E=E||[]).push(pe,Y)):pe==="children"?typeof Y!="string"&&typeof Y!="number"||(E=E||[]).push(pe,""+Y):pe!=="suppressContentEditableWarning"&&pe!=="suppressHydrationWarning"&&(l.hasOwnProperty(pe)?(Y!=null&&pe==="onScroll"&&yt("scroll",r),E||H===Y||(E=[])):(E=E||[]).push(pe,Y))}c&&(E=E||[]).push("style",c);var pe=E;(a.updateQueue=pe)&&(a.flags|=4)}},AW=function(r,a,c,p){c!==p&&(a.flags|=4)};function Pd(r,a){if(!wt)switch(r.tailMode){case"hidden":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?r.tail=null:c.sibling=null;break;case"collapsed":c=r.tail;for(var p=null;c!==null;)c.alternate!==null&&(p=c),c=c.sibling;p===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:p.sibling=null}}function pn(r){var a=r.alternate!==null&&r.alternate.child===r.child,c=0,p=0;if(a)for(var w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags&14680064,p|=w.flags&14680064,w.return=r,w=w.sibling;else for(w=r.child;w!==null;)c|=w.lanes|w.childLanes,p|=w.subtreeFlags,p|=w.flags,w.return=r,w=w.sibling;return r.subtreeFlags|=p,r.childLanes=c,a}function Lie(r,a,c){var p=a.pendingProps;switch(ox(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pn(a),null;case 1:return On(a.type)&&Zm(),pn(a),null;case 3:return p=a.stateNode,$s(),bt(jn),bt(dn),bx(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(r===null||r.child===null)&&(Jm(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&!(a.flags&256)||(a.flags|=1024,Br!==null&&($x(Br),Br=null))),Nx(r,a),pn(a),null;case 5:vx(a);var w=ll(wd.current);if(c=a.type,r!==null&&a.stateNode!=null)DW(r,a,c,p,w),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!p){if(a.stateNode===null)throw Error(o(166));return pn(a),null}if(r=ll(go.current),Jm(a)){p=a.stateNode,c=a.type;var E=a.memoizedProps;switch(p[mo]=a,p[gd]=E,r=(a.mode&1)!==0,c){case"dialog":yt("cancel",p),yt("close",p);break;case"iframe":case"object":case"embed":yt("load",p);break;case"video":case"audio":for(w=0;w<pd.length;w++)yt(pd[w],p);break;case"source":yt("error",p);break;case"img":case"image":case"link":yt("error",p),yt("load",p);break;case"details":yt("toggle",p);break;case"input":ce(p,E),yt("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!E.multiple},yt("invalid",p);break;case"textarea":ye(p,E),yt("invalid",p)}Cs(c,E),w=null;for(var T in E)if(E.hasOwnProperty(T)){var H=E[T];T==="children"?typeof H=="string"?p.textContent!==H&&(E.suppressHydrationWarning!==!0&&qm(p.textContent,H,r),w=["children",H]):typeof H=="number"&&p.textContent!==""+H&&(E.suppressHydrationWarning!==!0&&qm(p.textContent,H,r),w=["children",""+H]):l.hasOwnProperty(T)&&H!=null&&T==="onScroll"&&yt("scroll",p)}switch(c){case"input":Ve(p),ne(p,E,!0);break;case"textarea":Ve(p),Ue(p);break;case"select":case"option":break;default:typeof E.onClick=="function"&&(p.onclick=$m)}p=w,a.updateQueue=p,p!==null&&(a.flags|=4)}else{T=w.nodeType===9?w:w.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=ot(c)),r==="http://www.w3.org/1999/xhtml"?c==="script"?(r=T.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof p.is=="string"?r=T.createElement(c,{is:p.is}):(r=T.createElement(c),c==="select"&&(T=r,p.multiple?T.multiple=!0:p.size&&(T.size=p.size))):r=T.createElementNS(r,c),r[mo]=a,r[gd]=p,zW(r,a,!1,!1),a.stateNode=r;e:{switch(T=Zc(c,p),c){case"dialog":yt("cancel",r),yt("close",r),w=p;break;case"iframe":case"object":case"embed":yt("load",r),w=p;break;case"video":case"audio":for(w=0;w<pd.length;w++)yt(pd[w],r);w=p;break;case"source":yt("error",r),w=p;break;case"img":case"image":case"link":yt("error",r),yt("load",r),w=p;break;case"details":yt("toggle",r),w=p;break;case"input":ce(r,p),w=fe(r,p),yt("invalid",r);break;case"option":w=p;break;case"select":r._wrapperState={wasMultiple:!!p.multiple},w=A({},p,{value:void 0}),yt("invalid",r);break;case"textarea":ye(r,p),w=Se(r,p),yt("invalid",r);break;default:w=p}Cs(c,w),H=w;for(E in H)if(H.hasOwnProperty(E)){var Y=H[E];E==="style"?Ps(r,Y):E==="dangerouslySetInnerHTML"?(Y=Y?Y.__html:void 0,Y!=null&&Ba(r,Y)):E==="children"?typeof Y=="string"?(c!=="textarea"||Y!=="")&&cn(r,Y):typeof Y=="number"&&cn(r,""+Y):E!=="suppressContentEditableWarning"&&E!=="suppressHydrationWarning"&&E!=="autoFocus"&&(l.hasOwnProperty(E)?Y!=null&&E==="onScroll"&&yt("scroll",r):Y!=null&&O(r,E,Y,T))}switch(c){case"input":Ve(r),ne(r,p,!1);break;case"textarea":Ve(r),Ue(r);break;case"option":p.value!=null&&r.setAttribute("value",""+Ie(p.value));break;case"select":r.multiple=!!p.multiple,E=p.value,E!=null?ae(r,!!p.multiple,E,!1):p.defaultValue!=null&&ae(r,!!p.multiple,p.defaultValue,!0);break;default:typeof w.onClick=="function"&&(r.onclick=$m)}switch(c){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return pn(a),null;case 6:if(r&&a.stateNode!=null)AW(r,a,r.memoizedProps,p);else{if(typeof p!="string"&&a.stateNode===null)throw Error(o(166));if(c=ll(wd.current),ll(go.current),Jm(a)){if(p=a.stateNode,c=a.memoizedProps,p[mo]=a,(E=p.nodeValue!==c)&&(r=Kn,r!==null))switch(r.tag){case 3:qm(p.nodeValue,c,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&qm(p.nodeValue,c,(r.mode&1)!==0)}E&&(a.flags|=4)}else p=(c.nodeType===9?c:c.ownerDocument).createTextNode(p),p[mo]=a,a.stateNode=p}return pn(a),null;case 13:if(bt(_t),p=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(wt&&Wn!==null&&a.mode&1&&!(a.flags&128))NK(),Hs(),a.flags|=98560,E=!1;else if(E=Jm(a),p!==null&&p.dehydrated!==null){if(r===null){if(!E)throw Error(o(318));if(E=a.memoizedState,E=E!==null?E.dehydrated:null,!E)throw Error(o(317));E[mo]=a}else Hs(),!(a.flags&128)&&(a.memoizedState=null),a.flags|=4;pn(a),E=!1}else Br!==null&&($x(Br),Br=null),E=!0;if(!E)return a.flags&65536?a:null}return a.flags&128?(a.lanes=c,a):(p=p!==null,p!==(r!==null&&r.memoizedState!==null)&&p&&(a.child.flags|=8192,a.mode&1&&(r===null||_t.current&1?Ut===0&&(Ut=3):Gx())),a.updateQueue!==null&&(a.flags|=4),pn(a),null);case 4:return $s(),Nx(r,a),r===null&&hd(a.stateNode.containerInfo),pn(a),null;case 10:return cx(a.type._context),pn(a),null;case 17:return On(a.type)&&Zm(),pn(a),null;case 19:if(bt(_t),E=a.memoizedState,E===null)return pn(a),null;if(p=(a.flags&128)!==0,T=E.rendering,T===null)if(p)Pd(E,!1);else{if(Ut!==0||r!==null&&r.flags&128)for(r=a.child;r!==null;){if(T=ig(r),T!==null){for(a.flags|=128,Pd(E,!1),p=T.updateQueue,p!==null&&(a.updateQueue=p,a.flags|=4),a.subtreeFlags=0,p=c,c=a.child;c!==null;)E=c,r=p,E.flags&=14680066,T=E.alternate,T===null?(E.childLanes=0,E.lanes=r,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=T.childLanes,E.lanes=T.lanes,E.child=T.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=T.memoizedProps,E.memoizedState=T.memoizedState,E.updateQueue=T.updateQueue,E.type=T.type,r=T.dependencies,E.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),c=c.sibling;return mt(_t,_t.current&1|2),a.child}r=r.sibling}E.tail!==null&&Tt()>Xs&&(a.flags|=128,p=!0,Pd(E,!1),a.lanes=4194304)}else{if(!p)if(r=ig(T),r!==null){if(a.flags|=128,p=!0,c=r.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),Pd(E,!0),E.tail===null&&E.tailMode==="hidden"&&!T.alternate&&!wt)return pn(a),null}else 2*Tt()-E.renderingStartTime>Xs&&c!==1073741824&&(a.flags|=128,p=!0,Pd(E,!1),a.lanes=4194304);E.isBackwards?(T.sibling=a.child,a.child=T):(c=E.last,c!==null?c.sibling=T:a.child=T,E.last=T)}return E.tail!==null?(a=E.tail,E.rendering=a,E.tail=a.sibling,E.renderingStartTime=Tt(),a.sibling=null,c=_t.current,mt(_t,p?c&1|2:c&1),a):(pn(a),null);case 22:case 23:return Zx(),p=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==p&&(a.flags|=8192),p&&a.mode&1?qn&1073741824&&(pn(a),a.subtreeFlags&6&&(a.flags|=8192)):pn(a),null;case 24:return null;case 25:return null}throw Error(o(156,a.tag))}function Zie(r,a){switch(ox(a),a.tag){case 1:return On(a.type)&&Zm(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return $s(),bt(jn),bt(dn),bx(),r=a.flags,r&65536&&!(r&128)?(a.flags=r&-65537|128,a):null;case 5:return vx(a),null;case 13:if(bt(_t),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(o(340));Hs()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return bt(_t),null;case 4:return $s(),null;case 10:return cx(a.type._context),null;case 22:case 23:return Zx(),null;case 24:return null;default:return null}}var hg=!1,hn=!1,Gie=typeof WeakSet=="function"?WeakSet:Set,De=null;function Zs(r,a){var c=r.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(p){Ct(r,a,p)}else c.current=null}function BW(r,a,c){try{c()}catch(p){Ct(r,a,p)}}var NW=!1;function Xie(r,a){if(Gw=Tm,r=cK(),Kw(r)){if("selectionStart"in r)var c={start:r.selectionStart,end:r.selectionEnd};else e:{c=(c=r.ownerDocument)&&c.defaultView||window;var p=c.getSelection&&c.getSelection();if(p&&p.rangeCount!==0){c=p.anchorNode;var w=p.anchorOffset,E=p.focusNode;p=p.focusOffset;try{c.nodeType,E.nodeType}catch{c=null;break e}var T=0,H=-1,Y=-1,pe=0,_e=0,Pe=r,Ee=null;t:for(;;){for(var Te;Pe!==c||w!==0&&Pe.nodeType!==3||(H=T+w),Pe!==E||p!==0&&Pe.nodeType!==3||(Y=T+p),Pe.nodeType===3&&(T+=Pe.nodeValue.length),(Te=Pe.firstChild)!==null;)Ee=Pe,Pe=Te;for(;;){if(Pe===r)break t;if(Ee===c&&++pe===w&&(H=T),Ee===E&&++_e===p&&(Y=T),(Te=Pe.nextSibling)!==null)break;Pe=Ee,Ee=Pe.parentNode}Pe=Te}c=H===-1||Y===-1?null:{start:H,end:Y}}else c=null}c=c||{start:0,end:0}}else c=null;for(Xw={focusedElem:r,selectionRange:c},Tm=!1,De=a;De!==null;)if(a=De,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,De=r;else for(;De!==null;){a=De;try{var Be=a.alternate;if(a.flags&1024)switch(a.tag){case 0:case 11:case 15:break;case 1:if(Be!==null){var Fe=Be.memoizedProps,zt=Be.memoizedState,ie=a.stateNode,J=ie.getSnapshotBeforeUpdate(a.elementType===a.type?Fe:Nr(a.type,Fe),zt);ie.__reactInternalSnapshotBeforeUpdate=J}break;case 3:var se=a.stateNode.containerInfo;se.nodeType===1?se.textContent="":se.nodeType===9&&se.documentElement&&se.removeChild(se.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(Ce){Ct(a,a.return,Ce)}if(r=a.sibling,r!==null){r.return=a.return,De=r;break}De=a.return}return Be=NW,NW=!1,Be}function Cd(r,a,c){var p=a.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&r)===r){var E=w.destroy;w.destroy=void 0,E!==void 0&&BW(a,c,E)}w=w.next}while(w!==p)}}function mg(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&r)===r){var p=c.create;c.destroy=p()}c=c.next}while(c!==a)}}function Fx(r){var a=r.ref;if(a!==null){var c=r.stateNode;switch(r.tag){case 5:r=c;break;default:r=c}typeof a=="function"?a(r):a.current=r}}function FW(r){var a=r.alternate;a!==null&&(r.alternate=null,FW(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[mo],delete a[gd],delete a[ex],delete a[zie],delete a[Die])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function RW(r){return r.tag===5||r.tag===3||r.tag===4}function MW(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||RW(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Rx(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(r,a):c.insertBefore(r,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(r,c)):(a=c,a.appendChild(r)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=$m));else if(p!==4&&(r=r.child,r!==null))for(Rx(r,a,c),r=r.sibling;r!==null;)Rx(r,a,c),r=r.sibling}function Mx(r,a,c){var p=r.tag;if(p===5||p===6)r=r.stateNode,a?c.insertBefore(r,a):c.appendChild(r);else if(p!==4&&(r=r.child,r!==null))for(Mx(r,a,c),r=r.sibling;r!==null;)Mx(r,a,c),r=r.sibling}var nn=null,Fr=!1;function Za(r,a,c){for(c=c.child;c!==null;)UW(r,a,c),c=c.sibling}function UW(r,a,c){if(ho&&typeof ho.onCommitFiberUnmount=="function")try{ho.onCommitFiberUnmount(_m,c)}catch{}switch(c.tag){case 5:hn||Zs(c,a);case 6:var p=nn,w=Fr;nn=null,Za(r,a,c),nn=p,Fr=w,nn!==null&&(Fr?(r=nn,c=c.stateNode,r.nodeType===8?r.parentNode.removeChild(c):r.removeChild(c)):nn.removeChild(c.stateNode));break;case 18:nn!==null&&(Fr?(r=nn,c=c.stateNode,r.nodeType===8?Jw(r.parentNode,c):r.nodeType===1&&Jw(r,c),ad(r)):Jw(nn,c.stateNode));break;case 4:p=nn,w=Fr,nn=c.stateNode.containerInfo,Fr=!0,Za(r,a,c),nn=p,Fr=w;break;case 0:case 11:case 14:case 15:if(!hn&&(p=c.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){w=p=p.next;do{var E=w,T=E.destroy;E=E.tag,T!==void 0&&(E&2||E&4)&&BW(c,a,T),w=w.next}while(w!==p)}Za(r,a,c);break;case 1:if(!hn&&(Zs(c,a),p=c.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=c.memoizedProps,p.state=c.memoizedState,p.componentWillUnmount()}catch(H){Ct(c,a,H)}Za(r,a,c);break;case 21:Za(r,a,c);break;case 22:c.mode&1?(hn=(p=hn)||c.memoizedState!==null,Za(r,a,c),hn=p):Za(r,a,c);break;default:Za(r,a,c)}}function VW(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var c=r.stateNode;c===null&&(c=r.stateNode=new Gie),a.forEach(function(p){var w=ale.bind(null,r,p);c.has(p)||(c.add(p),p.then(w,w))})}}function Rr(r,a){var c=a.deletions;if(c!==null)for(var p=0;p<c.length;p++){var w=c[p];try{var E=r,T=a,H=T;e:for(;H!==null;){switch(H.tag){case 5:nn=H.stateNode,Fr=!1;break e;case 3:nn=H.stateNode.containerInfo,Fr=!0;break e;case 4:nn=H.stateNode.containerInfo,Fr=!0;break e}H=H.return}if(nn===null)throw Error(o(160));UW(E,T,w),nn=null,Fr=!1;var Y=w.alternate;Y!==null&&(Y.return=null),w.return=null}catch(pe){Ct(w,a,pe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)HW(a,r),a=a.sibling}function HW(r,a){var c=r.alternate,p=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Rr(a,r),yo(r),p&4){try{Cd(3,r,r.return),mg(3,r)}catch(Fe){Ct(r,r.return,Fe)}try{Cd(5,r,r.return)}catch(Fe){Ct(r,r.return,Fe)}}break;case 1:Rr(a,r),yo(r),p&512&&c!==null&&Zs(c,c.return);break;case 5:if(Rr(a,r),yo(r),p&512&&c!==null&&Zs(c,c.return),r.flags&32){var w=r.stateNode;try{cn(w,"")}catch(Fe){Ct(r,r.return,Fe)}}if(p&4&&(w=r.stateNode,w!=null)){var E=r.memoizedProps,T=c!==null?c.memoizedProps:E,H=r.type,Y=r.updateQueue;if(r.updateQueue=null,Y!==null)try{H==="input"&&E.type==="radio"&&E.name!=null&&U(w,E),Zc(H,T);var pe=Zc(H,E);for(T=0;T<Y.length;T+=2){var _e=Y[T],Pe=Y[T+1];_e==="style"?Ps(w,Pe):_e==="dangerouslySetInnerHTML"?Ba(w,Pe):_e==="children"?cn(w,Pe):O(w,_e,Pe,pe)}switch(H){case"input":R(w,E);break;case"textarea":we(w,E);break;case"select":var Ee=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!E.multiple;var Te=E.value;Te!=null?ae(w,!!E.multiple,Te,!1):Ee!==!!E.multiple&&(E.defaultValue!=null?ae(w,!!E.multiple,E.defaultValue,!0):ae(w,!!E.multiple,E.multiple?[]:"",!1))}w[gd]=E}catch(Fe){Ct(r,r.return,Fe)}}break;case 6:if(Rr(a,r),yo(r),p&4){if(r.stateNode===null)throw Error(o(162));w=r.stateNode,E=r.memoizedProps;try{w.nodeValue=E}catch(Fe){Ct(r,r.return,Fe)}}break;case 3:if(Rr(a,r),yo(r),p&4&&c!==null&&c.memoizedState.isDehydrated)try{ad(a.containerInfo)}catch(Fe){Ct(r,r.return,Fe)}break;case 4:Rr(a,r),yo(r);break;case 13:Rr(a,r),yo(r),w=r.child,w.flags&8192&&(E=w.memoizedState!==null,w.stateNode.isHidden=E,!E||w.alternate!==null&&w.alternate.memoizedState!==null||(Hx=Tt())),p&4&&VW(r);break;case 22:if(_e=c!==null&&c.memoizedState!==null,r.mode&1?(hn=(pe=hn)||_e,Rr(a,r),hn=pe):Rr(a,r),yo(r),p&8192){if(pe=r.memoizedState!==null,(r.stateNode.isHidden=pe)&&!_e&&r.mode&1)for(De=r,_e=r.child;_e!==null;){for(Pe=De=_e;De!==null;){switch(Ee=De,Te=Ee.child,Ee.tag){case 0:case 11:case 14:case 15:Cd(4,Ee,Ee.return);break;case 1:Zs(Ee,Ee.return);var Be=Ee.stateNode;if(typeof Be.componentWillUnmount=="function"){p=Ee,c=Ee.return;try{a=p,Be.props=a.memoizedProps,Be.state=a.memoizedState,Be.componentWillUnmount()}catch(Fe){Ct(p,c,Fe)}}break;case 5:Zs(Ee,Ee.return);break;case 22:if(Ee.memoizedState!==null){qW(Pe);continue}}Te!==null?(Te.return=Ee,De=Te):qW(Pe)}_e=_e.sibling}e:for(_e=null,Pe=r;;){if(Pe.tag===5){if(_e===null){_e=Pe;try{w=Pe.stateNode,pe?(E=w.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none"):(H=Pe.stateNode,Y=Pe.memoizedProps.style,T=Y!=null&&Y.hasOwnProperty("display")?Y.display:null,H.style.display=el("display",T))}catch(Fe){Ct(r,r.return,Fe)}}}else if(Pe.tag===6){if(_e===null)try{Pe.stateNode.nodeValue=pe?"":Pe.memoizedProps}catch(Fe){Ct(r,r.return,Fe)}}else if((Pe.tag!==22&&Pe.tag!==23||Pe.memoizedState===null||Pe===r)&&Pe.child!==null){Pe.child.return=Pe,Pe=Pe.child;continue}if(Pe===r)break e;for(;Pe.sibling===null;){if(Pe.return===null||Pe.return===r)break e;_e===Pe&&(_e=null),Pe=Pe.return}_e===Pe&&(_e=null),Pe.sibling.return=Pe.return,Pe=Pe.sibling}}break;case 19:Rr(a,r),yo(r),p&4&&VW(r);break;case 21:break;default:Rr(a,r),yo(r)}}function yo(r){var a=r.flags;if(a&2){try{e:{for(var c=r.return;c!==null;){if(RW(c)){var p=c;break e}c=c.return}throw Error(o(160))}switch(p.tag){case 5:var w=p.stateNode;p.flags&32&&(cn(w,""),p.flags&=-33);var E=MW(r);Mx(r,E,w);break;case 3:case 4:var T=p.stateNode.containerInfo,H=MW(r);Rx(r,H,T);break;default:throw Error(o(161))}}catch(Y){Ct(r,r.return,Y)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Yie(r,a,c){De=r,KW(r)}function KW(r,a,c){for(var p=(r.mode&1)!==0;De!==null;){var w=De,E=w.child;if(w.tag===22&&p){var T=w.memoizedState!==null||hg;if(!T){var H=w.alternate,Y=H!==null&&H.memoizedState!==null||hn;H=hg;var pe=hn;if(hg=T,(hn=Y)&&!pe)for(De=w;De!==null;)T=De,Y=T.child,T.tag===22&&T.memoizedState!==null?$W(w):Y!==null?(Y.return=T,De=Y):$W(w);for(;E!==null;)De=E,KW(E),E=E.sibling;De=w,hg=H,hn=pe}WW(r)}else w.subtreeFlags&8772&&E!==null?(E.return=w,De=E):WW(r)}}function WW(r){for(;De!==null;){var a=De;if(a.flags&8772){var c=a.alternate;try{if(a.flags&8772)switch(a.tag){case 0:case 11:case 15:hn||mg(5,a);break;case 1:var p=a.stateNode;if(a.flags&4&&!hn)if(c===null)p.componentDidMount();else{var w=a.elementType===a.type?c.memoizedProps:Nr(a.type,c.memoizedProps);p.componentDidUpdate(w,c.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var E=a.updateQueue;E!==null&&UK(a,E,p);break;case 3:var T=a.updateQueue;if(T!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}UK(a,T,c)}break;case 5:var H=a.stateNode;if(c===null&&a.flags&4){c=H;var Y=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":Y.autoFocus&&c.focus();break;case"img":Y.src&&(c.src=Y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var pe=a.alternate;if(pe!==null){var _e=pe.memoizedState;if(_e!==null){var Pe=_e.dehydrated;Pe!==null&&ad(Pe)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(o(163))}hn||a.flags&512&&Fx(a)}catch(Ee){Ct(a,a.return,Ee)}}if(a===r){De=null;break}if(c=a.sibling,c!==null){c.return=a.return,De=c;break}De=a.return}}function qW(r){for(;De!==null;){var a=De;if(a===r){De=null;break}var c=a.sibling;if(c!==null){c.return=a.return,De=c;break}De=a.return}}function $W(r){for(;De!==null;){var a=De;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{mg(4,a)}catch(Y){Ct(a,c,Y)}break;case 1:var p=a.stateNode;if(typeof p.componentDidMount=="function"){var w=a.return;try{p.componentDidMount()}catch(Y){Ct(a,w,Y)}}var E=a.return;try{Fx(a)}catch(Y){Ct(a,E,Y)}break;case 5:var T=a.return;try{Fx(a)}catch(Y){Ct(a,T,Y)}}}catch(Y){Ct(a,a.return,Y)}if(a===r){De=null;break}var H=a.sibling;if(H!==null){H.return=a.return,De=H;break}De=a.return}}var Qie=Math.ceil,gg=j.ReactCurrentDispatcher,Ux=j.ReactCurrentOwner,lr=j.ReactCurrentBatchConfig,at=0,Wt=null,Nt=null,rn=0,qn=0,Gs=Ka(0),Ut=0,Id=null,ul=0,vg=0,Vx=0,jd=null,zn=null,Hx=0,Xs=1/0,Qo=null,yg=!1,Kx=null,Ga=null,bg=!1,Xa=null,kg=0,Od=0,Wx=null,wg=-1,xg=0;function Sn(){return at&6?Tt():wg!==-1?wg:wg=Tt()}function Ya(r){return r.mode&1?at&2&&rn!==0?rn&-rn:Bie.transition!==null?(xg===0&&(xg=NH()),xg):(r=ut,r!==0||(r=window.event,r=r===void 0?16:qH(r.type)),r):1}function Mr(r,a,c,p){if(50<Od)throw Od=0,Wx=null,Error(o(185));ed(r,c,p),(!(at&2)||r!==Wt)&&(r===Wt&&(!(at&2)&&(vg|=c),Ut===4&&Qa(r,rn)),Dn(r,p),c===1&&at===0&&!(a.mode&1)&&(Xs=Tt()+500,Xm&&qa()))}function Dn(r,a){var c=r.callbackNode;Fae(r,a);var p=Im(r,r===Wt?rn:0);if(p===0)c!==null&&DH(c),r.callbackNode=null,r.callbackPriority=0;else if(a=p&-p,r.callbackPriority!==a){if(c!=null&&DH(c),a===1)r.tag===0?Aie(ZW.bind(null,r)):TK(ZW.bind(null,r)),Oie(function(){!(at&6)&&qa()}),c=null;else{switch(FH(p)){case 1:c=Pw;break;case 4:c=AH;break;case 16:c=Em;break;case 536870912:c=BH;break;default:c=Em}c=nq(c,LW.bind(null,r))}r.callbackPriority=a,r.callbackNode=c}}function LW(r,a){if(wg=-1,xg=0,at&6)throw Error(o(327));var c=r.callbackNode;if(Ys()&&r.callbackNode!==c)return null;var p=Im(r,r===Wt?rn:0);if(p===0)return null;if(p&30||p&r.expiredLanes||a)a=Sg(r,p);else{a=p;var w=at;at|=2;var E=XW();(Wt!==r||rn!==a)&&(Qo=null,Xs=Tt()+500,dl(r,a));do try{tle();break}catch(H){GW(r,H)}while(!0);ux(),gg.current=E,at=w,Nt!==null?a=0:(Wt=null,rn=0,a=Ut)}if(a!==0){if(a===2&&(w=Cw(r),w!==0&&(p=w,a=qx(r,w))),a===1)throw c=Id,dl(r,0),Qa(r,p),Dn(r,Tt()),c;if(a===6)Qa(r,p);else{if(w=r.current.alternate,!(p&30)&&!Jie(w)&&(a=Sg(r,p),a===2&&(E=Cw(r),E!==0&&(p=E,a=qx(r,E))),a===1))throw c=Id,dl(r,0),Qa(r,p),Dn(r,Tt()),c;switch(r.finishedWork=w,r.finishedLanes=p,a){case 0:case 1:throw Error(o(345));case 2:fl(r,zn,Qo);break;case 3:if(Qa(r,p),(p&130023424)===p&&(a=Hx+500-Tt(),10<a)){if(Im(r,0)!==0)break;if(w=r.suspendedLanes,(w&p)!==p){Sn(),r.pingedLanes|=r.suspendedLanes&w;break}r.timeoutHandle=Qw(fl.bind(null,r,zn,Qo),a);break}fl(r,zn,Qo);break;case 4:if(Qa(r,p),(p&4194240)===p)break;for(a=r.eventTimes,w=-1;0<p;){var T=31-Dr(p);E=1<<T,T=a[T],T>w&&(w=T),p&=~E}if(p=w,p=Tt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Qie(p/1960))-p,10<p){r.timeoutHandle=Qw(fl.bind(null,r,zn,Qo),p);break}fl(r,zn,Qo);break;case 5:fl(r,zn,Qo);break;default:throw Error(o(329))}}}return Dn(r,Tt()),r.callbackNode===c?LW.bind(null,r):null}function qx(r,a){var c=jd;return r.current.memoizedState.isDehydrated&&(dl(r,a).flags|=256),r=Sg(r,a),r!==2&&(a=zn,zn=c,a!==null&&$x(a)),r}function $x(r){zn===null?zn=r:zn.push.apply(zn,r)}function Jie(r){for(var a=r;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var p=0;p<c.length;p++){var w=c[p],E=w.getSnapshot;w=w.value;try{if(!Ar(E(),w))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Qa(r,a){for(a&=~Vx,a&=~vg,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var c=31-Dr(a),p=1<<c;r[c]=-1,a&=~p}}function ZW(r){if(at&6)throw Error(o(327));Ys();var a=Im(r,0);if(!(a&1))return Dn(r,Tt()),null;var c=Sg(r,a);if(r.tag!==0&&c===2){var p=Cw(r);p!==0&&(a=p,c=qx(r,p))}if(c===1)throw c=Id,dl(r,0),Qa(r,a),Dn(r,Tt()),c;if(c===6)throw Error(o(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,fl(r,zn,Qo),Dn(r,Tt()),null}function Lx(r,a){var c=at;at|=1;try{return r(a)}finally{at=c,at===0&&(Xs=Tt()+500,Xm&&qa())}}function cl(r){Xa!==null&&Xa.tag===0&&!(at&6)&&Ys();var a=at;at|=1;var c=lr.transition,p=ut;try{if(lr.transition=null,ut=1,r)return r()}finally{ut=p,lr.transition=c,at=a,!(at&6)&&qa()}}function Zx(){qn=Gs.current,bt(Gs)}function dl(r,a){r.finishedWork=null,r.finishedLanes=0;var c=r.timeoutHandle;if(c!==-1&&(r.timeoutHandle=-1,jie(c)),Nt!==null)for(c=Nt.return;c!==null;){var p=c;switch(ox(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Zm();break;case 3:$s(),bt(jn),bt(dn),bx();break;case 5:vx(p);break;case 4:$s();break;case 13:bt(_t);break;case 19:bt(_t);break;case 10:cx(p.type._context);break;case 22:case 23:Zx()}c=c.return}if(Wt=r,Nt=r=Ja(r.current,null),rn=qn=a,Ut=0,Id=null,Vx=vg=ul=0,zn=jd=null,il!==null){for(a=0;a<il.length;a++)if(c=il[a],p=c.interleaved,p!==null){c.interleaved=null;var w=p.next,E=c.pending;if(E!==null){var T=E.next;E.next=w,p.next=T}c.pending=p}il=null}return r}function GW(r,a){do{var c=Nt;try{if(ux(),lg.current=dg,sg){for(var p=Pt.memoizedState;p!==null;){var w=p.queue;w!==null&&(w.pending=null),p=p.next}sg=!1}if(sl=0,Kt=Mt=Pt=null,xd=!1,Sd=0,Ux.current=null,c===null||c.return===null){Ut=1,Id=a,Nt=null;break}e:{var E=r,T=c.return,H=c,Y=a;if(a=rn,H.flags|=32768,Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var pe=Y,_e=H,Pe=_e.tag;if(!(_e.mode&1)&&(Pe===0||Pe===11||Pe===15)){var Ee=_e.alternate;Ee?(_e.updateQueue=Ee.updateQueue,_e.memoizedState=Ee.memoizedState,_e.lanes=Ee.lanes):(_e.updateQueue=null,_e.memoizedState=null)}var Te=bW(T);if(Te!==null){Te.flags&=-257,kW(Te,T,H,E,a),Te.mode&1&&yW(E,pe,a),a=Te,Y=pe;var Be=a.updateQueue;if(Be===null){var Fe=new Set;Fe.add(Y),a.updateQueue=Fe}else Be.add(Y);break e}else{if(!(a&1)){yW(E,pe,a),Gx();break e}Y=Error(o(426))}}else if(wt&&H.mode&1){var zt=bW(T);if(zt!==null){!(zt.flags&65536)&&(zt.flags|=256),kW(zt,T,H,E,a),lx(Ls(Y,H));break e}}E=Y=Ls(Y,H),Ut!==4&&(Ut=2),jd===null?jd=[E]:jd.push(E),E=T;do{switch(E.tag){case 3:E.flags|=65536,a&=-a,E.lanes|=a;var ie=gW(E,Y,a);MK(E,ie);break e;case 1:H=Y;var J=E.type,se=E.stateNode;if(!(E.flags&128)&&(typeof J.getDerivedStateFromError=="function"||se!==null&&typeof se.componentDidCatch=="function"&&(Ga===null||!Ga.has(se)))){E.flags|=65536,a&=-a,E.lanes|=a;var Ce=vW(E,H,a);MK(E,Ce);break e}}E=E.return}while(E!==null)}QW(c)}catch(Me){a=Me,Nt===c&&c!==null&&(Nt=c=c.return);continue}break}while(!0)}function XW(){var r=gg.current;return gg.current=dg,r===null?dg:r}function Gx(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Wt===null||!(ul&268435455)&&!(vg&268435455)||Qa(Wt,rn)}function Sg(r,a){var c=at;at|=2;var p=XW();(Wt!==r||rn!==a)&&(Qo=null,dl(r,a));do try{ele();break}catch(w){GW(r,w)}while(!0);if(ux(),at=c,gg.current=p,Nt!==null)throw Error(o(261));return Wt=null,rn=0,Ut}function ele(){for(;Nt!==null;)YW(Nt)}function tle(){for(;Nt!==null&&!Iae();)YW(Nt)}function YW(r){var a=tq(r.alternate,r,qn);r.memoizedProps=r.pendingProps,a===null?QW(r):Nt=a,Ux.current=null}function QW(r){var a=r;do{var c=a.alternate;if(r=a.return,a.flags&32768){if(c=Zie(c,a),c!==null){c.flags&=32767,Nt=c;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Ut=6,Nt=null;return}}else if(c=Lie(c,a,qn),c!==null){Nt=c;return}if(a=a.sibling,a!==null){Nt=a;return}Nt=a=r}while(a!==null);Ut===0&&(Ut=5)}function fl(r,a,c){var p=ut,w=lr.transition;try{lr.transition=null,ut=1,nle(r,a,c,p)}finally{lr.transition=w,ut=p}return null}function nle(r,a,c,p){do Ys();while(Xa!==null);if(at&6)throw Error(o(327));c=r.finishedWork;var w=r.finishedLanes;if(c===null)return null;if(r.finishedWork=null,r.finishedLanes=0,c===r.current)throw Error(o(177));r.callbackNode=null,r.callbackPriority=0;var E=c.lanes|c.childLanes;if(Rae(r,E),r===Wt&&(Nt=Wt=null,rn=0),!(c.subtreeFlags&2064)&&!(c.flags&2064)||bg||(bg=!0,nq(Em,function(){return Ys(),null})),E=(c.flags&15990)!==0,c.subtreeFlags&15990||E){E=lr.transition,lr.transition=null;var T=ut;ut=1;var H=at;at|=4,Ux.current=null,Xie(r,c),HW(c,r),Eie(Xw),Tm=!!Gw,Xw=Gw=null,r.current=c,Yie(c),jae(),at=H,ut=T,lr.transition=E}else r.current=c;if(bg&&(bg=!1,Xa=r,kg=w),E=r.pendingLanes,E===0&&(Ga=null),zae(c.stateNode),Dn(r,Tt()),a!==null)for(p=r.onRecoverableError,c=0;c<a.length;c++)w=a[c],p(w.value,{componentStack:w.stack,digest:w.digest});if(yg)throw yg=!1,r=Kx,Kx=null,r;return kg&1&&r.tag!==0&&Ys(),E=r.pendingLanes,E&1?r===Wx?Od++:(Od=0,Wx=r):Od=0,qa(),null}function Ys(){if(Xa!==null){var r=FH(kg),a=lr.transition,c=ut;try{if(lr.transition=null,ut=16>r?16:r,Xa===null)var p=!1;else{if(r=Xa,Xa=null,kg=0,at&6)throw Error(o(331));var w=at;for(at|=4,De=r.current;De!==null;){var E=De,T=E.child;if(De.flags&16){var H=E.deletions;if(H!==null){for(var Y=0;Y<H.length;Y++){var pe=H[Y];for(De=pe;De!==null;){var _e=De;switch(_e.tag){case 0:case 11:case 15:Cd(8,_e,E)}var Pe=_e.child;if(Pe!==null)Pe.return=_e,De=Pe;else for(;De!==null;){_e=De;var Ee=_e.sibling,Te=_e.return;if(FW(_e),_e===pe){De=null;break}if(Ee!==null){Ee.return=Te,De=Ee;break}De=Te}}}var Be=E.alternate;if(Be!==null){var Fe=Be.child;if(Fe!==null){Be.child=null;do{var zt=Fe.sibling;Fe.sibling=null,Fe=zt}while(Fe!==null)}}De=E}}if(E.subtreeFlags&2064&&T!==null)T.return=E,De=T;else e:for(;De!==null;){if(E=De,E.flags&2048)switch(E.tag){case 0:case 11:case 15:Cd(9,E,E.return)}var ie=E.sibling;if(ie!==null){ie.return=E.return,De=ie;break e}De=E.return}}var J=r.current;for(De=J;De!==null;){T=De;var se=T.child;if(T.subtreeFlags&2064&&se!==null)se.return=T,De=se;else e:for(T=J;De!==null;){if(H=De,H.flags&2048)try{switch(H.tag){case 0:case 11:case 15:mg(9,H)}}catch(Me){Ct(H,H.return,Me)}if(H===T){De=null;break e}var Ce=H.sibling;if(Ce!==null){Ce.return=H.return,De=Ce;break e}De=H.return}}if(at=w,qa(),ho&&typeof ho.onPostCommitFiberRoot=="function")try{ho.onPostCommitFiberRoot(_m,r)}catch{}p=!0}return p}finally{ut=c,lr.transition=a}}return!1}function JW(r,a,c){a=Ls(c,a),a=gW(r,a,1),r=La(r,a,1),a=Sn(),r!==null&&(ed(r,1,a),Dn(r,a))}function Ct(r,a,c){if(r.tag===3)JW(r,r,c);else for(;a!==null;){if(a.tag===3){JW(a,r,c);break}else if(a.tag===1){var p=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(Ga===null||!Ga.has(p))){r=Ls(c,r),r=vW(a,r,1),a=La(a,r,1),r=Sn(),a!==null&&(ed(a,1,r),Dn(a,r));break}}a=a.return}}function rle(r,a,c){var p=r.pingCache;p!==null&&p.delete(a),a=Sn(),r.pingedLanes|=r.suspendedLanes&c,Wt===r&&(rn&c)===c&&(Ut===4||Ut===3&&(rn&130023424)===rn&&500>Tt()-Hx?dl(r,0):Vx|=c),Dn(r,a)}function eq(r,a){a===0&&(r.mode&1?(a=Cm,Cm<<=1,!(Cm&130023424)&&(Cm=4194304)):a=1);var c=Sn();r=Go(r,a),r!==null&&(ed(r,a,c),Dn(r,c))}function ole(r){var a=r.memoizedState,c=0;a!==null&&(c=a.retryLane),eq(r,c)}function ale(r,a){var c=0;switch(r.tag){case 13:var p=r.stateNode,w=r.memoizedState;w!==null&&(c=w.retryLane);break;case 19:p=r.stateNode;break;default:throw Error(o(314))}p!==null&&p.delete(a),eq(r,c)}var tq;tq=function(r,a,c){if(r!==null)if(r.memoizedProps!==a.pendingProps||jn.current)Tn=!0;else{if(!(r.lanes&c)&&!(a.flags&128))return Tn=!1,$ie(r,a,c);Tn=!!(r.flags&131072)}else Tn=!1,wt&&a.flags&1048576&&zK(a,Qm,a.index);switch(a.lanes=0,a.tag){case 2:var p=a.type;pg(r,a),r=a.pendingProps;var w=Ms(a,dn.current);Ws(a,c),w=xx(null,a,p,r,w,c);var E=Sx();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,On(p)?(E=!0,Gm(a)):E=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,px(a),w.updater=og,a.stateNode=w,w._reactInternals=a,mx(a,p,r,c),a=Tx(null,a,p,!0,E,c)):(a.tag=0,wt&&E&&rx(a),xn(null,a,w,c),a=a.child),a;case 16:p=a.elementType;e:{switch(pg(r,a),r=a.pendingProps,w=p._init,p=w(p._payload),a.type=p,w=a.tag=lle(p),r=Nr(p,r),w){case 0:a=Ox(null,a,p,r,c);break e;case 1:a=PW(null,a,p,r,c);break e;case 11:a=wW(null,a,p,r,c);break e;case 14:a=xW(null,a,p,Nr(p.type,r),c);break e}throw Error(o(306,p,""))}return a;case 0:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Nr(p,w),Ox(r,a,p,w,c);case 1:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Nr(p,w),PW(r,a,p,w,c);case 3:e:{if(CW(a),r===null)throw Error(o(387));p=a.pendingProps,E=a.memoizedState,w=E.element,RK(r,a),rg(a,p,null,c);var T=a.memoizedState;if(p=T.element,E.isDehydrated)if(E={element:p,isDehydrated:!1,cache:T.cache,pendingSuspenseBoundaries:T.pendingSuspenseBoundaries,transitions:T.transitions},a.updateQueue.baseState=E,a.memoizedState=E,a.flags&256){w=Ls(Error(o(423)),a),a=IW(r,a,p,c,w);break e}else if(p!==w){w=Ls(Error(o(424)),a),a=IW(r,a,p,c,w);break e}else for(Wn=Ha(a.stateNode.containerInfo.firstChild),Kn=a,wt=!0,Br=null,c=LK(a,null,p,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Hs(),p===w){a=Yo(r,a,c);break e}xn(r,a,p,c)}a=a.child}return a;case 5:return ZK(a),r===null&&ix(a),p=a.type,w=a.pendingProps,E=r!==null?r.memoizedProps:null,T=w.children,Yw(p,w)?T=null:E!==null&&Yw(p,E)&&(a.flags|=32),_W(r,a),xn(r,a,T,c),a.child;case 6:return r===null&&ix(a),null;case 13:return jW(r,a,c);case 4:return gx(a,a.stateNode.containerInfo),p=a.pendingProps,r===null?a.child=qs(a,null,p,c):xn(r,a,p,c),a.child;case 11:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Nr(p,w),wW(r,a,p,w,c);case 7:return xn(r,a,a.pendingProps,c),a.child;case 8:return xn(r,a,a.pendingProps.children,c),a.child;case 12:return xn(r,a,a.pendingProps.children,c),a.child;case 10:e:{if(p=a.type._context,w=a.pendingProps,E=a.memoizedProps,T=w.value,mt(eg,p._currentValue),p._currentValue=T,E!==null)if(Ar(E.value,T)){if(E.children===w.children&&!jn.current){a=Yo(r,a,c);break e}}else for(E=a.child,E!==null&&(E.return=a);E!==null;){var H=E.dependencies;if(H!==null){T=E.child;for(var Y=H.firstContext;Y!==null;){if(Y.context===p){if(E.tag===1){Y=Xo(-1,c&-c),Y.tag=2;var pe=E.updateQueue;if(pe!==null){pe=pe.shared;var _e=pe.pending;_e===null?Y.next=Y:(Y.next=_e.next,_e.next=Y),pe.pending=Y}}E.lanes|=c,Y=E.alternate,Y!==null&&(Y.lanes|=c),dx(E.return,c,a),H.lanes|=c;break}Y=Y.next}}else if(E.tag===10)T=E.type===a.type?null:E.child;else if(E.tag===18){if(T=E.return,T===null)throw Error(o(341));T.lanes|=c,H=T.alternate,H!==null&&(H.lanes|=c),dx(T,c,a),T=E.sibling}else T=E.child;if(T!==null)T.return=E;else for(T=E;T!==null;){if(T===a){T=null;break}if(E=T.sibling,E!==null){E.return=T.return,T=E;break}T=T.return}E=T}xn(r,a,w.children,c),a=a.child}return a;case 9:return w=a.type,p=a.pendingProps.children,Ws(a,c),w=ar(w),p=p(w),a.flags|=1,xn(r,a,p,c),a.child;case 14:return p=a.type,w=Nr(p,a.pendingProps),w=Nr(p.type,w),xW(r,a,p,w,c);case 15:return SW(r,a,a.type,a.pendingProps,c);case 17:return p=a.type,w=a.pendingProps,w=a.elementType===p?w:Nr(p,w),pg(r,a),a.tag=1,On(p)?(r=!0,Gm(a)):r=!1,Ws(a,c),KK(a,p,w),mx(a,p,w,c),Tx(null,a,p,!0,r,c);case 19:return TW(r,a,c);case 22:return EW(r,a,c)}throw Error(o(156,a.tag))};function nq(r,a){return zH(r,a)}function ile(r,a,c,p){this.tag=r,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sr(r,a,c,p){return new ile(r,a,c,p)}function Xx(r){return r=r.prototype,!(!r||!r.isReactComponent)}function lle(r){if(typeof r=="function")return Xx(r)?1:0;if(r!=null){if(r=r.$$typeof,r===G)return 11;if(r===xe)return 14}return 2}function Ja(r,a){var c=r.alternate;return c===null?(c=sr(r.tag,a,r.key,r.mode),c.elementType=r.elementType,c.type=r.type,c.stateNode=r.stateNode,c.alternate=r,r.alternate=c):(c.pendingProps=a,c.type=r.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=r.flags&14680064,c.childLanes=r.childLanes,c.lanes=r.lanes,c.child=r.child,c.memoizedProps=r.memoizedProps,c.memoizedState=r.memoizedState,c.updateQueue=r.updateQueue,a=r.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=r.sibling,c.index=r.index,c.ref=r.ref,c}function Eg(r,a,c,p,w,E){var T=2;if(p=r,typeof r=="function")Xx(r)&&(T=1);else if(typeof r=="string")T=5;else e:switch(r){case W:return pl(c.children,w,E,a);case B:T=8,w|=8;break;case Z:return r=sr(12,c,a,w|2),r.elementType=Z,r.lanes=E,r;case C:return r=sr(13,c,a,w),r.elementType=C,r.lanes=E,r;case Q:return r=sr(19,c,a,w),r.elementType=Q,r.lanes=E,r;case K:return _g(c,w,E,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case re:T=10;break e;case D:T=9;break e;case G:T=11;break e;case xe:T=14;break e;case q:T=16,p=null;break e}throw Error(o(130,r==null?r:typeof r,""))}return a=sr(T,c,a,w),a.elementType=r,a.type=p,a.lanes=E,a}function pl(r,a,c,p){return r=sr(7,r,p,a),r.lanes=c,r}function _g(r,a,c,p){return r=sr(22,r,p,a),r.elementType=K,r.lanes=c,r.stateNode={isHidden:!1},r}function Yx(r,a,c){return r=sr(6,r,null,a),r.lanes=c,r}function Qx(r,a,c){return a=sr(4,r.children!==null?r.children:[],r.key,a),a.lanes=c,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function sle(r,a,c,p,w){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iw(0),this.expirationTimes=Iw(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iw(0),this.identifierPrefix=p,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Jx(r,a,c,p,w,E,T,H,Y){return r=new sle(r,a,c,H,Y),a===1?(a=1,E===!0&&(a|=8)):a=0,E=sr(3,null,null,a),r.current=E,E.stateNode=r,E.memoizedState={element:p,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},px(E),r}function ule(r,a,c){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:p==null?null:""+p,children:r,containerInfo:a,implementation:c}}function rq(r){if(!r)return Wa;r=r._reactInternals;e:{if(tl(r)!==r||r.tag!==1)throw Error(o(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(On(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(o(171))}if(r.tag===1){var c=r.type;if(On(c))return jK(r,c,a)}return a}function oq(r,a,c,p,w,E,T,H,Y){return r=Jx(c,p,!0,r,w,E,T,H,Y),r.context=rq(null),c=r.current,p=Sn(),w=Ya(c),E=Xo(p,w),E.callback=a??null,La(c,E,w),r.current.lanes=w,ed(r,w,p),Dn(r,p),r}function Pg(r,a,c,p){var w=a.current,E=Sn(),T=Ya(w);return c=rq(c),a.context===null?a.context=c:a.pendingContext=c,a=Xo(E,T),a.payload={element:r},p=p===void 0?null:p,p!==null&&(a.callback=p),r=La(w,a,T),r!==null&&(Mr(r,w,T,E),ng(r,w,T)),T}function Cg(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function aq(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var c=r.retryLane;r.retryLane=c!==0&&c<a?c:a}}function e2(r,a){aq(r,a),(r=r.alternate)&&aq(r,a)}function cle(){return null}var iq=typeof reportError=="function"?reportError:function(r){console.error(r)};function t2(r){this._internalRoot=r}Ig.prototype.render=t2.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(o(409));Pg(r,a,null,null)},Ig.prototype.unmount=t2.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;cl(function(){Pg(null,r,null,null)}),a[qo]=null}};function Ig(r){this._internalRoot=r}Ig.prototype.unstable_scheduleHydration=function(r){if(r){var a=UH();r={blockedOn:null,target:r,priority:a};for(var c=0;c<Ma.length&&a!==0&&a<Ma[c].priority;c++);Ma.splice(c,0,r),c===0&&KH(r)}};function n2(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function jg(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function lq(){}function dle(r,a,c,p,w){if(w){if(typeof p=="function"){var E=p;p=function(){var pe=Cg(T);E.call(pe)}}var T=oq(a,p,r,0,null,!1,!1,"",lq);return r._reactRootContainer=T,r[qo]=T.current,hd(r.nodeType===8?r.parentNode:r),cl(),T}for(;w=r.lastChild;)r.removeChild(w);if(typeof p=="function"){var H=p;p=function(){var pe=Cg(Y);H.call(pe)}}var Y=Jx(r,0,!1,null,null,!1,!1,"",lq);return r._reactRootContainer=Y,r[qo]=Y.current,hd(r.nodeType===8?r.parentNode:r),cl(function(){Pg(a,Y,c,p)}),Y}function Og(r,a,c,p,w){var E=c._reactRootContainer;if(E){var T=E;if(typeof w=="function"){var H=w;w=function(){var Y=Cg(T);H.call(Y)}}Pg(a,T,r,w)}else T=dle(c,a,r,w,p);return Cg(T)}RH=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var c=Jc(a.pendingLanes);c!==0&&(jw(a,c|1),Dn(a,Tt()),!(at&6)&&(Xs=Tt()+500,qa()))}break;case 13:cl(function(){var p=Go(r,1);if(p!==null){var w=Sn();Mr(p,r,1,w)}}),e2(r,1)}},Ow=function(r){if(r.tag===13){var a=Go(r,134217728);if(a!==null){var c=Sn();Mr(a,r,134217728,c)}e2(r,134217728)}},MH=function(r){if(r.tag===13){var a=Ya(r),c=Go(r,a);if(c!==null){var p=Sn();Mr(c,r,a,p)}e2(r,a)}},UH=function(){return ut},VH=function(r,a){var c=ut;try{return ut=r,a()}finally{ut=c}},Is=function(r,a,c){switch(a){case"input":if(R(r,c),a=c.name,c.type==="radio"&&a!=null){for(c=r;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var p=c[a];if(p!==r&&p.form===r.form){var w=Lm(p);if(!w)throw Error(o(90));it(p),R(p,w)}}}break;case"textarea":we(r,c);break;case"select":a=c.value,a!=null&&ae(r,!!c.multiple,a,!1)}},_H=Lx,PH=cl;var fle={usingClientEntryPoint:!1,Events:[vd,Fs,Lm,SH,EH,Lx]},Td={findFiberByHostInstance:nl,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ple={bundleType:Td.bundleType,version:Td.version,rendererPackageName:Td.rendererPackageName,rendererConfig:Td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=OH(r),r===null?null:r.stateNode},findFiberByHostInstance:Td.findFiberByHostInstance||cle,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"&&(zd=__REACT_DEVTOOLS_GLOBAL_HOOK__,!zd.isDisabled&&zd.supportsFiber))try{_m=zd.inject(ple),ho=zd}catch{}var zd;e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=fle,e.createPortal=function(r,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!n2(a))throw Error(o(200));return ule(r,a,null,c)},e.createRoot=function(r,a){if(!n2(r))throw Error(o(299));var c=!1,p="",w=iq;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(p=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Jx(r,1,!1,null,null,c,!1,p,w),r[qo]=a.current,hd(r.nodeType===8?r.parentNode:r),new t2(a)},e.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(o(188)):(r=Object.keys(r).join(","),Error(o(268,r)));return r=OH(a),r=r===null?null:r.stateNode,r},e.flushSync=function(r){return cl(r)},e.hydrate=function(r,a,c){if(!jg(a))throw Error(o(200));return Og(null,r,a,!0,c)},e.hydrateRoot=function(r,a,c){if(!n2(r))throw Error(o(405));var p=c!=null&&c.hydratedSources||null,w=!1,E="",T=iq;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(E=c.identifierPrefix),c.onRecoverableError!==void 0&&(T=c.onRecoverableError)),a=oq(a,null,r,1,c??null,w,!1,E,T),r[qo]=a.current,hd(r),p)for(r=0;r<p.length;r++)c=p[r],w=c._getVersion,w=w(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,w]:a.mutableSourceEagerHydrationData.push(c,w);return new Ig(a)},e.render=function(r,a,c){if(!jg(a))throw Error(o(200));return Og(null,r,a,!1,c)},e.unmountComponentAtNode=function(r){if(!jg(r))throw Error(o(40));return r._reactRootContainer?(cl(function(){Og(null,null,r,!1,function(){r._reactRootContainer=null,r[qo]=null})}),!0):!1},e.unstable_batchedUpdates=Lx,e.unstable_renderSubtreeIntoContainer=function(r,a,c,p){if(!jg(c))throw Error(o(200));if(r==null||r._reactInternals===void 0)throw Error(o(38));return Og(r,a,c,!1,p)},e.version="18.2.0-next-9e3b772b8-20220608"}),wo=He((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(o){console.error(o)}}n(),t.exports=lX()});function sX(e){let[,t]=(0,la.useState)(0);return(0,la.useCallback)(()=>{t(n=>n+1)},[])}function Xe(e,t,n){let o=(0,la.useCallback)(e,t),i=(0,la.useRef)(null);i.current?i.current.set(o):i.current=new vf.Atom(o);let l=(0,la.useRef)(null);return l.current||(l.current=(0,vf.prism)(()=>i.current.prism.getValue()())),ev(l.current,n)}function uX(){yf||(yf=!0,(0,K5.default)(()=>{(0,W5.unstable_batchedUpdates)(function(){for(var e,t;pr.length>0;){let n=pr.shift();Il.delete(n);let o;ci&&((e=n.debug)==null||e.history.push("queue reached"));try{o=n.der.getValue()}catch(i){ci&&((t=n.debug)==null||t.history.push("queue: der.getValue() errored")),console.error("A `der.getValue()` in `usePrismInstance(der)` threw an error. This may be a zombie child issue, so we're gonna try to get its value again in a normal react render phase.If you see the same error again, then you either have an error in your prism code, or the deps array in `usePrism(fn, deps)` is missing a dependency and causing the prism to read stale values."),console.error(i),n.runUpdate();continue}o!==n.lastValue&&(n.lastValue=o,n.runUpdate())}yf=!1},1)}))}function ev(e,t){var n;let o=sX(),i=(0,la.useRef)(void 0);i.current||(tv++,i.current={order:tv,runUpdate:()=>{i.current.unmounted||o()},der:e,lastValue:void 0,unmounted:!1,queueUpdate:()=>{var s;ci&&((s=i.current.debug)==null||s.history.push("queueUpdate()")),q5(i.current)},untap:e.onStale(()=>{ci&&i.current.debug.history.push("onStale(cb)"),i.current.queueUpdate()})},ci&&(i.current.debug={label:t,traceOfFirstTimeRender:new Error,history:[]})),(0,la.useLayoutEffect)(()=>function(){i.current.unmounted=!0,i.current.untap(),nv(i.current)},[]),nv(i.current);let l=i.current.der.getValue();return i.current.lastValue=l,ci&&((n=i.current.debug)==null||n.history.push("rendered")),l}var vf,K5,la,W5,ci,Ye,tv,pr,Il,yf,q5,$5,nv,Re=P(()=>{vf=je(),Ft(),K5=$(rX()),la=$(X()),W5=$(wo()),ci=!1,Ye=(e,t)=>Xe(()=>(0,vf.val)(e),[e],t),tv=0,pr=[],Il=new Set,yf=!1,q5=e=>{$5(e),uX()},$5=e=>{if(!Il.has(e))if(Il.add(e),pr.length===0)pr.push(e);else{let t=G0(pr,n=>n.order>=e.order);t===-1?pr.push(e):pr[t].order>e.order&&pr.splice(t,0,e)}},nv=e=>{if(!Il.has(e))return;Il.delete(e);let t=G0(pr,n=>n===e);pr.splice(t,1)}}),cX=He(e=>{var t=60103,n=60106,o=60107,i=60108,l=60114,s=60109,u=60110,d=60112,f=60113,m=60120,v=60115,g=60116,h=60121,b=60122,y=60117,k=60129,x=60131;typeof Symbol=="function"&&Symbol.for&&(S=Symbol.for,t=S("react.element"),n=S("react.portal"),o=S("react.fragment"),i=S("react.strict_mode"),l=S("react.profiler"),s=S("react.provider"),u=S("react.context"),d=S("react.forward_ref"),f=S("react.suspense"),m=S("react.suspense_list"),v=S("react.memo"),g=S("react.lazy"),h=S("react.block"),b=S("react.server.block"),y=S("react.fundamental"),k=S("react.debug_trace_mode"),x=S("react.legacy_hidden"));var S;function _(C){if(typeof C=="object"&&C!==null){var Q=C.$$typeof;switch(Q){case t:switch(C=C.type,C){case o:case l:case i:case f:case m:return C;default:switch(C=C&&C.$$typeof,C){case u:case d:case g:case v:case s:return C;default:return Q}}case n:return Q}}}var O=s,j=t,z=d,V=o,W=g,B=v,Z=n,re=l,D=i,G=f;e.ContextConsumer=u,e.ContextProvider=O,e.Element=j,e.ForwardRef=z,e.Fragment=V,e.Lazy=W,e.Memo=B,e.Portal=Z,e.Profiler=re,e.StrictMode=D,e.Suspense=G,e.isAsyncMode=function(){return!1},e.isConcurrentMode=function(){return!1},e.isContextConsumer=function(C){return _(C)===u},e.isContextProvider=function(C){return _(C)===s},e.isElement=function(C){return typeof C=="object"&&C!==null&&C.$$typeof===t},e.isForwardRef=function(C){return _(C)===d},e.isFragment=function(C){return _(C)===o},e.isLazy=function(C){return _(C)===g},e.isMemo=function(C){return _(C)===v},e.isPortal=function(C){return _(C)===n},e.isProfiler=function(C){return _(C)===l},e.isStrictMode=function(C){return _(C)===i},e.isSuspense=function(C){return _(C)===f},e.isValidElementType=function(C){return typeof C=="string"||typeof C=="function"||C===o||C===l||C===k||C===i||C===f||C===m||C===x||typeof C=="object"&&C!==null&&(C.$$typeof===g||C.$$typeof===v||C.$$typeof===s||C.$$typeof===u||C.$$typeof===d||C.$$typeof===y||C.$$typeof===h||C[0]===b)},e.typeOf=_}),dX=He((e,t)=>{t.exports=cX()}),L5=He((e,t)=>{t.exports=function(n,o,i,l){var s=i?i.call(l,n,o):void 0;if(s!==void 0)return!!s;if(n===o)return!0;if(typeof n!="object"||!n||typeof o!="object"||!o)return!1;var u=Object.keys(n),d=Object.keys(o);if(u.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(o),m=0;m<u.length;m++){var v=u[m];if(!f(v))return!1;var g=n[v],h=o[v];if(s=i?i.call(l,g,h,v):void 0,s===!1||s===void 0&&g!==h)return!1}return!0}});function fX(e){function t(N,oe,le,ue,te){for(var Oe=0,me=0,Ie=0,Ae=0,We,Ve,it=0,I=0,fe,ce=fe=We=0,U=0,R=0,ne=0,ve=0,ke=le.length,ae=ke-1,Se,ye="",we="",Ue="",ot="",Ze;U<ke;){if(Ve=le.charCodeAt(U),U===ae&&me+Ae+Ie+Oe!==0&&(me!==0&&(Ve=me===47?10:47),Ae=Ie=Oe=0,ke++,ae++),me+Ae+Ie+Oe===0){if(U===ae&&(0<R&&(ye=ye.replace(g,"")),0<ye.trim().length)){switch(Ve){case 32:case 9:case 59:case 13:case 10:break;default:ye+=le.charAt(U)}Ve=59}switch(Ve){case 123:for(ye=ye.trim(),We=ye.charCodeAt(0),fe=1,ve=++U;U<ke;){switch(Ve=le.charCodeAt(U)){case 123:fe++;break;case 125:fe--;break;case 47:switch(Ve=le.charCodeAt(U+1)){case 42:case 47:e:{for(ce=U+1;ce<ae;++ce)switch(le.charCodeAt(ce)){case 47:if(Ve===42&&le.charCodeAt(ce-1)===42&&U+2!==ce){U=ce+1;break e}break;case 10:if(Ve===47){U=ce+1;break e}}U=ce}}break;case 91:Ve++;case 40:Ve++;case 34:case 39:for(;U++<ae&&le.charCodeAt(U)!==Ve;);}if(fe===0)break;U++}switch(fe=le.substring(ve,U),We===0&&(We=(ye=ye.replace(v,"").trim()).charCodeAt(0)),We){case 64:switch(0<R&&(ye=ye.replace(g,"")),Ve=ye.charCodeAt(1),Ve){case 100:case 109:case 115:case 45:R=oe;break;default:R=xe}if(fe=t(oe,R,fe,Ve,te+1),ve=fe.length,0<K&&(R=n(xe,ye,ne),Ze=u(3,fe,R,oe,G,D,ve,Ve,te,ue),ye=R.join(""),Ze!==void 0&&(ve=(fe=Ze.trim()).length)===0&&(Ve=0,fe="")),0<ve)switch(Ve){case 115:ye=ye.replace(z,s);case 100:case 109:case 45:fe=ye+"{"+fe+"}";break;case 107:ye=ye.replace(S,"$1 $2"),fe=ye+"{"+fe+"}",fe=Q===1||Q===2&&l("@"+fe,3)?"@-webkit-"+fe+"@"+fe:"@"+fe;break;default:fe=ye+fe,ue===112&&(fe=(we+=fe,""))}else fe="";break;default:fe=t(oe,n(oe,ye,ne),fe,ue,te+1)}Ue+=fe,fe=ne=R=ce=We=0,ye="",Ve=le.charCodeAt(++U);break;case 125:case 59:if(ye=(0<R?ye.replace(g,""):ye).trim(),1<(ve=ye.length))switch(ce===0&&(We=ye.charCodeAt(0),We===45||96<We&&123>We)&&(ve=(ye=ye.replace(" ",":")).length),0<K&&(Ze=u(1,ye,oe,N,G,D,we.length,ue,te,ue))!==void 0&&(ve=(ye=Ze.trim()).length)===0&&(ye="\0\0"),We=ye.charCodeAt(0),Ve=ye.charCodeAt(1),We){case 0:break;case 64:if(Ve===105||Ve===99){ot+=ye+le.charAt(U);break}default:ye.charCodeAt(ve-1)!==58&&(we+=i(ye,We,Ve,ye.charCodeAt(2)))}ne=R=ce=We=0,ye="",Ve=le.charCodeAt(++U)}}switch(Ve){case 13:case 10:me===47?me=0:1+We===0&&ue!==107&&0<ye.length&&(R=1,ye+="\0"),0<K*ge&&u(0,ye,oe,N,G,D,we.length,ue,te,ue),D=1,G++;break;case 59:case 125:if(me+Ae+Ie+Oe===0){D++;break}default:switch(D++,Se=le.charAt(U),Ve){case 9:case 32:if(Ae+Oe+me===0)switch(it){case 44:case 58:case 9:case 32:Se="";break;default:Ve!==32&&(Se=" ")}break;case 0:Se="\\0";break;case 12:Se="\\f";break;case 11:Se="\\v";break;case 38:Ae+me+Oe===0&&(R=ne=1,Se="\f"+Se);break;case 108:if(Ae+me+Oe+C===0&&0<ce)switch(U-ce){case 2:it===112&&le.charCodeAt(U-3)===58&&(C=it);case 8:I===111&&(C=I)}break;case 58:Ae+me+Oe===0&&(ce=U);break;case 44:me+Ie+Ae+Oe===0&&(R=1,Se+="\r");break;case 34:case 39:me===0&&(Ae=Ae===Ve?0:Ae===0?Ve:Ae);break;case 91:Ae+me+Ie===0&&Oe++;break;case 93:Ae+me+Ie===0&&Oe--;break;case 41:Ae+me+Oe===0&&Ie--;break;case 40:if(Ae+me+Oe===0){if(We===0)switch(2*it+3*I){case 533:break;default:We=1}Ie++}break;case 64:me+Ie+Ae+Oe+ce+fe===0&&(fe=1);break;case 42:case 47:if(!(0<Ae+Oe+Ie))switch(me){case 0:switch(2*Ve+3*le.charCodeAt(U+1)){case 235:me=47;break;case 220:ve=U,me=42}break;case 42:Ve===47&&it===42&&ve+2!==U&&(le.charCodeAt(ve+2)===33&&(we+=le.substring(ve,U+1)),Se="",me=0)}}me===0&&(ye+=Se)}I=it,it=Ve,U++}if(ve=we.length,0<ve){if(R=oe,0<K&&(Ze=u(2,we,R,N,G,D,ve,ue,te,ue),Ze!==void 0&&(we=Ze).length===0))return ot+we+Ue;if(we=R.join(",")+"{"+we+"}",Q*C!==0){switch(Q!==2||l(we,2)||(C=0),C){case 111:we=we.replace(O,":-moz-$1")+we;break;case 112:we=we.replace(_,"::-webkit-input-$1")+we.replace(_,"::-moz-$1")+we.replace(_,":-ms-input-$1")+we}C=0}}return ot+we+Ue}function n(N,oe,le){var ue=oe.trim().split(k);oe=ue;var te=ue.length,Oe=N.length;switch(Oe){case 0:case 1:var me=0;for(N=Oe===0?"":N[0]+" ";me<te;++me)oe[me]=o(N,oe[me],le).trim();break;default:var Ie=me=0;for(oe=[];me<te;++me)for(var Ae=0;Ae<Oe;++Ae)oe[Ie++]=o(N[Ae]+" ",ue[me],le).trim()}return oe}function o(N,oe,le){var ue=oe.charCodeAt(0);switch(33>ue&&(ue=(oe=oe.trim()).charCodeAt(0)),ue){case 38:return oe.replace(x,"$1"+N.trim());case 58:return N.trim()+oe.replace(x,"$1"+N.trim());default:if(0<1*le&&0<oe.indexOf("\f"))return oe.replace(x,(N.charCodeAt(0)===58?"":"$1")+N.trim())}return N+oe}function i(N,oe,le,ue){var te=N+";",Oe=2*oe+3*le+4*ue;if(Oe===944){N=te.indexOf(":",9)+1;var me=te.substring(N,te.length-1).trim();return me=te.substring(0,N).trim()+me+";",Q===1||Q===2&&l(me,1)?"-webkit-"+me+me:me}if(Q===0||Q===2&&!l(te,1))return te;switch(Oe){case 1015:return te.charCodeAt(10)===97?"-webkit-"+te+te:te;case 951:return te.charCodeAt(3)===116?"-webkit-"+te+te:te;case 963:return te.charCodeAt(5)===110?"-webkit-"+te+te:te;case 1009:if(te.charCodeAt(4)!==100)break;case 969:case 942:return"-webkit-"+te+te;case 978:return"-webkit-"+te+"-moz-"+te+te;case 1019:case 983:return"-webkit-"+te+"-moz-"+te+"-ms-"+te+te;case 883:if(te.charCodeAt(8)===45)return"-webkit-"+te+te;if(0<te.indexOf("image-set(",11))return te.replace(re,"$1-webkit-$2")+te;break;case 932:if(te.charCodeAt(4)===45)switch(te.charCodeAt(5)){case 103:return"-webkit-box-"+te.replace("-grow","")+"-webkit-"+te+"-ms-"+te.replace("grow","positive")+te;case 115:return"-webkit-"+te+"-ms-"+te.replace("shrink","negative")+te;case 98:return"-webkit-"+te+"-ms-"+te.replace("basis","preferred-size")+te}return"-webkit-"+te+"-ms-"+te+te;case 964:return"-webkit-"+te+"-ms-flex-"+te+te;case 1023:if(te.charCodeAt(8)!==99)break;return me=te.substring(te.indexOf(":",15)).replace("flex-","").replace("space-between","justify"),"-webkit-box-pack"+me+"-webkit-"+te+"-ms-flex-pack"+me+te;case 1005:return b.test(te)?te.replace(h,":-webkit-")+te.replace(h,":-moz-")+te:te;case 1e3:switch(me=te.substring(13).trim(),oe=me.indexOf("-")+1,me.charCodeAt(0)+me.charCodeAt(oe)){case 226:me=te.replace(j,"tb");break;case 232:me=te.replace(j,"tb-rl");break;case 220:me=te.replace(j,"lr");break;default:return te}return"-webkit-"+te+"-ms-"+me+te;case 1017:if(te.indexOf("sticky",9)===-1)break;case 975:switch(oe=(te=N).length-10,me=(te.charCodeAt(oe)===33?te.substring(0,oe):te).substring(N.indexOf(":",7)+1).trim(),Oe=me.charCodeAt(0)+(me.charCodeAt(7)|0)){case 203:if(111>me.charCodeAt(8))break;case 115:te=te.replace(me,"-webkit-"+me)+";"+te;break;case 207:case 102:te=te.replace(me,"-webkit-"+(102<Oe?"inline-":"")+"box")+";"+te.replace(me,"-webkit-"+me)+";"+te.replace(me,"-ms-"+me+"box")+";"+te}return te+";";case 938:if(te.charCodeAt(5)===45)switch(te.charCodeAt(6)){case 105:return me=te.replace("-items",""),"-webkit-"+te+"-webkit-box-"+me+"-ms-flex-"+me+te;case 115:return"-webkit-"+te+"-ms-flex-item-"+te.replace(W,"")+te;default:return"-webkit-"+te+"-ms-flex-line-pack"+te.replace("align-content","").replace(W,"")+te}break;case 973:case 989:if(te.charCodeAt(3)!==45||te.charCodeAt(4)===122)break;case 931:case 953:if(Z.test(N)===!0)return(me=N.substring(N.indexOf(":")+1)).charCodeAt(0)===115?i(N.replace("stretch","fill-available"),oe,le,ue).replace(":fill-available",":stretch"):te.replace(me,"-webkit-"+me)+te.replace(me,"-moz-"+me.replace("fill-",""))+te;break;case 962:if(te="-webkit-"+te+(te.charCodeAt(5)===102?"-ms-"+te:"")+te,le+ue===211&&te.charCodeAt(13)===105&&0<te.indexOf("transform",10))return te.substring(0,te.indexOf(";",27)+1).replace(y,"$1-webkit-$2")+te}return te}function l(N,oe){var le=N.indexOf(oe===1?":":"{"),ue=N.substring(0,oe!==3?le:10);return le=N.substring(le+1,N.length-1),ee(oe!==2?ue:ue.replace(B,"$1"),le,oe)}function s(N,oe){var le=i(oe,oe.charCodeAt(0),oe.charCodeAt(1),oe.charCodeAt(2));return le!==oe+";"?le.replace(V," or ($1)").substring(4):"("+oe+")"}function u(N,oe,le,ue,te,Oe,me,Ie,Ae,We){for(var Ve=0,it=oe,I;Ve<K;++Ve)switch(I=q[Ve].call(m,N,it,le,ue,te,Oe,me,Ie,Ae,We)){case void 0:case!1:case!0:case null:break;default:it=I}if(it!==oe)return it}function d(N){switch(N){case void 0:case null:K=q.length=0;break;default:if(typeof N=="function")q[K++]=N;else if(typeof N=="object")for(var oe=0,le=N.length;oe<le;++oe)d(N[oe]);else ge=!!N|0}return d}function f(N){return N=N.prefix,N!==void 0&&(ee=null,N?typeof N!="function"?Q=1:(Q=2,ee=N):Q=0),f}function m(N,oe){var le=N;if(33>le.charCodeAt(0)&&(le=le.trim()),A=le,le=[A],0<K){var ue=u(-1,oe,le,le,G,D,0,0,0,0);ue!==void 0&&typeof ue=="string"&&(oe=ue)}var te=t(xe,le,oe,0,0);return 0<K&&(ue=u(-2,te,le,le,G,D,te.length,0,0,0),ue!==void 0&&(te=ue)),A="",C=0,D=G=1,te}var v=/^\0+/g,g=/[\0\r\f]/g,h=/: */g,b=/zoo|gra/,y=/([,: ])(transform)/g,k=/,\r+?/g,x=/([\t\r\n ])*\f?&/g,S=/@(k\w+)\s*(\S*)\s*/,_=/::(place)/g,O=/:(read-only)/g,j=/[svh]\w+-[tblr]{2}/,z=/\(\s*(.*)\s*\)/g,V=/([\s\S]*?);/g,W=/-self|flex-/g,B=/[^]*?(:[rp][el]a[\w-]+)[^]*/,Z=/stretch|:\s*\w+\-(?:conte|avail)/,re=/([^-])(image-set\()/,D=1,G=1,C=0,Q=1,xe=[],q=[],K=0,ee=null,ge=0,A="";return m.use=d,m.set=f,e!==void 0&&f(e),m}var Z5,pX=P(()=>{Z5=fX}),G5,X5,hX=P(()=>{G5={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},X5=G5});function mX(e){var t=Object.create(null);return function(n){return t[n]===void 0&&(t[n]=e(n)),t[n]}}var Y5,gX=P(()=>{Y5=mX}),Q5,J5,rv,vX=P(()=>{gX(),Q5=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,J5=Y5(function(e){return Q5.test(e)||e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)<91}),rv=J5}),yX=He(e=>{var t=typeof Symbol=="function"&&Symbol.for,n=t?Symbol.for("react.element"):60103,o=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,l=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,u=t?Symbol.for("react.provider"):60109,d=t?Symbol.for("react.context"):60110,f=t?Symbol.for("react.async_mode"):60111,m=t?Symbol.for("react.concurrent_mode"):60111,v=t?Symbol.for("react.forward_ref"):60112,g=t?Symbol.for("react.suspense"):60113,h=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,y=t?Symbol.for("react.lazy"):60116,k=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,S=t?Symbol.for("react.responder"):60118,_=t?Symbol.for("react.scope"):60119;function O(z){if(typeof z=="object"&&z!==null){var V=z.$$typeof;switch(V){case n:switch(z=z.type,z){case f:case m:case i:case s:case l:case g:return z;default:switch(z=z&&z.$$typeof,z){case d:case v:case y:case b:case u:return z;default:return V}}case o:return V}}}function j(z){return O(z)===m}e.AsyncMode=f,e.ConcurrentMode=m,e.ContextConsumer=d,e.ContextProvider=u,e.Element=n,e.ForwardRef=v,e.Fragment=i,e.Lazy=y,e.Memo=b,e.Portal=o,e.Profiler=s,e.StrictMode=l,e.Suspense=g,e.isAsyncMode=function(z){return j(z)||O(z)===f},e.isConcurrentMode=j,e.isContextConsumer=function(z){return O(z)===d},e.isContextProvider=function(z){return O(z)===u},e.isElement=function(z){return typeof z=="object"&&z!==null&&z.$$typeof===n},e.isForwardRef=function(z){return O(z)===v},e.isFragment=function(z){return O(z)===i},e.isLazy=function(z){return O(z)===y},e.isMemo=function(z){return O(z)===b},e.isPortal=function(z){return O(z)===o},e.isProfiler=function(z){return O(z)===s},e.isStrictMode=function(z){return O(z)===l},e.isSuspense=function(z){return O(z)===g},e.isValidElementType=function(z){return typeof z=="string"||typeof z=="function"||z===i||z===m||z===s||z===l||z===g||z===h||typeof z=="object"&&z!==null&&(z.$$typeof===y||z.$$typeof===b||z.$$typeof===u||z.$$typeof===d||z.$$typeof===v||z.$$typeof===x||z.$$typeof===S||z.$$typeof===_||z.$$typeof===k)},e.typeOf=O}),bX=He((e,t)=>{t.exports=yX()}),kX=He((e,t)=>{var n=bX(),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},l={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};u[n.ForwardRef]=l,u[n.Memo]=s;function d(k){return n.isMemo(k)?s:u[k.$$typeof]||o}var f=Object.defineProperty,m=Object.getOwnPropertyNames,v=Object.getOwnPropertySymbols,g=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,b=Object.prototype;function y(k,x,S){if(typeof x!="string"){if(b){var _=h(x);_&&_!==b&&y(k,_,S)}var O=m(x);v&&(O=O.concat(v(x)));for(var j=d(k),z=d(x),V=0;V<O.length;++V){var W=O[V];if(!i[W]&&!(S&&S[W])&&!(z&&z[W])&&!(j&&j[W])){var B=g(x,W);try{f(k,W,B)}catch{}}}}return k}t.exports=y});function hr(){return(hr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function yu(e){return typeof e=="function"}function eC(e){return e.displayName||e.name||"Component"}function ov(e){return e&&typeof e.styledComponentId=="string"}function xo(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}function av(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=fv(t%52)+n;return(fv(t%52)+n).replace(EC,"$1-$2")}function tC(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(yu(n)&&!ov(n))return!1}return!0}function nC(e){var t,n,o,i,l=e===void 0?So:e,s=l.options,u=s===void 0?So:s,d=l.plugins,f=d===void 0?bu:d,m=new Z5(u),v=[],g=function(y){function k(x){if(x)try{y(x+"}")}catch{}}return function(x,S,_,O,j,z,V,W,B,Z){switch(x){case 1:if(B===0&&S.charCodeAt(0)===64)return y(S+";"),"";break;case 2:if(W===0)return S+"/*|*/";break;case 3:switch(W){case 102:case 112:return y(_[0]+S),"";default:return S+(Z===0?"/*|*/":"")}case-2:S.split("/*|*/}").forEach(k)}}}(function(y){v.push(y)}),h=function(y,k,x){return k===0&&IC.indexOf(x[n.length])!==-1||x.match(i)?y:"."+t};function b(y,k,x,S){S===void 0&&(S="&");var _=y.replace(CC,""),O=k&&x?x+" "+k+" { "+_+" }":_;return t=S,n=k,o=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),m(x||!k?"":k,O)}return m.use([].concat(f,[function(y,k,x){y===2&&x.length&&x[0].lastIndexOf(n)>0&&(x[0]=x[0].replace(o,h))},g,function(y){if(y===-2){var k=v;return v=[],k}}])),b.hash=f.length?f.reduce(function(y,k){return k.name||xo(15),fi(y,k.name)},5381).toString():"",b}function iv(){return(0,It.useContext)(Sf)||jC}function rC(){return(0,It.useContext)(Ef)||_f}function oC(e){var t=(0,It.useState)(e.stylisPlugins),n=t[0],o=t[1],i=iv(),l=(0,It.useMemo)(function(){var u=i;return e.sheet?u=e.sheet:e.target&&(u=u.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(u=u.reconstructWithOptions({useCSSOMInjection:!1})),u},[e.disableCSSOMInjection,e.sheet,e.target]),s=(0,It.useMemo)(function(){return nC({options:{prefix:!e.disableVendorPrefixes},plugins:n})},[e.disableVendorPrefixes,n]);return(0,It.useEffect)(function(){(0,uC.default)(n,e.stylisPlugins)||o(e.stylisPlugins)},[e.stylisPlugins]),It.default.createElement(Sf.Provider,{value:l},It.default.createElement(Ef.Provider,{value:s},e.children))}function aC(e){return TC.test(e)?e.replace(zC,AC).replace(DC,"-ms-"):e}function di(e,t,n,o){if(Array.isArray(e)){for(var i,l=[],s=0,u=e.length;s<u;s+=1)(i=di(e[s],t,n,o))!==""&&(Array.isArray(i)?l.push.apply(l,i):l.push(i));return l}if(hv(e))return"";if(ov(e))return"."+e.styledComponentId;if(yu(e)){if(typeof(f=e)!="function"||f.prototype&&f.prototype.isReactComponent||!t)return e;var d=e(t);return di(d,t,n,o)}var f;return e instanceof OC?n?(e.inject(n,o),e.getName(o)):e:kf(e)?function m(v,g){var h,b,y=[];for(var k in v)v.hasOwnProperty(k)&&!hv(v[k])&&(Array.isArray(v[k])&&v[k].isCss||yu(v[k])?y.push(aC(k)+":",v[k],";"):kf(v[k])?y.push.apply(y,m(v[k],k)):y.push(aC(k)+": "+(h=k,(b=v[k])==null||typeof b=="boolean"||b===""?"":typeof b!="number"||b===0||h in X5||h.startsWith("--")?String(b).trim():b+"px")+";"));return g?[g+" {"].concat(y,["}"]):y}(e):e.toString()}function Bn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return yu(e)||kf(e)?mv(di(uv(bu,[e].concat(n)))):n.length===0&&e.length===1&&typeof e[0]=="string"?e:mv(di(uv(e,n)))}function lv(e){return e.replace(BC,"-").replace(NC,"")}function bf(e){return typeof e=="string"&&!0}function wX(e,t,n){var o=e[n];Pf(t)&&Pf(o)?iC(o,t):e[n]=t}function iC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];for(var i=0,l=n;i<l.length;i++){var s=l[i];if(Pf(s))for(var u in s)FC(u)&&wX(e,s[u],u)}return e}function lC(e,t,n){var o=ov(e),i=!bf(e),l=t.attrs,s=l===void 0?bu:l,u=t.componentId,d=u===void 0?function(S,_){var O=typeof S!="string"?"sc":lv(S);If[O]=(If[O]||0)+1;var j=O+"-"+vv("5.3.11"+O+If[O]);return _?_+"-"+j:j}(t.displayName,t.parentComponentId):u,f=t.displayName,m=f===void 0?function(S){return bf(S)?"styled."+S:"Styled("+eC(S)+")"}(e):f,v=t.displayName&&t.componentId?lv(t.displayName)+"-"+t.componentId:t.componentId||d,g=o&&e.attrs?Array.prototype.concat(e.attrs,s).filter(Boolean):s,h=t.shouldForwardProp;o&&e.shouldForwardProp&&(h=t.shouldForwardProp?function(S,_,O){return e.shouldForwardProp(S,_,O)&&t.shouldForwardProp(S,_,O)}:e.shouldForwardProp);var b,y=new PC(n,v,o?e.componentStyle:void 0),k=y.isStatic&&s.length===0,x=function(S,_){return function(O,j,z,V){var W=O.attrs,B=O.componentStyle,Z=O.defaultProps,re=O.foldedComponentIds,D=O.shouldForwardProp,G=O.styledComponentId,C=O.target,Q=function(ue,te,Oe){ue===void 0&&(ue=So);var me=hr({},te,{theme:ue}),Ie={};return Oe.forEach(function(Ae){var We,Ve,it,I=Ae;for(We in yu(I)&&(I=I(me)),I)me[We]=Ie[We]=We==="className"?(Ve=Ie[We],it=I[We],Ve&&it?Ve+" "+it:Ve||it):I[We]}),[me,Ie]}(gv(j,(0,It.useContext)(Cf),Z)||So,j,W),xe=Q[0],q=Q[1],K=function(ue,te,Oe,me){var Ie=iv(),Ae=rC(),We=te?ue.generateAndInjectStyles(So,Ie,Ae):ue.generateAndInjectStyles(Oe,Ie,Ae);return We}(B,V,xe),ee=z,ge=q.$as||j.$as||q.as||j.as||C,A=bf(ge),N=q!==j?hr({},j,{},q):j,oe={};for(var le in N)le[0]!=="$"&&le!=="as"&&(le==="forwardedAs"?oe.as=N[le]:(D?D(le,rv,ge):!A||rv(le))&&(oe[le]=N[le]));return j.style&&q.style!==j.style&&(oe.style=hr({},j.style,{},q.style)),oe.className=Array.prototype.concat(re,G,K!==G?K:null,j.className,q.className).filter(Boolean).join(" "),oe.ref=ee,(0,It.createElement)(ge,oe)}(b,S,_,k)};return x.displayName=m,(b=It.default.forwardRef(x)).attrs=g,b.componentStyle=y,b.displayName=m,b.shouldForwardProp=h,b.foldedComponentIds=o?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):bu,b.styledComponentId=v,b.target=o?e.target:e,b.withComponent=function(S){var _=t.componentId,O=function(z,V){if(z==null)return{};var W,B,Z={},re=Object.keys(z);for(B=0;B<re.length;B++)W=re[B],V.indexOf(W)>=0||(Z[W]=z[W]);return Z}(t,["componentId"]),j=_&&_+"-"+(bf(S)?S:lv(eC(S)));return lC(S,hr({},O,{attrs:g,componentId:j}),n)},Object.defineProperty(b,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(S){this._foldedDefaultProps=o?iC({},e.defaultProps,S):S}}),Object.defineProperty(b,"toString",{value:function(){return"."+b.styledComponentId}}),i&&(0,cC.default)(b,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),b}function sC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=Bn.apply(void 0,[e].concat(n)),l="sc-global-"+vv(JSON.stringify(i)),s=new RC(i,l);function u(f){var m=iv(),v=rC(),g=(0,It.useContext)(Cf),h=(0,It.useRef)(m.allocateGSInstance(l)).current;return m.server&&d(h,f,m,g,v),(0,It.useLayoutEffect)(function(){if(!m.server)return d(h,f,m,g,v),function(){return s.removeStyles(h,m)}},[h,f,m,g,v]),null}function d(f,m,v,g,h){if(s.isStatic)s.renderStyles(f,fC,v,h);else{var b=hr({},m,{theme:gv(m,g,u.defaultProps)});s.renderStyles(f,b,v,h)}}return It.default.memo(u)}var sv,It,uC,cC,uv,kf,bu,So,Eo,wf,dC,fC,pC,ku,wu,jl,xu,hC,mC,gC,vC,yC,bC,xf,cv,kC,wC,xC,dv,SC,Ol,EC,fv,fi,pv,_C,PC,CC,IC,Sf,Ef,jC,_f,OC,TC,zC,DC,AC,hv,mv,gv,BC,NC,vv,Pf,FC,Cf,If,jf,RC,M,be=P(()=>{sv=$(dX()),It=$(X()),uC=$(L5()),pX(),hX(),vX(),cC=$(kX()),uv=function(e,t){for(var n=[e[0]],o=0,i=t.length;o<i;o+=1)n.push(t[o],e[o+1]);return n},kf=function(e){return e!==null&&typeof e=="object"&&(e.toString?e.toString():Object.prototype.toString.call(e))==="[object Object]"&&!(0,sv.typeOf)(e)},bu=Object.freeze([]),So=Object.freeze({}),Eo=typeof process<"u"&&on!==void 0&&(on.REACT_APP_SC_ATTR||on.SC_ATTR)||"data-styled",wf=typeof window<"u"&&"HTMLElement"in window,dC=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&on!==void 0&&(on.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&on.REACT_APP_SC_DISABLE_SPEEDY!==""?on.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&on.REACT_APP_SC_DISABLE_SPEEDY:on.SC_DISABLE_SPEEDY!==void 0&&on.SC_DISABLE_SPEEDY!==""&&on.SC_DISABLE_SPEEDY!=="false"&&on.SC_DISABLE_SPEEDY)),fC={},pC=function(){function e(n){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=n}var t=e.prototype;return t.indexOfGroup=function(n){for(var o=0,i=0;i<n;i++)o+=this.groupSizes[i];return o},t.insertRules=function(n,o){if(n>=this.groupSizes.length){for(var i=this.groupSizes,l=i.length,s=l;n>=s;)(s<<=1)<0&&xo(16,""+n);this.groupSizes=new Uint32Array(s),this.groupSizes.set(i),this.length=s;for(var u=l;u<s;u++)this.groupSizes[u]=0}for(var d=this.indexOfGroup(n+1),f=0,m=o.length;f<m;f++)this.tag.insertRule(d,o[f])&&(this.groupSizes[n]++,d++)},t.clearGroup=function(n){if(n<this.length){var o=this.groupSizes[n],i=this.indexOfGroup(n),l=i+o;this.groupSizes[n]=0;for(var s=i;s<l;s++)this.tag.deleteRule(i)}},t.getGroup=function(n){var o="";if(n>=this.length||this.groupSizes[n]===0)return o;for(var i=this.groupSizes[n],l=this.indexOfGroup(n),s=l+i,u=l;u<s;u++)o+=this.tag.getRule(u)+`/*!sc*/
`;return o},e}(),ku=new Map,wu=new Map,jl=1,xu=function(e){if(ku.has(e))return ku.get(e);for(;wu.has(jl);)jl++;var t=jl++;return ku.set(e,t),wu.set(t,e),t},hC=function(e){return wu.get(e)},mC=function(e,t){t>=jl&&(jl=t+1),ku.set(e,t),wu.set(t,e)},gC="style["+Eo+'][data-styled-version="5.3.11"]',vC=new RegExp("^"+Eo+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),yC=function(e,t,n){for(var o,i=n.split(","),l=0,s=i.length;l<s;l++)(o=i[l])&&e.registerName(t,o)},bC=function(e,t){for(var n=(t.textContent||"").split(`/*!sc*/
`),o=[],i=0,l=n.length;i<l;i++){var s=n[i].trim();if(s){var u=s.match(vC);if(u){var d=0|parseInt(u[1],10),f=u[2];d!==0&&(mC(f,d),yC(e,f,u[3]),e.getTag().insertRules(d,o)),o.length=0}else o.push(s)}}},xf=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null},cv=function(e){var t=document.head,n=e||t,o=document.createElement("style"),i=function(u){for(var d=u.childNodes,f=d.length;f>=0;f--){var m=d[f];if(m&&m.nodeType===1&&m.hasAttribute(Eo))return m}}(n),l=i!==void 0?i.nextSibling:null;o.setAttribute(Eo,"active"),o.setAttribute("data-styled-version","5.3.11");var s=xf();return s&&o.setAttribute("nonce",s),n.insertBefore(o,l),o},kC=function(){function e(n){var o=this.element=cv(n);o.appendChild(document.createTextNode("")),this.sheet=function(i){if(i.sheet)return i.sheet;for(var l=document.styleSheets,s=0,u=l.length;s<u;s++){var d=l[s];if(d.ownerNode===i)return d}xo(17)}(o),this.length=0}var t=e.prototype;return t.insertRule=function(n,o){try{return this.sheet.insertRule(o,n),this.length++,!0}catch{return!1}},t.deleteRule=function(n){this.sheet.deleteRule(n),this.length--},t.getRule=function(n){var o=this.sheet.cssRules[n];return o!==void 0&&typeof o.cssText=="string"?o.cssText:""},e}(),wC=function(){function e(n){var o=this.element=cv(n);this.nodes=o.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(n,o){if(n<=this.length&&n>=0){var i=document.createTextNode(o),l=this.nodes[n];return this.element.insertBefore(i,l||null),this.length++,!0}return!1},t.deleteRule=function(n){this.element.removeChild(this.nodes[n]),this.length--},t.getRule=function(n){return n<this.length?this.nodes[n].textContent:""},e}(),xC=function(){function e(n){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(n,o){return n<=this.length&&(this.rules.splice(n,0,o),this.length++,!0)},t.deleteRule=function(n){this.rules.splice(n,1),this.length--},t.getRule=function(n){return n<this.length?this.rules[n]:""},e}(),dv=wf,SC={isServer:!wf,useCSSOMInjection:!dC},Ol=function(){function e(n,o,i){n===void 0&&(n=So),o===void 0&&(o={}),this.options=hr({},SC,{},n),this.gs=o,this.names=new Map(i),this.server=!!n.isServer,!this.server&&wf&&dv&&(dv=!1,function(l){for(var s=document.querySelectorAll(gC),u=0,d=s.length;u<d;u++){var f=s[u];f&&f.getAttribute(Eo)!=="active"&&(bC(l,f),f.parentNode&&f.parentNode.removeChild(f))}}(this))}e.registerId=function(n){return xu(n)};var t=e.prototype;return t.reconstructWithOptions=function(n,o){return o===void 0&&(o=!0),new e(hr({},this.options,{},n),this.gs,o&&this.names||void 0)},t.allocateGSInstance=function(n){return this.gs[n]=(this.gs[n]||0)+1},t.getTag=function(){return this.tag||(this.tag=(i=(o=this.options).isServer,l=o.useCSSOMInjection,s=o.target,n=i?new xC(s):l?new kC(s):new wC(s),new pC(n)));var n,o,i,l,s},t.hasNameForId=function(n,o){return this.names.has(n)&&this.names.get(n).has(o)},t.registerName=function(n,o){if(xu(n),this.names.has(n))this.names.get(n).add(o);else{var i=new Set;i.add(o),this.names.set(n,i)}},t.insertRules=function(n,o,i){this.registerName(n,o),this.getTag().insertRules(xu(n),i)},t.clearNames=function(n){this.names.has(n)&&this.names.get(n).clear()},t.clearRules=function(n){this.getTag().clearGroup(xu(n)),this.clearNames(n)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(n){for(var o=n.getTag(),i=o.length,l="",s=0;s<i;s++){var u=hC(s);if(u!==void 0){var d=n.names.get(u),f=o.getGroup(s);if(d&&f&&d.size){var m=Eo+".g"+s+'[id="'+u+'"]',v="";d!==void 0&&d.forEach(function(g){g.length>0&&(v+=g+",")}),l+=""+f+m+'{content:"'+v+`"}/*!sc*/
`}}}return l}(this)},e}(),EC=/(a)(d)/gi,fv=function(e){return String.fromCharCode(e+(e>25?39:97))},fi=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},pv=function(e){return fi(5381,e)},_C=pv("5.3.11"),PC=function(){function e(t,n,o){this.rules=t,this.staticRulesId="",this.isStatic=(o===void 0||o.isStatic)&&tC(t),this.componentId=n,this.baseHash=fi(_C,n),this.baseStyle=o,Ol.registerId(n)}return e.prototype.generateAndInjectStyles=function(t,n,o){var i=this.componentId,l=[];if(this.baseStyle&&l.push(this.baseStyle.generateAndInjectStyles(t,n,o)),this.isStatic&&!o.hash)if(this.staticRulesId&&n.hasNameForId(i,this.staticRulesId))l.push(this.staticRulesId);else{var s=di(this.rules,t,n,o).join(""),u=av(fi(this.baseHash,s)>>>0);if(!n.hasNameForId(i,u)){var d=o(s,"."+u,void 0,i);n.insertRules(i,u,d)}l.push(u),this.staticRulesId=u}else{for(var f=this.rules.length,m=fi(this.baseHash,o.hash),v="",g=0;g<f;g++){var h=this.rules[g];if(typeof h=="string")v+=h;else if(h){var b=di(h,t,n,o),y=Array.isArray(b)?b.join(""):b;m=fi(m,y+g),v+=y}}if(v){var k=av(m>>>0);if(!n.hasNameForId(i,k)){var x=o(v,"."+k,void 0,i);n.insertRules(i,k,x)}l.push(k)}}return l.join(" ")},e}(),CC=/^\s*\/\/.*$/gm,IC=[":","[",".","#"],Sf=It.default.createContext(),Sf.Consumer,Ef=It.default.createContext(),jC=(Ef.Consumer,new Ol),_f=nC(),OC=function(){function e(t,n){var o=this;this.inject=function(i,l){l===void 0&&(l=_f);var s=o.name+l.hash;i.hasNameForId(o.id,s)||i.insertRules(o.id,s,l(o.rules,s,"@keyframes"))},this.toString=function(){return xo(12,String(o.name))},this.name=t,this.id="sc-keyframes-"+t,this.rules=n}return e.prototype.getName=function(t){return t===void 0&&(t=_f),this.name+t.hash},e}(),TC=/([A-Z])/,zC=/([A-Z])/g,DC=/^ms-/,AC=function(e){return"-"+e.toLowerCase()},hv=function(e){return e==null||e===!1||e===""},mv=function(e){return Array.isArray(e)&&(e.isCss=!0),e},gv=function(e,t,n){return n===void 0&&(n=So),e.theme!==n.theme&&e.theme||t||n.theme},BC=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,NC=/(^-|-$)/g,vv=function(e){return av(pv(e)>>>0)},Pf=function(e){return typeof e=="function"||typeof e=="object"&&e!==null&&!Array.isArray(e)},FC=function(e){return e!=="__proto__"&&e!=="constructor"&&e!=="prototype"},Cf=It.default.createContext(),Cf.Consumer,If={},jf=function(e){return function t(n,o,i){if(i===void 0&&(i=So),!(0,sv.isValidElementType)(o))return xo(1,String(o));var l=function(){return n(o,i,Bn.apply(void 0,arguments))};return l.withConfig=function(s){return t(n,o,hr({},i,{},s))},l.attrs=function(s){return t(n,o,hr({},i,{attrs:Array.prototype.concat(i.attrs,s).filter(Boolean)}))},l}(lC,e)},["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach(function(e){jf[e]=jf(e)}),RC=function(){function e(n,o){this.rules=n,this.componentId=o,this.isStatic=tC(n),Ol.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(n,o,i,l){var s=l(di(this.rules,o,i,l).join(""),""),u=this.componentId+n;i.insertRules(u,u,s)},t.removeStyles=function(n,o){o.clearRules(this.componentId+n)},t.renderStyles=function(n,o,i,l){n>2&&Ol.registerId(this.componentId+n),this.removeStyles(n,i),this.createStyles(n,o,i,l)},e}(),function(){function e(){var n=this;this._emitSheetCSS=function(){var o=n.instance.toString();if(!o)return"";var i=xf();return"<style "+[i&&'nonce="'+i+'"',Eo+'="true"','data-styled-version="5.3.11"'].filter(Boolean).join(" ")+">"+o+"</style>"},this.getStyleTags=function(){return n.sealed?xo(2):n._emitSheetCSS()},this.getStyleElement=function(){var o;if(n.sealed)return xo(2);var i=((o={})[Eo]="",o["data-styled-version"]="5.3.11",o.dangerouslySetInnerHTML={__html:n.instance.toString()},o),l=xf();return l&&(i.nonce=l),[It.default.createElement("style",hr({},i,{key:"sc-0-0"}))]},this.seal=function(){n.sealed=!0},this.instance=new Ol({isServer:!0}),this.sealed=!1}var t=e.prototype;return t.collectStyles=function(n){return this.sealed?xo(2):It.default.createElement(oC,{sheet:this.instance},n)},t.interleaveWithNodeStream=function(n){return xo(3)},e}(),M=jf});function pi(){return pi=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},pi.apply(this,arguments)}var xX=P(()=>{});function SX(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var EX=P(()=>{});function Su(e,t){return Su=Object.setPrototypeOf||function(n,o){return n.__proto__=o,n},Su(e,t)}var yv=P(()=>{});function _X(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,Su(e,t)}var PX=P(()=>{yv()});function bv(e){return bv=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},bv(e)}var CX=P(()=>{});function IX(e){return Function.toString.call(e).indexOf("[native code]")!==-1}var jX=P(()=>{});function OX(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var TX=P(()=>{});function Of(e,t,n){return OX()?Of=Reflect.construct:Of=function(o,i,l){var s=[null];s.push.apply(s,i);var u=Function.bind.apply(o,s),d=new u;return l&&Su(d,l.prototype),d},Of.apply(null,arguments)}var zX=P(()=>{yv(),TX()});function kv(e){var t=typeof Map=="function"?new Map:void 0;return kv=function(n){if(n===null||!IX(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,o)}function o(){return Of(n,arguments,bv(this).constructor)}return o.prototype=Object.create(n.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),Su(o,n)},kv(e)}var DX=P(()=>{CX(),yv(),jX(),zX()}),AX=P(()=>{});function BX(e){return e.charAt(0).toUpperCase()+e.slice(1)}function NX(e,t){if(!e)return t.toLowerCase();var n=e.split("-");if(n.length>1)return n.splice(1,0,t),n.reduce(function(i,l){return""+i+BX(l)});var o=e.replace(/([a-z])([A-Z])/g,"$1"+t+"$2");return e===o?""+e+t:o}function FX(e,t){for(var n={},o=0;o<t.length;o+=1)(t[o]||t[o]===0)&&(n[NX(e,qC[o])]=t[o]);return n}function MC(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=n[0],l=n[1],s=l===void 0?i:l,u=n[2],d=u===void 0?i:u,f=n[3],m=f===void 0?s:f,v=[i,s,d,m];return FX(e,v)}function wv(e){return Math.round(e*255)}function RX(e,t,n){return wv(e)+","+wv(t)+","+wv(n)}function Tf(e,t,n,o){if(o===void 0&&(o=RX),t===0)return o(n,n,n);var i=(e%360+360)%360/60,l=(1-Math.abs(2*n-1))*t,s=l*(1-Math.abs(i%2-1)),u=0,d=0,f=0;i>=0&&i<1?(u=l,d=s):i>=1&&i<2?(u=s,d=l):i>=2&&i<3?(d=l,f=s):i>=3&&i<4?(d=s,f=l):i>=4&&i<5?(u=s,f=l):i>=5&&i<6&&(u=l,f=s);var m=n-l/2,v=u+m,g=d+m,h=f+m;return o(v,g,h)}function MX(e){if(typeof e!="string")return e;var t=e.toLowerCase();return Pv[t]?"#"+Pv[t]:e}function UC(e){if(typeof e!="string")throw new mr(3);var t=MX(e);if(t.match($C))return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16)};if(t.match(LC)){var n=parseFloat((parseInt(""+t[7]+t[8],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[2],16),green:parseInt(""+t[3]+t[4],16),blue:parseInt(""+t[5]+t[6],16),alpha:n}}if(t.match(ZC))return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16)};if(t.match(GC)){var o=parseFloat((parseInt(""+t[4]+t[4],16)/255).toFixed(2));return{red:parseInt(""+t[1]+t[1],16),green:parseInt(""+t[2]+t[2],16),blue:parseInt(""+t[3]+t[3],16),alpha:o}}var i=Af.exec(t);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var l=XC.exec(t.substring(0,50));if(l)return{red:parseInt(""+l[1],10),green:parseInt(""+l[2],10),blue:parseInt(""+l[3],10),alpha:parseFloat(""+l[4])};var s=YC.exec(t);if(s){var u=parseInt(""+s[1],10),d=parseInt(""+s[2],10)/100,f=parseInt(""+s[3],10)/100,m="rgb("+Tf(u,d,f)+")",v=Af.exec(m);if(!v)throw new mr(4,t,m);return{red:parseInt(""+v[1],10),green:parseInt(""+v[2],10),blue:parseInt(""+v[3],10)}}var g=QC.exec(t.substring(0,50));if(g){var h=parseInt(""+g[1],10),b=parseInt(""+g[2],10)/100,y=parseInt(""+g[3],10)/100,k="rgb("+Tf(h,b,y)+")",x=Af.exec(k);if(!x)throw new mr(4,t,k);return{red:parseInt(""+x[1],10),green:parseInt(""+x[2],10),blue:parseInt(""+x[3],10),alpha:parseFloat(""+g[4])}}throw new mr(5)}function UX(e){var t=e.red/255,n=e.green/255,o=e.blue/255,i=Math.max(t,n,o),l=Math.min(t,n,o),s=(i+l)/2;if(i===l)return e.alpha!==void 0?{hue:0,saturation:0,lightness:s,alpha:e.alpha}:{hue:0,saturation:0,lightness:s};var u,d=i-l,f=s>.5?d/(2-i-l):d/(i+l);switch(i){case t:u=(n-o)/d+(n<o?6:0);break;case n:u=(o-t)/d+2;break;default:u=(t-n)/d+4;break}return u*=60,e.alpha!==void 0?{hue:u,saturation:f,lightness:s,alpha:e.alpha}:{hue:u,saturation:f,lightness:s}}function xv(e){return UX(UC(e))}function hi(e){var t=e.toString(16);return t.length===1?"0"+t:t}function Sv(e){return hi(Math.round(e*255))}function VX(e,t,n){return Bf("#"+Sv(e)+Sv(t)+Sv(n))}function VC(e,t,n){return Tf(e,t,n,VX)}function HX(e,t,n){if(typeof e=="object"&&t===void 0&&n===void 0)return VC(e.hue,e.saturation,e.lightness);throw new mr(1)}function KX(e,t,n,o){if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?VC(e.hue,e.saturation,e.lightness):"rgba("+Tf(e.hue,e.saturation,e.lightness)+","+e.alpha+")";throw new mr(2)}function HC(e,t,n){if(typeof e=="number"&&typeof t=="number"&&typeof n=="number")return Bf("#"+hi(e)+hi(t)+hi(n));if(typeof e=="object"&&t===void 0&&n===void 0)return Bf("#"+hi(e.red)+hi(e.green)+hi(e.blue));throw new mr(6)}function KC(e,t,n,o){if(typeof e=="object"&&t===void 0&&n===void 0&&o===void 0)return e.alpha>=1?HC(e.red,e.green,e.blue):"rgba("+e.red+","+e.green+","+e.blue+","+e.alpha+")";throw new mr(7)}function Ev(e){if(typeof e!="object")throw new mr(8);if(eI(e))return KC(e);if(JC(e))return HC(e);if(nI(e))return KX(e);if(tI(e))return HX(e);throw new mr(8)}function WC(e,t,n){return function(){var o=n.concat(Array.prototype.slice.call(arguments));return o.length>=t?e.apply(this,o):WC(e,t,o)}}function zf(e){return WC(e,e.length,[])}function Df(e,t,n){return Math.max(e,Math.min(t,n))}function WX(e,t){if(t==="transparent")return t;var n=xv(t);return Ev(pi({},n,{lightness:Df(0,1,n.lightness-parseFloat(e))}))}function qX(e,t){if(t==="transparent")return t;var n=xv(t);return Ev(pi({},n,{lightness:Df(0,1,n.lightness+parseFloat(e))}))}function $X(e,t){if(t==="transparent")return t;var n=xv(t);return Ev(pi({},n,{saturation:Df(0,1,n.saturation+parseFloat(e))}))}function LX(e,t){if(t==="transparent")return t;var n=UC(t),o=typeof n.alpha=="number"?n.alpha:1,i=pi({},n,{alpha:Df(0,1,+(o*100-parseFloat(e)*100).toFixed(2)/100)});return KC(i)}function _v(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return rI.indexOf(e)>=0&&e?pi({},MC.apply(void 0,[""].concat(n)),{position:e}):MC.apply(void 0,["",e].concat(n))}var mr,qC,Pv,$C,LC,ZC,GC,Af,XC,YC,QC,Bf,JC,eI,tI,nI,Eu,Tl,Nf,gr,rI,Nn=P(()=>{xX(),EX(),PX(),DX(),AX(),mr=function(e){_X(t,e);function t(n){var o;return o=e.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+n+" for more information.")||this,SX(o)}return t}(kv(Error)),qC=["Top","Right","Bottom","Left"],Pv={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},$C=/^#[a-fA-F0-9]{6}$/,LC=/^#[a-fA-F0-9]{8}$/,ZC=/^#[a-fA-F0-9]{3}$/,GC=/^#[a-fA-F0-9]{4}$/,Af=/^rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*\)$/i,XC=/^rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,YC=/^hsl\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,QC=/^hsla\(\s*(\d{0,3}[.]?[0-9]+)\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*(\d{1,3}[.]?[0-9]?)%\s*,\s*([-+]?[0-9]*[.]?[0-9]+)\s*\)$/i,Bf=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},JC=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},eI=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},tI=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},nI=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"},Eu=zf(WX),Tl=zf(qX),Nf=zf($X),gr=zf(LX),rI=["absolute","fixed","relative","static","sticky"]});function ZX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function oI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function mi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?oI(Object(n),!0).forEach(function(o){ZX(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):oI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function zl(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var _u=P(()=>{}),aI,Cv,iI=P(()=>{aI=$(X()),Cv=(0,aI.createContext)({})});function GX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Dl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lI(Object(n),!0).forEach(function(o){GX(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function Iv(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function XX(e,t){if(e){if(typeof e=="string")return sI(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sI(e,t)}}function sI(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function uI(e,t){var n;if(typeof Symbol>"u"||e[Symbol.iterator]==null){if(Array.isArray(e)||(n=XX(e))||t){n&&(e=n);var o=0;return function(){return o>=e.length?{done:!0}:{done:!1,value:e[o++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}return n=e[Symbol.iterator](),n.next.bind(n)}var Ff=P(()=>{});function YX(e){return typeof e=="function"}var jv,cI,QX=P(()=>{jv=$(X()),iI(),Ff(),cI=function(e,t,n){n===void 0&&(n=t.children);var o=(0,jv.useContext)(Cv);if(o.useCreateElement)return o.useCreateElement(e,t,n);if(typeof e=="string"&&YX(n)){t.children;var i=Iv(t,["children"]);return n(i)}return(0,jv.createElement)(e,t,n)}});function JX(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dI(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,o)}return n}function Al(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dI(Object(n),!0).forEach(function(o){JX(e,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dI(Object(n)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(n,o))})}return e}function eY(e,t){if(e==null)return{};var n={},o=Object.keys(e),i,l;for(l=0;l<o.length;l++)i=o[l],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}var fI=P(()=>{});function tY(e){return typeof e=="object"&&e!=null}var nY=P(()=>{});function Ov(e){var t;if(!tY(e))return!1;var n=Object.getPrototypeOf(e);return n==null?!0:((t=n.constructor)===null||t===void 0?void 0:t.toString())===Object.toString()}var pI=P(()=>{nY()});function hI(e,t){for(var n=Object.keys(e),o={},i={},l=0,s=n;l<s.length;l++){var u=s[l];t.indexOf(u)>=0?o[u]=e[u]:i[u]=e[u]}return[o,i]}function mI(e,t){if(t===void 0&&(t=[]),!Ov(e.state))return hI(e,t);var n=hI(e,[].concat(t,["state"])),o=n[0],i=n[1],l=o.state,s=eY(o,["state"]);return[Al(Al({},l),s),i]}var rY=P(()=>{fI(),pI()});function Rf(e,t){if(e===t)return!0;if(!e||!t||typeof e!="object"||typeof t!="object")return!1;var n=Object.keys(e),o=Object.keys(t),i=n.length;if(o.length!==i)return!1;for(var l=0,s=n;l<s.length;l++){var u=s[l];if(e[u]!==t[u])return!1}return!0}var Tv=P(()=>{});function gI(e){return e.name==="normalizePropsAreEqualInner"?e:function(t,n){return!Ov(t.state)||!Ov(n.state)?e(t,n):e(Al(Al({},t.state),t),Al(Al({},n.state),n))}}var oY=P(()=>{fI(),pI()});function aY(e){return(0,zv.forwardRef)(e)}function iY(e,t){return(0,zv.memo)(e,t)}function Pu(e){var t=e.as,n=e.useHook,o=e.memo,i=e.propsAreEqual,l=i===void 0?n==null?void 0:n.unstable_propsAreEqual:i,s=e.keys,u=s===void 0?(n==null?void 0:n.__keys)||[]:s,d=e.useCreateElement,f=d===void 0?cI:d,m=function(v,g){var h=v.as,b=h===void 0?t:h,y=Iv(v,["as"]);if(n){var k,x=mI(y,u),S=x[0],_=x[1],O=n(S,Dl({ref:g},_)),j=O.wrapElement,z=Iv(O,["wrapElement"]),V=((k=b.render)===null||k===void 0?void 0:k.__keys)||b.__keys,W=V&&mI(y,V)[0],B=W?Dl(Dl({},z),W):z,Z=f(b,B);return j?j(Z):Z}return f(b,Dl({ref:g},y))};return m=aY(m),o&&(m=iY(m,l&&gI(l))),m.__keys=u,m.unstable_propsAreEqual=gI(l||Rf),m}var zv,Cu=P(()=>{zv=$(X()),Ff(),QX(),rY(),Tv(),oY()});function vI(e,t){(0,Dv.useDebugValue)(e);var n=(0,Dv.useContext)(Cv);return n[e]!=null?n[e]:t}var Dv,yI=P(()=>{Dv=$(X()),iI()});function lY(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Props";(0,bI.useDebugValue)(o);var i=vI(o);return i?i(t,n):n}var bI,sY=P(()=>{bI=$(X()),yI()});function uY(e,t,n){t===void 0&&(t={}),n===void 0&&(n={});var o="use"+e+"Options";(0,kI.useDebugValue)(o);var i=vI(o);return i?Dl(Dl({},t),i(t,n)):t}var kI,cY=P(()=>{kI=$(X()),yI(),Ff()});function dY(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}var fY=P(()=>{});function Iu(e){var t,n,o=dY(e.compose),i=function(u,d){if(e.useOptions&&(u=e.useOptions(u,d)),e.name&&(u=uY(e.name,u,d)),e.compose)for(var f=uI(o),m;!(m=f()).done;){var v=m.value;u=v.__useOptions(u,d)}return u},l=function(u,d,f){if(u===void 0&&(u={}),d===void 0&&(d={}),f===void 0&&(f=!1),f||(u=i(u,d)),e.useProps&&(d=e.useProps(u,d)),e.name&&(d=lY(e.name,u,d)),e.compose)if(e.useComposeOptions&&(u=e.useComposeOptions(u,d)),e.useComposeProps)d=e.useComposeProps(u,d);else for(var m=uI(o),v;!(v=m()).done;){var g=v.value;d=g(u,d,!0)}var h={},b=d||{};for(var y in b)b[y]!==void 0&&(h[y]=b[y]);return h};l.__useOptions=i;var s=o.reduce(function(u,d){return u.push.apply(u,d.__keys||[]),u},[]);return l.__keys=[].concat(s,((t=e.useState)===null||t===void 0?void 0:t.__keys)||[],e.keys||[]),l.unstable_propsAreEqual=e.propsAreEqual||((n=o[0])===null||n===void 0?void 0:n.unstable_propsAreEqual)||Rf,l}var ju=P(()=>{$(X()),sY(),Ff(),cY(),Tv(),fY()});function wI(e,t){t===void 0&&(t=null),e&&(typeof e=="function"?e(t):e.current=t)}function xI(e,t){return(0,SI.useMemo)(function(){return e==null&&t==null?null:function(n){wI(e,n),wI(t,n)}},[e,t])}var SI,EI=P(()=>{SI=$(X())});function Av(e){if(e.tagName==="BUTTON")return!0;if(e.tagName==="INPUT"){var t=e;return _I.indexOf(t.type)!==-1}return!1}var _I,Bv=P(()=>{_I=["button","color","file","image","reset","submit"]}),Nv=P(()=>{}),pY=P(()=>{Nv(),$(X())}),Mf=P(()=>{Nv(),$(X()),pY()});function hY(e){return e?e.ownerDocument||e:document}var PI=P(()=>{});function mY(e){return CI}var CI,gY=P(()=>{PI();try{CI=window}catch{}});function vY(){var e=mY();return!!(typeof e<"u"&&e.document&&e.document.createElement)}var Uf,Fv=P(()=>{gY(),Uf=vY()}),Rv,Mv,Uv=P(()=>{Rv=$(X()),Fv(),Mv=Uf?Rv.useLayoutEffect:Rv.useEffect});function Bl(e){var t=(0,II.useRef)(e);return Mv(function(){t.current=e}),t}var II,jI=P(()=>{II=$(X()),Uv()});function yY(e){return e.target===e.currentTarget}var bY=P(()=>{});function kY(e){var t=hY(e),n=t.activeElement;return n!=null&&n.nodeName?n:null}var wY=P(()=>{PI()});function OI(e,t){return e===t||e.contains(t)}var TI=P(()=>{});function xY(e){var t=kY(e);if(!t)return!1;if(OI(e,t))return!0;var n=t.getAttribute("aria-activedescendant");return n?n===e.id?!0:!!e.querySelector("#"+n):!1}var SY=P(()=>{wY(),TI()});function EY(e){return!OI(e.currentTarget,e.target)}var _Y=P(()=>{TI()});function Vf(e){return Uf?window.navigator.userAgent.indexOf(e)!==-1:!1}var PY=P(()=>{Fv()});function CY(e,t){return"matches"in e?e.matches(t):"msMatchesSelector"in e?e.msMatchesSelector(t):e.webkitMatchesSelector(t)}var IY=P(()=>{});function jY(e){var t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function OY(e){return CY(e,zI)&&jY(e)}var zI,TY=P(()=>{IY(),zI="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])"}),DI,Hf,AI=P(()=>{_u(),Cu(),ju(),Tv(),DI=["unstable_system"],Hf=Iu({name:"Role",keys:DI,propsAreEqual:function(e,t){var n=e.unstable_system,o=zl(e,["unstable_system"]),i=t.unstable_system,l=zl(t,["unstable_system"]);return n!==i&&!Rf(n,i)?!1:Rf(o,l)}}),Pu({as:"div",useHook:Hf})});function BI(e){!xY(e)&&OY(e)&&e.focus()}function zY(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"||e.tagName==="A"}function DY(e){return e.tagName==="BUTTON"||e.tagName==="INPUT"||e.tagName==="SELECT"||e.tagName==="TEXTAREA"}function AY(e,t,n,o){return e?t&&!n?-1:void 0:t?o:o||0}function Vv(e,t){return(0,Nl.useCallback)(function(n){var o;(o=e.current)===null||o===void 0||o.call(e,n),!n.defaultPrevented&&t&&(n.stopPropagation(),n.preventDefault())},[e,t])}var Nl,NI,FI,Hv,BY=P(()=>{_u(),Cu(),ju(),Nl=$(X()),EI(),Bv(),Mf(),jI(),Uv(),SY(),_Y(),PY(),TY(),AI(),NI=["disabled","focusable"],FI=Vf("Mac")&&!Vf("Chrome")&&(Vf("Safari")||Vf("Firefox")),Hv=Iu({name:"Tabbable",compose:Hf,keys:NI,useOptions:function(e,t){var n=t.disabled;return mi({disabled:n},e)},useProps:function(e,t){var n=t.ref,o=t.tabIndex,i=t.onClickCapture,l=t.onMouseDownCapture,s=t.onMouseDown,u=t.onKeyPressCapture,d=t.style,f=zl(t,["ref","tabIndex","onClickCapture","onMouseDownCapture","onMouseDown","onKeyPressCapture","style"]),m=(0,Nl.useRef)(null),v=Bl(i),g=Bl(l),h=Bl(s),b=Bl(u),y=!!e.disabled&&!e.focusable,k=(0,Nl.useState)(!0),x=k[0],S=k[1],_=(0,Nl.useState)(!0),O=_[0],j=_[1],z=e.disabled?mi({pointerEvents:"none"},d):d;Mv(function(){var re=m.current;re&&(zY(re)||S(!1),DY(re)||j(!1))},[]);var V=Vv(v,e.disabled),W=Vv(g,e.disabled),B=Vv(b,e.disabled),Z=(0,Nl.useCallback)(function(re){var D;(D=h.current)===null||D===void 0||D.call(h,re);var G=re.currentTarget;if(!re.defaultPrevented&&FI&&!EY(re)&&Av(G)){var C=requestAnimationFrame(function(){G.removeEventListener("mouseup",Q,!0),BI(G)}),Q=function(){cancelAnimationFrame(C),BI(G)};G.addEventListener("mouseup",Q,{once:!0,capture:!0})}},[]);return mi({ref:xI(m,n),style:z,tabIndex:AY(y,x,O,o),disabled:y&&O?!0:void 0,"aria-disabled":e.disabled?!0:void 0,onClickCapture:V,onMouseDownCapture:W,onMouseDown:Z,onKeyPressCapture:B},f)}}),Pu({as:"div",useHook:Hv})});function NY(e){var t=e.currentTarget;return e.isTrusted?Av(t)||t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.tagName==="A"||t.tagName==="SELECT":!1}var Kf,RI,Kv,FY=P(()=>{_u(),Cu(),ju(),Kf=$(X()),Bv(),Mf(),jI(),bY(),BY(),RI=["unstable_clickOnEnter","unstable_clickOnSpace"],Kv=Iu({name:"Clickable",compose:Hv,keys:RI,useOptions:function(e){var t=e.unstable_clickOnEnter,n=t===void 0?!0:t,o=e.unstable_clickOnSpace,i=o===void 0?!0:o,l=zl(e,["unstable_clickOnEnter","unstable_clickOnSpace"]);return mi({unstable_clickOnEnter:n,unstable_clickOnSpace:i},l)},useProps:function(e,t){var n=t.onKeyDown,o=t.onKeyUp,i=zl(t,["onKeyDown","onKeyUp"]),l=(0,Kf.useState)(!1),s=l[0],u=l[1],d=Bl(n),f=Bl(o),m=(0,Kf.useCallback)(function(g){var h;if((h=d.current)===null||h===void 0||h.call(d,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey&&yY(g)){var b=e.unstable_clickOnEnter&&g.key==="Enter",y=e.unstable_clickOnSpace&&g.key===" ";if(b||y){if(NY(g))return;g.preventDefault(),b?g.currentTarget.click():y&&u(!0)}}},[e.disabled,e.unstable_clickOnEnter,e.unstable_clickOnSpace]),v=(0,Kf.useCallback)(function(g){var h;if((h=f.current)===null||h===void 0||h.call(f,g),!g.defaultPrevented&&!e.disabled&&!g.metaKey){var b=e.unstable_clickOnSpace&&g.key===" ";s&&b&&(u(!1),g.currentTarget.click())}},[e.disabled,e.unstable_clickOnSpace,s]);return mi({"data-active":s||void 0,onKeyDown:m,onKeyUp:v},i)}}),Pu({as:"button",memo:!0,useHook:Kv})}),Ou,MI,UI,VI,RY=P(()=>{_u(),Cu(),ju(),Ou=$(X()),EI(),Bv(),Mf(),FY(),MI=[],UI=Iu({name:"Button",compose:Kv,keys:MI,useProps:function(e,t){var n=t.ref,o=zl(t,["ref"]),i=(0,Ou.useRef)(null),l=(0,Ou.useState)(void 0),s=l[0],u=l[1],d=(0,Ou.useState)("button"),f=d[0],m=d[1];return(0,Ou.useEffect)(function(){var v=i.current;v&&(Av(v)||(v.tagName!=="A"&&u("button"),m(void 0)))},[]),mi({ref:xI(i,n),role:s,type:f},o)}}),VI=Pu({as:"button",memo:!0,useHook:UI})}),HI,KI,WI,MY=P(()=>{_u(),Cu(),ju(),AI(),HI=[],KI=Iu({name:"Group",compose:Hf,keys:HI,useProps:function(e,t){return mi({role:"group"},t)}}),WI=Pu({as:"div",useHook:KI})});function UY(){return Uf?document.body:null}var qI,Fl,VY=P(()=>{qI=$(X()),Uv(),Fv(),$(wo()),Fl=(0,qI.createContext)(UY())}),Wv,HY=P(()=>{typeof window<"u"&&(Wv={get passive(){}},window.addEventListener("testPassive",null,Wv),window.removeEventListener("testPassive",null,Wv))}),gi=P(()=>{$(X()),Mf(),RY(),MY(),$(wo()),VY(),HY(),Nv()});function Qe(e){let t=(0,qv.useMemo)(()=>{let i=e;return{get current(){return i},set current(l){i=l,o(l)}}},[]),[n,o]=(0,qv.useState)(()=>e);return[t,n]}var qv,nt=P(()=>{qv=$(X())});function KY(e){return t=>an.default.createElement(YI,null,an.default.createElement(e,L({},t)))}var an,$I,LI,tt,Rl,ZI,GI,XI,$v,Lv,YI,rt=P(()=>{Nn(),be(),be(),an=$(X()),$I=$(wo()),gi(),nt(),tt=Bn(LI||(LI=F([`
  #pointer-root & {
    pointer-events: none;
  }
  #pointer-root.normal & {
    pointer-events: auto;
  }
`]))),Rl={panel:{bg:"#282b2f",head:{title:{color:"#bbb"},punctuation:{color:"#808080"}},body:{compoudThing:{label:{get color(){return Tl(.6,Rl.panel.bg)}}}}}},GI=typeof window<"u"?sC(ZI||(ZI=F([`
  :host {
    all: initial;
    color: white;
    font: 11px -apple-system, BlinkMacSystemFont, Segoe WPC, Segoe Editor,
      HelveticaNeue-Light, Ubuntu, Droid Sans, sans-serif;
  }

  * {
    padding: 0;
    margin: 0;
    font-size: 100%;
    font: inherit;
    vertical-align: baseline;
    list-style: none;
  }
`]))):{},$v=M.div(XI||(XI=F([`
  z-index: 51;
  position: fixed;
  top: 0px;
  right: 0px;
  bottom: 0px;
  left: 0px;
  pointer-events: none;
`]))),Lv=e=>an.default.createElement(oC,{disableVendorPrefixes:!0,target:e.target},an.default.createElement(an.default.Fragment,null,an.default.createElement(GI,null),e.children)),YI=e=>{let[t,n]=(0,an.useState)(null),[o,i]=(0,an.useState)(null);(0,an.useLayoutEffect)(()=>{if(!t)return;let{parentNode:u}=t;if(!u)return;let d=u.shadowRoot?parent.shadowRoot:u.attachShadow({mode:"open"});i(d)},[t]);let[l,s]=Qe(void 0);return o?$I.default.createPortal(an.default.createElement(Lv,{target:o},an.default.createElement(an.default.Fragment,null,an.default.createElement($v,{ref:l}),an.default.createElement(Fl.Provider,{value:s},e.children))),o):an.default.createElement("template",{ref:n,"shadow-root":"open"},e.children)}}),Ml,QI,JI,sa,e3,Tu,t3,n3,Wf,r3,Zv,Hr,_o=P(()=>{rt(),be(),Ml={get outlinePanel(){return 1},get propsPanel(){return Ml.outlinePanel},get sequenceEditorPanel(){return this.outlinePanel-1},get toolbar(){return this.outlinePanel+1},get pluginPanes(){return this.sequenceEditorPanel-1}},QI=Rl.panel.bg,sa=M.span(JI||(JI=F([`
  white-space: nowrap;
`]))),Tu=M.span(e3||(e3=F([`
  white-space: nowrap;
  color: `,`;
`])),Rl.panel.head.punctuation.color),n3=M.div(t3||(t3=F([`
  background: `,`;
  flex-grow: 1;
  overflow-y: scroll;
  padding: 0;
`])),QI),Wf=18,Zv=M.div(r3||(r3=F([`
  height: `,`px;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  padding: 0 10px;
  position: relative;
  color: #adadadb3;
  border-bottom: 1px solid rgb(0 0 0 / 13%);
  background-color: #25272b;
  font-size: 10px;
  font-weight: 500;
  overflow: hidden;
  white-space: nowrap;
  text-overflow: ellipsis;
`])),Wf),Hr=100}),o3,vr,Ul=P(()=>{o3=()=>{},vr=o3});function WY(e){return Gv.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Gv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1.775 2.781a.5.5 0 01.5.5v1.7H4.67c.108-.957.92-1.7 1.905-1.7h6.608a1.917 1.917 0 110 3.834H6.574c-.78 0-1.452-.466-1.751-1.135H2.275v5.03h2.39a2.032 2.032 0 012.023-1.854h6.38a2.031 2.031 0 110 4.063h-6.38c-.83 0-1.543-.497-1.858-1.21H1.775a.5.5 0 01-.5-.5V3.281a.5.5 0 01.5-.5zm4.799 1.5h6.608a.917.917 0 110 1.834H6.574a.917.917 0 110-1.834zm.114 5.875h6.38a1.031 1.031 0 110 2.063h-6.38a1.032 1.032 0 110-2.063z",fill:"currentColor"}))}var Gv,Xv,qY=P(()=>{Gv=$(X()),Xv=WY});function $Y(e){return Yv.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Yv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 10.5L4 6.654 5.2 5.5 8 8.385 10.8 5.5 12 6.654 8 10.5z",fill:"currentColor"}))}var Yv,a3,LY=P(()=>{Yv=$(X()),a3=$Y});function ZY(e){return Qv.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Qv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.5 3c-1.072 0-1.969.904-1.969 1.969 0 1 .929 1.968 1.969 1.968h9A1.969 1.969 0 1012.5 3h-9zm9 1H5.531v1.938H12.5A.969.969 0 0012.5 4zM3.5 9.14a1.969 1.969 0 000 3.938h9a1.969 1.969 0 100-3.937h-9zm9 1H8.406v1.938H12.5a.969.969 0 100-1.937z",fill:"currentColor"}))}var Qv,i3,GY=P(()=>{Qv=$(X()),i3=ZY});function XY(e){return Jv.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Jv.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M.166 7.994a2.26 2.26 0 114.518 0 2.26 2.26 0 01-4.518 0zM2.425 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM5.74 7.994a2.26 2.26 0 114.519 0 2.26 2.26 0 01-4.519 0zM8 6.91a1.085 1.085 0 100 2.17 1.085 1.085 0 000-2.17zM13.575 5.735a2.26 2.26 0 100 4.519 2.26 2.26 0 000-4.52zm-1.086 2.26a1.085 1.085 0 112.171 0 1.085 1.085 0 01-2.17 0z",fill:"currentColor"}))}var Jv,l3,YY=P(()=>{Jv=$(X()),l3=XY});function QY(e){return ey.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ey.createElement("path",{d:"M8.339 4.5l-2.055.644 4.451 1.393v2.748l-2.966.928-2.504-.783V6.738l2.42.758 2.055-.644-4.458-1.395L4 5.858v4.463L7.768 11.5 12 10.175V5.646L8.339 4.5z",fill:"currentColor"}))}var ey,ty,JY=P(()=>{ey=$(X()),ty=QY});function eQ(e){return ny.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ny.createElement("path",{d:"M8 1.57c-.416 0-.752.36-.752.804v.482c-1.715.372-3.006 1.994-3.006 3.938v.473c0 1.18-.407 2.32-1.14 3.205l-.173.208a.85.85 0 00-.125.864.75.75 0 00.686.475h9.019a.752.752 0 00.686-.475.845.845 0 00-.125-.864l-.174-.208a5.026 5.026 0 01-1.139-3.205v-.473c0-1.944-1.291-3.566-3.006-3.938v-.482c0-.445-.336-.804-.752-.804zm1.063 12.39c.282-.301.44-.71.44-1.138H6.496c0 .428.158.837.44 1.138.281.302.664.47 1.063.47.4 0 .783-.168 1.064-.47z",fill:"currentColor"}))}var ny,qf,tQ=P(()=>{ny=$(X()),qf=eQ});function nQ(e){return ry.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),ry.createElement("path",{d:"M6.8 11.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6zm6-7.2h-2.4v-.6A1.8 1.8 0 008.6 2H7.4a1.8 1.8 0 00-1.8 1.8v.6H3.2a.6.6 0 100 1.2h.6v6.6A1.8 1.8 0 005.6 14h4.8a1.8 1.8 0 001.8-1.8V5.6h.6a.6.6 0 100-1.2zm-6-.6a.6.6 0 01.6-.6h1.2a.6.6 0 01.6.6v.6H6.8v-.6zm4.2 8.4a.6.6 0 01-.6.6H5.6a.6.6 0 01-.6-.6V5.6h6v6.6zm-1.8-.6a.6.6 0 00.6-.6V7.4a.6.6 0 00-1.2 0V11a.6.6 0 00.6.6z",fill:"currentColor"}))}var ry,oy,rQ=P(()=>{ry=$(X()),oy=nQ}),zu=P(()=>{qY(),LY(),GY(),YY(),JY(),tQ(),rQ()}),Kr,s3,$f,u3,c3,d3,f3,p3,h3,m3,g3,v3,y3,b3,k3,w3,x3,S3,Du,Lf=P(()=>{Kr=$(X()),be(),Ul(),rt(),zu(),$f=M.li(s3||(s3=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  display: flex;
  justify-content: flex-start;
  flex-direction: column;
  align-items: flex-start;
`]))),c3=M.div(u3||(u3=F([""]))),f3=M(c3)(d3||(d3=F([`
  position: relative;
  margin-top: 2px;
  margin-bottom: 2px;
  margin-left: calc(4px + var(--depth) * 16px);
  padding-left: 4px;
  padding-right: 8px;
  gap: 4px;
  height: 21px;
  line-height: 0;
  box-sizing: border-box;
  display: flex;
  flex-wrap: nowrap;
  align-items: center;
  pointer-events: none;
  white-space: nowrap;

  border-radius: 2px;
  box-shadow: 0 3px 4px -1px rgba(0, 0, 0, 0.48);

  color: rgba(255, 255, 255, 0.9);
  background: rgba(40, 43, 47, 0.65);
  backdrop-filter: blur(14px);
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);

  &.descendant-is-selected {
    background: rgba(29, 53, 59, 0.7);
  }

  `,`;
  &:not(.not-selectable):not(.selected):hover {
    background: rgba(59, 63, 69, 0.9);

    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &:not(.not-selectable):not(.selected):active {
    background: rgba(82, 88, 96, 0.9);
    border-bottom: 1px solid rgba(255, 255, 255, 0.24);
  }

  &.selected {
    background: rgba(30, 88, 102, 0.7);
    border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),h3=Bn(p3||(p3=F([`
  font-weight: 500;
  font-size: 11px;
  & {
  }
`]))),g3=M.span(m3||(m3=F([`
  `,`;

  `,`;
  position: relative;
  // Compensate for border bottom
  top: 0.5px;
  display: flex;
  height: 20px;
  align-items: center;
  box-sizing: border-box;
`])),h3,tt),y3=M.div(v3||(v3=F([`
  font-weight: 500;
  display: flex;
  justify-content: center;
  align-items: center;
  position: relative;
  opacity: 0.99;
`]))),k3=M.span(b3||(b3=F([`
  font-size: 9px;
  position: relative;
  display: block;
  transition: transform 0.1s ease-out;

  &:hover {
    transform: rotate(-20deg);
  }

  `,`.collapsed & {
    transform: rotate(-90deg);

    &:hover {
      transform: rotate(-70deg);
    }
  }
`])),$f),x3=M.ul(w3||(w3=F([`
  margin: 0;
  padding: 0;
  list-style: none;

  `,`.collapsed & {
    display: none;
  }
`])),$f),S3=({label:e,children:t,depth:n,select:o,selectionStatus:i,labelDecoration:l,collapsed:s=!1,setIsCollapsed:u})=>{let d=t!==void 0;return Kr.default.createElement($f,{style:{"--depth":n},className:s?"collapsed":""},Kr.default.createElement(f3,{className:i,onClick:o??vr,"data-header":!0},Kr.default.createElement(y3,null,d?Kr.default.createElement(k3,{onClick:f=>{f.stopPropagation(),f.preventDefault(),u==null||u(!s)}},Kr.default.createElement(a3,null)):Kr.default.createElement(ty,null)),Kr.default.createElement(g3,null,Kr.default.createElement("span",null,e)),l),d&&Kr.default.createElement(x3,null,t))},Du=S3});function oQ(e){return Object.keys(e)}function aQ(e){return Object.keys((0,Wr.val)(e.sheetTemplatesP))}function iQ(){let e=ia(ua().filter(t=>Nd(t)||ur(t)).map(t=>ur(t)?t.sheet:t))[0];if(e)return e.getSequence()}var Wr,ua,E3,ca=P(()=>{Wr=je(),ni(),Ft(),Ne(),ua=()=>{var e;let t=(0,Wr.val)(de().projectsP),n=((e=(0,Wr.val)(de().atomP.historic.panels.outlinePanel.selection))!=null?e:[]).map(o=>{let i=t[o.projectId];if(!i)return;if(o.type==="Project")return i;if(!(0,Wr.val)(i.sheetTemplatesP[o.sheetId]))return;let l=E3(i,o.sheetId);if(!l)return;if(o.type==="Sheet")return l;let s=(0,Wr.val)(l.objectsP[o.objectKey]);if(s)return s});return ia(n.filter(o=>typeof o<"u"))},E3=(e,t)=>{let n=de().atomP.historic.projects.stateByProjectId[e.address.projectId],o=(0,Wr.val)(n.stateBySheetId[t].selectedInstanceId),i=(0,Wr.val)(e.sheetTemplatesP[t]);if(i){if(o)return(0,Wr.val)(i.instancesP[o]);{let l=(0,Wr.val)(i.instancesP);return l[oQ(l)[0]]}}}}),_3,P3,lQ=P(()=>{Ne(),_3=$(X()),Lf(),Re(),ca(),P3=({sheetObject:e,depth:t,overrideLabel:n})=>{let o=()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},i=Xe(()=>ua(),[]);return _3.default.createElement(Du,{select:o,label:n??e.address.objectKey,depth:t,selectionStatus:i.includes(e)?"selected":"not-selected"})}});function ay(e){var t;let n=e.type==="namespace"?"namespace:".concat(e.sheet.address.sheetId,":").concat(e.path.join("/")):e.type==="Theatre_Project"?"project":e.type==="Theatre_Sheet"?"sheetInstance:".concat(e.address.sheetId,":").concat(e.address.sheetInstanceId):"unknown",o=e.type==="namespace"?e.sheet.address.projectId:e.address.projectId,i=(t=Ye(de().atomP.ahistoric.projects.stateByProjectId[o].collapsedItemsInOutline[n]))!=null?t:!1,l=(0,C3.useCallback)(s=>{de().transaction(({stateEditors:u})=>{u.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline.set({projectId:o,isCollapsed:s,itemKey:n})})},[n]);return{collapsed:i,setCollapsed:l}}var C3,iy=P(()=>{C3=$(X()),Ne(),Re()});function I3(e){return qr.default.createElement(qr.default.Fragment,null,[...e.namespace.entries()].map(([t,{object:n,nested:o}])=>qr.default.createElement(sQ,{key:t,label:t,object:n,nested:o,visualIndentation:e.visualIndentation,path:e.path,sheet:e.sheet})))}function sQ(e){let{nested:t,label:n,object:o,sheet:i}=e,{collapsed:l,setCollapsed:s}=ay({type:"namespace",sheet:i,path:[...e.path,n]}),u=t&&qr.default.createElement(I3,{namespace:t,path:[...e.path,n],key:"namespaceTree("+n+")",visualIndentation:e.visualIndentation+1,sheet:i}),d=o&&qr.default.createElement(P3,{depth:e.visualIndentation,key:"objectPath("+o.address.objectKey+")",sheetObject:o,overrideLabel:n});return qr.default.createElement(qr.default.Fragment,{key:"".concat(n," - ").concat(e.visualIndentation)},d,u&&qr.default.createElement(Du,{selectionStatus:"not-selectable",label:n,key:"baseItem(".concat(n,")"),depth:e.visualIndentation,children:u,collapsed:l,setIsCollapsed:s}))}function j3(e,t,n=uQ(t)){let[o,...i]=n,l=e.get(o);l||(l={nested:void 0,object:void 0,path:[...n]},e.set(o,l)),i.length===0?(console.assert(!l.object,"expect not to have existing object with same name",{existing:l,object:t}),l.object=t):(l.nested||(l.nested=new Map),j3(l.nested,t,i))}function uQ(e){let t=ly.get(e);return t||(t=e.address.objectKey.split(A3),console.assert(t.length>0,"expected not empty"),ly.set(e,t)),t}var O3,qr,T3,z3,D3,A3,ly,cQ=P(()=>{Re(),O3=je(),qr=$(X()),be(),lQ(),Lf(),iy(),M.li(T3||(T3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),z3=({sheet:e,depth:t})=>Xe(()=>{let n=(0,O3.val)(e.objectsP),o=Object.values(n).filter(l=>l!=null),i=new Map;return o.forEach(l=>{j3(i,l)}),qr.default.createElement(I3,{namespace:i,visualIndentation:t,path:[],sheet:e})},[e,t]),D3=z3,A3=/\s*\/\s*/g,ly=new WeakMap}),Vl,B3,N3,F3,R3,M3,U3,dQ=P(()=>{Ne(),ca(),Re(),Vl=$(X()),be(),cQ(),Lf(),iy(),N3=M.div(B3||(B3=F([`
  display: flex;
`]))),M.li(F3||(F3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),M3=M.div(R3||(R3=F([""]))),U3=({sheet:e,depth:t})=>{let{collapsed:n,setCollapsed:o}=ay(e),i=(0,Vl.useCallback)(()=>{de().transaction(({stateEditors:l})=>{l.studio.historic.panels.outline.selection.set([e])})},[e]);return Xe(()=>{let l=ua();return Vl.default.createElement(Du,{depth:t,select:i,setIsCollapsed:o,collapsed:n,selectionStatus:l.some(s=>s===e)?"selected":l.some(s=>s.type==="Theatre_SheetObject"&&s.sheet===e)?"descendant-is-selected":"not-selected",label:Vl.default.createElement(N3,null,e.address.sheetId,": ",e.address.sheetInstanceId)},Vl.default.createElement(M3,null,Vl.default.createElement(D3,{depth:t+1,sheet:e,key:"objectList"+e.address.sheetInstanceId})))},[t,n])}}),sy,Hl,V3,H3,K3,W3,fQ=P(()=>{Re(),sy=je(),Hl=$(X()),be(),dQ(),M.div(V3||(V3=F([`
  display: flex;
`]))),M.li(H3||(H3=F([`
  color: `,`;
`])),e=>e.isSelected?"white":"hsl(1, 1%, 80%)"),M.div(K3||(K3=F([""]))),W3=({sheetId:e,depth:t,project:n})=>Xe(()=>{let o=(0,sy.val)(n.sheetTemplatesP[e]);if(!o)return Hl.default.createElement(Hl.default.Fragment,null);let i=(0,sy.val)(o.instancesP);return Hl.default.createElement(Hl.default.Fragment,null,Object.entries(i).map(([l,s])=>Hl.default.createElement(U3,{key:s.address.sheetInstanceId,sheet:s,depth:t})))},[t,e,n])}),Zf,q3,$3,pQ=P(()=>{ca(),Re(),Zf=$(X()),fQ(),q3=({project:e,depth:t})=>Xe(()=>{if(!e)return null;let n=aQ(e);return Zf.default.createElement(Zf.default.Fragment,null,n.map(o=>Zf.default.createElement(W3,{depth:t,sheetId:o,key:"sheet-".concat(o),project:e})))},[e,t]),$3=q3}),Au,L3,Z3,G3,X3,Y3,hQ=P(()=>{Au=$(X()),Lf(),pQ(),Ne(),Re(),ca(),L3=je(),be(),iy(),G3=M.div(Z3||(Z3=F([`
  color: #ff6363;
  margin-left: 11px;
  background: #4c282d;
  padding: 2px 8px;
  border-radius: 2px;
  font-size: 10px;
  box-shadow: 0 2px 8px -4px black;
`]))),X3=({depth:e,project:t})=>{let n=Xe(()=>ua(),[]),o=Xe(()=>{let u=t.address.projectId,d=(0,L3.val)(de().atomP.ephemeral.coreByProject[u].loadingState);return(d==null?void 0:d.type)==="browserStateIsNotBasedOnDiskState"},[t]),i=(0,Au.useCallback)(()=>{de().transaction(({stateEditors:u})=>{u.studio.historic.panels.outline.selection.set([t])})},[t]),{collapsed:l,setCollapsed:s}=ay(t);return Au.default.createElement(Du,{depth:e,label:t.address.projectId,setIsCollapsed:s,collapsed:l,labelDecoration:o?Au.default.createElement(G3,null,"Has Conflicts"):null,children:Au.default.createElement($3,{project:t,depth:e+1}),selectionStatus:n.includes(t)?"selected":n.some(u=>u.address.projectId===t.address.projectId)?"descendant-is-selected":"not-selected",select:i})},Y3=X3}),Q3,uy,J3,ej,tj,nj,mQ=P(()=>{Q3=je(),Re(),Ne(),uy=$(X()),be(),hQ(),ej=M.ul(J3||(J3=F([`
  list-style: none;
  margin: 0;
  padding: 0;
  padding-right: 4px;
`]))),tj=e=>Xe(()=>{let t=(0,Q3.val)(de().projectsP);return uy.default.createElement(ej,null,Object.keys(t).map(n=>{let o=t[n];return uy.default.createElement(Y3,{depth:0,project:o,key:"projectListItem-".concat(n)})}))},[]),nj=tj});function rj(e){let[t,n]=(0,cy.useState)(!1);return(0,cy.useEffect)(()=>{let o=l=>{let s=t?200:50,u=56,d=e==="left"?l.x<s:l.x>window.innerWidth-s;d&&(d=l.y>u),n(!!d)};document.addEventListener("mousemove",o);let i=()=>{n(!1)};return document.addEventListener("mouseleave",i),()=>{document.removeEventListener("mousemove",o),document.removeEventListener("mouseleave",i)}},[t]),t}var cy,oj=P(()=>{cy=$(X())}),Bu,Kl,dy,aj,ij,lj,sj,Gf,Nu,uj,gQ=P(()=>{Bu=$(X()),be(),_o(),mQ(),Re(),Ne(),oj(),Kl=je(),rt(),dy="44px",ij=M.div(aj||(aj=F([`
  `,`;
  background-color: transparent;
  position: absolute;
  left: 8px;
  z-index: `,`;

  top: calc(`,` + 8px);
  height: fit-content;
  max-height: calc(100% - `,`);
  overflow-y: scroll;
  overflow-x: hidden;
  padding: 0;
  user-select: none;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;

  display: `,`;

  &:hover {
    display: block;
  }

  // Create a small buffer on the bottom to aid selecting the bottom item in a long, scrolling list
  &::after {
    content: '';
    display: block;
    height: 20px;
  }
`])),tt,Ml.outlinePanel,dy,dy,({pin:e})=>e?"block":"none"),lj=()=>{var e;let t=(e=Ye(de().atomP.ahistoric.pinOutline))!=null?e:!0,n=Ye(uj),o=rj("left");return(0,Bu.useLayoutEffect)(()=>{Gf.set(o)},[o]),(0,Bu.useEffect)(()=>()=>{Nu.set(!1),Gf.set(!1)},[]),Bu.default.createElement(ij,{pin:t||n,onMouseEnter:()=>{Nu.set(!0)},onMouseLeave:()=>{Nu.set(!1)}},Bu.default.createElement(nj,null))},sj=lj,Gf=new Kl.Atom(!1),Nu=new Kl.Atom(!1),uj=(0,Kl.prism)(()=>{let e=(0,Kl.val)(Nu.prism),t=(0,Kl.val)(Gf.prism);return e||t})}),cj,dj,fj,vQ=P(()=>{be(),dj=M.input.attrs({type:"checkbox"})(cj||(cj=F([`
  outline: none;
`]))),fj=dj});function yQ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,fy.useCallback)(l=>{t.permanentlySetValue(!!l.target.checked)},[e,t]);return fy.default.createElement(hj,{checked:n,onChange:i,autoFocus:o})}var fy,pj,hj,mj,bQ=P(()=>{fy=$(X()),be(),vQ(),hj=M(fj)(pj||(pj=F([`
  margin-left: 6px;

  :focus {
    outline: 1px solid #555;
  }
`]))),mj=yQ});function Xf(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}var Yf=P(()=>{});function py(e,t,n){(0,gj.useEffect)(()=>{if(!e||n===!1)return;let o=Array.isArray(e)?e.filter(l=>l):[e],i=l=>{o.every(s=>!l.composedPath().includes(s))&&t(l)};return window.addEventListener("mousedown",i,{capture:!0,passive:!1}),()=>{window.removeEventListener("mousedown",i,{capture:!0,passive:!1})}},[e,n])}var gj,hy=P(()=>{gj=$(X())}),Po,vj,Co,yj,bj,kj,wj,my,xj,Zn,Sj,Fn=P(()=>{Po=$(X()),be(),vj="pointer-root",Co="--lockedCursor",bj=M.div(yj||(yj=F([`
  pointer-events: auto;
  &.normal {
    pointer-events: none;
  }
`]))),wj=M.div(kj||(kj=F([`
  position: absolute;
  inset: 0;
  pointer-events: none;

  #pointer-root:not(.normal) > & {
    pointer-events: auto;
  }
`]))),my=(0,Po.createContext)({}),xj=e=>{var t,n,o,i;let[l,s]=(0,Po.useState)([]),u=(0,Po.useMemo)(()=>({getLock:(f,m)=>{let v={className:f,cursor:m};return s(g=>[...g,v]),()=>{s(g=>g.filter(h=>h!==v))}}}),[]),d=(n=(t=l[0])==null?void 0:t.cursor)!=null?n:"";return Po.default.createElement(my.Provider,{value:u},Po.default.createElement(bj,{id:vj,className:((i=(o=l[0])==null?void 0:o.className)!=null?i:"normal")+" "+e.className},Po.default.createElement(wj,{style:{cursor:d,[Co]:d}},e.children)))},Zn=(e,t,n)=>{let o=(0,Po.useContext)(my);(0,Po.useLayoutEffect)(()=>{if(e)return o.getLock(t,n)},[e,t,n])},Sj=xj});function Ej(e){return Fu.default.createElement(gy.Provider,{value:e.logger},e.children)}function da(e,t){let n=(0,Fu.useContext)(gy);return(0,Fu.useMemo)(()=>e?n.named(e,t):n,[n,e,t])}var Fu,gy,fa=P(()=>{Fu=$(X()),gy=Fu.default.createContext(null)});function kQ(){let e=da("PointerCapturing"),t=yr.default.useRef(null),n=()=>t.current!=null;return o=>{let i,l=s=>(i=s,t.current=s,s);return{capturing:{capturePointer(s){if(e._debug("Capturing pointer",{forDebugName:o,reason:s}),t.current!=null)throw new Error('"'.concat(o,'" attempted capturing pointer for "').concat(s,'" while already captured by "').concat(t.current.debugOwnerName,'" for "').concat(t.current.debugReason,'"'));let u=l({debugOwnerName:o,debugReason:s});return{isCapturing(){return u===t.current},release(){return u===t.current?(e._debug("Releasing pointer",{forDebugName:o,reason:s}),l(null),!0):!1}}},isPointerBeingCaptured:n},forceRelease(){i&&t.current===i&&(e._debug("Force releasing pointer",{localCapture:i}),l(null))}}}}function wQ(e){let t=kQ();return yr.default.createElement(vy.Provider,{value:t},yr.default.createElement(Pj,{children:e.children}))}function _j(e){let t=(0,yr.useContext)(vy),n=(0,yr.useMemo)(()=>t(e),[e,t]);return(0,yr.useEffect)(()=>()=>{n.forceRelease()},[n]),n.capturing}var yr,vy,Pj,yy=P(()=>{yr=$(X()),fa(),vy=yr.default.createContext(null),Pj=yr.default.memo(({children:e})=>yr.default.createElement(yr.default.Fragment,null,e))}),by,xQ=P(()=>{by=typeof window<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)});function xt(e,t){let n=(0,Wl.useRef)(t);n.current=t;let o=t.shouldPointerLock&&!by,i=(0,Wl.useRef)({domDragStarted:!1}),{capturePointer:l}=_j("useDrag for ".concat(t.debugName)),s=(0,Wl.useRef)({onDrag:vr,onDragEnd:vr,onClick:vr}),u=(0,Wl.useRef)(),[d,f]=Qe(!1);return(0,Wl.useLayoutEffect)(()=>{if(!e)return;let m=()=>{let S=i.current.domDragStarted&&i.current.detection.detected;d.current!==S&&(d.current=S)},v=S=>{if(!i.current.domDragStarted)return;let _=i.current;if(!SQ(S,_)&&(_.detection.detected||(_.detection.totalDistanceMoved+=Math.abs(S.movementY)+Math.abs(S.movementX),_.detection.totalDistanceMoved>Cj&&(o&&e.requestPointerLock(),_.detection={detected:!0,dragMovement:{x:0,y:0},dragEventCount:0},m())),_.detection.detected)){_.detection.dragEventCount+=1;let{dragMovement:O}=_.detection;if(o)O.x+=S.movementX,O.y+=S.movementY;else{let{startPos:j}=_;O.x=S.screenX-j.x,O.y=S.screenY-j.y}s.current.onDrag(O.x,O.y,S,S.movementX,S.movementY)}},g=S=>{if(b(),!i.current.domDragStarted)return;let _=i.current.detection.detected;i.current={domDragStarted:!1},t.shouldPointerLock&&!by&&document.exitPointerLock(),s.current.onDragEnd(_),window.focus(),_||s.current.onClick(S),m()},h=()=>{document.addEventListener("mousemove",v),document.addEventListener("mouseup",g)},b=()=>{var S;(S=u.current)==null||S.release(),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",g)},y=S=>{n.current.disabled||i.current.domDragStarted&&i.current.detection.detected&&(n.current.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),i.current.detection={detected:!1,totalDistanceMoved:0},m())},k=S=>{var _,O,j,z;(_=u.current)==null||_.release();let V=n.current;if(V.disabled===!0||!((O=V.buttons)!=null?O:[0]).includes(S.button))return;let W=V.onDragStart(S);W!==!1&&(s.current.onDrag=W.onDrag,s.current.onDragEnd=(j=W.onDragEnd)!=null?j:vr,s.current.onClick=(z=W.onClick)!=null?z:vr,u.current=l("Drag start"),V.dontBlockMouseDown||(S.stopPropagation(),S.preventDefault()),i.current={domDragStarted:!0,startPos:{x:S.screenX,y:S.screenY},detection:{detected:!1,totalDistanceMoved:0}},m(),h())},x=S=>{k(S)};return e.addEventListener("mousedown",x),e.addEventListener("click",y),()=>{var S,_;b(),e.removeEventListener("mousedown",x),e.removeEventListener("click",y),i.current.domDragStarted&&((_=(S=s.current).onDragEnd)==null||_.call(S,i.current.detection.detected)),i.current={domDragStarted:!1},m()}},[e]),Zn(f&&!!t.lockCSSCursorTo,"dragging",t.lockCSSCursorTo),[f]}function SQ(e,t){return(!t.detection.detected||t.detection.detected&&t.detection.dragEventCount<3)&&(Math.abs(e.movementX)>ky||Math.abs(e.movementY)>ky)}var Wl,Cj,ky,Dt=P(()=>{Wl=$(X()),Fn(),yy(),Ul(),xQ(),nt(),Cj=3,ky=100});function EQ(e){return isNaN(e)?"NaN":Y0(e)?e.toFixed(0):B5(e,3).toString()}var Ij,jj,Io,Oj,Qf,Tj,zj,Dj,Aj,Bj,Nj,Fj,Rj,Jf,wy=P(()=>{Ft(),Ij=$(X()),jj=$(X()),Io=$(X()),be(),Yf(),nt(),hy(),Dt(),Qf=M.div(Oj||(Oj=F([`
  height: 100%;
  width: 100%;
  position: relative;
  z-index: 0;
  box-sizing: border-box;
  display: flex;
  align-items: center;

  &:after {
    position: absolute;
    inset: 1px 0 2px;
    display: block;
    content: ' ';
    background-color: transparent;
    border: 1px solid transparent;
    z-index: -2;
    box-sizing: border-box;
    border-radius: 1px;
  }

  &:hover,
  &.dragging,
  &.editingViaKeyboard {
    &:after {
      background-color: #10101042;
      border-color: #00000059;
    }
  }
`]))),zj=M.input(Tj||(Tj=F([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: ew-resize;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;

  &:focus {
    cursor: text;
  }
`]))),Aj=M.div(Dj||(Dj=F([`
  position: absolute;
  inset: 3px 2px 4px;
  transform: scale(var(--percentage), 1);
  transform-origin: top left;
  background-color: #2d5561;
  z-index: -1;
  border-radius: 2px;
  pointer-events: none;

  `,".dragging &, ",`.noFocus:hover & {
    background-color: #338198;
  }
`])),Qf,Qf),Nj=M.div(Bj||(Bj=F([`
  display: contents;
`]))),Fj=e=>!0,Rj=e=>{var t;let[n]=Qe({mode:"noFocus"}),o=(t=e.isValid)!=null?t:Fj,i=(0,Io.useRef)(e);i.current=e;let l=(0,Io.useRef)(null);py(l.current,()=>{l.current.blur()},n.current.mode==="editingViaKeyboard");let s=(0,Io.useRef)(null),u=(0,Io.useMemo)(()=>{let k=W=>{let B=W.target,{value:Z}=B,re=n.current;n.current=he(L({},re),{currentEditedValueInString:Z});let D=parseFloat(Z);!isFinite(D)||!o(D)||i.current.temporarilySetValue(D)},x=()=>{n.current.mode==="editingViaKeyboard"&&(S(),n.current={mode:"noFocus"}),e.onBlur&&e.onBlur()},S=()=>{let W=n.current,B=parseFloat(W.currentEditedValueInString);!isFinite(B)||!o(B)||W.valueBeforeEditing===B?i.current.discardTemporaryValue():i.current.permanentlySetValue(B)},_=W=>{W.key==="Escape"?(i.current.discardTemporaryValue(),n.current={mode:"noFocus"},l.current.blur()):(W.key==="Enter"||W.key==="Tab")&&(S(),l.current.blur())},O=W=>{n.current.mode==="noFocus"&&(l.current.focus(),W.preventDefault()),W.stopPropagation()},j=()=>{n.current.mode==="noFocus"?z():n.current.mode},z=()=>{let W=i.current.value;n.current={mode:"editingViaKeyboard",currentEditedValueInString:String(W),valueBeforeEditing:W},setTimeout(()=>{l.current.focus(),l.current.setSelectionRange(0,100)})},V;return{inputChange:k,onBlur:x,transitionToDraggingMode:()=>{var W;let B=i.current.value;V=(W=l.current)==null?void 0:W.getBoundingClientRect().width,n.current={mode:"dragging"};let Z=B,re=B;return s.current=document.body.style.cursor,{onDrag(D,G,C,Q){let xe=C.altKey?Q/10:Q,q=re+e.nudge({deltaX:xe,deltaFraction:xe/V,magnitude:1});re=e.range?kt(q,e.range[0],e.range[1]):q,i.current.temporarilySetValue(re)},onDragEnd(D){D?(Z===re?i.current.discardTemporaryValue():i.current.permanentlySetValue(re),n.current={mode:"noFocus"}):(i.current.discardTemporaryValue(),n.current={mode:"noFocus"})},onClick(){l.current.focus(),l.current.setSelectionRange(0,100)}}},onInputKeyDown:_,onClick:O,onFocus:j}},[]);(0,Ij.useEffect)(()=>()=>{u.onBlur()},[]);let d=n.current.mode!=="editingViaKeyboard"?EQ(e.value):n.current.currentEditedValueInString;typeof d=="number"&&isNaN(d)&&(d="NaN");let f=[l];e.inputRef&&f.push(e.inputRef);let m=Io.default.createElement(zj,{key:"input",type:"text",onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:Xf(f),onMouseDown:k=>{k.stopPropagation()},onDoubleClick:k=>{k.preventDefault(),k.stopPropagation()},autoFocus:e.autoFocus}),{range:v}=e,g=parseFloat(d),h=v?Io.default.createElement(Aj,{style:{"--percentage":kt((g-v[0])/(v[1]-v[0]),0,1)}}):null,[b,y]=(0,jj.useState)(null);return xt(b,{debugName:"form/BasicNumberInput",onDragStart:u.transitionToDraggingMode,lockCSSCursorTo:"ew-resize",shouldPointerLock:!0,disabled:n.current.mode==="editingViaKeyboard"}),Io.default.createElement(Qf,{className:e.className+" "+n.current.mode},Io.default.createElement(Nj,{ref:y},m),h)},Jf=Rj});function _Q({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,xy.useCallback)(l=>e.nudgeFn(he(L({},l),{config:e})),[e]);return xy.default.createElement(Jf,{value:n,temporarilySetValue:t.temporarilySetValue,discardTemporaryValue:t.discardTemporaryValue,permanentlySetValue:t.permanentlySetValue,range:e.range,nudge:i,autoFocus:o})}var xy,Sy,Mj=P(()=>{wy(),xy=$(X()),Sy=_Q});function PQ({value:e,onChange:t,options:n,autoFocus:o}){let i=(0,Ru.useCallback)(l=>{t(String(l.target.value))},[t]);return Ru.default.createElement(Ey,{role:"radiogroup"},Object.keys(n).map((l,s)=>Ru.default.createElement(Hj,{key:"label-"+s,"data-checked":e===l},n[l],Ru.default.createElement(Wj,{type:"radio",checked:e===l,value:l,onChange:i,name:"switchbox",autoFocus:o}))))}var Ru,Uj,Ey,Vj,Hj,Kj,Wj,qj,CQ=P(()=>{Nn(),Ru=$(X()),be(),Ey=M.form(Uj||(Uj=F([`
  display: flex;
  flex-direction: row;
  align-items: stretch;
  vertical-align: middle;
  justify-content: stretch;
  height: 24px;
  width: 100%;
`]))),Hj=M.label(Vj||(Vj=F([`
  padding: 0 0.5em;
  background: transparent;
  /* background: #373748; */
  display: flex;
  align-items: center;
  justify-content: center;
  flex-grow: 1;
  color: #a7a7a7;
  border: 1px solid transparent;
  box-sizing: border-box;
  border-right-width: 0px;

  & + &:last-child {
    border-right-width: 1px;
  }

  `,`:hover > & {
    border-color: #1c2123;
    /* background-color: #373748; */
    /* color: `,`; */
  }

  &&:hover {
    background-color: #464654;
  }

  &&[data-checked='true'] {
    color: white;
    background: #3f3f4c;
  }
`])),Ey,Eu(.1,"white")),Wj=M.input(Kj||(Kj=F([`
  position: absolute;
  opacity: 0;
  pointer-events: none;
  width: 0;
  height: 0;
`]))),qj=PQ}),IQ=P(()=>{}),_y,Py,Cy,$j=P(()=>{_y=$(X()),Py={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Cy=_y.default.createContext&&_y.default.createContext(Py)});function Lj(e){return e&&e.map(function(t,n){return $l.default.createElement(t.tag,jo({key:n},t.attr),Lj(t.child))})}function ql(e){return function(t){return $l.default.createElement(jQ,jo({attr:jo({},e.attr)},t),Lj(e.child))}}function jQ(e){var t=function(n){var o=e.attr,i=e.size,l=e.title,s=Zj(e,["attr","size","title"]),u=i||n.size||"1em",d;return n.className&&(d=n.className),e.className&&(d=(d?d+" ":"")+e.className),$l.default.createElement("svg",jo({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,o,s,{className:d,style:jo(jo({color:e.color||n.color},n.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),l&&$l.default.createElement("title",null,l),e.children)};return Cy!==void 0?$l.default.createElement(Cy.Consumer,null,function(n){return t(n)}):t(Py)}var $l,jo,Zj,OQ=P(()=>{$l=$(X()),$j(),jo=function(){return jo=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},jo.apply(this,arguments)},Zj=function(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]]);return n}}),jt=P(()=>{IQ(),OQ(),$j()}),TQ=P(()=>{jt()}),zQ=P(()=>{jt()});function DQ(e){return ql({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M289.94 256l95-95A24 24 0 00351 127l-95 95-95-95a24 24 0 00-34 34l95 95-95 95a24 24 0 1034 34l95-95 95 95a24 24 0 0034-34z"}}]})(e)}var AQ=P(()=>{jt()}),BQ=P(()=>{jt()}),NQ=P(()=>{jt()});function FQ(e){return ql({attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.5 3L7 4.5 3.25 8 7 11.5 5.5 13l-5-5 5-5z"}}]})(e)}function RQ(e){return ql({attr:{viewBox:"0 0 8 16"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M7.5 8l-5 5L1 11.5 4.75 8 1 4.5 2.5 3l5 5z"}}]})(e)}var MQ=P(()=>{jt()}),UQ=P(()=>{jt()}),VQ=P(()=>{jt()}),HQ=P(()=>{jt()}),KQ=P(()=>{jt()}),WQ=P(()=>{jt()}),qQ=P(()=>{jt()}),$Q=P(()=>{jt()}),LQ=P(()=>{jt()}),ZQ=P(()=>{jt()});function Gj(e){return ql({attr:{fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5l7 7-7 7"}}]})(e)}var GQ=P(()=>{jt()}),XQ=P(()=>{jt()}),YQ=P(()=>{jt()}),QQ=P(()=>{jt()});function JQ(e){return ql({attr:{viewBox:"0 0 24 24",fill:"none"},child:[{tag:"path",attr:{d:"M6 9.65685L7.41421 11.0711L11.6569 6.82843L15.8995 11.0711L17.3137 9.65685L11.6569 4L6 9.65685Z",fill:"currentColor"}},{tag:"path",attr:{d:"M6 14.4433L7.41421 13.0291L11.6569 17.2717L15.8995 13.0291L17.3137 14.4433L11.6569 20.1001L6 14.4433Z",fill:"currentColor"}}]})(e)}var eJ=P(()=>{jt()});function tJ(e){return ql({attr:{viewBox:"0 0 16 16",fill:"currentColor"},child:[{tag:"path",attr:{d:"M14 10.44l-.413.56H2.393L2 10.46 7.627 5h.827L14 10.44z"}}]})(e)}var nJ=P(()=>{jt()}),Ll=P(()=>{TQ(),zQ(),AQ(),BQ(),NQ(),MQ(),UQ(),VQ(),HQ(),KQ(),WQ(),qQ(),$Q(),LQ(),ZQ(),GQ(),XQ(),YQ(),QQ(),eJ(),nJ()});function rJ({value:e,onChange:t,options:n,className:o,autoFocus:i}){let l=(0,vi.useCallback)(s=>{t(String(s.target.value))},[t]);return vi.default.createElement(Yj,null,vi.default.createElement(t4,{className:o,value:e,onChange:l,autoFocus:i},Object.keys(n).map((s,u)=>vi.default.createElement("option",{key:"option-"+u,value:s},n[s]))),vi.default.createElement(Jj,null,vi.default.createElement(JQ,null)))}var vi,Xj,Yj,Qj,Jj,e4,t4,n4,oJ=P(()=>{vi=$(X()),be(),Ll(),Yj=M.div(Xj||(Xj=F([`
  width: 100%;
  position: relative;
`]))),Jj=M.div(Qj||(Qj=F([`
  position: absolute;
  right: 0px;
  top: 0;
  bottom: 0;
  width: 1.5em;
  font-size: 14px;
  display: flex;
  align-items: center;
  color: #6b7280;
  pointer-events: none;
`]))),t4=M.select(e4||(e4=F([`
  appearance: none;
  background-color: transparent;
  box-sizing: border-box;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.85);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  text-align: left;
  width: 100%;
  border-radius: 2px;
  /*
  looks like putting percentages in the height of a select box doesn't work in Firefox. Not sure why.
  So we're hard-coding the height to 26px, unlike all other inputs that use a relative height.
  */
  height: 26px /* calc(100% - 4px); */;

  @supports (-moz-appearance: none) {
    /* Ugly hack to remove the extra left padding that shows up only in Firefox */
    text-indent: -2px;
  }

  &:hover,
  &:focus {
    background-color: #10101042;
    border-color: #00000059;
  }
`]))),n4=rJ});function aJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let i=(0,ep.useCallback)(l=>{t.permanentlySetValue(l)},[e,t]);return e.as==="menu"?ep.default.createElement(n4,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:o}):ep.default.createElement(qj,{value:n,onChange:i,options:e.valuesAndLabels,autoFocus:o})}var ep,r4,iJ=P(()=>{ep=$(X()),CQ(),oJ(),r4=aJ}),o4,Mu,a4,i4,l4,s4,tp,Iy=P(()=>{be(),o4=$(X()),Mu=$(X()),Yf(),nt(),hy(),i4=M.input.attrs({type:"text"})(a4||(a4=F([`
  background: transparent;
  border: 1px solid transparent;
  color: rgba(255, 255, 255, 0.9);
  padding: 1px 6px;
  font: inherit;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: calc(100% - 4px);
  border-radius: 2px;
  border: 1px solid transparent;
  box-sizing: border-box;

  &:hover {
    background-color: #10101042;
    border-color: #00000059;
  }

  &:hover,
  &:focus {
    cursor: text;
    background-color: #10101042;
    border-color: #00000059;
  }

  &.invalid {
    border-color: red;
  }
`]))),l4=e=>!0,s4=e=>{var t,n;let[o]=Qe({mode:"noFocus"}),i=(t=e.isValid)!=null?t:l4,l=(0,Mu.useRef)(e);l.current=e;let s=(0,Mu.useRef)(null);py(s.current,()=>{s.current.blur()},o.current.mode==="editingViaKeyboard");let u=(0,Mu.useMemo)(()=>{let m=x=>{let S=x.target,{value:_}=S,O=o.current;o.current=he(L({},O),{currentEditedValueInString:_}),i(_)&&l.current.temporarilySetValue(_)},v=()=>{var x,S;o.current.mode==="editingViaKeyboard"&&(g(),o.current={mode:"noFocus"}),(S=(x=l.current).onBlur)==null||S.call(x)},g=()=>{let x=o.current,S=x.currentEditedValueInString;i(S)?x.valueBeforeEditing===S?l.current.discardTemporaryValue():l.current.permanentlySetValue(S):l.current.discardTemporaryValue()},h=x=>{x.key==="Escape"?(l.current.discardTemporaryValue(),o.current={mode:"noFocus"},s.current.blur()):(x.key==="Enter"||x.key==="Tab")&&(g(),s.current.blur())},b=x=>{o.current.mode==="noFocus"&&(s.current.focus(),x.preventDefault()),x.stopPropagation()},y=()=>{o.current.mode==="noFocus"?k():o.current.mode},k=()=>{let x=l.current.value;o.current={mode:"editingViaKeyboard",currentEditedValueInString:String(x),valueBeforeEditing:x},setTimeout(()=>{s.current.focus()})};return{inputChange:m,onBlur:v,onInputKeyDown:h,onClick:b,onFocus:y}},[]);(0,o4.useEffect)(()=>()=>{u.onBlur()},[]);let d=o.current.mode!=="editingViaKeyboard"?e.value:o.current.currentEditedValueInString,f=[s];return e.inputRef&&f.push(e.inputRef),Mu.default.createElement(i4,{key:"input",type:"text",className:"".concat((n=e.className)!=null?n:""," ").concat(i(d)?"":"invalid"),onChange:u.inputChange,value:d,onBlur:u.onBlur,onKeyDown:u.onInputKeyDown,onClick:u.onClick,onFocus:u.onFocus,ref:Xf(f),onMouseDown:m=>{m.stopPropagation()},onDoubleClick:m=>{m.preventDefault(),m.stopPropagation()},autoFocus:e.autoFocus})},tp=s4});function lJ({editingTools:e,value:t,autoFocus:n}){return u4.default.createElement(tp,{value:t,temporarilySetValue:e.temporarilySetValue,discardTemporaryValue:e.discardTemporaryValue,permanentlySetValue:e.permanentlySetValue,autoFocus:n})}var u4,c4,sJ=P(()=>{u4=$(X()),Iy(),c4=lJ});function uJ(e){e=e.trim().toLowerCase();let t=e.match(Ty);if(!t)return{r:0,g:0,b:0,a:1};let n=cJ(t[1]);return{r:parseInt(n.substr(0,2),16)/255,g:parseInt(n.substr(2,2),16)/255,b:parseInt(n.substr(4,2),16)/255,a:parseInt(n.substr(6,2),16)/255}}function jy(e,{removeAlphaIfOpaque:t=!1}={}){let n=(e.a*255|256).toString(16).slice(1),o=(e.r*255|256).toString(16).slice(1)+(e.g*255|256).toString(16).slice(1)+(e.b*255|256).toString(16).slice(1)+(t&&n==="ff"?"":n);return"#".concat(o)}function Oy(e){return he(L({},e),{toString(){return jy(this,{removeAlphaIfOpaque:!0})}})}function cJ(e){switch(e.length){case 3:return"".concat(e.repeat(2),"ff");case 4:let t=e.substr(0,3),n=e[3];return"".concat(t.repeat(2)).concat(n.repeat(2));case 6:return"".concat(e,"ff")}return e}var Ty,d4=P(()=>{Ty=/^#*([0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/i});function np(e){let t=(0,zy.useRef)(e),n=(0,zy.useRef)(o=>{t.current&&t.current(o)});return t.current=e,n.current}var zy,f4=P(()=>{zy=$(X())}),yi,rp=P(()=>{yi=(e,t=0,n=1)=>e>n?n:e<t?t:e}),Uu,Dy,p4,Ay,By=P(()=>{Uu=$(X()),Dy=(0,Uu.createContext)(void 0),p4=({children:e})=>{let[t,n]=(0,Uu.useState)(!1);return Uu.default.createElement(Dy.Provider,{value:{editing:t,setEditing:n}},e)},Ay=()=>(0,Uu.useContext)(Dy)}),pa,Zl,h4,op,Ny,Fy,m4,g4,v4,y4,Vu,ap=P(()=>{pa=$(X()),f4(),rp(),be(),By(),Zl=e=>"touches"in e,h4=(e,t)=>{for(let n=0;n<e.length;n++)if(e[n].identifier===t)return e[n];return e[0]},op=e=>e&&e.ownerDocument.defaultView||self,Ny=(e,t,n)=>{let o=e.getBoundingClientRect(),i=Zl(t)?h4(t.touches,n):t;return{left:yi((i.pageX-(o.left+op(e).pageXOffset))/o.width),top:yi((i.pageY-(o.top+op(e).pageYOffset))/o.height)}},Fy=e=>{!Zl(e)&&e.preventDefault()},m4=(e,t)=>t&&!Zl(e),v4=M.div(g4||(g4=F([`
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  border-radius: inherit;
  outline: none;
  /* Don't trigger the default scrolling behavior when the event is originating from this element */
  touch-action: none;
`]))),y4=e=>{var t=e,{onMove:n,onKey:o}=t,i=Qs(t,["onMove","onKey"]);let l=(0,pa.useRef)(null),s=np(n),u=np(o),d=(0,pa.useRef)(null),f=(0,pa.useRef)(!1),{setEditing:m}=Ay(),[v,g,h]=(0,pa.useMemo)(()=>{let b=({nativeEvent:_})=>{let O=l.current;if(O&&(Fy(_),!(m4(_,f.current)||!O))){if(Zl(_)){f.current=!0;let j=_.changedTouches||[];j.length&&(d.current=j[0].identifier)}O.focus(),m(!0),s(Ny(O,_,d.current)),S(!0)}},y=_=>{Fy(_),(Zl(_)?_.touches.length>0:_.buttons>0)&&l.current?s(Ny(l.current,_,d.current)):(m(!1),S(!1))},k=_=>{m(!1),S(!1)},x=_=>{let O=_.which||_.keyCode;O<37||O>40||(_.preventDefault(),u({left:O===39?.05:O===37?-.05:0,top:O===40?.05:O===38?-.05:0}))};function S(_){let O=f.current,j=l.current,z=op(j),V=_?z.addEventListener:z.removeEventListener;V(O?"touchmove":"mousemove",y),V(O?"touchend":"mouseup",k)}return[b,x,S]},[u,s]);return(0,pa.useEffect)(()=>h,[h]),pa.default.createElement(v4,he(L({},i),{onTouchStart:v,onMouseDown:v,ref:l,onKeyDown:g,tabIndex:0,role:"slider"}))},Vu=pa.default.memo(y4)}),Ry,b4,k4,w4,x4,S4,E4,ip,My=P(()=>{Ry=$(X()),be(),ap(),k4=M(Vu)(b4||(b4=F([""]))),x4=M.div(w4||(w4=F([`
  position: absolute;
  z-index: 1;
  box-sizing: border-box;
  width: 16px;
  height: 16px;
  transform: translate(-50%, -50%);
  background-color: #fff;
  border: 1px solid #ffffff00;
  border-radius: 2px;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);

  `,`:focus & {
    transform: translate(-50%, -50%) scale(1.1);
  }
`])),k4),E4=M.div(S4||(S4=F([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;
`]))),ip=({className:e,color:t,left:n,top:o=.5})=>{let i={top:"".concat(o*100,"%"),left:"".concat(n*100,"%")};return Ry.default.createElement(x4,{style:i,className:e},Ry.default.createElement(E4,{style:{backgroundColor:t}}))}}),ln,lp=P(()=>{ln=(e,t=0,n=Math.pow(10,t))=>Math.round(n*e)/n}),Uy,sp,up,_4,P4,cp=P(()=>{lp(),Uy=({h:e,s:t,v:n,a:o})=>{let i=(200-t)*n/100;return{h:ln(e),s:ln(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:ln(i/2),a:ln(o,2)}},sp=e=>{let{h:t,s:n,l:o}=Uy(e);return"hsl(".concat(t,", ").concat(n,"%, ").concat(o,"%)")},up=e=>{let{h:t,s:n,l:o,a:i}=Uy(e);return"hsla(".concat(t,", ").concat(n,"%, ").concat(o,"%, ").concat(i,")")},_4=({h:e,s:t,v:n,a:o})=>{e=e/360*6,t=t/100,n=n/100;let i=Math.floor(e),l=n*(1-t),s=n*(1-(e-i)*t),u=n*(1-(1-e+i)*t),d=i%6;return{r:ln([n,s,l,l,u,n][d]*255),g:ln([u,n,n,s,l,l][d]*255),b:ln([l,l,u,n,n,s][d]*255),a:ln(o,2)}},P4=({r:e,g:t,b:n,a:o})=>{let i=Math.max(e,t,n),l=i-Math.min(e,t,n),s=l?i===e?(t-n)/l:i===t?2+(n-e)/l:4+(e-t)/l:0;return{h:ln(60*(s<0?s+6:s)),s:ln(i?l/i*100:0),v:ln(i/255*100),a:o}}}),Hu,C4,I4,j4,O4,T4,z4,dJ=P(()=>{Hu=$(X()),ap(),My(),cp(),rp(),lp(),be(),I4=M.div(C4||(C4=F([`
  position: relative;
  height: 16px;
  border-radius: 2px;

  background: linear-gradient(
    to right,
    #f00 0%,
    #ff0 17%,
    #0f0 33%,
    #0ff 50%,
    #00f 67%,
    #f0f 83%,
    #f00 100%
  );
`]))),O4=M(ip)(j4||(j4=F([`
  z-index: 2;
`]))),T4=({className:e,hue:t,onChange:n})=>Hu.default.createElement(I4,{className:e},Hu.default.createElement(Vu,{onMove:o=>{n({h:360*o.left})},onKey:o=>{n({h:yi(t+o.left*360,0,360)})},"aria-label":"Hue","aria-valuetext":ln(t)},Hu.default.createElement(O4,{left:t/360,color:sp({h:t,s:100,v:100,a:1})}))),z4=Hu.default.memo(T4)}),Ku,D4,A4,B4,N4,F4,R4,fJ=P(()=>{Ku=$(X()),ap(),My(),cp(),rp(),lp(),be(),A4=M.div(D4||(D4=F([`
  position: relative;
  flex-grow: 1;
  border-color: transparent; /* Fixes https://github.com/omgovich/react-colorful/issues/139 */
  border-bottom: 12px solid #000;
  border-radius: 2px;
  background-image: linear-gradient(to top, #000, rgba(0, 0, 0, 0)),
    linear-gradient(to right, #fff, rgba(255, 255, 255, 0));

  // Improve elements rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),N4=M(ip)(B4||(B4=F([`
  z-index: 3;
`]))),F4=({hsva:e,onChange:t})=>{let n=l=>{t({s:l.left*100,v:100-l.top*100})},o=l=>{t({s:yi(e.s+l.left*100,0,100),v:yi(e.v-l.top*100,0,100)})},i={backgroundColor:sp({h:e.h,s:100,v:100,a:1})};return Ku.default.createElement(A4,{style:i},Ku.default.createElement(Vu,{onMove:n,onKey:o,"aria-label":"Color","aria-valuetext":"Saturation ".concat(ln(e.s),"%, Brightness ").concat(ln(e.v),"%")},Ku.default.createElement(N4,{top:1-e.v/100,left:e.s/100,color:sp(e)})))},R4=Ku.default.memo(F4)}),Wu,M4,U4,V4,H4,K4,W4,q4,pJ=P(()=>{Wu=$(X()),ap(),My(),cp(),rp(),lp(),be(),U4=M.div(M4||(M4=F([`
  position: relative;
  height: 16px;
  border-radius: 2px;
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),H4=M.div.attrs(({colorFrom:e,colorTo:t})=>({style:{backgroundImage:"linear-gradient(90deg, ".concat(e,", ").concat(t,")")}}))(V4||(V4=F([`
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  border-radius: inherit;

  // Improve rendering on light backgrounds
  box-shadow: inset 0 0 0 1px rgba(0, 0, 0, 0.05);
`]))),W4=M(ip)(K4||(K4=F([`
  // Checkerboard
  background-color: #fff;
  background-image: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><rect x="8" width="8" height="8"/><rect y="8" width="8" height="8"/></svg>');
`]))),q4=({className:e,hsva:t,onChange:n})=>{let o=u=>{n({a:u.left})},i=u=>{n({a:yi(t.a+u.left)})},l=up(Object.assign({},t,{a:0})),s=up(Object.assign({},t,{a:1}));return Wu.default.createElement(U4,{className:e},Wu.default.createElement(H4,{colorFrom:l,colorTo:s}),Wu.default.createElement(Vu,{onMove:o,onKey:i,"aria-label":"Alpha","aria-valuetext":"".concat(ln(t.a*100),"%")},Wu.default.createElement(W4,{left:t.a,color:up(t)})))}}),dp,$4=P(()=>{dp=(e,t)=>{if(e===t)return!0;for(let n in e)if(e[n]!==t[n])return!1;return!0}});function hJ(e,t,n,o){let{editing:i}=Ay(),[l,s]=(0,Oo.useState)(t),u=np(n),d=np(o),f=i?l:t,[m,v]=(0,Oo.useState)(()=>e.toHsva(f)),g=(0,Oo.useRef)({color:f,hsva:m}),h=(0,Oo.useRef)({color:f,hsva:m});(0,Oo.useEffect)(()=>{i&&s(g.current.color)},[i]),(0,Oo.useEffect)(()=>{let y=e.fromHsva(m);i?!dp(m,g.current.hsva)&&!e.equal(y,g.current.color)&&(g.current={hsva:m,color:y},s(y),u(y)):!dp(m,h.current.hsva)&&!e.equal(y,h.current.color)&&(h.current={hsva:m,color:y},g.current={hsva:m,color:y},d(y))},[i,m,e,u,d]),(0,Oo.useEffect)(()=>{if(!i&&!e.equal(f,h.current.color)){let y=e.toHsva(f);h.current={hsva:y,color:f},v(y)}},[i,f,e]);let b=(0,Oo.useCallback)(y=>{v(k=>Object.assign({},k,y))},[]);return[m,b]}var Oo,mJ=P(()=>{Oo=$(X()),$4(),f4(),By()}),Gl,L4,Z4,G4,gJ=P(()=>{Gl=$(X()),dJ(),fJ(),pJ(),mJ(),be(),Z4=M.div(L4||(L4=F([`
  position: relative;
  display: flex;
  gap: 4px;
  flex-direction: column;
  width: 200px;
  height: 200px;
  user-select: none;
  cursor: default;
`]))),G4=e=>{var t=e,{className:n,colorModel:o,color:i=o.defaultColor,temporarilySetValue:l,permanentlySetValue:s,discardTemporaryValue:u}=t,d=Qs(t,["className","colorModel","color","temporarilySetValue","permanentlySetValue","discardTemporaryValue"]);let[f,m]=hJ(o,i,l,s);return(0,Gl.useEffect)(()=>()=>{u()},[]),Gl.default.createElement(Z4,L({},d),Gl.default.createElement(R4,{hsva:f,onChange:m}),Gl.default.createElement(z4,{hue:f.h,onChange:m}),Gl.default.createElement(q4,{hsva:f,onChange:m}))}}),Vy,X4,Y4,Q4,J4,vJ=P(()=>{Vy=$(X()),gJ(),$4(),cp(),By(),X4=e=>({r:e.r/255,g:e.g/255,b:e.b/255,a:e.a}),Y4=e=>({r:e.r*255,g:e.g*255,b:e.b*255,a:e.a}),Q4={defaultColor:{r:0,g:0,b:0,a:1},toHsva:e=>P4(Y4(e)),fromHsva:e=>X4(_4(e)),equal:dp},J4=e=>Vy.default.createElement(p4,null,Vy.default.createElement(G4,he(L({},e),{permanentlySetValue:t=>{e.permanentlySetValue(t)},colorModel:Q4})))}),yJ=P(()=>{vJ()}),e6,t6,n6,bJ=P(()=>{e6=$(X()),t6=function(e){(0,e6.useEffect)(e,[])},n6=t6}),r6,o6,a6,kJ=P(()=>{r6=$(X()),bJ(),o6=function(e){var t=(0,r6.useRef)(e);t.current=e,n6(function(){return function(){return t.current()}})},a6=o6}),fp,i6,l6,wJ=P(()=>{fp=$(X()),kJ(),i6=function(e){var t=(0,fp.useRef)(0),n=(0,fp.useState)(e),o=n[0],i=n[1],l=(0,fp.useCallback)(function(s){cancelAnimationFrame(t.current),t.current=requestAnimationFrame(function(){i(s)})},[]);return a6(function(){cancelAnimationFrame(t.current)}),[o,l]},l6=i6});function xJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.addEventListener&&e.addEventListener.apply(e,t)}function SJ(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];e&&e.removeEventListener&&e.removeEventListener.apply(e,t)}var pp,EJ=P(()=>{pp=typeof window<"u"}),s6,u6,hp,Hy=P(()=>{s6=$(X()),wJ(),EJ(),u6=function(e,t){e===void 0&&(e=1/0),t===void 0&&(t=1/0);var n=l6({width:pp?window.innerWidth:e,height:pp?window.innerHeight:t}),o=n[0],i=n[1];return(0,s6.useEffect)(function(){if(pp){var l=function(){i({width:window.innerWidth,height:window.innerHeight})};return xJ(window,"resize",l),function(){SJ(window,"resize",l)}}},[]),o},hp=u6});function Ky(e){let[t,n]=(0,Wy.useState)(null);return(0,Wy.useLayoutEffect)(()=>(e&&n(e.getBoundingClientRect()),()=>{n(null)}),[e]),t}var Wy,c6=P(()=>{Wy=$(X())}),d6,f6,qy,p6=P(()=>{d6=$(X()),f6=(0,d6.createContext)({}),qy=f6});function _J(e,t,n){let o=e.getBoundingClientRect(),i=l=>{(l.clientX<o.left-t||l.clientX>o.left+o.width+t||l.clientY<o.top-t||l.clientY>o.top+o.height+t)&&n(l)};return window.addEventListener("mousemove",i),()=>{window.removeEventListener("mousemove",i)}}var PJ=P(()=>{}),h6,mp,$y,m6,Ly,g6=P(()=>{h6=$(X()),mp=$(X()),Hy(),c6(),p6(),nt(),hy(),PJ(),Ul(),Ft(),$y=8,m6=e=>{var t,n;let o=e.children(),[i,l]=Qe(null),s=o.props.style?L({},o.props.style):{};s.position="absolute";let u=Ky(l),d=Ky(e.target),f=hp(),[m,v]=(0,mp.useState)({});return(0,mp.useLayoutEffect)(()=>{var g,h,b;if(!u||!l||!d)return;let y=(g=e.verticalGap)!=null?g:8,k={},x=(h=e.verticalPlacement)!=null?h:"bottom",S=0,_=0;x==="bottom"?d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):x="overlay":x==="top"&&(d.top>u.height+y?(x="top",S=d.top-(u.height+y),k.bottom="0px",k.transform="rotateZ(180deg)"):d.bottom+u.height+y<f.height?(x="bottom",S=d.bottom+y,k.top="0px"):x="overlay");let O=0;if(x!=="overlay"){let Z=d.left+d.width/2;Z<u.width/2?(_=y,O=Math.max(Z-y,$y)):Z+u.width/2>f.width?(_=f.width-(y+u.width),O=Math.min(Z-_,u.width-$y)):(_=Z-u.width/2,O=u.width/2),k.left=O+"px"}let{minX:j=-1/0,maxX:z=1/0,minY:V=-1/0,maxY:W=1/0}=(b=e.constraints)!=null?b:{},B={left:kt(_,j,z-u.width),top:kt(S,V,W+u.height)};if(l.style.left=B.left+"px",l.style.top=B.top+"px",v(k),e.onPointerOutside)return _J(l,e.onPointerOutside.threshold,e.onPointerOutside.callback)},[u,l,e.target,d,f,e.onPointerOutside]),py([l,(t=e.target)!=null?t:null],(n=e.onClickOutside)!=null?n:vr),h6.default.createElement(qy.Provider,{value:m},(0,mp.cloneElement)(o,{ref:i,style:s}))},Ly=m6});function $r(e,t){let{isPointerBeingCaptured:n}=_j("usePopover"),[o,i]=Qe({isOpen:!1}),l=(0,sn.useRef)(e),s=(0,sn.useCallback)(g=>{o.current={isOpen:!1}},[]),u=(0,sn.useCallback)((g,h)=>{var b;let y=typeof l.current=="function"?l.current():l.current;function k(){f.childHasFocusRef.current||y.closeOnClickOutside!==!1&&s("clicked outside popover")}o.current={isOpen:!0,clickPoint:{clientX:g.clientX,clientY:g.clientY},target:h,opts:y,onClickOutside:k,onPointerOutside:y.closeWhenPointerIsDistant===!1?void 0:{threshold:(b=y.pointerDistanceThreshold)!=null?b:100,callback:()=>{f.childHasFocusRef.current||n()||s("pointer outside")}}}},[]),d=(0,sn.useCallback)((...g)=>{o.current.isOpen?s("toggled"):u(...g)},[]),f=CJ({state:i}),[,m]=(0,sn.useContext)(gc);(0,sn.useEffect)(()=>{let g;return i.isOpen&&(g=m()),()=>g==null?void 0:g()},[i.isOpen]);let v=(0,sn.useContext)(Fl);return{node:i.isOpen?(0,v6.createPortal)(sn.default.createElement(Zy.Provider,{value:f.childPopoverLock},sn.default.createElement(Ly,{children:t,target:i.target,onClickOutside:i.onClickOutside,onPointerOutside:i.onPointerOutside,constraints:i.opts.constraints,verticalGap:i.opts.verticalGap})),v):sn.default.createElement(sn.default.Fragment,null),open:u,close:s,toggle:d,isOpen:i.isOpen}}function CJ(e){let t=(0,sn.useContext)(Zy);(0,sn.useEffect)(()=>{if(e.state.isOpen){let o=t.takeFocus();return()=>{o.releaseFocus()}}},[e.state.isOpen]);let n=(0,sn.useRef)(!1);return{childHasFocusRef:n,childPopoverLock:{takeFocus(){return n.current=!0,{releaseFocus(){n.current=!1}}}}}}var sn,v6,Zy,Lr=P(()=>{yy(),nt(),sn=$(X()),v6=$(wo()),gi(),g6(),Nb(),Zy=sn.default.createContext({takeFocus(){return{releaseFocus(){}}}})}),To,y6,b6,k6,w6,x6,S6,E6,_6,P6,C6,I6,j6,IJ=P(()=>{To=$(X()),be(),p6(),b6=M.div(y6||(y6=F([`
  position: absolute;
  width: 0;
  height: 0;
  color: var(--popover-arrow-color);
  pointer-events: none;
`]))),w6=M.div(k6||(k6=F([`
  width: 12px;
  height: 8px;
  position: absolute;
  left: -7px;
  top: -8px;
  text-align: center;
  line-height: 0;
`]))),S6=M.path(x6||(x6=F([`
  fill: var(--popover-bg);
`]))),_6=M.path(E6||(E6=F([`
  fill: var(--popover-inner-stroke);
`]))),C6=M.path(P6||(P6=F([`
  fill: var(--popover-outer-stroke);
`]))),I6=(0,To.forwardRef)(({className:e},t)=>{let n=(0,To.useContext)(qy);return To.default.createElement(b6,{className:e,ref:t,style:L({},n)},To.default.createElement(w6,null,To.default.createElement("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg"},To.default.createElement(C6,{d:"M6 0L0 6H12L6 0Z"}),To.default.createElement(_6,{d:"M6 1.5L0 7.5H12L6 1.5Z"}),To.default.createElement(S6,{d:"M6 3L0 9H12L6 3Z"}))))}),j6=I6}),gp,Gy,O6,T6,z6,Zr,Gr=P(()=>{rt(),Nn(),gp=$(X()),be(),IJ(),Gy=gr(.05,"#2a2a31"),T6=M.div(O6||(O6=F([`
  position: absolute;
  --popover-bg: `,`;
  --popover-inner-stroke: #505159;
  --popover-outer-stroke: #111;

  background: var(--popover-bg);

  color: white;
  padding: 0;
  margin: 0;
  cursor: default;
  `,`;
  border-radius: 3px;
  z-index: 10000;
  border: 1px solid var(--popover-inner-stroke);
  box-shadow: 0 0 0 1px var(--popover-outer-stroke), 0 6px 8px -4px black;
  backdrop-filter: blur(8px);

  & a {
    color: inherit;
  }
`])),Gy,tt),z6=gp.default.forwardRef(({children:e,className:t,showPopoverEdgeTriangle:n=!0},o)=>gp.default.createElement(T6,{className:t,ref:o},n?gp.default.createElement(j6,null):void 0,e)),Zr=z6});function jJ({editingTools:e,value:t,autoFocus:n}){let o=(0,Xr.useRef)(null),i=(0,Xr.useCallback)(s=>{let u=Oy(uJ(s));e.permanentlySetValue(u)},[e]),l=$r({debugName:"RgbaPropEditor"},()=>Xr.default.createElement(U6,null,Xr.default.createElement(J4,{color:{r:t.r,g:t.g,b:t.b,a:t.a},temporarilySetValue:s=>{let u=Oy(s);e.temporarilySetValue(u)},permanentlySetValue:s=>{let u=Oy(s);e.permanentlySetValue(u)},discardTemporaryValue:e.discardTemporaryValue})));return Xr.default.createElement(Xr.default.Fragment,null,Xr.default.createElement(A6,null,Xr.default.createElement(N6,{rgbaColor:t,ref:o,onClick:s=>{l.toggle(s,o.current)}}),Xr.default.createElement(R6,{value:jy(t,{removeAlphaIfOpaque:!0}),temporarilySetValue:Xy,discardTemporaryValue:Xy,permanentlySetValue:i,isValid:s=>!!s.match(Ty),autoFocus:n})),l.node)}var Xr,D6,A6,B6,N6,F6,R6,Xy,M6,U6,V6,OJ=P(()=>{d4(),d4(),Xr=$(X()),yJ(),be(),Lr(),Iy(),Gr(),A6=M.div(D6||(D6=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),N6=M.div.attrs(e=>({style:{background:jy(e.rgbaColor)}}))(B6||(B6=F([`
  height: 18px;
  aspect-ratio: 1;
  border-radius: 99999px;
`]))),R6=M(tp)(F6||(F6=F([`
  flex: 1;
`]))),Xy=()=>{},U6=M.div(M6||(M6=F([`
  position: absolute;
  background-color: `,`;
  color: white;
  margin: 0;
  cursor: default;
  border-radius: 3px;
  z-index: 10000;
  backdrop-filter: blur(8px);

  padding: 4px;
  pointer-events: all;

  border: none;
  box-shadow: none;
`])),Gy),V6=jJ});function TJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[i,l]=br.default.useState();(0,br.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,br.useCallback)(d=>Vt(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"image",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"image",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return br.default.createElement(Yy,{empty:u},br.default.createElement(Z6,{empty:u,title:u?"Upload image":'"'.concat(n.id,'" (Click to upload new image)')},br.default.createElement(X6,{type:"file",onChange:s,accept:"image/*,.hdr",autoFocus:o}),i?br.default.createElement(Q6,{src:i}):br.default.createElement(W6,null)),!u&&br.default.createElement(eO,{title:"Delete image",onClick:()=>{t.permanentlySetValue({type:"image",id:void 0})}},br.default.createElement(oy,null)))}var br,H6,Yy,K6,W6,q6,$6,L6,Z6,G6,X6,Y6,Q6,J6,eO,tO,zJ=P(()=>{zu(),br=$(X()),be(),Yy=M.div(H6||(H6=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),W6=M.div(K6||(K6=F([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),Z6=M.label(L6||(L6=F([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Bn(q6||(q6=F([""]))):Bn($6||($6=F([""])))),X6=M.input.attrs({type:"file"})(G6||(G6=F([`
  display: none;
`]))),Q6=M.img(Y6||(Y6=F([`
  position: absolute;
  inset: 0;
  height: 100%;
  aspect-ratio: 1;

  object-fit: cover;
`]))),eO=M.button(J6||(J6=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),Yy),tO=TJ});function DJ({propConfig:e,editingTools:t,value:n,autoFocus:o}){let[i,l]=kr.default.useState();(0,kr.useEffect)(()=>{l(n?t.getAssetUrl(n):void 0)},[n]);let s=(0,kr.useCallback)(d=>Vt(this,null,function*(){let f=d.target.files[0];t.permanentlySetValue({type:"file",id:void 0});let m=yield t.createAsset(f);m?t.permanentlySetValue({type:"file",id:m}):t.permanentlySetValue(n),d.target.value=null}),[t,n]),u=!(n!=null&&n.id);return kr.default.createElement(Qy,{empty:u},kr.default.createElement(sO,{empty:u,title:u?"Upload file":'"'.concat(n.id,'" (Click to upload new file)')},kr.default.createElement(cO,{type:"file",onChange:s,autoFocus:o}),i?kr.default.createElement(ty,null):kr.default.createElement(oO,null)),!u&&kr.default.createElement(fO,{title:"Delete file",onClick:()=>{t.permanentlySetValue({type:"file",id:void 0})}},kr.default.createElement(oy,null)))}var kr,nO,Qy,rO,oO,aO,iO,lO,sO,uO,cO,dO,fO,pO,AJ=P(()=>{zu(),kr=$(X()),be(),Qy=M.div(nO||(nO=F([`
  display: flex;
  align-items: center;
  height: 100%;
  gap: 4px;
`]))),oO=M.div(rO||(rO=F([`
  position: absolute;
  inset: -5px;
  // rotate 45deg
  transform: rotate(45deg);
  --checker-color: #ededed36;
  &:hover {
    --checker-color: #ededed77;
  }
  // checkerboard background with 4px squares
  background-image: linear-gradient(
      45deg,
      var(--checker-color) 25%,
      transparent 25%
    ),
    linear-gradient(-45deg, var(--checker-color) 25%, transparent 25%),
    linear-gradient(45deg, transparent 75%, var(--checker-color) 75%),
    linear-gradient(-45deg, transparent 75%, var(--checker-color) 75%);
  background-size: 5px 5px;
`]))),sO=M.label(lO||(lO=F([`
  position: relative;
  cursor: default;
  box-sizing: border-box;

  height: 18px;
  aspect-ratio: 1;
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: 16px;

  overflow: hidden;
  color: #ccc;
  &:hover {
    color: white;
  }

  border-radius: 99999px;
  border: 1px solid hwb(220deg 40% 52%);
  &:hover {
    border-color: hwb(220deg 45% 52%);
  }

  `,`
`])),e=>e.empty?Bn(aO||(aO=F([""]))):Bn(iO||(iO=F([""])))),cO=M.input.attrs({type:"file"})(uO||(uO=F([`
  display: none;
`]))),fO=M.button(dO||(dO=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  background: transparent;
  color: #a8a8a9;

  border: none;
  height: 100%;
  aspect-ratio: 1/1;

  opacity: 0;

  `,`:hover & {
    opacity: 0.8;
  }

  &:hover {
    opacity: 1;
    color: white;
  }
`])),Qy),pO=DJ}),Jy,hO=P(()=>{bQ(),Mj(),iJ(),sJ(),OJ(),zJ(),AJ(),Jy={number:Sy,string:c4,boolean:mj,stringLiteral:r4,rgba:V6,image:tO,file:pO}});function qu(e){let t=new WeakMap;return n=>(t.has(n)||t.set(n,e(n)),t.get(n))}var vp=P(()=>{});function Yr(e){return e.type==="compound"||e.type==="enum"}function yp(e,t){if(!e)return;let[n,...o]=t;if(n===void 0)return e;if(!Yr(e))return;let i=e.type==="enum"?e.cases[n]:e.props[n];return yp(i,o)}function bp(e,t){let n=t.deserializeAndSanitize(e);return n===void 0?t.default:n}function BJ(e){return!Yr(e)}function*$u(e,t){if(e.type==="compound")for(let n in e.props)yield*yq($u(e.props[n],[...t,n]));else{if(e.type==="enum")throw new Error("Not implemented yet");return yield{path:t,conf:e}}}var eb,ha=P(()=>{vp(),eb=qu(e=>{if(e.type==="enum")throw new Error("Not implemented yet for enums");for(let t in e.props){let n=e.props[t];if(Yr(n)){if(eb(n))return!0}else return!0}return!1})}),tb,mO=P(()=>{tb="calc(var(--left-pad) + var(--depth) * var(--step))"}),gO,ma,bi=P(()=>{be(),ma=Bn(gO||(gO=F([`
  font-weight: 300;
  font-size: 11px;
  color: `,`;
  text-shadow: 0.5px 0.5px 2px rgba(0, 0, 0, 0.3);
`])),e=>e.isHighlighted==="self"?"#CCC":"#919191")}),Lu,kp,vO,yO,bO,kO,wO,xO,SO=P(()=>{Ul(),Lu=$(X()),be(),kp=26,yO=M.li(vO||(vO=F([`
  height: `,`px;
  padding: 0 12px;
  margin: 0;
  display: flex;
  align-items: center;
  font-size: 11px;
  font-weight: 400;
  position: relative;
  color: `,`;
  cursor: `,`;

  &:after {
    position: absolute;
    inset: 2px 1px;
    display: block;
    content: ' ';
    pointer-events: none;
    z-index: -1;
    border-radius: 3px;
  }

  &:hover:after {
    background-color: `,`;
  }
`])),kp,e=>e.enabled?"white":"#8f8f8f",e=>e.enabled?"normal":"not-allowed",e=>e.enabled?"rgba(63, 174, 191, 0.75)":"initial"),kO=M.span(bO||(bO=F([""]))),wO=e=>Lu.default.createElement(yO,{onClick:e.enabled?e.onClick:vr,enabled:e.enabled,title:e.enabled?void 0:"Disabled"},Lu.default.createElement(kO,null,Lu.default.createElement(Lu.default.Fragment,null,e.label))),xO=wO});function NJ(e){let t=(0,nb.useRef)(e);t.current=e,(0,nb.useEffect)(()=>{let n=o=>t.current(o);return window.addEventListener("keydown",n),()=>{window.removeEventListener("keydown",n)}},[])}var nb,FJ=P(()=>{nb=$(X())}),Zu,EO,_O,PO,CO,IO,jO,OO,rb,TO=P(()=>{Zu=$(X()),SO(),be(),Nn(),rt(),EO=190,_O=!0,CO=M.ul(PO||(PO=F([`
  position: absolute;
  min-width: `,`px;
  z-index: 10000;
  background: `,`;
  backdrop-filter: blur(2px);
  color: white;
  list-style-type: none;
  padding: 2px 0;
  margin: 0;
  border-radius: 1px;
  cursor: default;
  `,`;
  border-radius: 3px;
`])),EO,gr(.2,"#111"),tt),jO=M.div(IO||(IO=F([`
  padding: 4px 10px;
  border-bottom: 1px solid #6262626d;
  color: #adadadb3;
  font-size: 11px;
  font-weight: 500;
`]))),OO=Zu.default.forwardRef((e,t)=>Zu.default.createElement(CO,{ref:t},_O&&e.displayName?Zu.default.createElement(jO,null,e.displayName):null,e.items.map((n,o)=>Zu.default.createElement(xO,{key:"item-".concat(o),label:n.label,enabled:n.enabled!==!1,onClick:i=>{n.callback&&n.callback(i),e.onRequestClose()}})))),rb=OO}),zO,DO,wp,AO,Gu,BO,NO,RJ=P(()=>{c6(),zO=$(X()),DO=$(X()),wp=$(X()),AO=$(wo()),Hy(),SO(),gi(),FJ(),TO(),Gu=20,BO=e=>{let[t,n]=(0,wp.useState)(null),o=Ky(t),i=hp();(0,wp.useLayoutEffect)(()=>{if(!o||!t)return;let u={left:o.width/2,top:kp/2+(e.displayName?kp:0)},d={left:e.clickPoint.clientX-u.left,top:e.clickPoint.clientY-u.top};d.left<0?d.left=0:d.left+o.width>i.width&&(d.left=i.width-o.width),d.top<0?d.top=0:d.top+o.height>i.height&&(d.top=i.height-o.height),t.style.left=d.left+"px",t.style.top=d.top+"px";let f=m=>{(m.clientX<d.left-Gu||m.clientX>d.left+o.width+Gu||m.clientY<d.top-Gu||m.clientY>d.top+o.height+Gu)&&e.onRequestClose()};return window.addEventListener("mousemove",f),()=>{window.removeEventListener("mousemove",f)}},[o,t,e.clickPoint,i,e.onRequestClose]);let l=(0,DO.useContext)(Fl);NJ(u=>{u.key==="Escape"&&e.onRequestClose()});let s=(0,zO.useMemo)(()=>{let u=Array.isArray(e.items)?e.items:e.items();return u.length>0?u:[{label:e.displayName?"No actions for ".concat(e.displayName):"No actions found",enabled:!1}]},[e.items]);return(0,AO.createPortal)(wp.default.createElement(rb,{items:s,onRequestClose:e.onRequestClose,displayName:e.displayName,ref:n}),l)},NO=BO}),xp,FO,RO,MJ=P(()=>{xp=$(X()),FO=(e,t)=>{let[n,o]=(0,xp.useState)({isOpen:!1}),i=(0,xp.useCallback)(()=>o({isOpen:!1}),[]);return(0,xp.useEffect)(()=>{if(!e||t.disabled===!0){o({isOpen:!1});return}let l=s=>{o({isOpen:!0,event:s}),s.preventDefault(),s.stopPropagation()};return e.addEventListener("contextmenu",l),()=>{e.removeEventListener("contextmenu",l)}},[e,t.disabled]),[n,i]},RO=FO});function mn(e,t){let[n,o]=RO(e,t),[,i]=(0,Xl.useContext)(gc);return(0,Xl.useEffect)(()=>{var l;let s;return n.isOpen&&((l=t.onOpen)==null||l.call(t),s=i()),()=>s==null?void 0:s()},[n.isOpen,t.onOpen]),[n.isOpen?Xl.default.createElement(NO,{items:t.menuItems,displayName:t.displayName,clickPoint:n.event,onRequestClose:o}):MO,o,n.isOpen]}var Xl,MO,gn=P(()=>{Xl=$(X()),RJ(),MJ(),Nb(),MO=Xl.default.createElement(Xl.default.Fragment,null)});function ga(e,t){return t.length===0?e:ii(e,t)}var Sp=P(()=>{pu()});function UO(e,t){return e==null?null:e instanceof Element&&e.matches(t)?e:UO(e.parentElement,t)}var UJ=P(()=>{});function Xu(e,t){let n=e;for(let o of t)n=n[o];return n}var Ep=P(()=>{});function VJ(e){let t=new Pp.Atom(void 0),n=new Pp.Atom({}),o=new Pp.Atom({}),i=0;return{addRelatedFlags(l,s){let u=String(++i),d=s.map(f=>{let m={flag:f.flag},v=[f.affects,l,u];return o.setByPointer(g=>Xu(g,v),m),v});return()=>{for(let f of d)o.setByPointer(m=>Xu(m,f),void 0)}},usePresenceFlag(l){},setUserHover(l){let s=t.get();s!==l&&(s&&n.setByPointer(u=>u[s],!1),t.set(l),l&&n.setByPointer(u=>u[l],!0))}}}function ki(e){let t=_p.default.useContext(ab),n=t.usePresenceFlag(e);return{attrs:{[Cp]:e},flag:n,useRelations(o,i){(0,ob.useEffect)(()=>e&&t.addRelatedFlags(e,o()),[e,...i])}}}function VO(e){let t=_p.default.useContext(ab),n=da("PresenceListeners");(0,ob.useEffect)(()=>{let o;if(!e)return;let i=l=>{if(l.target instanceof Node){let s=UO(l.target,"[".concat(Cp,"]"));if(s){let u=s.getAttribute(Cp);o!==u&&(o=u,t.setUserHover(u||void 0),n._debug("Updated current hover",{itemKey:u}));return}o!=null&&(o=null,t.setUserHover(void 0),n._debug("Cleared current hover"))}};return e.addEventListener("mouseover",i),()=>{e.removeEventListener("mouseover",i),o!=null&&(o=null,n._debug("Cleared current hover as part of cleanup"))}},[e,t])}var _p,ob,HO,Pp,KO,ab,Cp,wi=P(()=>{_p=$(X()),ob=$(X()),fa(),HO=je(),Pp=je(),Re(),UJ(),Ep(),KO=(0,HO.prism)(()=>{}),KO.keepHot(),ab=_p.default.createContext(VJ()),Cp="data-pi-key"}),$t,WO,Yu,qO,ib,va,$O,lb,LO,ZO,GO,Ip,XO,YO,QO,JO,e8,t8,Qu,n8,sb,jp=P(()=>{rt(),Nn(),$t=$(X()),be(),wi(),Yu=M.div(WO||(WO=F([`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 16px;
  margin: 0 0px 0 2px;
  position: relative;
  z-index: 0;
  opacity: 0.7;

  &:after {
    position: absolute;
    left: -14px;
    right: -14px;
    top: -2px;
    bottom: -2px;
    content: ' ';
    display: none;
    z-index: -1;
    background: `,`;
  }

  &:hover {
    opacity: 1;
    &:after {
      display: block;
    }
  }
`])),gr(.2,"black")),ib=M.div(qO||(qO=F([`
  background: none;
  position: relative;
  border: 0;
  transition: transform 0.1s ease-out;
  z-index: 0;
  outline: none;
  cursor: pointer;

  &:after {
    display: none;
    `,`:hover & {
      display: block;
    }
    position: absolute;
    left: -4px;
    right: -4px;
    top: -4px;
    bottom: -4px;
    content: ' ';
    z-index: -1;
  }
`])),Yu),va={offColor:"#555",onColor:"#e0c917"},lb=M(ib)($O||($O=F([`
  &:hover {
    color: #e0c917;
  }

  color: `,`;
`])),e=>e.presence===2?"white":e.isOn?va.onColor:va.offColor),ZO=Bn(LO||(LO=F([`
  pointer-events: none !important;
`]))),Ip=M(ib)(GO||(GO=F([`
  color: `,`;

  `,`;
`])),e=>e.flag===2?"white":e.available?va.onColor:va.offColor,e=>e.available?tt:ZO),YO=M(Ip)(XO||(XO=F([`
  transform: translateX(2px);
  `,`:hover & {
    transform: translateX(-7px);
  }
`])),Yu),JO=M(Ip)(QO||(QO=F([`
  transform: translateX(-2px);
  `,`:hover & {
    transform: translateX(7px);
  }
`])),Yu),(e=>{let t=M.g(e8||(e8=F([`
    stroke-width: 1;
    `,`:hover & path {
      stroke-width: 3;
    }
  `])),Ip);e.Prev=()=>$t.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement(t,{transform:"translate(6 3)"},$t.default.createElement("path",{d:"M4 1L1 4L4 7",stroke:"currentColor"}))),e.Next=()=>$t.default.createElement("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement(t,{transform:"translate(1 3)"},$t.default.createElement("path",{d:"M1 1L4 4L1 7",stroke:"currentColor"})));let n=M.g(t8||(t8=F([`
    stroke-width: 0;
    `,`:hover & path {
      stroke: currentColor;
      stroke-width: 2;
    }
  `])),lb);e.Cur=()=>$t.default.createElement("svg",{width:"8",height:"12",viewBox:"0 0 8 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$t.default.createElement(n,{transform:"translate(1 4)"},$t.default.createElement("path",{d:"M3 0L6 3L3 6L0 3L3 0Z",fill:"currentColor"})))})(Qu||(Qu={})),n8=e=>{var t,n,o,i,l;let s=ki((t=e.prev)==null?void 0:t.itemKey),u=ki(((n=e.cur)==null?void 0:n.type)==="on"?e.cur.itemKey:void 0),d=ki((o=e.next)==null?void 0:o.itemKey);return $t.default.createElement(Yu,null,$t.default.createElement(YO,L({available:!!e.prev,onClick:(i=e.prev)==null?void 0:i.jump,flag:s.flag},s.attrs),$t.default.createElement(Qu.Prev,null)),$t.default.createElement(lb,L({isOn:e.cur.type==="on",onClick:e.cur.toggle,presence:u.flag},u.attrs),$t.default.createElement(Qu.Cur,null)),$t.default.createElement(JO,L({available:!!e.next,onClick:(l=e.next)==null?void 0:l.jump,flag:d.flag},d.attrs),$t.default.createElement(Qu.Next,null)))},sb=n8}),Op,Ju,r8,o8,a8,i8,l8,s8,u8,ec,c8=P(()=>{Nn(),Op=$(X()),be(),Ne(),jp(),ha(),Ju={defaultState:{color:gr(.95,"#C4C4C4"),hoverColor:gr(.15,va.onColor)},withStaticOverride:{color:gr(.85,"#C4C4C4"),hoverColor:gr(.15,va.onColor)}},o8=M.div(r8||(r8=F([`
  width: 16px;
  margin: 0 0px 0 2px;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;

  color: `,`;

  &:hover {
    color: `,`;
  }
`])),e=>e.hasStaticOverride?Ju.withStaticOverride.color:Ju.defaultState.color,e=>e.hasStaticOverride?Ju.withStaticOverride.hoverColor:Ju.defaultState.hoverColor),i8=M.div(a8||(a8=F([`
  width: 5px;
  height: 5px;
  border-radius: 1px;
  transform: rotate(45deg);
  /* border: 1px solid currentColor; */
  background-color: currentColor;
`]))),s8=M.div(l8||(l8=F([`
  width: 5px;
  height: 5px;
  background-color: currentColor;
  border-radius: 1px;
  transform: rotate(45deg);
`]))),u8=e=>{let{hasStaticOverride:t,obj:n,propConfig:o,pathToProp:i}=e;return Op.default.createElement(o8,{hasStaticOverride:t,onClick:()=>{de().transaction(({stateEditors:l})=>{for(let{path:s,conf:u}of $u(o,i)){if(Yr(u))continue;let d=he(L({},n.address),{pathToProp:s});l.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(d,o)}})},title:"Sequence this prop"},t?Op.default.createElement(s8,{title:"The default value is overridden"}):Op.default.createElement(i8,{title:"This is the default value for this prop"}))},ec=u8});function tc(e){return JSON.stringify(ub(e))}function ub(e){return sf(e)?Object.keys(e).sort().reduce((t,n)=>(t[n]=ub(e[n]),t),{}):Array.isArray(e)?e.map(ub):e}var HJ=P(()=>{Ft()}),d8,nc,f8=P(()=>{d8="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",nc=(e=21)=>{let t="",n=e;for(;n--;)t+=d8[Math.random()*64|0];return t}});function p8(){return nc(10)}function KJ(){return nc(10)}function WJ(){return nc(10)}var Rt,zo=P(()=>{HJ(),f8(),Rt={forSheet(){return"sheet"},forSheetObject(e){return tc({o:e.address.objectKey})},forSheetObjectProp(e,t){return tc({o:e.address.objectKey,p:t})},forTrackKeyframe(e,t,n){return tc({o:e.address.objectKey,t,k:n})},forSheetObjectAggregateKeyframe(e,t){return Rt.forCompoundPropAggregateKeyframe(e,[],t)},forSheetAggregateKeyframe(e,t){return tc({o:e.address.sheetId,pos:t})},forCompoundPropAggregateKeyframe(e,t,n){return tc({o:e.address.objectKey,p:t,pos:n})}}});function h8(e,t,n){if(!t||t.data.keyframes.length===0)return m8;let o=cb.get(t.data);if(o&&o[0]===n)return o[1];function i(s){if(!t)return;let u=t.data.keyframes[s];return u&&{kf:u,track:t,itemKey:Rt.forTrackKeyframe(e,t.id,u.id)}}let l=(()=>{let s=t.data.keyframes.findIndex(d=>d.position>=n);if(s===-1)return{prev:i(t.data.keyframes.length-1)};let u=i(s);return u.kf.position===n?{prev:i(s-1),cur:u,next:i(s+1)}:{next:u,prev:i(s-1)}})();return cb.set(t.data,[n,l]),l}var cb,m8,g8=P(()=>{zo(),cb=new WeakMap,m8={}}),db,v8=P(()=>{db={}});function qJ(e,t,n){let o=(0,Gn.getPointerParts)(e).path;return Xe(()=>{if(!eb(n))return{type:"AllStatic",beingScrubbed:!1,contextMenuItems:[],controlIndicators:xi.default.createElement(ec,{hasStaticOverride:!1,obj:t,pathToProp:o,propConfig:n})};let i=!!(0,Gn.val)(ii(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,Gn.getPointerParts)(e).path)),l=[],s={beingScrubbed:i,contextMenuItems:l,controlIndicators:xi.default.createElement(xi.default.Fragment,null)},u=(0,Gn.val)(t.template.getMapOfValidSequenceTracks_forStudio()),d=ga(u,o),f=d!==void 0&&Object.keys(d).length!==0,m=[],v=(0,Gn.val)(t.template.getStaticButNotSequencedOverrides()),g=ga(v??db,o)!==void 0;if(f)for(let h of $u(n,[])){if(Yr(h.conf))continue;let b=ga(d,h.path);typeof b!="string"?g=!0:m.push(b)}if((g||f)&&l.push({label:"Reset all to default",callback:()=>{de().transaction(({unset:h})=>{h(e)})}}),f&&l.push({label:"Make all static",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of $u(n,[])){if(Yr(y))continue;let k=he(L({},t.address),{pathToProp:[...o,...b]}),x=Xu(e,b);h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},k),{value:t.getValueByPointer(x)}))}})}}),(!f||f&&g)&&l.push({label:"Sequence all",callback:()=>{de().transaction(({stateEditors:h})=>{for(let{path:b,conf:y}of $u(n,o)){if(Yr(y))continue;let k=he(L({},t.address),{pathToProp:b});h.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(k,n)}})}}),f){let h=Gn.prism.memo("controlIndicators",()=>xi.default.createElement($J,{pointerToProp:e,obj:t,possibleSequenceTrackIds:d,listOfDescendantTrackIds:m}),[d,m]);return he(L({},s),{type:"HasSequences",controlIndicators:h})}else return he(L({},s),{type:"AllStatic",controlIndicators:xi.default.createElement(ec,{hasStaticOverride:g,obj:t,pathToProp:o,propConfig:n})})},[])}function $J({pointerToProp:e,obj:t,possibleSequenceTrackIds:n,listOfDescendantTrackIds:o}){return Xe(()=>{let i=(0,Gn.getPointerParts)(e).path,l=(0,Gn.val)(t.sheet.getSequence().positionPrism),s=o.map(h=>({trackId:h,track:(0,Gn.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[h])})).filter(({track:h})=>!!h).map(h=>he(L({},h),{nearbies:h8(t,{id:h.trackId,data:h.track,sheetObject:t},l)})),u=s.find(({nearbies:h})=>!!h.cur),d=s.every(({nearbies:h})=>!!h.cur),f=s.reduce((h,b)=>b.nearbies.prev&&(h===void 0||b.nearbies.prev.kf.position>h.kf.position)?b.nearbies.prev:h,void 0),m=s.reduce((h,b)=>b.nearbies.next&&(h===void 0||b.nearbies.next.kf.position<h.kf.position)?b.nearbies.next:h,void 0),v=()=>{d?de().transaction(h=>{h.unset(e)}):u?de().transaction(h=>{h.set(e,(0,Gn.val)(e))}):de().transaction(h=>{h.set(e,(0,Gn.val)(e))})},g={cur:u?{type:"on",itemKey:Rt.forCompoundPropAggregateKeyframe(t,i,l),toggle:v}:{toggle:v,type:"off"},prev:f!==void 0?{position:f.kf.position,itemKey:Rt.forCompoundPropAggregateKeyframe(t,i,f.kf.position),jump:()=>{t.sheet.getSequence().position=f.kf.position}}:void 0,next:m!==void 0?{position:m.kf.position,itemKey:Rt.forCompoundPropAggregateKeyframe(t,i,m.kf.position),jump:()=>{t.sheet.getSequence().position=m.kf.position}}:void 0};return xi.default.createElement(sb,L({},g))},[e,t,n,o])}var Gn,xi,LJ=P(()=>{Ne(),Sp(),Re(),Gn=je(),pu(),xi=$(X()),c8(),ha(),zo(),Ep(),jp(),g8(),v8()});function ZJ(){let e=0,t=new k8.Atom({hasLock:!1});return{replaceLock(n,o){let i=e++,l=t.get();return l.hasLock&&l.cleanup(),t.set({hasLock:!0,lockId:i,cleanup:o,deepPath:GJ(y8(n))}),function(){let s=t.get();s.hasLock&&s.lockId===i&&(s.cleanup(),t.set({hasLock:!1}))}},getIsPropHighlightedD(n){let o=Xu(t.pointer.deepPath,y8(n));return(0,w8.prism)(()=>{let i=(0,b8.val)(o);return i===!0?"self":i?"descendent":null})}}}function y8(e){return[e.projectId,e.sheetId,e.objectKey,...e.pathToProp]}function GJ(e){let t={};return Cl(t,e,!0),t}var b8,k8,w8,Tp,fb=P(()=>{b8=je(),k8=je(),w8=je(),Ep(),J0(),Tp=ZJ()});function XJ(e,t){return JSON.stringify(e,t,2).replace(/^([\{\[])\n (\s+)/,"$1$2").replace(/(\n[ ]+[\{\[])\n\s+/g,"$1 ").replace(/\n\s*([\]\}])/g," $1")}var YJ=P(()=>{});function x8(e,t=!0){try{return typeof e=="string"?e:typeof e=="function"||e instanceof Error?e.toString():t?XJ(e):JSON.stringify(e)}catch{return(e==null?void 0:e.name)||String(e)}}var QJ=P(()=>{YJ()});function JJ(e,t,n){e||(arguments.length>2?S8(t,n):S8(t))}function S8(e,t){let n=arguments.length>1,o=x8(e),i=n?`
Instead found: `.concat(x8(t)):"";throw new I8("Invariant: ".concat(o).concat(i),t)}var E8,_8,P8,C8,I8,eee=P(()=>{QJ(),E8=/^\s*at.+node:internal.+/gm,_8=/^\s*(at|[^@]+@) (?:Object\.)?invariant.+/gm,P8=/^\s*(at|[^@]+@).+test\-helpers.+/gm,C8=/^\s*(at|[^@]+@).+(debounce|invariant|iif)\.[tj]s.*/gm,I8=class extends Error{constructor(e,t){var n;super(e),et(this,"found"),t!==void 0&&(this.found=t),this.stack=(n=this.stack)==null?void 0:n.replace(_8,"").replace(C8,"").replace(P8,"").replace(E8,"")}}});function tee(e){return(0,zp.prism)(()=>{if(Array.isArray(e)){let t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e[n].getValue();return t}else{let t={};for(let n in e)t[n]=(0,zp.val)(e[n]);return t}})}function pb(e){let t=Yl.default.memo(Yl.default.forwardRef(function(n,o){let i=[],l={},s={ref:o};for(let m in n){let v=n[m];(0,zp.isPrism)(v)?(i.push(v),l[m]=v):s[m]=v}let u=(0,Yl.useRef)(i.length);JJ(u.current===i.length,"expect same number of observable props on every invocation of deriver wrapped component.",{initial:u.current,count:i.length});let d=(0,Yl.useMemo)(()=>tee(l),i),f=ev(d);return f&&Yl.default.createElement(e,L(L({},s),f))}));return t.displayName="deriver(".concat(e.displayName,")"),t}var zp,Yl,j8=P(()=>{zp=je(),Re(),Yl=$(X()),eee()});function nee(e,t,n){return(0,wr.prism)(()=>{var o;let i=(0,wr.getPointerParts)(e).path,l=t.getValueByPointer(e),s=wr.prism.memo("editPropValue",()=>{let b=null;return{temporarilySetValue(y){b||(b=de().scrub()),b.capture(k=>{k.set(e,y)})},discardTemporaryValue(){b&&(b.discard(),b=null)},permanentlySetValue(y){b?(b.capture(k=>{k.set(e,y)}),b.commit(),b=null):de().transaction(k=>{k.set(e,y)})}}},[]),u={createAsset:b=>t.sheet.project.assetStorage.createAsset(b),getAssetUrl:b=>b.id?t.sheet.project.assetStorage.getAssetUrl(b.id):void 0},d=(0,wr.val)(ii(de().atomP.ephemeral.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].stateByObjectKey[t.address.objectKey].valuesBeingScrubbed,(0,wr.getPointerParts)(e).path))===!0,f=[],m=he(L(L({},s),u),{value:l,beingScrubbed:d,contextMenuItems:f,controlIndicators:Ql.default.createElement(Ql.default.Fragment,null)}),v=BJ(n);if(v){let b=(0,wr.val)(t.template.getMapOfValidSequenceTracks_forStudio()),y=ga(b,i);if(typeof y=="string"){f.push({label:"Make static",callback:()=>{de().transaction(({stateEditors:z})=>{let V=he(L({},t.address),{pathToProp:i});z.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsStatic(he(L({},V),{value:t.getValueByPointer(e)}))})}});let k=y,x=wr.prism.sub("lcr",()=>{let z=(0,wr.val)(t.template.project.pointers.historic.sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[k]),V=(0,wr.val)(t.sheet.getSequence().positionPrism);return h8(t,z&&{data:z,id:k,sheetObject:t},V)},[k]),S;m.beingScrubbed?S="Sequenced_OnKeyframe_BeingScrubbed":x.cur?S="Sequenced_OnKeyframe":((o=x.prev)==null?void 0:o.kf.connectedRight)===!0?S="Sequenced_BeingInterpolated":S="Sequened_NotBeingInterpolated";let _=()=>{x.cur?de().transaction(z=>{z.unset(e)}):de().transaction(z=>{z.set(e,m.value)})},O={cur:x.cur?{type:"on",itemKey:x.cur.itemKey,toggle:_}:{type:"off",toggle:_},prev:x.prev!==void 0?{itemKey:x.prev.itemKey,position:x.prev.kf.position,jump:()=>{t.sheet.getSequence().position=x.prev.kf.position}}:void 0,next:x.next!==void 0?{itemKey:x.next.itemKey,position:x.next.kf.position,jump:()=>{t.sheet.getSequence().position=x.next.kf.position}}:void 0},j=Ql.default.createElement(sb,L({},O));return he(L({},m),{type:"Sequenced",shade:S,nearbyKeyframes:x,controlIndicators:j})}}let g=(0,wr.val)(t.template.getStaticValues()),h=ga(g,i);return typeof h<"u"&&f.push({label:"Reset to default",callback:()=>{de().transaction(({unset:b})=>{b(e)})}}),v&&f.push({label:"Sequence",callback:()=>{de().transaction(({stateEditors:b})=>{let y=he(L({},t.address),{pathToProp:i});b.coreByProject.historic.sheetsById.sequence.setPrimitivePropAsSequenced(y,n)})}}),typeof h<"u"?he(L({},m),{type:"Static",shade:m.beingScrubbed?"Static_BeingScrubbed":"Static",controlIndicators:Ql.default.createElement(ec,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})}):he(L({},m),{type:"Default",shade:"Default",controlIndicators:Ql.default.createElement(ec,{hasStaticOverride:!0,obj:t,pathToProp:i,propConfig:n})})})}function ree(e,t,n){if(Dp.has(e))return Dp.get(e);{let o=nee(e,t,n);return Dp.set(e,o),o}}function hb(e,t,n){let o=ree(e,t,n);return ev(o)}var Ql,wr,Dp,mb=P(()=>{pu(),Ql=$(X()),wr=je(),Ne(),Sp(),Re(),ha(),c8(),g8(),jp(),Dp=new WeakMap});function oee({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let i=hb(t,n,e);return Lt.default.createElement(Sy,{editingTools:i,propConfig:e,value:i.value})}function aee({pointerToProp:e,obj:t,propConfig:n,visualIndentation:o}){var i;let l=(i=n.label)!=null?i:si((0,rc.getPointerParts)(e).path),s=Object.entries(n.props),u=s.filter(([_,O])=>Yr(O)),d=s.filter(([_,O])=>!Yr(O)),[f,m]=Qe(null),v=qJ(e,t,n),[g]=mn(m,{menuItems:v.contextMenuItems}),h=u.length>0,b=(0,Lt.useMemo)(()=>Tp.getIsPropHighlightedD(he(L({},t.address),{pathToProp:(0,rc.getPointerParts)(e).path})),[e]),y="".concat(t.address.projectId,",").concat(t.address.sheetId,",").concat(t.address.sheetInstanceId,",").concat(t.address.objectKey,",").concat((0,rc.getPointerParts)(e).path.join()),k=q8(n);(0,Lt.useLayoutEffect)(()=>{Ap.has(y)||Ap.set(y,new rc.Atom(k))},[y,n]);let x=Ap.get(y),S=Xe(()=>x?(0,O8.val)(x.pointer):k,[x]);return Lt.default.createElement(z8,null,g,Lt.default.createElement(gb,{style:{"--depth":o-1}},Lt.default.createElement(B8,{isVectorProp:k},Lt.default.createElement(F8,null,v.controlIndicators),Lt.default.createElement(M8,{isHighlighted:b,ref:f},Lt.default.createElement("span",null,l||"Props")),Lt.default.createElement(V8,{isCollapsed:S,isVector:k,onClick:()=>{x==null||x.set(!x.get())}},Lt.default.createElement(Gj,null))),k&&S&&Lt.default.createElement(L8,null,[...s].map(([_,O])=>Lt.default.createElement(oee,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t})))),!S&&Lt.default.createElement(W8,{style:{"--depth":o},depth:o,lastSubIsComposite:h},[...d,...u].map(([_,O])=>Lt.default.createElement(yb,{key:"prop-"+_,propConfig:O,pointerToProp:e[_],obj:t,visualIndentation:o+1}))))}var rc,Lt,O8,T8,z8,D8,gb,A8,B8,N8,F8,R8,M8,U8,V8,H8,K8,W8,q8,$8,L8,Z8,Ap,iee=P(()=>{ha(),rc=je(),gf(),Nn(),Lt=$(X()),be(),mO(),bi(),rt(),nt(),sT(),gn(),LJ(),fb(),j8(),Mj(),mb(),Re(),O8=je(),Ll(),vp(),z8=M.div(T8||(T8=F([`
  --step: 15px;
  --left-pad: 15px;
  `,`;
  --right-width: 60%;
`])),tt),gb=M.div(D8||(D8=F([`
  height: 30px;
  display: flex;
  align-items: stretch;
  position: relative;
`]))),B8=M.div(A8||(A8=F([`
  padding-left: `,`;
  display: flex;
  align-items: center;
  overflow: hidden;
  `,`;
`])),tb,({isVectorProp:e})=>e?"width: calc(100% - var(--right-width))":""),F8=M.div(N8||(N8=F([`
  flexshrink: 0;
`]))),M8=pb(M.div(R8||(R8=F([`
  margin-left: 4px;
  cursor: default;
  height: 100%;
  display: flex;
  align-items: center;
  gap: 4px;
  user-select: none;
  &:hover {
    color: white;
  }
  overflow: hidden;

  `,`;
`])),()=>ma)),V8=M.span(U8||(U8=F([`
  width: 28px;
  height: 28px;
  font-size: 9px;
  display: flex;
  align-items: center;
  justify-content: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  visibility: `,`;

  `,`:hover & {
    visibility: visible;
  }

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>!e.isVector&&e.isCollapsed||e.isVector&&!e.isCollapsed?"visible":"hidden",gb,e=>e.isCollapsed?15:75),H8=gr(.05,"#282b2f"),W8=M.div(K8||(K8=F([`
  /* background: `,`; */
  /* padding: `,` 0; */
`])),({depth:e})=>Eu(e*.03,H8),e=>e.lastSubIsComposite?0:"4px"),q8=qu(e=>{let t=Object.entries(e.props);return t.length<=3&&t.every(([n,o])=>o.type==="number"&&["x","y","z"].includes(n))}),L8=M.div($8||($8=F([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`]))),Z8=Lt.default.memo(aee),Ap=new Map});function lee({isHighlighted:e}){return e==="self"?"#1857a4":e==="descendent"?"#0a2f5c":"initial"}var see=P(()=>{});function uee({propConfig:e,pointerToProp:t,editingTools:n,children:o,isPropHighlightedD:i}){var l;let s=(l=e.label)!=null?l:si((0,vb.getPointerParts)(t).path),[u,d]=Qe(null),[f]=mn(d,{menuItems:n.contextMenuItems});return Jl.default.createElement(X8,{isHighlighted:i},f,Jl.default.createElement(Q8,null,Jl.default.createElement(nT,null,n.controlIndicators),Jl.default.createElement(eT,{isHighlighted:i,ref:u,title:["obj","props",...(0,vb.getPointerParts)(t).path].join(".")},s)),Jl.default.createElement(oT,null,o))}var vb,Jl,G8,X8,Y8,Q8,J8,eT,tT,nT,rT,oT,cee=P(()=>{vb=je(),gn(),nt(),Ft(),Jl=$(X()),be(),rt(),bi(),j8(),mO(),see(),X8=pb(M.div(G8||(G8=F([`
  display: flex;
  height: 30px;
  justify-content: flex-start;
  align-items: stretch;
  // We cannot calculate both the container (details panel) width and the descendant
  // (this) width dynamically. This leads to the container width being calculated
  // without this percentage being taken into consideration leads to horizontal
  // clipping/scrolling--the same way as if we explicitly fixed either the container
  // width, or the descendant width.
  // The correct solution for tabulated UIs with dynamic container widths is to use
  // CSS grid. For now I fixed this issue by just giving a great enough width
  // to the details panel so most things don't break.
  --right-width: 60%;
  position: relative;
  `,`;

  /* background-color: `,`; */
`])),tt,lee)),Q8=M.div(Y8||(Y8=F([`
  box-sizing: border-box;
  padding-left: `,`;
  padding-right: 4px;
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
  align-items: stretch;
  gap: 4px;
  flex-grow: 0;
  flex-shrink: 0;
  width: calc(100% - var(--right-width));
`])),tb),eT=pb(M.div(J8||(J8=F([`
  text-align: left;
  flex: 1 0;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
  display: flex;
  align-items: center;
  user-select: none;
  cursor: default;

  `,`;
  &:hover {
    color: white;
  }
`])),ma)),nT=M.div(tT||(tT=F([`
  flex-basis: 8px;
  flex: 0 0;
  display: flex;
  align-items: center;
`]))),oT=M.div(rT||(rT=F([`
  display: flex;
  align-items: center;
  justify-content: stretch;
  padding: 0 8px 0 2px;
  box-sizing: border-box;
  height: 100%;
  width: var(--right-width);
  flex-shrink: 0;
  flex-grow: 0;
`])))});function dee({propConfig:e,pointerToProp:t,obj:n,SimpleEditorComponent:o}){let i=hb(t,n,e),l=(0,oc.useMemo)(()=>Tp.getIsPropHighlightedD(he(L({},n.address),{pathToProp:(0,aT.getPointerParts)(t).path})),[t]);return oc.default.createElement(uee,{editingTools:i,propConfig:e,pointerToProp:t,isPropHighlightedD:l},oc.default.createElement(o,{editingTools:i,propConfig:e,value:i.value}))}var oc,aT,iT,fee=P(()=>{oc=$(X()),mb(),cee(),aT=je(),fb(),iT=oc.default.memo(dee)}),ac,lT,yb,sT=P(()=>{ac=$(X()),hO(),iee(),fee(),lT=({propConfig:e,visualIndentation:t,pointerToProp:n,obj:o})=>{if(e.type==="compound")return ac.default.createElement(Z8,{obj:o,visualIndentation:t,pointerToProp:n,propConfig:e});if(e.type==="enum")return ac.default.createElement(ac.default.Fragment,null);{let i=Jy[e.type];return ac.default.createElement(iT,{SimpleEditorComponent:i,obj:o,visualIndentation:t,pointerToProp:n,propConfig:e})}},yb=lT});function uT(e){return Bp.has(e)||Bp.set(e,(cT++).toString()),Bp.get(e)}var Bp,cT,dT=P(()=>{Bp=new WeakMap,cT=0}),es,fT,pT,hT,mT,gT,vT,pee=P(()=>{es=$(X()),sT(),Re(),dT(),be(),pT=M.div(fT||(fT=F([`
  display: flex;
  flex-direction: column;
  gap: 4px;
  padding: 8px;
`]))),mT=M.button(hT||(hT=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  outline: none;
  border-radius: 2px;

  color: #a8a8a9;
  background: rgba(255, 255, 255, 0.1);

  border: none;
  height: 28px;

  &:hover {
    background: rgba(255, 255, 255, 0.15);
  }

  &:active {
    background: rgba(255, 255, 255, 0.2);
  }
`]))),gT=({objects:e})=>{let t=e[0],n=Ye(t.template.configPointer),o=Ye(t.template._temp_actionsPointer);return es.default.createElement(es.default.Fragment,null,es.default.createElement(yb,{key:uT(t),obj:t,pointerToProp:t.propsP,propConfig:n,visualIndentation:1}),es.default.createElement(pT,null,o&&Object.entries(o).map(([i,l])=>es.default.createElement(mT,{key:i,onClick:()=>{l(t.publicApi)}},i))))},vT=gT}),yT,bT,Np,kT=P(()=>{be(),bT=M.button(yT||(yT=F([`
  text-align: center;
  padding: 8px;
  border-radius: 2px;
  border: 1px solid #627b7b87;
  background-color: #4b787d3d;
  color: #eaeaea;
  font-weight: 400;
  display: block;
  appearance: none;
  flex-grow: 1;
  cursor: `,`;
  opacity: `,`;

  &:hover {
    background-color: #7dc1c878;
    border-color: #9ebcbf;
  }
`])),e=>e.disabled?"none":"pointer",e=>e.disabled?.4:1),Np=bT}),hee=P(()=>{}),wT,mee=P(()=>{hee(),wT=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;){let o=n[e]&63;o<36?t+=o.toString(36):o<62?t+=(o-26).toString(36).toUpperCase():o<63?t+="_":t+="-"}return t}});function xT(){return wT(16)}var ST=P(()=>{mee()}),ET,Do,bb,_T,PT,CT,IT,jT=P(()=>{ET=je(),nt(),Do=$(X()),bb=(0,Do.createContext)(null),_T=0,PT=()=>{let e=(0,Do.useMemo)(()=>_T++,[]),{cur:t,set:n}=(0,Do.useContext)(bb),[o,i]=Qe(!1),l=(0,Do.useCallback)((s,u)=>{n(s?e:-1,u)},[]);return(0,Do.useEffect)(()=>t.onStale(()=>{let s=t.getValue()===e;o.current!==s&&(o.current=s)}),[t,e]),[i,l]},CT=({children:e})=>{let t=(0,Do.useMemo)(()=>new ET.Atom(-1),[]),n=t.prism,o=(0,Do.useMemo)(()=>{let i;return(l,s)=>{let u=i!==void 0;i!==void 0&&(clearTimeout(i),i=void 0),s===0||u?t.set(l):i=setTimeout(()=>{t.set(l),i=void 0},s)}},[]);return Do.default.createElement(bb.Provider,{value:{cur:n,set:o}},e)},IT=CT});function ts(e,t){let n=e.enabled!==!1,[o,i]=PT(),[l,s]=Qe(null);(0,TT.useEffect)(()=>{if(!n)return;let d=l.current;if(!d)return;let f=()=>{var v;return i(!0,(v=e.enterDelay)!=null?v:400)},m=()=>{var v;return i(!1,(v=e.exitDelay)!=null?v:200)};return d.addEventListener("mouseenter",f),d.addEventListener("mouseleave",m),()=>{d.removeEventListener("mouseenter",f),d.removeEventListener("mouseleave",m)}},[l,n,e.enterDelay,e.exitDelay]);let u=(0,OT.useContext)(Fl);return[n&&o&&s?(0,zT.createPortal)(Fp.default.createElement(Ly,{children:t,target:s,onClickOutside:vr,verticalPlacement:e.verticalPlacement,verticalGap:e.verticalGap}),u):Fp.default.createElement(Fp.default.Fragment,null),l,o]}var OT,TT,Fp,zT,ic=P(()=>{nt(),OT=$(X()),TT=$(X()),Fp=$(X()),g6(),zT=$(wo()),jT(),gi(),Ul()}),DT,AT,ns,Rp=P(()=>{be(),Gr(),AT=M(Zr)(DT||(DT=F([`
  padding: 1em;
  max-width: 240px;
  pointer-events: none !important;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: #45464d;
`]))),ns=AT}),Qr,BT,NT,FT,RT,MT,UT,VT,HT,KT,gee=P(()=>{Re(),Ne(),Qr=$(X()),be(),ST(),ic(),Rp(),kT(),NT=M.div(BT||(BT=F([`
  padding: 8px 10px;
  position: relative;
  background-color: #6d232352;
  &:before {
    position: absolute;
    content: ' ';
    display: block;
    left: 0;
    top: 0;
    bottom: 0;
    width: 2px;
    background-color: #ff000070;
  }
`]))),RT=M.div(FT||(FT=F([`
  margin-bottom: 1em;
  & a {
    color: inherit;
  }
`]))),UT=M.div(MT||(MT=F([`
  display: flex;
  gap: 8px;
`]))),VT=({projectId:e})=>{let t=Ye(de().atomP.ephemeral.coreByProject[e].loadingState);return t&&t.type==="browserStateIsNotBasedOnDiskState"?Qr.default.createElement(HT,{loadingState:t,projectId:e}):null},HT=({projectId:e,loadingState:t})=>{let n=()=>{de().transaction(({drafts:d,stateEditors:f})=>{f.coreByProject.historic.revisionHistory.add({projectId:e,revision:t.onDiskState.revisionHistory[0]}),f.coreByProject.historic.revisionHistory.add({projectId:e,revision:xT()}),d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},o=()=>{de().transaction(({drafts:d})=>{d.historic.coreByProject[e]=t.onDiskState,d.ephemeral.coreByProject[e].loadingState={type:"loaded"}})},[i,l]=ts({},()=>Qr.default.createElement(ns,null,"The browser's state will override the disk state.")),[s,u]=ts({},()=>Qr.default.createElement(ns,null,"The disk's state will override the browser's state."));return Qr.default.createElement(NT,null,Qr.default.createElement(RT,null,"Browser state is not based on disk state."," ",Qr.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Learn more.")),Qr.default.createElement(UT,null,i,Qr.default.createElement(Np,{onClick:n,ref:l},"Use browser's state"),s,Qr.default.createElement(Np,{onClick:o,ref:u},"Use disk state")))},KT=VT}),vee=He((e,t)=>{(function(n){typeof e=="object"&&typeof t<"u"?t.exports=n():(typeof window<"u"?window:typeof $n<"u"?$n:typeof self<"u"?self:this).JSZip=n()})(function(){return function n(o,i,l){function s(f,m){if(!i[f]){if(!o[f]){var v=typeof Tg=="function"&&Tg;if(!m&&v)return v(f,!0);if(u)return u(f,!0);var g=new Error("Cannot find module '"+f+"'");throw g.code="MODULE_NOT_FOUND",g}var h=i[f]={exports:{}};o[f][0].call(h.exports,function(b){var y=o[f][1][b];return s(y||b)},h,h.exports,n,o,i,l)}return i[f].exports}for(var u=typeof Tg=="function"&&Tg,d=0;d<l.length;d++)s(l[d]);return s}({1:[function(n,o,i){var l=n("./utils"),s=n("./support"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(d){for(var f,m,v,g,h,b,y,k=[],x=0,S=d.length,_=S,O=l.getTypeOf(d)!=="string";x<d.length;)_=S-x,v=O?(f=d[x++],m=x<S?d[x++]:0,x<S?d[x++]:0):(f=d.charCodeAt(x++),m=x<S?d.charCodeAt(x++):0,x<S?d.charCodeAt(x++):0),g=f>>2,h=(3&f)<<4|m>>4,b=1<_?(15&m)<<2|v>>6:64,y=2<_?63&v:64,k.push(u.charAt(g)+u.charAt(h)+u.charAt(b)+u.charAt(y));return k.join("")},i.decode=function(d){var f,m,v,g,h,b,y=0,k=0,x="data:";if(d.substr(0,x.length)===x)throw new Error("Invalid base64 input, it looks like a data url.");var S,_=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===u.charAt(64)&&_--,d.charAt(d.length-2)===u.charAt(64)&&_--,_%1!=0)throw new Error("Invalid base64 input, bad content length.");for(S=s.uint8array?new Uint8Array(0|_):new Array(0|_);y<d.length;)f=u.indexOf(d.charAt(y++))<<2|(g=u.indexOf(d.charAt(y++)))>>4,m=(15&g)<<4|(h=u.indexOf(d.charAt(y++)))>>2,v=(3&h)<<6|(b=u.indexOf(d.charAt(y++))),S[k++]=f,h!==64&&(S[k++]=m),b!==64&&(S[k++]=v);return S}},{"./support":30,"./utils":32}],2:[function(n,o,i){var l=n("./external"),s=n("./stream/DataWorker"),u=n("./stream/Crc32Probe"),d=n("./stream/DataLengthProbe");function f(m,v,g,h,b){this.compressedSize=m,this.uncompressedSize=v,this.crc32=g,this.compression=h,this.compressedContent=b}f.prototype={getContentWorker:function(){var m=new s(l.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),v=this;return m.on("end",function(){if(this.streamInfo.data_length!==v.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new s(l.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(m,v,g){return m.pipe(new u).pipe(new d("uncompressedSize")).pipe(v.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",v)},o.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,o,i){var l=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new l("STORE compression")},uncompressWorker:function(){return new l("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,o,i){var l=n("./utils"),s=function(){for(var u,d=[],f=0;f<256;f++){u=f;for(var m=0;m<8;m++)u=1&u?3988292384^u>>>1:u>>>1;d[f]=u}return d}();o.exports=function(u,d){return u!==void 0&&u.length?l.getTypeOf(u)!=="string"?function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m[y])];return-1^f}(0|d,u,u.length,0):function(f,m,v,g){var h=s,b=g+v;f^=-1;for(var y=g;y<b;y++)f=f>>>8^h[255&(f^m.charCodeAt(y))];return-1^f}(0|d,u,u.length,0):0}},{"./utils":32}],5:[function(n,o,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,o,i){var l=null;l=typeof Promise<"u"?Promise:n("lie"),o.exports={Promise:l}},{lie:37}],7:[function(n,o,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),u=n("./utils"),d=n("./stream/GenericWorker"),f=l?"uint8array":"array";function m(v,g){d.call(this,"FlateWorker/"+v),this._pako=null,this._pakoAction=v,this._pakoOptions=g,this.meta={}}i.magic="\b\0",u.inherits(m,d),m.prototype.processChunk=function(v){this.meta=v.meta,this._pako===null&&this._createPako(),this._pako.push(u.transformTo(f,v.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var v=this;this._pako.onData=function(g){v.push({data:g,meta:v.meta})}},i.compressWorker=function(v){return new m("Deflate",v)},i.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,o,i){function l(h,b){var y,k="";for(y=0;y<b;y++)k+=String.fromCharCode(255&h),h>>>=8;return k}function s(h,b,y,k,x,S){var _,O,j=h.file,z=h.compression,V=S!==f.utf8encode,W=u.transformTo("string",S(j.name)),B=u.transformTo("string",f.utf8encode(j.name)),Z=j.comment,re=u.transformTo("string",S(Z)),D=u.transformTo("string",f.utf8encode(Z)),G=B.length!==j.name.length,C=D.length!==Z.length,Q="",xe="",q="",K=j.dir,ee=j.date,ge={crc32:0,compressedSize:0,uncompressedSize:0};b&&!y||(ge.crc32=h.crc32,ge.compressedSize=h.compressedSize,ge.uncompressedSize=h.uncompressedSize);var A=0;b&&(A|=8),V||!G&&!C||(A|=2048);var N=0,oe=0;K&&(N|=16),x==="UNIX"?(oe=798,N|=function(ue,te){var Oe=ue;return ue||(Oe=te?16893:33204),(65535&Oe)<<16}(j.unixPermissions,K)):(oe=20,N|=function(ue){return 63&(ue||0)}(j.dosPermissions)),_=ee.getUTCHours(),_<<=6,_|=ee.getUTCMinutes(),_<<=5,_|=ee.getUTCSeconds()/2,O=ee.getUTCFullYear()-1980,O<<=4,O|=ee.getUTCMonth()+1,O<<=5,O|=ee.getUTCDate(),G&&(xe=l(1,1)+l(m(W),4)+B,Q+="up"+l(xe.length,2)+xe),C&&(q=l(1,1)+l(m(re),4)+D,Q+="uc"+l(q.length,2)+q);var le="";return le+=`
\0`,le+=l(A,2),le+=z.magic,le+=l(_,2),le+=l(O,2),le+=l(ge.crc32,4),le+=l(ge.compressedSize,4),le+=l(ge.uncompressedSize,4),le+=l(W.length,2),le+=l(Q.length,2),{fileRecord:v.LOCAL_FILE_HEADER+le+W+Q,dirRecord:v.CENTRAL_FILE_HEADER+l(oe,2)+le+l(re.length,2)+"\0\0\0\0"+l(N,4)+l(k,4)+W+Q+re}}var u=n("../utils"),d=n("../stream/GenericWorker"),f=n("../utf8"),m=n("../crc32"),v=n("../signature");function g(h,b,y,k){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=b,this.zipPlatform=y,this.encodeFileName=k,this.streamFiles=h,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}u.inherits(g,d),g.prototype.push=function(h){var b=h.meta.percent||0,y=this.entriesCount,k=this._sources.length;this.accumulate?this.contentBuffer.push(h):(this.bytesWritten+=h.data.length,d.prototype.push.call(this,{data:h.data,meta:{currentFile:this.currentFile,percent:y?(b+100*(y-k-1))/y:100}}))},g.prototype.openedSource=function(h){this.currentSourceOffset=this.bytesWritten,this.currentFile=h.file.name;var b=this.streamFiles&&!h.file.dir;if(b){var y=s(h,b,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:y.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(h){this.accumulate=!1;var b=this.streamFiles&&!h.file.dir,y=s(h,b,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(y.dirRecord),b)this.push({data:function(k){return v.DATA_DESCRIPTOR+l(k.crc32,4)+l(k.compressedSize,4)+l(k.uncompressedSize,4)}(h),meta:{percent:100}});else for(this.push({data:y.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var h=this.bytesWritten,b=0;b<this.dirRecords.length;b++)this.push({data:this.dirRecords[b],meta:{percent:100}});var y=this.bytesWritten-h,k=function(x,S,_,O,j){var z=u.transformTo("string",j(O));return v.CENTRAL_DIRECTORY_END+"\0\0\0\0"+l(x,2)+l(x,2)+l(S,4)+l(_,4)+l(z.length,2)+z}(this.dirRecords.length,y,h,this.zipComment,this.encodeFileName);this.push({data:k,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(h){this._sources.push(h);var b=this;return h.on("data",function(y){b.processChunk(y)}),h.on("end",function(){b.closedSource(b.previous.streamInfo),b._sources.length?b.prepareNextSource():b.end()}),h.on("error",function(y){b.error(y)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(h){var b=this._sources;if(!d.prototype.error.call(this,h))return!1;for(var y=0;y<b.length;y++)try{b[y].error(h)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var h=this._sources,b=0;b<h.length;b++)h[b].lock()},o.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,o,i){var l=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(u,d,f){var m=new s(d.streamFiles,f,d.platform,d.encodeFileName),v=0;try{u.forEach(function(g,h){v++;var b=function(S,_){var O=S||_,j=l[O];if(!j)throw new Error(O+" is not a valid compression method !");return j}(h.options.compression,d.compression),y=h.options.compressionOptions||d.compressionOptions||{},k=h.dir,x=h.date;h._compressWorker(b,y).withStreamInfo("file",{name:g,dir:k,date:x,comment:h.comment||"",unixPermissions:h.unixPermissions,dosPermissions:h.dosPermissions}).pipe(m)}),m.entriesCount=v}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,o,i){function l(){if(!(this instanceof l))return new l;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new l;for(var u in this)typeof this[u]!="function"&&(s[u]=this[u]);return s}}(l.prototype=n("./object")).loadAsync=n("./load"),l.support=n("./support"),l.defaults=n("./defaults"),l.version="3.10.1",l.loadAsync=function(s,u){return new l().loadAsync(s,u)},l.external=n("./external"),o.exports=l},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,o,i){var l=n("./utils"),s=n("./external"),u=n("./utf8"),d=n("./zipEntries"),f=n("./stream/Crc32Probe"),m=n("./nodejsUtils");function v(g){return new s.Promise(function(h,b){var y=g.decompressed.getContentWorker().pipe(new f);y.on("error",function(k){b(k)}).on("end",function(){y.streamInfo.crc32!==g.decompressed.crc32?b(new Error("Corrupted zip : CRC32 mismatch")):h()}).resume()})}o.exports=function(g,h){var b=this;return h=l.extend(h||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:u.utf8decode}),m.isNode&&m.isStream(g)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):l.prepareContent("the loaded zip file",g,!0,h.optimizedBinaryString,h.base64).then(function(y){var k=new d(h);return k.load(y),k}).then(function(y){var k=[s.Promise.resolve(y)],x=y.files;if(h.checkCRC32)for(var S=0;S<x.length;S++)k.push(v(x[S]));return s.Promise.all(k)}).then(function(y){for(var k=y.shift(),x=k.files,S=0;S<x.length;S++){var _=x[S],O=_.fileNameStr,j=l.resolve(_.fileNameStr);b.file(j,_.decompressed,{binary:!0,optimizedBinaryString:!0,date:_.date,dir:_.dir,comment:_.fileCommentStr.length?_.fileCommentStr:null,unixPermissions:_.unixPermissions,dosPermissions:_.dosPermissions,createFolders:h.createFolders}),_.dir||(b.file(j).unsafeOriginalName=O)}return k.zipComment.length&&(b.comment=k.zipComment),b})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,o,i){var l=n("../utils"),s=n("../stream/GenericWorker");function u(d,f){s.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(f)}l.inherits(u,s),u.prototype._bindStream=function(d){var f=this;(this._stream=d).pause(),d.on("data",function(m){f.push({data:m,meta:{percent:0}})}).on("error",function(m){f.isPaused?this.generatedError=m:f.error(m)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},u.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},o.exports=u},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,o,i){var l=n("readable-stream").Readable;function s(u,d,f){l.call(this,d),this._helper=u;var m=this;u.on("data",function(v,g){m.push(v)||m._helper.pause(),f&&f(g)}).on("error",function(v){m.emit("error",v)}).on("end",function(){m.push(null)})}n("../utils").inherits(s,l),s.prototype._read=function(){this._helper.resume()},o.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,o,i){o.exports={isNode:typeof Buffer<"u",newBufferFrom:function(l,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(l,s);if(typeof l=="number")throw new Error('The "data" argument must not be a number');return new Buffer(l,s)},allocBuffer:function(l){if(Buffer.alloc)return Buffer.alloc(l);var s=new Buffer(l);return s.fill(0),s},isBuffer:function(l){return Buffer.isBuffer(l)},isStream:function(l){return l&&typeof l.on=="function"&&typeof l.pause=="function"&&typeof l.resume=="function"}}},{}],15:[function(n,o,i){function l(j,z,V){var W,B=u.getTypeOf(z),Z=u.extend(V||{},m);Z.date=Z.date||new Date,Z.compression!==null&&(Z.compression=Z.compression.toUpperCase()),typeof Z.unixPermissions=="string"&&(Z.unixPermissions=parseInt(Z.unixPermissions,8)),Z.unixPermissions&&16384&Z.unixPermissions&&(Z.dir=!0),Z.dosPermissions&&16&Z.dosPermissions&&(Z.dir=!0),Z.dir&&(j=x(j)),Z.createFolders&&(W=k(j))&&S.call(this,W,!0);var re=B==="string"&&Z.binary===!1&&Z.base64===!1;V&&V.binary!==void 0||(Z.binary=!re),(z instanceof v&&z.uncompressedSize===0||Z.dir||!z||z.length===0)&&(Z.base64=!1,Z.binary=!0,z="",Z.compression="STORE",B="string");var D=null;D=z instanceof v||z instanceof d?z:b.isNode&&b.isStream(z)?new y(j,z):u.prepareContent(j,z,Z.binary,Z.optimizedBinaryString,Z.base64);var G=new g(j,D,Z);this.files[j]=G}var s=n("./utf8"),u=n("./utils"),d=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),m=n("./defaults"),v=n("./compressedObject"),g=n("./zipObject"),h=n("./generate"),b=n("./nodejsUtils"),y=n("./nodejs/NodejsStreamInputAdapter"),k=function(j){j.slice(-1)==="/"&&(j=j.substring(0,j.length-1));var z=j.lastIndexOf("/");return 0<z?j.substring(0,z):""},x=function(j){return j.slice(-1)!=="/"&&(j+="/"),j},S=function(j,z){return z=z!==void 0?z:m.createFolders,j=x(j),this.files[j]||l.call(this,j,null,{dir:!0,createFolders:z}),this.files[j]};function _(j){return Object.prototype.toString.call(j)==="[object RegExp]"}var O={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(j){var z,V,W;for(z in this.files)W=this.files[z],(V=z.slice(this.root.length,z.length))&&z.slice(0,this.root.length)===this.root&&j(V,W)},filter:function(j){var z=[];return this.forEach(function(V,W){j(V,W)&&z.push(W)}),z},file:function(j,z,V){if(arguments.length!==1)return j=this.root+j,l.call(this,j,z,V),this;if(_(j)){var W=j;return this.filter(function(Z,re){return!re.dir&&W.test(Z)})}var B=this.files[this.root+j];return B&&!B.dir?B:null},folder:function(j){if(!j)return this;if(_(j))return this.filter(function(B,Z){return Z.dir&&j.test(B)});var z=this.root+j,V=S.call(this,z),W=this.clone();return W.root=V.name,W},remove:function(j){j=this.root+j;var z=this.files[j];if(z||(j.slice(-1)!=="/"&&(j+="/"),z=this.files[j]),z&&!z.dir)delete this.files[j];else for(var V=this.filter(function(B,Z){return Z.name.slice(0,j.length)===j}),W=0;W<V.length;W++)delete this.files[V[W].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(j){var z,V={};try{if((V=u.extend(j||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=V.type.toLowerCase(),V.compression=V.compression.toUpperCase(),V.type==="binarystring"&&(V.type="string"),!V.type)throw new Error("No output type specified.");u.checkSupport(V.type),V.platform!=="darwin"&&V.platform!=="freebsd"&&V.platform!=="linux"&&V.platform!=="sunos"||(V.platform="UNIX"),V.platform==="win32"&&(V.platform="DOS");var W=V.comment||this.comment||"";z=h.generateWorker(this,V,W)}catch(B){(z=new d("error")).error(B)}return new f(z,V.type||"string",V.mimeType)},generateAsync:function(j,z){return this.generateInternalStream(j).accumulate(z)},generateNodeStream:function(j,z){return(j=j||{}).type||(j.type="nodebuffer"),this.generateInternalStream(j).toNodejsStream(z)}};o.exports=O},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,o,i){o.exports=n("stream")},{stream:void 0}],17:[function(n,o,i){var l=n("./DataReader");function s(u){l.call(this,u);for(var d=0;d<this.data.length;d++)u[d]=255&u[d]}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data[this.zero+u]},s.prototype.lastIndexOfSignature=function(u){for(var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===f&&this.data[g+2]===m&&this.data[g+3]===v)return g-this.zero;return-1},s.prototype.readAndCheckSignature=function(u){var d=u.charCodeAt(0),f=u.charCodeAt(1),m=u.charCodeAt(2),v=u.charCodeAt(3),g=this.readData(4);return d===g[0]&&f===g[1]&&m===g[2]&&v===g[3]},s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,o,i){var l=n("../utils");function s(u){this.data=u,this.length=u.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(){},readInt:function(u){var d,f=0;for(this.checkOffset(u),d=this.index+u-1;d>=this.index;d--)f=(f<<8)+this.byteAt(d);return this.index+=u,f},readString:function(u){return l.transformTo("string",this.readData(u))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},o.exports=s},{"../utils":32}],19:[function(n,o,i){var l=n("./Uint8ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,o,i){var l=n("./DataReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.byteAt=function(u){return this.data.charCodeAt(this.zero+u)},s.prototype.lastIndexOfSignature=function(u){return this.data.lastIndexOf(u)-this.zero},s.prototype.readAndCheckSignature=function(u){return u===this.readData(4)},s.prototype.readData=function(u){this.checkOffset(u);var d=this.data.slice(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,o,i){var l=n("./ArrayReader");function s(u){l.call(this,u)}n("../utils").inherits(s,l),s.prototype.readData=function(u){if(this.checkOffset(u),u===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+u);return this.index+=u,d},o.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,o,i){var l=n("../utils"),s=n("../support"),u=n("./ArrayReader"),d=n("./StringReader"),f=n("./NodeBufferReader"),m=n("./Uint8ArrayReader");o.exports=function(v){var g=l.getTypeOf(v);return l.checkSupport(g),g!=="string"||s.uint8array?g==="nodebuffer"?new f(v):s.uint8array?new m(l.transformTo("uint8array",v)):new u(l.transformTo("array",v)):new d(v)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,o,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,o,i){var l=n("./GenericWorker"),s=n("../utils");function u(d){l.call(this,"ConvertWorker to "+d),this.destType=d}s.inherits(u,l),u.prototype.processChunk=function(d){this.push({data:s.transformTo(this.destType,d.data),meta:d.meta})},o.exports=u},{"../utils":32,"./GenericWorker":28}],25:[function(n,o,i){var l=n("./GenericWorker"),s=n("../crc32");function u(){l.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(u,l),u.prototype.processChunk=function(d){this.streamInfo.crc32=s(d.data,this.streamInfo.crc32||0),this.push(d)},o.exports=u},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,o,i){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}l.inherits(u,s),u.prototype.processChunk=function(d){if(d){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+d.data.length}s.prototype.processChunk.call(this,d)},o.exports=u},{"../utils":32,"./GenericWorker":28}],27:[function(n,o,i){var l=n("../utils"),s=n("./GenericWorker");function u(d){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){f.dataIsReady=!0,f.data=m,f.max=m&&m.length||0,f.type=l.getTypeOf(m),f.isPaused||f._tickAndRepeat()},function(m){f.error(m)})}l.inherits(u,s),u.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},u.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,l.delay(this._tickAndRepeat,[],this)),!0)},u.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(l.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},u.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,f);break;case"uint8array":d=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":d=this.data.slice(this.index,f)}return this.index=f,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},o.exports=u},{"../utils":32,"./GenericWorker":28}],28:[function(n,o,i){function l(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}l.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,u){return this._listeners[s].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,u){if(this._listeners[s])for(var d=0;d<this._listeners[s].length;d++)this._listeners[s][d].call(this,u)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var u=this;return s.on("data",function(d){u.processChunk(d)}),s.on("end",function(){u.end()}),s.on("error",function(d){u.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,u){return this.extraStreamInfo[s]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},o.exports=l},{}],29:[function(n,o,i){var l=n("../utils"),s=n("./ConvertWorker"),u=n("./GenericWorker"),d=n("../base64"),f=n("../support"),m=n("../external"),v=null;if(f.nodestream)try{v=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(b,y){return new m.Promise(function(k,x){var S=[],_=b._internalType,O=b._outputType,j=b._mimeType;b.on("data",function(z,V){S.push(z),y&&y(V)}).on("error",function(z){S=[],x(z)}).on("end",function(){try{var z=function(V,W,B){switch(V){case"blob":return l.newBlob(l.transformTo("arraybuffer",W),B);case"base64":return d.encode(W);default:return l.transformTo(V,W)}}(O,function(V,W){var B,Z=0,re=null,D=0;for(B=0;B<W.length;B++)D+=W[B].length;switch(V){case"string":return W.join("");case"array":return Array.prototype.concat.apply([],W);case"uint8array":for(re=new Uint8Array(D),B=0;B<W.length;B++)re.set(W[B],Z),Z+=W[B].length;return re;case"nodebuffer":return Buffer.concat(W);default:throw new Error("concat : unsupported type '"+V+"'")}}(_,S),j);k(z)}catch(V){x(V)}S=[]}).resume()})}function h(b,y,k){var x=y;switch(y){case"blob":case"arraybuffer":x="uint8array";break;case"base64":x="string"}try{this._internalType=x,this._outputType=y,this._mimeType=k,l.checkSupport(x),this._worker=b.pipe(new s(x)),b.lock()}catch(S){this._worker=new u("error"),this._worker.error(S)}}h.prototype={accumulate:function(b){return g(this,b)},on:function(b,y){var k=this;return b==="data"?this._worker.on(b,function(x){y.call(k,x.data,x.meta)}):this._worker.on(b,function(){l.delay(y,arguments,k)}),this},resume:function(){return l.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(b){if(l.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new v(this,{objectMode:this._outputType!=="nodebuffer"},b)}},o.exports=h},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,o,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var l=new ArrayBuffer(0);try{i.blob=new Blob([l],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(l),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,o,i){for(var l=n("./utils"),s=n("./support"),u=n("./nodejsUtils"),d=n("./stream/GenericWorker"),f=new Array(256),m=0;m<256;m++)f[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;f[254]=f[254]=1;function v(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}i.utf8encode=function(h){return s.nodebuffer?u.newBufferFrom(h,"utf-8"):function(b){var y,k,x,S,_,O=b.length,j=0;for(S=0;S<O;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),j+=k<128?1:k<2048?2:k<65536?3:4;for(y=s.uint8array?new Uint8Array(j):new Array(j),S=_=0;_<j;S++)(64512&(k=b.charCodeAt(S)))==55296&&S+1<O&&(64512&(x=b.charCodeAt(S+1)))==56320&&(k=65536+(k-55296<<10)+(x-56320),S++),k<128?y[_++]=k:(k<2048?y[_++]=192|k>>>6:(k<65536?y[_++]=224|k>>>12:(y[_++]=240|k>>>18,y[_++]=128|k>>>12&63),y[_++]=128|k>>>6&63),y[_++]=128|63&k);return y}(h)},i.utf8decode=function(h){return s.nodebuffer?l.transformTo("nodebuffer",h).toString("utf-8"):function(b){var y,k,x,S,_=b.length,O=new Array(2*_);for(y=k=0;y<_;)if((x=b[y++])<128)O[k++]=x;else if(4<(S=f[x]))O[k++]=65533,y+=S-1;else{for(x&=S===2?31:S===3?15:7;1<S&&y<_;)x=x<<6|63&b[y++],S--;1<S?O[k++]=65533:x<65536?O[k++]=x:(x-=65536,O[k++]=55296|x>>10&1023,O[k++]=56320|1023&x)}return O.length!==k&&(O.subarray?O=O.subarray(0,k):O.length=k),l.applyFromCharCode(O)}(h=l.transformTo(s.uint8array?"uint8array":"array",h))},l.inherits(v,d),v.prototype.processChunk=function(h){var b=l.transformTo(s.uint8array?"uint8array":"array",h.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var y=b;(b=new Uint8Array(y.length+this.leftOver.length)).set(this.leftOver,0),b.set(y,this.leftOver.length)}else b=this.leftOver.concat(b);this.leftOver=null}var k=function(S,_){var O;for((_=_||S.length)>S.length&&(_=S.length),O=_-1;0<=O&&(192&S[O])==128;)O--;return O<0||O===0?_:O+f[S[O]]>_?O:_}(b),x=b;k!==b.length&&(s.uint8array?(x=b.subarray(0,k),this.leftOver=b.subarray(k,b.length)):(x=b.slice(0,k),this.leftOver=b.slice(k,b.length))),this.push({data:i.utf8decode(x),meta:h.meta})},v.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=v,l.inherits(g,d),g.prototype.processChunk=function(h){this.push({data:i.utf8encode(h.data),meta:h.meta})},i.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,o,i){var l=n("./support"),s=n("./base64"),u=n("./nodejsUtils"),d=n("./external");function f(y){return y}function m(y,k){for(var x=0;x<y.length;++x)k[x]=255&y.charCodeAt(x);return k}n("setimmediate"),i.newBlob=function(y,k){i.checkSupport("blob");try{return new Blob([y],{type:k})}catch{try{var x=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return x.append(y),x.getBlob(k)}catch{throw new Error("Bug : can't construct the Blob.")}}};var v={stringifyByChunk:function(y,k,x){var S=[],_=0,O=y.length;if(O<=x)return String.fromCharCode.apply(null,y);for(;_<O;)k==="array"||k==="nodebuffer"?S.push(String.fromCharCode.apply(null,y.slice(_,Math.min(_+x,O)))):S.push(String.fromCharCode.apply(null,y.subarray(_,Math.min(_+x,O)))),_+=x;return S.join("")},stringifyByChar:function(y){for(var k="",x=0;x<y.length;x++)k+=String.fromCharCode(y[x]);return k},applyCanBeUsed:{uint8array:function(){try{return l.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return l.nodebuffer&&String.fromCharCode.apply(null,u.allocBuffer(1)).length===1}catch{return!1}}()}};function g(y){var k=65536,x=i.getTypeOf(y),S=!0;if(x==="uint8array"?S=v.applyCanBeUsed.uint8array:x==="nodebuffer"&&(S=v.applyCanBeUsed.nodebuffer),S)for(;1<k;)try{return v.stringifyByChunk(y,x,k)}catch{k=Math.floor(k/2)}return v.stringifyByChar(y)}function h(y,k){for(var x=0;x<y.length;x++)k[x]=y[x];return k}i.applyFromCharCode=g;var b={};b.string={string:f,array:function(y){return m(y,new Array(y.length))},arraybuffer:function(y){return b.string.uint8array(y).buffer},uint8array:function(y){return m(y,new Uint8Array(y.length))},nodebuffer:function(y){return m(y,u.allocBuffer(y.length))}},b.array={string:g,array:f,arraybuffer:function(y){return new Uint8Array(y).buffer},uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(y)}},b.arraybuffer={string:function(y){return g(new Uint8Array(y))},array:function(y){return h(new Uint8Array(y),new Array(y.byteLength))},arraybuffer:f,uint8array:function(y){return new Uint8Array(y)},nodebuffer:function(y){return u.newBufferFrom(new Uint8Array(y))}},b.uint8array={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return y.buffer},uint8array:f,nodebuffer:function(y){return u.newBufferFrom(y)}},b.nodebuffer={string:g,array:function(y){return h(y,new Array(y.length))},arraybuffer:function(y){return b.nodebuffer.uint8array(y).buffer},uint8array:function(y){return h(y,new Uint8Array(y.length))},nodebuffer:f},i.transformTo=function(y,k){if(k=k||"",!y)return k;i.checkSupport(y);var x=i.getTypeOf(k);return b[x][y](k)},i.resolve=function(y){for(var k=y.split("/"),x=[],S=0;S<k.length;S++){var _=k[S];_==="."||_===""&&S!==0&&S!==k.length-1||(_===".."?x.pop():x.push(_))}return x.join("/")},i.getTypeOf=function(y){return typeof y=="string"?"string":Object.prototype.toString.call(y)==="[object Array]"?"array":l.nodebuffer&&u.isBuffer(y)?"nodebuffer":l.uint8array&&y instanceof Uint8Array?"uint8array":l.arraybuffer&&y instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(y){if(!l[y.toLowerCase()])throw new Error(y+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(y){var k,x,S="";for(x=0;x<(y||"").length;x++)S+="\\x"+((k=y.charCodeAt(x))<16?"0":"")+k.toString(16).toUpperCase();return S},i.delay=function(y,k,x){setImmediate(function(){y.apply(x||null,k||[])})},i.inherits=function(y,k){function x(){}x.prototype=k.prototype,y.prototype=new x},i.extend=function(){var y,k,x={};for(y=0;y<arguments.length;y++)for(k in arguments[y])Object.prototype.hasOwnProperty.call(arguments[y],k)&&x[k]===void 0&&(x[k]=arguments[y][k]);return x},i.prepareContent=function(y,k,x,S,_){return d.Promise.resolve(k).then(function(O){return l.blob&&(O instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(O))!==-1)&&typeof FileReader<"u"?new d.Promise(function(j,z){var V=new FileReader;V.onload=function(W){j(W.target.result)},V.onerror=function(W){z(W.target.error)},V.readAsArrayBuffer(O)}):O}).then(function(O){var j=i.getTypeOf(O);return j?(j==="arraybuffer"?O=i.transformTo("uint8array",O):j==="string"&&(_?O=s.decode(O):x&&S!==!0&&(O=function(z){return m(z,l.uint8array?new Uint8Array(z.length):new Array(z.length))}(O))),O):d.Promise.reject(new Error("Can't read the data of '"+y+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,o,i){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./signature"),d=n("./zipEntry"),f=n("./support");function m(v){this.files=[],this.loadOptions=v}m.prototype={checkSignature:function(v){if(!this.reader.readAndCheckSignature(v)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(g)+", expected "+s.pretty(v)+")")}},isSignature:function(v,g){var h=this.reader.index;this.reader.setIndex(v);var b=this.reader.readString(4)===g;return this.reader.setIndex(h),b},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var v=this.reader.readData(this.zipCommentLength),g=f.uint8array?"uint8array":"array",h=s.transformTo(g,v);this.zipComment=this.loadOptions.decodeFileName(h)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var v,g,h,b=this.zip64EndOfCentralSize-44;0<b;)v=this.reader.readInt(2),g=this.reader.readInt(4),h=this.reader.readData(g),this.zip64ExtensibleData[v]={id:v,length:g,value:h}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var v,g;for(v=0;v<this.files.length;v++)g=this.files[v],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(u.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var v;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(u.CENTRAL_FILE_HEADER);)(v=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(v);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var v=this.reader.lastIndexOfSignature(u.CENTRAL_DIRECTORY_END);if(v<0)throw this.isSignature(0,u.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(v);var g=v;if(this.checkSignature(u.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(v=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(v),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,u.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(u.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var h=this.centralDirOffset+this.centralDirSize;this.zip64&&(h+=20,h+=12+this.zip64EndOfCentralSize);var b=g-h;if(0<b)this.isSignature(g,u.CENTRAL_FILE_HEADER)||(this.reader.zero=b);else if(b<0)throw new Error("Corrupted zip: missing "+Math.abs(b)+" bytes.")},prepareReader:function(v){this.reader=l(v)},load:function(v){this.prepareReader(v),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},o.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,o,i){var l=n("./reader/readerFor"),s=n("./utils"),u=n("./compressedObject"),d=n("./crc32"),f=n("./utf8"),m=n("./compressions"),v=n("./support");function g(h,b){this.options=h,this.loadOptions=b}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(h){var b,y;if(h.skip(22),this.fileNameLength=h.readInt(2),y=h.readInt(2),this.fileName=h.readData(this.fileNameLength),h.skip(y),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((b=function(k){for(var x in m)if(Object.prototype.hasOwnProperty.call(m,x)&&m[x].magic===k)return m[x];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new u(this.compressedSize,this.uncompressedSize,this.crc32,b,h.readData(this.compressedSize))},readCentralPart:function(h){this.versionMadeBy=h.readInt(2),h.skip(2),this.bitFlag=h.readInt(2),this.compressionMethod=h.readString(2),this.date=h.readDate(),this.crc32=h.readInt(4),this.compressedSize=h.readInt(4),this.uncompressedSize=h.readInt(4);var b=h.readInt(2);if(this.extraFieldsLength=h.readInt(2),this.fileCommentLength=h.readInt(2),this.diskNumberStart=h.readInt(2),this.internalFileAttributes=h.readInt(2),this.externalFileAttributes=h.readInt(4),this.localHeaderOffset=h.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");h.skip(b),this.readExtraFields(h),this.parseZIP64ExtraField(h),this.fileComment=h.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var h=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),h==0&&(this.dosPermissions=63&this.externalFileAttributes),h==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var h=l(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=h.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=h.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=h.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=h.readInt(4))}},readExtraFields:function(h){var b,y,k,x=h.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});h.index+4<x;)b=h.readInt(2),y=h.readInt(2),k=h.readData(y),this.extraFields[b]={id:b,length:y,value:k};h.setIndex(x)},handleUTF8:function(){var h=v.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var b=this.findExtraFieldUnicodePath();if(b!==null)this.fileNameStr=b;else{var y=s.transformTo(h,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(y)}var k=this.findExtraFieldUnicodeComment();if(k!==null)this.fileCommentStr=k;else{var x=s.transformTo(h,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(x)}}},findExtraFieldUnicodePath:function(){var h=this.extraFields[28789];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileName)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null},findExtraFieldUnicodeComment:function(){var h=this.extraFields[25461];if(h){var b=l(h.value);return b.readInt(1)!==1||d(this.fileComment)!==b.readInt(4)?null:f.utf8decode(b.readData(h.length-5))}return null}},o.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,o,i){function l(b,y,k){this.name=b,this.dir=k.dir,this.date=k.date,this.comment=k.comment,this.unixPermissions=k.unixPermissions,this.dosPermissions=k.dosPermissions,this._data=y,this._dataBinary=k.binary,this.options={compression:k.compression,compressionOptions:k.compressionOptions}}var s=n("./stream/StreamHelper"),u=n("./stream/DataWorker"),d=n("./utf8"),f=n("./compressedObject"),m=n("./stream/GenericWorker");l.prototype={internalStream:function(b){var y=null,k="string";try{if(!b)throw new Error("No output type specified.");var x=(k=b.toLowerCase())==="string"||k==="text";k!=="binarystring"&&k!=="text"||(k="string"),y=this._decompressWorker();var S=!this._dataBinary;S&&!x&&(y=y.pipe(new d.Utf8EncodeWorker)),!S&&x&&(y=y.pipe(new d.Utf8DecodeWorker))}catch(_){(y=new m("error")).error(_)}return new s(y,k,"")},async:function(b,y){return this.internalStream(b).accumulate(y)},nodeStream:function(b,y){return this.internalStream(b||"nodebuffer").toNodejsStream(y)},_compressWorker:function(b,y){if(this._data instanceof f&&this._data.compression.magic===b.magic)return this._data.getCompressedWorker();var k=this._decompressWorker();return this._dataBinary||(k=k.pipe(new d.Utf8EncodeWorker)),f.createWorkerFrom(k,b,y)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof m?this._data:new u(this._data)}};for(var v=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},h=0;h<v.length;h++)l.prototype[v[h]]=g;o.exports=l},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,o,i){(function(l){var s,u,d=l.MutationObserver||l.WebKitMutationObserver;if(d){var f=0,m=new d(b),v=l.document.createTextNode("");m.observe(v,{characterData:!0}),s=function(){v.data=f=++f%2}}else if(l.setImmediate||l.MessageChannel===void 0)s="document"in l&&"onreadystatechange"in l.document.createElement("script")?function(){var y=l.document.createElement("script");y.onreadystatechange=function(){b(),y.onreadystatechange=null,y.parentNode.removeChild(y),y=null},l.document.documentElement.appendChild(y)}:function(){setTimeout(b,0)};else{var g=new l.MessageChannel;g.port1.onmessage=b,s=function(){g.port2.postMessage(0)}}var h=[];function b(){var y,k;u=!0;for(var x=h.length;x;){for(k=h,h=[],y=-1;++y<x;)k[y]();x=h.length}u=!1}o.exports=function(y){h.push(y)!==1||u||s()}}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,o,i){var l=n("immediate");function s(){}var u={},d=["REJECTED"],f=["FULFILLED"],m=["PENDING"];function v(x){if(typeof x!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,x!==s&&y(this,x)}function g(x,S,_){this.promise=x,typeof S=="function"&&(this.onFulfilled=S,this.callFulfilled=this.otherCallFulfilled),typeof _=="function"&&(this.onRejected=_,this.callRejected=this.otherCallRejected)}function h(x,S,_){l(function(){var O;try{O=S(_)}catch(j){return u.reject(x,j)}O===x?u.reject(x,new TypeError("Cannot resolve promise with itself")):u.resolve(x,O)})}function b(x){var S=x&&x.then;if(x&&(typeof x=="object"||typeof x=="function")&&typeof S=="function")return function(){S.apply(x,arguments)}}function y(x,S){var _=!1;function O(V){_||(_=!0,u.reject(x,V))}function j(V){_||(_=!0,u.resolve(x,V))}var z=k(function(){S(j,O)});z.status==="error"&&O(z.value)}function k(x,S){var _={};try{_.value=x(S),_.status="success"}catch(O){_.status="error",_.value=O}return _}(o.exports=v).prototype.finally=function(x){if(typeof x!="function")return this;var S=this.constructor;return this.then(function(_){return S.resolve(x()).then(function(){return _})},function(_){return S.resolve(x()).then(function(){throw _})})},v.prototype.catch=function(x){return this.then(null,x)},v.prototype.then=function(x,S){if(typeof x!="function"&&this.state===f||typeof S!="function"&&this.state===d)return this;var _=new this.constructor(s);return this.state!==m?h(_,this.state===f?x:S,this.outcome):this.queue.push(new g(_,x,S)),_},g.prototype.callFulfilled=function(x){u.resolve(this.promise,x)},g.prototype.otherCallFulfilled=function(x){h(this.promise,this.onFulfilled,x)},g.prototype.callRejected=function(x){u.reject(this.promise,x)},g.prototype.otherCallRejected=function(x){h(this.promise,this.onRejected,x)},u.resolve=function(x,S){var _=k(b,S);if(_.status==="error")return u.reject(x,_.value);var O=_.value;if(O)y(x,O);else{x.state=f,x.outcome=S;for(var j=-1,z=x.queue.length;++j<z;)x.queue[j].callFulfilled(S)}return x},u.reject=function(x,S){x.state=d,x.outcome=S;for(var _=-1,O=x.queue.length;++_<O;)x.queue[_].callRejected(S);return x},v.resolve=function(x){return x instanceof this?x:u.resolve(new this(s),x)},v.reject=function(x){var S=new this(s);return u.reject(S,x)},v.all=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=new Array(_),z=0,V=-1,W=new this(s);++V<_;)B(x[V],V);return W;function B(Z,re){S.resolve(Z).then(function(D){j[re]=D,++z!==_||O||(O=!0,u.resolve(W,j))},function(D){O||(O=!0,u.reject(W,D))})}},v.race=function(x){var S=this;if(Object.prototype.toString.call(x)!=="[object Array]")return this.reject(new TypeError("must be an array"));var _=x.length,O=!1;if(!_)return this.resolve([]);for(var j=-1,z=new this(s);++j<_;)V=x[j],S.resolve(V).then(function(W){O||(O=!0,u.resolve(z,W))},function(W){O||(O=!0,u.reject(z,W))});var V;return z}},{immediate:36}],38:[function(n,o,i){var l={};(0,n("./lib/utils/common").assign)(l,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),o.exports=l},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,o,i){var l=n("./zlib/deflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/messages"),f=n("./zlib/zstream"),m=Object.prototype.toString,v=0,g=-1,h=0,b=8;function y(x){if(!(this instanceof y))return new y(x);this.options=s.assign({level:g,method:b,chunkSize:16384,windowBits:15,memLevel:8,strategy:h,to:""},x||{});var S=this.options;S.raw&&0<S.windowBits?S.windowBits=-S.windowBits:S.gzip&&0<S.windowBits&&S.windowBits<16&&(S.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var _=l.deflateInit2(this.strm,S.level,S.method,S.windowBits,S.memLevel,S.strategy);if(_!==v)throw new Error(d[_]);if(S.header&&l.deflateSetHeader(this.strm,S.header),S.dictionary){var O;if(O=typeof S.dictionary=="string"?u.string2buf(S.dictionary):m.call(S.dictionary)==="[object ArrayBuffer]"?new Uint8Array(S.dictionary):S.dictionary,(_=l.deflateSetDictionary(this.strm,O))!==v)throw new Error(d[_]);this._dict_set=!0}}function k(x,S){var _=new y(S);if(_.push(x,!0),_.err)throw _.msg||d[_.err];return _.result}y.prototype.push=function(x,S){var _,O,j=this.strm,z=this.options.chunkSize;if(this.ended)return!1;O=S===~~S?S:S===!0?4:0,typeof x=="string"?j.input=u.string2buf(x):m.call(x)==="[object ArrayBuffer]"?j.input=new Uint8Array(x):j.input=x,j.next_in=0,j.avail_in=j.input.length;do{if(j.avail_out===0&&(j.output=new s.Buf8(z),j.next_out=0,j.avail_out=z),(_=l.deflate(j,O))!==1&&_!==v)return this.onEnd(_),!(this.ended=!0);j.avail_out!==0&&(j.avail_in!==0||O!==4&&O!==2)||(this.options.to==="string"?this.onData(u.buf2binstring(s.shrinkBuf(j.output,j.next_out))):this.onData(s.shrinkBuf(j.output,j.next_out)))}while((0<j.avail_in||j.avail_out===0)&&_!==1);return O===4?(_=l.deflateEnd(this.strm),this.onEnd(_),this.ended=!0,_===v):O!==2||(this.onEnd(v),!(j.avail_out=0))},y.prototype.onData=function(x){this.chunks.push(x)},y.prototype.onEnd=function(x){x===v&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=x,this.msg=this.strm.msg},i.Deflate=y,i.deflate=k,i.deflateRaw=function(x,S){return(S=S||{}).raw=!0,k(x,S)},i.gzip=function(x,S){return(S=S||{}).gzip=!0,k(x,S)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,o,i){var l=n("./zlib/inflate"),s=n("./utils/common"),u=n("./utils/strings"),d=n("./zlib/constants"),f=n("./zlib/messages"),m=n("./zlib/zstream"),v=n("./zlib/gzheader"),g=Object.prototype.toString;function h(y){if(!(this instanceof h))return new h(y);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},y||{});var k=this.options;k.raw&&0<=k.windowBits&&k.windowBits<16&&(k.windowBits=-k.windowBits,k.windowBits===0&&(k.windowBits=-15)),!(0<=k.windowBits&&k.windowBits<16)||y&&y.windowBits||(k.windowBits+=32),15<k.windowBits&&k.windowBits<48&&!(15&k.windowBits)&&(k.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var x=l.inflateInit2(this.strm,k.windowBits);if(x!==d.Z_OK)throw new Error(f[x]);this.header=new v,l.inflateGetHeader(this.strm,this.header)}function b(y,k){var x=new h(k);if(x.push(y,!0),x.err)throw x.msg||f[x.err];return x.result}h.prototype.push=function(y,k){var x,S,_,O,j,z,V=this.strm,W=this.options.chunkSize,B=this.options.dictionary,Z=!1;if(this.ended)return!1;S=k===~~k?k:k===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof y=="string"?V.input=u.binstring2buf(y):g.call(y)==="[object ArrayBuffer]"?V.input=new Uint8Array(y):V.input=y,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new s.Buf8(W),V.next_out=0,V.avail_out=W),(x=l.inflate(V,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&B&&(z=typeof B=="string"?u.string2buf(B):g.call(B)==="[object ArrayBuffer]"?new Uint8Array(B):B,x=l.inflateSetDictionary(this.strm,z)),x===d.Z_BUF_ERROR&&Z===!0&&(x=d.Z_OK,Z=!1),x!==d.Z_STREAM_END&&x!==d.Z_OK)return this.onEnd(x),!(this.ended=!0);V.next_out&&(V.avail_out!==0&&x!==d.Z_STREAM_END&&(V.avail_in!==0||S!==d.Z_FINISH&&S!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(_=u.utf8border(V.output,V.next_out),O=V.next_out-_,j=u.buf2string(V.output,_),V.next_out=O,V.avail_out=W-O,O&&s.arraySet(V.output,V.output,_,O,0),this.onData(j)):this.onData(s.shrinkBuf(V.output,V.next_out)))),V.avail_in===0&&V.avail_out===0&&(Z=!0)}while((0<V.avail_in||V.avail_out===0)&&x!==d.Z_STREAM_END);return x===d.Z_STREAM_END&&(S=d.Z_FINISH),S===d.Z_FINISH?(x=l.inflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===d.Z_OK):S!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(V.avail_out=0))},h.prototype.onData=function(y){this.chunks.push(y)},h.prototype.onEnd=function(y){y===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Inflate=h,i.inflate=b,i.inflateRaw=function(y,k){return(k=k||{}).raw=!0,b(y,k)},i.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,o,i){var l=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(d){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var m=f.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var v in m)m.hasOwnProperty(v)&&(d[v]=m[v])}}return d},i.shrinkBuf=function(d,f){return d.length===f?d:d.subarray?d.subarray(0,f):(d.length=f,d)};var s={arraySet:function(d,f,m,v,g){if(f.subarray&&d.subarray)d.set(f.subarray(m,m+v),g);else for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){var f,m,v,g,h,b;for(f=v=0,m=d.length;f<m;f++)v+=d[f].length;for(b=new Uint8Array(v),f=g=0,m=d.length;f<m;f++)h=d[f],b.set(h,g),g+=h.length;return b}},u={arraySet:function(d,f,m,v,g){for(var h=0;h<v;h++)d[g+h]=f[m+h]},flattenChunks:function(d){return[].concat.apply([],d)}};i.setTyped=function(d){d?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,u))},i.setTyped(l)},{}],42:[function(n,o,i){var l=n("./common"),s=!0,u=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{u=!1}for(var d=new l.Buf8(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function m(v,g){if(g<65537&&(v.subarray&&u||!v.subarray&&s))return String.fromCharCode.apply(null,l.shrinkBuf(v,g));for(var h="",b=0;b<g;b++)h+=String.fromCharCode(v[b]);return h}d[254]=d[254]=1,i.string2buf=function(v){var g,h,b,y,k,x=v.length,S=0;for(y=0;y<x;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),S+=h<128?1:h<2048?2:h<65536?3:4;for(g=new l.Buf8(S),y=k=0;k<S;y++)(64512&(h=v.charCodeAt(y)))==55296&&y+1<x&&(64512&(b=v.charCodeAt(y+1)))==56320&&(h=65536+(h-55296<<10)+(b-56320),y++),h<128?g[k++]=h:(h<2048?g[k++]=192|h>>>6:(h<65536?g[k++]=224|h>>>12:(g[k++]=240|h>>>18,g[k++]=128|h>>>12&63),g[k++]=128|h>>>6&63),g[k++]=128|63&h);return g},i.buf2binstring=function(v){return m(v,v.length)},i.binstring2buf=function(v){for(var g=new l.Buf8(v.length),h=0,b=g.length;h<b;h++)g[h]=v.charCodeAt(h);return g},i.buf2string=function(v,g){var h,b,y,k,x=g||v.length,S=new Array(2*x);for(h=b=0;h<x;)if((y=v[h++])<128)S[b++]=y;else if(4<(k=d[y]))S[b++]=65533,h+=k-1;else{for(y&=k===2?31:k===3?15:7;1<k&&h<x;)y=y<<6|63&v[h++],k--;1<k?S[b++]=65533:y<65536?S[b++]=y:(y-=65536,S[b++]=55296|y>>10&1023,S[b++]=56320|1023&y)}return m(S,b)},i.utf8border=function(v,g){var h;for((g=g||v.length)>v.length&&(g=v.length),h=g-1;0<=h&&(192&v[h])==128;)h--;return h<0||h===0?g:h+d[v[h]]>g?h:g}},{"./common":41}],43:[function(n,o,i){o.exports=function(l,s,u,d){for(var f=65535&l|0,m=l>>>16&65535|0,v=0;u!==0;){for(u-=v=2e3<u?2e3:u;m=m+(f=f+s[d++]|0)|0,--v;);f%=65521,m%=65521}return f|m<<16|0}},{}],44:[function(n,o,i){o.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,o,i){var l=function(){for(var s,u=[],d=0;d<256;d++){s=d;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;u[d]=s}return u}();o.exports=function(s,u,d,f){var m=l,v=f+d;s^=-1;for(var g=f;g<v;g++)s=s>>>8^m[255&(s^u[g])];return-1^s}},{}],46:[function(n,o,i){var l,s=n("../utils/common"),u=n("./trees"),d=n("./adler32"),f=n("./crc32"),m=n("./messages"),v=0,g=4,h=0,b=-2,y=-1,k=4,x=2,S=8,_=9,O=286,j=30,z=19,V=2*O+1,W=15,B=3,Z=258,re=Z+B+1,D=42,G=113,C=1,Q=2,xe=3,q=4;function K(I,fe){return I.msg=m[fe],fe}function ee(I){return(I<<1)-(4<I?9:0)}function ge(I){for(var fe=I.length;0<=--fe;)I[fe]=0}function A(I){var fe=I.state,ce=fe.pending;ce>I.avail_out&&(ce=I.avail_out),ce!==0&&(s.arraySet(I.output,fe.pending_buf,fe.pending_out,ce,I.next_out),I.next_out+=ce,fe.pending_out+=ce,I.total_out+=ce,I.avail_out-=ce,fe.pending-=ce,fe.pending===0&&(fe.pending_out=0))}function N(I,fe){u._tr_flush_block(I,0<=I.block_start?I.block_start:-1,I.strstart-I.block_start,fe),I.block_start=I.strstart,A(I.strm)}function oe(I,fe){I.pending_buf[I.pending++]=fe}function le(I,fe){I.pending_buf[I.pending++]=fe>>>8&255,I.pending_buf[I.pending++]=255&fe}function ue(I,fe){var ce,U,R=I.max_chain_length,ne=I.strstart,ve=I.prev_length,ke=I.nice_match,ae=I.strstart>I.w_size-re?I.strstart-(I.w_size-re):0,Se=I.window,ye=I.w_mask,we=I.prev,Ue=I.strstart+Z,ot=Se[ne+ve-1],Ze=Se[ne+ve];I.prev_length>=I.good_match&&(R>>=2),ke>I.lookahead&&(ke=I.lookahead);do if(Se[(ce=fe)+ve]===Ze&&Se[ce+ve-1]===ot&&Se[ce]===Se[ne]&&Se[++ce]===Se[ne+1]){ne+=2,ce++;do;while(Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&Se[++ne]===Se[++ce]&&ne<Ue);if(U=Z-(Ue-ne),ne=Ue-Z,ve<U){if(I.match_start=fe,ke<=(ve=U))break;ot=Se[ne+ve-1],Ze=Se[ne+ve]}}while((fe=we[fe&ye])>ae&&--R!=0);return ve<=I.lookahead?ve:I.lookahead}function te(I){var fe,ce,U,R,ne,ve,ke,ae,Se,ye,we=I.w_size;do{if(R=I.window_size-I.lookahead-I.strstart,I.strstart>=we+(we-re)){for(s.arraySet(I.window,I.window,we,we,0),I.match_start-=we,I.strstart-=we,I.block_start-=we,fe=ce=I.hash_size;U=I.head[--fe],I.head[fe]=we<=U?U-we:0,--ce;);for(fe=ce=we;U=I.prev[--fe],I.prev[fe]=we<=U?U-we:0,--ce;);R+=we}if(I.strm.avail_in===0)break;if(ve=I.strm,ke=I.window,ae=I.strstart+I.lookahead,Se=R,ye=void 0,ye=ve.avail_in,Se<ye&&(ye=Se),ce=ye===0?0:(ve.avail_in-=ye,s.arraySet(ke,ve.input,ve.next_in,ye,ae),ve.state.wrap===1?ve.adler=d(ve.adler,ke,ye,ae):ve.state.wrap===2&&(ve.adler=f(ve.adler,ke,ye,ae)),ve.next_in+=ye,ve.total_in+=ye,ye),I.lookahead+=ce,I.lookahead+I.insert>=B)for(ne=I.strstart-I.insert,I.ins_h=I.window[ne],I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+1])&I.hash_mask;I.insert&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[ne+B-1])&I.hash_mask,I.prev[ne&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=ne,ne++,I.insert--,!(I.lookahead+I.insert<B)););}while(I.lookahead<re&&I.strm.avail_in!==0)}function Oe(I,fe){for(var ce,U;;){if(I.lookahead<re){if(te(I),I.lookahead<re&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=B&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),ce!==0&&I.strstart-ce<=I.w_size-re&&(I.match_length=ue(I,ce)),I.match_length>=B)if(U=u._tr_tally(I,I.strstart-I.match_start,I.match_length-B),I.lookahead-=I.match_length,I.match_length<=I.max_lazy_match&&I.lookahead>=B){for(I.match_length--;I.strstart++,I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart,--I.match_length!=0;);I.strstart++}else I.strstart+=I.match_length,I.match_length=0,I.ins_h=I.window[I.strstart],I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+1])&I.hash_mask;else U=u._tr_tally(I,0,I.window[I.strstart]),I.lookahead--,I.strstart++;if(U&&(N(I,!1),I.strm.avail_out===0))return C}return I.insert=I.strstart<B-1?I.strstart:B-1,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):I.last_lit&&(N(I,!1),I.strm.avail_out===0)?C:Q}function me(I,fe){for(var ce,U,R;;){if(I.lookahead<re){if(te(I),I.lookahead<re&&fe===v)return C;if(I.lookahead===0)break}if(ce=0,I.lookahead>=B&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),I.prev_length=I.match_length,I.prev_match=I.match_start,I.match_length=B-1,ce!==0&&I.prev_length<I.max_lazy_match&&I.strstart-ce<=I.w_size-re&&(I.match_length=ue(I,ce),I.match_length<=5&&(I.strategy===1||I.match_length===B&&4096<I.strstart-I.match_start)&&(I.match_length=B-1)),I.prev_length>=B&&I.match_length<=I.prev_length){for(R=I.strstart+I.lookahead-B,U=u._tr_tally(I,I.strstart-1-I.prev_match,I.prev_length-B),I.lookahead-=I.prev_length-1,I.prev_length-=2;++I.strstart<=R&&(I.ins_h=(I.ins_h<<I.hash_shift^I.window[I.strstart+B-1])&I.hash_mask,ce=I.prev[I.strstart&I.w_mask]=I.head[I.ins_h],I.head[I.ins_h]=I.strstart),--I.prev_length!=0;);if(I.match_available=0,I.match_length=B-1,I.strstart++,U&&(N(I,!1),I.strm.avail_out===0))return C}else if(I.match_available){if((U=u._tr_tally(I,0,I.window[I.strstart-1]))&&N(I,!1),I.strstart++,I.lookahead--,I.strm.avail_out===0)return C}else I.match_available=1,I.strstart++,I.lookahead--}return I.match_available&&(U=u._tr_tally(I,0,I.window[I.strstart-1]),I.match_available=0),I.insert=I.strstart<B-1?I.strstart:B-1,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):I.last_lit&&(N(I,!1),I.strm.avail_out===0)?C:Q}function Ie(I,fe,ce,U,R){this.good_length=I,this.max_lazy=fe,this.nice_length=ce,this.max_chain=U,this.func=R}function Ae(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=S,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*V),this.dyn_dtree=new s.Buf16(2*(2*j+1)),this.bl_tree=new s.Buf16(2*(2*z+1)),ge(this.dyn_ltree),ge(this.dyn_dtree),ge(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(W+1),this.heap=new s.Buf16(2*O+1),ge(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*O+1),ge(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function We(I){var fe;return I&&I.state?(I.total_in=I.total_out=0,I.data_type=x,(fe=I.state).pending=0,fe.pending_out=0,fe.wrap<0&&(fe.wrap=-fe.wrap),fe.status=fe.wrap?D:G,I.adler=fe.wrap===2?0:1,fe.last_flush=v,u._tr_init(fe),h):K(I,b)}function Ve(I){var fe=We(I);return fe===h&&function(ce){ce.window_size=2*ce.w_size,ge(ce.head),ce.max_lazy_match=l[ce.level].max_lazy,ce.good_match=l[ce.level].good_length,ce.nice_match=l[ce.level].nice_length,ce.max_chain_length=l[ce.level].max_chain,ce.strstart=0,ce.block_start=0,ce.lookahead=0,ce.insert=0,ce.match_length=ce.prev_length=B-1,ce.match_available=0,ce.ins_h=0}(I.state),fe}function it(I,fe,ce,U,R,ne){if(!I)return b;var ve=1;if(fe===y&&(fe=6),U<0?(ve=0,U=-U):15<U&&(ve=2,U-=16),R<1||_<R||ce!==S||U<8||15<U||fe<0||9<fe||ne<0||k<ne)return K(I,b);U===8&&(U=9);var ke=new Ae;return(I.state=ke).strm=I,ke.wrap=ve,ke.gzhead=null,ke.w_bits=U,ke.w_size=1<<ke.w_bits,ke.w_mask=ke.w_size-1,ke.hash_bits=R+7,ke.hash_size=1<<ke.hash_bits,ke.hash_mask=ke.hash_size-1,ke.hash_shift=~~((ke.hash_bits+B-1)/B),ke.window=new s.Buf8(2*ke.w_size),ke.head=new s.Buf16(ke.hash_size),ke.prev=new s.Buf16(ke.w_size),ke.lit_bufsize=1<<R+6,ke.pending_buf_size=4*ke.lit_bufsize,ke.pending_buf=new s.Buf8(ke.pending_buf_size),ke.d_buf=1*ke.lit_bufsize,ke.l_buf=3*ke.lit_bufsize,ke.level=fe,ke.strategy=ne,ke.method=ce,Ve(I)}l=[new Ie(0,0,0,0,function(I,fe){var ce=65535;for(ce>I.pending_buf_size-5&&(ce=I.pending_buf_size-5);;){if(I.lookahead<=1){if(te(I),I.lookahead===0&&fe===v)return C;if(I.lookahead===0)break}I.strstart+=I.lookahead,I.lookahead=0;var U=I.block_start+ce;if((I.strstart===0||I.strstart>=U)&&(I.lookahead=I.strstart-U,I.strstart=U,N(I,!1),I.strm.avail_out===0)||I.strstart-I.block_start>=I.w_size-re&&(N(I,!1),I.strm.avail_out===0))return C}return I.insert=0,fe===g?(N(I,!0),I.strm.avail_out===0?xe:q):(I.strstart>I.block_start&&(N(I,!1),I.strm.avail_out),C)}),new Ie(4,4,8,4,Oe),new Ie(4,5,16,8,Oe),new Ie(4,6,32,32,Oe),new Ie(4,4,16,16,me),new Ie(8,16,32,32,me),new Ie(8,16,128,128,me),new Ie(8,32,128,256,me),new Ie(32,128,258,1024,me),new Ie(32,258,258,4096,me)],i.deflateInit=function(I,fe){return it(I,fe,S,15,8,0)},i.deflateInit2=it,i.deflateReset=Ve,i.deflateResetKeep=We,i.deflateSetHeader=function(I,fe){return I&&I.state?I.state.wrap!==2?b:(I.state.gzhead=fe,h):b},i.deflate=function(I,fe){var ce,U,R,ne;if(!I||!I.state||5<fe||fe<0)return I?K(I,b):b;if(U=I.state,!I.output||!I.input&&I.avail_in!==0||U.status===666&&fe!==g)return K(I,I.avail_out===0?-5:b);if(U.strm=I,ce=U.last_flush,U.last_flush=fe,U.status===D)if(U.wrap===2)I.adler=0,oe(U,31),oe(U,139),oe(U,8),U.gzhead?(oe(U,(U.gzhead.text?1:0)+(U.gzhead.hcrc?2:0)+(U.gzhead.extra?4:0)+(U.gzhead.name?8:0)+(U.gzhead.comment?16:0)),oe(U,255&U.gzhead.time),oe(U,U.gzhead.time>>8&255),oe(U,U.gzhead.time>>16&255),oe(U,U.gzhead.time>>24&255),oe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),oe(U,255&U.gzhead.os),U.gzhead.extra&&U.gzhead.extra.length&&(oe(U,255&U.gzhead.extra.length),oe(U,U.gzhead.extra.length>>8&255)),U.gzhead.hcrc&&(I.adler=f(I.adler,U.pending_buf,U.pending,0)),U.gzindex=0,U.status=69):(oe(U,0),oe(U,0),oe(U,0),oe(U,0),oe(U,0),oe(U,U.level===9?2:2<=U.strategy||U.level<2?4:0),oe(U,3),U.status=G);else{var ve=S+(U.w_bits-8<<4)<<8;ve|=(2<=U.strategy||U.level<2?0:U.level<6?1:U.level===6?2:3)<<6,U.strstart!==0&&(ve|=32),ve+=31-ve%31,U.status=G,le(U,ve),U.strstart!==0&&(le(U,I.adler>>>16),le(U,65535&I.adler)),I.adler=1}if(U.status===69)if(U.gzhead.extra){for(R=U.pending;U.gzindex<(65535&U.gzhead.extra.length)&&(U.pending!==U.pending_buf_size||(U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),A(I),R=U.pending,U.pending!==U.pending_buf_size));)oe(U,255&U.gzhead.extra[U.gzindex]),U.gzindex++;U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),U.gzindex===U.gzhead.extra.length&&(U.gzindex=0,U.status=73)}else U.status=73;if(U.status===73)if(U.gzhead.name){R=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),A(I),R=U.pending,U.pending===U.pending_buf_size)){ne=1;break}ne=U.gzindex<U.gzhead.name.length?255&U.gzhead.name.charCodeAt(U.gzindex++):0,oe(U,ne)}while(ne!==0);U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),ne===0&&(U.gzindex=0,U.status=91)}else U.status=91;if(U.status===91)if(U.gzhead.comment){R=U.pending;do{if(U.pending===U.pending_buf_size&&(U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),A(I),R=U.pending,U.pending===U.pending_buf_size)){ne=1;break}ne=U.gzindex<U.gzhead.comment.length?255&U.gzhead.comment.charCodeAt(U.gzindex++):0,oe(U,ne)}while(ne!==0);U.gzhead.hcrc&&U.pending>R&&(I.adler=f(I.adler,U.pending_buf,U.pending-R,R)),ne===0&&(U.status=103)}else U.status=103;if(U.status===103&&(U.gzhead.hcrc?(U.pending+2>U.pending_buf_size&&A(I),U.pending+2<=U.pending_buf_size&&(oe(U,255&I.adler),oe(U,I.adler>>8&255),I.adler=0,U.status=G)):U.status=G),U.pending!==0){if(A(I),I.avail_out===0)return U.last_flush=-1,h}else if(I.avail_in===0&&ee(fe)<=ee(ce)&&fe!==g)return K(I,-5);if(U.status===666&&I.avail_in!==0)return K(I,-5);if(I.avail_in!==0||U.lookahead!==0||fe!==v&&U.status!==666){var ke=U.strategy===2?function(ae,Se){for(var ye;;){if(ae.lookahead===0&&(te(ae),ae.lookahead===0)){if(Se===v)return C;break}if(ae.match_length=0,ye=u._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,ye&&(N(ae,!1),ae.strm.avail_out===0))return C}return ae.insert=0,Se===g?(N(ae,!0),ae.strm.avail_out===0?xe:q):ae.last_lit&&(N(ae,!1),ae.strm.avail_out===0)?C:Q}(U,fe):U.strategy===3?function(ae,Se){for(var ye,we,Ue,ot,Ze=ae.window;;){if(ae.lookahead<=Z){if(te(ae),ae.lookahead<=Z&&Se===v)return C;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=B&&0<ae.strstart&&(we=Ze[Ue=ae.strstart-1])===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]){ot=ae.strstart+Z;do;while(we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&we===Ze[++Ue]&&Ue<ot);ae.match_length=Z-(ot-Ue),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=B?(ye=u._tr_tally(ae,1,ae.match_length-B),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(ye=u._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),ye&&(N(ae,!1),ae.strm.avail_out===0))return C}return ae.insert=0,Se===g?(N(ae,!0),ae.strm.avail_out===0?xe:q):ae.last_lit&&(N(ae,!1),ae.strm.avail_out===0)?C:Q}(U,fe):l[U.level].func(U,fe);if(ke!==xe&&ke!==q||(U.status=666),ke===C||ke===xe)return I.avail_out===0&&(U.last_flush=-1),h;if(ke===Q&&(fe===1?u._tr_align(U):fe!==5&&(u._tr_stored_block(U,0,0,!1),fe===3&&(ge(U.head),U.lookahead===0&&(U.strstart=0,U.block_start=0,U.insert=0))),A(I),I.avail_out===0))return U.last_flush=-1,h}return fe!==g?h:U.wrap<=0?1:(U.wrap===2?(oe(U,255&I.adler),oe(U,I.adler>>8&255),oe(U,I.adler>>16&255),oe(U,I.adler>>24&255),oe(U,255&I.total_in),oe(U,I.total_in>>8&255),oe(U,I.total_in>>16&255),oe(U,I.total_in>>24&255)):(le(U,I.adler>>>16),le(U,65535&I.adler)),A(I),0<U.wrap&&(U.wrap=-U.wrap),U.pending!==0?h:1)},i.deflateEnd=function(I){var fe;return I&&I.state?(fe=I.state.status)!==D&&fe!==69&&fe!==73&&fe!==91&&fe!==103&&fe!==G&&fe!==666?K(I,b):(I.state=null,fe===G?K(I,-3):h):b},i.deflateSetDictionary=function(I,fe){var ce,U,R,ne,ve,ke,ae,Se,ye=fe.length;if(!I||!I.state||(ne=(ce=I.state).wrap)===2||ne===1&&ce.status!==D||ce.lookahead)return b;for(ne===1&&(I.adler=d(I.adler,fe,ye,0)),ce.wrap=0,ye>=ce.w_size&&(ne===0&&(ge(ce.head),ce.strstart=0,ce.block_start=0,ce.insert=0),Se=new s.Buf8(ce.w_size),s.arraySet(Se,fe,ye-ce.w_size,ce.w_size,0),fe=Se,ye=ce.w_size),ve=I.avail_in,ke=I.next_in,ae=I.input,I.avail_in=ye,I.next_in=0,I.input=fe,te(ce);ce.lookahead>=B;){for(U=ce.strstart,R=ce.lookahead-(B-1);ce.ins_h=(ce.ins_h<<ce.hash_shift^ce.window[U+B-1])&ce.hash_mask,ce.prev[U&ce.w_mask]=ce.head[ce.ins_h],ce.head[ce.ins_h]=U,U++,--R;);ce.strstart=U,ce.lookahead=B-1,te(ce)}return ce.strstart+=ce.lookahead,ce.block_start=ce.strstart,ce.insert=ce.lookahead,ce.lookahead=0,ce.match_length=ce.prev_length=B-1,ce.match_available=0,I.next_in=ke,I.input=ae,I.avail_in=ve,ce.wrap=ne,h},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,o,i){o.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,o,i){o.exports=function(l,s){var u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,V,W,B,Z,re,D,G,C,Q;u=l.state,d=l.next_in,C=l.input,f=d+(l.avail_in-5),m=l.next_out,Q=l.output,v=m-(s-l.avail_out),g=m+(l.avail_out-257),h=u.dmax,b=u.wsize,y=u.whave,k=u.wnext,x=u.window,S=u.hold,_=u.bits,O=u.lencode,j=u.distcode,z=(1<<u.lenbits)-1,V=(1<<u.distbits)-1;e:do{_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),W=O[S&z];t:for(;;){if(S>>>=B=W>>>24,_-=B,(B=W>>>16&255)===0)Q[m++]=65535&W;else{if(!(16&B)){if(!(64&B)){W=O[(65535&W)+(S&(1<<B)-1)];continue t}if(32&B){u.mode=12;break e}l.msg="invalid literal/length code",u.mode=30;break e}Z=65535&W,(B&=15)&&(_<B&&(S+=C[d++]<<_,_+=8),Z+=S&(1<<B)-1,S>>>=B,_-=B),_<15&&(S+=C[d++]<<_,_+=8,S+=C[d++]<<_,_+=8),W=j[S&V];n:for(;;){if(S>>>=B=W>>>24,_-=B,!(16&(B=W>>>16&255))){if(!(64&B)){W=j[(65535&W)+(S&(1<<B)-1)];continue n}l.msg="invalid distance code",u.mode=30;break e}if(re=65535&W,_<(B&=15)&&(S+=C[d++]<<_,(_+=8)<B&&(S+=C[d++]<<_,_+=8)),h<(re+=S&(1<<B)-1)){l.msg="invalid distance too far back",u.mode=30;break e}if(S>>>=B,_-=B,(B=m-v)<re){if(y<(B=re-B)&&u.sane){l.msg="invalid distance too far back",u.mode=30;break e}if(G=x,(D=0)===k){if(D+=b-B,B<Z){for(Z-=B;Q[m++]=x[D++],--B;);D=m-re,G=Q}}else if(k<B){if(D+=b+k-B,(B-=k)<Z){for(Z-=B;Q[m++]=x[D++],--B;);if(D=0,k<Z){for(Z-=B=k;Q[m++]=x[D++],--B;);D=m-re,G=Q}}}else if(D+=k-B,B<Z){for(Z-=B;Q[m++]=x[D++],--B;);D=m-re,G=Q}for(;2<Z;)Q[m++]=G[D++],Q[m++]=G[D++],Q[m++]=G[D++],Z-=3;Z&&(Q[m++]=G[D++],1<Z&&(Q[m++]=G[D++]))}else{for(D=m-re;Q[m++]=Q[D++],Q[m++]=Q[D++],Q[m++]=Q[D++],2<(Z-=3););Z&&(Q[m++]=Q[D++],1<Z&&(Q[m++]=Q[D++]))}break}}break}}while(d<f&&m<g);d-=Z=_>>3,S&=(1<<(_-=Z<<3))-1,l.next_in=d,l.next_out=m,l.avail_in=d<f?f-d+5:5-(d-f),l.avail_out=m<g?g-m+257:257-(m-g),u.hold=S,u.bits=_}},{}],49:[function(n,o,i){var l=n("../utils/common"),s=n("./adler32"),u=n("./crc32"),d=n("./inffast"),f=n("./inftrees"),m=1,v=2,g=0,h=-2,b=1,y=852,k=592;function x(D){return(D>>>24&255)+(D>>>8&65280)+((65280&D)<<8)+((255&D)<<24)}function S(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new l.Buf16(320),this.work=new l.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function _(D){var G;return D&&D.state?(G=D.state,D.total_in=D.total_out=G.total=0,D.msg="",G.wrap&&(D.adler=1&G.wrap),G.mode=b,G.last=0,G.havedict=0,G.dmax=32768,G.head=null,G.hold=0,G.bits=0,G.lencode=G.lendyn=new l.Buf32(y),G.distcode=G.distdyn=new l.Buf32(k),G.sane=1,G.back=-1,g):h}function O(D){var G;return D&&D.state?((G=D.state).wsize=0,G.whave=0,G.wnext=0,_(D)):h}function j(D,G){var C,Q;return D&&D.state?(Q=D.state,G<0?(C=0,G=-G):(C=1+(G>>4),G<48&&(G&=15)),G&&(G<8||15<G)?h:(Q.window!==null&&Q.wbits!==G&&(Q.window=null),Q.wrap=C,Q.wbits=G,O(D))):h}function z(D,G){var C,Q;return D?(Q=new S,(D.state=Q).window=null,(C=j(D,G))!==g&&(D.state=null),C):h}var V,W,B=!0;function Z(D){if(B){var G;for(V=new l.Buf32(512),W=new l.Buf32(32),G=0;G<144;)D.lens[G++]=8;for(;G<256;)D.lens[G++]=9;for(;G<280;)D.lens[G++]=7;for(;G<288;)D.lens[G++]=8;for(f(m,D.lens,0,288,V,0,D.work,{bits:9}),G=0;G<32;)D.lens[G++]=5;f(v,D.lens,0,32,W,0,D.work,{bits:5}),B=!1}D.lencode=V,D.lenbits=9,D.distcode=W,D.distbits=5}function re(D,G,C,Q){var xe,q=D.state;return q.window===null&&(q.wsize=1<<q.wbits,q.wnext=0,q.whave=0,q.window=new l.Buf8(q.wsize)),Q>=q.wsize?(l.arraySet(q.window,G,C-q.wsize,q.wsize,0),q.wnext=0,q.whave=q.wsize):(Q<(xe=q.wsize-q.wnext)&&(xe=Q),l.arraySet(q.window,G,C-Q,xe,q.wnext),(Q-=xe)?(l.arraySet(q.window,G,C-Q,Q,0),q.wnext=Q,q.whave=q.wsize):(q.wnext+=xe,q.wnext===q.wsize&&(q.wnext=0),q.whave<q.wsize&&(q.whave+=xe))),0}i.inflateReset=O,i.inflateReset2=j,i.inflateResetKeep=_,i.inflateInit=function(D){return z(D,15)},i.inflateInit2=z,i.inflate=function(D,G){var C,Q,xe,q,K,ee,ge,A,N,oe,le,ue,te,Oe,me,Ie,Ae,We,Ve,it,I,fe,ce,U,R=0,ne=new l.Buf8(4),ve=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!D||!D.state||!D.output||!D.input&&D.avail_in!==0)return h;(C=D.state).mode===12&&(C.mode=13),K=D.next_out,xe=D.output,ge=D.avail_out,q=D.next_in,Q=D.input,ee=D.avail_in,A=C.hold,N=C.bits,oe=ee,le=ge,fe=g;e:for(;;)switch(C.mode){case b:if(C.wrap===0){C.mode=13;break}for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(2&C.wrap&&A===35615){ne[C.check=0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0),N=A=0,C.mode=2;break}if(C.flags=0,C.head&&(C.head.done=!1),!(1&C.wrap)||(((255&A)<<8)+(A>>8))%31){D.msg="incorrect header check",C.mode=30;break}if((15&A)!=8){D.msg="unknown compression method",C.mode=30;break}if(N-=4,I=8+(15&(A>>>=4)),C.wbits===0)C.wbits=I;else if(I>C.wbits){D.msg="invalid window size",C.mode=30;break}C.dmax=1<<I,D.adler=C.check=1,C.mode=512&A?10:12,N=A=0;break;case 2:for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(C.flags=A,(255&C.flags)!=8){D.msg="unknown compression method",C.mode=30;break}if(57344&C.flags){D.msg="unknown header flags set",C.mode=30;break}C.head&&(C.head.text=A>>8&1),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0,C.mode=3;case 3:for(;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.head&&(C.head.time=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,ne[2]=A>>>16&255,ne[3]=A>>>24&255,C.check=u(C.check,ne,4,0)),N=A=0,C.mode=4;case 4:for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.head&&(C.head.xflags=255&A,C.head.os=A>>8),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0,C.mode=5;case 5:if(1024&C.flags){for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.length=A,C.head&&(C.head.extra_len=A),512&C.flags&&(ne[0]=255&A,ne[1]=A>>>8&255,C.check=u(C.check,ne,2,0)),N=A=0}else C.head&&(C.head.extra=null);C.mode=6;case 6:if(1024&C.flags&&(ee<(ue=C.length)&&(ue=ee),ue&&(C.head&&(I=C.head.extra_len-C.length,C.head.extra||(C.head.extra=new Array(C.head.extra_len)),l.arraySet(C.head.extra,Q,q,ue,I)),512&C.flags&&(C.check=u(C.check,Q,ue,q)),ee-=ue,q+=ue,C.length-=ue),C.length))break e;C.length=0,C.mode=7;case 7:if(2048&C.flags){if(ee===0)break e;for(ue=0;I=Q[q+ue++],C.head&&I&&C.length<65536&&(C.head.name+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Q,ue,q)),ee-=ue,q+=ue,I)break e}else C.head&&(C.head.name=null);C.length=0,C.mode=8;case 8:if(4096&C.flags){if(ee===0)break e;for(ue=0;I=Q[q+ue++],C.head&&I&&C.length<65536&&(C.head.comment+=String.fromCharCode(I)),I&&ue<ee;);if(512&C.flags&&(C.check=u(C.check,Q,ue,q)),ee-=ue,q+=ue,I)break e}else C.head&&(C.head.comment=null);C.mode=9;case 9:if(512&C.flags){for(;N<16;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(A!==(65535&C.check)){D.msg="header crc mismatch",C.mode=30;break}N=A=0}C.head&&(C.head.hcrc=C.flags>>9&1,C.head.done=!0),D.adler=C.check=0,C.mode=12;break;case 10:for(;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}D.adler=C.check=x(A),N=A=0,C.mode=11;case 11:if(C.havedict===0)return D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,2;D.adler=C.check=1,C.mode=12;case 12:if(G===5||G===6)break e;case 13:if(C.last){A>>>=7&N,N-=7&N,C.mode=27;break}for(;N<3;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}switch(C.last=1&A,N-=1,3&(A>>>=1)){case 0:C.mode=14;break;case 1:if(Z(C),C.mode=20,G!==6)break;A>>>=2,N-=2;break e;case 2:C.mode=17;break;case 3:D.msg="invalid block type",C.mode=30}A>>>=2,N-=2;break;case 14:for(A>>>=7&N,N-=7&N;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if((65535&A)!=(A>>>16^65535)){D.msg="invalid stored block lengths",C.mode=30;break}if(C.length=65535&A,N=A=0,C.mode=15,G===6)break e;case 15:C.mode=16;case 16:if(ue=C.length){if(ee<ue&&(ue=ee),ge<ue&&(ue=ge),ue===0)break e;l.arraySet(xe,Q,q,ue,K),ee-=ue,q+=ue,ge-=ue,K+=ue,C.length-=ue;break}C.mode=12;break;case 17:for(;N<14;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(C.nlen=257+(31&A),A>>>=5,N-=5,C.ndist=1+(31&A),A>>>=5,N-=5,C.ncode=4+(15&A),A>>>=4,N-=4,286<C.nlen||30<C.ndist){D.msg="too many length or distance symbols",C.mode=30;break}C.have=0,C.mode=18;case 18:for(;C.have<C.ncode;){for(;N<3;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.lens[ve[C.have++]]=7&A,A>>>=3,N-=3}for(;C.have<19;)C.lens[ve[C.have++]]=0;if(C.lencode=C.lendyn,C.lenbits=7,ce={bits:C.lenbits},fe=f(0,C.lens,0,19,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid code lengths set",C.mode=30;break}C.have=0,C.mode=19;case 19:for(;C.have<C.nlen+C.ndist;){for(;Ie=(R=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(Ae<16)A>>>=me,N-=me,C.lens[C.have++]=Ae;else{if(Ae===16){for(U=me+2;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(A>>>=me,N-=me,C.have===0){D.msg="invalid bit length repeat",C.mode=30;break}I=C.lens[C.have-1],ue=3+(3&A),A>>>=2,N-=2}else if(Ae===17){for(U=me+3;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}N-=me,I=0,ue=3+(7&(A>>>=me)),A>>>=3,N-=3}else{for(U=me+7;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}N-=me,I=0,ue=11+(127&(A>>>=me)),A>>>=7,N-=7}if(C.have+ue>C.nlen+C.ndist){D.msg="invalid bit length repeat",C.mode=30;break}for(;ue--;)C.lens[C.have++]=I}}if(C.mode===30)break;if(C.lens[256]===0){D.msg="invalid code -- missing end-of-block",C.mode=30;break}if(C.lenbits=9,ce={bits:C.lenbits},fe=f(m,C.lens,0,C.nlen,C.lencode,0,C.work,ce),C.lenbits=ce.bits,fe){D.msg="invalid literal/lengths set",C.mode=30;break}if(C.distbits=6,C.distcode=C.distdyn,ce={bits:C.distbits},fe=f(v,C.lens,C.nlen,C.ndist,C.distcode,0,C.work,ce),C.distbits=ce.bits,fe){D.msg="invalid distances set",C.mode=30;break}if(C.mode=20,G===6)break e;case 20:C.mode=21;case 21:if(6<=ee&&258<=ge){D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,d(D,le),K=D.next_out,xe=D.output,ge=D.avail_out,q=D.next_in,Q=D.input,ee=D.avail_in,A=C.hold,N=C.bits,C.mode===12&&(C.back=-1);break}for(C.back=0;Ie=(R=C.lencode[A&(1<<C.lenbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(Ie&&!(240&Ie)){for(We=me,Ve=Ie,it=Ae;Ie=(R=C.lencode[it+((A&(1<<We+Ve)-1)>>We)])>>>16&255,Ae=65535&R,!(We+(me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}A>>>=We,N-=We,C.back+=We}if(A>>>=me,N-=me,C.back+=me,C.length=Ae,Ie===0){C.mode=26;break}if(32&Ie){C.back=-1,C.mode=12;break}if(64&Ie){D.msg="invalid literal/length code",C.mode=30;break}C.extra=15&Ie,C.mode=22;case 22:if(C.extra){for(U=C.extra;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.length+=A&(1<<C.extra)-1,A>>>=C.extra,N-=C.extra,C.back+=C.extra}C.was=C.length,C.mode=23;case 23:for(;Ie=(R=C.distcode[A&(1<<C.distbits)-1])>>>16&255,Ae=65535&R,!((me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(!(240&Ie)){for(We=me,Ve=Ie,it=Ae;Ie=(R=C.distcode[it+((A&(1<<We+Ve)-1)>>We)])>>>16&255,Ae=65535&R,!(We+(me=R>>>24)<=N);){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}A>>>=We,N-=We,C.back+=We}if(A>>>=me,N-=me,C.back+=me,64&Ie){D.msg="invalid distance code",C.mode=30;break}C.offset=Ae,C.extra=15&Ie,C.mode=24;case 24:if(C.extra){for(U=C.extra;N<U;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}C.offset+=A&(1<<C.extra)-1,A>>>=C.extra,N-=C.extra,C.back+=C.extra}if(C.offset>C.dmax){D.msg="invalid distance too far back",C.mode=30;break}C.mode=25;case 25:if(ge===0)break e;if(ue=le-ge,C.offset>ue){if((ue=C.offset-ue)>C.whave&&C.sane){D.msg="invalid distance too far back",C.mode=30;break}te=ue>C.wnext?(ue-=C.wnext,C.wsize-ue):C.wnext-ue,ue>C.length&&(ue=C.length),Oe=C.window}else Oe=xe,te=K-C.offset,ue=C.length;for(ge<ue&&(ue=ge),ge-=ue,C.length-=ue;xe[K++]=Oe[te++],--ue;);C.length===0&&(C.mode=21);break;case 26:if(ge===0)break e;xe[K++]=C.length,ge--,C.mode=21;break;case 27:if(C.wrap){for(;N<32;){if(ee===0)break e;ee--,A|=Q[q++]<<N,N+=8}if(le-=ge,D.total_out+=le,C.total+=le,le&&(D.adler=C.check=C.flags?u(C.check,xe,le,K-le):s(C.check,xe,le,K-le)),le=ge,(C.flags?A:x(A))!==C.check){D.msg="incorrect data check",C.mode=30;break}N=A=0}C.mode=28;case 28:if(C.wrap&&C.flags){for(;N<32;){if(ee===0)break e;ee--,A+=Q[q++]<<N,N+=8}if(A!==(4294967295&C.total)){D.msg="incorrect length check",C.mode=30;break}N=A=0}C.mode=29;case 29:fe=1;break e;case 30:fe=-3;break e;case 31:return-4;case 32:default:return h}return D.next_out=K,D.avail_out=ge,D.next_in=q,D.avail_in=ee,C.hold=A,C.bits=N,(C.wsize||le!==D.avail_out&&C.mode<30&&(C.mode<27||G!==4))&&re(D,D.output,D.next_out,le-D.avail_out)?(C.mode=31,-4):(oe-=D.avail_in,le-=D.avail_out,D.total_in+=oe,D.total_out+=le,C.total+=le,C.wrap&&le&&(D.adler=C.check=C.flags?u(C.check,xe,le,D.next_out-le):s(C.check,xe,le,D.next_out-le)),D.data_type=C.bits+(C.last?64:0)+(C.mode===12?128:0)+(C.mode===20||C.mode===15?256:0),(oe==0&&le===0||G===4)&&fe===g&&(fe=-5),fe)},i.inflateEnd=function(D){if(!D||!D.state)return h;var G=D.state;return G.window&&(G.window=null),D.state=null,g},i.inflateGetHeader=function(D,G){var C;return D&&D.state&&2&(C=D.state).wrap?((C.head=G).done=!1,g):h},i.inflateSetDictionary=function(D,G){var C,Q=G.length;return D&&D.state?(C=D.state).wrap!==0&&C.mode!==11?h:C.mode===11&&s(1,G,Q,0)!==C.check?-3:re(D,G,Q,Q)?(C.mode=31,-4):(C.havedict=1,g):h},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,o,i){var l=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],u=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];o.exports=function(m,v,g,h,b,y,k,x){var S,_,O,j,z,V,W,B,Z,re=x.bits,D=0,G=0,C=0,Q=0,xe=0,q=0,K=0,ee=0,ge=0,A=0,N=null,oe=0,le=new l.Buf16(16),ue=new l.Buf16(16),te=null,Oe=0;for(D=0;D<=15;D++)le[D]=0;for(G=0;G<h;G++)le[v[g+G]]++;for(xe=re,Q=15;1<=Q&&le[Q]===0;Q--);if(Q<xe&&(xe=Q),Q===0)return b[y++]=20971520,b[y++]=20971520,x.bits=1,0;for(C=1;C<Q&&le[C]===0;C++);for(xe<C&&(xe=C),D=ee=1;D<=15;D++)if(ee<<=1,(ee-=le[D])<0)return-1;if(0<ee&&(m===0||Q!==1))return-1;for(ue[1]=0,D=1;D<15;D++)ue[D+1]=ue[D]+le[D];for(G=0;G<h;G++)v[g+G]!==0&&(k[ue[v[g+G]]++]=G);if(V=m===0?(N=te=k,19):m===1?(N=s,oe-=257,te=u,Oe-=257,256):(N=d,te=f,-1),D=C,z=y,K=G=A=0,O=-1,j=(ge=1<<(q=xe))-1,m===1&&852<ge||m===2&&592<ge)return 1;for(;;){for(W=D-K,Z=k[G]<V?(B=0,k[G]):k[G]>V?(B=te[Oe+k[G]],N[oe+k[G]]):(B=96,0),S=1<<D-K,C=_=1<<q;b[z+(A>>K)+(_-=S)]=W<<24|B<<16|Z|0,_!==0;);for(S=1<<D-1;A&S;)S>>=1;if(S!==0?(A&=S-1,A+=S):A=0,G++,--le[D]==0){if(D===Q)break;D=v[g+k[G]]}if(xe<D&&(A&j)!==O){for(K===0&&(K=xe),z+=C,ee=1<<(q=D-K);q+K<Q&&!((ee-=le[q+K])<=0);)q++,ee<<=1;if(ge+=1<<q,m===1&&852<ge||m===2&&592<ge)return 1;b[O=A&j]=xe<<24|q<<16|z-y|0}}return A!==0&&(b[z+A]=D-K<<24|64<<16|0),x.bits=xe,0}},{"../utils/common":41}],51:[function(n,o,i){o.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,o,i){var l=n("../utils/common"),s=0,u=1;function d(R){for(var ne=R.length;0<=--ne;)R[ne]=0}var f=0,m=29,v=256,g=v+1+m,h=30,b=19,y=2*g+1,k=15,x=16,S=7,_=256,O=16,j=17,z=18,V=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],W=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],B=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],re=new Array(2*(g+2));d(re);var D=new Array(2*h);d(D);var G=new Array(512);d(G);var C=new Array(256);d(C);var Q=new Array(m);d(Q);var xe,q,K,ee=new Array(h);function ge(R,ne,ve,ke,ae){this.static_tree=R,this.extra_bits=ne,this.extra_base=ve,this.elems=ke,this.max_length=ae,this.has_stree=R&&R.length}function A(R,ne){this.dyn_tree=R,this.max_code=0,this.stat_desc=ne}function N(R){return R<256?G[R]:G[256+(R>>>7)]}function oe(R,ne){R.pending_buf[R.pending++]=255&ne,R.pending_buf[R.pending++]=ne>>>8&255}function le(R,ne,ve){R.bi_valid>x-ve?(R.bi_buf|=ne<<R.bi_valid&65535,oe(R,R.bi_buf),R.bi_buf=ne>>x-R.bi_valid,R.bi_valid+=ve-x):(R.bi_buf|=ne<<R.bi_valid&65535,R.bi_valid+=ve)}function ue(R,ne,ve){le(R,ve[2*ne],ve[2*ne+1])}function te(R,ne){for(var ve=0;ve|=1&R,R>>>=1,ve<<=1,0<--ne;);return ve>>>1}function Oe(R,ne,ve){var ke,ae,Se=new Array(k+1),ye=0;for(ke=1;ke<=k;ke++)Se[ke]=ye=ye+ve[ke-1]<<1;for(ae=0;ae<=ne;ae++){var we=R[2*ae+1];we!==0&&(R[2*ae]=te(Se[we]++,we))}}function me(R){var ne;for(ne=0;ne<g;ne++)R.dyn_ltree[2*ne]=0;for(ne=0;ne<h;ne++)R.dyn_dtree[2*ne]=0;for(ne=0;ne<b;ne++)R.bl_tree[2*ne]=0;R.dyn_ltree[2*_]=1,R.opt_len=R.static_len=0,R.last_lit=R.matches=0}function Ie(R){8<R.bi_valid?oe(R,R.bi_buf):0<R.bi_valid&&(R.pending_buf[R.pending++]=R.bi_buf),R.bi_buf=0,R.bi_valid=0}function Ae(R,ne,ve,ke){var ae=2*ne,Se=2*ve;return R[ae]<R[Se]||R[ae]===R[Se]&&ke[ne]<=ke[ve]}function We(R,ne,ve){for(var ke=R.heap[ve],ae=ve<<1;ae<=R.heap_len&&(ae<R.heap_len&&Ae(ne,R.heap[ae+1],R.heap[ae],R.depth)&&ae++,!Ae(ne,ke,R.heap[ae],R.depth));)R.heap[ve]=R.heap[ae],ve=ae,ae<<=1;R.heap[ve]=ke}function Ve(R,ne,ve){var ke,ae,Se,ye,we=0;if(R.last_lit!==0)for(;ke=R.pending_buf[R.d_buf+2*we]<<8|R.pending_buf[R.d_buf+2*we+1],ae=R.pending_buf[R.l_buf+we],we++,ke===0?ue(R,ae,ne):(ue(R,(Se=C[ae])+v+1,ne),(ye=V[Se])!==0&&le(R,ae-=Q[Se],ye),ue(R,Se=N(--ke),ve),(ye=W[Se])!==0&&le(R,ke-=ee[Se],ye)),we<R.last_lit;);ue(R,_,ne)}function it(R,ne){var ve,ke,ae,Se=ne.dyn_tree,ye=ne.stat_desc.static_tree,we=ne.stat_desc.has_stree,Ue=ne.stat_desc.elems,ot=-1;for(R.heap_len=0,R.heap_max=y,ve=0;ve<Ue;ve++)Se[2*ve]!==0?(R.heap[++R.heap_len]=ot=ve,R.depth[ve]=0):Se[2*ve+1]=0;for(;R.heap_len<2;)Se[2*(ae=R.heap[++R.heap_len]=ot<2?++ot:0)]=1,R.depth[ae]=0,R.opt_len--,we&&(R.static_len-=ye[2*ae+1]);for(ne.max_code=ot,ve=R.heap_len>>1;1<=ve;ve--)We(R,Se,ve);for(ae=Ue;ve=R.heap[1],R.heap[1]=R.heap[R.heap_len--],We(R,Se,1),ke=R.heap[1],R.heap[--R.heap_max]=ve,R.heap[--R.heap_max]=ke,Se[2*ae]=Se[2*ve]+Se[2*ke],R.depth[ae]=(R.depth[ve]>=R.depth[ke]?R.depth[ve]:R.depth[ke])+1,Se[2*ve+1]=Se[2*ke+1]=ae,R.heap[1]=ae++,We(R,Se,1),2<=R.heap_len;);R.heap[--R.heap_max]=R.heap[1],function(Ze,tn){var Ba,cn,Or,Et,el,Ps,Tr=tn.dyn_tree,Cs=tn.max_code,Zc=tn.stat_desc.static_tree,Gc=tn.stat_desc.has_stree,Xc=tn.stat_desc.extra_bits,Is=tn.stat_desc.extra_base,nr=tn.stat_desc.max_length,zr=0;for(Et=0;Et<=k;Et++)Ze.bl_count[Et]=0;for(Tr[2*Ze.heap[Ze.heap_max]+1]=0,Ba=Ze.heap_max+1;Ba<y;Ba++)nr<(Et=Tr[2*Tr[2*(cn=Ze.heap[Ba])+1]+1]+1)&&(Et=nr,zr++),Tr[2*cn+1]=Et,Cs<cn||(Ze.bl_count[Et]++,el=0,Is<=cn&&(el=Xc[cn-Is]),Ps=Tr[2*cn],Ze.opt_len+=Ps*(Et+el),Gc&&(Ze.static_len+=Ps*(Zc[2*cn+1]+el)));if(zr!==0){do{for(Et=nr-1;Ze.bl_count[Et]===0;)Et--;Ze.bl_count[Et]--,Ze.bl_count[Et+1]+=2,Ze.bl_count[nr]--,zr-=2}while(0<zr);for(Et=nr;Et!==0;Et--)for(cn=Ze.bl_count[Et];cn!==0;)Cs<(Or=Ze.heap[--Ba])||(Tr[2*Or+1]!==Et&&(Ze.opt_len+=(Et-Tr[2*Or+1])*Tr[2*Or],Tr[2*Or+1]=Et),cn--)}}(R,ne),Oe(Se,ot,R.bl_count)}function I(R,ne,ve){var ke,ae,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ne[2*(ve+1)+1]=65535,ke=0;ke<=ve;ke++)ae=ye,ye=ne[2*(ke+1)+1],++we<Ue&&ae===ye||(we<ot?R.bl_tree[2*ae]+=we:ae!==0?(ae!==Se&&R.bl_tree[2*ae]++,R.bl_tree[2*O]++):we<=10?R.bl_tree[2*j]++:R.bl_tree[2*z]++,Se=ae,ot=(we=0)===ye?(Ue=138,3):ae===ye?(Ue=6,3):(Ue=7,4))}function fe(R,ne,ve){var ke,ae,Se=-1,ye=ne[1],we=0,Ue=7,ot=4;for(ye===0&&(Ue=138,ot=3),ke=0;ke<=ve;ke++)if(ae=ye,ye=ne[2*(ke+1)+1],!(++we<Ue&&ae===ye)){if(we<ot)for(;ue(R,ae,R.bl_tree),--we!=0;);else ae!==0?(ae!==Se&&(ue(R,ae,R.bl_tree),we--),ue(R,O,R.bl_tree),le(R,we-3,2)):we<=10?(ue(R,j,R.bl_tree),le(R,we-3,3)):(ue(R,z,R.bl_tree),le(R,we-11,7));Se=ae,ot=(we=0)===ye?(Ue=138,3):ae===ye?(Ue=6,3):(Ue=7,4)}}d(ee);var ce=!1;function U(R,ne,ve,ke){le(R,(f<<1)+(ke?1:0),3),function(ae,Se,ye,we){Ie(ae),oe(ae,ye),oe(ae,~ye),l.arraySet(ae.pending_buf,ae.window,Se,ye,ae.pending),ae.pending+=ye}(R,ne,ve)}i._tr_init=function(R){ce||(function(){var ne,ve,ke,ae,Se,ye=new Array(k+1);for(ae=ke=0;ae<m-1;ae++)for(Q[ae]=ke,ne=0;ne<1<<V[ae];ne++)C[ke++]=ae;for(C[ke-1]=ae,ae=Se=0;ae<16;ae++)for(ee[ae]=Se,ne=0;ne<1<<W[ae];ne++)G[Se++]=ae;for(Se>>=7;ae<h;ae++)for(ee[ae]=Se<<7,ne=0;ne<1<<W[ae]-7;ne++)G[256+Se++]=ae;for(ve=0;ve<=k;ve++)ye[ve]=0;for(ne=0;ne<=143;)re[2*ne+1]=8,ne++,ye[8]++;for(;ne<=255;)re[2*ne+1]=9,ne++,ye[9]++;for(;ne<=279;)re[2*ne+1]=7,ne++,ye[7]++;for(;ne<=287;)re[2*ne+1]=8,ne++,ye[8]++;for(Oe(re,g+1,ye),ne=0;ne<h;ne++)D[2*ne+1]=5,D[2*ne]=te(ne,5);xe=new ge(re,V,v+1,g,k),q=new ge(D,W,0,h,k),K=new ge(new Array(0),B,0,b,S)}(),ce=!0),R.l_desc=new A(R.dyn_ltree,xe),R.d_desc=new A(R.dyn_dtree,q),R.bl_desc=new A(R.bl_tree,K),R.bi_buf=0,R.bi_valid=0,me(R)},i._tr_stored_block=U,i._tr_flush_block=function(R,ne,ve,ke){var ae,Se,ye=0;0<R.level?(R.strm.data_type===2&&(R.strm.data_type=function(we){var Ue,ot=4093624447;for(Ue=0;Ue<=31;Ue++,ot>>>=1)if(1&ot&&we.dyn_ltree[2*Ue]!==0)return s;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return u;for(Ue=32;Ue<v;Ue++)if(we.dyn_ltree[2*Ue]!==0)return u;return s}(R)),it(R,R.l_desc),it(R,R.d_desc),ye=function(we){var Ue;for(I(we,we.dyn_ltree,we.l_desc.max_code),I(we,we.dyn_dtree,we.d_desc.max_code),it(we,we.bl_desc),Ue=b-1;3<=Ue&&we.bl_tree[2*Z[Ue]+1]===0;Ue--);return we.opt_len+=3*(Ue+1)+5+5+4,Ue}(R),ae=R.opt_len+3+7>>>3,(Se=R.static_len+3+7>>>3)<=ae&&(ae=Se)):ae=Se=ve+5,ve+4<=ae&&ne!==-1?U(R,ne,ve,ke):R.strategy===4||Se===ae?(le(R,2+(ke?1:0),3),Ve(R,re,D)):(le(R,4+(ke?1:0),3),function(we,Ue,ot,Ze){var tn;for(le(we,Ue-257,5),le(we,ot-1,5),le(we,Ze-4,4),tn=0;tn<Ze;tn++)le(we,we.bl_tree[2*Z[tn]+1],3);fe(we,we.dyn_ltree,Ue-1),fe(we,we.dyn_dtree,ot-1)}(R,R.l_desc.max_code+1,R.d_desc.max_code+1,ye+1),Ve(R,R.dyn_ltree,R.dyn_dtree)),me(R),ke&&Ie(R)},i._tr_tally=function(R,ne,ve){return R.pending_buf[R.d_buf+2*R.last_lit]=ne>>>8&255,R.pending_buf[R.d_buf+2*R.last_lit+1]=255&ne,R.pending_buf[R.l_buf+R.last_lit]=255&ve,R.last_lit++,ne===0?R.dyn_ltree[2*ve]++:(R.matches++,ne--,R.dyn_ltree[2*(C[ve]+v+1)]++,R.dyn_dtree[2*N(ne)]++),R.last_lit===R.lit_bufsize-1},i._tr_align=function(R){le(R,2,3),ue(R,_,re),function(ne){ne.bi_valid===16?(oe(ne,ne.bi_buf),ne.bi_buf=0,ne.bi_valid=0):8<=ne.bi_valid&&(ne.pending_buf[ne.pending++]=255&ne.bi_buf,ne.bi_buf>>=8,ne.bi_valid-=8)}(R)}},{"../utils/common":41}],53:[function(n,o,i){o.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,o,i){(function(l){(function(s,u){if(!s.setImmediate){var d,f,m,v,g=1,h={},b=!1,y=s.document,k=Object.getPrototypeOf&&Object.getPrototypeOf(s);k=k&&k.setTimeout?k:s,d={}.toString.call(s.process)==="[object process]"?function(O){process.nextTick(function(){S(O)})}:function(){if(s.postMessage&&!s.importScripts){var O=!0,j=s.onmessage;return s.onmessage=function(){O=!1},s.postMessage("","*"),s.onmessage=j,O}}()?(v="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",_,!1):s.attachEvent("onmessage",_),function(O){s.postMessage(v+O,"*")}):s.MessageChannel?((m=new MessageChannel).port1.onmessage=function(O){S(O.data)},function(O){m.port2.postMessage(O)}):y&&"onreadystatechange"in y.createElement("script")?(f=y.documentElement,function(O){var j=y.createElement("script");j.onreadystatechange=function(){S(O),j.onreadystatechange=null,f.removeChild(j),j=null},f.appendChild(j)}):function(O){setTimeout(S,0,O)},k.setImmediate=function(O){typeof O!="function"&&(O=new Function(""+O));for(var j=new Array(arguments.length-1),z=0;z<j.length;z++)j[z]=arguments[z+1];var V={callback:O,args:j};return h[g]=V,d(g),g++},k.clearImmediate=x}function x(O){delete h[O]}function S(O){if(b)setTimeout(S,0,O);else{var j=h[O];if(j){b=!0;try{(function(z){var V=z.callback,W=z.args;switch(W.length){case 0:V();break;case 1:V(W[0]);break;case 2:V(W[0],W[1]);break;case 3:V(W[0],W[1],W[2]);break;default:V.apply(u,W)}})(j)}finally{x(O),b=!1}}}}function _(O){O.source===s&&typeof O.data=="string"&&O.data.indexOf(v)===0&&S(+O.data.slice(v.length))}})(typeof self>"u"?l===void 0?this:l:self)}).call(this,typeof $n<"u"?$n:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}),kb,Mp,WT,wb,qT,$T,lc,LT,xb,ZT,Up,sc,uc,ya,GT,XT,YT,rs,_n,QT,JT,Sb,Vp,yee=P(()=>{kb=$(X(),1),Mp=$(X(),1),WT=e=>typeof e=="function",wb=(e,t)=>WT(e)?e(t):e,qT=(()=>{let e=0;return()=>(++e).toString()})(),$T=20,lc=new Map,LT=1e3,xb=e=>{if(lc.has(e))return;let t=setTimeout(()=>{lc.delete(e),ya({type:4,toastId:e})},LT);lc.set(e,t)},ZT=e=>{let t=lc.get(e);t&&clearTimeout(t)},Up=(e,t)=>{switch(t.type){case 0:return he(L({},e),{toasts:[t.toast,...e.toasts].slice(0,$T)});case 1:return t.toast.id&&ZT(t.toast.id),he(L({},e),{toasts:e.toasts.map(l=>l.id===t.toast.id?L(L({},l),t.toast):l)});case 2:let{toast:n}=t;return e.toasts.find(l=>l.id===n.id)?Up(e,{type:1,toast:n}):Up(e,{type:0,toast:n});case 3:let{toastId:o}=t;return o?xb(o):e.toasts.forEach(l=>{xb(l.id)}),he(L({},e),{toasts:e.toasts.map(l=>l.id===o||o===void 0?he(L({},l),{visible:!1}):l)});case 4:return t.toastId===void 0?he(L({},e),{toasts:[]}):he(L({},e),{toasts:e.toasts.filter(l=>l.id!==t.toastId)});case 5:return he(L({},e),{pausedAt:t.time});case 6:let i=t.time-(e.pausedAt||0);return he(L({},e),{pausedAt:void 0,toasts:e.toasts.map(l=>he(L({},l),{pauseDuration:l.pauseDuration+i}))})}},sc=[],uc={toasts:[],pausedAt:void 0},ya=e=>{uc=Up(uc,e),sc.forEach(t=>{t(uc)})},GT={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},XT=(e={})=>{let[t,n]=(0,kb.useState)(uc);(0,kb.useEffect)(()=>(sc.push(n),()=>{let i=sc.indexOf(n);i>-1&&sc.splice(i,1)}),[t]);let o=t.toasts.map(i=>{var l,s;return he(L(L(L({},e),e[i.type]),i),{duration:i.duration||((l=e[i.type])==null?void 0:l.duration)||(e==null?void 0:e.duration)||GT[i.type],style:L(L(L({},e.style),(s=e[i.type])==null?void 0:s.style),i.style)})});return he(L({},t),{toasts:o})},YT=(e,t="blank",n)=>he(L({createdAt:Date.now(),visible:!0,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{id:(n==null?void 0:n.id)||qT()}),rs=e=>(t,n)=>{let o=YT(t,e,n);return ya({type:2,toast:o}),o.id},_n=(e,t)=>rs("blank")(e,t),_n.error=rs("error"),_n.success=rs("success"),_n.loading=rs("loading"),_n.custom=rs("custom"),_n.dismiss=e=>{ya({type:3,toastId:e})},_n.remove=e=>ya({type:4,toastId:e}),_n.promise=(e,t,n)=>{let o=_n.loading(t.loading,L(L({},n),n==null?void 0:n.loading));return e.then(i=>(_n.success(wb(t.success,i),L(L({id:o},n),n==null?void 0:n.success)),i)).catch(i=>{_n.error(wb(t.error,i),L(L({id:o},n),n==null?void 0:n.error))}),e},QT=(e,t)=>{ya({type:1,toast:{id:e,height:t}})},JT=()=>{ya({type:5,time:Date.now()})},Sb=e=>{let{toasts:t,pausedAt:n}=XT(e);(0,Mp.useEffect)(()=>{if(n)return;let l=Date.now(),s=t.map(u=>{if(u.duration===1/0)return;let d=(u.duration||0)+u.pauseDuration-(l-u.createdAt);if(d<0){u.visible&&_n.dismiss(u.id);return}return setTimeout(()=>_n.dismiss(u.id),d)});return()=>{s.forEach(u=>u&&clearTimeout(u))}},[t,n]);let o=(0,Mp.useCallback)(()=>{n&&ya({type:6,time:Date.now()})},[n]),i=(0,Mp.useCallback)((l,s)=>{let{reverseOrder:u=!1,gutter:d=8,defaultPosition:f}=s||{},m=t.filter(h=>(h.position||f)===(l.position||f)&&h.height),v=m.findIndex(h=>h.id===l.id),g=m.filter((h,b)=>b<v&&h.visible).length;return m.filter(h=>h.visible).slice(...u?[g+1]:[0,g]).reduce((h,b)=>h+(b.height||0)+d,0)},[t]);return{toasts:t,handlers:{updateHeight:QT,startPause:JT,endPause:o,calculateOffset:i}}},Vp=_n});function ez(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}function bee(e){Si=e}function Ht(e,t){if(t){if(sz.test(e))return e.replace(uz,Eb)}else if(cz.test(e))return e.replace(dz,Eb);return e}function tz(e){return e.replace(pz,(t,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}function ct(e,t){e=typeof e=="string"?e:e.source,t=t||"";let n={replace:(o,i)=>(i=i.source||i,i=i.replace(hz,"$1"),e=e.replace(o,i),n),getRegex:()=>new RegExp(e,t)};return n}function nz(e,t,n){if(e){let o;try{o=decodeURIComponent(tz(n)).replace(mz,"").toLowerCase()}catch{return null}if(o.indexOf("javascript:")===0||o.indexOf("vbscript:")===0||o.indexOf("data:")===0)return null}t&&!gz.test(n)&&(n=kee(t,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}function kee(e,t){cc[" "+e]||(vz.test(e)?cc[" "+e]=e+"/":cc[" "+e]=Hp(e,"/",!0)),e=cc[" "+e];let n=e.indexOf(":")===-1;return t.substring(0,2)==="//"?n?t:e.replace(yz,"$1")+t:t.charAt(0)==="/"?n?t:e.replace(bz,"$1")+t:e+t}function xr(e){let t=1,n,o;for(;t<arguments.length;t++){n=arguments[t];for(o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}function rz(e,t){let n=e.replace(/\|/g,(l,s,u)=>{let d=!1,f=s;for(;--f>=0&&u[f]==="\\";)d=!d;return d?"|":" |"}),o=n.split(/ \|/),i=0;if(o[0].trim()||o.shift(),o.length>0&&!o[o.length-1].trim()&&o.pop(),o.length>t)o.splice(t);else for(;o.length<t;)o.push("");for(;i<o.length;i++)o[i]=o[i].trim().replace(/\\\|/g,"|");return o}function Hp(e,t,n){let o=e.length;if(o===0)return"";let i=0;for(;i<o;){let l=e.charAt(o-i-1);if(l===t&&!n)i++;else if(l!==t&&n)i++;else break}return e.slice(0,o-i)}function wee(e,t){if(e.indexOf(t[1])===-1)return-1;let n=e.length,o=0,i=0;for(;i<n;i++)if(e[i]==="\\")i++;else if(e[i]===t[0])o++;else if(e[i]===t[1]&&(o--,o<0))return i;return-1}function oz(e){e&&e.sanitize&&!e.silent&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options")}function az(e,t){if(t<1)return"";let n="";for(;t>1;)t&1&&(n+=e),t>>=1,e+=e;return n+e}function iz(e,t,n,o){let i=t.href,l=t.title?Ht(t.title):null,s=e[1].replace(/\\([\[\]])/g,"$1");if(e[0].charAt(0)!=="!"){o.state.inLink=!0;let u={type:"link",raw:n,href:i,title:l,text:s,tokens:o.inlineTokens(s)};return o.state.inLink=!1,u}return{type:"image",raw:n,href:i,title:l,text:Ht(s)}}function xee(e,t){let n=e.match(/^(\s+)(?:```)/);if(n===null)return t;let o=n[1];return t.split(`
`).map(i=>{let l=i.match(/^\s+/);if(l===null)return i;let[s]=l;return s.length>=o.length?i.slice(o.length):i}).join(`
`)}function See(e){return e.replace(/---/g,"").replace(/--/g,"").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1").replace(/'/g,"").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1").replace(/"/g,"").replace(/\.{3}/g,"")}function lz(e){let t="",n,o,i=e.length;for(n=0;n<i;n++)o=e.charCodeAt(n),Math.random()>.5&&(o="x"+o.toString(16)),t+="&#"+o+";";return t}function Le(e,t,n){if(typeof e>"u"||e===null)throw new Error("marked(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(typeof t=="function"&&(n=t,t=null),t=xr({},Le.defaults,t||{}),oz(t),n){let i=t.highlight,l;try{l=Ei.lex(e,t)}catch(d){return n(d)}let s=function(d){let f;if(!d)try{t.walkTokens&&Le.walkTokens(l,t.walkTokens),f=ba.parse(l,t)}catch(m){d=m}return t.highlight=i,d?n(d):n(null,f)};if(!i||i.length<3||(delete t.highlight,!l.length))return s();let u=0;Le.walkTokens(l,function(d){d.type==="code"&&(u++,setTimeout(()=>{i(d.text,d.lang,function(f,m){if(f)return s(f);m!=null&&m!==d.text&&(d.text=m,d.escaped=!0),u--,u===0&&s()})},0))}),u===0&&s();return}function o(i){if(i.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ht(i.message+"",!0)+"</pre>";throw i}try{let i=Ei.lex(e,t);if(t.walkTokens){if(t.async)return Promise.all(Le.walkTokens(i,t.walkTokens)).then(()=>ba.parse(i,t)).catch(o);Le.walkTokens(i,t.walkTokens)}return ba.parse(i,t)}catch(i){o(i)}}var Si,sz,uz,cz,dz,fz,Eb,pz,hz,mz,gz,cc,vz,yz,bz,dc,Kp,Ke,ze,Ei,Wp,_b,Pb,ba,Eee=P(()=>{Si=ez(),sz=/[&<>"']/,uz=/[&<>"']/g,cz=/[<>"']|&(?!#?\w+;)/,dz=/[<>"']|&(?!#?\w+;)/g,fz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Eb=e=>fz[e],pz=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig,hz=/(^|[^\[])\^/g,mz=/[^\w:]/g,gz=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i,cc={},vz=/^[^:]+:\/*[^/]*$/,yz=/^([^:]+:)[\s\S]*$/,bz=/^([^:]+:\/*[^/]*)[\s\S]*$/,dc={exec:function(){}},Kp=class{constructor(e){this.options=e||Si}space(e){let t=this.rules.block.newline.exec(e);if(t&&t[0].length>0)return{type:"space",raw:t[0]}}code(e){let t=this.rules.block.code.exec(e);if(t){let n=t[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:t[0],codeBlockStyle:"indented",text:this.options.pedantic?n:Hp(n,`
`)}}}fences(e){let t=this.rules.block.fences.exec(e);if(t){let n=t[0],o=xee(n,t[3]||"");return{type:"code",raw:n,lang:t[2]?t[2].trim():t[2],text:o}}}heading(e){let t=this.rules.block.heading.exec(e);if(t){let n=t[2].trim();if(/#$/.test(n)){let o=Hp(n,"#");(this.options.pedantic||!o||/ $/.test(o))&&(n=o.trim())}return{type:"heading",raw:t[0],depth:t[1].length,text:n,tokens:this.lexer.inline(n)}}}hr(e){let t=this.rules.block.hr.exec(e);if(t)return{type:"hr",raw:t[0]}}blockquote(e){let t=this.rules.block.blockquote.exec(e);if(t){let n=t[0].replace(/^ *>[ \t]?/gm,"");return{type:"blockquote",raw:t[0],tokens:this.lexer.blockTokens(n,[]),text:n}}}list(e){let t=this.rules.block.list.exec(e);if(t){let n,o,i,l,s,u,d,f,m,v,g,h,b=t[1].trim(),y=b.length>1,k={type:"list",raw:"",ordered:y,start:y?+b.slice(0,-1):"",loose:!1,items:[]};b=y?"\\d{1,9}\\".concat(b.slice(-1)):"\\".concat(b),this.options.pedantic&&(b=y?b:"[*+-]");let x=new RegExp("^( {0,3}".concat(b,")((?:[	 ][^\\n]*)?(?:\\n|$))"));for(;e&&(h=!1,!(!(t=x.exec(e))||this.rules.block.hr.test(e)));){if(n=t[0],e=e.substring(n.length),f=t[2].split(`
`,1)[0],m=e.split(`
`,1)[0],this.options.pedantic?(l=2,g=f.trimLeft()):(l=t[2].search(/[^ ]/),l=l>4?1:l,g=f.slice(l),l+=t[1].length),u=!1,!f&&/^ *$/.test(m)&&(n+=m+`
`,e=e.substring(m.length+1),h=!0),!h){let _=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:[*+-]|\\d{1,9}[.)])((?: [^\\n]*)?(?:\\n|$))")),O=new RegExp("^ {0,".concat(Math.min(3,l-1),"}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)")),j=new RegExp("^ {0,".concat(Math.min(3,l-1),"}(?:```|~~~)")),z=new RegExp("^ {0,".concat(Math.min(3,l-1),"}#"));for(;e&&(v=e.split(`
`,1)[0],f=v,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(j.test(f)||z.test(f)||_.test(f)||O.test(e)));){if(f.search(/[^ ]/)>=l||!f.trim())g+=`
`+f.slice(l);else if(!u)g+=`
`+f;else break;!u&&!f.trim()&&(u=!0),n+=v+`
`,e=e.substring(v.length+1)}}k.loose||(d?k.loose=!0:/\n *\n *$/.test(n)&&(d=!0)),this.options.gfm&&(o=/^\[[ xX]\] /.exec(g),o&&(i=o[0]!=="[ ] ",g=g.replace(/^\[[ xX]\] +/,""))),k.items.push({type:"list_item",raw:n,task:!!o,checked:i,loose:!1,text:g}),k.raw+=n}k.items[k.items.length-1].raw=n.trimRight(),k.items[k.items.length-1].text=g.trimRight(),k.raw=k.raw.trimRight();let S=k.items.length;for(s=0;s<S;s++){this.lexer.state.top=!1,k.items[s].tokens=this.lexer.blockTokens(k.items[s].text,[]);let _=k.items[s].tokens.filter(j=>j.type==="space"),O=_.every(j=>{let z=j.raw.split(""),V=0;for(let W of z)if(W===`
`&&(V+=1),V>1)return!0;return!1});!k.loose&&_.length&&O&&(k.loose=!0,k.items[s].loose=!0)}return k}}html(e){let t=this.rules.block.html.exec(e);if(t){let n={type:"html",raw:t[0],pre:!this.options.sanitizer&&(t[1]==="pre"||t[1]==="script"||t[1]==="style"),text:t[0]};if(this.options.sanitize){let o=this.options.sanitizer?this.options.sanitizer(t[0]):Ht(t[0]);n.type="paragraph",n.text=o,n.tokens=this.lexer.inline(o)}return n}}def(e){let t=this.rules.block.def.exec(e);if(t)return t[3]&&(t[3]=t[3].substring(1,t[3].length-1)),{type:"def",tag:t[1].toLowerCase().replace(/\s+/g," "),raw:t[0],href:t[2],title:t[3]}}table(e){let t=this.rules.block.table.exec(e);if(t){let n={type:"table",header:rz(t[1]).map(o=>({text:o})),align:t[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:t[3]&&t[3].trim()?t[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(n.header.length===n.align.length){n.raw=t[0];let o=n.align.length,i,l,s,u;for(i=0;i<o;i++)/^ *-+: *$/.test(n.align[i])?n.align[i]="right":/^ *:-+: *$/.test(n.align[i])?n.align[i]="center":/^ *:-+ *$/.test(n.align[i])?n.align[i]="left":n.align[i]=null;for(o=n.rows.length,i=0;i<o;i++)n.rows[i]=rz(n.rows[i],n.header.length).map(d=>({text:d}));for(o=n.header.length,l=0;l<o;l++)n.header[l].tokens=this.lexer.inline(n.header[l].text);for(o=n.rows.length,l=0;l<o;l++)for(u=n.rows[l],s=0;s<u.length;s++)u[s].tokens=this.lexer.inline(u[s].text);return n}}}lheading(e){let t=this.rules.block.lheading.exec(e);if(t)return{type:"heading",raw:t[0],depth:t[2].charAt(0)==="="?1:2,text:t[1],tokens:this.lexer.inline(t[1])}}paragraph(e){let t=this.rules.block.paragraph.exec(e);if(t){let n=t[1].charAt(t[1].length-1)===`
`?t[1].slice(0,-1):t[1];return{type:"paragraph",raw:t[0],text:n,tokens:this.lexer.inline(n)}}}text(e){let t=this.rules.block.text.exec(e);if(t)return{type:"text",raw:t[0],text:t[0],tokens:this.lexer.inline(t[0])}}escape(e){let t=this.rules.inline.escape.exec(e);if(t)return{type:"escape",raw:t[0],text:Ht(t[1])}}tag(e){let t=this.rules.inline.tag.exec(e);if(t)return!this.lexer.state.inLink&&/^<a /i.test(t[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(t[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(t[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(t[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:t[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(t[0]):Ht(t[0]):t[0]}}link(e){let t=this.rules.inline.link.exec(e);if(t){let n=t[2].trim();if(!this.options.pedantic&&/^</.test(n)){if(!/>$/.test(n))return;let l=Hp(n.slice(0,-1),"\\");if((n.length-l.length)%2===0)return}else{let l=wee(t[2],"()");if(l>-1){let s=(t[0].indexOf("!")===0?5:4)+t[1].length+l;t[2]=t[2].substring(0,l),t[0]=t[0].substring(0,s).trim(),t[3]=""}}let o=t[2],i="";if(this.options.pedantic){let l=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(o);l&&(o=l[1],i=l[3])}else i=t[3]?t[3].slice(1,-1):"";return o=o.trim(),/^</.test(o)&&(this.options.pedantic&&!/>$/.test(n)?o=o.slice(1):o=o.slice(1,-1)),iz(t,{href:o&&o.replace(this.rules.inline._escapes,"$1"),title:i&&i.replace(this.rules.inline._escapes,"$1")},t[0],this.lexer)}}reflink(e,t){let n;if((n=this.rules.inline.reflink.exec(e))||(n=this.rules.inline.nolink.exec(e))){let o=(n[2]||n[1]).replace(/\s+/g," ");if(o=t[o.toLowerCase()],!o||!o.href){let i=n[0].charAt(0);return{type:"text",raw:i,text:i}}return iz(n,o,n[0],this.lexer)}}emStrong(e,t,n=""){let o=this.rules.inline.emStrong.lDelim.exec(e);if(!o||o[3]&&n.match(/[\p{L}\p{N}]/u))return;let i=o[1]||o[2]||"";if(!i||i&&(n===""||this.rules.inline.punctuation.exec(n))){let l=o[0].length-1,s,u,d=l,f=0,m=o[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(m.lastIndex=0,t=t.slice(-1*e.length+l);(o=m.exec(t))!=null;){if(s=o[1]||o[2]||o[3]||o[4]||o[5]||o[6],!s)continue;if(u=s.length,o[3]||o[4]){d+=u;continue}else if((o[5]||o[6])&&l%3&&!((l+u)%3)){f+=u;continue}if(d-=u,d>0)continue;if(u=Math.min(u,u+d+f),Math.min(l,u)%2){let g=e.slice(1,l+o.index+u);return{type:"em",raw:e.slice(0,l+o.index+u+1),text:g,tokens:this.lexer.inlineTokens(g)}}let v=e.slice(2,l+o.index+u-1);return{type:"strong",raw:e.slice(0,l+o.index+u+1),text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){let t=this.rules.inline.code.exec(e);if(t){let n=t[2].replace(/\n/g," "),o=/[^ ]/.test(n),i=/^ /.test(n)&&/ $/.test(n);return o&&i&&(n=n.substring(1,n.length-1)),n=Ht(n,!0),{type:"codespan",raw:t[0],text:n}}}br(e){let t=this.rules.inline.br.exec(e);if(t)return{type:"br",raw:t[0]}}del(e){let t=this.rules.inline.del.exec(e);if(t)return{type:"del",raw:t[0],text:t[2],tokens:this.lexer.inlineTokens(t[2])}}autolink(e,t){let n=this.rules.inline.autolink.exec(e);if(n){let o,i;return n[2]==="@"?(o=Ht(this.options.mangle?t(n[1]):n[1]),i="mailto:"+o):(o=Ht(n[1]),i=o),{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}url(e,t){let n;if(n=this.rules.inline.url.exec(e)){let o,i;if(n[2]==="@")o=Ht(this.options.mangle?t(n[0]):n[0]),i="mailto:"+o;else{let l;do l=n[0],n[0]=this.rules.inline._backpedal.exec(n[0])[0];while(l!==n[0]);o=Ht(n[0]),n[1]==="www."?i="http://"+o:i=o}return{type:"link",raw:n[0],text:o,href:i,tokens:[{type:"text",raw:o,text:o}]}}}inlineText(e,t){let n=this.rules.inline.text.exec(e);if(n){let o;return this.lexer.state.inRawBlock?o=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ht(n[0]):n[0]:o=Ht(this.options.smartypants?t(n[0]):n[0]),{type:"text",raw:n[0],text:o}}}},Ke={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*\n)|~{3,})([^\n]*)\n(?:|([\s\S]*?)\n)(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?<?([^\s>]+)>?(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:dc,lheading:/^([^\n]+)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/},Ke._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ke._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/,Ke.def=ct(Ke.def).replace("label",Ke._label).replace("title",Ke._title).getRegex(),Ke.bullet=/(?:[*+-]|\d{1,9}[.)])/,Ke.listItemStart=ct(/^( *)(bull) */).replace("bull",Ke.bullet).getRegex(),Ke.list=ct(Ke.list).replace(/bull/g,Ke.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+Ke.def.source+")").getRegex(),Ke._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Ke._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/,Ke.html=ct(Ke.html,"i").replace("comment",Ke._comment).replace("tag",Ke._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),Ke.paragraph=ct(Ke._paragraph).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.blockquote=ct(Ke.blockquote).replace("paragraph",Ke.paragraph).getRegex(),Ke.normal=xr({},Ke),Ke.gfm=xr({},Ke.normal,{table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"}),Ke.gfm.table=ct(Ke.gfm.table).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.gfm.paragraph=ct(Ke._paragraph).replace("hr",Ke.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",Ke.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ke._tag).getRegex(),Ke.pedantic=xr({},Ke.normal,{html:ct(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Ke._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:dc,paragraph:ct(Ke.normal._paragraph).replace("hr",Ke.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",Ke.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()}),ze={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:dc,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:([punct_])|[^\s*]))|^_+(?:([punct*])|([^\s_]))/,rDelimAst:/^[^_*]*?\_\_[^_*]*?\*[^_*]*?(?=\_\_)|[^*]+(?=[^*])|[punct_](\*+)(?=[\s]|$)|[^punct*_\s](\*+)(?=[punct_\s]|$)|[punct_\s](\*+)(?=[^punct*_\s])|[\s](\*+)(?=[punct_])|[punct_](\*+)(?=[punct_])|[^punct*_\s](\*+)(?=[^punct*_\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?\_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|[punct*](\_+)(?=[\s]|$)|[^punct*_\s](\_+)(?=[punct*\s]|$)|[punct*\s](\_+)(?=[^punct*_\s])|[\s](\_+)(?=[punct*])|[punct*](\_+)(?=[punct*])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:dc,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^([\spunctuation])/},ze._punctuation="!\"#$%&'()+\\-.,/:;<=>?@\\[\\]`^{|}~",ze.punctuation=ct(ze.punctuation).replace(/punctuation/g,ze._punctuation).getRegex(),ze.blockSkip=/\[[^\]]*?\]\([^\)]*?\)|`[^`]*?`|<[^>]*?>/g,ze.escapedEmSt=/\\\*|\\_/g,ze._comment=ct(Ke._comment).replace("(?:-->|$)","-->").getRegex(),ze.emStrong.lDelim=ct(ze.emStrong.lDelim).replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimAst=ct(ze.emStrong.rDelimAst,"g").replace(/punct/g,ze._punctuation).getRegex(),ze.emStrong.rDelimUnd=ct(ze.emStrong.rDelimUnd,"g").replace(/punct/g,ze._punctuation).getRegex(),ze._escapes=/\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/g,ze._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/,ze._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/,ze.autolink=ct(ze.autolink).replace("scheme",ze._scheme).replace("email",ze._email).getRegex(),ze._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/,ze.tag=ct(ze.tag).replace("comment",ze._comment).replace("attribute",ze._attribute).getRegex(),ze._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,ze._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/,ze._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/,ze.link=ct(ze.link).replace("label",ze._label).replace("href",ze._href).replace("title",ze._title).getRegex(),ze.reflink=ct(ze.reflink).replace("label",ze._label).replace("ref",Ke._label).getRegex(),ze.nolink=ct(ze.nolink).replace("ref",Ke._label).getRegex(),ze.reflinkSearch=ct(ze.reflinkSearch,"g").replace("reflink",ze.reflink).replace("nolink",ze.nolink).getRegex(),ze.normal=xr({},ze),ze.pedantic=xr({},ze.normal,{strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:ct(/^!?\[(label)\]\((.*?)\)/).replace("label",ze._label).getRegex(),reflink:ct(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ze._label).getRegex()}),ze.gfm=xr({},ze.normal,{escape:ct(ze.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/}),ze.gfm.url=ct(ze.gfm.url,"i").replace("email",ze.gfm._extended_email).getRegex(),ze.breaks=xr({},ze.gfm,{br:ct(ze.br).replace("{2,}","*").getRegex(),text:ct(ze.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()}),Ei=class r2{constructor(t){this.tokens=[],this.tokens.links=Object.create(null),this.options=t||Si,this.options.tokenizer=this.options.tokenizer||new Kp,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};let n={block:Ke.normal,inline:ze.normal};this.options.pedantic?(n.block=Ke.pedantic,n.inline=ze.pedantic):this.options.gfm&&(n.block=Ke.gfm,this.options.breaks?n.inline=ze.breaks:n.inline=ze.gfm),this.tokenizer.rules=n}static get rules(){return{block:Ke,inline:ze}}static lex(t,n){return new r2(n).lex(t)}static lexInline(t,n){return new r2(n).inlineTokens(t)}lex(t){t=t.replace(/\r\n|\r/g,`
`),this.blockTokens(t,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(t,n=[]){this.options.pedantic?t=t.replace(/\t/g,"    ").replace(/^ +$/gm,""):t=t.replace(/^( *)(\t+)/gm,(u,d,f)=>d+"    ".repeat(f.length));let o,i,l,s;for(;t;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(u=>(o=u.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.space(t)){t=t.substring(o.raw.length),o.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(o);continue}if(o=this.tokenizer.code(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(o=this.tokenizer.fences(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.heading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.hr(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.blockquote(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.list(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.html(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.def(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+o.raw,i.text+=`
`+o.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[o.tag]||(this.tokens.links[o.tag]={href:o.href,title:o.title});continue}if(o=this.tokenizer.table(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.lheading(t)){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startBlock){let u=1/0,d=t.slice(1),f;this.options.extensions.startBlock.forEach(function(m){f=m.call({lexer:this},d),typeof f=="number"&&f>=0&&(u=Math.min(u,f))}),u<1/0&&u>=0&&(l=t.substring(0,u+1))}if(this.state.top&&(o=this.tokenizer.paragraph(l))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o),s=l.length!==t.length,t=t.substring(o.raw.length);continue}if(o=this.tokenizer.text(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+o.raw,i.text+=`
`+o.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(o);continue}if(t){let u="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(u);break}else throw new Error(u)}}return this.state.top=!0,n}inline(t,n=[]){return this.inlineQueue.push({src:t,tokens:n}),n}inlineTokens(t,n=[]){let o,i,l,s=t,u,d,f;if(this.tokens.links){let m=Object.keys(this.tokens.links);if(m.length>0)for(;(u=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)m.includes(u[0].slice(u[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,u.index)+"["+az("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(u=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,u.index)+"["+az("a",u[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(u=this.tokenizer.rules.inline.escapedEmSt.exec(s))!=null;)s=s.slice(0,u.index)+"++"+s.slice(this.tokenizer.rules.inline.escapedEmSt.lastIndex);for(;t;)if(d||(f=""),d=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(m=>(o=m.call({lexer:this},t,n))?(t=t.substring(o.raw.length),n.push(o),!0):!1))){if(o=this.tokenizer.escape(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.tag(t)){t=t.substring(o.raw.length),i=n[n.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(o=this.tokenizer.link(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.reflink(t,this.tokens.links)){t=t.substring(o.raw.length),i=n[n.length-1],i&&o.type==="text"&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(o=this.tokenizer.emStrong(t,s,f)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.codespan(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.br(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.del(t)){t=t.substring(o.raw.length),n.push(o);continue}if(o=this.tokenizer.autolink(t,lz)){t=t.substring(o.raw.length),n.push(o);continue}if(!this.state.inLink&&(o=this.tokenizer.url(t,lz))){t=t.substring(o.raw.length),n.push(o);continue}if(l=t,this.options.extensions&&this.options.extensions.startInline){let m=1/0,v=t.slice(1),g;this.options.extensions.startInline.forEach(function(h){g=h.call({lexer:this},v),typeof g=="number"&&g>=0&&(m=Math.min(m,g))}),m<1/0&&m>=0&&(l=t.substring(0,m+1))}if(o=this.tokenizer.inlineText(l,See)){t=t.substring(o.raw.length),o.raw.slice(-1)!=="_"&&(f=o.raw.slice(-1)),d=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=o.raw,i.text+=o.text):n.push(o);continue}if(t){let m="Infinite loop on byte: "+t.charCodeAt(0);if(this.options.silent){console.error(m);break}else throw new Error(m)}}return n}},Wp=class{constructor(e){this.options=e||Si}code(e,t,n){let o=(t||"").match(/\S*/)[0];if(this.options.highlight){let i=this.options.highlight(e,o);i!=null&&i!==e&&(n=!0,e=i)}return e=e.replace(/\n$/,"")+`
`,o?'<pre><code class="'+this.options.langPrefix+Ht(o,!0)+'">'+(n?e:Ht(e,!0))+`</code></pre>
`:"<pre><code>"+(n?e:Ht(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
`.concat(e,`</blockquote>
`)}html(e){return e}heading(e,t,n,o){if(this.options.headerIds){let i=this.options.headerPrefix+o.slug(n);return"<h".concat(t,' id="').concat(i,'">').concat(e,"</h").concat(t,`>
`)}return"<h".concat(t,">").concat(e,"</h").concat(t,`>
`)}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,t,n){let o=t?"ol":"ul",i=t&&n!==1?' start="'+n+'"':"";return"<"+o+i+`>
`+e+"</"+o+`>
`}listitem(e){return"<li>".concat(e,`</li>
`)}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return"<p>".concat(e,`</p>
`)}table(e,t){return t&&(t="<tbody>".concat(t,"</tbody>")),`<table>
<thead>
`+e+`</thead>
`+t+`</table>
`}tablerow(e){return`<tr>
`.concat(e,`</tr>
`)}tablecell(e,t){let n=t.header?"th":"td";return(t.align?"<".concat(n,' align="').concat(t.align,'">'):"<".concat(n,">"))+e+"</".concat(n,`>
`)}strong(e){return"<strong>".concat(e,"</strong>")}em(e){return"<em>".concat(e,"</em>")}codespan(e){return"<code>".concat(e,"</code>")}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return"<del>".concat(e,"</del>")}link(e,t,n){if(e=nz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<a href="'+Ht(e)+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>",o}image(e,t,n){if(e=nz(this.options.sanitize,this.options.baseUrl,e),e===null)return n;let o='<img src="'.concat(e,'" alt="').concat(n,'"');return t&&(o+=' title="'.concat(t,'"')),o+=this.options.xhtml?"/>":">",o}text(e){return e}},_b=class{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,t,n){return""+n}image(e,t,n){return""+n}br(){return""}},Pb=class{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,t){let n=e,o=0;if(this.seen.hasOwnProperty(n)){o=this.seen[e];do o++,n=e+"-"+o;while(this.seen.hasOwnProperty(n))}return t||(this.seen[e]=o,this.seen[n]=0),n}slug(e,t={}){let n=this.serialize(e);return this.getNextSafeSlug(n,t.dryrun)}},ba=class o2{constructor(t){this.options=t||Si,this.options.renderer=this.options.renderer||new Wp,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new _b,this.slugger=new Pb}static parse(t,n){return new o2(n).parse(t)}static parseInline(t,n){return new o2(n).parseInline(t)}parse(t,n=!0){let o="",i,l,s,u,d,f,m,v,g,h,b,y,k,x,S,_,O,j,z,V=t.length;for(i=0;i<V;i++){if(h=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[h.type]&&(z=this.options.extensions.renderers[h.type].call({parser:this},h),z!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(h.type))){o+=z||"";continue}switch(h.type){case"space":continue;case"hr":{o+=this.renderer.hr();continue}case"heading":{o+=this.renderer.heading(this.parseInline(h.tokens),h.depth,tz(this.parseInline(h.tokens,this.textRenderer)),this.slugger);continue}case"code":{o+=this.renderer.code(h.text,h.lang,h.escaped);continue}case"table":{for(v="",m="",u=h.header.length,l=0;l<u;l++)m+=this.renderer.tablecell(this.parseInline(h.header[l].tokens),{header:!0,align:h.align[l]});for(v+=this.renderer.tablerow(m),g="",u=h.rows.length,l=0;l<u;l++){for(f=h.rows[l],m="",d=f.length,s=0;s<d;s++)m+=this.renderer.tablecell(this.parseInline(f[s].tokens),{header:!1,align:h.align[s]});g+=this.renderer.tablerow(m)}o+=this.renderer.table(v,g);continue}case"blockquote":{g=this.parse(h.tokens),o+=this.renderer.blockquote(g);continue}case"list":{for(b=h.ordered,y=h.start,k=h.loose,u=h.items.length,g="",l=0;l<u;l++)S=h.items[l],_=S.checked,O=S.task,x="",S.task&&(j=this.renderer.checkbox(_),k?S.tokens.length>0&&S.tokens[0].type==="paragraph"?(S.tokens[0].text=j+" "+S.tokens[0].text,S.tokens[0].tokens&&S.tokens[0].tokens.length>0&&S.tokens[0].tokens[0].type==="text"&&(S.tokens[0].tokens[0].text=j+" "+S.tokens[0].tokens[0].text)):S.tokens.unshift({type:"text",text:j}):x+=j),x+=this.parse(S.tokens,k),g+=this.renderer.listitem(x,O,_);o+=this.renderer.list(g,b,y);continue}case"html":{o+=this.renderer.html(h.text);continue}case"paragraph":{o+=this.renderer.paragraph(this.parseInline(h.tokens));continue}case"text":{for(g=h.tokens?this.parseInline(h.tokens):h.text;i+1<V&&t[i+1].type==="text";)h=t[++i],g+=`
`+(h.tokens?this.parseInline(h.tokens):h.text);o+=n?this.renderer.paragraph(g):g;continue}default:{let W='Token with "'+h.type+'" type was not found.';if(this.options.silent){console.error(W);return}else throw new Error(W)}}}return o}parseInline(t,n){n=n||this.renderer;let o="",i,l,s,u=t.length;for(i=0;i<u;i++){if(l=t[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[l.type]&&(s=this.options.extensions.renderers[l.type].call({parser:this},l),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(l.type))){o+=s||"";continue}switch(l.type){case"escape":{o+=n.text(l.text);break}case"html":{o+=n.html(l.text);break}case"link":{o+=n.link(l.href,l.title,this.parseInline(l.tokens,n));break}case"image":{o+=n.image(l.href,l.title,l.text);break}case"strong":{o+=n.strong(this.parseInline(l.tokens,n));break}case"em":{o+=n.em(this.parseInline(l.tokens,n));break}case"codespan":{o+=n.codespan(l.text);break}case"br":{o+=n.br();break}case"del":{o+=n.del(this.parseInline(l.tokens,n));break}case"text":{o+=n.text(l.text);break}default:{let d='Token with "'+l.type+'" type was not found.';if(this.options.silent){console.error(d);return}else throw new Error(d)}}}return o}},Le.options=Le.setOptions=function(e){return xr(Le.defaults,e),bee(Le.defaults),Le},Le.getDefaults=ez,Le.defaults=Si,Le.use=function(...e){let t=xr({},...e),n=Le.defaults.extensions||{renderers:{},childTokens:{}},o;e.forEach(i=>{if(i.extensions&&(o=!0,i.extensions.forEach(l=>{if(!l.name)throw new Error("extension name required");if(l.renderer){let s=n.renderers?n.renderers[l.name]:null;s?n.renderers[l.name]=function(...u){let d=l.renderer.apply(this,u);return d===!1&&(d=s.apply(this,u)),d}:n.renderers[l.name]=l.renderer}if(l.tokenizer){if(!l.level||l.level!=="block"&&l.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[l.level]?n[l.level].unshift(l.tokenizer):n[l.level]=[l.tokenizer],l.start&&(l.level==="block"?n.startBlock?n.startBlock.push(l.start):n.startBlock=[l.start]:l.level==="inline"&&(n.startInline?n.startInline.push(l.start):n.startInline=[l.start]))}l.childTokens&&(n.childTokens[l.name]=l.childTokens)})),i.renderer){let l=Le.defaults.renderer||new Wp;for(let s in i.renderer){let u=l[s];l[s]=(...d)=>{let f=i.renderer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.renderer=l}if(i.tokenizer){let l=Le.defaults.tokenizer||new Kp;for(let s in i.tokenizer){let u=l[s];l[s]=(...d)=>{let f=i.tokenizer[s].apply(l,d);return f===!1&&(f=u.apply(l,d)),f}}t.tokenizer=l}if(i.walkTokens){let l=Le.defaults.walkTokens;t.walkTokens=function(s){let u=[];return u.push(i.walkTokens.call(this,s)),l&&(u=u.concat(l.call(this,s))),u}}o&&(t.extensions=n),Le.setOptions(t)})},Le.walkTokens=function(e,t){let n=[];for(let o of e)switch(n=n.concat(t.call(Le,o)),o.type){case"table":{for(let i of o.header)n=n.concat(Le.walkTokens(i.tokens,t));for(let i of o.rows)for(let l of i)n=n.concat(Le.walkTokens(l.tokens,t));break}case"list":{n=n.concat(Le.walkTokens(o.items,t));break}default:Le.defaults.extensions&&Le.defaults.extensions.childTokens&&Le.defaults.extensions.childTokens[o.type]?Le.defaults.extensions.childTokens[o.type].forEach(function(i){n=n.concat(Le.walkTokens(o[i],t))}):o.tokens&&(n=n.concat(Le.walkTokens(o.tokens,t)))}return n},Le.parseInline=function(e,t){if(typeof e>"u"||e===null)throw new Error("marked.parseInline(): input parameter is undefined or null");if(typeof e!="string")throw new Error("marked.parseInline(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");t=xr({},Le.defaults,t||{}),oz(t);try{let n=Ei.lexInline(e,t);return t.walkTokens&&Le.walkTokens(n,t.walkTokens),ba.parseInline(n,t)}catch(n){if(n.message+=`
Please report this to https://github.com/markedjs/marked.`,t.silent)return"<p>An error occurred:</p><pre>"+Ht(n.message+"",!0)+"</pre>";throw n}},Le.Parser=ba,Le.parser=ba.parse,Le.Renderer=Wp,Le.TextRenderer=_b,Le.Lexer=Ei,Le.lexer=Ei.lex,Le.Tokenizer=Kp,Le.Slugger=Pb,Le.parse=Le,Le.options,Le.setOptions,Le.use,Le.walkTokens,Le.parseInline,ba.parse,Ei.lex}),kz,wz,Cb,xz=P(()=>{be(),Rp(),wz=M(ns)(kz||(kz=F([`
  padding: 6px;
`]))),Cb=wz}),Ot,qp,fc,$p,Sz,Ez,_z,Ib,Pz,Cz,Iz,jb,jz,Oz,Tz,zz,Dz,pc,hc,Az,Bz,Nz,Fz,Rz,Mz,Uz,Vz,Hz,Kz,Wz,qz,Ob,mc=P(()=>{Ot=$(X()),yee(),be(),rt(),Re(),Ne(),Eee(),ic(),xz(),qp=({title:e,message:t})=>"".concat(e," ").concat(t),fc=(()=>{let e=new Map;return{add:t=>{let n=qp(t);e.has(n)?e.set(n,e.get(n)+1):e.set(n,1)},delete:t=>{let n=qp(t);e.has(n)&&e.get(n)>1?e.set(n,e.get(n)-1):e.delete(n)},clear:()=>{e.clear()},check:t=>e.has(qp(t))}})(),$p=(()=>{let e=new Map;return{add:t=>{e.has(t)?e.set(t,e.get(t)+1):e.set(t,1)},delete:t=>{e.has(t)&&e.get(t)>1?e.set(t,e.get(t)-1):e.delete(t)},clear:()=>{e.clear()},check:t=>e.has(t),get types(){return Array.of(...e.keys())}}})(),Ez=M.div(Sz||(Sz=F([`
  width: 100%;
  border-radius: 4px;
  display: flex;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt),Ib=M.div(_z||(_z=F([`
  font-size: 14px;
  font-weight: bold;
  color: #fff;
`]))),Cz=M.div(Pz||(Pz=F([`
  flex: 1;
  flex-direction: column;
  width: 0;
  display: flex;
  padding: 16px 0;
  gap: 12px;
`]))),jb=M.div(Iz||(Iz=F([`
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;

  a {
    color: rgba(255, 255, 255, 0.9);
  }

  em {
    font-style: italic;
  }

  strong {
    font-weight: bold;
    color: #d5d5d5;
  }

  p {
    margin-bottom: 8px;
  }

  code {
    font-family: monospace;
    background: rgba(0, 0, 0, 0.3);
    padding: 1px 1px 2px;
    border-radius: 4px;
    border: 1px solid rgba(255, 255, 255, 0.08);
    white-space: pre-wrap;
  }

  pre > code {
    white-space: pre;
    display: block;
    overflow: auto;
    padding: 4px;
  }

  pre {
    white-space: pre-wrap;
    margin-bottom: 8px;
  }
`]))),Oz=M.button(jz||(jz=F([`
  color: rgba(255, 255, 255, 0.9);
  font-weight: 500;
  display: flex;
  align-items: center;
  justify-content: center;
  background: none;
  border: none;
  padding-left: 12px;
  padding-right: 12px;
  border-left: 1px solid rgba(255, 255, 255, 0.05);

  &:hover {
    background: rgba(255, 255, 255, 0.05);
  }
`]))),Tz={info:"#3b82f6",success:"#10b981",warning:"#f59e0b",error:"#ef4444"},Dz=M.div(zz||(zz=F([`
  display: flex;
  justify-content: center;
  margin-left: 12px;
  padding-top: 21px;

  ::before {
    content: '';
    width: 8px;
    height: 8px;
    border-radius: 999999px;
    background-color: `,`;
  }
`])),({type:e})=>Tz[e]),pc=e=>(t,n,o=[],i=!1)=>{(i||!fc.check({title:t,message:n}))&&(fc.add({title:t,message:n}),$p.add(e),Vp.custom(l=>Ot.default.createElement(Ez,null,Ot.default.createElement(Dz,{type:e}),Ot.default.createElement(Cz,null,Ot.default.createElement(Ib,null,t),Ot.default.createElement(jb,{dangerouslySetInnerHTML:{__html:Le.parse(n)}}),o.length>0&&Ot.default.createElement(jb,null,Ot.default.createElement("span",null,"Docs:"," ",o.map((s,u)=>Ot.default.createElement(Ot.Fragment,{key:u},u>0&&", ",Ot.default.createElement("a",{target:"_blank",href:s.url},s.title)))))),Ot.default.createElement(Oz,{onClick:()=>{Vp.remove(l.id),fc.delete({title:t,message:n}),$p.delete(e)}},"Close")),{duration:1/0}))},hc={warning:pc("warning"),success:pc("success"),info:pc("info"),error:pc("error")},Bz=M.div(Az||(Az=F([`
  display: flex;
  justify-content: `,`;
  gap: 12px;
`])),({align:e})=>e==="center"?"center":"flex-end"),Fz=M.button(Nz||(Nz=F([`
  position: relative;
  border-radius: 4px;
  display: flex;
  align-items: center;
  gap: 12px;
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border: none;
  padding: 12px;
  color: #fff;
  overflow: hidden;

  ::before {
    content: '';
    position: absolute;
    inset: 0;
  }

  :hover::before {
    background: `,`;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,({danger:e})=>e?"rgba(255, 0, 0, 0.1)":"rgba(255, 255, 255, 0.1)"),Mz=M.div(Rz||(Rz=F([`
  z-index: 10;
  display: flex;
  flex-direction: column;
  gap: 8px;
  position: fixed;
  right: 92px;
  top: 50px;
  width: 500px;
  height: 85vh;
  min-height: 400px;
`]))),Vz=M.div(Uz||(Uz=F([`
  overflow: hidden;
  pointer-events: auto;
  border-radius: 4px;

  & > div {
    display: flex;
    flex-direction: column-reverse;
    gap: 8px;
    overflow: scroll;
    height: 100%;
  }
`]))),Kz=M.div(Hz||(Hz=F([`
  width: fit-content;
  padding: 8px;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  gap: 12px;
  color: #b4b4b4;
  font-size: 12px;
  line-height: 1.4;
`]))),Wz=()=>{let{hasNotifications:e}=Ob();return ts({enabled:!e},()=>Ot.default.createElement(Cb,null,Ot.default.createElement(Kz,null,Ot.default.createElement(Ib,null,"No notifications"),"Notifications will appear here when you get them.")))},qz=()=>{var e;let{toasts:t,handlers:n}=Sb(),{startPause:o,endPause:i}=n,l=(e=Ye(de().atomP.ahistoric.pinNotifications))!=null?e:!1;return Ot.default.createElement(Mz,null,l?t.length>0&&Ot.default.createElement(Vz,{onMouseEnter:o,onMouseLeave:i},Ot.default.createElement("div",null,t.map(s=>Ot.default.createElement("div",{key:s.id},s.message(s))))):null,Ot.default.createElement(Bz,{align:"side"},l&&t.length>0&&Ot.default.createElement(Fz,{onClick:()=>{$p.clear(),fc.clear(),Vp.remove()},danger:!0},"Clear")))},Ob=()=>{let{toasts:e}=Sb();return{hasNotifications:e.length>0}}});function Tb(e,t){var n;let o=Object.values((n=(0,$z.val)(e.pointers.historic.sheetsById))!=null?n:{}),i=o.flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.staticOverrides.byObject)!=null?u:{})}).flatMap(s=>Object.values(s??{})),l=[...o.flatMap(s=>{var u,d;return Object.values((d=(u=s==null?void 0:s.sequence)==null?void 0:u.tracksByObject)!=null?d:{})}).flatMap(s=>{var u;return Object.values((u=s==null?void 0:s.trackData)!=null?u:{})}).flatMap(s=>s==null?void 0:s.keyframes).map(s=>s==null?void 0:s.value)];return i.forEach(s=>{Bd(s,u=>{l.push(u)},[])}),l.filter(s=>(s==null?void 0:s.type)&&typeof(s==null?void 0:s.type)=="string").map(s=>s.id).filter((s,u,d)=>s!==null&&s!==""&&d.indexOf(s)===u)}var $z,Lz=P(()=>{$z=je(),Bg()});function Zz(e,t){let n=new File([e],t),o=URL.createObjectURL(n),i=Object.assign(document.createElement("a"),{href:o,target:"_blank",rel:"noopener"});i.setAttribute("download",t),i.click(),setTimeout(()=>{URL.revokeObjectURL(o)},4e4)}var Rn,Gz,Xz,Yz,Qz,Jz,eD,tD,nD,rD,_ee=P(()=>{Ne(),Gr(),Lr(),Rn=$(X()),be(),kT(),gee(),Gz=$(vee()),mc(),Lz(),Yz=M.div(Xz||(Xz=F([""]))),Jz=M.div(Qz||(Qz=F([`
  padding: 8px 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
`]))),tD=M(Zr)(eD||(eD=F([`
  display flex;
  flex-direction: column;
  gap: 1em;
  width: 280px;
  padding: 1em;
`]))),nD=({projects:e})=>{let t=e[0],n=t.address.projectId,o=n.replace(/[^\w\d'_\-]+/g," ").trim(),i="".concat(o,".theatre-project-state.json"),[l,s]=(0,Rn.useState)(!1),u=(0,Rn.useCallback)(()=>Vt(void 0,null,function*(){var f,m;let v=Tb(t),g=new Map;try{yield Promise.all(v.map(b=>Vt(void 0,null,function*(){let y=t.assetStorage.getAssetUrl(b),k=yield fetch(y);k.ok&&g.set(b,yield k.blob())})))}catch{hc.error("Failed to access assets","Export aborted. Failed to access assets at ".concat((m=(f=t.config.assets)==null?void 0:f.baseUrl)!=null?m:"/",". This is likely due to a CORS issue."));return}if(g.size>0){let b=new Gz.default;for(let[k,x]of g)b.file(k,x);let y=yield b.generateAsync({type:"blob"});Zz(y,"".concat(o,".assets.zip"))}let h=JSON.stringify(de().createContentOfSaveFile(t.address.projectId),null,2);Zz(h,i),s(!0),setTimeout(()=>{s(!1)},2e3)}),[t,i]),d=$r({debugName:"ProjectDetails",pointerDistanceThreshold:50},()=>Rn.default.createElement(tD,null,Rn.default.createElement("p",null,"This will create a JSON file with the state of your project. You can commit this file to your git repo and include it in your production bundle."),Rn.default.createElement("p",null,"If your project uses assets, this will also create a zip file with all the assets that you can unpack in your public folder."),Rn.default.createElement("a",{href:"https://www.theatrejs.com/docs/latest/manual/projects#state",target:"_blank"},"Here is a quick guide on how to export to production.")));return Rn.default.createElement(Rn.default.Fragment,null,d.node,Rn.default.createElement(Yz,null,Rn.default.createElement(KT,{projectId:n}),Rn.default.createElement(Jz,null,Rn.default.createElement(Np,{onMouseEnter:f=>d.open(f,f.target),onClick:l?void 0:u,disabled:l},l?"(Exported)":"Export ".concat(n," to JSON")))))},rD=nD}),ka,oD,aD,iD,lD,sD,uD,cD,dD,fD,pD,Pee=P(()=>{ka=$(X()),be(),zu(),aD=M.div(oD||(oD=F([`
  padding: 16px;
  display: flex;
  flex-direction: column;
  gap: 24px;
`]))),lD=M.div(iD||(iD=F([`
  display: flex;
  flex-direction: column;
  gap: 11px;
  color: rgba(255, 255, 255, 0.9);
`]))),uD=M.div(sD||(sD=F([`
  color: rgba(145, 145, 145, 0.8);
`]))),dD=M.a(cD||(cD=F([`
  color: #919191;
  font-size: 10px;
  text-decoration-color: #40434a;
  text-underline-offset: 3px;
`]))),fD=()=>ka.default.createElement(aD,null,ka.default.createElement(lD,null,ka.default.createElement(uD,null,ka.default.createElement(Xv,null)),ka.default.createElement("div",null,"Please select an object from the ",ka.default.createElement("u",null,"Outline Menu")," to see its properties.")),ka.default.createElement(dD,{href:"https://www.theatrejs.com/docs/latest/manual/objects",target:"_blank"},"Learn more about Objects")),pD=fD});function hD(){let[e,t]=(0,zb.useState)(!1),n=(0,zb.useMemo)(()=>{let o=new Set;return()=>{let i=()=>{o.delete(i),t(o.size>0)};return o.add(i),t(!0),i}},[]);return[e,n]}var zb,mD=P(()=>{zb=$(X())}),ft,os,gD,vD,Lp,yD,Db,bD,Ab,kD,Bb,gc,wD,xD,Zp,_i,Nb=P(()=>{ca(),Re(),ft=$(X()),be(),ni(),_o(),rt(),pee(),_ee(),Ne(),oj(),os=je(),Pee(),mD(),wi(),gD="32px",Lp=M.div(vD||(vD=F([`
  `,`;
  background-color: rgba(40, 43, 47, 0.8);
  position: fixed;
  right: 8px;
  top: 50px;
  // Temporary, see comment about CSS grid in SingleRowPropEditor.
  width: 280px;
  height: fit-content;
  z-index: `,`;

  box-shadow: 0 1px 1px rgba(0, 0, 0, 0.25), 0 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  border-radius: 2px;

  display: `,`;

  &:hover {
    display: block;
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,Ml.propsPanel,({pin:e})=>e?"block":"none"),Db=M.div(yD||(yD=F([`
  margin: 0 10px;
  color: #919191;
  font-weight: 500;
  font-size: 10px;
  user-select: none;
  `,`;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
`])),tt),Ab=M.div(bD||(bD=F([`
  height: `,`;
  display: flex;
  align-items: center;
`])),gD),Bb=M.div(kD||(kD=F([`
  `,`;
  max-height: calc(100vh - 100px);
  overflow-y: scroll;
  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
  padding: 0;
  user-select: none;

  /* Set the font-size for input values in the detail panel */
  font-size: 12px;
`])),tt),gc=(0,ft.createContext)([!1,()=>()=>{}]),wD=e=>{let t=Ye(de().atomP.ahistoric.pinDetails)!==!1,n=rj("right");(0,ft.useLayoutEffect)(()=>{Zp.set(n)},[n]),(0,ft.useEffect)(()=>()=>{_i.set(!1),Zp.set(!1)},[]);let[o]=(0,ft.useContext)(gc),i=t||n||o,[l,s]=(0,ft.useState)(null);return VO(l),Xe(()=>{let u=ua(),d=u.find(ur);if(d)return ft.default.createElement(Lp,{"data-testid":"DetailPanel-Object",pin:i,ref:s,onMouseEnter:()=>{_i.set(!0)},onMouseLeave:()=>{_i.set(!1)}},ft.default.createElement(Ab,null,ft.default.createElement(Db,{title:"".concat(d.sheet.address.sheetId,": ").concat(d.sheet.address.sheetInstanceId," > ").concat(d.address.objectKey)},ft.default.createElement(sa,null,d.sheet.address.sheetId," "),ft.default.createElement(Tu,null,":",""),ft.default.createElement(sa,null,d.sheet.address.sheetInstanceId," "),ft.default.createElement(Tu,null,""),ft.default.createElement(sa,null,d.address.objectKey))),ft.default.createElement(Bb,null,ft.default.createElement(vT,{objects:[d]})));let f=u.find(Ng);return f?ft.default.createElement(Lp,{pin:i},ft.default.createElement(Ab,null,ft.default.createElement(Db,{title:"".concat(f.address.projectId)},ft.default.createElement(sa,null,f.address.projectId," "))),ft.default.createElement(Bb,null,ft.default.createElement(rD,{projects:[f]}))):ft.default.createElement(Lp,{pin:i,onMouseEnter:()=>{_i.set(!0)},onMouseLeave:()=>{_i.set(!1)}},ft.default.createElement(pD,null))},[i])},xD=()=>{let e=hD();return ft.default.createElement(gc.Provider,{value:e},ft.default.createElement(wD,null))},Zp=new os.Atom(!1),_i=new os.Atom(!1),(0,os.prism)(()=>{let e=(0,os.val)(_i.prism),t=(0,os.val)(Zp.prism);return e||t})}),Fb,Gp,Xp,Rb,as,SD,Mb,is=P(()=>{Fb=je(),Re(),Ne(),mD(),Gp=$(X()),Hy(),Xp=(e,t)=>{let n=e.left/t.width,o=(e.left+e.width)/t.width,i=e.top/t.height,l=(e.height+e.top)/t.height;return{edges:{left:n<=.5?{from:"screenLeft",distance:n}:{from:"screenRight",distance:1-n},right:o<=.5?{from:"screenLeft",distance:o}:{from:"screenRight",distance:1-o},top:i<=.5?{from:"screenTop",distance:i}:{from:"screenBottom",distance:1-i},bottom:l<=.5?{from:"screenTop",distance:l}:{from:"screenBottom",distance:1-l}}}},Rb=Gp.default.createContext(null),as=()=>(0,Gp.useContext)(Rb),SD=({panelId:e,children:t,defaultPosition:n,minDims:o})=>{let i=hp(800,200),[l,s]=hD(),{stuff:u}=Xe(()=>{var d;let{edges:f}=(d=(0,Fb.val)(de().atomP.historic.panelPositions[e]))!=null?d:n,m=Math.floor(i.width*(f.left.from==="screenLeft"?f.left.distance:1-f.left.distance)),v=Math.floor(i.width*(f.right.from==="screenLeft"?f.right.distance:1-f.right.distance)),g=Math.floor(i.height*(f.top.from==="screenTop"?f.top.distance:1-f.top.distance)),h=Math.floor(i.height*(f.bottom.from==="screenTop"?f.bottom.distance:1-f.bottom.distance)),b=Math.max(v-m,o.width),y=Math.max(h-g,o.height);return{stuff:{dims:Fb.prism.memo("dims",()=>({width:b,left:m,top:g,height:y}),[b,m,g,y]),panelId:e,minDims:o,boundsHighlighted:l,addBoundsHighlightLock:s}}},[e,i,l,s]);return Gp.default.createElement(Rb.Provider,{value:u},t)},Mb=SD}),vc,ED,_D,PD,Ub,CD=P(()=>{nt(),Ne(),Dt(),vc=$(X()),be(),is(),Fn(),Ft(),_o(),_D=M.div(ED||(ED=F([`
  cursor: move;
`]))),PD=e=>{let t=as(),n=(0,vc.useRef)(t);n.current=t;let[o,i]=Qe(null),l=(0,vc.useMemo)(()=>({debugName:"PanelDragZone",lockCursorTo:"move",onDragStart(){let f=n.current,m,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=he(L({},f.dims),{top:kt(f.dims.top+h,0,window.innerHeight-Hr),left:kt(f.dims.left+g,-f.dims.width+Hr,window.innerWidth-Hr)}),y=Xp(b,{width:window.innerWidth,height:window.innerHeight});m==null||m.discard(),m=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:f.panelId})})},onDragEnd(g){v(),g?m==null||m.commit():m==null||m.discard()}}}}),[]),[s]=xt(i,l);Zn(s,"dragging","move");let[u,d]=(0,vc.useMemo)(()=>{let f;return[function(){if(f){let m=f;f=void 0,m()}f=t.addBoundsHighlightLock()},function(){if(f){let m=f;f=void 0,m()}}]},[]);return vc.default.createElement(_D,he(L({},e),{ref:o,onMouseEnter:u,onMouseLeave:d}))},Ub=PD}),Yp,ID,Vb,jD,Hb,OD,Kb,TD,zD,DD,AD,BD,Wb,ND,FD,RD,MD,UD,yc,VD,HD,KD,WD,qD,$D,LD,ZD,GD,qb,XD,Ao,Cee=P(()=>{nt(),Ne(),Dt(),Nn(),Yp=$(X()),be(),is(),rt(),Ft(),_o(),Vb=M.div(ID||(ID=F([`
  position: absolute;
  `,`;
  &:after {
    position: absolute;
    inset: -5px;
    display: block;
    content: ' ';
  }

  opacity: 0;
  background-color: #478698;

  &.isHighlighted {
    opacity: 0.7;
  }

  &.isDragging {
    opacity: 1;
    /* background-color: `,`; */
  }

  &:hover {
    opacity: 1;
  }
`])),tt,Tl(.2,"#478698")),Hb=M(Vb)(jD||(jD=F([`
  /**
  The horizintal/vertical resize handles have z-index:-1 and are offset 1px outside of the panel
  to make sure they don't occlude any element that pops out of the panel (like the Playhead in SequenceEditorPanel).

  This means that panels will always need an extra 1px margin for their resize handles to be visible, but that's not a problem
  that we have to deal with right now (if it is at all a problem).
  
   */
  z-index: -1;
`]))),Kb=M(Hb)(OD||(OD=F([`
  left: 0px;
  right: 0px;
  height: 1px;
`]))),zD=M(Kb)(TD||(TD=F([`
  top: -1px;
`]))),AD=M(Kb)(DD||(DD=F([`
  bottom: -1px;
`]))),Wb=M(Hb)(BD||(BD=F([`
  z-index: -1;
  top: -1px;
  bottom: -1px;
  width: 1px;
`]))),FD=M(Wb)(ND||(ND=F([`
  left: -1px;
`]))),MD=M(Wb)(RD||(RD=F([`
  right: -1px;
`]))),yc=M(Vb)(UD||(UD=F([`
  // The angles have z-index: 10 to make sure they _do_ occlude other elements in the panel.
  z-index: 10;
  width: 8px;
  height: 8px;
`]))),HD=M(yc)(VD||(VD=F([`
  top: 0;
  left: 0;
`]))),WD=M(yc)(KD||(KD=F([`
  top: 0;
  right: 0;
`]))),$D=M(yc)(qD||(qD=F([`
  bottom: 0;
  left: 0;
`]))),ZD=M(yc)(LD||(LD=F([`
  bottom: 0;
  right: 0;
`]))),GD={Top:zD,TopLeft:HD,TopRight:WD,Bottom:AD,BottomLeft:$D,BottomRight:ZD,Left:FD,Right:MD},qb={Top:"ns-resize",Bottom:"ns-resize",Left:"ew-resize",Right:"ew-resize",TopLeft:"nw-resize",TopRight:"ne-resize",BottomLeft:"sw-resize",BottomRight:"se-resize"},XD=({which:e})=>{let t=as(),n=(0,Yp.useRef)(t);n.current=t;let[o,i]=Qe(null),l=(0,Yp.useMemo)(()=>({debugName:"PanelResizeHandle",lockCursorTo:qb[e],onDragStart(){let f,m=n.current,v=t.addBoundsHighlightLock();return{onDrag(g,h){let b=L({},m.dims);if(e.startsWith("Bottom"))b.height=Math.max(b.height+h,m.minDims.height);else if(e.startsWith("Top")){let k=b.top+b.height,x=kt(b.top+h,0,Math.min(k-m.minDims.height,window.innerHeight-Hr)),S=k-x;b.height=S,b.top=x}if(e.endsWith("Left")){let k=b.left+b.width,x=Math.min(b.left+g,Math.min(k-m.minDims.width,window.innerWidth-Hr)),S=k-x;b.width=S,b.left=x}else e.endsWith("Right")&&(b.width=Math.max(b.width+g,Math.max(m.minDims.width,Hr-m.dims.left)));let y=Xp(b,{width:window.innerWidth,height:window.innerHeight});f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.studio.historic.panelPositions.setPanelPosition({position:y,panelId:m.panelId})})},onDragEnd(g){v(),g?f==null||f.commit():f==null||f.discard()}}}}),[e]),[s]=xt(i,l),u=GD[e],d=e.length<=6;return Yp.default.createElement(u,{ref:o,className:[s?"isDragging":"",t.boundsHighlighted&&d?"isHighlighted":""].join(" "),style:{cursor:qb[e]}})},Ao=XD}),Sr,YD,QD,Iee=P(()=>{Sr=$(X()),Cee(),YD=e=>Sr.default.createElement(Sr.default.Fragment,null,Sr.default.createElement(Ao,{which:"Bottom"}),Sr.default.createElement(Ao,{which:"Top"}),Sr.default.createElement(Ao,{which:"Left"}),Sr.default.createElement(Ao,{which:"Right"}),Sr.default.createElement(Ao,{which:"TopLeft"}),Sr.default.createElement(Ao,{which:"TopRight"}),Sr.default.createElement(Ao,{which:"BottomLeft"}),Sr.default.createElement(Ao,{which:"BottomRight"})),QD=YD}),Qp,JD,eA,tA,$b,nA=P(()=>{rt(),Qp=$(X()),be(),is(),Iee(),eA=M.div(JD||(JD=F([`
  position: absolute;
  user-select: none;
  box-sizing: border-box;
  `,`;
  /* box-shadow: 1px 2px 10px -5px black; */

  z-index: 1000;
`])),tt),tA=Qp.default.forwardRef((e,t)=>{let n=as(),o=e,{style:i,children:l}=o,s=Qs(o,["style","children"]);return Qp.default.createElement(eA,he(L({ref:t},s),{style:L({width:n.dims.width+"px",height:n.dims.height+"px",top:n.dims.top+"px",left:n.dims.left+"px"},i??{})}),Qp.default.createElement(QD,null),l)}),$b=tA}),jee=He((e,t)=>{(function(n,o){typeof e=="object"&&typeof t<"u"?o(e,X()):(n=typeof globalThis<"u"?globalThis:n||self,o(n.ReactErrorBoundary={},n.React))})(e,function(n,o){function i(h){if(h&&h.__esModule)return h;var b=Object.create(null);return h&&Object.keys(h).forEach(function(y){if(y!=="default"){var k=Object.getOwnPropertyDescriptor(h,y);Object.defineProperty(b,y,k.get?k:{enumerable:!0,get:function(){return h[y]}})}}),b.default=h,Object.freeze(b)}var l=i(o);function s(h,b){return s=Object.setPrototypeOf||function(y,k){return y.__proto__=k,y},s(h,b)}function u(h,b){h.prototype=Object.create(b.prototype),h.prototype.constructor=h,s(h,b)}var d=function(h,b){return h===void 0&&(h=[]),b===void 0&&(b=[]),h.length!==b.length||h.some(function(y,k){return!Object.is(y,b[k])})},f={error:null},m=function(h){u(b,h);function b(){for(var k,x=arguments.length,S=new Array(x),_=0;_<x;_++)S[_]=arguments[_];return k=h.call.apply(h,[this].concat(S))||this,k.state=f,k.updatedWithError=!1,k.resetErrorBoundary=function(){for(var O,j=arguments.length,z=new Array(j),V=0;V<j;V++)z[V]=arguments[V];k.props.onReset==null||(O=k.props).onReset.apply(O,z),k.reset()},k}b.getDerivedStateFromError=function(k){return{error:k}};var y=b.prototype;return y.reset=function(){this.updatedWithError=!1,this.setState(f)},y.componentDidCatch=function(k,x){var S,_;(S=(_=this.props).onError)==null||S.call(_,k,x)},y.componentDidMount=function(){var k=this.state.error;k!==null&&(this.updatedWithError=!0)},y.componentDidUpdate=function(k){var x=this.state.error,S=this.props.resetKeys;if(x!==null&&!this.updatedWithError){this.updatedWithError=!0;return}if(x!==null&&d(k.resetKeys,S)){var _,O;(_=(O=this.props).onResetKeysChange)==null||_.call(O,k.resetKeys,S),this.reset()}},y.render=function(){var k=this.state.error,x=this.props,S=x.fallbackRender,_=x.FallbackComponent,O=x.fallback;if(k!==null){var j={error:k,resetErrorBoundary:this.resetErrorBoundary};if(l.isValidElement(O))return O;if(typeof S=="function")return S(j);if(_)return l.createElement(_,j);throw new Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},b}(l.Component);function v(h,b){var y=function(x){return l.createElement(m,b,l.createElement(h,x))},k=h.displayName||h.name||"Unknown";return y.displayName="withErrorBoundary("+k+")",y}function g(h){var b=l.useState(null),y=b[0],k=b[1];if(h!=null)throw h;if(y!=null)throw y;return k}n.ErrorBoundary=m,n.useErrorHandler=g,n.withErrorBoundary=v,Object.defineProperty(n,"__esModule",{value:!0})})}),Zt,rA,oA,aA,iA,lA,sA,uA,cA,dA,fA,pA,hA,mA,gA,vA,yA,bA,kA,wA,Oee=P(()=>{Zt=$(X()),be(),_o(),is(),CD(),nA(),rA=$(jee()),Ll(),Ne(),_o(),oA={edges:{left:{from:"screenLeft",distance:.3},right:{from:"screenRight",distance:.3},top:{from:"screenTop",distance:.3},bottom:{from:"screenBottom",distance:.3}}},aA={width:300,height:300},iA=({paneInstance:e})=>Zt.default.createElement(Mb,{panelId:"pane-".concat(e.instanceId),defaultPosition:oA,minDims:aA},Zt.default.createElement(kA,{paneInstance:e})),sA=M($b)(lA||(lA=F([`
  display: flex;
  flex-direction: column;

  box-shadow: 0px 5px 12px -4px rgb(0 0 0 / 22%);
  z-index: `,`;
`])),Ml.pluginPanes),cA=M.div(uA||(uA=F([`
  width: 100%;
`]))),fA=M.div(dA||(dA=F([`
  display: flex;
  align-items: center;
  opacity: 1;
  position: absolute;
  right: 4px;
  top: 0;
  bottom: 0;
`]))),hA=M.button(pA||(pA=F([`
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 2px;
  font-size: 11px;
  height: 10px;
  width: 18px;
  color: #adadadb3;
  background: transparent;
  border: none;
  cursor: pointer;
  &:hover {
    color: white;
  }
`]))),gA=M(n3)(mA||(mA=F([`
  position: relative;
  overflow: hidden;

  &:after {
    z-index: 10;
    position: absolute;
    inset: 0;
    display: block;
    content: ' ';
    pointer-events: none;

    #pointer-root:not(.normal) & {
      pointer-events: auto;
    }
  }
`]))),yA=M.div(vA||(vA=F([`
  padding: 12px;

  & > pre {
    border: 1px solid #ff62624f;
    background-color: rgb(255 0 0 / 5%);
    margin: 8px 0;
    padding: 8px;
    font-family: monospace;
    overflow: scroll;
    color: #ff9896;
  }
`]))),bA=e=>Zt.default.createElement(yA,null,"An Error occurred rendering this pane. Open the console for more info.",Zt.default.createElement("pre",null,JSON.stringify({message:e.error.message,stack:e.error.stack},null,2))),kA=({paneInstance:e})=>{let[t,n]=(0,Zt.useState)(null),o=e.definition.mount;(0,Zt.useLayoutEffect)(()=>{if(!t)return;let l=o({paneId:e.instanceId,node:t});if(typeof l=="function")return l},[t,o,e.instanceId]);let i=(0,Zt.useCallback)(()=>{de().paneManager.destroyPane(e.instanceId)},[e]);return Zt.default.createElement(sA,{"data-testid":"theatre-pane-wrapper-".concat(e.instanceId)},Zt.default.createElement(Ub,null,Zt.default.createElement(Zv,null,Zt.default.createElement(fA,null,Zt.default.createElement(hA,{onClick:i,title:"Close Pane"},Zt.default.createElement(DQ,null))),Zt.default.createElement(cA,null,e.instanceId))),Zt.default.createElement(rA.ErrorBoundary,{FallbackComponent:bA},Zt.default.createElement(gA,{"data-testid":"theatre-pane-content-".concat(e.instanceId),ref:n})))},wA=iA}),Lb,Zb,xA=P(()=>{Lb=je(),Zb=(e,t)=>{let n=Lb.prism.memo(e,()=>new Lb.Atom(t),[]);return n.set(t),n}});function SA(e,t){(0,EA.useLayoutEffect)(()=>{if(!e||t.type!=="propWithChildren"&&t.type!=="primitiveProp"&&t.type!=="sheetObject")return;let n=null,o=he(L({},t.sheetObject.address),{pathToProp:t.type==="sheetObject"?[]:t.pathToProp});function i(){n=Tp.replaceLock(o,()=>{})}function l(){n==null||n()}return e.addEventListener("mouseenter",i),e.addEventListener("mouseleave",l),()=>{n==null||n(),e.removeEventListener("mouseenter",i),e.removeEventListener("mouseleave",l)}},[e])}var EA,_A=P(()=>{EA=$(X()),fb()}),wa,PA,Gb,CA,Xb,IA,Yb,jA,OA,TA,zA,DA,AA,BA,Jp,eh=P(()=>{rt(),wa=$(X()),Ll(),be(),bi(),_A(),Gb=M.li(PA||(PA=F([`
  --depth: `,`;
  margin: 0;
  padding: 0;
  list-style: none;
`])),e=>e.depth),Xb=M.div(CA||(CA=F([`
  border-bottom: 1px solid #7695b705;
`]))),Yb=M(Xb)(IA||(IA=F([`
  padding-left: calc(8px + var(--depth) * 20px);

  display: flex;
  align-items: stretch;
  color: `,`;

  box-sizing: border-box;

  `,`;
`])),Rl.panel.body.compoudThing.label.color,e=>e.isSelected&&"background: blue"),OA=M.span(jA||(jA=F([`
  `,`;
  overflow-x: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  padding-right: 4px;
  line-height: 26px;
  flex-wrap: nowrap;

  `,`:hover & {
    color: #ccc;
  }
`])),ma,Yb),zA=M.span(TA||(TA=F([`
  width: 12px;
  padding: 8px;
  font-size: 9px;
  display: flex;
  align-items: center;

  transition: transform 0.05s ease-out, color 0.1s ease-out;
  transform: rotateZ(`,`deg);
  color: #66686a;

  &:hover {
    transform: rotateZ(`,`deg);
    color: #c0c4c9;
  }
`])),e=>e.isCollapsed?0:90,e=>e.isCollapsed?15:75),AA=M.ul(DA||(DA=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),BA=({leaf:e,label:t,children:n,isSelectable:o,isSelected:i,toggleSelect:l,toggleCollapsed:s,isCollapsed:u})=>{let d=Array.isArray(n)&&n.length>0,f=(0,wa.useRef)(null);return SA(f.current,e),e.shouldRender?wa.default.createElement(Gb,{depth:e.depth},wa.default.createElement(Yb,{ref:f,style:{height:e.nodeHeight+"px"},isSelectable:o===!0,isSelected:i===!0,onClick:l,isEven:e.n%2===0},wa.default.createElement(zA,{isCollapsed:u,onClick:s},wa.default.createElement(Gj,null)),wa.default.createElement(OA,null,t)),d&&wa.default.createElement(AA,null,n)):null},Jp=BA});function Tee(e,t){return t.every((n,o)=>n===e[o])}function zee(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function th(e){var t;let n=[];for(;;){let o=n.length,i=(t=e[0])==null?void 0:t[o];if(i===void 0)return n;for(let l of e)if(i!==l[o])return n;n.push(i)}}var Jr,nh,eo=P(()=>{vp(),Jr=qu(e=>JSON.stringify(e)),nh=e=>JSON.parse(e)});function Dee(e,t){let n=(0,Qb.useRef)({combo:e,listener:t});n.current={combo:e,listener:t},(0,Qb.useEffect)(()=>{function o(s){s.key===n.current.combo&&n.current.listener({down:!0,event:s})}function i(s){s.key===n.current.combo&&n.current.listener({down:!1,event:s})}function l(s){n.current.listener({down:!1,event:void 0})}return document.addEventListener("keydown",o),document.addEventListener("keyup",i),window.addEventListener("blur",l),()=>{document.removeEventListener("keydown",o),document.removeEventListener("keyup",i),window.removeEventListener("blur",l)}},[])}var Qb,Aee=P(()=>{Qb=$(X())});function NA(e){let[t,n]=(0,FA.useState)(!1);return Dee(e,({down:o})=>{n(o)}),t}var FA,RA=P(()=>{FA=$(X()),Aee()});function Bee(e){let t=(0,Jb.useMemo)(()=>new MA.Atom(e),[]);return(0,Jb.useLayoutEffect)(()=>{t.set(e)},[e]),t}var MA,Jb,Nee=P(()=>{MA=je(),Jb=$(X())});function UA(e,t,n){let o=(0,e1.pointer)({root:{},path:[]}),i=t(o);Cl(e,(0,e1.getPointerParts)(i).path,n)}var e1,Fee=P(()=>{e1=je(),J0()}),rh,VA,vn,Er=P(()=>{rh="data-pos",VA={checkIfMouseEventSnapToPos(e,t){let n=e.composedPath().find(o=>o instanceof Element&&o!==(t==null?void 0:t.ignore)&&o.hasAttribute(rh));if(n){let o=parseFloat(n.getAttribute(rh));if(isFinite(o))return o}return null},includePositionSnapAttrs(e){return{[rh]:e}}},vn=VA});function oh(e){let t=e.type==="sheet"?Mee(e):t1(e);return{byPosition:Ree(t),tracks:t}}function Ree(e){let t=new Map;for(let n of e)for(let o of n.data.keyframes){let i=t.get(o.position);i||(i=[],t.set(o.position,i)),i.push({kf:o,track:n,itemKey:Rt.forTrackKeyframe(n.sheetObject,n.id,o.id)})}return t}function Mee(e){return e.children.flatMap(t1)}function t1(e){return e.children.flatMap(t=>t.type==="propWithChildren"?t1(t):Uee(t))}function Uee(e){let t=e.sheetObject,n=t.address.projectId,o=de().atomP.historic.coreByProject[n].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey],i=(0,ah.val)(o.trackIdByPropPath[Jr(e.pathToProp)]);if(!i)return[];let l=(0,ah.val)(o.trackData[i]);return l?[{id:i,data:l,sheetObject:t}]:[]}function Vee(e,t){return ia(e.children.flatMap(n=>n1(n,t)))}function n1(e,t){return ia(e.children.flatMap(n=>n.type==="propWithChildren"?n1(n,t):Hee(n,t)))}function Hee(e,t){var n,o;let i=e.sheetObject,l=i.address.projectId,s=de().atomP.historic.coreByProject[l].sheetsById[i.address.sheetId].sequence.tracksByObject[i.address.objectKey],u=(0,ah.val)(s.trackIdByPropPath[Jr(e.pathToProp)]);return u?(o=(n=t[i.address.objectKey])==null?void 0:n[u])!=null?o:[]:[]}var ah,ls=P(()=>{Ne(),ah=je(),zo(),eo(),Ft()});function Kee(e,t){let[n,o]=Qe(null),i=da("useCaptureSelection");return xt(t,(0,ss.useMemo)(()=>({debugName:"DopeSheetSelectionView/useCaptureSelection",dontBlockMouseDown:!0,lockCSSCursorTo:"cell",onDragStart(l){if(!l.shiftKey||l.target instanceof HTMLInputElement)return!1;let s=t.getBoundingClientRect(),u=l.clientX-s.left-(0,Xn.val)(e.scaledSpace.leftPadding),d=(0,Xn.val)(e.scaledSpace.toUnitSpace)(u);return n.current={h:[d,d],v:[l.clientY-s.top,l.clientY-s.top]},(0,Xn.val)(e.selectionAtom).set({current:void 0}),{onDrag(f,m,v){let g=t.getBoundingClientRect(),h=v.clientX-g.left-(0,Xn.val)(e.scaledSpace.leftPadding),b=(0,Xn.val)(e.scaledSpace.toUnitSpace)(h);n.current={h:[n.current.h[0],b],v:[n.current.v[0],v.clientY-g.top]};let y=r1.boundsToSelection(i,(0,Xn.val)(e),n.current);(0,Xn.val)(e.selectionAtom).set({current:y})},onDragEnd(f){n.current=null}}}}),[e,t,n])),o}var Xn,ss,xa,HA,KA,WA,r1,qA,$A,o1,LA,ZA,Wee=P(()=>{Ne(),Dt(),RA(),Nee(),Fee(),nt(),Re(),Xn=je(),ss=$(X()),be(),Er(),ls(),fa(),xa=5,KA=M.div(HA||(HA=F([`
  cursor: `,`;
`])),e=>e.isShiftDown?"cell":"default"),WA=({layoutP:e,children:t,height:n})=>{let[o,i]=Qe(null),l=NA("Shift"),s=Kee(e,i),u=(0,ss.useRef)(s);return u.current=s,ss.default.createElement(KA,{style:{height:n+"px"},ref:o,isShiftDown:l,className:"selectionview"},s&&ss.default.createElement(LA,{state:s,layoutP:e}),t)},(e=>{let t=(s,u,d,f,m)=>{let v=oh(d);if(d.top+d.nodeHeight/2+xa>f.v[0]&&d.top+d.nodeHeight/2-xa<f.v[1])for(let[g,h]of v.byPosition){let b=u.scaledSpace.toUnitSpace(xa);if(!(g+b<=f.h[0]||g-b>=f.h[1]))for(let y of h)UA(m,k=>k[y.track.sheetObject.address.objectKey].byTrackId[y.track.id].byKeyframeId[y.kf.id],!0)}o(s,u,d,f,m)},n={sheet(s,u,d,f,m){t(s,u,d,f,m)},propWithChildren(s,u,d,f,m){t(s,u,d,f,m)},sheetObject(s,u,d,f,m){t(s,u,d,f,m)},primitiveProp(s,u,d,f,m){let{sheetObject:v,trackId:g}=d,h=(0,Xn.val)(de().atomP.historic.coreByProject[v.address.projectId].sheetsById[v.address.sheetId].sequence.tracksByObject[v.address.objectKey].trackData[g]);if(!(f.v[0]>d.top+d.heightIncludingChildren/2+xa||d.top+d.heightIncludingChildren/2-xa>f.v[1])){for(let b of h.keyframes)if(!(b.position+u.scaledSpace.toUnitSpace(xa)<=f.h[0])){if(b.position-u.scaledSpace.toUnitSpace(xa)>=f.h[1])break;UA(m,y=>y[v.address.objectKey].byTrackId[g].byKeyframeId[b.id],!0)}}}},o=(s,u,d,f,m)=>{if("children"in d)for(let v of d.children)i(s,u,v,f,m)};function i(s,u,d,f,m){if(!d.shouldRender||f.v[0]>d.top+d.heightIncludingChildren||d.top>f.v[1])return;let v=n[d.type];v?v(s,u,d,f,m):o(s,u,d,f,m)}function l(s,u,d){let f={};d=o1(d);let m=u.tree;i(s.utilFor.internal(),u,m,d,f);let v=u.tree.sheet;return{type:"DopeSheetSelection",byObjectKey:f,getDragHandlers(g){return{debugName:"DopeSheetSelectionView/boundsToSelection",onDragStart(){let h,b=u.scaledSpace.toUnitSpace;return{onDrag(y,k,x){h&&(h.discard(),h=void 0);let S=vn.checkIfMouseEventSnapToPos(x,{ignore:g.domNode}),_=S!=null?S-g.positionAtStartOfDrag:b(y);h=de().tempTransaction(({stateEditors:O})=>{let j=O.coreByProject.historic.sheetsById.sequence.transformKeyframes;for(let z of Object.keys(f)){let{byTrackId:V}=f[z];for(let W of Object.keys(V)){let{byKeyframeId:B}=V[W];j({trackId:W,keyframeIds:Object.keys(B),translate:_,scale:1,origin:0,snappingFunction:v.getSequence().closestGridPosition,objectKey:z,projectId:g.projectId,sheetId:g.sheetId})}}})},onDragEnd(y){y?h==null||h.commit():h==null||h.discard()}}}}},delete(){de().transaction(({stateEditors:g})=>{let h=g.coreByProject.historic.sheetsById.sequence.deleteKeyframes;for(let b of Object.keys(f)){let{byTrackId:y}=f[b];for(let k of Object.keys(y)){let{byKeyframeId:x}=y[k];h(he(L({},v.address),{objectKey:b,trackId:k,keyframeIds:Object.keys(x)}))}}})}}}e.boundsToSelection=l})(r1||(r1={})),$A=M.div(qA||(qA=F([`
  position: absolute;
  background: rgba(255, 255, 255, 0.1);
  border: 1px dashed rgba(255, 255, 255, 0.4);
  box-sizing: border-box;
`]))),o1=e=>({h:[...e.h].sort((t,n)=>t-n),v:[...e.v].sort((t,n)=>t-n)}),LA=({state:e,layoutP:t})=>{let n=Bee(e);return Xe(()=>{let o=(0,Xn.val)(n.pointer),i=o1(o),l=(0,Xn.val)(t.scaledSpace.fromUnitSpace),s=(0,Xn.val)(t.scaledSpace.leftPadding),u=i.h.map(l).map(g=>g+s),d=i.v[0],f=i.v[1]-i.v[0],m=u[0],v=u[1]-u[0];return ss.default.createElement($A,{style:{top:d+"px",height:f+"px",left:m+"px",width:v+"px"}})},[t,n])},ZA=WA}),Pi,GA,XA,a1,YA,QA,JA,eB=P(()=>{Ul(),Pi=$(X()),be(),Ho(),XA=M.div(GA||(GA=F([`
  position: absolute;
  top: 0;
  right: 0;
  left: 0;
  bottom: 0;
  overflow-x: hidden;
  overflow-y: scroll;
  z-index: `,`;

  &::-webkit-scrollbar {
    display: none;
  }

  scrollbar-width: none;
`])),()=>co.scrollableArea),a1=(0,Pi.createContext)(vr),YA=()=>(0,Pi.useContext)(a1),QA=e=>{let t=(0,Pi.useRef)(null),n=(0,Pi.useCallback)(o=>{t.current.scrollBy(0,o.deltaY)},[]);return Pi.default.createElement(a1.Provider,{value:n},Pi.default.createElement(XA,{ref:t},e.children))},JA=QA}),tB,qee=P(()=>{tB='data:image/svg+xml,<svg width="34" height="34" viewBox="0 0 34 34" fill="none" xmlns="http://www.w3.org/2000/svg">%0A  <path d="M1 7V1H7" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M7 33H1L1 27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M33 27V33H27" stroke="%2374FFDE" stroke-width="0.25" />%0A  <path d="M27 1L33 1V7" stroke="%2374FFDE" stroke-width="0.25" />%0A</svg>'}),Yn,ih=P(()=>{Yn=(e,t=e)=>`
  left: `.concat(e*-.5,`px;
  top: `).concat(t*-.5,`px;
  width: `).concat(e,`px;
  height: `).concat(t,`px;
`)}),lh,nB,rB,$ee=P(()=>{lh=je(),nB=(0,lh.prism)(()=>{let[e,t]=lh.prism.state("pos",null);return lh.prism.effect("setupListeners",()=>{let n=o=>{t(o)};return document.addEventListener("mousemove",n),()=>{document.removeEventListener("mousemove",n)}},[]),e}),rB=nB}),Bo,yn,bc,oB,aB,iB,lB,No,to,sh,sB,uB,Gt=P(()=>{Bo=je(),$ee(),Ft(),yn=$(X()),bc=(0,yn.createContext)(null),oB=0,aB=({children:e,layoutP:t})=>{let n=(0,yn.useMemo)(()=>new Bo.Atom([]),[]),o=(0,yn.useMemo)(()=>(0,Bo.prism)(()=>{let s=Bo.prism.memo("p",()=>sB(t),[t]).getValue(),u=(0,Bo.val)(n.pointer);return u.length>0?si(u).position:s}),[t]),i=(0,yn.useCallback)(()=>{let s=oB++;return n.reduce(u=>[...u,{id:s,position:[-1,0]}]),{set:u=>{n.reduce(d=>{let f=d.findIndex(v=>v.id===s);if(f===-1)return console.warn("Lock is already freed. This is a bug."),d;let m=[...d];return m.splice(f,1,{id:s,position:[u,u===-1?0:1]}),m})},unlock:()=>{n.reduce(u=>u.filter(d=>d.id!==s))}}},[]),l={currentD:o,getLock:i};return yn.default.createElement(bc.Provider,{value:l},e)},iB=()=>(0,yn.useContext)(bc).currentD,lB=()=>{let{getLock:e}=(0,yn.useContext)(bc),t=(0,yn.useRef)();return(0,yn.useLayoutEffect)(()=>()=>{var n;(n=t.current)==null||n.unlock()},[]),(0,yn.useMemo)(()=>{let n;return(o,i)=>{var l,s;(n==null?void 0:n.shouldLock)!==o&&(o?t.current=e():(l=t.current)==null||l.unlock()),(n==null?void 0:n.pos)!==i&&o&&((s=t.current)==null||s.set(i)),n={shouldLock:o,pos:i}}},[e])},No=(e,t)=>{let{getLock:n}=(0,yn.useContext)(bc),o=(0,yn.useRef)();(0,yn.useLayoutEffect)(()=>{if(e)return o.current=n(),()=>{o.current.unlock()}},[e,n]),(0,yn.useLayoutEffect)(()=>{e&&o.current.set(t)},[t,e])},to=e=>({[sh]:e==="hide"?e:e.toFixed(3)}),sh="data-theatre-lock-framestamp-to",sB=e=>(0,Bo.prism)(()=>{let t=(0,Bo.val)(e.rightDims),n=(0,Bo.val)(e.clippedSpace.toUnitSpace),o=(0,Bo.val)(rB);if(!o)return[-1,0];for(let m of o.composedPath()){if(!(m instanceof HTMLElement||m instanceof SVGElement))break;if(m.hasAttribute(sh)){let v=m.getAttribute(sh);if(typeof v!="string")continue;if(v==="hide")return[-1,0];let g=parseFloat(v);if(isFinite(g)&&g>=0)return[g,2]}}let{clientX:i,clientY:l}=o,{screenX:s,screenY:u,width:d,height:f}=t;if(X0(i,s,s+d)&&X0(l,u+16,u+f)){let m=i-s;return[n(m),3]}else return[-1,0]}),uB=aB}),cB,kc,i1,dB,fB,no,pB=P(()=>{rt(),Fn(),be(),qee(),ih(),Er(),Gt(),cB=12,kc=34,i1="beingDragged",no={BEING_DRAGGED_CLASS:i1,CSS:Bn(dB||(dB=F([`
    position: absolute;
    `,`;
    `,`;

    &.`,` {
      pointer-events: none !important;
    }
  `])),Yn(cB),tt,i1),CSS_WHEN_SOMETHING_DRAGGING:Bn(fB||(fB=F([`
    pointer-events: auto;
    cursor: var(`,`);

    //  thing
    // This box extends the hitzone so the user does not
    // accidentally leave the hitzone
    &:hover:after {
      position: absolute;
      top: calc(50% - `,`px);
      left: calc(50% - `,`px);
      width: `,`px;
      height: `,`px;
      display: block;
      content: ' ';
      background: url(`,`) no-repeat 100% 100%;
      // This icon might also fit: GiConvergenceTarget
    }
  `])),Co,kc/2,kc/2,kc,kc,tB),reactProps(e){return he(L(L({},to(e.position)),vn.includePositionSnapAttrs(e.position)),{className:e.isDragging?no.BEING_DRAGGED_CLASS:""})}}});function l1(){xc.set({mode:"snapToAll"})}function Ci(){xc.set({mode:"snapToNone"})}function hB(e){xc.set({mode:"snapToSome",positions:e})}function mB(e,t){return Object.fromEntries(Object.entries(e).map(([n,o])=>[n,Object.fromEntries(Object.entries(o.trackData).map(([i,l])=>[i,l.keyframes.filter(s=>t(s,{trackId:i,trackData:l,objectKey:n})).map(s=>s.position)]))]))}var gB,vB,s1,yB,bB,kB,wB,xB,wc,xc,u1,Ii=P(()=>{gB=je(),vB=je(),s1=$(X()),be(),pB(),bB=M.div(yB||(yB=F([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  #pointer-root.draggingPositionInSequenceEditor & {
    `,`
  }
`])),no.CSS,no.CSS_WHEN_SOMETHING_DRAGGING),wB=M.div(kB||(kB=F([`
  position: absolute;
`]))),xB=e=>s1.default.createElement(wB,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,vB.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(e.position,"px))")}},s1.default.createElement(bB,L({},no.reactProps({isDragging:!1,position:e.position})))),wc=xB,xc=new gB.Atom({mode:"snapToNone"}),u1=xc.prism});function Lee(e,t){let n=(0,ji.useMemo)(()=>({debugName:"HorizontallyScrollableArea",onDragStart(i){if(i.target instanceof HTMLInputElement||i.shiftKey||i.altKey||i.ctrlKey||i.metaKey||i.composedPath().some(v=>v instanceof HTMLElement&&v.draggable===!0))return!1;let l=i.clientX-t.getBoundingClientRect().left,s=kt((0,St.val)(e.clippedSpace.toUnitSpace)(l),0,1/0),u=(0,St.val)(e.seeker.setIsSeeking),d=(0,St.val)(e.sheet).getSequence();d.position=s;let f=s,m=(0,St.val)(e.scaledSpace.toUnitSpace);return u(!0),l1(),{onDrag(v,g,h){let b=m(v),y=kt(f+b,0,d.length),k=vn.checkIfMouseEventSnapToPos(h,{});k!=null&&(y=k),d.position=y},onDragEnd(){u(!1),Ci()}}}}),[e,t]),[o]=xt(t,n);Zn(o,"draggingPositionInSequenceEditor","ew-resize")}function Zee(e,t){let n=YA();(0,ji.useLayoutEffect)(()=>{if(!t)return;let o=l=>{if(l.ctrlKey){l.preventDefault(),l.stopPropagation();let s=l.clientX-t.getBoundingClientRect().left,u=(0,St.val)(e.clippedSpace.toUnitSpace)(s),d=(0,St.val)(e.clippedSpace.range),f=1+c1(l.deltaY,[-50,50])*.03,m=ui(d,h=>(h-u)*f+u),v=(0,St.val)(e.sheet).getSequence().length,g=v+v*.25;(0,St.val)(e.clippedSpace.setRange)(Gee(m,[0,g]));return}else if(l.shiftKey){l.preventDefault(),l.stopPropagation();let s=(0,St.val)(e.sheet).getSequence().length,u=(0,St.val)(e.clippedSpace.range),d=(u.end-u.start)/s,f=c1(l.deltaY||l.deltaX,[-50,50])*.05*d,m=ui(u,v=>v+f);(0,St.val)(e.clippedSpace.setRange)(m);return}else{n(l),l.preventDefault(),l.stopPropagation();let s=(0,St.val)(e.scaledSpace.toUnitSpace)(l.deltaX*1),u=(0,St.val)(e.clippedSpace.range),d=ui(u,f=>f+s);(0,St.val)(e.clippedSpace.setRange)(d);return}},i={capture:!0,passive:!1};return t.addEventListener("wheel",o,i),()=>{t.removeEventListener("wheel",o,i)}},[t,e]),xt(t,(0,ji.useMemo)(()=>({onDragStart(o){let i=(0,St.val)(e.clippedSpace.range),l=(0,St.val)(e.clippedSpace.setRange),s=(0,St.val)(e.scaledSpace.toUnitSpace);return o.preventDefault(),o.stopPropagation(),{onDrag(u,d,f,m,v){n({deltaY:-v});let g=-s(u),h=ui(i,b=>b+g);l(h)}}},debugName:"HorizontallyScrollableArea Middle Button Drag",buttons:[1],lockCSSCursorTo:"grabbing"}),[e]))}function c1(e,[t,n]){return Math.max(Math.min(e,n),t)}function Gee(e,t){return ui(e,n=>c1(n,t))}function Xee(e,t){(0,ji.useLayoutEffect)(()=>{if(!t)return;let n=(0,St.prism)(()=>{let s=(0,St.val)(e.clippedSpace.range);return(0,St.val)(e.scaledSpace.fromUnitSpace)(s.start)}),o=()=>{let s=n.getValue();t.scrollLeft=s},i=n.onStale(o);o();let l=setTimeout(o,100);return()=>{clearTimeout(l),i()}},[e,t])}var St,ji,SB,EB,_B,d1,PB=P(()=>{Dt(),nt(),Re(),St=je(),Ft(),ji=$(X()),be(),eB(),rt(),Fn(),Er(),Ii(),EB=M.div(SB||(SB=F([`
  position: absolute;

  right: 0;
  overflow-x: scroll;
  overflow-y: hidden;
  `,`;

  // hide the scrollbar on Gecko
  scrollbar-width: none;

  // hide the scrollbar on Webkit/Blink
  &::-webkit-scrollbar {
    display: none;
  }
`])),tt),_B=ji.default.memo(({layoutP:e,children:t,height:n})=>{let{width:o,unitSpaceToScaledSpaceMultiplier:i}=Xe(()=>({width:(0,St.val)(e.rightDims.width),unitSpaceToScaledSpaceMultiplier:(0,St.val)(e.scaledSpace.fromUnitSpace)(1)}),[e]),[l,s]=Qe(null);return Zee(e,s),Lee(e,s),Xee(e,s),ji.default.createElement(EB,{ref:l,style:{width:o+"px",height:n+"px","--unitSpaceToScaledSpaceMultiplier":i}},t)}),d1=_B}),uh,CB,IB,jB,OB,TB,zB,DB,us,ch=P(()=>{uh=$(X()),be(),IB=M.li(CB||(CB=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  box-sizing: border-box;
  position: relative;
`]))),OB=M.div(jB||(jB=F([`
  box-sizing: border-box;
  width: 100%;
  position: relative;

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -40px;
    top: 0;
    bottom: 0;
    right: 0;
    box-sizing: border-box;
    border-bottom: 1px solid #252b3869;
    background: `,`;
  }
`])),e=>e.isEven?"transparent":"#6b8fb505"),zB=M.ul(TB||(TB=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),DB=({leaf:e,children:t,node:n,isCollapsed:o})=>{let i=Array.isArray(t)&&t.length>0;return e.shouldRender?uh.default.createElement(IB,null,uh.default.createElement(OB,{style:{height:e.nodeHeight+"px"},isEven:e.n%2===0},n),i&&uh.default.createElement(zB,null,t)):null},us=DB}),Yee=He((e,t)=>{(function(){var n=this,o={};typeof e<"u"?t.exports=o:n.fuzzy=o,o.simpleFilter=function(i,l){return l.filter(function(s){return o.test(i,s)})},o.test=function(i,l){return o.match(i,l)!==null},o.match=function(i,l,s){s=s||{};var u=0,d=[],f=l.length,m=0,v=0,g=s.pre||"",h=s.post||"",b=s.caseSensitive&&l||l.toLowerCase(),y;i=s.caseSensitive&&i||i.toLowerCase();for(var k=0;k<f;k++)y=l[k],b[k]===i[u]?(y=g+y+h,u+=1,v+=1+v):v=0,m+=v,d[d.length]=y;return u===i.length?(m=b===i?1/0:m,{rendered:d.join(""),score:m}):null},o.filter=function(i,l,s){return!l||l.length===0?[]:typeof i!="string"?l:(s=s||{},l.reduce(function(u,d,f,m){var v=d;s.extract&&(v=s.extract(d));var g=o.match(i,v,s);return g!=null&&(u[u.length]={string:g.rendered,score:g.score,index:f,original:d}),u},[]).sort(function(u,d){var f=d.score-u.score;return f||u.index-d.index}))}})()});function Qee(e,t){let[n,o]=(0,dh.useState)(!1),i=(0,dh.useRef)(t);return n||(i.current=t),(0,dh.useMemo)(()=>e(o),i.current)}var dh,Jee=P(()=>{dh=$(X())}),f1,Sa,fh=P(()=>{f1="rgba(26, 28, 30, 0.97);",Sa="#272B2F"});function AB(e,t,n,o){let i=Qee(l=>({debugName:"CurveSegmentEditor/useKeyframeDrag",lockCSSCursorTo:"move",onDragStart(){return l(!0),{onDrag(s,u){e&&n.onCurveChange(o(s,u))},onDragEnd(s){l(!1),n.onCancelCurveChange()}}}}),[e,n.onCurveChange,n.onCancelCurveChange]);xt(t,i)}var Je,ph,Sc,cs,BB,Ec,NB,hh,FB,RB,MB,ds,UB,Oi,VB,HB,p1,KB,mh,WB,h1,qB,$B,ete=P(()=>{Je=$(X()),Dt(),nt(),uf(),be(),rt(),Jee(),fh(),ph=.12,Sc=1+ph*2,cs=.01,BB=8,Ec=(1-cs)/(BB-1),NB="#3EAAA4",hh="#3EAAA4",FB="#3EAAA4",RB="#3EAAA4",MB="#3EAAA4",ds="#3EAAA4",UB="#3EAAA4",Oi="#B3B3B3",VB="#3eaaa4",HB="#67dfd8",p1=["goldenrod","cornflowerblue","dodgerblue","lawngreen"],mh=M.circle(KB||(KB=F([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.04px;
  pointer-events: none;
  transition: r 0.15s;
  fill: `,`;
`])),VB),h1=M.circle(WB||(WB=F([`
  stroke-width: 0.1px;
  vector-effect: non-scaling-stroke;
  r: 0.09px;
  cursor: move;
  `,`;
  &:hover {
    opacity: 0.4;
  }
  &:hover + `,` {
    fill: `,`;
  }
`])),tt,mh,HB),qB=e=>{let{curveConnection:{left:t,right:n},backgroundConnections:o}=e,i=Math.min(0,1-n.handles[1],1-t.handles[3]),l=Math.max(1,1-n.handles[1],1-t.handles[3]),s=Math.max(1,l-i),u=x=>(x-i)/s,[d,f]=Qe(null),m=Sc/((f==null?void 0:f.clientWidth)||1),v=Sc/((f==null?void 0:f.clientHeight)||1),[g,h]=Qe(null);AB(f,h,e,(x,S)=>{let _=kt(t.handles[2]+x*m,0,1),O=t.handles[3]-S*v;return[_,O,n.handles[0],n.handles[1]]});let[b,y]=Qe(null);AB(f,y,e,(x,S)=>{let _=kt(n.handles[0]+x*m,0,1),O=n.handles[1]-S*v;return[t.handles[2],t.handles[3],_,O]});let k=x=>"M0 ".concat(u(1)," C").concat(x.left.handles[2]," ").concat(u(1-x.left.handles[3])," ").concat(x.right.handles[0]," ").concat(u(1-x.right.handles[1])," 1 ").concat(u(0));return Je.default.createElement("svg",{height:"100%",width:"100%",ref:d,viewBox:"".concat(-ph," ").concat(-ph," ").concat(Sc," ").concat(Sc),xmlns:"http://www.w3.org/2000/svg",preserveAspectRatio:"none",fill:"none"},Je.default.createElement("linearGradient",{id:"myGradient",gradientTransform:"rotate(90)"},Je.default.createElement("stop",{offset:u(-1),stopColor:UB}),Je.default.createElement("stop",{offset:u(0),stopColor:ds}),Je.default.createElement("stop",{offset:u(.3),stopColor:MB}),Je.default.createElement("stop",{offset:u(.5),stopColor:RB}),Je.default.createElement("stop",{offset:u(.7),stopColor:FB}),Je.default.createElement("stop",{offset:u(1),stopColor:hh}),Je.default.createElement("stop",{offset:u(2),stopColor:NB})),Je.default.createElement("pattern",{id:"dot-background-pattern-1",width:Ec,height:Ec/s,y:-i/s},Je.default.createElement("rect",{width:cs,height:cs,fill:Oi,opacity:.3})),Je.default.createElement("rect",{x:0,y:0,width:"1",height:1,fill:"url(#dot-background-pattern-1)"}),Je.default.createElement("pattern",{id:"dot-background-pattern-2",width:Ec,height:Ec},Je.default.createElement("rect",{width:cs,height:cs,fill:Oi})),Je.default.createElement("rect",{x:0,y:u(0),width:"1",height:u(1)-u(0),fill:"url(#dot-background-pattern-2)"}),!t.type||t.type==="bezier"?Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:t.handles[2],y2:u(1-t.handles[3]),stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(0),x2:n.handles[0],y2:u(1-n.handles[1]),stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"none",fill:"url('#myGradient')",opacity:"0.1"}),o.map((x,S)=>Je.default.createElement("path",{key:x.objectKey+"/"+x.left.id,d:k(x),stroke:p1[S%p1.length],opacity:.6,strokeWidth:"0.01"})),Je.default.createElement("path",{d:k(e.curveConnection),stroke:"url('#myGradient')",strokeWidth:"0.02"}),Je.default.createElement("circle",{cx:0,cy:u(1),r:"0.025",stroke:hh,strokeWidth:"0.02",fill:Sa}),Je.default.createElement("circle",{cx:1,cy:u(0),r:"0.025",stroke:ds,strokeWidth:"0.02",fill:Sa}),Je.default.createElement(h1,{ref:g,cx:t.handles[2],cy:u(1-t.handles[3]),fill:hh,opacity:.2}),Je.default.createElement(mh,{cx:t.handles[2],cy:u(1-t.handles[3])}),Je.default.createElement(h1,{ref:b,cx:n.handles[0],cy:u(1-n.handles[1]),fill:ds,opacity:.2}),Je.default.createElement(mh,{cx:n.handles[0],cy:u(1-n.handles[1])})):Je.default.createElement(Je.default.Fragment,null,Je.default.createElement("line",{x1:0,y1:u(1),x2:1,y2:u(1),stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("line",{x1:1,y1:u(1),x2:1,y2:0,stroke:Oi,strokeWidth:"0.01"}),Je.default.createElement("circle",{cx:0,cy:1,r:"0.025",stroke:ds,strokeWidth:"0.02",fill:Sa}),Je.default.createElement("circle",{cx:1,cy:0,r:"0.025",stroke:ds,strokeWidth:"0.02",fill:Sa})))},$B=qB});function gh(e){return e.map(t=>t.toFixed(3)).join(", ")}function vh(e){if(!e||(e==null?void 0:e.length)>LB)return null;let t=e.split(",");if(t.length!==4)return null;let n=t.map(o=>Number(o.trim()));return!n.every(o=>isFinite(o))||n[0]<0||n[0]>1||n[2]<0||n[2]>1?null:n}function tte(e,t,n={threshold:.02}){if(!e||!t)return!1;let o=0;for(let i=0;i<4;i++)o+=Math.abs(e[i]-t[i]);return o<n.threshold}var LB,yh,ZB=P(()=>{LB=128,yh=[{label:"Quad Out",value:"0.250, 0.460, 0.450, 0.940"},{label:"Quad In Out",value:"0.455, 0.030, 0.515, 0.955"},{label:"Quad In",value:"0.550, 0.085, 0.680, 0.530"},{label:"Cubic Out",value:"0.215, 0.610, 0.355, 1.000"},{label:"Cubic In Out",value:"0.645, 0.045, 0.355, 1.000"},{label:"Cubic In",value:"0.550, 0.055, 0.675, 0.190"},{label:"Quart Out",value:"0.165, 0.840, 0.440, 1.000"},{label:"Quart In Out",value:"0.770, 0.000, 0.175, 1.000"},{label:"Quart In",value:"0.895, 0.030, 0.685, 0.220"},{label:"Quint Out",value:"0.230, 1.000, 0.320, 1.000"},{label:"Quint In Out",value:"0.860, 0.000, 0.070, 1.000"},{label:"Quint In",value:"0.755, 0.050, 0.855, 0.060"},{label:"Sine Out",value:"0.390, 0.575, 0.565, 1.000"},{label:"Sine In Out",value:"0.445, 0.050, 0.550, 0.950"},{label:"Sine In",value:"0.470, 0.000, 0.745, 0.715"},{label:"Expo Out",value:"0.190, 1.000, 0.220, 1.000"},{label:"Expo In Out",value:"1.000, 0.000, 0.000, 1.000"},{label:"Expo In",value:"0.780, 0.000, 0.810, 0.00"},{label:"Circ Out",value:"0.075, 0.820, 0.165, 1.000"},{label:"Circ In Out",value:"0.785, 0.135, 0.150, 0.860"},{label:"Circ In",value:"0.600, 0.040, 0.980, 0.335"},{label:"Back Out",value:"0.175, 0.885, 0.320, 1.275"},{label:"Back In Out",value:"0.680, -0.550, 0.265, 1.550"},{label:"Back In",value:"0.600, -0.280, 0.735, 0.045"},{label:"linear",value:"0.5, 0.5, 0.5, 0.5"},{label:"In Out",value:"0.42,0,0.58,1"},{label:"Hold",value:"0, 0, Infinity, Infinity"}]}),un,bh,Ti,m1,GB,XB,_c,g1,v1,YB,QB,nte=P(()=>{un=$(X()),bh=.75,Ti=.1,m1=1+bh*2,GB="#F5F5F5",XB="#888888",_c="#4f4f4f",g1="rgba(255, 255, 255, 0.1)",v1=e=>1-e,YB=e=>{let{easing:t,isSelected:n}=e,o=n?GB:XB,i="".concat(-bh," ").concat(-bh," ").concat(m1," ").concat(m1);if(t){let l=[t[0],v1(t[1])],s=[t[2],v1(t[3])];return un.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},un.default.createElement("line",{x1:"0",y1:"1",x2:l[0],y2:l[1],stroke:_c,strokeWidth:"0.1"}),un.default.createElement("line",{x1:"1",y1:"0",x2:s[0],y2:s[1],stroke:_c,strokeWidth:"0.1"}),un.default.createElement("circle",{cx:l[0],cy:l[1],r:.1,fill:g1}),un.default.createElement("circle",{cx:s[0],cy:s[1],r:.1,fill:g1}),un.default.createElement("circle",{cx:l[0],cy:l[1],r:Ti,fill:_c}),un.default.createElement("circle",{cx:s[0],cy:s[1],r:Ti,fill:_c}),un.default.createElement("path",{d:"M0 1 C".concat(l[0]," ").concat(l[1]," ").concat(s[0],` 
        `).concat(s[1]," 1 0"),stroke:o,strokeWidth:"0.08"}),un.default.createElement("circle",{cx:0,cy:1,r:Ti,fill:o}),un.default.createElement("circle",{cx:1,cy:0,r:Ti,fill:o}))}return un.default.createElement("svg",{height:"100%",width:"100%",viewBox:i,fill:"none",xmlns:"http://www.w3.org/2000/svg"},un.default.createElement("line",{x1:"0",y1:"1",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),un.default.createElement("line",{x1:"1",y1:"0",x2:1,y2:1,stroke:o,strokeWidth:"0.08"}),un.default.createElement("circle",{cx:0,cy:1,r:Ti,fill:o}),un.default.createElement("circle",{cx:1,cy:0,r:Ti,fill:o}))},QB=YB}),Pc,JB,e9,t9,n9,r9,o9,a9,rte=P(()=>{ic(),Pc=$(X()),be(),ZB(),nte(),Yf(),fh(),Gr(),t9=M.div(e9||(e9=F([`
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  overflow: hidden;
  aspect-ratio: 1;

  transition: background-color 0.15s;
  background-color: `,`;
  border-radius: 2px;
  cursor: pointer;
  outline: none;

  `,`

  &:hover {
    background-color: #31353a;
  }

  &:focus {
    background-color: #383d42;
  }
`])),Sa,({isSelected:e})=>e&&Bn(JB||(JB=F([`
      background-color: #383d42;
    `])))),r9=M(Zr)(n9||(n9=F([`
  padding: 0.5em;
  color: white;
  max-width: 240px;
  pointer-events: none !important;
  --popover-bg: black;
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: transparent;
  box-shadow: none;
`]))),o9=Pc.default.forwardRef((e,t)=>{let[n,o]=ts({enabled:!0,verticalPlacement:e.tooltipPlacement,verticalGap:0},()=>Pc.default.createElement(r9,{showPopoverEdgeTriangle:!1},e.easing.label));return Pc.default.createElement(t9,L({ref:Xf([o,t])},e),n,Pc.default.createElement(QB,{easing:vh(e.easing.value),isSelected:e.isSelected}))}),a9=o9});function ote(e){var t;let[n,o]=(0,i9.useState)(null),i=s=>{if(n===null){e.items.length>0&&o(0);return}let u=n+s*e.uiColumns,d=u<0,f=u>e.items.length-1;if(d||f){if(e.canVerticleExit&&e.canVerticleExit(d?"top":"bottom")){o(null);return}return}o(u)},l=s=>{n===null?o(ste(s,e.items.length)):n+s<0?o(null):o(Math.min(n+s,e.items.length-1))};return{focusFirstItem(){o(0)},onParentEltKeyDown:s=>{if(s.key==="ArrowRight")l(1);else if(s.key==="ArrowLeft")l(-1);else if(s.key==="ArrowUp")i(-1);else if(s.key==="ArrowDown")i(1);else return 0;return 1},gridItems:e.items.map((s,u)=>e.renderItem({isSelected:u===n,item:s,select(d){o(u),e.onSelectItem(s)===1&&(d==null||d.preventDefault(),d==null||d.stopPropagation())}})),currentSelection:(t=e.items[n??-1])!=null?t:null}}var i9,ate=P(()=>{i9=$(X()),wh()});function l9(e,t,n){var o;(o=e.current)==null||o.discard(),e.current=null;let i=vh(n);i===null?e.current=lte(t):e.current=ite(t,i)}function s9(e){var t;(t=e.current)==null||t.discard(),e.current=null}function ite(e,t){return de().tempTransaction(({stateEditors:n})=>{let{setHandlesForKeyframe:o,setKeyframeType:i}=n.coreByProject.historic.sheetsById.sequence;for(let{projectId:l,sheetId:s,objectKey:u,trackId:d,left:f,right:m}of e)o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,start:[t[0],t[1]]}),o({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:m.id,end:[t[2],t[3]]}),i({projectId:l,sheetId:s,objectKey:u,trackId:d,keyframeId:f.id,keyframeType:"bezier"})})}function lte(e){return de().tempTransaction(({stateEditors:t})=>{let{setKeyframeType:n}=t.coreByProject.historic.sheetsById.sequence;for(let{projectId:o,sheetId:i,objectKey:l,trackId:s,left:u}of e)n({projectId:o,sheetId:i,objectKey:l,trackId:s,keyframeId:u.id,keyframeType:"hold"})})}function ste(e,t){return(e%t+t)%t}function ute(e,t){return()=>setTimeout(e,t)}function cte({left:e,right:t}){return({left:n,right:o})=>e.handles[2]!==n.handles[2]||e.handles[3]!==n.handles[3]||t.handles[0]!==o.handles[0]||t.handles[1]!==o.handles[1]}var kh,gt,u9,y1,b1,c9,d9,f9,p9,h9,m9,g9,v9,y9,b9,k9,w9,k1,dte,w1,x9,wh=P(()=>{kh=je(),gt=$(X()),be(),u9=$(Yee()),Ne(),ete(),rte(),ZB(),fh(),nt(),ate(),y1=3,b1=53,c9=25,f9=M.div(d9||(d9=F([`
  background: `,`;
  display: grid;
  grid-template-areas:
    'search  tween'
    'presets tween';
  grid-template-rows: 32px 1fr;
  grid-template-columns: `,`px 120px;
  gap: 1px;
  height: 120px;
`])),f1,y1*b1),h9=M.div(p9||(p9=F([`
  overflow: auto;
  grid-area: presets;

  display: grid;
  grid-template-columns: repeat(`,`, 1fr);
  grid-auto-rows: min-content;
  gap: 1px;

  overflow-y: scroll;
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* Internet Explorer 10+ */
  &::-webkit-scrollbar {
    /* WebKit */
    width: 0;
    height: 0;
  }
`])),y1),g9=M.input.attrs({type:"text"})(m9||(m9=F([`
  background-color: `,`;
  border: none;
  border-radius: 2px;
  color: rgba(255, 255, 255, 0.8);
  padding: 6px;
  font-size: 12px;
  outline: none;
  cursor: text;
  text-align: left;
  width: 100%;
  height: 100%;
  box-sizing: border-box;

  grid-area: search;

  &:hover {
    background-color: #212121;
  }

  &:focus {
    background-color: rgba(16, 16, 16, 0.26);
    outline: 1px solid rgba(0, 0, 0, 0.35);
  }
`])),Sa),y9=M.div(v9||(v9=F([`
  grid-area: tween;
  background: `,`;
`])),Sa),k9=M.div(b9||(b9=F([`
  grid-column: 1 / 4;
  padding: 6px;
  color: #888888;
`]))),w9=e=>{let t=(0,gt.useMemo)(()=>[e.curveConnection,...e.additionalConnections],[e.curveConnection,...e.additionalConnections]),n=(0,gt.useRef)(null);(0,gt.useEffect)(()=>{let D=x9(t);return()=>{var G;D(),(G=n.current)==null||G.commit()}},[n]);let o=[e.curveConnection.left.handles[2],e.curveConnection.left.handles[3],e.curveConnection.right.handles[0],e.curveConnection.right.handles[1]],i=(0,gt.useRef)(null);(0,gt.useLayoutEffect)(()=>{var D,G;(D=i.current)==null||D.select(),(G=i.current)==null||G.focus()},[i.current]);let[l,s]=(0,gt.useState)(gh(o)),u=D=>{D!==void 0&&(m(1),s(D.target.value),vh(D.target.value)&&g(D.target.value))},d=D=>{var G,C;m(1),(D.key==="ArrowDown"||D.key==="ArrowUp")&&D.preventDefault(),D.key==="ArrowDown"?(re.focusFirstItem(),(C=(G=z.current[x[0].label])==null?void 0:G.current)==null||C.focus()):D.key==="Escape"?(s9(n),e.onRequestClose("key Escape")):D.key==="Enter"&&e.onRequestClose("key Enter")},[f,m]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{f===2?s(gh(o)):f===3&&l!==""&&s("")},t);let[v,g]=(0,gt.useState)(gh(o)),[h,b]=(0,gt.useState)(null);(0,gt.useEffect)(()=>{var D;f!==0&&f!==3&&l9(n,t,(D=h??v)!=null?D:"")},[h,v,f]),t.some(cte(e.curveConnection))&&f===0&&m(3);let y=D=>{var G,C;m(2);let Q=gh(D);s(Q),g(Q),(G=i.current)==null||G.select(),(C=i.current)==null||C.focus()},k=()=>{},x=(0,gt.useMemo)(()=>/^[A-Za-z]/.test(l)?u9.default.filter(l,yh,{extract:D=>D.label}).map(D=>D.original):yh,[l]);(0,gt.useEffect)(()=>{f===1&&x[0]&&g(x[0].value)},[x]);let S=D=>{D.key==="Escape"?(s9(n),e.onRequestClose("key Escape"),D.stopPropagation()):D.key==="Enter"&&(e.onRequestClose("key Enter"),D.stopPropagation())},_=D=>{f===0&&m(2),b(D.value)},O=()=>b(null),j=D=>(l9(n,t,D.value),e.onRequestClose("selected easing option"),1),z=(0,gt.useRef)(yh.reduce((D,G)=>(D[G.label]={current:null},D),{})),[V,W]=Qe(null),[B,Z]=(0,gt.useState)(0);(0,gt.useEffect)(()=>{let D=()=>{var G;Z((G=W==null?void 0:W.scrollTop)!=null?G:0)};return W==null||W.addEventListener("scroll",D),()=>W==null?void 0:W.removeEventListener("scroll",D)},[W]);let re=ote({items:x,uiColumns:3,onSelectItem:j,canVerticleExit(D){var G,C;return D==="top"?((G=i.current)==null||G.select(),(C=i.current)==null||C.focus(),1):0},renderItem:({item:D,select:G})=>{var C,Q;return gt.default.createElement(a9,{key:D.label,easing:D,tabIndex:0,onKeyDown:S,ref:z.current[D.label],onMouseOver:()=>_(D),onMouseOut:O,onClick:G,tooltipPlacement:((Q=(C=z.current[D.label].current)==null?void 0:C.offsetTop)!=null?Q:0)-(B??0)<b1+c9?"bottom":"top",isSelected:tte(o,vh(D.value))})}});return(0,gt.useLayoutEffect)(()=>{var D,G;if(re.currentSelection!==null&&document.activeElement!==i.current){let C=(G=(D=z.current)==null?void 0:D[re.currentSelection.label])==null?void 0:G.current;C==null||C.focus(),g(re.currentSelection.value),/^[A-Za-z]/.test(l)||s(re.currentSelection.value)}},[re.currentSelection]),gt.default.createElement(f9,null,gt.default.createElement(g9,{value:l,placeholder:f===3?"Multiple easings selected":"Search presets...",onPaste:ute(u),onChange:u,ref:i,onKeyDown:d}),gt.default.createElement(h9,{ref:V,onKeyDown:D=>re.onParentEltKeyDown(D)},re.gridItems,re.gridItems.length===0?gt.default.createElement(k9,null,"No results found"):void 0),gt.default.createElement(y9,{onClick:()=>{var D;return(D=i.current)==null?void 0:D.focus()}},gt.default.createElement($B,{curveConnection:e.curveConnection,backgroundConnections:e.additionalConnections,onCurveChange:y,onCancelCurveChange:k})))},k1=w9,{isCurveEditorOpenD:dte,isConnectionEditingInCurvePopover:w1,getLock:x9}=(()=>{let e=new kh.Atom([]);return{getLock(t){return e.set(t),function(){e.set([])}},isCurveEditorOpenD:(0,kh.prism)(()=>e.prism.getValue().length>0),isConnectionEditingInCurvePopover(t){return kh.prism.ensurePrism(),e.prism.getValue().some(({left:n,right:o})=>t.left.id===n.id&&t.right.id===o.id)}}})()});function fte(e,t){for(let{keyframeId:n}of mte(t))if(e.left.id===n)return!0;return!1}function S9(e,t,n){return(0,Sh.prism)(()=>{if(n===void 0)return[];let o=[];for(let{objectKey:i,trackId:l}of E9(n)){let s=(0,Sh.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[i].trackData[l]);s&&(o=o.concat(hte(s.keyframes).filter(u=>fte(u,n)).map(({left:u,right:d})=>({left:u,right:d,trackId:l,objectKey:i,sheetId:t,projectId:e}))))}return o})}function xh(e,t,n){var o;if(n===void 0)return[];let i=[];for(let{objectKey:s,trackId:u,keyframeIds:d}of E9(n))i=i.concat((o=x1({projectId:e,sheetId:t,objectKey:s,trackId:u,keyframeIds:d}))!=null?o:[]);let l=th(i.map(s=>s.pathToProp));return i.map(({keyframe:s,pathToProp:u})=>({keyframe:s,pathToProp:u.slice(l.length)}))}function x1({projectId:e,sheetId:t,objectKey:n,trackId:o,keyframeIds:i}){let l=(0,Sh.val)(de().atomP.historic.coreByProject[e].sheetsById[t].sequence.tracksByObject[n]),s=l==null?void 0:l.trackData[o];if(!s)return null;let u=pte((l==null?void 0:l.trackIdByPropPath)||{})[o];if(!u)return null;let d=[n,...nh(u)];return i.map(f=>({keyframe:s.keyframes.find(m=>m.id===f),pathToProp:d})).filter(({keyframe:f})=>f!==void 0)}function pte(e){let t={};for(let[n,o]of Object.entries(e))t[o]=n;return t}function hte(e){return e.map((t,n)=>({left:t,right:e[n+1]})).slice(0,-1)}function mte(e){var t,n,o;let i=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))for(let f of Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{}))i.push({objectKey:l,trackId:u,keyframeId:f});return i}function E9(e){var t,n,o;let i=[];for(let[l,s]of Object.entries((t=e==null?void 0:e.byObjectKey)!=null?t:{}))for(let[u,d]of Object.entries((n=s==null?void 0:s.byTrackId)!=null?n:{}))i.push({objectKey:l,trackId:u,keyframeIds:Object.keys((o=d==null?void 0:d.byKeyframeId)!=null?o:{})});return i}var Sh,fs=P(()=>{Sh=je(),Ne(),eo()});function gte(e,t){return(0,_9.useMemo)(()=>vte(e,t),[])}function vte(e,t){let n=null,o=s=>de().tempTransaction(u=>e(u,s));function i(){n==null||n.discard(),n=null}let l={createAsset:t.sheet.project.assetStorage.createAsset,getAssetUrl:s=>s.id?t.sheet.project.assetStorage.getAssetUrl(s.id):void 0};return L({temporarilySetValue(s){i(),n=o(s)},discardTemporaryValue:i,permanentlySetValue(s){i(),o(s).commit()}},l)}var _9,yte=P(()=>{Ne(),_9=$(X())});function S1(e){var t;if(e.type==="sheetObject")return Xt.default.createElement(Xt.default.Fragment,null,Xt.default.createElement(Eh,{style:{paddingLeft:"".concat(e.indent*_h,"px")}},e.sheetObject.address.objectKey),e.children.map((n,o)=>Xt.default.createElement(S1,he(L({key:o},n),{autoFocusInput:e.autoFocusInput&&o===0,indent:e.indent+1}))));if(e.type==="propWithChildren"){let n=(t=e.propConfig.label)!=null?t:si(e.pathToProp);return Xt.default.createElement(Xt.default.Fragment,null,Xt.default.createElement(Eh,{style:{paddingLeft:"".concat(e.indent*_h,"px")}},n),e.children.map((o,i)=>Xt.default.createElement(S1,he(L({key:i},o),{autoFocusInput:e.autoFocusInput&&i===0,indent:e.indent+1}))))}else return Xt.default.createElement(bte,he(L({},e),{autoFocusInput:e.autoFocusInput,indent:e.indent}))}function bte(e){var t;let n=(t=e.propConfig.label)!=null?t:si(e.pathToProp),o=kte(e);if(e.propConfig.type==="enum")return Xt.default.createElement(Xt.default.Fragment,null);{let i=Jy[e.propConfig.type];return Xt.default.createElement(C9,null,Xt.default.createElement(Eh,null,Xt.default.createElement("span",{style:{paddingLeft:"".concat(e.indent*_h,"px")}},n)),Xt.default.createElement(O9,null,Xt.default.createElement(i,{editingTools:o,propConfig:e.propConfig,value:bp(e.keyframe.value,e.propConfig),autoFocus:e.autoFocusInput})))}}function kte(e){let t=e.sheetObject;return gte(({stateEditors:n},o)=>{let i=he(L({},e.keyframe),{value:o});n.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},t.address),{trackId:e.trackId,keyframes:[i],snappingFunction:t.sheet.getSequence().closestGridPosition}))},t)}var Xt,P9,C9,I9,Eh,_h,j9,O9,wte=P(()=>{Xt=$(X()),be(),hO(),gf(),yte(),ha(),C9=M.div(P9||(P9=F([`
  display: flex;
  align-items: stretch;
  min-width: 200px;

  select {
    min-width: 100px;
  }
`]))),Eh=M.div(I9||(I9=F([`
  font-style: normal;
  font-weight: 400;
  font-size: 11px;
  line-height: 13px;
  letter-spacing: 0.01em;
  padding: 6px 6px 6px 0;

  width: 40%;

  color: #919191;

  overflow: hidden;
`]))),_h=10,O9=M.div(j9||(j9=F([`
  display: flex;
  align-items: center;
  width: 60%;
`])))});function Ph(e){return $r({debugName:"useKeyframeInlineEditorPopover"},()=>Ch.default.createElement(Zr,{showPopoverEdgeTriangle:!0},Ch.default.createElement("div",{style:{margin:"1px 2px 1px 10px"}},Array.isArray(e)?e.map((t,n)=>Ch.default.createElement(S1,he(L({key:n},t),{autoFocusInput:n===0,indent:0}))):void 0)))}var Ch,Ih=P(()=>{Ch=$(X()),Lr(),Gr(),wte()});function xte(e,t,n){return mn(e,{displayName:"Keyframe",menuItems:()=>{let o=xh(n.leaf.sheetObject.address.projectId,n.leaf.sheetObject.address.sheetId,n.selection);return[{label:o.length>0?"Copy (selection)":"Copy",callback:()=>{o.length>0?de().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes(o)}):de().transaction(i=>{i.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n.keyframe,pathToProp:n.leaf.pathToProp}])})}},{label:n.selection!==void 0?"Delete (selection)":"Delete",callback:()=>{n.selection?n.selection.delete():de().transaction(({stateEditors:i})=>{i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},n.leaf.sheetObject.address),{keyframeIds:[n.keyframe.id],trackId:n.leaf.trackId}))})}}]},onOpen(){t._debug("Show keyframe",n)}})}function Ste(e,t,n){let o=(0,Ea.useRef)(t);o.current=t;let{onClickFromDrag:i}=n,l=(0,Ea.useMemo)(()=>({debugName:"KeyframeDot/useDragKeyframe",onDragStart(u){let d=o.current,f=(0,jh.val)(de().atomP.historic.coreByProject[d.leaf.sheetObject.address.projectId].sheetsById[d.leaf.sheetObject.address.sheetId].sequence.tracksByObject),m=mB(f,function(b,{trackId:y,objectKey:k}){var x,S;return b.id!==d.keyframe.id&&!(d.selection&&(S=(x=d.selection.byObjectKey[k])==null?void 0:x.byTrackId[y])!=null&&S.byKeyframeId[b.id])});if(hB(m),d.selection){let{selection:b,leaf:y}=d,{sheetObject:k}=y,x=b.getDragHandlers(he(L({},k.address),{domNode:e,positionAtStartOfDrag:d.track.data.keyframes[d.index].position})).onDragStart(u);return x&&he(L({},x),{onClick:i,onDragEnd:(...S)=>{var _;(_=x.onDragEnd)==null||_.call(x,...S),Ci()}})}let v=d,g=(0,jh.val)(v.layoutP.scaledSpace.toUnitSpace),h;return{onDrag(b,y,k){var x;let S=v.track.data.keyframes[v.index],_=Math.max((x=vn.checkIfMouseEventSnapToPos(k,{ignore:e}))!=null?x:S.position+g(b),0);h==null||h.discard(),h=void 0,h=de().tempTransaction(({stateEditors:O})=>{O.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},v.leaf.sheetObject.address),{trackId:v.leaf.trackId,keyframes:[he(L({},S),{position:_})],snappingFunction:(0,jh.val)(v.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(b){b?h==null||h.commit():h==null||h.discard(),Ci()},onClick(b){i(b)}}}}),[i]),[s]=xt(e,l);return No(s,t.keyframe.position),Zn(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var Ea,jh,Cc,E1,Ic,_1,T9,Oh,z9,D9,A9,B9,N9,F9,R9=P(()=>{Ea=$(X()),be(),Ne(),gn(),Dt(),nt(),jh=je(),Gt(),Fn(),Er(),ih(),fa(),fs(),rt(),Ii(),Ih(),wi(),Cc=6,E1=Cc+2,Ic={normalColor:"#40AAA4",selectedColor:"#F2C95C",inlineEditorOpenColor:"#FCF3DC",selectedAndInlineEditorOpenColor:"#CBEBEA"},_1=({isSelected:e,isInlineEditorPopoverOpen:t})=>e&&t?Ic.inlineEditorOpenColor:e?Ic.selectedColor:t?Ic.selectedAndInlineEditorOpenColor:Ic.normalColor,Oh=M.div(T9||(T9=F([`
  position: absolute;
  `,`

  background: `,`;
  transform: rotateZ(45deg);

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Yn(Cc),e=>_1(e),e=>e.flag===2?"outline: 2px solid white;":""),D9=M.div(z9||(z9=F([`
  position: absolute;
  `,`

  background: `,`;

  `,`;

  z-index: 1;
  pointer-events: none;
`])),Yn(Cc*1.5),e=>_1(e),e=>e.flag===2?"outline: 2px solid white;":""),B9=M.div(A9||(A9=F([`
  z-index: 1;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  & + `,` {
    `,`
  }

  &:hover + `,` {
    `,`
  }
`])),Yn(12),tt,Oh,e=>e.isInlineEditorPopoverOpen?Yn(E1):"",Oh,Yn(E1)),N9=e=>{let t=da("SingleKeyframeDot",e.keyframe.id),n=ki(e.itemKey),[o,i]=Qe(null),[l]=xte(i,t,e),{node:s,toggle:u,isOpen:d}=Ph([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.leaf.pathToProp,propConfig:e.leaf.propConf,sheetObject:e.leaf.sheetObject,trackId:e.leaf.trackId}]);Ste(i,e,{onClickFromDrag(m){u(m,o.current)}});let f=!e.keyframe.type||e.keyframe.type==="bezier";return Ea.default.createElement(Ea.default.Fragment,null,Ea.default.createElement(B9,L({ref:o,isInlineEditorPopoverOpen:d},n.attrs)),f?Ea.default.createElement(Oh,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}):Ea.default.createElement(D9,{isSelected:!!e.selection,isInlineEditorPopoverOpen:d,flag:n.flag}),s,l)},F9=N9}),P1,C1,I1,zi,M9,U9,j1,V9=P(()=>{Nn(),P1=$(X()),be(),R9(),C1=Cc/2+1,I1=1e3,zi={normalColor:"#365b59",selectedColor:"#8A7842",barColor:e=>{let t=e.isSelected?zi.selectedColor:zi.normalColor;return e.isPopoverOpen?Nf(.2,Tl(.2,t)):t},hoverColor:e=>{let t=e.isSelected?zi.selectedColor:zi.normalColor;return e.isPopoverOpen?Nf(.2,Tl(.2,t)):Nf(.1,Tl(.1,t))}},U9=M.div(M9||(M9=F([`
  position: absolute;
  background: `,`;
  height: `,`px;
  width: `,`px;

  left: 0;
  top: -`,`px;
  transform-origin: top left;
  z-index: 0;
  cursor: ew-resize;

  &:after {
    display: block;
    position: absolute;
    content: ' ';
    top: -4px;
    bottom: -4px;
    left: 0;
    right: 0;
  }

  &:hover {
    background: `,`;
  }
`])),zi.barColor,C1,I1,C1/2,zi.hoverColor),j1=P1.default.forwardRef((e,t)=>{let n={isPopoverOpen:e.isPopoverOpen,isSelected:e.isSelected};return P1.default.createElement(U9,he(L({},n),{ref:t,style:{transform:"scaleX(calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e.connectorLengthInUnitSpace/I1,"))")},onClick:o=>{var i;(i=e.openPopover)==null||i.call(e,o)}}),e.children)})});function Ete(e,t){let n=(0,O1.useRef)(t);n.current=t;let o=(0,O1.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let l=n.current,s;if(l.selection){let{selection:m,leaf:v}=l,{sheetObject:g}=v;return m.getDragHandlers(he(L({},g.address),{domNode:e,positionAtStartOfDrag:l.track.data.keyframes[l.index].position})).onDragStart(i)}let u=l,d=(0,Th.val)(u.layoutP.sheet).getSequence(),f=(0,Th.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(m,v,g){let h=f(m);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:b})=>{b.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},u.leaf.sheetObject.address),{trackId:u.leaf.trackId,keyframeIds:[u.keyframe.id,u.track.data.keyframes[u.index+1].id],translate:h,scale:1,origin:0,snappingFunction:d.closestGridPosition}))})},onDragEnd(m){m?s&&s.commit():s&&s.discard()}}}}),[]);xt(e,o)}function _te(e,t,n,o){return mn(t,{displayName:"Tween",menuItems:()=>{let i=xh(e.leaf.sheetObject.address.projectId,e.leaf.sheetObject.address.sheetId,e.selection);return[{label:i.length>0?"Copy (selection)":"Copy",callback:()=>{i.length>0?de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes(i)}):de().transaction(l=>{l.stateEditors.studio.ahistoric.setClipboardKeyframes([{keyframe:n,pathToProp:e.leaf.pathToProp},{keyframe:o,pathToProp:e.leaf.pathToProp}])})}},{label:e.selection?"Delete (selection)":"Delete",callback:()=>{e.selection?e.selection.delete():de().transaction(({stateEditors:l})=>{l.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},e.leaf.sheetObject.address),{keyframeIds:[n.id,o.id],trackId:e.leaf.trackId}))})}}]}})}var Th,_a,O1,T1,H9,K9,W9,q9,$9,Pte=P(()=>{Ne(),gn(),Dt(),nt(),Th=je(),_a=$(X()),O1=$(X()),Lr(),Gr(),wh(),V9(),fh(),Re(),fs(),fs(),be(),T1=5,K9=M(Zr)(H9||(H9=F([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: `,`;
`])),f1),W9=e=>{let{index:t,track:n}=e,o=n.data.keyframes[t],i=n.data.keyframes[t+1],[l,s]=Qe(null),{node:u,toggle:d,close:f}=$r(()=>{let h=(0,Th.val)(e.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:h.screenX+T1,maxX:h.screenX+h.width-T1}}},()=>_a.default.createElement($9,he(L({},e),{closePopover:f}))),[m]=_te(e,s,o,i);Ete(s,e);let v=i.position-o.position,g={isPopoverOpen:Xe(()=>w1(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,left:o,right:i})),[e.leaf.sheetObject.address,e.leaf.trackId,o,i]),isSelected:e.selection!==void 0};return _a.default.createElement(_a.default.Fragment,null,_a.default.createElement(j1,he(L({ref:l,connectorLengthInUnitSpace:v},g),{openPopover:h=>{s&&d(h,s)}}),u),m)},q9=W9,$9=_a.default.forwardRef((e,t)=>{let{index:n,track:{data:o},selection:i}=e,l=o.keyframes[n],s=o.keyframes[n+1],u=e.leaf.trackId,d=e.leaf.sheetObject.address,f=Xe(()=>S9(d.projectId,d.sheetId,i).getValue(),[d,i]),m=L({left:l,right:s,trackId:u},d);return _a.default.createElement(K9,{showPopoverEdgeTriangle:!1,ref:t},_a.default.createElement(k1,{curveConnection:m,additionalConnections:f,onRequestClose:e.closePopover}))})}),L9,Di,Z9,G9,X9,Y9,Q9,Cte=P(()=>{L9=je(),Di=$(X()),be(),Pte(),R9(),G9=M.div(Z9||(Z9=F([`
  position: absolute;
`]))),X9=Di.default.createElement(Di.default.Fragment,null),Y9=Di.default.memo(e=>{let{index:t,track:{data:n}}=e,o=n.keyframes[t],i=n.keyframes[t+1],l=o.connectedRight&&!!i;return Di.default.createElement(G9,{style:{top:"".concat(e.leaf.nodeHeight/2,"px"),left:"calc(".concat((0,L9.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(o.position,"px))")}},Di.default.createElement(F9,he(L({},e),{itemKey:e.itemKey})),l?Di.default.createElement(q9,L({},e)):X9)}),Q9=Y9});function Ite(e,t){return mn(e,{displayName:"Keyframe Track",menuItems:()=>{var n;let o=(n=(0,ps.val)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths))!=null?n:[];return[jte(t,o)]}})}function jte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{var n;let o=(0,ps.val)(e.layoutP.sheet).getSequence(),i=(n=t[0])==null?void 0:n.pathToProp,l=t.filter(({keyframe:s,pathToProp:u})=>zee(i,u)).map(({keyframe:s,pathToProp:u})=>s);de().transaction(({stateEditors:s})=>{var u;o.position=o.closestGridPosition(o.position);let d=(u=Ote(l))==null?void 0:u.position;for(let f of l)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e.leaf.sheetObject.address),{trackId:e.leaf.trackId,position:o.position+f.position-d,handles:f.handles,value:f.value,snappingFunction:o.closestGridPosition,type:f.type}))})}}}function Ote(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}var ps,Fo,J9,eN,z1,tN,Tte=P(()=>{Re(),ps=je(),Fo=$(X()),be(),Cte(),gn(),nt(),Ne(),eo(),Ii(),zo(),eN=M.div(J9||(J9=F([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),z1=Fo.default.memo(e=>{var t;let{layoutP:n,trackData:o,leaf:i}=e,[l,s]=Qe(null),{selectedKeyframeIds:u,selection:d}=Xe(()=>{let _=(0,ps.val)(n.selectionAtom),O=(0,ps.val)(_.pointer.current.byObjectKey[i.sheetObject.address.objectKey].byTrackId[i.trackId].byKeyframeId);return O?{selectedKeyframeIds:O,selection:(0,ps.val)(_.pointer.current)}:{selectedKeyframeIds:{},selection:void 0}},[n,i.trackId]),[f,m,v]=Ite(s,e),g=Ye(u1),h=g.mode==="snapToSome"?(t=g.positions[i.sheetObject.address.objectKey])==null?void 0:t[i.trackId]:[],b=g.mode==="snapToAll",y=(0,Fo.useMemo)(()=>({data:o,id:i.trackId,sheetObject:e.leaf.sheetObject}),[o,i.trackId]),k=o.keyframes.map((_,O)=>Fo.default.createElement(Q9,{key:"keyframe-"+_.id,itemKey:Rt.forTrackKeyframe(i.sheetObject,i.trackId,_.id),keyframe:_,index:O,track:y,layoutP:n,leaf:i,selection:u[_.id]===!0?d:void 0})),x=h.map(_=>Fo.default.createElement(wc,{key:"snap-target-"+_,layoutP:n,leaf:i,position:_})),S=b?o.keyframes.map(_=>Fo.default.createElement(wc,{key:"additionalSnapTarget-".concat(_.id),layoutP:n,leaf:i,position:_.position})):null;return Fo.default.createElement(eN,{ref:l,style:{background:v?"#444850 ":"unset"}},k,x,Fo.default.createElement(Fo.default.Fragment,null,S),f)}),z1.displayName="BasicKeyframedTrack",tN=z1}),nN,jc,rN,oN,zte=P(()=>{Ne(),Re(),nN=je(),jc=$(X()),ch(),Tte(),fa(),rN=({leaf:e,layoutP:t})=>{let n=da("PrimitivePropRow",e.pathToProp.join());return Xe(()=>{let{sheetObject:o}=e,{trackId:i}=e,l=(0,nN.val)(de().atomP.historic.coreByProject[o.address.projectId].sheetsById[o.address.sheetId].sequence.tracksByObject[o.address.objectKey].trackData[i]);return(l==null?void 0:l.type)!=="BasicKeyframedTrack"?(n.errorDev("trackData type ".concat(l==null?void 0:l.type," is not yet supported on the sequence editor")),jc.default.createElement(us,{leaf:e,isCollapsed:!1,node:jc.default.createElement("div",null)})):jc.default.createElement(us,{leaf:e,isCollapsed:!1,node:jc.default.createElement(tN,{layoutP:t,trackData:l,leaf:e})})},[e,t])},oN=rN});function Dte(e){return e()}var Ate=P(()=>{});function aN(e){let{index:t,aggregateKeyframes:n,selection:o}=e;return Xe(iN(e),[t,n,o,e.viewModel])}function iN(e){let{index:t,aggregateKeyframes:n,selection:o}=e,{projectId:i,sheetId:l}=e.viewModel.type==="sheet"?e.viewModel.sheet.address:e.viewModel.sheetObject.address;return()=>{let s=n[t],u=n[t+1],d=u&&s.keyframes.length===u.keyframes.length&&s.keyframes.every(({track:g},h)=>u.keyframes[h].track===g)?{length:u.position-s.position,selected:s.selected===0&&u.selected===0}:null,f=d?s.keyframes.map(({kf:g,track:h},b)=>he(L({},h.sheetObject.address),{trackId:h.id,left:g,right:u.keyframes[b].kf})):[],m=Dte(()=>{let g=D1.prism.memo("selectedConnections",()=>S9(i,l,o),[i,l,o]).getValue();return[...f,...g]}),v=f.every(g=>w1(g));return{itemKey:D1.prism.memo("itemKey",()=>e.viewModel.type==="sheet"?Rt.forSheetAggregateKeyframe(e.viewModel.sheet,s.position):e.viewModel.type==="sheetObject"?Rt.forSheetObjectAggregateKeyframe(e.viewModel.sheetObject,s.position):Rt.forCompoundPropAggregateKeyframe(e.viewModel.sheetObject,e.viewModel.pathToProp,s.position),[e.viewModel,s.position]),cur:s,connected:d,isAggregateEditingInCurvePopover:v,allConnections:m}}}var D1,A1=P(()=>{D1=je(),zo(),wh(),Re(),fs(),Ate()});function Bte(e,t){let n=(0,Qn.useRef)(t);n.current=t;let o=(0,Qn.useMemo)(()=>({debugName:"useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(i){let l=n.current,s,u=l.aggregateKeyframes[l.index].keyframes,{selection:d,viewModel:f}=l,m=f.type==="sheet"?f.sheet.address:f.sheetObject.address;if(d&&l.aggregateKeyframes[l.index].selected===0)return d.getDragHandlers(he(L({},m),{domNode:e,positionAtStartOfDrag:l.aggregateKeyframes[l.index].position})).onDragStart(i);let v=l,g=(0,zh.val)(v.layoutP.sheet).getSequence(),h=(0,zh.val)(v.layoutP.scaledSpace.toUnitSpace);return{onDrag(b,y,k){let x=h(b);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:S})=>{for(let _ of u)S.coreByProject.historic.sheetsById.sequence.transformKeyframes(he(L({},_.track.sheetObject.address),{trackId:_.track.id,keyframeIds:[_.kf.id,_.track.data.keyframes[_.track.data.keyframes.indexOf(_.kf)+1].id],translate:x,scale:1,origin:0,snappingFunction:g.closestGridPosition}))})},onDragEnd(b){b?s&&s.commit():s&&s.discard()}}}}),[]);return xt(e,o)}function Nte(e,t){return mn(t,{displayName:"Aggregate Tween",menuItems:()=>{let n=e.utils.allConnections.reduce((u,d)=>{var f;return u.concat((f=x1(he(L({},d),{keyframeIds:[d.left.id,d.right.id]})))!=null?f:[])},[]),o=th(n.map(u=>u.pathToProp)),i=n.map(({keyframe:u,pathToProp:d})=>({keyframe:u,pathToProp:d.slice(o.length)})),l=e.editorProps.viewModel,s=l.type==="sheet"?l.sheet.address:l.sheetObject.address;return[{label:"Copy",callback:()=>{if(e.editorProps.selection){let u=xh(s.projectId,s.sheetId,e.editorProps.selection);de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}else de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(i)})}},{label:"Delete",callback:()=>{e.editorProps.selection?e.editorProps.selection.delete():de().transaction(({stateEditors:u})=>{for(let d of e.utils.allConnections)u.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},s),{objectKey:d.objectKey,keyframeIds:[d.left.id,d.right.id],trackId:d.trackId}))})}}]}})}var zh,Qn,B1,lN,sN,uN,cN,Fte=P(()=>{zh=je(),Qn=$(X()),V9(),Lr(),nt(),Ne(),Dt(),wh(),A1(),be(),Gr(),fs(),gn(),eo(),B1=5,sN=M(Zr)(lN||(lN=F([`
  --popover-outer-stroke: transparent;
  --popover-inner-stroke: rgba(26, 28, 30, 0.97);
`]))),uN=Qn.default.forwardRef((e,t)=>{let{allConnections:n}=aN(e);return Qn.default.createElement(sN,{showPopoverEdgeTriangle:!1,ref:t},Qn.default.createElement(k1,{curveConnection:n[0],additionalConnections:n,onRequestClose:e.closePopover}))}),cN=e=>{let[t,n]=Qe(null),{editorProps:o}=e,[i]=Nte(e,n),[l]=Bte(n,e.editorProps),{node:s,toggle:u,close:d}=$r(()=>{let v=(0,zh.val)(o.layoutP.rightDims);return{debugName:"Connector",constraints:{minX:v.screenX+B1,maxX:v.screenX+v.width-B1}}},()=>Qn.default.createElement(uN,he(L({},o),{closePopover:d}))),{connected:f,isAggregateEditingInCurvePopover:m}=e.utils;return f||l?Qn.default.createElement(Qn.default.Fragment,null,Qn.default.createElement(j1,{ref:t,connectorLengthInUnitSpace:f?f.length:0,isSelected:f?f.selected:!1,isPopoverOpen:m,openPopover:v=>{n&&u(v,n)}}),s,i):Qn.default.createElement(Qn.default.Fragment,null)}});function Rte(e){let t={isSelected:e.isSelected,flag:e.flag};return Ro.default.createElement(Dh,null,e.isAllHere?Ro.default.createElement(gN,L({},t)):Ro.default.createElement(vN,L({},t)))}var Ro,N1,dN,fN,Dh,pN,hN,F1,R1,M1,U1,mN,gN,vN,Mte=P(()=>{Ro=$(X()),be(),ih(),rt(),N1=16,dN=N1+2,Dh=M.div(fN||(fN=F([`
  position: absolute;
  `,`
  z-index: 1;
`])),Yn(N1)),hN=M.div(pN||(pN=F([`
  z-index: 2;
  cursor: ew-resize;

  position: absolute;
  `,`;
  `,`;

  &:hover
    + `,`,
    #pointer-root.draggingPositionInSequenceEditor
    &:hover
    + `,` {
    `,`
  }
`])),Yn(12),tt,Dh,Dh,Yn(dN)),F1="#F2C95C",R1="#40AAA4",M1="#45747C",U1=e=>e.isSelected===0?F1:e.isSelected===1?R1:M1,mN=e=>e.isSelected===0?F1:e.isSelected===1?R1:M1,gN=e=>Ro.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ro.default.createElement("rect",{x:"4.46443",y:"10.0078",width:"5",height:"5",transform:"rotate(-45 4.46443 10.0078)",fill:"#212327",stroke:mN(e)}),Ro.default.createElement("rect",{x:"3.75732",y:"6.01953",width:"6",height:"6",transform:"rotate(-45 3.75732 6.01953)",fill:U1(e),stroke:e.flag===2?"white":void 0,strokeWidth:e.flag===2?"2px":void 0})),vN=e=>Ro.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ro.default.createElement("rect",{x:"4.46443",y:"8",width:"5",height:"5",transform:"rotate(-45 4.46443 8)",fill:"#23262B",stroke:e.flag===2?"white":U1(e),strokeWidth:e.flag===2?"2px":void 0}))});function Ute(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?V1(o,t):yN(o,t)).filter(H1);return n.length===0?null:{type:"sheetObject",sheetObject:e.sheetObject,children:n}}function V1(e,t){let n=e.children.map(o=>o.type==="propWithChildren"?V1(o,t):yN(o,t)).filter(H1);return n.length===0?null:{type:"propWithChildren",pathToProp:e.pathToProp,propConfig:e.propConf,children:n}}function yN(e,t){let n=t.find(o=>o.track.id===e.trackId);return n?{type:"primitiveProp",keyframe:n.kf,pathToProp:e.pathToProp,propConfig:e.propConf,sheetObject:e.sheetObject,trackId:e.trackId}:null}function Vte(e){var t,n,o,i;let{cur:l}=e.utils,s=Ph(e.editorProps.viewModel.type==="sheet"?null:e.editorProps.viewModel.type==="sheetObject"?(n=(t=Ute(e.editorProps.viewModel,l.keyframes))==null?void 0:t.children)!=null?n:null:(i=(o=V1(e.editorProps.viewModel,l.keyframes))==null?void 0:o.children)!=null?i:null),u=ki(e.utils.itemKey);u.useRelations(()=>l.keyframes.map(v=>({affects:v.itemKey,flag:2})),[l.keyframes.map(v=>v.track.id).join("-")]);let[d,f]=Qe(null),[m]=Hte(e,f);return Oc.default.createElement(Oc.default.Fragment,null,Oc.default.createElement(hN,he(L(L({ref:d},u.attrs),vn.includePositionSnapAttrs(l.position)),{onClick:v=>e.editorProps.viewModel.type!=="sheet"?s.open(v,d.current):null})),Oc.default.createElement(Rte,{flag:u.flag,isAllHere:l.allHere,isSelected:l.selected}),m,s.node)}function Hte(e,t){return mn(t,{displayName:"Aggregate Keyframe",menuItems:()=>{let n=e.editorProps.viewModel,o=e.editorProps.selection;return[{label:o?"Copy (selection)":"Copy",callback:()=>{if(o){let{projectId:i,sheetId:l}=n.type==="sheet"?n.sheet.address:n.sheetObject.address,s=xh(i,l,o);de().transaction(u=>{u.stateEditors.studio.ahistoric.setClipboardKeyframes(s)})}else{let i=e.utils.cur.keyframes.flatMap(d=>{var f;return(f=x1(he(L({},d.track.sheetObject.address),{trackId:d.track.id,keyframeIds:[d.kf.id]})))!=null?f:[]}),l=n.type==="sheet"?[]:n.type==="sheetObject"?[n.sheetObject.address.objectKey]:n.type==="propWithChildren"?[n.sheetObject.address.objectKey,...n.pathToProp]:[],s=th([l,...i.map(d=>d.pathToProp)]),u=i.map(({keyframe:d,pathToProp:f})=>({keyframe:d,pathToProp:f.slice(s.length)}));de().transaction(d=>{d.stateEditors.studio.ahistoric.setClipboardKeyframes(u)})}}},{label:o?"Delete (selection)":"Delete",callback:()=>{o?o.delete():de().transaction(({stateEditors:i})=>{for(let l of e.utils.cur.keyframes)i.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},l.track.sheetObject.address),{keyframeIds:[l.kf.id],trackId:l.track.id}))})}}]}})}var Oc,H1,Kte=P(()=>{Oc=$(X()),nt(),wi(),gn(),Mte(),Ne(),fs(),eo(),Er(),Ih(),H1=e=>e!==null}),bN,Tc,kN,wN,xN,SN,Wte=P(()=>{bN=je(),Tc=$(X()),be(),Fte(),A1(),Kte(),wN=M.div(kN||(kN=F([`
  position: absolute;
`]))),xN=Tc.default.memo(e=>{let t=aN(e);return Tc.default.createElement(wN,{style:{top:"".concat(e.viewModel.nodeHeight/2,"px"),left:"calc(".concat((0,bN.val)(e.layoutP.scaledSpace.leftPadding),"px + calc(var(--unitSpaceToScaledSpaceMultiplier) * ").concat(t.cur.position,"px))")}},Tc.default.createElement(Vte,{editorProps:e,utils:t}),Tc.default.createElement(cN,{editorProps:e,utils:t}))}),SN=xN});function qte(e){let{layoutP:t,aggregatedKeyframes:n,viewModel:o}=e,i=da("AggregatedKeyframeTrack"),[l,s]=Qe(null),{selectedPositions:u,selection:d}=$te(t,n),[f,m,v]=Gte(s,e,()=>i._debug("see aggregatedKeyframes",e.aggregatedKeyframes)),g=(0,Jn.useMemo)(()=>[...n.byPosition.entries()].sort((_,O)=>_[0]-O[0]).map(([_,O])=>({position:_,keyframes:O,selected:u.get(_),allHere:O.length===n.tracks.length})),[n,u]),h=Ye(u1),b=h.mode==="snapToAll",y=h.mode==="snapToSome"?h.positions:db,k=(0,Jn.useMemo)(()=>o.type==="sheet"?Vee(o,y):n1(o,y),[y]).map(_=>Jn.default.createElement(wc,{key:"snap-target-"+_,layoutP:t,leaf:o,position:_})),x=(0,Jn.useMemo)(()=>g.map(({position:_,keyframes:O},j)=>({position:_,editorProps:{index:j,layoutP:t,viewModel:o,aggregateKeyframes:g,selection:u.has(_)?d:void 0}})),[g,o,u]);Jte(s,_=>{var O;return(O=x.find(j=>j.position===_))==null?void 0:O.editorProps},{onClickFromDrag(_){}});let S=x.map((_,O)=>Jn.default.createElement(Jn.Fragment,{key:"agg-"+g[O].keyframes[0].kf.id},b&&Jn.default.createElement(wc,{layoutP:t,leaf:o,position:_.position}),Jn.default.createElement(SN,L({},_.editorProps))));return Jn.default.createElement(CN,{ref:l,style:{background:v?"#444850 ":"unset"}},S,k,f)}function $te(e,t){return Xe(()=>(0,bn.val)(Lte(e,t)),[e,t])}function Lte(e,t){return(0,bn.prism)(()=>{let n=(0,bn.val)(e.selectionAtom),o=(0,bn.val)(n.pointer.current);if(!o)return IN;let i=new Map;for(let[l,s]of t.byPosition){let u=Zte(s,o);u!==void 0&&u!==Bh&&i.set(l,u)}return{selectedPositions:i,selection:(0,bn.val)(n.pointer.current)}})}function Zte(e,t){var n,o,i;let l;for(let{track:s,kf:u}of e){let d=((i=(o=(n=t.byObjectKey[s.sheetObject.address.objectKey])==null?void 0:n.byTrackId[s.id])==null?void 0:o.byKeyframeId)==null?void 0:i[u.id])===!0;l===void 0?d?l=q1:l=Bh:d?l===Bh&&(l=$1):l===q1&&(l=$1)}return l}function Gte(e,t,n){return mn(e,{onOpen:n,displayName:"Aggregate Keyframe Track",menuItems:()=>{var o;let i=(o=(0,bn.pointerToPrism)(de().atomP.ahistoric.clipboard.keyframesWithRelativePaths).getValue())!=null?o:[];return[Xte(t,i)]}})}function Xte(e,t){return{label:"Paste Keyframes",enabled:t.length>0,callback:()=>{let n=(0,bn.val)(e.layoutP.sheet).getSequence();e.viewModel.type==="sheet"?Yte(e.viewModel,t,n):Qte(e.viewModel,t,n)}}}function Yte(e,t,n){var o;let{projectId:i,sheetId:l,sheetInstanceId:s}=e.sheet.address;if(t.every(({pathToProp:u})=>u.length===0))for(let u of e.children.map(d=>d.sheetObject)){let d=(0,bn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[u.address.objectKey]).getValue(),f=Object.keys((o=d==null?void 0:d.trackData)!=null?o:{});K1(u.address,f,t,n)}else{let u=(0,bn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject).getValue(),d=t.map(({keyframe:f,pathToProp:m})=>{var v,g;let h=m[0],b=m.slice(1),y=Jr([...b]),k=((g=(v=u==null?void 0:u[h])==null?void 0:v.trackIdByPropPath)!=null?g:{})[y];return k?{keyframe:f,trackId:k,address:{objectKey:h,projectId:i,sheetId:l,sheetInstanceId:s}}:null}).filter(f=>f!==null);EN(d,n)}}function Qte(e,t,n){var o;let{projectId:i,sheetId:l,objectKey:s}=e.sheetObject.address,u=(0,bn.pointerToPrism)(de().atomP.historic.coreByProject[i].sheetsById[l].sequence.tracksByObject[s]).getValue();if(t.every(({pathToProp:d})=>d.length===0)){let d=Object.keys((o=u==null?void 0:u.trackData)!=null?o:{});if(e.type==="sheetObject")K1(e.sheetObject.address,d,t,n);else{let f=(u==null?void 0:u.trackIdByPropPath)||{},m=Object.entries(f).filter(([v,g])=>g!==void 0&&Tee(nh(v),e.pathToProp)).map(([v,g])=>g);K1(e.sheetObject.address,m,t,n)}}else{let d=(u==null?void 0:u.trackIdByPropPath)||{},f=e.type==="propWithChildren"?e.pathToProp:[],m=t.map(({keyframe:v,pathToProp:g})=>{let h=Jr([...f,...g]),b=d[h];return b?{keyframe:v,trackId:b,address:e.sheetObject.address}:null}).filter(v=>v!==null);EN(m,n)}}function K1(e,t,n,o){var i;o.position=o.closestGridPosition(o.position);let l=(i=_N(n.map(({keyframe:s})=>s)))==null?void 0:i.position;de().transaction(({stateEditors:s})=>{for(let u of t)for(let{keyframe:d}of n)s.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},e),{trackId:u,position:o.position+d.position-l,handles:d.handles,value:d.value,snappingFunction:o.closestGridPosition,type:d.type}))})}function EN(e,t){var n;t.position=t.closestGridPosition(t.position);let o=(n=_N(e.map(({keyframe:i})=>i)))==null?void 0:n.position;de().transaction(({stateEditors:i})=>{for(let{keyframe:l,trackId:s,address:u}of e)i.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},u),{trackId:s,position:t.position+l.position-o,handles:l.handles,value:l.value,snappingFunction:t.closestGridPosition,type:l.type}))})}function _N(e){let t=null;for(let n of e)(t===null||n.position<t.position)&&(t=n);return t}function Jte(e,t,n){let o=da("useDragForAggregateKeyframeDot"),i=lB(),l=(0,Jn.useMemo)(()=>({debugName:"AggregateKeyframeDot/useDragKeyframe",onDragStart(u){o._debug("onDragStart",{target:u.target});let d=Number(u.target.dataset.pos),f=t(d);if(!f)return o._debug("no props found for ",{positionToFind:d}),!1;i(!0,d);let m=(0,bn.prism)(iN(f)).getValue().cur.keyframes,v=f.viewModel.type==="sheet"?f.viewModel.sheet.address:f.viewModel.sheetObject.address,g=(0,bn.val)(de().atomP.historic.coreByProject[v.projectId].sheetsById[v.sheetId].sequence.tracksByObject),h=mB(g,function(x,{trackId:S,objectKey:_}){var O,j;return m.every(z=>x.id!==z.kf.id)&&!(f.selection&&(j=(O=f.selection.byObjectKey[_])==null?void 0:O.byTrackId[S])!=null&&j.byKeyframeId[x.id])});if(hB(h),f.selection&&f.aggregateKeyframes[f.index].selected===0){let{selection:x,viewModel:S}=f,_=x.getDragHandlers(he(L({},v),{domNode:e,positionAtStartOfDrag:m[0].kf.position})).onDragStart(u);return _&&he(L({},_),{onClick:n.onClickFromDrag,onDragEnd:(...O)=>{var j;(j=_.onDragEnd)==null||j.call(_,...O),Ci()}})}let b=f,y=(0,bn.val)(b.layoutP.scaledSpace.toUnitSpace),k;return{onDrag(x,S,_){var O;let j=Math.max((O=vn.checkIfMouseEventSnapToPos(_,{}))!=null?O:m[0].kf.position+y(x),0);i(!0,j),k==null||k.discard(),k=void 0,k=de().tempTransaction(({stateEditors:z})=>{for(let V of m){let W=V.kf;z.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},V.track.sheetObject.address),{trackId:V.track.id,keyframes:[he(L({},W),{position:j})],snappingFunction:(0,bn.val)(b.layoutP.sheet).getSequence().closestGridPosition}))}})},onDragEnd(x){i(!1,-1),x?k==null||k.commit():(k==null||k.discard(),n.onClickFromDrag(u)),Ci()},onClick(x){n.onClickFromDrag(x)}}}}),[t,n.onClickFromDrag]),[s]=xt(e,l);return Zn(s,"draggingPositionInSequenceEditor","ew-resize"),[s]}var bn,Jn,PN,CN,IN,jN,Ah,W1,q1,$1,Bh,L1=P(()=>{Re(),bn=je(),Jn=$(X()),be(),gn(),nt(),Wte(),ls(),fa(),A1(),Er(),Dt(),Gt(),Fn(),Ne(),eo(),Ii(),v8(),Ii(),ls(),CN=M.div(PN||(PN=F([`
  position: relative;
  height: 100%;
  width: 100%;
`]))),IN=Object.freeze({selectedPositions:new Map,selection:void 0}),jN=Jn.default.memo(qte),Ah=jN,W1=(e=>(e[e.AllSelected=0]="AllSelected",e[e.AtLeastOneUnselected=1]="AtLeastOneUnselected",e[e.NoneSelected=2]="NoneSelected",e))(W1||{}),{AllSelected:q1,AtLeastOneUnselected:$1,NoneSelected:Bh}=W1}),hs,Z1,ON,ene=P(()=>{Re(),hs=$(X()),zte(),ch(),L1(),ls(),fa(),Z1=(e,t)=>e.type==="propWithChildren"?hs.default.createElement(ON,{layoutP:t,viewModel:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}):hs.default.createElement(oN,{layoutP:t,leaf:e,key:"prop"+e.pathToProp[e.pathToProp.length-1]}),ON=({viewModel:e,layoutP:t})=>{let n=da("RightPropWithChildrenRow",e.pathToProp.join());return Xe(()=>{let o=oh(e);return hs.default.createElement(Ej,{logger:n},hs.default.createElement(us,{leaf:e,node:hs.default.createElement(Ah,{layoutP:t,aggregatedKeyframes:o,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(i=>Z1(i,t))))},[e,t])}}),G1,TN,zN,tne=P(()=>{Re(),G1=$(X()),ene(),ch(),ls(),L1(),TN=({leaf:e,layoutP:t})=>Xe(()=>{let n=oh(e);return G1.default.createElement(us,{leaf:e,node:G1.default.createElement(Ah,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>Z1(o,t)))},[e,t]),zN=TN}),Nh,DN,AN,nne=P(()=>{Re(),Nh=$(X()),tne(),ch(),ls(),L1(),DN=({leaf:e,layoutP:t})=>Xe(()=>{let n=oh(e);return Nh.default.createElement(us,{leaf:e,node:Nh.default.createElement(Ah,{layoutP:t,aggregatedKeyframes:n,viewModel:e}),isCollapsed:e.isCollapsed},e.children.map(o=>Nh.default.createElement(zN,{layoutP:t,key:"sheetObject-"+o.sheetObject.address.objectKey,leaf:o})))},[e,t]),AN=DN}),zc,Ai,Fh,BN,NN,FN,RN,MN=P(()=>{Re(),zc=je(),Ai=$(X()),be(),Wee(),PB(),nne(),Fh=1e6,NN=M.ul(BN||(BN=F([`
  margin: 0;
  padding: 0;
  list-style: none;
  position: absolute;
  left: 0;
  width: `,`px;
`])),Fh),FN=({layoutP:e})=>Xe(()=>{let t=(0,zc.val)(e.tree),n=(0,zc.val)(e.tree.top)+Math.max((0,zc.val)(e.tree.heightIncludingChildren),(0,zc.val)(e.dopeSheetDims.height));return Ai.default.createElement(Ai.default.Fragment,null,Ai.default.createElement(d1,{layoutP:e,height:n},Ai.default.createElement(ZA,{layoutP:e,height:n},Ai.default.createElement(NN,{style:{top:t.top+"px"}},Ai.default.createElement(AN,{leaf:t,layoutP:e})))))},[e]),RN=FN});function X1(e,t,n,o){let i="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(e,"px)"),l="calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(t,") * 1px)");n===0&&(n=1e-4);let s="calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(n,")");o===0&&(o=.001);let u="calc(var(--graphEditorVerticalSpace) * ".concat(o*-1,")");return"translate(".concat(i,", ").concat(l,") scale(").concat(s,", ").concat(u,")")}function rne(e,t){let{index:n,trackData:o}=t,i=o.keyframes[n],l=o.keyframes[n+1];return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:s})=>{let{deleteKeyframes:u}=s.coreByProject.historic.sheetsById.sequence;u(he(L({},t.sheetObject.address),{trackId:t.trackId,keyframeIds:[i.id,l.id]}))})}}]})}var Rh,UN,VN,HN,KN,WN,Y1=P(()=>{ha(),Ne(),gn(),nt(),Rh=$(X()),be(),VN=M.path(UN||(UN=F([`
  stroke-width: 2;
  stroke: var(--main-color);
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),HN="M 0 0 L 1 0 L 1 1",KN=e=>{let{index:t,trackData:n}=e,o=n.keyframes[t],i=n.keyframes[t+1],l=i.position-o.position,[s,u]=Qe(null),[d]=rne(u,e),f=e.isScalar?bp(o.value,e.propConfig):0,m=e.isScalar?bp(i.value,e.propConfig):1,v=e.extremumSpace.fromValueSpace(f),g=e.extremumSpace.fromValueSpace(m)-v,h=X1(o.position,v,l,g),b=o.handles[2],y=o.handles[3],k=i.handles[0],x=i.handles[1],S="M 0 0 C ".concat(b," ").concat(y," ").concat(k," ").concat(x," 1 1");return Rh.default.createElement(Rh.default.Fragment,null,Rh.default.createElement(VN,{ref:s,d:!o.type||o.type==="bezier"?S:HN,style:{transform:h}}),d)},WN=KN});function one(e,t){let n=(0,Bi.useRef)(t);n.current=t;let o=(0,Bi.useMemo)(()=>({debugName:"CurveHandler/useOurDrags",lockCSSCursorTo:"move",onDragStart(){let i,l=n.current,s=(0,Dc.val)(l.layoutP.scaledSpace.toUnitSpace),u=(0,Dc.val)(l.layoutP.graphEditorVerticalSpace.toExtremumSpace),d=l.extremumSpace.lock();return{onDrag(f,m){i&&(i.discard(),i=void 0);let{index:v,trackData:g}=l,h=g.keyframes[v],b=g.keyframes[v+1],y=s(f)/(b.position-h.position),k=-m,x=u(k),S=l.extremumSpace.deltaToValueSpace(x),_=t.isScalar?h.value:0,O=t.isScalar?b.value:1,j=S/(O-_);if(l.which==="left"){let z=kt(h.handles[2]+y,0,1),V=h.handles[3]+j;i=de().tempTransaction(({stateEditors:W})=>{W.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{snappingFunction:(0,Dc.val)(l.layoutP.sheet).getSequence().closestGridPosition,trackId:l.trackId,keyframes:[he(L({},h),{handles:[h.handles[0],h.handles[1],z,V]})]}))})}else{let z=kt(b.handles[0]+y,0,1),V=b.handles[1]+j;i=de().tempTransaction(({stateEditors:W})=>{W.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},l.sheetObject.address),{trackId:l.trackId,snappingFunction:(0,Dc.val)(l.layoutP.sheet).getSequence().closestGridPosition,keyframes:[he(L({},b),{handles:[z,V,b.handles[2],b.handles[3]]})]}))})}},onDragEnd(f){d(),f?i&&i.commit():i&&i.discard()}}}}),[]);xt(e,o)}function ane(e,t){return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var Dc,Bi,qN,Q1,$N,LN,ZN,GN,XN,J1,ine=P(()=>{Ne(),gn(),Dt(),nt(),Dc=je(),Ft(),Bi=$(X()),be(),Y1(),rt(),Q1=M.circle(qN||(qN=F([`
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;
  fill: var(--main-color);
  r: 2px;
  pointer-events: none;
`]))),LN=M.circle($N||($N=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  cursor: move;
  `,`;
  &:hover {
  }
  &:hover + `,` {
    r: 6px;
  }
`])),tt,Q1),GN=M.path(ZN||(ZN=F([`
  stroke-width: 1;
  stroke: var(--main-color);
  /* stroke: gray; */
  fill: none;
  vector-effect: non-scaling-stroke;
`]))),XN=e=>{let[t,n]=Qe(null),{index:o,trackData:i}=e,l=i.keyframes[o],s=i.keyframes[o+1],[u]=ane(n,e);one(n,e);let d=e.which==="left"?l.handles[2]:s.handles[0],f=l.position+(s.position-l.position)*d,m=e.which==="left"?l.handles[3]:s.handles[1],v=e.isScalar?l.value:0,g=e.isScalar?s.value:1,h=v+(g-v)*m,b=e.extremumSpace.fromValueSpace(h),y=b-e.extremumSpace.fromValueSpace(e.which==="left"?v:g),k=X1(e.which==="left"?l.position:s.position,e.extremumSpace.fromValueSpace(e.which==="left"?v:g),f-(e.which==="left"?l.position:s.position),y);return Bi.default.createElement("g",null,Bi.default.createElement(LN,{ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Bi.default.createElement(Q1,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(f," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(b,") * 1px)")}}),Bi.default.createElement(GN,{d:"M 0 0 L 1 1",style:{transform:k}}),u)},J1=XN});function lne(e){let[t,n]=(0,Pa.useState)(!1);No(t,e.props.keyframe.position);let o=(0,Pa.useRef)(e.props);o.current=e.props;let i=(0,Pa.useMemo)(()=>({debugName:"GraphEditorDotScalar/useDragKeyframe",lockCSSCursorTo:"move",onDragStart(l){n(!0);let s=!!l.altKey,u=o.current,d=(0,Mh.val)(u.layoutP.scaledSpace.toUnitSpace),f=(0,Mh.val)(u.layoutP.graphEditorVerticalSpace.toExtremumSpace),m=u.extremumSpace.lock(),v;return{onDrag(g,h){let b=u.trackData.keyframes[u.index],y=d(g),k=-h,x=f(k),S=u.extremumSpace.deltaToValueSpace(x),_=[],O=he(L({},b),{position:b.position+y,value:b.value+S,handles:[...b.handles]});if(_.push(O),s){let j=u.trackData.keyframes[u.index-1];if(j&&Math.abs(b.value-j.value)>0){let V=he(L({},j),{handles:[...j.handles]});_.push(V),V.handles[3]=une(j.handles[3],j.value,j.value,b.value,O.value)}let z=u.trackData.keyframes[u.index+1];if(z&&Math.abs(b.value-z.value)>0){let V=he(L({},z),{handles:[...z.handles]});_.push(V),V.handles[1]=cne(V.handles[1],V.value,V.value,b.value,O.value)}}v==null||v.discard(),v=de().tempTransaction(({stateEditors:j})=>{j.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},u.sheetObject.address),{trackId:u.trackId,keyframes:_,snappingFunction:(0,Mh.val)(u.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(g){n(!1),m(),g?v==null||v.commit():(v==null||v.discard(),e.onDetectedClick(l))}}}}),[]);return xt(e.node,i),Zn(t,"draggingPositionInSequenceEditor","move"),t}function sne(e,t){return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}function une(e,t,n,o,i){return(o-t)*e/(i-n)}function cne(e,t,n,o,i){return((t-o)*e+o-t+n-i)/(n-i)}var Mh,Pa,YN,ek,QN,JN,eF,tF,dne=P(()=>{Ne(),gn(),Dt(),nt(),Mh=je(),Pa=$(X()),be(),Gt(),Gt(),rt(),Fn(),Er(),Ih(),wi(),ek=M.circle(YN||(YN=F([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),JN=M.circle(QN||(QN=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: move;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,ek,Co),eF=e=>{let[t,n]=Qe(null),{index:o,trackData:i}=e,l=i.keyframes[o],[s]=sne(n,e),u=ki(e.itemKey),d=l.value,f=e.extremumSpace.fromValueSpace(d),m=Ph([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=lne({node:n,props:e,onDetectedClick:g=>m.toggle(g,g.target instanceof Element?g.target:n)});return Pa.default.createElement(Pa.default.Fragment,null,Pa.default.createElement(JN,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)")}},to(l.position)),vn.includePositionSnapAttrs(l.position)),u.attrs),{className:v?"beingDragged":""})),Pa.default.createElement(ek,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(l.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(f,") * 1px)"),fill:u.flag===2?"white":void 0}}),m.node,s)},tF=eF});function fne(e){let[t,n]=(0,Ca.useState)(!1);No(t,e.props.keyframe.position);let o=(0,Ca.useRef)(e.props);o.current=e.props;let i=(0,Ca.useMemo)(()=>({debugName:"GraphEditorDotNonScalar/useDragKeyframe",lockCSSCursorTo:"ew-resize",onDragStart(l){n(!0);let s=o.current,u=(0,tk.val)(s.layoutP.scaledSpace.toUnitSpace),d=s.extremumSpace.lock(),f;return{onDrag(m,v){let g=s.trackData.keyframes[s.index],h=u(m),b=[],y=he(L({},g),{position:g.position+h,value:g.value,handles:[...g.handles]});b.push(y),f==null||f.discard(),f=de().tempTransaction(({stateEditors:k})=>{k.coreByProject.historic.sheetsById.sequence.replaceKeyframes(he(L({},s.sheetObject.address),{trackId:s.trackId,keyframes:b,snappingFunction:(0,tk.val)(s.layoutP.sheet).getSequence().closestGridPosition}))})},onDragEnd(m){n(!1),d(),m?f==null||f.commit():(f==null||f.discard(),e.onDetectedClick(l))}}}}),[]);return xt(e.node,i),Zn(t,"draggingPositionInSequenceEditor","ew-resize"),t}function pne(e,t){return mn(e,{menuItems:()=>[{label:"Delete",callback:()=>{de().transaction(({stateEditors:n})=>{n.coreByProject.historic.sheetsById.sequence.deleteKeyframes(he(L({},t.sheetObject.address),{keyframeIds:[t.keyframe.id],trackId:t.trackId}))})}}]})}var tk,Ca,nF,nk,rF,oF,aF,rk,hne=P(()=>{Ne(),gn(),Dt(),nt(),tk=je(),Ca=$(X()),be(),Gt(),Gt(),rt(),Fn(),Er(),Ih(),wi(),nk=M.circle(nF||(nF=F([`
  fill: var(--main-color);
  stroke-width: 1px;
  vector-effect: non-scaling-stroke;

  r: 2px;
`]))),oF=M.circle(rF||(rF=F([`
  stroke-width: 6px;
  vector-effect: non-scaling-stroke;
  r: 6px;
  fill: transparent;
  `,`;

  &:hover + `,` {
    r: 6px;
  }

  #pointer-root.normal & {
    cursor: ew-resize;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.beingDragged {
    pointer-events: none !important;
  }
`])),tt,nk,Co),aF=e=>{let[t,n]=Qe(null),{index:o,trackData:i,itemKey:l}=e,s=i.keyframes[o],[u]=pne(n,e),d=ki(l),f=e.which==="left"?0:1,m=Ph([{type:"primitiveProp",keyframe:e.keyframe,pathToProp:e.pathToProp,propConfig:e.propConfig,sheetObject:e.sheetObject,trackId:e.trackId}]),v=fne({node:n,props:e,onDetectedClick:h=>m.toggle(h,h.target instanceof Element?h.target:n)}),g=e.extremumSpace.fromValueSpace(f);return Ca.default.createElement(Ca.default.Fragment,null,Ca.default.createElement(oF,he(L(L(L({ref:t,style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)")}},d.attrs),to(s.position)),vn.includePositionSnapAttrs(s.position)),{className:v?"beingDragged":""})),Ca.default.createElement(nk,{style:{cx:"calc(var(--unitSpaceToScaledSpaceMultiplier) * ".concat(s.position," * 1px)"),cy:"calc((var(--graphEditorVerticalSpace) - var(--graphEditorVerticalSpace) * ".concat(g,") * 1px)"),fill:d.flag===2?"white":void 0}}),m.node,u)},rk=aF}),Uh,iF,lF,sF,uF,mne=P(()=>{Uh=$(X()),be(),Y1(),lF=M.path(iF||(iF=F([`
  stroke-width: 2;
  stroke: var(--main-color);
  stroke-dasharray: 3 2;
  fill: none;
  vector-effect: non-scaling-stroke;
  opacity: 0.3;
`]))),sF=e=>{let{index:t,trackData:n}=e,o="M 0 0 L 1 1",i=X1(n.keyframes[t].position,e.extremumSpace.fromValueSpace(0),0,e.extremumSpace.fromValueSpace(1)-e.extremumSpace.fromValueSpace(0));return Uh.default.createElement(Uh.default.Fragment,null,Uh.default.createElement(lF,{d:o,style:{transform:i}}))},uF=sF}),Yt,cF,dF,fF,pF,hF,gne=P(()=>{Yt=$(X()),be(),Y1(),ine(),dne(),hne(),mne(),dF=M.g(cF||(cF=F([`
  /* position: absolute; */
`]))),fF=Yt.default.createElement(Yt.default.Fragment,null),pF=e=>{let{index:t,trackData:n,isScalar:o}=e,i=n.keyframes[t],l=n.keyframes[t+1],s=i.connectedRight&&!!l&&l.value!==i.value;return Yt.default.createElement(dF,null,s?Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(WN,L({},e)),!i.type||i.type==="bezier"&&Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(J1,he(L({},e),{which:"left"})),Yt.default.createElement(J1,he(L({},e),{which:"right"})))):fF,o?Yt.default.createElement(tF,L({},e)):Yt.default.createElement(Yt.default.Fragment,null,Yt.default.createElement(rk,he(L({},e),{which:"left"})),Yt.default.createElement(rk,he(L({},e),{which:"right"})),Yt.default.createElement(uF,L({},e))))},hF=pF});function vne(e,t){let n=1/0,o=-1/0;function i(l){n=Math.min(l,n),o=Math.max(l,o)}return e.forEach((l,s)=>{let u=bp(l.value,t);if(i(u),!l.connectedRight)return;let d=e[s+1];if(!d)return;let f=(typeof d.value=="number"?d.value:1)-u;i(u+l.handles[3]*f),i(u+d.handles[1]*f)}),[n,o]}function yne(e){let t=0,n=1;function o(i){t=Math.min(i,t),n=Math.max(i,n)}return e.forEach((i,l)=>{if(!i.connectedRight)return;let s=e[l+1];s&&(o(i.handles[3]),o(s.handles[1]))}),[t,n]}var ro,mF,gF,bne=P(()=>{zo(),ro=$(X()),Hh(),gne(),ha(),Re(),mF=ro.default.memo(({layoutP:e,trackData:t,sheetObject:n,trackId:o,color:i,pathToProp:l})=>{let s=yp(Ye(n.template.configPointer),l);if(Yr(s))return console.error("Composite prop types cannot be keyframed"),ro.default.createElement(ro.default.Fragment,null);let[u,d]=(0,ro.useState)(!1),f=(0,ro.useMemo)(()=>{let h=new Set;return function(){let b=h.size===0;h.add(y),b&&d(!0);function y(){let k=h.size>0;h.delete(y),k&&h.size===0&&d(!1)}return y}},[]),m=(0,ro.useMemo)(()=>{let h=s.type==="number"?vne(t.keyframes,s):yne(t.keyframes),b=x=>(x-h[0])/(h[1]-h[0]),y=x=>h[0]+k(x),k=x=>x*(h[1]-h[0]);return{fromValueSpace:b,toValueSpace:y,deltaToValueSpace:k,lock:f}},[t.keyframes]),v=(0,ro.useRef)(void 0);u||(v.current=m);let g=t.keyframes.map((h,b)=>ro.default.createElement(hF,{pathToProp:l,propConfig:s,itemKey:Rt.forTrackKeyframe(n,o,h.id),keyframe:h,index:b,trackData:t,layoutP:e,sheetObject:n,trackId:o,isScalar:s.type==="number",key:h.id,extremumSpace:v.current,color:i}));return ro.default.createElement("g",{style:{"--main-color":Ac[i].iconColor}},g)}),gF=mF}),vF,Vh,yF,bF,kne=P(()=>{Ne(),Re(),vF=je(),Vh=$(X()),bne(),yF=e=>Xe(()=>{let{sheetObject:t,trackId:n}=e,o=(0,vF.val)(de().atomP.historic.coreByProject[t.address.projectId].sheetsById[t.address.sheetId].sequence.tracksByObject[t.address.objectKey].trackData[n]);return(o==null?void 0:o.type)!=="BasicKeyframedTrack"?(console.error("trackData type ".concat(o==null?void 0:o.type," is not yet supported on the graph editor")),Vh.default.createElement(Vh.default.Fragment,null)):Vh.default.createElement(gF,he(L({},e),{trackData:o}))},[e.trackId,e.layoutP]),bF=yF});function kF({clippedSpaceRange:e,clippedSpaceWidth:t,fps:n,gapWidth:o=120},i){let l=1/n,s=e.end-e.start,u=t/(n*s),d=Math.floor(o/u),f=(d<n?wF(n).find(g=>g>=d):n*Math.floor(d/n))*l,m=Math.floor(e.start/f),v=Math.ceil(e.end/f);for(let g=m;g<=v;g++){let h=g*f,b=h%1===0;i(h,b)}}var wF,xF=P(()=>{Ft(),wF=k0(e=>{let t=[];for(let n=1;n<=e;n++)e%n===0&&t.push(n);return t})});function wne(e){let{clippedSpaceWidth:t,height:n,ctx:o,unitSpaceToClippedSpace:i,snapToGrid:l}=e;o.clearRect(0,0,t,n),kF(e,(s,u)=>{let d=l(s),f=Math.floor(i(d));o.strokeStyle=u?"rgba(225, 225, 225, 0.04)":"rgba(255, 255, 255, 0.01)",o.beginPath(),o.moveTo(f,0),o.lineTo(f,n),o.stroke(),o.closePath()})}var Ni,Fi,SF,EF,_F,PF,CF,IF,jF,OF,ok,TF=P(()=>{Ni=je(),Fi=$(X()),be(),xF(),Ne(),EF=M.div(SF||(SF=F([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),PF=M.canvas(_F||(_F=F([`
  position: relative;
  left: 0;
`]))),CF=e=>{let t=e;return t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1},IF=()=>window.devicePixelRatio||1,jF=e=>IF()/CF(e),OF=({layoutP:e,width:t,height:n})=>{let o=(0,Fi.useRef)(null),[i,l]=(0,Fi.useState)(null),{ctx:s,ratio:u}=(0,Fi.useMemo)(()=>{if(!i)return{};let d=i.getContext("2d"),f=jF(d);return{ctx:d,ratio:f}},[i]);return(0,Fi.useLayoutEffect)(()=>{if(!s)return;i.width=t*u,i.height=n*u;let d=(0,Ni.prism)(()=>{let f=(0,Ni.val)(e.sheet).getSequence();return{ctx:s,clippedSpaceRange:(0,Ni.val)(e.clippedSpace.range),clippedSpaceWidth:(0,Ni.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,Ni.val)(e.clippedSpace.fromUnitSpace),height:n,leftPadding:(0,Ni.val)(e.scaledSpace.leftPadding),fps:f.subUnitsPerUnit,snapToGrid:m=>f.closestGridPosition(m)}}).onChange(de().ticker,f=>{s.save(),s.scale(u,u),wne(f),s.restore()},!0);return()=>{d()}},[s,t,n,e]),Fi.default.createElement(EF,{ref:o,style:{width:t+"px"}},Fi.default.createElement(PF,{ref:l,style:{width:t+"px",height:n+"px"}}))},ok=OF}),oo,Ri,Ac,zF,DF,AF,BF,NF,FF,Hh=P(()=>{Ne(),eo(),Sp(),Re(),oo=je(),Ri=$(X()),be(),MN(),PB(),kne(),TF(),Nn(),Ac={1:{iconColor:"#b98b08"},2:{iconColor:"#70a904"},3:{iconColor:"#2e928a"},4:{iconColor:"#a943bb"},5:{iconColor:"#b90808"},6:{iconColor:"#b4bf0e"}},DF=M.div(zF||(zF=F([`
  position: absolute;
  right: 0;
  bottom: 0;
  background: `,`;
`])),gr(.03,"#1a1c1e")),BF=M.svg(AF||(AF=F([`
  position: absolute;
  top: 0;
  left: 0;
  margin: 0;
  pointer-events: none;
`]))),NF=({layoutP:e})=>Xe(()=>{let t=(0,oo.val)(e.sheet),n=(0,oo.val)(de().atomP.historic.projects.stateByProjectId[t.address.projectId].stateBySheetId[t.address.sheetId].sequenceEditor.selectedPropsByObject),o=(0,oo.val)(e.graphEditorDims.height),i=(0,oo.val)(e.scaledSpace.fromUnitSpace)(1),l=[];if(n)for(let[u,d]of Object.entries(n)){let f=t.getObject(u);if(!f)continue;let m=(0,oo.val)(f.template.getMapOfValidSequenceTracks_forStudio());for(let[v,g]of Object.entries(d)){let h=nh(v),b=ga(m,h);b&&l.push(Ri.default.createElement(bF,{key:"graph-".concat(u,"-").concat(v),sheetObject:f,pathToProp:h,layoutP:e,trackId:b,color:g}))}}let s=(0,oo.val)(e.rightDims.width);return Ri.default.createElement(DF,{style:{width:s+"px",height:o+"px","--unitSpaceToScaledSpaceMultiplier":i,"--graphEditorVerticalSpace":"".concat((0,oo.val)(e.graphEditorVerticalSpace.space))}},Ri.default.createElement(ok,{layoutP:e,width:s,height:o}),Ri.default.createElement(d1,{layoutP:e,height:o},Ri.default.createElement(BF,{width:Fh,height:o,viewBox:"0 0 ".concat(Fh," ").concat(o)},Ri.default.createElement("g",{style:{transform:"translate(".concat((0,oo.val)(e.scaledSpace.leftPadding),"px, ").concat((0,oo.val)(e.graphEditorDims.padding.top),"px)")}},l))))},[e]),FF=NF}),RF,er,MF,UF,VF,HF,ak,KF,WF,qF,$F,LF,ZF,GF,xne=P(()=>{Ne(),eo(),Ep(),Re(),RF=je(),er=$(X()),be(),mb(),jp(),Hh(),eh(),bi(),_A(),MF={label:{color:"#9a9a9a"}},VF=M(Gb)(UF||(UF=F([""]))),ak=M(Xb)(HF||(HF=F([`
  display: flex;
  color: `,`;
  padding-right: 12px;
  align-items: center;
  justify-content: flex-end;
  box-sizing: border-box;
`])),MF.label.color),WF=M.button(KF||(KF=F([`
  background: none;
  border: none;
  outline: none;
  display: flex;
  box-sizing: border-box;
  font-size: 14px;
  align-items: center;
  height: 100%;
  margin-left: 12px;
  color: `,`;

  &:not([disabled]):hover {
    color: white;
  }
`])),e=>e.isSelected?Ac[e.graphEditorColor].iconColor:va.offColor),qF=()=>er.default.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10",height:"12",viewBox:"0 0 640 512"},er.default.createElement("g",{transform:"translate(0 100)"},er.default.createElement("path",{fill:"currentColor",d:"M368 32h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM208 88h-84.75C113.75 64.56 90.84 48 64 48 28.66 48 0 76.65 0 112s28.66 64 64 64c26.84 0 49.75-16.56 59.25-40h79.73c-55.37 32.52-95.86 87.32-109.54 152h49.4c11.3-41.61 36.77-77.21 71.04-101.56-3.7-8.08-5.88-16.99-5.88-26.44V88zm-48 232H64c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32zM576 48c-26.84 0-49.75 16.56-59.25 40H432v72c0 9.45-2.19 18.36-5.88 26.44 34.27 24.35 59.74 59.95 71.04 101.56h49.4c-13.68-64.68-54.17-119.48-109.54-152h79.73c9.5 23.44 32.41 40 59.25 40 35.34 0 64-28.65 64-64s-28.66-64-64-64zm0 272h-96c-17.67 0-32 14.33-32 32v96c0 17.67 14.33 32 32 32h96c17.67 0 32-14.33 32-32v-96c0-17.67-14.33-32-32-32z"}))),LF=M.span($F||($F=F([`
  margin-right: 4px;
  `,`;

  `,`:hover & {
    color: #ccc;
  }
`])),ma,ak),ZF=({leaf:e})=>{var t;let n=Xu(e.sheetObject.propsP,e.pathToProp),o=e.sheetObject,{controlIndicators:i}=hb(n,o,e.propConf),l=Xe(()=>{let v=e.sheetObject.address,g=Jr(e.pathToProp);return(0,RF.val)(de().atomP.historic.projects.stateByProjectId[v.projectId].stateBySheetId[v.sheetId].sequenceEditor.selectedPropsByObject[v.objectKey][g])},[e]),s=(0,er.useRef)(!1),u=typeof l=="string";s.current=u;let d=(0,er.useCallback)(()=>{let v=e.sheetObject.address;de().transaction(({stateEditors:g})=>{s.current?g.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removePropFromGraphEditor(he(L({},v),{pathToProp:e.pathToProp})):(g.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.addPropToGraphEditor(he(L({},v),{pathToProp:e.pathToProp})),g.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!0}))})},[e]),f=(t=e.propConf.label)!=null?t:e.pathToProp[e.pathToProp.length-1],m=(0,er.useRef)(null);return SA(m.current,e),er.default.createElement(VF,{depth:e.depth},er.default.createElement(ak,{ref:m,isEven:e.n%2===0,style:{height:e.nodeHeight+"px"},isSelected:u===!0},er.default.createElement(LF,null,f),i,er.default.createElement(WF,{onClick:d,isSelected:u===!0,graphEditorColor:l??"1",style:{opacity:1},disabled:!1},er.default.createElement(qF,null))))},GF=ZF});function ik(e,t){de().transaction(({stateEditors:n})=>{n.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.sequenceEditorCollapsableItems.set(he(L({},t.sheetAddress),{studioSheetItemKey:t.sheetItemKey,isCollapsed:e}))})}var lk=P(()=>{Ne()}),ms,sk,XF,Sne=P(()=>{ms=$(X()),eh(),xne(),lk(),sk=e=>{let t="prop"+e.pathToProp[e.pathToProp.length-1];return e.shouldRender?e.type==="propWithChildren"?ms.default.createElement(XF,{leaf:e,key:t}):ms.default.createElement(GF,{leaf:e,key:t}):ms.default.createElement(ms.default.Fragment,{key:t})},XF=({leaf:e})=>ms.default.createElement(Jp,{leaf:e,label:e.pathToProp[e.pathToProp.length-1],isCollapsed:e.isCollapsed,toggleCollapsed:()=>ik(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>sk(t)))}),YF,QF,JF,Ene=P(()=>{YF=$(X()),eh(),Sne(),lk(),Ne(),QF=({leaf:e})=>YF.default.createElement(Jp,{leaf:e,label:e.sheetObject.address.objectKey,isCollapsed:e.isCollapsed,toggleSelect:()=>{de().transaction(({stateEditors:t})=>{t.studio.historic.panels.outline.selection.set([e.sheetObject])})},toggleCollapsed:()=>ik(!e.isCollapsed,{sheetAddress:e.sheetObject.address,sheetItemKey:e.sheetItemKey})},e.children.map(t=>sk(t))),JF=QF}),uk,e7,t7,_ne=P(()=>{Re(),uk=$(X()),Ene(),eh(),lk(),dT(),e7=({leaf:e})=>Xe(()=>uk.default.createElement(Jp,{leaf:e,label:e.sheet.address.sheetId,isCollapsed:e.isCollapsed,toggleCollapsed:()=>{ik(!e.isCollapsed,{sheetAddress:e.sheet.address,sheetItemKey:e.sheetItemKey})}},e.children.map(t=>uk.default.createElement(JF,{key:"sheetObject-"+uT(t.sheetObject),leaf:t}))),[e]),t7=e7}),ck,Kh,n7,r7,o7,a7,i7,l7,Pne=P(()=>{Re(),ck=je(),Kh=$(X()),be(),_ne(),r7=M.div(n7||(n7=F([`
  position: absolute;
  left: 0;
  overflow-x: visible;
`]))),a7=M.ul(o7||(o7=F([`
  margin: 0;
  padding: 0;
  list-style: none;
`]))),i7=({layoutP:e})=>Xe(()=>{let t=(0,ck.val)(e.tree),n=(0,ck.val)(e.leftDims.width);return Kh.default.createElement(r7,{style:{width:n+"px",top:t.top+"px"}},Kh.default.createElement(a7,null,Kh.default.createElement(t7,{leaf:t})))},[e]),l7=i7}),dk,s7,u7,c7,d7,Cne=P(()=>{rt(),Ho(),Re(),Nn(),dk=$(X()),be(),TF(),u7=M.div(s7||(s7=F([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: hidden;
  background: `,`;
  pointer-events: none;
`])),()=>co.rightBackground,gr(.01,Eu(1*.03,Rl.panel.bg))),c7=({layoutP:e})=>{let t=Ye(e.rightDims.width),n=Ye(e.panelDims.height);return dk.default.createElement(u7,{style:{width:t+"px"}},dk.default.createElement(ok,{width:t,height:n,layoutP:e}))},d7=c7}),gs,f7,p7,h7,m7,Ine=P(()=>{Re(),gs=$(X()),be(),Pne(),Cne(),MN(),eB(),p7=M.div(f7||(f7=F([`
  position: absolute;
  left: 0;
  right: 0;
`]))),h7=({layoutP:e})=>{let t=Ye(e.dopeSheetDims.height);return gs.default.createElement(p7,{style:{height:t+"px"}},gs.default.createElement(d7,{layoutP:e}),gs.default.createElement(JA,null,gs.default.createElement(l7,{layoutP:e}),gs.default.createElement(RN,{layoutP:e})))},m7=h7});function jne(e,t,n){return fk.prism.memo(e,()=>(0,fk.prism)(t),n).getValue()}var fk,One=P(()=>{fk=je()});function pt(e){return function(t,n){return e(t,n())}}function Mn(e){return Object.freeze({audience:Mi(e,8)?"internal":Mi(e,16)?"dev":"public",category:Mi(e,4)?"troubleshooting":Mi(e,2)?"todo":"general",level:Mi(e,512)?512:Mi(e,256)?256:Mi(e,128)?128:64})}function Mi(e,t){return(e&t)===t}function ht(e,t){return((t&32)===32?!0:(t&16)===16?e.dev:(t&8)===8?e.internal:!1)&&e.min<=t}function g7(e=console,t={}){let n=he(L({},ao),{includes:L({},ao.includes)}),o={styled:Dne.bind(n,e),noStyle:Bne.bind(n,e)},i=zne.bind(n);function l(){return n.loggingConsoleStyle&&n.loggerConsoleStyle?o.styled:o.noStyle}return n.create=l(),{configureLogger(s){var u;s==="console"?(n.loggerConsoleStyle=ao.loggerConsoleStyle,n.create=l()):s.type==="console"?(n.loggerConsoleStyle=(u=s.style)!=null?u:ao.loggerConsoleStyle,n.create=l()):s.type==="keyed"?(n.creatExt=d=>s.keyed(d.names),n.create=i):s.type==="named"&&(n.creatExt=Tne.bind(null,s.named),n.create=i)},configureLogging(s){var u,d,f,m,v;n.includes.dev=(u=s.dev)!=null?u:ao.includes.dev,n.includes.internal=(d=s.internal)!=null?d:ao.includes.internal,n.includes.min=(f=s.min)!=null?f:ao.includes.min,n.include=(m=s.include)!=null?m:ao.include,n.loggingConsoleStyle=(v=s.consoleStyle)!=null?v:ao.loggingConsoleStyle,n.create=l()},getLogger(){return n.create({names:[]})}}}function Tne(e,t){let n=[];for(let{name:o,key:i}of t.names)n.push(i==null?o:"".concat(o," (").concat(i,")"));return e(n)}function zne(e){let t=L(L({},this.includes),this.include(e)),n=this.filtered,o=this.named.bind(this,e),i=this.creatExt(e),l=ht(t,524),s=ht(t,522),u=ht(t,521),d=ht(t,529),f=ht(t,545),m=ht(t,265),v=ht(t,268),g=ht(t,273),h=ht(t,289),b=ht(t,137),y=ht(t,145),k=ht(t,73),x=ht(t,81),S=l?i.error.bind(i,Pn._hmm):n.bind(e,524),_=s?i.error.bind(i,Pn._todo):n.bind(e,522),O=u?i.error.bind(i,Pn._error):n.bind(e,521),j=d?i.error.bind(i,Pn.errorDev):n.bind(e,529),z=f?i.error.bind(i,Pn.errorPublic):n.bind(e,545),V=v?i.warn.bind(i,Pn._kapow):n.bind(e,268),W=m?i.warn.bind(i,Pn._warn):n.bind(e,265),B=g?i.warn.bind(i,Pn.warnDev):n.bind(e,273),Z=h?i.warn.bind(i,Pn.warnPublic):n.bind(e,273),re=b?i.debug.bind(i,Pn._debug):n.bind(e,137),D=y?i.debug.bind(i,Pn.debugDev):n.bind(e,145),G=k?i.trace.bind(i,Pn._trace):n.bind(e,73),C=x?i.trace.bind(i,Pn.traceDev):n.bind(e,81),Q={_hmm:S,_todo:_,_error:O,errorDev:j,errorPublic:z,_kapow:V,_warn:W,warnDev:B,warnPublic:Z,_debug:re,debugDev:D,_trace:G,traceDev:C,lazy:{_hmm:l?pt(S):S,_todo:s?pt(_):_,_error:u?pt(O):O,errorDev:d?pt(j):j,errorPublic:f?pt(z):z,_kapow:v?pt(V):V,_warn:m?pt(W):W,warnDev:g?pt(B):B,warnPublic:h?pt(Z):Z,_debug:b?pt(re):re,debugDev:y?pt(D):D,_trace:k?pt(G):G,traceDev:x?pt(C):C},named:o,utilFor:{internal(){return{debug:Q._debug,error:Q._error,warn:Q._warn,trace:Q._trace,named(xe,q){return Q.named(xe,q).utilFor.internal()}}},dev(){return{debug:Q.debugDev,error:Q.errorDev,warn:Q.warnDev,trace:Q.traceDev,named(xe,q){return Q.named(xe,q).utilFor.dev()}}},public(){return{error:Q.errorPublic,warn:Q.warnPublic,debug(xe,q){Q._warn('(public "debug" filtered out) '.concat(xe),q)},trace(xe,q){Q._warn('(public "trace" filtered out) '.concat(xe),q)},named(xe,q){return Q.named(xe,q).utilFor.public()}}}}};return Q}function Dne(e,t){let n=L(L({},this.includes),this.include(t)),o=[],i="";for(let d=0;d<t.names.length;d++){let{name:f,key:m}=t.names[d];if(i+=" %c".concat(f),o.push(this.style.css(f)),m!=null){let v="%c#".concat(m);i+=v,o.push(this.style.css(v))}}let l=this.filtered,s=this.named.bind(this,t),u=[i,...o];return v7(l,t,n,e,u,Ane(u),s)}function Ane(e){let t=e.slice(0);for(let n=1;n<t.length;n++)t[n]+=";background-color:#e0005a;padding:2px;color:white";return t}function Bne(e,t){let n=L(L({},this.includes),this.include(t)),o="";for(let u=0;u<t.names.length;u++){let{name:d,key:f}=t.names[u];o+=" ".concat(d),f!=null&&(o+="#".concat(f))}let i=this.filtered,l=this.named.bind(this,t),s=[o];return v7(i,t,n,e,s,s,l)}function v7(e,t,n,o,i,l,s){let u=ht(n,524),d=ht(n,522),f=ht(n,521),m=ht(n,529),v=ht(n,545),g=ht(n,265),h=ht(n,268),b=ht(n,273),y=ht(n,289),k=ht(n,137),x=ht(n,145),S=ht(n,73),_=ht(n,81),O=u?o.error.bind(o,...i):e.bind(t,524),j=d?o.error.bind(o,...i):e.bind(t,522),z=f?o.error.bind(o,...i):e.bind(t,521),V=m?o.error.bind(o,...i):e.bind(t,529),W=v?o.error.bind(o,...i):e.bind(t,545),B=h?o.warn.bind(o,...l):e.bind(t,268),Z=g?o.warn.bind(o,...i):e.bind(t,265),re=b?o.warn.bind(o,...i):e.bind(t,273),D=y?o.warn.bind(o,...i):e.bind(t,273),G=k?o.info.bind(o,...i):e.bind(t,137),C=x?o.info.bind(o,...i):e.bind(t,145),Q=S?o.debug.bind(o,...i):e.bind(t,73),xe=_?o.debug.bind(o,...i):e.bind(t,81),q={_hmm:O,_todo:j,_error:z,errorDev:V,errorPublic:W,_kapow:B,_warn:Z,warnDev:re,warnPublic:D,_debug:G,debugDev:C,_trace:Q,traceDev:xe,lazy:{_hmm:u?pt(O):O,_todo:d?pt(j):j,_error:f?pt(z):z,errorDev:m?pt(V):V,errorPublic:v?pt(W):W,_kapow:h?pt(B):B,_warn:g?pt(Z):Z,warnDev:b?pt(re):re,warnPublic:y?pt(D):D,_debug:k?pt(G):G,debugDev:x?pt(C):C,_trace:S?pt(Q):Q,traceDev:_?pt(xe):xe},named:s,utilFor:{internal(){return{debug:q._debug,error:q._error,warn:q._warn,trace:q._trace,named(K,ee){return q.named(K,ee).utilFor.internal()}}},dev(){return{debug:q.debugDev,error:q.errorDev,warn:q.warnDev,trace:q.traceDev,named(K,ee){return q.named(K,ee).utilFor.dev()}}},public(){return{error:q.errorPublic,warn:q.warnPublic,debug(K,ee){q._warn('(public "debug" filtered out) '.concat(K),ee)},trace(K,ee){q._warn('(public "trace" filtered out) '.concat(K),ee)},named(K,ee){return q.named(K,ee).utilFor.public()}}}}};return q}var Pn,ao,y7=P(()=>{Pn={_hmm:Mn(524),_todo:Mn(522),_error:Mn(521),errorDev:Mn(529),errorPublic:Mn(545),_kapow:Mn(268),_warn:Mn(265),warnDev:Mn(273),warnPublic:Mn(289),_debug:Mn(137),debugDev:Mn(145),_trace:Mn(73),traceDev:Mn(81)},ao={loggingConsoleStyle:!0,loggerConsoleStyle:!0,includes:Object.freeze({internal:!1,dev:!1,min:256}),filtered:function(){},include:function(){return{}},create:null,creatExt:null,named(e,t,n){return this.create({names:[...e.names,{name:t,key:n}]})},style:{bold:void 0,italic:void 0,cssMemo:new Map([["",""]]),collapseOnRE:/[a-z- ]+/g,color:void 0,collapsed(e){if(e.length<5)return e;let t=e.replace(this.collapseOnRE,"");return this.cssMemo.has(t)||this.cssMemo.set(t,this.css(e)),t},css(e){var t,n,o,i;let l=this.cssMemo.get(e);if(l)return l;let s="color:".concat((n=(t=this.color)==null?void 0:t.call(this,e))!=null?n:"hsl(".concat((e.charCodeAt(0)+e.charCodeAt(e.length-1))%360,", 100%, 60%)"));return(o=this.bold)!=null&&o.test(e)&&(s+=";font-weight:600"),(i=this.italic)!=null&&i.test(e)&&(s+=";font-style:italic"),this.cssMemo.set(e,s),s}}}}),pk,Wh,qh=P(()=>{y7(),y7(),pk=g7(console,{}),pk.configureLogging({dev:!0,min:64}),Wh=pk.getLogger().named("Theatre.js (default logger)").utilFor.dev()}),Ia,Ui,b7,Nne=P(()=>{zo(),Ia=je(),qh(),_o(),Ui=28,b7=(e,t)=>{var n;Ia.prism.ensurePrism();let o=!0,i=Wf+Ui,l=0,s=t.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId].sequence.collapsableItems,u=s.byId[Rt.forSheet()].isCollapsed,d=(n=(0,Ia.pointerToPrism)(u).getValue())!=null?n:!1,f={type:"sheet",isCollapsed:d,sheet:e,children:[],sheetItemKey:Rt.forSheet(),shouldRender:o,top:Wf,depth:0,n:l,nodeHeight:Ui,heightIncludingChildren:-1};l+=1;for(let y of Object.values((0,Ia.val)(e.objectsP)))y&&m(y,f.children,f.depth+1,!d);f.heightIncludingChildren=i-f.top;function m(y,k,x,S){var _;let O=(0,Ia.val)(y.template.getMapOfValidSequenceTracks_forStudio()),j=(0,Ia.val)(y.template.configPointer);if(Object.keys(O).length===0)return;let z=s.byId[Rt.forSheetObject(y)].isCollapsed,V=(_=(0,Ia.pointerToPrism)(z).getValue())!=null?_:!1,W={type:"sheetObject",isCollapsed:V,sheetItemKey:Rt.forSheetObject(y),shouldRender:S,top:i,children:[],depth:x,n:l,sheetObject:y,nodeHeight:S?Ui:0,heightIncludingChildren:-1};k.push(W),S&&(l+=1,i+=W.nodeHeight),v(y,O,[],j,W.children,x+1,S&&!V),W.heightIncludingChildren=i-W.top}function v(y,k,x,S,_,O,j){for(let[z,V]of Object.entries(k)){let W=S.props[z];g(y,V,[...x,z],W,_,O,j)}}function g(y,k,x,S,_,O,j){S.type==="compound"?h(y,k,S,x,S,_,O,j):S.type==="enum"?Wh.warn("Prop type enum is not yet supported in the sequence editor"):b(y,k,x,S,_,O,j)}function h(y,k,x,S,_,O,j,z){var V;let W=s.byId[Rt.forSheetObjectProp(y,S)].isCollapsed,B=(V=(0,Ia.pointerToPrism)(W).getValue())!=null?V:!1,Z={type:"propWithChildren",isCollapsed:B,propConf:x,pathToProp:S,sheetItemKey:Rt.forSheetObjectProp(y,S),sheetObject:y,shouldRender:z,top:i,children:[],nodeHeight:z?Ui:0,heightIncludingChildren:-1,depth:j,trackMapping:k,n:l};O.push(Z),z&&(i+=Z.nodeHeight,l+=1),v(y,k,S,_,Z.children,j+1,z&&!B),Z.heightIncludingChildren=i-Z.top}function b(y,k,x,S,_,O,j){let z={type:"primitiveProp",propConf:S,depth:O,sheetItemKey:Rt.forSheetObjectProp(y,x),sheetObject:y,pathToProp:x,shouldRender:j,top:i,nodeHeight:j?Ui:0,heightIncludingChildren:j?Ui:0,trackId:k,n:l};_.push(z),l+=1,i+=z.nodeHeight}return f}});function Fne(e,t){let n=de(),o=n.atomP.ahistoric.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId],i=n.atomP.historic.projects.stateByProjectId[e.address.projectId].stateBySheetId[e.address.sheetId];return(0,Cn.prism)(()=>{var l;let s=jne("tree",()=>b7(e,n),[]),u=(0,Cn.val)(t),d=(0,Cn.val)(n.atomP.historic.panels.sequenceEditor.graphEditor),f=(0,Cn.val)(i.sequenceEditor.selectedPropsByObject),m=!!f&&Object.keys(f).length>0,{leftDims:v,rightDims:g,graphEditorDims:h,dopeSheetDims:b,horizontalScrollbarDims:y}=Cn.prism.memo("leftDims",()=>{var Z;let re={width:Math.floor(u.width*k7),height:u.height,screenX:u.screenX,screenY:u.screenY},D={width:u.width-re.width,height:u.height,screenX:u.screenX+re.width,screenY:u.screenY},G=m&&(d==null?void 0:d.isOpen)===!0,C=Math.floor((G?kt((Z=d==null?void 0:d.height)!=null?Z:.5,.1,.7):0)*u.heightWithoutBorder),Q=0+C,xe=u.height-Q,q={width:u.width,height:xe,screenX:u.screenX,screenY:u.screenY},K={isAvailable:m,isOpen:G,width:D.width,height:C,screenX:u.screenX,screenY:u.screenY+xe,padding:{top:20,bottom:20}};return{leftDims:re,rightDims:D,graphEditorDims:K,dopeSheetDims:q,horizontalScrollbarDims:{bottom:0}}},[u,d,m]),k=Cn.prism.memo("graphEditorVerticalSpace",()=>{let Z=h.height-h.padding.top-h.padding.bottom;return{space:Z,fromExtremumSpace(re){return re*Z},toExtremumSpace(re){return re/Z}}},[h]),[x,S]=Cn.prism.state("isSeeking",!1),_={isSeeking:x,setIsSeeking:S},O={},j=(l=(0,Cn.val)(o.sequence.clippedSpaceRange))!=null?l:w7,z=Cn.prism.memo("scaledSpace",()=>{let Z=j.end-j.start,re=g.width,D=Z/re,G=re/Z;return{fromUnitSpace(C){return C*G},toUnitSpace(C){return C*D},leftPadding:10}},[j,g.width]),V=Cn.prism.memo("setClippedSpaceRange",()=>function(Z){n.transaction(({stateEditors:re})=>{let D=L({},Z);if(D.end<=D.start&&(D.end=D.start+1),D.start<0){let G=D.end-D.start;D.start=0,D.end=G}re.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.clippedSpaceRange.set(he(L({},e.address),{range:D}))})},[]),W=Cn.prism.memo("clippedSpace",()=>({range:j,width:g.width,fromUnitSpace(Z){return z.fromUnitSpace(Z-j.start)+z.leftPadding},toUnitSpace(Z){return z.toUnitSpace(Z-z.leftPadding)+j.start},setRange:V}),[j,g.width,z,V]),B=Cn.prism.memo("selection.current",()=>new Cn.Atom({}),[]);return Zb("finalAtom",{sheet:e,tree:s,panelDims:u,leftDims:v,rightDims:g,dopeSheetDims:b,horizontalScrollbarDims:y,seeker:_,unitSpace:O,scaledSpace:z,clippedSpace:W,graphEditorDims:h,graphEditorVerticalSpace:k,selectionAtom:B}).pointer})}var Cn,k7,w7,Rne=P(()=>{Ne(),One(),xA(),Cn=je(),Nne(),Ft(),k7=.2,w7={start:0,end:10}});function Mne(e){let{fullSecondStampsContainer:t,sequencePositionFormatter:n,snapToGrid:o,unitSpaceToClippedSpace:i}=e,l="";kF(e,(s,u)=>{let d=o(s),f=i(d);u?l+=x7(n.formatFullUnitForGrid(d),f,"full-unit"):l+=x7(n.formatSubUnitForGrid(d),f,"sub-unit")}),t.innerHTML=l}function x7(e,t,n){return'<span class="'.concat(n,'" style="transform: translate3d(').concat(t.toFixed(1),'px, -50%, 0);">').concat(e,"</span>")}var Vi,Hi,S7,E7,ja,_7,P7,C7,I7,j7,O7,T7=P(()=>{Vi=je(),Nn(),Hi=$(X()),be(),xF(),Ne(),E7=M.div(S7||(S7=F([`
  position: absolute;
  top: 0;
  left: 0;
  height: 100%;
  pointer-events: none;
`]))),ja={fullUnitStampColor:"#6a6a6a",stampFontSize:"10px",get subUnitStampColor(){return Eu(.2,ja.fullUnitStampColor)}},P7=M.div(_7||(_7=F([`
  position: absolute;
  top: 0;
  height: 100%;
  left: 0;
  overflow: hidden;
  z-index: 2;
  will-change: transform;
  pointer-events: none;
`]))),I7=M.div(C7||(C7=F([`
  position: absolute;
  top: 0;
  left: 0;

  & > span {
    position: absolute;
    display: block;
    top: 9px;
    left: -10px;
    color: `,`;
    text-align: center;
    font-size: `,`;
    width: 20px;

    &.full-unit {
      color: `,`;
    }

    &.sub-unit {
      color: `,`;
    }
  }

  pointer-events: none;
`])),ja.fullUnitStampColor,ja.stampFontSize,ja.fullUnitStampColor,ja.subUnitStampColor),j7=({layoutP:e,width:t})=>{let n=(0,Hi.useRef)(null),[o,i]=(0,Hi.useState)(null);return(0,Hi.useLayoutEffect)(()=>{if(o)return(0,Vi.prism)(()=>{let l=(0,Vi.val)(e.sheet).getSequence();return{fullSecondStampsContainer:o,clippedSpaceRange:(0,Vi.val)(e.clippedSpace.range),clippedSpaceWidth:(0,Vi.val)(e.clippedSpace.width),unitSpaceToClippedSpace:(0,Vi.val)(e.clippedSpace.fromUnitSpace),leftPadding:(0,Vi.val)(e.scaledSpace.leftPadding),fps:l.subUnitsPerUnit,sequencePositionFormatter:l.positionFormatter,snapToGrid:s=>l.closestGridPosition(s)}}).onChange(de().ticker,Mne,!0)},[o,t,e]),Hi.default.createElement(E7,{ref:n,style:{width:t+"px"}},Hi.default.createElement(P7,{style:{width:t+"px"}},Hi.default.createElement(I7,{ref:i})))},O7=j7});function Une(e){let[t,n]=(0,hk.useState)(!1);return(0,hk.useEffect)(()=>{if(n(!1),!e)return;let o=l=>{l.target===e?n(!0):n(!1)},i=()=>{n(!1)};return e.addEventListener("mouseenter",o),e.addEventListener("mousemove",o),e.addEventListener("mouseleave",i),()=>{n(!1),e.removeEventListener("mouseenter",o),e.removeEventListener("mousemove",o),e.removeEventListener("mouseleave",i)}},[e]),t}var hk,Vne=P(()=>{hk=$(X())});function Hne(e,t){let n=0,[o,i]=e,[l,s]=t;return i-o>s-l?[l,s]:(o<l&&(n=0-o),i>s&&(n=s-i),[o+n,i+n])}var io,Oa,At,mk,z7,$h,D7,A7,B7=P(()=>{io=je(),Re(),rt(),Ne(),Wi(),gn(),Dt(),nt(),Oa=$(X()),be(),Gt(),At={enabled:{backgroundColor:"#2C2F34",stroke:"#646568"},disabled:{backgroundColor:"#282a2cc5",stroke:"#595a5d"},hover:{backgroundColor:"#34373D",stroke:"#C8CAC0"},dragging:{backgroundColor:"#3F444A",stroke:"#C8CAC0"},thumbWidth:9,hitZoneWidth:26,rangeStripMinWidth:30},mk=1e3,$h=M.div(z7||(z7=F([`
  position: absolute;
  height: `,`px;
  background-color: `,`;
  cursor: grab;
  top: 0;
  left: 0;
  width: `,`px;
  transform-origin: left top;
  &:hover {
    background-color: `,`;
  }
  &.dragging {
    background-color: `,`;
    cursor: grabbing !important;
  }
  `,`;

  /* covers the one pixel space between the focus range strip and the top strip
  of the sequence editor panel, which would have caused that one pixel to act
  like a panel drag zone */
  &:after {
    display: block;
    content: ' ';
    position: absolute;
    bottom: -1px;
    height: 1px;
    left: 0;
    right: 0;
    background: transparent;
    pointer-events: normal;
    z-index: -1;
  }
`])),()=>so-1,e=>e.enabled?At.enabled.backgroundColor:At.disabled.backgroundColor,mk,At.hover.backgroundColor,At.dragging.backgroundColor,tt),D7=({layoutP:e})=>{let t=(0,Oa.useMemo)(()=>(0,io.prism)(()=>{let{projectId:f,sheetId:m}=(0,io.val)(e.sheet).address;return(0,io.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),[n,o]=Qe(null),[i]=mn(o,{menuItems:()=>{let f=(0,io.val)(e.sheet),m=t.getValue();return[{label:"Delete focus range",callback:()=>{de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.unset(L({},f.address))}).commit()}},{label:m!=null&&m.enabled?"Disable focus range":"Enable focus range",callback:()=>{m!==void 0&&de().tempTransaction(({stateEditors:v})=>{v.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},f.address),{range:m.range,enabled:!m.enabled}))}).commit()}}]}}),l=Ye(e.scaledSpace.toUnitSpace),s=Ye(e.sheet),u=(0,Oa.useMemo)(()=>{let f,m;return{debugName:"FocusRangeStrip",onDragStart(v){let g,h=t.getValue();if(!h)return!1;let b=h.range.start,y=h.range.end,k=!1,x=(0,io.val)(e.sheet).getSequence();return{onDrag(S){if(h=t.getValue(),h){k=!0;let _=l(S),O=b+_,j=y+_;j<O&&(j=O),[f,m]=Hne([O,j],[0,x.length]).map(z=>x.closestGridPosition(z)),g&&g.discard(),g=de().tempTransaction(({stateEditors:z})=>{var V;z.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},s.address),{range:{start:f,end:m},enabled:(V=h==null?void 0:h.enabled)!=null?V:!0}))})}},onDragEnd(){h&&(k&&g!==void 0?g.commit():g&&g.discard())}}},lockCSSCursorTo:"grabbing"}},[s,l]),[d]=xt(o,u);return No(d,-1),Xe(()=>{let f=t.getValue(),m=(f==null?void 0:f.range)||{start:0,end:0},v=(0,io.val)(e.clippedSpace.fromUnitSpace)(m.start),g=(0,io.val)(e.clippedSpace.fromUnitSpace)(m.end),h,b;return v<0&&(v=0),g>(0,io.val)(e.clippedSpace.width)&&(g=(0,io.val)(e.clippedSpace.width)),v>g?(b=0,h=0):(b=v,h=(g-v)/mk),f?Oa.default.createElement(Oa.default.Fragment,null,i,Oa.default.createElement($h,{id:"range-strip",enabled:f.enabled,className:"".concat(d?"dragging":""," ").concat(f.enabled?"enabled":""),ref:n,style:{transform:"translateX(".concat(b,"px) scale(").concat(h,", 1)")}})):Oa.default.createElement(Oa.default.Fragment,null)},[e,n,t,i,d])},A7=D7}),Ta,Mo,N7,F7,R7,M7,U7,V7,H7,gk,Kne=P(()=>{Ta=je(),Re(),Ne(),Wi(),Fn(),Dt(),nt(),Mo=$(X()),be(),Gt(),B7(),Er(),F7=M.div(N7||(N7=F([`
  position: absolute;
  top: 0;
  // the right handle has to be pulled back by its width since its right side indicates its position, not its left side
  left: `,`px;
  transform-origin: left top;
  width: `,`px;
  height: `,`px;
  z-index: 3;

  --bg: `,`;

  stroke: `,`;
  user-select: none;

  cursor: `,`;

  // no pointer events unless pointer-root is in normal mode _and_ the
  // focus range is enabled
  #pointer-root & {
    pointer-events: none;
  }

  #pointer-root.normal & {
    pointer-events: auto;
  }

  #pointer-root.draggingPositionInSequenceEditor & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &.dragging {
    pointer-events: none !important;
  }

  // highlight the handle if it's hovered, or the whole strip is hovverd
  `,`:hover ~ &, &:hover {
    --bg: `,`;
    stroke: `,`;
  }

  // highlight the handle when it's being dragged or the whole strip is being dragged.
  // using dragging.dragging to give this selector priority, as it seems to be overridden
  // by the hover selector above
  &.dragging,
  `,`.dragging.dragging ~ & {
    --bg: `,`;
    stroke: `,`;
  }

  #pointer-root.draggingPositionInSequenceEditor &:hover {
    --bg: `,`;
    stroke: #40aaa4;
  }

  background-color: var(--bg);

  // a larger hit zone
  &:before {
    display: block;
    content: ' ';
    position: absolute;
    inset: -8px;
  }
`])),e=>e.type==="start"?0:-At.thumbWidth,At.thumbWidth,()=>so-1,({enabled:e})=>e?At.enabled.backgroundColor:At.disabled.backgroundColor,At.enabled.stroke,e=>e.type==="start"?"w-resize":"e-resize",Co,()=>$h,At.hover.backgroundColor,At.hover.stroke,()=>$h,At.dragging.backgroundColor,At.dragging.stroke,At.dragging.backgroundColor),M7=M.div(R7||(R7=F([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    var(--bg) 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?90:-90,e=>e.type==="start"?At.thumbWidth:-At.thumbWidth+1),V7=M.div(U7||(U7=F([`
  position: absolute;
  top: 0;
  bottom: 0;
  pointer-events: none;

  background: linear-gradient(
    `,`deg,
    `,` 0%,
    #ffffff00 100%
  );

  width: 12px;
  left: `,`px;
`])),e=>e.type==="start"?-90:90,()=>Bc.backgroundColor,e=>e.type==="start"?-12:At.thumbWidth),H7=({layoutP:e,thumbType:t})=>{var n;let[o,i]=Qe(null),l=(0,Mo.useMemo)(()=>(0,Ta.prism)(()=>{let{projectId:f,sheetId:m}=(0,Ta.val)(e.sheet).address;return(0,Ta.val)(de().atomP.ahistoric.projects.stateByProjectId[f].stateBySheetId[m].sequence.focusRange)}),[e]),s=(0,Mo.useMemo)(()=>({debugName:"FocusRangeThumb",onDragStart(){let f,m,v=(0,Ta.val)(e.sheet),g={start:0,end:v.getSequence().length},h=l.getValue()||{range:g,enabled:!1},b=h.enabled,y=h.range[t],k=(0,Ta.val)(e.scaledSpace.toUnitSpace),x=k(At.rangeStripMinWidth);return{onDrag(S,_,O){var j;let z,V=vn.checkIfMouseEventSnapToPos(O,{ignore:i});if(V==null){let B=k(S);z=y+B}else z=V;m=((j=l.getValue())==null?void 0:j.range)||g,t==="start"?z=Math.max(Math.min(z,m.end-x),0):z=Math.min(Math.max(z,m.start+x),v.getSequence().length);let W=v.getSequence().closestGridPosition(z);f!==void 0&&f.discard(),f=de().tempTransaction(({stateEditors:B})=>{B.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},v.address),{range:he(L({},m),{[t]:W}),enabled:b}))})},onDragEnd(S){S?f==null||f.commit():f==null||f.discard()}}}}),[e]),[u]=xt(i,s);Zn(u,"draggingPositionInSequenceEditor",t==="start"?"w-resize":"e-resize");let d=Ye(l);return No(u,(n=d==null?void 0:d.range[t])!=null?n:0),Xe(()=>{let f=l.getValue();if(!f)return null;let{enabled:m}=f,v=f.range[t],g=(0,Ta.val)(e.clippedSpace.fromUnitSpace)(v);return(g<0||(0,Ta.val)(e.clippedSpace.width)<g)&&(g=-1e4),Mo.default.createElement(F7,he(L(L({ref:o},vn.includePositionSnapAttrs(v)),to(v)),{className:"".concat(u&&"dragging"," ").concat(m&&"enabled"),enabled:m,type:t,style:{transform:"translate3d(".concat(g,"px, 0, 0)")}}),Mo.default.createElement(M7,{type:t,enabled:m}),Mo.default.createElement(V7,{type:t}),Mo.default.createElement("svg",{viewBox:"0 0 9 18",xmlns:"http://www.w3.org/2000/svg"},Mo.default.createElement("line",{x1:"4",y1:"6",x2:"4",y2:"12"}),Mo.default.createElement("line",{x1:"6",y1:"6",x2:"6",y2:"12"})))},[e,o,l,u])},gk=H7});function Wne(e,t){let[n,o]=(0,lo.useState)("none");return Zn(n!=="none","dragging",n==="creating"?"ew-resize":"move"),(0,lo.useMemo)(()=>{let i=()=>({debugName:"FocusRangeZone/focusRangeCreationGestureHandlers",onDragStart(s){let u,d=(0,Ki.val)(e.clippedSpace.toUnitSpace),f=(0,Ki.val)(e.scaledSpace.toUnitSpace),m=(0,Ki.val)(e.sheet),v=m.getSequence(),g=s.target.getBoundingClientRect(),h=d(s.clientX-g.left),b=f(At.rangeStripMinWidth);return{onDrag(y){let k=f(y),x=h,S=h+k;[x,S]=[kt(x,0,v.length),kt(S,0,v.length)].map(_=>v.closestGridPosition(_)),S<x?[x,S]=[Math.max(Math.min(S,x-b),0),x]:y>0&&(S=Math.min(Math.max(S,x+b),v.length)),u&&u.discard(),u=de().tempTransaction(({stateEditors:_})=>{_.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence.focusRange.set(he(L({},m.address),{range:{start:x,end:S},enabled:!0}))})},onDragEnd(y){y&&u!==void 0?u.commit():u&&u.discard()}}},lockCSSCursorTo:"ew-resize"}),l=()=>({debugName:"FocusRangeZone/panelMoveGestureHandlers",onDragStart(){let s,u=t.current,d=t.current.addBoundsHighlightLock();return{onDrag(f,m){let v=he(L({},u.dims),{top:kt(u.dims.top+m,0,window.innerHeight-Hr),left:kt(u.dims.left+f,-u.dims.width+Hr,window.innerWidth-Hr)}),g=Xp(v,{width:window.innerWidth,height:window.innerHeight});s==null||s.discard(),s=de().tempTransaction(({stateEditors:h})=>{h.studio.historic.panelPositions.setPanelPosition({position:g,panelId:u.panelId})})},onDragEnd(f){d(),f?s==null||s.commit():s==null||s.discard()}}},lockCSSCursorTo:"move"});return{debugName:"FocusRangeZone",onDragStart(s){let[u,d]=s.shiftKey?["creating",i().onDragStart(s)]:["moving-panel",l().onDragStart(s)];return o(u),d===!1?!1:{onDrag(f,m,v,g,h){d.onDrag(f,m,v,g,h)},onDragEnd(f){var m;o("none"),(m=d.onDragEnd)==null||m.call(d,f)}}}}},[e,t])}var Ki,lo,K7,W7,q7,$7,qne=P(()=>{Ki=je(),Re(),Ne(),is(),Wi(),Fn(),Dt(),Vne(),RA(),nt(),Ft(),lo=$(X()),be(),B7(),Kne(),_o(),W7=M.div(K7||(K7=F([`
  position: absolute;
  height: `,`px;
  left: 0;
  right: 0;
  box-sizing: border-box;
  /* Use the "grab" cursor if the shift key is up, which is the one used on the top strip of the sequence editor */
  cursor: `,`;
`])),()=>so,e=>e.isShiftDown?"ew-resize":"move"),q7=({layoutP:e})=>{let[t,n]=Qe(null),o=as(),i=(0,lo.useRef)(o);i.current=o;let l=(0,lo.useMemo)(()=>(0,Ki.prism)(()=>{let{projectId:d,sheetId:f}=(0,Ki.val)(e.sheet).address;return(0,Ki.val)(de().atomP.ahistoric.projects.stateByProjectId[d].stateBySheetId[f].sequence.focusRange)}),[e]);xt(n,Wne(e,i));let s=NA("Shift"),u=Une(n);return(0,lo.useEffect)(()=>{if(!s&&u)return i.current.addBoundsHighlightLock()},[!s&&u]),Xe(()=>lo.default.createElement(W7,{ref:t,isShiftDown:s},lo.default.createElement(A7,{layoutP:e}),lo.default.createElement(gk,{thumbType:"start",layoutP:e}),lo.default.createElement(gk,{thumbType:"end",layoutP:e})),[e,l,s])},$7=q7}),vs,so,Bc,L7,Z7,G7,X7,Wi=P(()=>{Re(),vs=$(X()),be(),T7(),Gt(),rt(),qne(),so=18,Bc={backgroundColor:"#1f2120eb",borderColor:"#1c1e21"},Z7=M.div(L7||(L7=F([`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  height: `,`px;
  box-sizing: border-box;
  background: `,`;
  border-bottom: 1px solid `,`;
  `,`;
`])),so,Bc.backgroundColor,Bc.borderColor,tt),G7=({layoutP:e})=>{let t=Ye(e.rightDims.width);return vs.default.createElement(vs.default.Fragment,null,vs.default.createElement(Z7,L({},to("hide")),vs.default.createElement(O7,{layoutP:e,width:t,height:so}),vs.default.createElement($7,{layoutP:e})))},X7=G7}),qi,Y7,Q7,J7,eR,tR,nR,rR,oR,$ne=P(()=>{qi=$(X()),be(),Re(),Ne(),wy(),bi(),Y7=e=>isFinite(e)&&e>0,J7=M.div(Q7||(Q7=F([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),tR=M.div(eR||(eR=F([`
  `,`;
  white-space: nowrap;
`])),ma),nR=({deltaX:e})=>e*.25,rR=({layoutP:e})=>{let t=Ye(e.sheet),n=(0,qi.useMemo)(()=>{let i;return{temporarilySetValue(l){i&&(i.discard(),i=void 0),i=de().tempTransaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})},discardTemporaryValue(){i&&(i.discard(),i=void 0)},permanentlySetValue(l){i&&(i.discard(),i=void 0),de().transaction(({stateEditors:s})=>{s.coreByProject.historic.sheetsById.sequence.setLength(he(L({},t.address),{length:l}))})}}},[e,t]),o=(0,qi.useRef)(null);return(0,qi.useLayoutEffect)(()=>{o.current.focus()},[]),Xe(()=>{let i=t.getSequence().length;return qi.default.createElement(J7,null,qi.default.createElement(tR,null,"Sequence length"),qi.default.createElement(Jf,he(L({value:i},n),{isValid:Y7,inputRef:o,nudge:nR})))},[t,n,o])},oR=rR});function Lne(e,t){let n=(0,In.useRef)(t);n.current=t;let o=(0,In.useMemo)(()=>({debugName:"LengthIndicator/useDragBulge",lockCSSCursorTo:"ew-resize",onDragStart(l){let s,u=n.current,d=(0,$i.val)(n.current.layoutP.sheet),f=d.getSequence().length,m=(0,$i.val)(u.layoutP.scaledSpace.toUnitSpace);return{onDrag(v,g,h){let b=m(v);s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:y})=>{y.coreByProject.historic.sheetsById.sequence.setLength(he(L({},d.address),{length:f+b}))})},onDragEnd(v){v?s&&s.commit():s&&s.discard()}}}}),[]),[i]=xt(e,o);return No(i,-1),[i]}var $i,In,vk,Nc,aR,za,iR,lR,sR,uR,cR,dR,fR,pR,hR,mR,gR,Zne=P(()=>{Re(),$i=je(),In=$(X()),be(),Ho(),Wi(),nt(),Dt(),Ne(),Lr(),Gt(),Ll(),$ne(),rt(),Gr(),vk=1e3,Nc={stripNormal:"#0000006c",stripActive:"#000000"},za=M.div(aR||(aR=F([`
  position: absolute;
  top: 0;
  left: 0;
  width: 4px;
  z-index: `,`;
  pointer-events: none;

  &:after {
    display: block;
    content: ' ';
    position: absolute;
    /* top: `,`px; */
    top: 0;
    bottom: 0;
    left: -1px;
    width: 1px;
    background-color: `,`;
  }

  &:hover:after,
  &.dragging:after {
    background-color: `,`;
  }
`])),()=>co.lengthIndicatorStrip,so,Nc.stripNormal,Nc.stripActive),lR=M.div(iR||(iR=F([`
  position: absolute;
  top: `,`px;
  width: 100px;
  left: -50px;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 1;
`])),so-15),uR=M.div(sR||(sR=F([`
  margin-top: 8px;
  font-size: 10px;
  white-space: nowrap;
  padding: 2px 8px;
  border-radius: 2px;
  `,`;
  cursor: ew-resize;
  color: #464646;
  background-color: #0000004d;
  display: none;

  `,":hover &, ",`.dragging & {
    display: block;
    color: white;
    background-color: `,`;
  }
`])),tt,za,za,Nc.stripActive),dR=M.div(cR||(cR=F([`
  font-size: 10px;
  white-space: nowrap;
  padding: 1px 2px;
  border-radius: 2px;
  `,`;
  justify-content: center;
  align-items: center;
  cursor: ew-resize;
  color: #5d5d5d;
  background-color: #191919;

  `,":hover &, ",`.dragging & {
    color: white;
    background-color: `,`;

    & > svg:first-child {
      margin-right: -1px;
    }
  }

  & > svg:first-child {
    margin-right: -4px;
  }
`])),tt,za,za,Nc.stripActive),pR=M.div(fR||(fR=F([`
  position: absolute;
  top: 0;
  left: 0;
  background-color: rgb(23 23 23 / 43%);
  width: `,`px;
  z-index: `,`;
  transform-origin: left top;

  `,".dragging ~ &, ",`:hover ~ & {
    background-color: rgb(23 23 23 / 60%);
  }
`])),vk,()=>co.lengthIndicatorCover,za,za),hR=-1e4,mR=({layoutP:e})=>{let[t,n]=Qe(null),[o]=Lne(n,{layoutP:e}),{node:i,toggle:l,close:s}=$r({debugName:"LengthIndicator"},()=>In.default.createElement(Zr,null,In.default.createElement(oR,{layoutP:e,onRequestClose:s})));return Xe(()=>{let u=(0,$i.val)(e.sheet),d=(0,$i.val)(e.rightDims.height),f=u.getSequence(),m=f.length,v=m,g=(0,$i.val)(e.clippedSpace.fromUnitSpace)(v),h=(0,$i.val)(e.clippedSpace.width),b,y;return g>h?(y=0,b=0):(g<0&&(g=0),y=g,b=(h-g)/vk),In.default.createElement(In.default.Fragment,null,i,In.default.createElement(za,{style:{height:d+"px",transform:"translateX(".concat(y===0?hR:y,"px)")},className:o?"dragging":""},In.default.createElement(lR,null,In.default.createElement(dR,L({ref:t,onClick:k=>{l(k,n)}},to("hide")),In.default.createElement(FQ,null),In.default.createElement(RQ,null)),In.default.createElement(uR,null,"Sequence length:"," ",f.positionFormatter.formatBasic(m)))),In.default.createElement(pR,{title:"Length",style:{height:d+"px",transform:"translateX(".concat(y,"px) scale(").concat(b,", 1)")}}))},[e,t,o,i])},gR=mR}),yk,Uo,vR,yR,bR,kR,wR,xR,SR,ER,Gne=P(()=>{Re(),yk=je(),Uo=$(X()),be(),T7(),Ho(),Wi(),Gt(),yR=M.div(vR||(vR=F([`
  position: absolute;
  top: 0;
  left: 0;
  margin-top: 0px;
`]))),kR=M.div(bR||(bR=F([`
  position: absolute;
  top: 16px;
  font-size: `,`;
  color: `,`;
  text-align: center;
  transform: translateX(-50%);
  background: `,`;
  padding: 1px 8px;
  font-variant-numeric: tabular-nums;
  pointer-events: none;
  z-index: `,`;
`])),ja.stampFontSize,ja.fullUnitStampColor,Bc.backgroundColor,()=>co.currentFrameStamp),xR=M.div(wR||(wR=F([`
  position: absolute;
  top: 5px;
  left: -0px;
  bottom: 0;
  width: 0.5px;
  background: rgba(100, 100, 100, 0.2);
  pointer-events: none;
`]))),SR=Uo.default.memo(({layoutP:e})=>{let[t,n]=Ye(iB()),o=Ye(e.clippedSpace.fromUnitSpace),{sequence:i,formatter:l,clippedSpaceWidth:s}=Xe(()=>{let m=(0,yk.val)(e.sheet).getSequence(),v=(0,yk.val)(e.clippedSpace.width);return{sequence:m,formatter:m.positionFormatter,clippedSpaceWidth:v}},[e]);if(t==-1)return Uo.default.createElement(Uo.default.Fragment,null);let u=n===3?i.closestGridPosition(t):t,d=o(u),f=d>=0&&d<=s;return Uo.default.createElement(Uo.default.Fragment,null,Uo.default.createElement(yR,null,Uo.default.createElement(kR,{style:{opacity:f?1:0,transform:"translate3d(calc(".concat(d,"px - 50%), 0, 0)")}},l.formatForPlayhead(u)),Uo.default.createElement(xR,{posType:n,style:{opacity:f?1:0,transform:"translate3d(".concat(d,"px, 0, 0)")}}))," ")}),ER=SR}),_r,kn,_R,PR,CR,IR,jR,Lh,OR,bk,TR,Zh,zR,Gh,DR,kk,AR,BR,Xne=P(()=>{Re(),_r=je(),x5(),Nn(),kn=$(X()),be(),Ho(),Gt(),rt(),Dt(),PR=M.div(_R||(_R=F([`
  --threadHeight: 6px;
  --bg-inactive: #32353b;
  --bg-active: #5b5c5d;
  position: absolute;
  height: 0;
  width: 100%;
  left: 12px;
  /* bottom: 8px; */
  z-index: `,`;
  `,`
`])),()=>co.horizontalScrollbar,tt),IR=M.div(CR||(CR=F([`
  position: relative;
  top: 0;
  left: 0;
  width: 100%;
  height: var(--threadHeight);
`]))),Lh=M.div(jR||(jR=F([`
  position: absolute;
  height: 5px;
  background: var(--bg-inactive);
  cursor: ew-resize;
  z-index: 2;

  &:hover,
  &:active {
    background: var(--bg-active);
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),_v("absolute","-4px")),bk=M.div(OR||(OR=F([`
  position: absolute;
  height: 5px;
  width: 7px;
  left: 0;
  z-index: 2;
  top: 0;
  bottom: 0;
  display: block;

  &:hover:before {
    background: var(--bg-active);
  }

  &:before {
    `,`;
    display: block;
    content: ' ';
    background: var(--bg-inactive);
    border-radius: 0 2px 2px 0;
  }

  &:after {
    `,`;
    display: block;
    content: ' ';
  }
`])),_v("absolute","0"),_v("absolute","-4px")),Zh=M(bk)(TR||(TR=F([`
  left: calc(-1 * 7px);
  cursor: w-resize;
  &:before {
    transform: scaleX(-1);
  }
`]))),Gh=M(bk)(zR||(zR=F([`
  cursor: e-resize;
  left: 0px;
`]))),kk=M.div(DR||(DR=F([`
  display: `,`;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 4px;
  transform: translateX(-50%);
  background: #131d1f;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;

  `,`:hover &,
  `,`:hover &,
  `,":hover ~ ",` &,
  `,":hover ~ ",` & {
    display: block;
  }
`])),e=>e.active?"block":"none",Zh,Gh,Lh,Zh,Lh,Gh),AR=({layoutP:e})=>{let t=(0,kn.useCallback)(k=>k.toFixed(2),[]),n=(0,kn.useMemo)(()=>(0,_r.prism)(()=>{let k=(0,_r.val)(e.rightDims.width)-25,x=(0,_r.val)(e.clippedSpace.range),S=(0,_r.val)(e.sheet).getSequence().length,_=Math.max(x.end,S),O=x.start/_*k,j=x.end/_*k;return{rightWidth:k,clippedSpaceRange:x,sequenceLength:S,assumedLengthOfSequence:_,rangeStartX:O,rangeEndX:j,bottom:(0,_r.val)(e.horizontalScrollbarDims.bottom)}}),[e]),{rangeStartX:o,rangeEndX:i,clippedSpaceRange:l,bottom:s}=Ye(n),[u,d]=(0,kn.useState)("nothing"),f=(0,kn.useMemo)(()=>{let k=(0,_r.val)(n),x=()=>{k=(0,_r.val)(n)},S=_=>_/k.rightWidth*k.assumedLengthOfSequence;return{onRangeDragStart(){return x(),{onDrag(_){d("both");let O=S(_),j=ui(k.clippedSpaceRange,z=>z+O);(0,_r.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeStartDragStart(){return x(),{onDrag(_){d("start");let O=S(_),j={start:k.clippedSpaceRange.start+O,end:k.clippedSpaceRange.end};j.start>j.end-1&&(j.start=j.end-1),j.start<=0&&(j.start=0),(0,_r.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}},onRangeEndDragStart(){return x(),{onDrag(_){d("end");let O=S(_),j={start:k.clippedSpaceRange.start,end:k.clippedSpaceRange.end+O};j.end<j.start+1&&(j.end=j.start+1),j.end>=k.assumedLengthOfSequence&&(j.end=k.assumedLengthOfSequence),(0,_r.val)(e.clippedSpace.setRange)(j)},onDragEnd(){d("nothing")}}}}},[e,n]),[m,v]=(0,kn.useState)(null);xt(m,{debugName:"HorizontalScrollbar/onRangeDrag",onDragStart:f.onRangeDragStart,lockCSSCursorTo:"ew-resize"});let[g,h]=(0,kn.useState)(null);xt(g,{debugName:"HorizontalScrollbar/onRangeStartDrag",onDragStart:f.onRangeStartDragStart,lockCSSCursorTo:"w-resize"});let[b,y]=(0,kn.useState)(null);return xt(b,{debugName:"HorizontalScrollbar/onRangeEndDrag",onDragStart:f.onRangeEndDragStart,lockCSSCursorTo:"e-resize"}),kn.default.createElement(PR,L({style:{bottom:s+8+"px"}},to("hide")),kn.default.createElement(IR,null,kn.default.createElement(Lh,{ref:v,style:{width:"".concat(i-o,"px"),transform:"translate3d(".concat(o,"px, 0, 0)")}}),kn.default.createElement(Zh,{ref:h,style:{transform:"translate3d(".concat(o,"px, 0, 0)")}},kn.default.createElement(kk,{active:u==="both"||u==="start"},t(l.start))),kn.default.createElement(Gh,{ref:y,style:{transform:"translate3d(".concat(i,"px, 0, 0)")}},kn.default.createElement(kk,{active:u==="both"||u==="end"},t(l.end)))))},BR=AR}),NR,FR,RR,MR,UR,Yne=P(()=>{NR=$(X()),be(),RR=M.div(FR||(FR=F([`
  position: absolute;
  inset: `,`px;
`])),e=>e.room*-1),MR=e=>NR.default.createElement(RR,{room:e.room}),UR=MR}),Xh,Yh,wk,VR,HR,KR,WR,qR,$R,LR,ZR,Qne=P(()=>{be(),Re(),wy(),bi(),Xh=$(X()),Yh=$(X()),wk=je(),uf(),VR=e=>isFinite(e)&&e>=0,KR=M.div(HR||(HR=F([`
  display: flex;
  gap: 8px;
  padding: 4px 8px;
  height: 28px;
  align-items: center;
`]))),qR=M.div(WR||(WR=F([`
  `,`;
  white-space: nowrap;
`])),ma),$R=({deltaX:e})=>e*.25,LR=({layoutP:e,onRequestClose:t})=>{let n=(0,wk.val)(e.sheet),o=n.getSequence(),i=(0,Xh.useMemo)(()=>{let s,u=o.position;return{temporarilySetValue(d){s&&(s=void 0),s=kt(d,0,o.length),o.position=s},discardTemporaryValue(){s&&(s=void 0,o.position=u,t("discardTemporaryValue"))},permanentlySetValue(d){s&&(s=void 0),o.position=kt(d,0,o.length),t("permanentlySetValue")}}},[e,o]),l=(0,Xh.useRef)(null);return(0,Xh.useLayoutEffect)(()=>{l.current.focus()},[]),Xe(()=>{let s=n.getSequence(),u=Number((0,wk.val)(s.pointer.position).toFixed(3));return Yh.default.createElement(KR,null,Yh.default.createElement(qR,null,"Sequence position"),Yh.default.createElement(Jf,he(L({value:u},i),{isValid:VR,inputRef:l,nudge:$R})))},[n,i,l])},ZR=LR}),GR,Jne=P(()=>{GR=typeof navigator<"u"&&navigator.platform.toUpperCase().indexOf("MAC")>=0}),XR,ere=P(()=>{Jne(),XR=e=>GR?e.metaKey===!0:e.ctrlKey===!0});function tre(){Qh=!1}function nre(){Qh=!0}function rre(){let e=de();(0,YR.useEffect)(()=>{let t=n=>{let o=n.composedPath()[0];if(!(o&&(o.tagName==="INPUT"||o.tagName==="TEXTAREA"))){if(n.key==="z"||n.key==="Z"||n.code==="KeyZ")if(XR(n))n.shiftKey===!0?e.redo():e.undo();else return;else if(n.code==="Space"&&!n.shiftKey&&!n.metaKey&&!n.altKey&&!n.ctrlKey){if(!Qh)return;let i=iQ();if(i)if(i.playing)i.pause();else{let{projectId:l,sheetId:s}=i.address,u=(0,Pr.prism)(()=>{let m=(0,Pr.val)(de().atomP.ahistoric.projects.stateByProjectId[l].stateBySheetId[s].sequence.focusRange);return Pr.prism.memo("shouldFollowFocusRange",()=>{let v=i.position;if(m){let g=v>=m.range.start&&v<=m.range.end;return m.enabled?!!g:!0}else return!0},[])&&m&&m.enabled?{range:[m.range.start,m.range.end],isFollowingARange:!0}:{range:[0,(0,Pr.val)(i.pointer.length)],isFollowingARange:!1}}),d=i.playDynamicRange((0,Pr.prism)(()=>(0,Pr.val)(u).range),de().ticker),f=xk(i);d.finally(()=>{f.set(void 0)}),f.set(u)}else return}else if(n.altKey&&(n.key==="\\"||n.code==="Backslash"||n.code==="IntlBackslash"))e.transaction(({stateEditors:i,drafts:l})=>{i.studio.ahistoric.setVisibilityState(l.ahistoric.visibilityState==="everythingIsHidden"?"everythingIsVisible":"everythingIsHidden")});else return;n.preventDefault(),n.stopPropagation()}};return window.addEventListener("keydown",t),()=>{window.removeEventListener("keydown",t)}},[])}var YR,Pr,Qh,xk,QR,Sk=P(()=>{YR=$(X()),Ne(),ere(),ca(),Pr=je(),vp(),Qh=!0,xk=qu(e=>new Pr.Atom(void 0)),QR=qu(e=>(0,Pr.prism)(()=>{let t=xk(e).prism.getValue();if(t)return t.getValue().isFollowingARange;{let{projectId:n,sheetId:o}=e.address,i=(0,Pr.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange);if(!i||!i.enabled)return!1;let l=(0,Pr.val)(e.pointer.position);return l>=i.range.start&&l<=i.range.end}}))});function ore(e,t){return mn(e,{menuItems(){return[{label:"Place marker",callback:()=>{de().transaction(({stateEditors:n})=>{let o=(0,uo.val)(t.layoutP.sheet),i=o.getSequence();n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:o.address,markers:[{id:WJ(),position:i.position}],snappingFunction:i.closestGridPosition})})}}]}})}var uo,tr,JR,Li,eM,tM,nM,Ek,rM,oM,aM,iM,lM,sM,are=P(()=>{Yne(),Dt(),nt(),Re(),uo=je(),uf(),tr=$(X()),be(),Ho(),Gt(),rt(),Lr(),Gr(),Qne(),Sk(),Fn(),gn(),Ne(),zo(),Er(),Ii(),Li=M.div(JR||(JR=F([`
  --thumbColor: #00e0ff;
  position: absolute;
  top: 0;
  left: 0;
  width: 5px;
  height: 100%;
  z-index: `,`;
  pointer-events: none;

  display: `,`;
`])),()=>co.playhead,e=>e.isVisible?"block":"none"),tM=M.div(eM||(eM=F([`
  position: absolute;
  top: 8px;
  width: 0;
  height: calc(100% - 8px);
  border-left: 1px solid #27e0fd;
  z-index: 10;
  pointer-events: none;

  #pointer-root.draggingPositionInSequenceEditor &:not(.seeking) {
    /* pointer-events: auto; */
    /* cursor: var(`,`); */

    &:after {
      position: absolute;
      inset: -8px;
      display: block;
      content: ' ';
    }
  }
`])),Co),Ek=M.div(nM||(nM=F([`
  background-color: var(--thumbColor);
  position: absolute;
  width: 5px;
  height: 13px;
  top: -4px;
  left: -2px;
  z-index: 11;
  cursor: ew-resize;
  --sunblock-color: #1f2b2b;

  `,`;

  `,`.seeking > & {
    pointer-events: none !important;
  }

  #pointer-root.draggingPositionInSequenceEditor
    `,`:not(.seeking)
    > & {
    pointer-events: auto;
    cursor: var(`,`);
  }

  `,`.playheadattachedtofocusrange > & {
    top: -8px;
    --sunblock-color: #005662;
    &:before,
    &:after {
      border-bottom-width: 8px;
    }
  }

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    left: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-left: 2px solid transparent;
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    right: -2px;
    width: 0;
    height: 0;
    border-bottom: 4px solid var(--sunblock-color);
    border-right: 2px solid transparent;
  }
`])),tt,Li,Li,Co,Li),oM=M.div(rM||(rM=F([`
  position: absolute;
  left: 1px;
  right: 1px;
  top: 13px;
  border-top: 3px solid var(--thumbColor);
  border-right: 1px solid transparent;
  border-left: 1px solid transparent;
  pointer-events: none;

  /* `,`.playheadattachedtofocusrange & {
    top: 10px;
    &:before,
    &:after {
      height: 15px;
    }
  } */

  &:before {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    left: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 0 100% 0 0;
    border-top: 1px solid var(--thumbColor);
    border-right: 1px solid var(--thumbColor);
  }

  &:after {
    position: absolute;
    display: block;
    content: ' ';
    top: -4px;
    right: -2px;
    height: 8px;
    width: 2px;
    background: none;
    border-radius: 100% 0 0 0;
    border-top: 1px solid var(--thumbColor);
    border-left: 1px solid var(--thumbColor);
  }
`])),Li),iM=M.div(aM||(aM=F([`
  display: none;
  position: absolute;
  top: -20px;
  left: 4px;
  padding: 0 2px;
  transform: translateX(-50%);
  background: #1a1a1a;
  border-radius: 4px;
  color: #fff;
  font-size: 10px;
  line-height: 18px;
  text-align: center;
  `,":hover &, ",`.seeking & {
    display: block;
  }
`])),Ek,Li),lM=({layoutP:e})=>{let[t,n]=Qe(null),{node:o,toggle:i,close:l}=$r({debugName:"Playhead"},()=>tr.default.createElement(Zr,null,tr.default.createElement(ZR,{layoutP:e,onRequestClose:l}))),s=(0,tr.useMemo)(()=>({debugName:"RightOverlay/Playhead",onDragStart(){let f=(0,uo.val)(e.sheet).getSequence(),m=f.position,v=(0,uo.val)(e.scaledSpace.toUnitSpace),g=(0,uo.val)(e.seeker.setIsSeeking);return g(!0),l1(),{onDrag(h,b,y){var k;let x=v(h);f.position=(k=vn.checkIfMouseEventSnapToPos(y,{ignore:n}))!=null?k:kt(m+x,0,f.length)},onDragEnd(h){g(!1),Ci()},onClick(h){i(h,t.current)}}}}),[e,n]),[u]=xt(n,s);Zn(u,"draggingPositionInSequenceEditor","ew-resize"),No(Ye(e.seeker.isSeeking)||u,-1);let[d]=ore(n,{layoutP:e});return Xe(()=>{let f=(0,uo.val)(e.seeker.isSeeking),m=(0,uo.val)(e.sheet).getSequence(),v=(0,uo.val)(QR(m)),g=m.positionPrism.getValue(),h=(0,uo.val)(e.clippedSpace.fromUnitSpace)(g),b=h>=0&&h<=(0,uo.val)(e.clippedSpace.width);return tr.default.createElement(tr.default.Fragment,null,d,o,tr.default.createElement(Li,L({isVisible:b,style:{transform:"translate3d(".concat(h,"px, 0, 0)")},className:"".concat(f&&"seeking"," ").concat(v&&"playheadattachedtofocusrange")},to("hide")),tr.default.createElement(Ek,L({ref:t},vn.includePositionSnapAttrs(g)),tr.default.createElement(UR,{room:8}),tr.default.createElement(oM,null),tr.default.createElement(iM,null,m.positionFormatter.formatForPlayhead(m.closestGridPosition(g)))),tr.default.createElement(tM,he(L({},vn.includePositionSnapAttrs(g)),{className:f?"seeking":""}))))},[e,t,o])},sM=lM}),Zi,Fc,Jh,uM,cM,dM,fM,ire=P(()=>{Zi=je(),Re(),Ne(),Wi(),Fc=$(X()),be(),Jh=1e3,cM=M.div(uM||(uM=F([`
  position: absolute;
  top: `,`px;
  left: 0;
  opacity: 0.15;
  width: `,`px;
  transform-origin: top left;
  pointer-events: none;
  background-color: `,`;
`])),so,Jh,e=>e.enabled?"#000000":"transparent"),dM=({layoutP:e})=>{let t=(0,Fc.useMemo)(()=>(0,Zi.prism)(()=>{let{projectId:n,sheetId:o}=(0,Zi.val)(e.sheet).address;return(0,Zi.val)(de().atomP.ahistoric.projects.stateByProjectId[n].stateBySheetId[o].sequence.focusRange)}),[e]);return Xe(()=>{let n=t.getValue();if(!n||!n.enabled)return null;let{range:o}=n,i=(0,Zi.val)(e.rightDims.height)-so,l=(0,Zi.val)(e.clippedSpace.fromUnitSpace),s=(0,Zi.val)(e.clippedSpace.width),u=[];{let d=0,f=l(n.range.start),m,v;d>f?(v=0,m=0):(f>s&&(f=s),v=d,m=(f-d)/Jh),u.push({translateX:v,scaleX:m})}{let d=l(n.range.end),f=s,m,v;d>f?(v=0,m=0):(d<0&&(d=0),v=d,m=(f-d)/Jh),u.push({translateX:v,scaleX:m})}return Fc.default.createElement(Fc.default.Fragment,null,u.map(({translateX:d,scaleX:f},m)=>Fc.default.createElement(cM,{key:"curtain-".concat(m),enabled:!0,style:{height:"".concat(i,"px"),transform:"translateX(".concat(d,"px) scaleX(").concat(f,")")}})))},[e,t])},fM=dM}),ys,pM,hM,mM,gM,vM,lre=P(()=>{ys=$(X()),be(),Re(),Ne(),bi(),Iy(),hM=M.div(pM||(pM=F([`
  display: flex;
  gap: 8px;
  /* padding: 4px 8px; */
  height: 28px;
  align-items: center;
`]))),M.div(mM||(mM=F([`
  `,`;
  white-space: nowrap;
`])),ma),gM=({layoutP:e,marker:t})=>{var n;let o=Ye(e.sheet),i=(0,ys.useMemo)(()=>{let s;return{temporarilySetValue(u){s&&(s.discard(),s=void 0),s=de().tempTransaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})},discardTemporaryValue(){s&&(s.discard(),s=void 0)},permanentlySetValue(u){s&&(s.discard(),s=void 0),de().transaction(({stateEditors:d})=>{d.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.updateMarker({sheetAddress:o.address,markerId:t.id,label:u})})}}},[e,o]),l=(0,ys.useRef)(null);return(0,ys.useLayoutEffect)(()=>{l.current.focus()},[]),ys.default.createElement(hM,null,ys.default.createElement(tp,he(L({value:(n=t.label)!=null?n:""},i),{isValid:()=>!0,inputRef:l})))},vM=gM});function sre(e,t){return mn(e,{menuItems(){return[{label:"Remove marker",callback:()=>{de().transaction(({stateEditors:n})=>{n.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.removeMarker({sheetAddress:t.sheetAddress,markerId:t.markerId})})}}]}})}function ure(e,t){let n=(0,wn.useRef)(t);n.current=t;let o=(0,wn.useMemo)(()=>({debugName:"MarkerDot/useDragMarker (".concat(t.marker.id,")"),onDragStart(l){let s=n.current.marker,u=(0,em.val)(t.layoutP.scaledSpace.toUnitSpace),d;return l1(),{onDrag(f,m,v){var g;let h=s,b=Math.max((g=vn.checkIfMouseEventSnapToPos(v,{ignore:e}))!=null?g:h.position+u(f),0);d==null||d.discard(),d=de().tempTransaction(({stateEditors:y})=>{y.studio.historic.projects.stateByProjectId.stateBySheetId.sequenceEditor.replaceMarkers({sheetAddress:(0,em.val)(t.layoutP.sheet.address),markers:[he(L({},h),{position:b})],snappingFunction:(0,em.val)(t.layoutP.sheet).getSequence().closestGridPosition})})},onDragEnd(f){f?d==null||d.commit():d==null||d.discard(),Ci()}}}}),[]),[i]=xt(e,o);return No(i,t.marker.position),Zn(i,"draggingPositionInSequenceEditor draggingMarker","ew-resize"),[i]}var em,wn,_k,Pk,yM,bM,kM,wM,xM,tm,SM,EM,_M,PM,CM,IM,cre=P(()=>{em=je(),Re(),Ne(),Fn(),gn(),nt(),wn=$(X()),be(),Gt(),Dt(),Ho(),Er(),ih(),pB(),Ii(),Lr(),Gr(),lre(),_k=12,Pk=12,yM=_k*2,bM=Pk*2,wM=M.div(kM||(kM=F([`
  position: absolute;
  // below the sequence ruler "top bar"
  top: 18px;
  z-index: `,`;
`])),()=>co.marker),tm=M.div(xM||(xM=F([`
  position: absolute;
  `,`
  pointer-events: none;
`])),Yn(_k,Pk)),SM=wn.default.memo(()=>wn.default.createElement(tm,{children:wn.default.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},wn.default.createElement("path",{d:"M12 5H0V7H2.71973L5.96237 10.2426L9.20501 7H12V5Z",fill:"#40AAA4"}))})),_M=M.div(EM||(EM=F([`
  z-index: 1;
  cursor: ew-resize;

  `,`

  // :not dragging marker to ensure that markers don't snap to other markers
  // this works because only one marker track (so this technique is not used by keyframes...)
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) & {
    `,`
  }

  // "All instances of this component <Mark/> inside #pointer-root when it has the .draggingPositionInSequenceEditor class"
  // ref: https://styled-components.com/docs/basics#pseudoelements-pseudoselectors-and-nesting
  #pointer-root.draggingPositionInSequenceEditor:not(.draggingMarker) &,
  #pointer-root.draggingPositionInSequenceEditor
    &.`,` {
    pointer-events: auto;
    cursor: var(`,`);
  }

  &:hover
    + `,`,
    // notice , "or" in CSS
    &.`,`
    + `,` {
    `,`
  }
`])),no.CSS,no.CSS_WHEN_SOMETHING_DRAGGING,no.BEING_DRAGGED_CLASS,Co,tm,no.BEING_DRAGGED_CLASS,tm,Yn(yM,bM)),PM=({layoutP:e,markerId:t})=>{let n=Ye(e.sheet.address),o=Ye(de().atomP.historic.projects.stateByProjectId[n.projectId].stateBySheetId[n.sheetId].sequenceEditor.markerSet.byId[t]);if(!o)return null;let i=Ye(e.clippedSpace.width),l=Ye(e.clippedSpace.fromUnitSpace)(o.position),s=l<=0||l>i,u=s?-1e4:l,d=s?0:1;return wn.default.createElement(wM,{style:{transform:"translateX(".concat(u,"px) scale(").concat(d,")")}},wn.default.createElement(IM,{marker:o,layoutP:e}))},CM=PM,IM=({layoutP:e,marker:t})=>{let n=Ye(e.sheet.address),[o,i]=Qe(null),[l]=sre(i,{sheetAddress:n,markerId:t.id}),[s]=ure(i,{layoutP:e,marker:t}),{node:u,toggle:d,close:f}=$r({debugName:"MarkerPopover"},()=>wn.default.createElement(Zr,null,wn.default.createElement(vM,{marker:t,layoutP:e,onRequestClose:f})));return wn.default.createElement(wn.default.Fragment,null,l,u,wn.default.createElement(_M,L({title:t.label?"Marker: ".concat(t.label):"Marker",ref:o,onClick:m=>{d(m,o.current)}},no.reactProps({isDragging:s,position:t.position}))),wn.default.createElement(SM,null))}}),nm,jM,OM,dre=P(()=>{Re(),Ne(),nm=$(X()),cre(),jM=({layoutP:e})=>{let t=Ye(e.sheet.address),n=de().atomP.historic.projects.stateByProjectId[t.projectId].stateBySheetId[t.sheetId].sequenceEditor.markerSet,o=Ye(n.allIds);return nm.default.createElement(nm.default.Fragment,null,o&&Object.keys(o).map(i=>nm.default.createElement(CM,{key:i,layoutP:e,markerId:i})))},OM=jM}),TM,Vo,zM,DM,AM,BM,fre=P(()=>{Ho(),Re(),TM=je(),Vo=$(X()),be(),Zne(),Gne(),Xne(),are(),Wi(),ire(),dre(),DM=M.div(zM||(zM=F([`
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  z-index: `,`;
  overflow: visible;
  pointer-events: none;
`])),()=>co.rightOverlay),AM=({layoutP:e})=>Xe(()=>{let t=(0,TM.val)(e.rightDims.width);return Vo.default.createElement(DM,{style:{width:t+"px"}},Vo.default.createElement(sM,{layoutP:e}),Vo.default.createElement(BR,{layoutP:e}),Vo.default.createElement(ER,{layoutP:e}),Vo.default.createElement(X7,{layoutP:e}),Vo.default.createElement(OM,{layoutP:e}),Vo.default.createElement(gR,{layoutP:e}),Vo.default.createElement(fM,{layoutP:e}))},[e]),BM=AM}),NM,rm,FM,RM,MM,UM,pre=P(()=>{NM=je(),Re(),Ne(),rm=$(X()),be(),Ll(),Gt(),RM=M.button(FM||(FM=F([`
  outline: none;
  background-color: #1c1d21;
  border: 1px solid #191919;
  border-radius: 2px;
  display: flex;
  bottom: 14px;
  right: 8px;
  z-index: 1;
  position: absolute;

  padding: 4px 8px;
  display: flex;
  color: #656d77;
  line-height: 20px;
  font-size: 10px;

  &:hover {
    color: white;
  }

  & > svg {
    transition: transform 0.3s;
    transform: rotateZ(0deg);
  }

  &:hover > svg {
    transform: rotateZ(-20deg);
  }

  &.open > svg {
    transform: rotateZ(-180deg);
  }

  &.open:hover > svg {
    transform: rotateZ(-160deg);
  }
`]))),MM=({layoutP:e})=>{let t=Ye(e.graphEditorDims.isOpen),n=(0,rm.useCallback)(()=>{let o=(0,NM.val)(e.graphEditorDims.isOpen);de().transaction(({stateEditors:i})=>{i.studio.historic.panels.sequenceEditor.graphEditor.setIsOpen({isOpen:!o})})},[e]);return rm.default.createElement(RM,L({onClick:n,title:"Toggle graph editor",className:t?"open":""},to("hide")),rm.default.createElement(tJ,null))},UM=MM}),Cr,vt,VM,HM,KM,WM,co,qM,$M,LM,ZM,GM,XM,YM,QM,JM,Ho=P(()=>{ca(),Re(),xA(),Cr=je(),vt=$(X()),be(),Ine(),Hh(),Rne(),fre(),is(),CD(),nA(),Gt(),ni(),Ft(),pre(),_o(),wi(),HM=M($b)(VM||(VM=F([`
  z-index: `,`;
  box-shadow: 2px 2px 0 rgb(0 0 0 / 11%);
`])),Ml.sequenceEditorPanel),WM=M.div(KM||(KM=F([`
  background-color: rgba(40, 43, 47, 0.99);
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  z-index: -1;
  pointer-events: none;
`]))),co=(()=>{let e={rightBackground:0,scrollableArea:0,rightOverlay:0,lengthIndicatorCover:0,lengthIndicatorStrip:0,playhead:0,currentFrameStamp:0,marker:0,horizontalScrollbar:0},t=-1;for(let n of Object.keys(e))e[n]=t,t++;return e})(),$M=M(Ub)(qM||(qM=F([`
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1;
`]))),LM={edges:{left:{from:"screenLeft",distance:.1},right:{from:"screenRight",distance:.2},top:{from:"screenBottom",distance:.4},bottom:{from:"screenBottom",distance:.01}}},ZM={width:800,height:200},GM=e=>vt.default.createElement(Mb,{panelId:"sequenceEditor",defaultPosition:LM,minDims:ZM},vt.default.createElement(XM,null)),XM=()=>{let{dims:e}=as(),[t,n]=(0,vt.useState)(null);return VO(t),Xe(()=>{let o=Cr.prism.memo("panelSize",()=>{let g=e.width,h=e.height;return{width:g,height:h,widthWithoutBorder:g-2,heightWithoutBorder:h-4,screenX:e.left,screenY:e.top}},[e]),i=ia(ua().filter(g=>Nd(g)||ur(g)).map(g=>ur(g)?g.sheet:g));if(ia(i.map(g=>g.template)).length!==1)return vt.default.createElement(vt.default.Fragment,null);let l=i[0];if(!l)return vt.default.createElement(vt.default.Fragment,null);let s=Zb("panelSizeP",o).pointer,u=Cr.prism.memo("key",()=>JSON.stringify(l.address),[l]),d=Cr.prism.memo("layout",()=>Fne(l,s),[l,s]).getValue();if((0,Cr.val)(d.tree.children).length===0)return vt.default.createElement(vt.default.Fragment,null);let f=Cr.prism.memo("containerRef",JM,[]),m=(0,Cr.val)(d.graphEditorDims.isAvailable),v=(0,Cr.val)(d.graphEditorDims.isOpen);return vt.default.createElement(HM,{ref:g=>{f(g),g!==t&&n(g)}},vt.default.createElement(WM,{style:{width:"".concat((0,Cr.val)(d.leftDims.width),"px")}}),vt.default.createElement(uB,{layoutP:d},vt.default.createElement(YM,{layoutP:d}),vt.default.createElement(m7,{key:u+"-dopeSheet",layoutP:d}),v&&vt.default.createElement(FF,{key:u+"-graphEditor",layoutP:d}),m&&vt.default.createElement(UM,{layoutP:d}),vt.default.createElement(BM,{layoutP:d})))},[e,t])},YM=({layoutP:e})=>Xe(()=>{let t=(0,Cr.val)(e.sheet);return vt.default.createElement($M,{style:{width:(0,Cr.val)(e.leftDims.width)}},vt.default.createElement(Zv,null,vt.default.createElement(sa,null,t.address.sheetId," "),vt.default.createElement(Tu,null,":",""),vt.default.createElement(sa,null,t.address.sheetInstanceId," "),vt.default.createElement(Tu,null,"",">",""),vt.default.createElement(sa,null,"Sequence")))},[e]),QM=GM,JM=()=>{let e=null,t={passive:!1,capture:!1},n=o=>{Math.abs(o.deltaY)<Math.abs(o.deltaX)&&(o.preventDefault(),o.stopPropagation())};return o=>{e!==o&&e&&e.removeEventListener("wheel",n,t),e=o,o&&o.addEventListener("wheel",n,t)}}}),Gi,eU,tU,hre=P(()=>{gQ(),Nb(),Gi=$(X()),Ne(),Re(),Oee(),Ho(),eU=()=>{let e=Ye(de().paneManager.allPanesD),t=Object.entries(e).map(([n,o])=>Gi.default.createElement(wA,{key:"pane-".concat(n),paneInstance:o}));return Gi.default.createElement(Gi.default.Fragment,null,t,Gi.default.createElement(sj,null),Gi.default.createElement(xD,null),Gi.default.createElement(QM,null))},tU=eU}),nU,rU,oU,mre=P(()=>{be(),Rp(),rU=M(ns)(nU||(nU=F([`
  --popover-outer-stroke: #e11c1c;
  --popover-inner-stroke: #2c1c1c;
  --popover-bg: #2c1c1c;
  pointer-events: none !important;
`]))),oU=rU}),gre=He((e,t)=>{var n,o;n=[],o=[];function i(l,s,u){var d,f,m,v,g,h,b,y;if(l===s)return 0;if(d=l.length,f=s.length,d===0)return f;if(f===0)return d;for(u&&(l=l.toLowerCase(),s=s.toLowerCase()),b=0;b<d;)o[b]=l.charCodeAt(b),n[b]=++b;for(y=0;y<f;)for(m=s.charCodeAt(y),v=g=y++,b=-1;++b<d;)h=m===o[b]?g:g+1,g=n[b],n[b]=v=g>v?h>v?v+1:h:h>g?g+1:h;return v}t.exports=i}),vre=He((e,t)=>{var n=gre();function o(){var i,l,s,u,d,f=0,m=arguments[0],v=arguments[1],g=v.length,h=arguments[2];h&&(u=h.threshold,d=h.ignoreCase),u===void 0&&(u=0);for(var b=0;b<g;++b)d?l=n(m,v[b],!0):l=n(m,v[b]),l>m.length?i=1-l/v[b].length:i=1-l/m.length,i>f&&(f=i,s=v[b]);return f>=u?s:null}t.exports=o});function yre(e,t,n="Did you mean ",o="?"){let i=(0,aU.default)(e,t,{threshold:.7});return i?n+JSON.stringify(i)+o:""}var aU,bre=P(()=>{aU=$(vre())});function iU(e,t){return e.length<=t?e:e.substr(0,t-3)+"..."}var kre=P(()=>{}),lU,Ck,sU=P(()=>{kre(),lU=e=>typeof e=="string"?'string("'.concat(iU(e,10),'")'):typeof e=="number"?"number(".concat(iU(String(e),10),")"):e===null?"null":e===void 0?"undefined":typeof e=="boolean"?String(e):Array.isArray(e)?"array":typeof e=="object"?"object":"unknown",Ck=lU}),uU,cU,Ik,dU=P(()=>{be(),gi(),cU=M(WI)(uU||(uU=F([`
  display: flex;
  height: fit-content;
  backdrop-filter: blur(14px);
  border-radius: 2px;
`]))),Ik=cU}),bs,fU,pU,hU,ks,Rc=P(()=>{be(),rt(),bs=$(X()),ic(),Yf(),xz(),dU(),pU=M.button(fU||(fU=F([`
  `,`;
  position: relative;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 14px;
  font-weight: 600;
  width: 32px;
  height: 32px;
  outline: none;

  color: #a8a8a9;

  background: rgba(40, 43, 47, 0.8);
  backdrop-filter: blur(14px);
  border: none;
  border-bottom: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: 2px;

  svg {
    display: block;
  }

  &:hover {
    background: rgba(59, 63, 69, 0.8);
  }

  &:active {
    background: rgba(82, 88, 96, 0.8);
  }

  &.selected {
    color: rgba(255, 255, 255, 0.8);
    border-bottom: 1px solid rgba(255, 255, 255, 0.7);
  }

  // Don't blur if in a button group, because it already blurs. We need to blur
  // on the group-level, otherwise we get seams.
  `,` > & {
    backdrop-filter: none;
    filter: none;
    border-radius: 0;

    &:first-child {
      border-top-left-radius: 2px;
      border-bottom-left-radius: 2px;
    }

    &:last-child {
      border-bottom-right-radius: 2px;
      border-top-right-radius: 2px;
    }
  }

  @supports not (backdrop-filter: blur()) {
    background: rgba(40, 43, 47, 0.95);
  }
`])),tt,Ik),hU=bs.default.forwardRef((e,t)=>{var n=e,{title:o}=n,i=Qs(n,["title"]);let[l,s]=ts({enabled:typeof o=="string"},()=>bs.default.createElement(Cb,null,o));return bs.default.createElement(bs.default.Fragment,null,l,bs.default.createElement(pU,L({ref:Xf([s,t])},i))," ")}),ks=hU}),mU,gU,vU,yU,bU,wre=P(()=>{mU=$(X()),Rc(),be(),rt(),vU=M(ks)(gU||(gU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),yU=({config:e,testId:t})=>{var n;return mU.default.createElement(vU,{onClick:e.onClick,"data-testid":t,title:e.title,dangerouslySetInnerHTML:{__html:(n=e.svgSource)!=null?n:""}})},bU=yU});function xre({value:e,label:t,icon:n,onClick:o,isSelected:i}){return ws.default.createElement(ws.default.Fragment,null,ws.default.createElement(ks,{forwardedAs:VI,className:i?"selected":void 0,"aria-label":t,onClick:o,title:t},n))}var ws,kU,wU,Sre=P(()=>{ws=$(X()),gi(),Rc(),dU(),kU=({value:e,onChange:t,options:n})=>ws.default.createElement(Ik,null,n.map(({label:o,icon:i,value:l})=>ws.default.createElement(xre,{key:l,value:l,isSelected:e===l,label:o,icon:i,onClick:()=>t(l)}))),wU=kU}),jk,xU,SU,EU,_U,Ere=P(()=>{jk=$(X()),be(),rt(),Sre(),SU=M.div(xU||(xU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),EU=({config:e})=>jk.default.createElement(wU,{onChange:e.onChange,options:e.options.map(({label:t,value:n,svgSource:o})=>({label:t,value:n,icon:jk.default.createElement(SU,{dangerouslySetInnerHTML:{__html:o}})})),value:e.value}),_U=EU}),Mc,PU,CU,IU,jU,_re=P(()=>{Mc=$(X()),be(),rt(),Rc(),TO(),Lr(),CU=M.div(PU||(PU=F([`
  `,`;
  & > svg {
    width: 1em;
    height: 1em;
    pointer-events: none;
  }
`])),tt),IU=({config:e})=>{let t=(0,Mc.useRef)(null),n=$r(()=>{let o=t.current.getBoundingClientRect();return{debugName:"ExtensionFlyoutMenu:"+e.label,constraints:{maxX:o.right,maxY:8,minX:o.left,minY:8},verticalGap:2}},()=>Mc.default.createElement(rb,{items:e.items.map((o,i)=>({label:o.label,callback:()=>{var l;try{(l=o.onClick)==null||l.call(o)}catch(s){console.error(s)}}})),onRequestClose:()=>{n.close("clicked")}}));return Mc.default.createElement(CU,null,n.node,Mc.default.createElement(ks,{ref:t,onClick:o=>{n.open(o,t.current)}},e.label))},jU=IU});function Pre(e){return Ok[e]}var Uc,OU,Ok,TU,zU,Cre=P(()=>{bre(),sU(),Uc=$(X()),wre(),Ere(),_re(),OU=e=>Uc.default.createElement(Uc.default.Fragment,null,e.config.map((t,n)=>Uc.default.createElement(TU,{config:t,key:n}))),Ok={Icon:bU,Switch:_U,Flyout:jU},TU=({config:e})=>{let t=Pre(e.type);if(!t)throw new Error("No tool with tool.type ".concat(Ck(e.type)," exists. Did you mean ").concat(yre(e.type,Object.keys(Ok))));return Uc.default.createElement(t,{config:e})},zU=OU}),DU,fo,AU,BU,NU,Tk,FU,RU,zk,MU=P(()=>{DU=je(),Re(),Ne(),fo=$(X()),be(),Cre(),BU=M.div(AU||(AU=F([`
  height: 36px;
  /* pointer-events: none; */

  display: flex;
  gap: 0.5rem;
  justify-content: center;
`]))),Tk=M.div(NU||(NU=F([`
  position: abolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),FU=({extension:e,toolbarId:t})=>{var n;let o=(0,fo.useMemo)(()=>new DU.Atom([]),[]),i=(n=e.toolbars)==null?void 0:n[t];(0,fo.useLayoutEffect)(()=>{let s=i==null?void 0:i(o.set.bind(o),de().publicApi);if(typeof s=="function")return s},[e,t,i]);let l=Ye(o.prism);return fo.default.createElement(zU,{config:l})},RU=({toolbarId:e,showLeftDivider:t})=>{var n;let o=[],i=Ye(de().atomP.ephemeral.extensions.byId),l=!1;for(let[,s]of Object.entries(i))!s||!((n=s.toolbars)!=null&&n[e])||(o.push(fo.default.createElement(fo.default.Fragment,{key:"extensionToolbar-"+s.id},l?fo.default.createElement(Tk,null):void 0,fo.default.createElement(FU,{extension:s,toolbarId:e}))),l=!0);return o.length===0?null:fo.default.createElement(BU,{"data-testid":"theatre-extensionToolbar-".concat(e)},t?fo.default.createElement(Tk,null):void 0,o)},zk=RU}),Vc,UU,VU,HU,om,Ire=P(()=>{be(),Vc=$(X()),Rc(),VU=M(ks)(UU||(UU=F([`
  color: `,`;

  border-bottom: 1px solid
    `,`;
`])),({pinned:e})=>e?"rgba(255, 255, 255, 0.8)":"#A8A8A9",({pinned:e})=>e?"rgba(255, 255, 255, 0.7)":"rgba(255, 255, 255, 0.08)"),HU=(0,Vc.forwardRef)((e,t)=>{var n=e,{children:o,hint:i,pinned:l,icon:s,pinHintIcon:u,unpinHintIcon:d}=n,f=Qs(n,["children","hint","pinned","icon","pinHintIcon","unpinHintIcon"]);let[m,v]=(0,Vc.useState)(!1),g=m||i;return Vc.default.createElement(VU,he(L({},f),{pinned:l,ref:t,onMouseOver:()=>v(!0),onMouseOut:()=>v(!1)}),Vc.default.createElement("div",{style:{pointerEvents:"none",width:"fit-content",height:"fit-content",inset:0}},g&&!l?u:g&&l?d:s),o)}),om=HU});function jre(e){return Dk.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Dk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.732 4.048l-.792-.792L7.2 8l4.74 4.744.792-.792L8.781 8l3.951-3.952zm-3.932 0l-.792-.792L3.268 8l4.74 4.744.792-.792L4.848 8 8.8 4.048z",fill:"currentColor"}))}var Dk,Ak,Ore=P(()=>{Dk=$(X()),Ak=jre});function Tre(e){return Bk.createElement("svg",L({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),Bk.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.694 3.765l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.951-3.951-3.951-3.952zm3.932 0l.792-.792 4.74 4.744-4.74 4.744-.792-.793 3.952-3.951-3.952-3.952z",fill:"currentColor"}))}var Bk,Nk,zre=P(()=>{Bk=$(X()),Nk=Tre}),Bt,KU,WU,qU,Fk,$U,Da,LU,ZU,GU,XU,YU,QU,JU,eV,tV,am,nV,rV,Rk,Mk,oV,aV,Dre=P(()=>{Re(),Ne(),Bt=$(X()),be(),WU=M.div(KU||(KU=F([`
  width: 138px;
  border-radius: 2px;
  background-color: rgba(42, 45, 50, 0.9);
  position: absolute;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  box-shadow: 0px 1px 1px rgba(0, 0, 0, 0.25), 0px 2px 6px rgba(0, 0, 0, 0.15);
  backdrop-filter: blur(14px);
  pointer-events: auto;
  // makes the edges of the item highlights match the rounded corners
  overflow: hidden;

  @supports not (backdrop-filter: blur()) {
    background-color: rgba(42, 45, 50, 0.98);
  }

  color: rgba(255, 255, 255, 0.9);

  & a {
    // Fix colors of links to not be default
    color: inherit;
  }
`]))),Fk=M.div(qU||(qU=F([`
  position: relative;
  padding: 0px 12px;
  font-weight: 400;
  font-size: 11px;
  height: 32px;
  text-decoration: none;
  user-select: none;
  display: flex;
  flex-direction: row;
  align-items: center;
  cursor: default;
`]))),Da=M(Fk)($U||($U=F([`
  &:before {
    position: absolute;
    display: block;
    content: ' ';
    inset: 3px;
    border-radius: 3px;
    background: rgba(255, 255, 255, 0.1);
    opacity: 0;
  }

  &.secondary {
    color: rgba(255, 255, 255, 0.5);
  }

  &:hover {
    /* background-color: #398995; */
    color: white !important;
    &:before {
      opacity: 1;
    }
  }
`]))),ZU=M(Fk)(LU||(LU=F([`
  height: auto;
  min-height: 32px;
  padding-top: 12px;
  padding-bottom: 10px;
  flex-direction: column;
  justify-content: flex-start;
  align-items: stretch;
  gap: 8px;
  color: rgba(255, 255, 255, 0.5);
`]))),XU=M.div(GU||(GU=F([`
  font-weight: 600;
`]))),QU=M.div(YU||(YU=F([`
  display: flex;
  flex-direction: row;
  justify-content: space-between;
`]))),eV=M.div(JU||(JU=F([`
  margin-left: 2px;
`]))),am=M.div(tV||(tV=F([`
  height: 1px;
  margin: 0 2px;
  background: rgba(255, 255, 255, 0.02);
`]))),rV=M.div(nV||(nV=F([`
  position: absolute;
  width: 8px;
  height: 8px;
  background: #40aaa4;
  right: 14px;
  top: 12px;
  border-radius: 50%;
`]))),Rk="0.7.2",Mk=Rk.match(/^[^\-]+/)[0],oV=Bt.default.forwardRef((e,t)=>{let n=Ye(de().atomP.ahistoric.updateChecker.result.hasUpdates);return Bt.default.createElement(WU,{ref:t},Bt.default.createElement(Da,{as:"a",href:"https://www.theatrejs.com/docs/latest",className:"",target:"_blank"},"Docs"),Bt.default.createElement(Da,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases",className:"",target:"_blank"},"Changelog"),Bt.default.createElement(am,null),Bt.default.createElement(Da,{as:"a",href:"https://github.com/theatre-js/theatre",className:"",target:"_blank"},"Github"),Bt.default.createElement(Da,{as:"a",href:"https://twitter.com/theatre_js",className:"",target:"_blank"},"Twitter"),Bt.default.createElement(Da,{className:"",as:"a",href:"https://discord.gg/bm9f8F9Y9N",target:"_blank"},"Discord"),Bt.default.createElement(am,null),Bt.default.createElement(ZU,null,Bt.default.createElement(XU,null,"Version"),Bt.default.createElement(QU,null,Bt.default.createElement(eV,null,Rk," ",n===!0?"(outdated)":n===!1?"(latest)":""))),n===!0&&Bt.default.createElement(Bt.default.Fragment,null,Bt.default.createElement(am,null),Bt.default.createElement(Da,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases".concat(encodeURIComponent(Mk)),className:"",target:"_blank"},"Update",Bt.default.createElement(rV,null)),Bt.default.createElement(Da,{as:"a",href:"https://www.theatrejs.com/docs/latest/releases#".concat(encodeURIComponent(Mk)),className:"",target:"_blank"},"What's new?")))}),aV=oV}),st,iV,lV,sV,uV,cV,dV,Uk,fV,Vk,pV,Hk,hV,mV,Are=P(()=>{Re(),Ne(),st=$(X()),be(),ic(),mre(),Rp(),iV=je(),MU(),Ire(),zu(),Ore(),zre(),Rc(),Lr(),Dre(),mc(),sV=M.div(lV||(lV=F([`
  height: 36px;
  pointer-events: none;

  display: flex;
  justify-content: space-between;
  padding: 12px;
`]))),cV=M.div(uV||(uV=F([`
  color: white;
  width: 14px;
  height: 14px;
  background: #d00;
  border-radius: 4px;
  text-align: center;
  line-height: 14px;
  font-weight: 600;
  font-size: 8px;
  position: relative;
  left: -6px;
  top: -11px;
  margin-right: -14px;
  box-shadow: 0 4px 6px -4px #00000059;
`]))),Uk=M.div(dV||(dV=F([`
  display: flex;
  gap: 8px;
`]))),Vk=M.div(fV||(fV=F([`
  position: absolute;
  background: `,`;
  width: 6px;
  height: 6px;
  border-radius: 50%;
  right: -2px;
  top: -2px;
`])),({type:e})=>e==="info"?"#40aaa4":"#f59e0b"),M.div(pV||(pV=F([`
  position: absolute;
  height: 32px;
  width: 1px;
  background: #373b40;
  opacity: 0.4;
`]))),Hk=!1,hV=()=>{var e,t,n;let o=Xe(()=>{let y=(0,iV.val)(de().atomP.ephemeral.coreByProject);return Object.entries(y).map(([k,x])=>({projectId:k,state:x})).filter(({state:k})=>k.loadingState.type==="browserStateIsNotBasedOnDiskState")},[]),[i,l]=ts({enabled:o.length>0,enterDelay:o.length>0?0:200},()=>o.length>0?st.default.createElement(oU,null,o.length===1?'There is a state conflict in project "'.concat(o[0].projectId,'". Select the project in the outline below in order to fix it.'):"There are ".concat(o.length," projects that have state conflicts. They are highlighted in the outline below. ")):st.default.createElement(ns,null,st.default.createElement(st.default.Fragment,null,"Outline"))),s=(e=Ye(de().atomP.ahistoric.pinOutline))!=null?e:!0,u=(t=Ye(de().atomP.ahistoric.pinDetails))!=null?t:!0,d=Ye(de().atomP.ahistoric.updateChecker.result.hasUpdates)===!0,f=$r(()=>{let y=m.current.getBoundingClientRect();return{debugName:"More Menu",constraints:{maxX:y.right,maxY:8,minX:y.left-140,minY:8},verticalGap:2}},()=>st.default.createElement(aV,null)),m=(0,st.useRef)(null),v=(0,st.useMemo)(()=>(window.__IS_VISUAL_REGRESSION_TESTING&&(Hk||(Hk=!0,console.warn("Visual regression testing enabled, so we're showing the updates badge unconditionally"))),d||window.__IS_VISUAL_REGRESSION_TESTING?!0:d),[d]),{hasNotifications:g}=Ob(),[h,b]=Wz();return st.default.createElement(sV,null,st.default.createElement(Uk,null,i,st.default.createElement(om,{ref:l,"data-testid":"OutlinePanel-TriggerButton",onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinOutline(!((x=k.ahistoric.pinOutline)==null||x))})},icon:st.default.createElement(Xv,null),pinHintIcon:st.default.createElement(Nk,null),unpinHintIcon:st.default.createElement(Ak,null),pinned:s}),o.length>0?st.default.createElement(cV,null,o.length):null,st.default.createElement(zk,{showLeftDivider:!0,toolbarId:"global"})),st.default.createElement(Uk,null,h,st.default.createElement(om,{ref:b,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinNotifications(!((x=k.ahistoric.pinNotifications)!=null&&x))})},icon:st.default.createElement(qf,null),pinHintIcon:st.default.createElement(qf,null),unpinHintIcon:st.default.createElement(qf,null),pinned:(n=Ye(de().atomP.ahistoric.pinNotifications))!=null?n:!1},g&&st.default.createElement(Vk,{type:"warning"})),f.node,st.default.createElement(ks,{ref:m,onClick:y=>{f.toggle(y,m.current)}},st.default.createElement(l3,null),v&&st.default.createElement(Vk,{type:"info"})),st.default.createElement(om,{ref:l,onClick:()=>{de().transaction(({stateEditors:y,drafts:k})=>{var x;y.studio.ahistoric.setPinDetails(!((x=k.ahistoric.pinDetails)==null||x))})},icon:st.default.createElement(i3,null),pinHintIcon:st.default.createElement(Ak,null),unpinHintIcon:st.default.createElement(Nk,null),pinned:u})))},mV=hV}),gV,Hc,vV,Kc,yV,bV,kV,wV,xV=P(()=>{gV=je(),Re(),Hc=$(X()),vV=$(wo()),Kc=new gV.Atom({set:{},byId:{}}),yV=1,bV=()=>{let e=yV++;function t(o,i,l){Kc.reduce(s=>({byId:he(L({},s.byId),{[e]:{comp:o,props:i,portalNode:l}}),set:he(L({},s.set),{[e]:!0})}))}function n(){Kc.reduce(o=>{let i=L({},o.set),l=L({},o.byId);return delete i[e],{byId:l,set:i}})}return{mountOrRender:t,unmount:n}},kV=()=>{let e=Object.keys(Ye(Kc.pointer.set));return Hc.default.createElement(Hc.default.Fragment,null,e.map(t=>Hc.default.createElement(wV,{key:"id-"+t,id:t})))},wV=({id:e})=>{let{comp:t,portalNode:n,props:o}=Ye(Kc.pointer.byId[e]);return(0,vV.createPortal)(Hc.default.createElement(t,L({},o)),n)}});function Bre(e){let t=de(),[n,o]=Qe(void 0),i=g7();i.configureLogging({min:128,dev:Wk,internal:Wk});let l=i.getLogger().named("Theatre.js UIRoot");rre();let s=Ye(t.atomP.ahistoric.visibilityState);return(0,Qt.useEffect)(()=>(s==="everythingIsHidden"&&console.warn("Theatre.js Studio is hidden. Use the keyboard shortcut 'alt + \\' to restore the studio, or call studio.ui.restore()."),()=>{}),[s]),Xe(()=>{let u=(0,Kk.val)(t.atomP.ahistoric.visibilityState);return(0,Kk.val)(t.atomP.ephemeral.initialised)?Qt.default.createElement(Ej,{logger:l},Qt.default.createElement(IT,null,Qt.default.createElement(wQ,null,Qt.default.createElement(IV,null),Qt.default.createElement(Fl.Provider,{value:o},Qt.default.createElement(Lv,{target:window.__IS_VISUAL_REGRESSION_TESTING===!0?void 0:e.containerShadow},Qt.default.createElement(Qt.default.Fragment,null,Qt.default.createElement(EV,null),Qt.default.createElement(PV,{className:u==="everythingIsHidden"?"invisible":""},Qt.default.createElement($v,{ref:n}),Qt.default.createElement(mV,null),Qt.default.createElement(tU,null),Qt.default.createElement(qz,null)))))))):null},[t,n,o])}var Kk,Qt,SV,EV,_V,PV,CV,Wk,IV,Nre=P(()=>{Ne(),Re(),Kk=je(),Qt=$(X()),be(),hre(),Are(),nt(),gi(),Sk(),Fn(),jT(),yy(),xV(),rt(),qh(),fa(),mc(),EV=typeof window<"u"?sC(SV||(SV=F([`
  :host {
    contain: strict;
  }
`]))):{},PV=M(Sj)(_V||(_V=F([`
  z-index: 50;
  position: fixed;
  inset: 0;

  &.invisible {
    pointer-events: none !important;
    opacity: 0;
    transform: translateX(1000000px);
  }
`]))),Wk=/Playground.+Theatre\.js/.test((CV=typeof document<"u"?document==null?void 0:document.title:null)!=null?CV:""),IV=()=>Qt.default.createElement(kV,null)}),Fre=He(e=>{var t=wo();e.createRoot=t.createRoot,e.hydrateRoot=t.hydrateRoot}),jV={};i2(jV,{default:()=>zV});var OV,TV,zV,Rre=P(()=>{Nre(),OV=$(X()),TV=$(Fre()),xV(),rt(),MU(),zV=class{constructor(){et(this,"containerEl",document.createElement("div")),et(this,"_renderTimeout"),et(this,"_documentBodyUIIsRenderedIn"),et(this,"containerShadow"),this.containerEl.id="theatrejs-studio-root",this.containerEl.style.cssText=`
      position: fixed;
      top: 0;
      right: 0;
      bottom: 0;
      left: 0;
      pointer-events: none;
      z-index: 100;
    `;let e=()=>{if(window.__IS_VISUAL_REGRESSION_TESTING===!0){let t=document.createElement("div");return t.id="theatrejs-faux-shadow-root",document.body.appendChild(t),t}else return this.containerEl.attachShadow({mode:"open"})};this.containerShadow=e()}render(){let e=()=>{if(!document.body){this._renderTimeout=setTimeout(e,5);return}this._renderTimeout=void 0,this._documentBodyUIIsRenderedIn=document.body,this._documentBodyUIIsRenderedIn.appendChild(this.containerEl),TV.default.createRoot(this.containerShadow).render(OV.default.createElement(Bre,{containerShadow:this.containerShadow}))};this._renderTimeout=setTimeout(e,10)}renderToolset(e,t){let n=bV();return n.mountOrRender(KY(zk),{toolbarId:e},t),n.unmount}}}),Mre=He(e=>{e.compare=i,e.reduce=l;var t,n,o;e.REMOVE=t=-1,e.ADD=n=1,e.EQUAL=o=0;function i(m,v){var g=m.length,h=v.length,b=s(m,v),y=b<g&&b<h?u(m,v):0,k=y+b-1;g-=k,h-=k;for(var x=f(g,h),S=g-1;S>=0;--S)for(var _=h-1;_>=0;--_)x[_][S]=d(x,m,v,b,S,_);return{prefix:b,matrix:x,suffix:y}}function l(m,v,g){var h,b,y,k,x=g.matrix,S=g.prefix;for(h=0;h<S;++h)v=m(v,o,h,h);for(y=h,S=x.length,h=0,b=0;h<S;)switch(k=x[h][b].type,v=m(v,k,h+y,b+y),k){case o:++h,++b;break;case t:++b;break;case n:++h;break}for(h+=y,b+=y,S=g.suffix,y=0;y<S;++y)v=m(v,o,h+y,b+y);return v}function s(m,v){for(var g=0,h=Math.min(m.length,v.length);g<h&&m[g]===v[g];)++g;return g}function u(m,v){for(var g=m.length-1,h=v.length-1,b=Math.min(g,h),y=0;y<b&&m[g-y]===v[h-y];)++y;return y}function d(m,v,g,h,b,y){return v[b+h]===g[y+h]?{value:m[y+1][b+1].value,type:o}:m[y][b+1].value<m[y+1][b].value?{value:m[y][b+1].value+1,type:t}:{value:m[y+1][b].value+1,type:n}}function f(m,v){var g=[],h,b,y;for(y=g[v]=[],b=0;b<m;++b)y[b]={value:m-b,type:t};for(h=0;h<v;++h)g[h]=[],g[h][m]={value:v-h,type:n};return g[v][m]={value:0,type:o},g}}),DV=He(e=>{e.cons=t,e.tail=n,e.map=o;function t(i,l){var s=l.length,u=new Array(s+1);u[0]=i;for(var d=0;d<s;++d)u[d+1]=l[d];return u}function n(i){for(var l=i.length-1,s=new Array(l),u=0;u<l;++u)s[u]=i[u+1];return s}function o(i,l){for(var s=new Array(l.length),u=0;u<l.length;++u)s[u]=i(l[u]);return s}}),Ure=He((e,t)=>{t.exports=s;var n=/\/|~1|~0/g,o="/",i="~",l="~1";function s(u,d){var f,m,v,g;for(f=u.charAt(0)===o?1:0,m="",n.lastIndex=f;v=n.exec(u);)if(g=v[0],m+=u.slice(f,n.lastIndex-g.length),f=n.lastIndex,g===o){if(d(m)===!1)return u;m=""}else m+=g===l?o:i;return m+=u.slice(f),d(m),u}}),qk=He(e=>{var t=Ure();e.find=m,e.join=g,e.absolute=v,e.parse=h,e.contains=b,e.encodeSegment=k,e.decodeSegment=y,e.parseArrayIndex=_,e.isValidArrayIndex=S;var n="/",o=/\//g,i="~1",l=/~1/g,s="~",u=/~/g,d="~0",f=/~0/g;function m(j,z,V,W){if(typeof z=="string"){if(z==="")return{target:j,key:void 0};if(z===n)return{target:j,key:""};var B=j,Z,re=W!==void 0;return t(z,function(D){if(j==null)return B=null,!1;Array.isArray(j)?Z=re?O(V,_(D),j,W):D==="-"?D:_(D):Z=D,B=j,j=j[Z]}),B===null?void 0:{target:B,key:Z}}}function v(j){return j[0]===n?j:n+j}function g(j){return j.join(n)}function h(j){var z=[];return t(j,z.push.bind(z)),z}function b(j,z){return z.indexOf(j)===0&&z[j.length]===n}function y(j){return j.replace(l,n).replace(f,s)}function k(j){return j.replace(u,d).replace(o,i)}var x=/^(0|[1-9]\d*)$/;function S(j){return x.test(j)}function _(j){if(S(j))return+j;throw new SyntaxError("invalid array index "+j)}function O(j,z,V,W){var B=z;if(B<0)throw new Error("array index out of bounds "+B);if(W!==void 0&&typeof j=="function"&&(B=j(z,V,W),B<0))throw new Error("could not find patch context "+W);return B}}),AV=He((e,t)=>{t.exports=n;function n(l){return l==null||typeof l!="object"?l:Array.isArray(l)?o(l):i(l)}function o(l){for(var s=l.length,u=new Array(s),d=0;d<s;++d)u[d]=n(l[d]);return u}function i(l){for(var s=Object.keys(l),u={},d,f=0,m=s.length;f<m;++f)d=s[f],u[d]=n(l[d]);return u}}),Vre=He((e,t)=>{t.exports=n;function n(l,s){return l===s?!0:Array.isArray(l)&&Array.isArray(s)?o(l,s):typeof l=="object"&&typeof s=="object"?i(l,s):!1}function o(l,s){if(l.length!==s.length)return!1;for(var u=0;u<l.length;++u)if(!n(l[u],s[u]))return!1;return!0}function i(l,s){if(l===null&&s!==null||l!==null&&s===null)return!1;var u=Object.keys(l),d=Object.keys(s);if(u.length!==d.length)return!1;for(var f=0,m;f<u.length;++f)if(m=u[f],!(m in s&&n(l[m],s[m])))return!1;return!0}}),Hre=He((e,t)=>{var n=qk();t.exports=function(m,v){var g=n.parse(m.path),h=n.parse(v.path),b=d(g,h),y=l(g,h,b.length),k=f(m),x=f(v);return b.length===0&&!y?[x,k]:y?i(k,g,x,h):o(k,g,x)};function o(m,v,g,h){if(m.path===g.path)throw new TypeError("cannot commute "+m.op+","+g.op+" with identical object paths");return[g,m]}function i(m,v,g,h){return v.length===h.length?s(m,v,g,h):(v.length>h.length?(v=u(g,h,m,v,-1),m.path=n.absolute(n.join(v))):(h=u(m,v,g,h,1),g.path=n.absolute(n.join(h))),[g,m])}function l(m,v,g){return n.isValidArrayIndex(m[g])&&n.isValidArrayIndex(v[g])}function s(m,v,g,h){var b=v.length-1,y=+v[b],k=+h[b],x;return y<k?m.op==="add"||m.op==="copy"?(x=h.slice(),x[b]=Math.max(0,k-1),g.path=n.absolute(n.join(x))):m.op==="remove"&&(x=h.slice(),x[b]=k+1,g.path=n.absolute(n.join(x))):g.op==="add"||g.op==="copy"?(x=v.slice(),x[b]=y+1,m.path=n.absolute(n.join(x))):y>k&&g.op==="remove"&&(x=v.slice(),x[b]=Math.max(0,y-1),m.path=n.absolute(n.join(x))),[g,m]}function u(m,v,g,h,b){var y=v.length-1,k=+v[y],x=+h[y],S=h.slice();return k>x||(m.op==="add"||m.op==="copy"?S[y]=Math.max(0,x-b):m.op==="remove"&&(S[y]=Math.max(0,x+b))),S}function d(m,v){var g=m.length,h=v.length;if(g===0||h===0||g<2&&h<2)return[];for(var b=g===h?g-1:Math.min(g,h),y=0;y<b&&m[y]===v[y];)++y;return m.slice(0,y)}function f(m){return m.op==="remove"?{op:m.op,path:m.path}:m.op==="copy"||m.op==="move"?{op:m.op,path:m.path,from:m.from}:{op:m.op,path:m.path,value:m.value}}}),BV=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),$k=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),NV=He((e,t)=>{t.exports=n;function n(o){Error.call(this),this.name=this.constructor.name,this.message=o,typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,this.constructor)}n.prototype=Object.create(Error.prototype),n.prototype.constructor=n}),FV=He(e=>{var t=qk(),n=AV(),o=Vre(),i=Hre(),l=DV(),s=BV(),u=$k(),d=NV(),f=t.find,m=t.parseArrayIndex;e.test={apply:v,inverse:g,commute:h},e.add={apply:b,inverse:k,commute:x},e.remove={apply:j,inverse:V,commute:W},e.replace={apply:S,inverse:_,commute:O},e.move={apply:B,inverse:Z,commute:re},e.copy={apply:D,inverse:G,commute:x};function v(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context),A=ge.target,N,oe;if(Array.isArray(A)?(N=m(ge.key),oe=A[N]):oe=ge.key===void 0?ge.target:ge.target[ge.key],!o(oe,K.value))throw new s("test failed "+JSON.stringify(K));return q}function g(q,K){return q.push(K),1}function h(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute test,remove -> remove,test for same path");return K.op==="test"||K.op==="replace"?[K,q]:i(q,K)}function b(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge))throw new u("path does not exist "+K.path);if(K.value===void 0)throw new u("missing value");var A=n(K.value);return ge.key===void 0?A:(y(ge,A),q)}function y(q,K){var ee=q.target;if(Array.isArray(ee))if(q.key==="-")ee.push(K);else{if(q.key>ee.length)throw new u("target of add outside of array bounds");ee.splice(q.key,0,K)}else if(xe(ee))ee[q.key]=K;else throw new u("target of add must be an object or array "+q.key)}function k(q,K){var ee=K.context;return ee!==void 0&&(ee={before:ee.before,after:l.cons(K.value,ee.after)}),q.push({op:"test",path:K.path,value:K.value,context:ee}),q.push({op:"remove",path:K.path,context:ee}),1}function x(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute add,remove -> remove,add for same path");return i(q,K)}function S(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge)||Q(ge))throw new u("path does not exist "+K.path);if(K.value===void 0)throw new u("missing value");var A=n(K.value);if(ge.key===void 0)return A;var N=ge.target;return Array.isArray(N)?N[m(ge.key)]=A:N[ge.key]=A,q}function _(q,K,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==K.path)throw new d("cannot invert replace w/o test");var N=A.context;return N!==void 0&&(N={before:N.before,after:l.cons(A.value,l.tail(N.after))}),q.push({op:"test",path:A.path,value:K.value}),q.push({op:"replace",path:A.path,value:A.value}),2}function O(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute replace,remove -> remove,replace for same path");return K.op==="test"||K.op==="replace"?[K,q]:i(q,K)}function j(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context);if(C(ge)||ge.target[ge.key]===void 0)throw new u("path does not exist "+K.path);return z(ge),q}function z(q){var K=q.target,ee;if(Array.isArray(K))return ee=K.splice(m(q.key),1),ee[0];if(xe(K))return ee=K[q.key],delete K[q.key],ee;throw new u("target of remove must be an object or array")}function V(q,K,ee,ge){var A=ge[ee-1];if(A===void 0||A.op!=="test"||A.path!==K.path)throw new d("cannot invert remove w/o test");var N=A.context;return N!==void 0&&(N={before:N.before,after:l.tail(N.after)}),q.push({op:"add",path:A.path,value:A.value,context:N}),2}function W(q,K){return q.path===K.path&&K.op==="remove"?[K,q]:i(q,K)}function B(q,K,ee){if(t.contains(K.path,K.from))throw new u("move.from cannot be ancestor of move.path");var ge=f(q,K.path,ee.findContext,K.context),A=f(q,K.from,ee.findContext,K.fromContext);return y(ge,z(A)),q}function Z(q,K){return q.push({op:"move",path:K.from,context:K.fromContext,from:K.path,fromContext:K.context}),1}function re(q,K){if(q.path===K.path&&K.op==="remove")throw new TypeError("Can't commute move,remove -> move,replace for same path");return i(q,K)}function D(q,K,ee){var ge=f(q,K.path,ee.findContext,K.context),A=f(q,K.from,ee.findContext,K.fromContext);if(C(A)||Q(A))throw new u("copy.from must exist");var N=A.target,oe;return Array.isArray(N)?oe=N[m(A.key)]:oe=N[A.key],y(ge,n(oe)),q}function G(q,K){throw new d("cannot invert "+K.op)}function C(q){return q===void 0||q.target==null&&q.key!==void 0}function Q(q){return q.key!==void 0&&q.target[q.key]===void 0}function xe(q){return q!==null&&typeof q=="object"}}),Kre=He(e=>{var t=FV(),n=AV(),o=$k();e.apply=l,e.applyInPlace=s,e.clone=n,e.isValidObject=d,e.defaultHash=u;var i={};function l(m,v,g){return s(m,n(v),g)}function s(m,v,g){if(g||(g=i),!Array.isArray(m))return v;for(var h,b,y=0;y<m.length;++y){if(b=m[y],h=t[b.op],h===void 0)throw new o("invalid op "+JSON.stringify(b));v=h.apply(v,b,g)}return v}function u(m){return d(m)||f(m)?JSON.stringify(m):m}function d(m){return m!==null&&Object.prototype.toString.call(m)==="[object Object]"}function f(m){return Object.prototype.toString.call(m)==="[object Array]"}}),Wre=He((e,t)=>{var n=FV();t.exports=function(i){var l=[],s,u;for(s=i.length-1;s>=0;s-=u)u=o(l,i[s],s,i);return l};function o(i,l,s,u){var d=n[l.op];return d!==void 0&&typeof d.inverse=="function"?d.inverse(i,l,s,u):1}}),qre=He(e=>{var t=Mre(),n=DV(),o=Kre(),i=Wre(),l=qk(),s=l.encodeSegment;e.diff=f,e.patch=o.apply,e.patchInPlace=o.applyInPlace,e.inverse=i,e.clone=o.clone,e.InvalidPatchOperationError=$k(),e.TestFailedError=BV(),e.PatchNotInvertibleError=NV();var u=o.isValidObject,d=o.defaultHash;function f(_,O,j){return v(_,O,"",m(j,[])).patch}function m(_,O){return typeof _=="object"?{patch:O,hash:k(S,_.hash,d),makeContext:k(S,_.makeContext,x),invertible:_.invertible!==!1}:{patch:O,hash:k(S,_,d),makeContext:x,invertible:!0}}function v(_,O,j,z){return Array.isArray(_)&&Array.isArray(O)?h(_,O,j,z):u(_)&&u(O)?g(_,O,j,z):y(_,O,j,z)}function g(_,O,j,z){var V=Object.keys(O),W=z.patch,B,Z;for(B=V.length-1;B>=0;--B){Z=V[B];var re=j+"/"+s(Z);_[Z]!==void 0?v(_[Z],O[Z],re,z):W.push({op:"add",path:re,value:O[Z]})}for(V=Object.keys(_),B=V.length-1;B>=0;--B)if(Z=V[B],O[Z]===void 0){var D=j+"/"+s(Z);z.invertible&&W.push({op:"test",path:D,value:_[Z]}),W.push({op:"remove",path:D})}return z}function h(_,O,j,z){var V=n.map(z.hash,_),W=n.map(z.hash,O),B=t.compare(V,W);return b(_,O,j,z,B)}function b(_,O,j,z,V){var W=0;return t.reduce(function(B,Z,re,D){var G,C,Q=B.patch,xe=j+"/"+(D+W);return Z===t.REMOVE?(G=Q[Q.length-1],C=B.makeContext(D,_),B.invertible&&Q.push({op:"test",path:xe,value:_[D],context:C}),G!==void 0&&G.op==="add"&&G.path===xe?(G.op="replace",G.context=C):Q.push({op:"remove",path:xe,context:C}),W-=1):Z===t.ADD?(Q.push({op:"add",path:xe,value:O[re],context:B.makeContext(D,_)}),W+=1):v(_[D],O[re],xe,B),B},z,V)}function y(_,O,j,z){return _!==O&&(z.invertible&&z.patch.push({op:"test",path:j,value:_}),z.patch.push({op:"replace",path:j,value:O})),z}function k(_,O,j){return _(O)?O:j}function x(){}function S(_){return typeof _=="function"}}),Xi=He((e,t)=>{function n(o,i){for(var l=0,s=i.length-1;l<s;l++){if(!o[i[l]])return null;o=o[i[l]]}return o}t.exports=n}),Aa=He((e,t)=>{function n(i){return i==="~0"?"~":"/"}function o(i){var l=i.split("/");if(i.indexOf("~")===-1)return l;for(var s=0,u=l.length;s<u;s++)l[s].indexOf("~")!==-1&&(l[s]=l[s].replace(/~[01]/g,n));return l}t.exports=o}),$re=He((e,t)=>{var n=Xi(),o=Aa();function i(l,s){var u=o(s),d=u[u.length-1],f=n(l,u);return f?f[d]:void 0}t.exports=i}),im=He((e,t)=>{function n(o,i){if(o===i)return!0;if(!(o&&i)||typeof o!="object"||typeof i!="object"||o.length!==i.length)return!1;if(Array.isArray(o)){if(!Array.isArray(i))return!1;for(var l=0,s=o.length;l<s;l++)if(!n(o[l],i[l]))return!1;return!0}var u=Object.keys(o);if(u.length!==Object.keys(i).length)return!1;for(var d=0,f=u.length;d<f;d++){var m=u[d];if(!n(o[m],i[m]))return!1}return!0}t.exports=n}),lm=He((e,t)=>{function n(o,i){if(i==="-")return o.length;for(var l=0,s=i.length;l<s;l++){var u=i.charCodeAt(l);if(57<u||u<48)return 1/0}return+i}t.exports=n}),sm=He((e,t)=>{var n=im(),o=Xi(),i=lm(),l=Aa();function s(u,d,f,m){if(typeof f>"u")return"[op:add] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:add] path not found: "+d;if(Array.isArray(h)){var b=i(h,g);if(h.length<b)return"[op:add] invalid array index: "+d;m(u,v).splice(b,0,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),RV=He((e,t)=>{var n=Xi(),o=lm(),i=Aa();function l(s,u,d){var f=i(u),m=f[f.length-1],v=n(s,f);if(v===null)return"[op:remove] path not found: "+u;if(Array.isArray(v)){var g=o(v,m);if(v.length<=g)return"[op:remove] invalid array index: "+u;d(s,f).splice(g,1)}else delete d(s,f)[m]}t.exports=l}),MV=He((e,t)=>{var n=im(),o=Xi(),i=lm(),l=Aa();function s(u,d,f,m){if(typeof f>"u")return"[op:replace] require value, but got undefined";var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:replace] path not found: "+d;if(Array.isArray(h)){var b=i(h,g);if(h.length<=b)return"[op:replace] invalid array index: "+d;n(h[b],f)||m(u,v).splice(b,1,f)}else n(h[g],f)||(m(u,v)[g]=f)}t.exports=s}),UV=He((e,t)=>{var n=sm(),o=Xi(),i=lm(),l=Aa();function s(u,d,f,m){if(f!==d){var v=l(d),g=v[v.length-1],h=o(u,v);if(h===null)return"[op:move] path not found: "+d;var b=void 0;if(Array.isArray(h)){var y=i(h,g);if(h.length<=y)return"[op:move] invalid array index: "+f;b=h[y],m(u,v).splice(y,1)}else b=h[g],delete m(u,v)[g];return n(u,f,b,m)}}t.exports=s}),VV=He((e,t)=>{var n=Xi(),o=Aa(),i=sm();function l(s,u,d,f){var m=o(u),v=m[m.length-1],g=n(s,m);return g===null?"[op:copy] path not found: "+u:i(s,d,g[v],f)}t.exports=l}),HV=He((e,t)=>{var n=im(),o=Xi(),i=Aa();function l(s,u,d){var f=i(u),m=f[f.length-1],v=o(s,f);if(v===null)return"[op:test] path not found: "+u;if(!n(v[m],d)){var g=JSON.stringify(v[m]),h=JSON.stringify(d);return"[op:test] not matched: "+g+" "+h}}t.exports=l}),Lk=He((e,t)=>{function n(o){if(!o||typeof o!="object")return o;if(Array.isArray(o)){for(var i=o.length,l=new Array(i),s=0;s<i;s++)l[s]=o[s];return l}for(var u=Object.keys(o),d={},f=0,m=u.length;f<m;f++){var v=u[f];d[v]=o[v]}return d}t.exports=n}),Lre=He((e,t)=>{var n=$re(),o=sm(),i=RV(),l=MV(),s=UV(),u=VV(),d=HV(),f=im(),m=Lk(),v=Aa();function g(h,b){return{get:function(y){return n(h,y)},add:function(y,k){return o(h,y,k,b)},remove:function(y){return i(h,y,b)},replace:function(y,k){return l(h,y,k,b)},move:function(y,k){return s(h,y,k,b)},copy:function(y,k){return u(h,y,k,b)},test:function(y,k){return d(h,y,k)},deepEqual:f,shallowCopy:m,toKeys:v}}t.exports=g}),Zre=He((e,t)=>{function n(o,i,l,s){return s.error=l,s.partial?i[""]:o}t.exports=n}),Gre=He((e,t)=>{function n(o){return!!o}t.exports=n}),Xre=He((e,t)=>{function n(o){if(o)throw new TypeError(o)}t.exports=n}),Yre=He((e,t)=>{var n=Lk();function o(i,l){for(var s=0,u=l.length-1;s<u;s++)i=i[l[s]]=n(i[l[s]]);return i}t.exports=o}),Qre=He((e,t)=>{var n=Lk();function o(l,s,u){var d=l[s];return u.has(d)||(d=n(d),u.add(d)),d}function i(l,s,u){for(var d=0,f=s.length-1;d<f;d++)l=l[s[d]]=o(l,s[d],u);return l}t.exports=i}),Jre=He((e,t)=>{var n=Lre(),o=Zre(),i=Gre(),l=Xre(),s=Yre(),u=Qre(),d=sm(),f=RV(),m=MV(),v=UV(),g=VV(),h=HV(),b=Set||function(){var k=[];return k.has=function(x){return this.indexOf(x)!==-1},k.add=function(x){this.push(x)},k};function y(k,x,S){if(x.length===0)return k;S=S||{};for(var _=S.strict?l:i,O=x.length===1?s:function(Z){return function(re,D){return u(re,D,Z)}}(new b),j={"":k},z,V=0,W=x.length;V<W;V++){var B=x[V];switch(B.op){case"add":if(_(d(j,""+B.path,B.value,O)))return o(k,j,B,S);break;case"remove":if(_(f(j,""+B.path,O)))return o(k,j,B,S);break;case"replace":if(_(m(j,""+B.path,B.value,O)))return o(k,j,B,S);break;case"move":if(_(v(j,""+B.from,""+B.path,O)))return o(k,j,B,S);break;case"copy":if(_(g(j,""+B.from,""+B.path,O)))return o(k,j,B,S);break;case"test":if(_(h(j,""+B.path,B.value)))return o(k,j,B,S);break;default:if(S.custom&&S.custom[B.op]){if(z=z||n(j,O),_(S.custom[B.op](z,B,V,x)))return o(k,j,B,S)}else return _("[op:"+B.op+"] unknown"),o(k,j,B,S);break}}return j[""]}t.exports=y}),eoe=He((e,t)=>{t.exports=Jre()}),toe=He((e,t)=>{(function(n,o){typeof e=="object"&&typeof t=="object"?t.exports=o():typeof e=="object"?e.blobCompare=o():n.blobCompare=o()})(window,function(){return function(n){var o={};function i(l){if(o[l])return o[l].exports;var s=o[l]={i:l,l:!1,exports:{}};return n[l].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=o,i.d=function(l,s,u){i.o(l,s)||Object.defineProperty(l,s,{enumerable:!0,get:u})},i.r=function(l){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(l,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(l,"__esModule",{value:!0})},i.t=function(l,s){if(1&s&&(l=i(l)),8&s||4&s&&typeof l=="object"&&l&&l.__esModule)return l;var u=Object.create(null);if(i.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:l}),2&s&&typeof l!="string")for(var d in l)i.d(u,d,(function(f){return l[f]}).bind(null,d));return u},i.n=function(l){var s=l&&l.__esModule?function(){return l.default}:function(){return l};return i.d(s,"a",s),s},i.o=function(l,s){return Object.prototype.hasOwnProperty.call(l,s)},i.p="",i(i.s=4)}([function(n,o,i){var l=function(m,v){if(Array.isArray(m))return m;if(Symbol.iterator in Object(m))return function(g,h){var b=[],y=!0,k=!1,x=void 0;try{for(var S,_=g[Symbol.iterator]();!(y=(S=_.next()).done)&&(b.push(S.value),!h||b.length!==h);y=!0);}catch(O){k=!0,x=O}finally{try{!y&&_.return&&_.return()}finally{if(k)throw x}}return b}(m,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},s=function(){function m(v,g){for(var h=0;h<g.length;h++){var b=g[h];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}return function(v,g,h){return g&&m(v.prototype,g),h&&m(v,h),v}}();function u(m){if(Array.isArray(m)){for(var v=0,g=Array(m.length);v<m.length;v++)g[v]=m[v];return g}return Array.from(m)}var d=i(2),f=function(m){function v(g){(function(b,y){if(!(b instanceof y))throw new TypeError("Cannot call a class as a function")})(this,v);var h=function(b,y){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!y||typeof y!="object"&&typeof y!="function"?b:y}(this,(v.__proto__||Object.getPrototypeOf(v)).call(this));return h._messageId=1,h._messages=new Map,h._worker=g,h._worker.onmessage=h._onMessage.bind(h),h._id=Math.ceil(1e7*Math.random()),h}return function(g,h){if(typeof h!="function"&&h!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof h);g.prototype=Object.create(h&&h.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(g,h):g.__proto__=h)}(v,m),s(v,[{key:"terminate",value:function(){this._worker.terminate()}},{key:"isFree",value:function(){return this._messages.size===0}},{key:"jobsLength",value:function(){return this._messages.size}},{key:"exec",value:function(g){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,b=this,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],k=arguments[3];return new Promise(function(x,S){var _=b._messageId++;b._messages.set(_,[x,S,k]),b._worker.postMessage([_,h,g],y||[])})}},{key:"postMessage",value:function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,h=this,b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],y=arguments[2];return new Promise(function(k,x){var S=h._messageId++;h._messages.set(S,[k,x,y]),h._worker.postMessage([S,g],b||[])})}},{key:"emit",value:function(g){for(var h=arguments.length,b=Array(h>1?h-1:0),y=1;y<h;y++)b[y-1]=arguments[y];this._worker.postMessage({eventName:g,args:b})}},{key:"_onMessage",value:function(g){var h;if(!Array.isArray(g.data)&&g.data.eventName)return(h=function S(_,O,j){_===null&&(_=Function.prototype);var z=Object.getOwnPropertyDescriptor(_,O);if(z===void 0){var V=Object.getPrototypeOf(_);return V===null?void 0:S(V,O,j)}if("value"in z)return z.value;var W=z.get;return W!==void 0?W.call(j):void 0}(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"emit",this)).call.apply(h,[this,g.data.eventName].concat(u(g.data.args)));var b,y=(b=g.data,Array.isArray(b)?b:Array.from(b)),k=y[0],x=y.slice(1);if(k===1)this._onEvent.apply(this,u(x));else{if(k!==0)throw new Error("Wrong message type '"+k+"'");this._onResult.apply(this,u(x))}}},{key:"_onResult",value:function(g,h,b){var y=this._messages.get(g),k=l(y,2),x=k[0],S=k[1];return this._messages.delete(g),h===1?x(b):S(b)}},{key:"_onEvent",value:function(g,h,b){var y=this._messages.get(g),k=l(y,3)[2];k&&k(h,b)}}]),v}(d);n.exports=f},function(n,o,i){n.exports=function(){return i(3)(`!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),o=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var f=r(1),c=0,l=1,s=0,y=1,p="main",b=function(e){return"object"===(void 0===e?"undefined":i(e))&&"function"==typeof e.then&&"function"==typeof e.catch};var v=function e(t,r){u(this,e),this.payload=t,this.transferable=r};e.exports=function(e){var t,r,i,h=(i=e,(r=p)in(t={})?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t),d=self.postMessage.bind(self),m=new(function(e){function t(){return u(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),n(t,[{key:"emit",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return d({eventName:e,args:r}),this}},{key:"emitLocally",value:function(e){for(var r,n=arguments.length,i=Array(n>1?n-1:0),a=1;a<n;a++)i[a-1]=arguments[a];(r=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"emit",this)).call.apply(r,[this,e].concat(i))}},{key:"operation",value:function(e,t){return h[e]=t,this}}]),t}(f)),g=function(e,t,r){var n=function(t){t&&t instanceof v?w(e,y,t.payload,t.transferable):w(e,y,t)},o=function(t){w(e,s,{message:t.message,stack:t.stack})};try{var i=_(e,t,r);b(i)?i.then(n).catch(o):n(i)}catch(e){o(e)}},_=function(e,t,r){var n=h[r||p];if(!n)throw new Error("Not found handler for this request");return n(t,O.bind(null,e))},w=function(e,t,r){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];d([c,e,t,r],n)},O=function(e,t,r){if(!t)throw new Error("eventName is required");if("string"!=typeof t)throw new Error("eventName should be string");d([l,e,t,r])};return self.addEventListener("message",(function(e){var t=e.data;Array.isArray(t)?g.apply(void 0,a(t)):t&&t.eventName&&m.emitLocally.apply(m,[t.eventName].concat(a(t.args)))})),m},e.exports.TransferableResponse=v},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return n(e,[{key:"emit",value:function(e){if(!this.__listeners[e])return this;for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var o=!0,i=!1,a=void 0;try{for(var u,f=this.__listeners[e][Symbol.iterator]();!(o=(u=f.next()).done);o=!0){var c=u.value;c.apply(void 0,r)}}catch(e){i=!0,a=e}finally{try{!o&&f.return&&f.return()}finally{if(i)throw a}}return this}},{key:"once",value:function(e,t){var r=this,n=function n(){r.off(e,n),t.apply(void 0,arguments)};return this.on(e,n)}},{key:"on",value:function(e,t){return this.__listeners[e]||(this.__listeners[e]=[]),this.__listeners[e].push(t),this}},{key:"off",value:function(e,t){return this.__listeners[e]=t?this.__listeners[e].filter((function(e){return e!==t})):[],this}}]),e}();e.exports=o},function(e,t,r){"use strict";r.r(t);var n=r(0);r.n(n)()().operation("binary",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsBinaryString(a)})}(e,t)).operation("buffer",async({blob:e,chunk:t})=>await function(e,t){return new Promise((r,n)=>{const o=new FileReader,i=t?Math.min(t,e.size):e.size,a=e.slice(0,i);o.onload=()=>r(o.result),o.onerror=n,o.readAsArrayBuffer(a)})}(e,t)).operation("compare",({buf1:e,buf2:t})=>(function(e,t){if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;const r=new DataView(e),n=new DataView(t);for(var o=e.byteLength;o--;)if(r.getUint8(o)!==n.getUint8(o))return!1;return!0})(e,t))}]);`,null)}},function(n,o,i){var l=function(){function u(d,f){for(var m=0;m<f.length;m++){var v=f[m];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(d,v.key,v)}}return function(d,f,m){return f&&u(d.prototype,f),m&&u(d,m),d}}(),s=function(){function u(){(function(d,f){if(!(d instanceof f))throw new TypeError("Cannot call a class as a function")})(this,u),Object.defineProperty(this,"__listeners",{value:{},enumerable:!1,writable:!1})}return l(u,[{key:"emit",value:function(d){if(!this.__listeners[d])return this;for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];var g=!0,h=!1,b=void 0;try{for(var y,k=this.__listeners[d][Symbol.iterator]();!(g=(y=k.next()).done);g=!0){var x=y.value;x.apply(void 0,m)}}catch(S){h=!0,b=S}finally{try{!g&&k.return&&k.return()}finally{if(h)throw b}}return this}},{key:"once",value:function(d,f){var m=this,v=function g(){m.off(d,g),f.apply(void 0,arguments)};return this.on(d,v)}},{key:"on",value:function(d,f){return this.__listeners[d]||(this.__listeners[d]=[]),this.__listeners[d].push(f),this}},{key:"off",value:function(d,f){return this.__listeners[d]=f?this.__listeners[d].filter(function(m){return m!==f}):[],this}}]),u}();n.exports=s},function(n,o,i){var l=window.URL||window.webkitURL;n.exports=function(s,u){try{try{var d;try{(d=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder)).append(s),d=d.getBlob()}catch{d=new Blob([s])}return new Worker(l.createObjectURL(d))}catch{return new Worker("data:application/javascript,"+encodeURIComponent(s))}}catch{if(!u)throw Error("Inline worker is not supported");return new Worker(u)}}},function(n,o,i){i.r(o);var l=i(0),s=i.n(l),u=i(1),d=i.n(u);i.d(o,"workersEnabled",function(){return f}),i.d(o,"default",function(){return m});let f=!!window.Worker;class m{static toBinaryStringWithWorker(g,h){return Vt(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("binary",{blob:g,chunk:h});return b.terminate(),y})}static toBinaryStringWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsBinaryString(O)})}(g,h)}static toBinaryString(g,h,b=!0){return b&&f?this.toBinaryStringWithWorker(g,h):this.toBinaryStringWithoutWorker(g,h)}static toArrayBufferWithWorker(g,h){return Vt(this,null,function*(){let b=new s.a(new d.a),y=yield b.exec("buffer",{blob:g,chunk:h});return b.terminate(),y})}static toArrayBufferWithoutWorker(g,h){return function(b,y){return new Promise((k,x)=>{let S=new FileReader,_=y?Math.min(y,b.size):b.size,O=b.slice(0,_);S.onload=()=>k(S.result),S.onerror=x,S.readAsArrayBuffer(O)})}(g,h)}static toArrayBuffer(g,h,b=!0){return b&&f?this.toArrayBufferWithWorker(g,h):this.toArrayBufferWithoutWorker(g,h)}static compareBuffersWithWorker(g,h){return Vt(this,null,function*(){if(g===h)return!0;let b=new s.a(new d.a),y=yield b.exec("compare",{buf1:g,buf2:h},[g,h]);return b.terminate(),y})}static compareBuffersWithoutWorker(g,h){return function(b,y){if(b===y)return!0;if(b.byteLength!==y.byteLength)return!1;let k=new DataView(b),x=new DataView(y);for(var S=b.byteLength;S--;)if(k.getUint8(S)!==x.getUint8(S))return!1;return!0}(g,h)}static compareBuffers(g,h,b=!0){return b&&f?this.compareBuffersWithWorker(g,h):this.compareBuffersWithoutWorker(g,h)}static sizeEqual(g,h){return g.size===h.size}static typeEqual(g,h){return g.type===h.type}static magicNumbersEqual(g,h,b=!0){return Vt(this,null,function*(){if(g===h)return!0;let y=[24,16,14,12,8,6,4],[k,x]=yield Promise.all([this.toBinaryString(g,24,b),this.toBinaryString(h,24,b)]);for(let S of y)if(k.substring(0,S)===x.substring(0,S))return!0;return!1})}static bytesEqualWithBinaryString(g,h,b,y=!0){return Vt(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toBinaryString(g,b,y),this.toBinaryString(h,b,y)]);return k===x})}static bytesEqualWithArrayBuffer(g,h,b,y=!0){return Vt(this,null,function*(){if(g===h)return!0;let[k,x]=yield Promise.all([this.toArrayBuffer(g,b,y),this.toArrayBuffer(h,b,y)]);return this.compareBuffers(k,x,y)})}static isEqual(g,h){return Vt(this,arguments,function*(b,y,{methods:k=["size","type","magic","byte"],byte:x="buffer",partial:S=!1,chunks:_=null,worker:O=!0}={}){let j=null;for(let z of k){if(j===!1||S&&j===!0)break;switch(z){case"byte":case"bytes":case"content":_=_ instanceof Array?_:[b.size],j=!0;for(let V of _){let W=!1;W=x==="buffer"?yield this.bytesEqualWithArrayBuffer(b,y,V,O):yield this.bytesEqualWithBinaryString(b,y,V,O),W||(j=!1)}break;case"magic":case"headers":case"numbers":case"mime":j=yield this.magicNumbersEqual(b,y,O);break;case"size":case"sizes":j=this.sizeEqual(b,y);break;case"type":case"types":j=this.typeEqual(b,y);break;default:throw new Error("Blob-compare : Unknown comparison method")}}return j})}}}])})}),KV={};i2(KV,{ToolbarDropdownSelect:()=>bae,default:()=>wae}),En.exports=gq(KV),Ne(),Bg();var WV=je();ni();var noe=0,roe=class{constructor(e){this._studio=e,et(this,"_id"),et(this,"_state",{type:"Ready"}),this._id=String(noe++)}get status(){return this._state.type}reset(){let{_state:e}=this;if(e.type!=="Ready")if(e.type==="Captured")this._state={type:"Ready"},e.transaction.discard(),e.flagsTransaction.discard();else throw e.type==="Committed"?new Error("This scrub is already committed and can't be reset."):new Error("This scrub is already discarded and can't be reset.")}commit(){let{_state:e}=this;if(e.type==="Captured")e.transaction.commit(),e.flagsTransaction.discard(),this._state={type:"Committed"};else if(e.type==="Ready"){console.warn("Scrub is empty. Nothing to commit.");return}else throw e.type==="Committed"?new Error("This scrub is already committed."):new Error("This scrub is already discarded and can't be comitted.")}capture(e){if(this._state.type==="Captured"&&this.reset(),this._state.type==="Ready"){let t=!0;try{this._state=L({type:"Captured"},this._capture(e)),t=!1}finally{t&&(console.error("This scrub's callback threw an error. We're undo-ing all of the changes made by this scrub, and marking it as discarded."),this._state={type:"Discarded"})}}else throw this._state.type==="Committed"?new Error("This scrub is already committed and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.commit()"):new Error("This scrub is already discarded and cannot capture again. If you wish to capture more, you can start a new studio.scrub() or do so before scrub.discard()")}_capture(e){let t=[],n=this._studio.tempTransaction(i=>{let l=!0,s={set:(u,d)=>{if(!l)throw new Error("You seem to have called the scrub api after scrub.capture()");let{root:f,path:m}=(0,WV.getPointerParts)(u);if(!ur(f))throw new Error("We can only scrub props of Sheet Objects for now");i.set(u,d),t.push(u)}};try{e(s)}finally{l=!1}}),o=this._studio.tempTransaction(({stateEditors:i})=>{t.forEach(l=>{let{root:s,path:u}=(0,WV.getPointerParts)(l);if(!ur(s))return;let d=s.template.getDefaultsAtPointer(l);Bd(d,(f,m)=>{i.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey.propsBeingScrubbed.flag(he(L({},s.address),{pathToProp:m}))},u)})});return{transaction:n,flagsTransaction:o}}discard(){let{_state:e}=this;if(e.type==="Captured"||e.type==="Ready")e.type==="Captured"&&(e.transaction.discard(),e.flagsTransaction.discard()),this._state={type:"Discarded"};else throw e.type==="Committed"?new Error("This scrub is already committed and can't be discarded."):new Error("This scrub is already discarded")}},ooe=je(),qV=typeof window<"u"?Promise.resolve().then(()=>(Rre(),jV)).then(e=>e.default):null,aoe=class{constructor(e){this.studio=e,et(this,"_rendered",!1),et(this,"_nonSSRBits",qV?qV.then(t=>new t):Promise.reject()),et(this,"ready",this._nonSSRBits.then(()=>{},()=>{}))}render(){this._rendered||(this._rendered=!0,this._nonSSRBits.then(e=>{e.render()}).catch(e=>{throw console.error(e),e}))}hide(){this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsHidden"})}restore(){this.render(),this.studio.transaction(({drafts:e})=>{e.ahistoric.visibilityState="everythingIsVisible"})}get isHidden(){return(0,ooe.val)(this.studio.atomP.ahistoric.visibilityState)==="everythingIsHidden"}renderToolset(e,t){let n=!1,o=null;return this._nonSSRBits.then(i=>{n||(o=i.renderToolset(e,t))}).catch(i=>{console.error(i)}),()=>{if(o){o();return}n||(n=!0)}}},um=je();function ioe(e){return e}var loe=(e,t=ioe)=>{let n=o=>({type:e,payload:t(o)});return n.type=e,n.is=o=>o&&o.type&&o.type===e,n},po=loe,$V=$(qre()),LV=$(eoe());gf();var cm,soe=new Uint8Array(16);function uoe(){if(!cm&&(cm=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!cm))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return cm(soe)}var coe=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function doe(e){return typeof e=="string"&&coe.test(e)}var foe=doe,Jt=[];for(dm=0;dm<256;++dm)Jt.push((dm+256).toString(16).substr(1));var dm;function poe(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Jt[e[t+0]]+Jt[e[t+1]]+Jt[e[t+2]]+Jt[e[t+3]]+"-"+Jt[e[t+4]]+Jt[e[t+5]]+"-"+Jt[e[t+6]]+Jt[e[t+7]]+"-"+Jt[e[t+8]]+Jt[e[t+9]]+"-"+Jt[e[t+10]]+Jt[e[t+11]]+Jt[e[t+12]]+Jt[e[t+13]]+Jt[e[t+14]]+Jt[e[t+15]]).toLowerCase();if(!foe(n))throw TypeError("Stringified UUID is invalid");return n}var hoe=poe;function moe(e,t,n){e=e||{};var o=e.random||(e.rng||uoe)();if(o[6]=o[6]&15|64,o[8]=o[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=o[i];return t}return hoe(o)}var goe=moe,Wc={replaceHistory:po("@history/replaceHistory"),startHistoryFromScratch:po("@history/startHistoryFromScratch"),undo:po("@history/undo"),redo:po("@history/redo")},voe={type:"@history/unknownAction",payload:""},yoe={maxNumberOfCommits:100},boe=(e,t=yoe)=>{let n=Zk(e(void 0,voe));return function(o,i){return Wc.startHistoryFromScratch.is(i)?Zk(e(void 0,i.payload)):Wc.replaceHistory.is(i)?i.payload:Wc.undo.is(i)?o?xoe(o):n:Wc.redo.is(i)?o?Soe(o):n:o?koe(o,e(o.innerState,i),t):Zk(e(void 0,i))}};function Zk(e){return{currentCommitHash:void 0,commitsByHash:{},listOfCommitHashes:[],innerState:e}}function koe(e,t,n){if(t===e.innerState)return e;let o=woe(e.innerState,t);if(o.forwardDiff.length===0)return e;let i=si(e.listOfCommitHashes),l={currentCommitHash:o.hash,commitsByHash:L({},e.commitsByHash),listOfCommitHashes:[...e.listOfCommitHashes],innerState:t};if(e.currentCommitHash!==i){let s=e.listOfCommitHashes.findIndex(u=>u===e.currentCommitHash);e.listOfCommitHashes.slice(s+1).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(s+1,l.listOfCommitHashes.length)}if(l.listOfCommitHashes.push(o.hash),l.commitsByHash[o.hash]=o,l.listOfCommitHashes.length>n.maxNumberOfCommits){let s=l.listOfCommitHashes.length-n.maxNumberOfCommits;l.listOfCommitHashes.slice(0,s).forEach(u=>{delete l.commitsByHash[u]}),l.listOfCommitHashes.splice(0,s)}return l}function woe(e,t){let n=$V.default.diff(e,t,{invertible:!1}),o=$V.default.diff(t,e,{invertible:!1}),i=Date.now(),l=goe();return{forwardDiff:n,backwardDiff:o,timestamp:i,hash:l}}function xoe(e){if(e.currentCommitHash===void 0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===-1)throw new Error("This should never happen");let n=e.commitsByHash[e.currentCommitHash],o=(0,LV.default)(e.innerState,n.backwardDiff),i=t-1,l=i===-1?void 0:e.listOfCommitHashes[i];return he(L({},e),{currentCommitHash:l,innerState:o})}function Soe(e){if(e.listOfCommitHashes.length===0)return e;let t=e.listOfCommitHashes.findIndex(s=>s===e.currentCommitHash);if(t===e.listOfCommitHashes.length-1)return e;let n=t+1,o=e.listOfCommitHashes[n],i=e.commitsByHash[o],l=(0,LV.default)(e.innerState,i.forwardDiff);return he(L({},e),{currentCommitHash:o,innerState:l})}qh();var fm={ahistoric:{visibilityState:"everythingIsVisible",theTrigger:{position:{closestCorner:"bottomLeft",distanceFromHorizontalEdge:.02,distanceFromVerticalEdge:.02}},coreByProject:{},projects:{stateByProjectId:{}}},historic:{projects:{stateByProjectId:{}},autoKey:!0,coreByProject:{},panelInstanceDesceriptors:{}},ephemeral:{initialised:!1,coreByProject:{},projects:{stateByProjectId:{}},extensions:{byId:{},paneClasses:{}},showOutline:!1}},ZV=po("@storeBundle/replacePersistentState",e=>e),GV=po("@storeBundle/reduceParts",e=>e),xs={historic:Wc,replacePersistentState:ZV,reduceParts:GV},XV=po("@storeBundle/setInnerHistoricState",e=>e),Eoe=(e=fm.historic,t)=>XV.is(t)?t.payload:e,Gk=boe(Eoe),YV=(e,t)=>{if(ZV.is(t)){let{historic:n,ahistoric:o}=t.payload,i=(e==null?void 0:e.ephemeral)||fm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:i}}else if(e){let{historic:n,ahistoric:o}=e.$persistent,{ephemeral:i}=e;if(GV.is(t)){let l={historic:e.$persistent.historic.innerState,ahistoric:e.$persistent.ahistoric,ephemeral:e.ephemeral},s=t.payload(l);if(s===l)return e;n.innerState!==s.historic&&(n=Gk(n,XV(s.historic))),o=s.ahistoric,i=s.ephemeral}else{let l=Gk(n,t);if(l===n)return e;n=l}return{$persistent:n===e.$persistent.historic&&o===e.$persistent.ahistoric?e.$persistent:{historic:n,ahistoric:o},ephemeral:i}}else{let n=Gk(void 0,{}),o=fm.ahistoric,i=fm.ephemeral;return{$persistent:{historic:n,ahistoric:o},ephemeral:i}}},QV=po("@history/pushTempAction",e=>e),JV=po("@history/discardTempAction",e=>e),eH=po("@history/commitTempAction",e=>e),_oe=0,Poe=()=>{let e=_oe++;return{push:t=>QV({id:e,originalAction:t}),discard:()=>JV(e),commit:()=>eH(e)}},Coe=(e,t)=>{if(e){let{tempActions:n,permanent:o}=e.$temps,i;if(QV.is(t))n=[...n,t];else if(eH.is(t)){let s=n.find(u=>u.payload.id===t.payload);s?(i=s.payload.originalAction,n=n.filter(u=>u.payload.id!==t.payload)):Wh.error("Comitting temp action group ".concat(t.payload," isn't possible as this group doesn't exist"))}else JV.is(t)?n=n.filter(s=>s.payload.id!==t.payload):i=t;i&&(o=YV(e.$temps.permanent,i));let l={historic:o.$persistent.historic.innerState,ahistoric:o.$persistent.ahistoric,ephemeral:o.ephemeral};for(let s of n)l=s.payload.originalAction.payload(l);return L({$temps:{tempActions:n,permanent:o},$persistent:o.$persistent},l)}else{let n=YV(void 0,t);return{$temps:{permanent:n,tempActions:[]},$persistent:n.$persistent,historic:n.$persistent.historic.innerState,ahistoric:n.$persistent.ahistoric,ephemeral:n.ephemeral}}};eo(),eo(),zo();function tH(e,t){if(typeof e!="object"||e===null)return;if(t.length===0){for(let s of Object.keys(e))delete e[s];return}let n=t.slice(0,t.length-1),o=e,i=new WeakMap;for(let s of n){let u=o,d=u[s];if(typeof d!="object"||d===null)return;i.set(d,u),o=d}let l=t.slice().reverse();for(let s of l){if(delete o[s],Object.keys(o).length>0)return;o=i.get(o)}}function Ioe(e,{scale:t,origin:n,translate:o}){let i=n+(e-n)*t;return o+i}function Ir(e){for(var t=arguments.length,n=Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.map(function(i){return"'"+i+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function Ss(e){return!!e&&!!e[Un]}function Yi(e){return!!e&&(function(t){if(!t||typeof t!="object")return!1;var n=Object.getPrototypeOf(t);if(n===null)return!0;var o=Object.hasOwnProperty.call(n,"constructor")&&n.constructor;return o===Object||typeof o=="function"&&Function.toString.call(o)===Boe}(e)||Array.isArray(e)||!!e[dH]||!!e.constructor[dH]||Yk(e)||Qk(e))}function qc(e,t,n){n===void 0&&(n=!1),Es(e)===0?(n?Object.keys:cw)(e).forEach(function(o){n&&typeof o=="symbol"||t(o,e[o],e)}):e.forEach(function(o,i){return t(i,o,e)})}function Es(e){var t=e[Un];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:Yk(e)?2:Qk(e)?3:0}function Xk(e,t){return Es(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function joe(e,t){return Es(e)===2?e.get(t):e[t]}function nH(e,t,n){var o=Es(e);o===2?e.set(t,n):o===3?(e.delete(t),e.add(n)):e[t]=n}function Ooe(e,t){return e===t?e!==0||1/e==1/t:e!=e&&t!=t}function Yk(e){return Doe&&e instanceof Map}function Qk(e){return Aoe&&e instanceof Set}function Qi(e){return e.o||e.t}function Jk(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Noe(e);delete t[Un];for(var n=cw(t),o=0;o<n.length;o++){var i=n[o],l=t[i];l.writable===!1&&(l.writable=!0,l.configurable=!0),(l.get||l.set)&&(t[i]={configurable:!0,writable:!0,enumerable:l.enumerable,value:e[i]})}return Object.create(Object.getPrototypeOf(e),t)}function ew(e,t){return t===void 0&&(t=!1),tw(e)||Ss(e)||!Yi(e)||(Es(e)>1&&(e.set=e.add=e.clear=e.delete=Toe),Object.freeze(e),t&&qc(e,function(n,o){return ew(o,!0)},!0)),e}function Toe(){Ir(2)}function tw(e){return e==null||typeof e!="object"||Object.isFrozen(e)}function Ko(e){var t=Foe[e];return t||Ir(18,e),t}function rH(){return $c}function nw(e,t){t&&(Ko("Patches"),e.u=[],e.s=[],e.v=t)}function pm(e){rw(e),e.p.forEach(zoe),e.p=null}function rw(e){e===$c&&($c=e.l)}function oH(e){return $c={p:[],l:$c,h:e,m:!0,_:0}}function zoe(e){var t=e[Un];t.i===0||t.i===1?t.j():t.O=!0}function ow(e,t){t._=t.p.length;var n=t.p[0],o=e!==void 0&&e!==n;return t.h.g||Ko("ES5").S(t,e,o),o?(n[Un].P&&(pm(t),Ir(4)),Yi(e)&&(e=hm(t,e),t.l||mm(t,e)),t.u&&Ko("Patches").M(n[Un],e,t.u,t.s)):e=hm(t,n,[]),pm(t),t.u&&t.v(t.u,t.s),e!==cH?e:void 0}function hm(e,t,n){if(tw(t))return t;var o=t[Un];if(!o)return qc(t,function(l,s){return aH(e,o,t,l,s,n)},!0),t;if(o.A!==e)return t;if(!o.P)return mm(e,o.t,!0),o.t;if(!o.I){o.I=!0,o.A._--;var i=o.i===4||o.i===5?o.o=Jk(o.k):o.o;qc(o.i===3?new Set(i):i,function(l,s){return aH(e,o,i,l,s,n)}),mm(e,i,!1),n&&e.u&&Ko("Patches").R(o,n,e.u,e.s)}return o.o}function aH(e,t,n,o,i,l){if(Ss(i)){var s=hm(e,i,l&&t&&t.i!==3&&!Xk(t.D,o)?l.concat(o):void 0);if(nH(n,o,s),!Ss(s))return;e.m=!1}if(Yi(i)&&!tw(i)){if(!e.h.F&&e._<1)return;hm(e,i),t&&t.A.l||mm(e,i)}}function mm(e,t,n){n===void 0&&(n=!1),e.h.F&&e.m&&ew(t,n)}function aw(e,t){var n=e[Un];return(n?Qi(n):e)[t]}function iH(e,t){if(t in e)for(var n=Object.getPrototypeOf(e);n;){var o=Object.getOwnPropertyDescriptor(n,t);if(o)return o;n=Object.getPrototypeOf(n)}}function iw(e){e.P||(e.P=!0,e.l&&iw(e.l))}function lw(e){e.o||(e.o=Jk(e.t))}function sw(e,t,n){var o=Yk(t)?Ko("MapSet").N(t,n):Qk(t)?Ko("MapSet").T(t,n):e.g?function(i,l){var s=Array.isArray(i),u={i:s?1:0,A:l?l.A:rH(),P:!1,I:!1,D:{},l,t:i,k:null,o:null,j:null,C:!1},d=u,f=vm;s&&(d=[u],f=ym);var m=Proxy.revocable(d,f),v=m.revoke,g=m.proxy;return u.k=g,u.j=v,g}(t,n):Ko("ES5").J(t,n);return(n?n.A:rH()).p.push(o),o}function gm(e){return Ss(e)||Ir(22,e),function t(n){if(!Yi(n))return n;var o,i=n[Un],l=Es(n);if(i){if(!i.P&&(i.i<4||!Ko("ES5").K(i)))return i.t;i.I=!0,o=lH(n,l),i.I=!1}else o=lH(n,l);return qc(o,function(s,u){i&&joe(i.t,s)===u||nH(o,s,t(u))}),l===3?new Set(o):o}(e)}function lH(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return Jk(e)}var sH,$c,uw=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",Doe=typeof Map<"u",Aoe=typeof Set<"u",uH=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",cH=uw?Symbol.for("immer-nothing"):((sH={})["immer-nothing"]=!0,sH),dH=uw?Symbol.for("immer-draftable"):"__$immer_draftable",Un=uw?Symbol.for("immer-state"):"__$immer_state",Boe=""+Object.prototype.constructor,cw=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Noe=Object.getOwnPropertyDescriptors||function(e){var t={};return cw(e).forEach(function(n){t[n]=Object.getOwnPropertyDescriptor(e,n)}),t},Foe={},vm={get:function(e,t){if(t===Un)return e;var n=Qi(e);if(!Xk(n,t))return function(i,l,s){var u,d=iH(l,s);return d?"value"in d?d.value:(u=d.get)===null||u===void 0?void 0:u.call(i.k):void 0}(e,n,t);var o=n[t];return e.I||!Yi(o)?o:o===aw(e.t,t)?(lw(e),e.o[t]=sw(e.A.h,o,e)):o},has:function(e,t){return t in Qi(e)},ownKeys:function(e){return Reflect.ownKeys(Qi(e))},set:function(e,t,n){var o=iH(Qi(e),t);if(o!=null&&o.set)return o.set.call(e.k,n),!0;if(!e.P){var i=aw(Qi(e),t),l=i==null?void 0:i[Un];if(l&&l.t===n)return e.o[t]=n,e.D[t]=!1,!0;if(Ooe(n,i)&&(n!==void 0||Xk(e.t,t)))return!0;lw(e),iw(e)}return e.o[t]===n&&typeof n!="number"&&(n!==void 0||t in e.o)||(e.o[t]=n,e.D[t]=!0,!0)},deleteProperty:function(e,t){return aw(e.t,t)!==void 0||t in e.t?(e.D[t]=!1,lw(e),iw(e)):delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=Qi(e),o=Reflect.getOwnPropertyDescriptor(n,t);return o&&{writable:!0,configurable:e.i!==1||t!=="length",enumerable:o.enumerable,value:n[t]}},defineProperty:function(){Ir(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){Ir(12)}},ym={};qc(vm,function(e,t){ym[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ym.deleteProperty=function(e,t){return vm.deleteProperty.call(this,e[0],t)},ym.set=function(e,t,n){return vm.set.call(this,e[0],t,n,e[0])};var Roe=function(){function e(n){var o=this;this.g=uH,this.F=!0,this.produce=function(i,l,s){if(typeof i=="function"&&typeof l!="function"){var u=l;l=i;var d=o;return function(h){var b=this;h===void 0&&(h=u);for(var y=arguments.length,k=Array(y>1?y-1:0),x=1;x<y;x++)k[x-1]=arguments[x];return d.produce(h,function(S){var _;return(_=l).call.apply(_,[b,S].concat(k))})}}var f;if(typeof l!="function"&&Ir(6),s!==void 0&&typeof s!="function"&&Ir(7),Yi(i)){var m=oH(o),v=sw(o,i,void 0),g=!0;try{f=l(v),g=!1}finally{g?pm(m):rw(m)}return typeof Promise<"u"&&f instanceof Promise?f.then(function(h){return nw(m,s),ow(h,m)},function(h){throw pm(m),h}):(nw(m,s),ow(f,m))}if(!i||typeof i!="object")return(f=l(i))===cH?void 0:(f===void 0&&(f=i),o.F&&ew(f,!0),f);Ir(21,i)},this.produceWithPatches=function(i,l){return typeof i=="function"?function(d){for(var f=arguments.length,m=Array(f>1?f-1:0),v=1;v<f;v++)m[v-1]=arguments[v];return o.produceWithPatches(d,function(g){return i.apply(void 0,[g].concat(m))})}:[o.produce(i,l,function(d,f){s=d,u=f}),s,u];var s,u},typeof(n==null?void 0:n.useProxies)=="boolean"&&this.setUseProxies(n.useProxies),typeof(n==null?void 0:n.autoFreeze)=="boolean"&&this.setAutoFreeze(n.autoFreeze)}var t=e.prototype;return t.createDraft=function(n){Yi(n)||Ir(8),Ss(n)&&(n=gm(n));var o=oH(this),i=sw(this,n,void 0);return i[Un].C=!0,rw(o),i},t.finishDraft=function(n,o){var i=n&&n[Un],l=i.A;return nw(l,o),ow(void 0,l)},t.setAutoFreeze=function(n){this.F=n},t.setUseProxies=function(n){n&&!uH&&Ir(20),this.g=n},t.applyPatches=function(n,o){var i;for(i=o.length-1;i>=0;i--){var l=o[i];if(l.path.length===0&&l.op==="replace"){n=l.value;break}}var s=Ko("Patches").$;return Ss(n)?s(n,o):this.produce(n,function(u){return s(u,o.slice(i+1))})},e}(),Vn=new Roe;Vn.produce,Vn.produceWithPatches.bind(Vn),Vn.setAutoFreeze.bind(Vn),Vn.setUseProxies.bind(Vn),Vn.applyPatches.bind(Vn);var dw=Vn.createDraft.bind(Vn),fw=Vn.finishDraft.bind(Vn);xG(),OG(),ZG(),J0(),YG(),Hh(),Ft(),ni();var jr={create(e){let t={byId:{},allIds:{}};if(e)for(let[n,o]of e)t.byId[n]=o,t.allIds[n]=!0;return t},shallowCopy(e){return{byId:L({},e==null?void 0:e.byId),allIds:L({},e==null?void 0:e.allIds)}},add(e,t,n){return{byId:he(L({},e==null?void 0:e.byId),{[t]:n}),allIds:he(L({},e==null?void 0:e.allIds),{[t]:!0})}},merge(e){let t=jr.create();for(let n=0;n<e.length;n++)t.byId=L(L({},t.byId),e[n].byId),t.allIds=L(L({},t.allIds),e[n].allIds);return t},remove(e,t){let n=jr.shallowCopy(e);return delete n.allIds[t],delete n.byId[t],n},filter(e,t){let n=jr.shallowCopy(e);for(let[o,i]of Object.entries(n.byId))t(i)||(delete n.allIds[o],delete n.byId[o]);return n}},fH=e=>(pw=e,hw),pw,en=()=>{if(pw===void 0)throw new Error("Calling stateEditors outside of a transaction is not allowed.");return pw},hw;(e=>{(t=>{(n=>{(o=>{function i(l){let s=en().historic;s.panelPositions!=null||(s.panelPositions={}),s.panelPositions[l.panelId]=l.position}o.setPanelPosition=i})(n.panelPositions||(n.panelPositions={})),(o=>{function i(){var l;return(l=en().historic).panels!=null||(l.panels={}),en().historic.panels}o._ensure=i,(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.outlinePanel!=null||(u.outlinePanel={}),u.outlinePanel}l._ensure=s,(u=>{function d(m){let v=[];for(let g of ia(m))Ng(g)?v.push(L({type:"Project"},g.address)):Nd(g)?(v.push(L({type:"Sheet"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.address)):d2(g)?v.push(L({type:"Sheet"},g.address)):ur(g)?(v.push(L({type:"SheetObject"},g.template.address)),e.studio.historic.projects.stateByProjectId.stateBySheetId.setSelectedInstanceId(g.sheet.address)):p2(g)&&v.push(L({type:"SheetObject"},g.address));l._ensure().selection=v}u.set=d;function f(){l._ensure().selection=[]}u.unset=f})(l.selection||(l.selection={}))})(o.outline||(o.outline={})),(l=>{function s(){let u=e.studio.historic.panels._ensure();return u.sequenceEditor!=null||(u.sequenceEditor={}),u.sequenceEditor}l._ensure=s,(u=>{function d(){let m=l._ensure();return m.graphEditor!=null||(m.graphEditor={height:.5,isOpen:!1}),m.graphEditor}function f(m){d().isOpen=m.isOpen}u.setIsOpen=f})(l.graphEditor||(l.graphEditor={}))})(o.sequenceEditor||(o.sequenceEditor={}))})(n.panels||(n.panels={})),(o=>{(i=>{function l(s){let u=en().historic;return u.projects.stateByProjectId[s.projectId]||(u.projects.stateByProjectId[s.projectId]={stateBySheetId:{}}),u.projects.stateByProjectId[s.projectId]}i._ensure=l,(s=>{function u(f){let m=e.studio.historic.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={selectedInstanceId:void 0,sequenceEditor:{selectedPropsByObject:{}}}),m.stateBySheetId[f.sheetId]}s._ensure=u;function d(f){e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(f).selectedInstanceId=f.sheetInstanceId}s.setSelectedInstanceId=d,(f=>{function m(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;x[k.objectKey]||(x[k.objectKey]={});let S=x[k.objectKey],_=Jr(k.pathToProp),O=new Set(Object.keys(Ac));for(let[z,V]of Object.entries(gm(x)))for(let[W,B]of Object.entries(V))O.delete(B);let j=O.size>0?O.values().next().value:Object.keys(Ac)[0];S[_]=j}f.addPropToGraphEditor=m;function v(k){let{selectedPropsByObject:x}=s._ensure(k).sequenceEditor;if(!x[k.objectKey])return;let S=x[k.objectKey],_=Jr(k.pathToProp);S[_]&&tH(x,[k.objectKey,_])}f.removePropFromGraphEditor=v;function g(k){let x=e.studio.historic.projects.stateByProjectId.stateBySheetId._ensure(k).sequenceEditor;return x.markerSet||(x.markerSet=jr.create()),x.markerSet}function h(k){let x=g(k.sheetAddress),S=k.markers.filter(z=>!!isFinite(z.position)).map(z=>he(L({},z),{position:k.snappingFunction(z.position)})),_=vu(S,"id"),O=jr.filter(x,z=>z&&!_[z.id]),j=vu(Object.values(O.byId),"position");S.forEach(({position:z})=>{let V=j[z];V&&(O=jr.remove(O,V.id))}),Object.assign(x,jr.merge([O,jr.create(S.map(z=>[z.id,z]))]))}f.replaceMarkers=h;function b(k){let x=g(k.sheetAddress);Object.assign(x,jr.remove(x,k.markerId))}f.removeMarker=b;function y(k){let x=g(k.sheetAddress).byId[k.markerId];x!==void 0&&(x.label=k.label)}f.updateMarker=y})(s.sequenceEditor||(s.sequenceEditor={}))})(i.stateBySheetId||(i.stateBySheetId={}))})(o.stateByProjectId||(o.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.historic||(t.historic={})),(n=>{function o(i){en().ephemeral.showOutline=i}n.setShowOutline=o,(i=>{(l=>{function s(u){let d=en().ephemeral;return d.projects.stateByProjectId[u.projectId]||(d.projects.stateByProjectId[u.projectId]={stateBySheetId:{}}),d.projects.stateByProjectId[u.projectId]}l._ensure=s,(u=>{function d(f){let m=e.studio.ephemeral.projects.stateByProjectId._ensure(f);return m.stateBySheetId[f.sheetId]||(m.stateBySheetId[f.sheetId]={stateByObjectKey:{}}),m.stateBySheetId[f.sheetId]}u._ensure=d,(f=>{function m(v){var g;let h=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId._ensure(v).stateByObjectKey;return h[g=v.objectKey]!=null||(h[g]={}),h[v.objectKey]}f._ensure=m,(v=>{function g(b){let y=e.studio.ephemeral.projects.stateByProjectId.stateBySheetId.stateByObjectKey._ensure(b);return y.valuesBeingScrubbed!=null||(y.valuesBeingScrubbed={}),y.valuesBeingScrubbed}v._ensure=g;function h(b){Cl(g(b),b.pathToProp,!0)}v.flag=h})(f.propsBeingScrubbed||(f.propsBeingScrubbed={}))})(u.stateByObjectKey||(u.stateByObjectKey={}))})(l.stateBySheetId||(l.stateBySheetId={}))})(i.stateByProjectId||(i.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ephemeral||(t.ephemeral={})),(n=>{function o(d){en().ahistoric.pinOutline=d}n.setPinOutline=o;function i(d){en().ahistoric.pinDetails=d}n.setPinDetails=i;function l(d){en().ahistoric.pinNotifications=d}n.setPinNotifications=l;function s(d){en().ahistoric.visibilityState=d}n.setVisibilityState=s;function u(d){let f=th(d.map(g=>g.pathToProp)),m=d.map(({keyframe:g,pathToProp:h})=>({keyframe:g,pathToProp:h.slice(f.length)})),v=en();v.ahistoric.clipboard?v.ahistoric.clipboard.keyframesWithRelativePaths=m:v.ahistoric.clipboard={keyframesWithRelativePaths:m}}n.setClipboardKeyframes=u,(d=>{(f=>{function m(v){let g=en().ahistoric;return g.projects.stateByProjectId[v.projectId]||(g.projects.stateByProjectId[v.projectId]={stateBySheetId:{}}),g.projects.stateByProjectId[v.projectId]}f._ensure=m,(v=>{function g(b){let y=e.studio.ahistoric.projects.stateByProjectId._ensure(b);return y.collapsedItemsInOutline||(y.collapsedItemsInOutline={}),y.collapsedItemsInOutline}v._ensure=g;function h(b){let y=e.studio.ahistoric.projects.stateByProjectId.collapsedItemsInOutline._ensure(b);b.isCollapsed?y[b.itemKey]=!0:delete y[b.itemKey]}v.set=h})(f.collapsedItemsInOutline||(f.collapsedItemsInOutline={})),(v=>{function g(h){let b=e.studio.ahistoric.projects.stateByProjectId._ensure(h);return b.stateBySheetId[h.sheetId]||(b.stateBySheetId[h.sheetId]={}),b.stateBySheetId[h.sheetId]}v._ensure=g,(h=>{function b(y){let k=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId._ensure(y);return k.sequence||(k.sequence={}),k.sequence}h._ensure=b,(y=>{function k(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange={range:S.range,enabled:S.enabled}}y.set=k;function x(S){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S).focusRange=void 0}y.unset=x})(h.focusRange||(h.focusRange={})),(y=>{function k(x){e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(x).clippedSpaceRange=L({},x.range)}y.set=k})(h.clippedSpaceRange||(h.clippedSpaceRange={})),(y=>{function k(S){let _=e.studio.ahistoric.projects.stateByProjectId.stateBySheetId.sequence._ensure(S),O=_.collapsableItems;return O||(O=_.collapsableItems=jr.create()),O}function x(S){let _=k(S);Object.assign(_,jr.add(_,S.studioSheetItemKey,{isCollapsed:S.isCollapsed}))}y.set=x})(h.sequenceEditorCollapsableItems||(h.sequenceEditorCollapsableItems={}))})(v.sequence||(v.sequence={}))})(f.stateBySheetId||(f.stateBySheetId={}))})(d.stateByProjectId||(d.stateByProjectId={}))})(n.projects||(n.projects={}))})(t.ahistoric||(t.ahistoric={}))})(e.studio||(e.studio={})),(t=>{(n=>{(o=>{function i(l){let s=en().historic.coreByProject[l.projectId].revisionHistory,u=50;s.unshift(l.revision),s.length>u&&(s.length=u)}o.add=i})(n.revisionHistory||(n.revisionHistory={})),(o=>{function i(u){let d=en().historic.coreByProject[u.projectId].sheetsById;return d[u.sheetId]||(d[u.sheetId]={staticOverrides:{byObject:{}}}),d[u.sheetId]}o._ensure=i;function l(u){let d=en().historic.coreByProject[u.projectId].sheetsById[u.sheetId];if(!d)return;delete d.staticOverrides.byObject[u.objectKey];let f=d.sequence;f&&delete f.tracksByObject[u.objectKey]}o.forgetObject=l;function s(u){en().historic.coreByProject[u.projectId].sheetsById[u.sheetId]&&delete en().historic.coreByProject[u.projectId].sheetsById[u.sheetId]}o.forgetSheet=s,(u=>{function d(B){let Z=e.coreByProject.historic.sheetsById._ensure(B);return Z.sequence!=null||(Z.sequence={subUnitsPerUnit:30,length:10,type:"PositionalSequence",tracksByObject:{}}),Z.sequence}u._ensure=d;function f(B){d(B).length=kt(parseFloat(B.length.toFixed(2)),.01,1/0)}u.setLength=f;function m(B){d(B).subUnitsPerUnit=kt(B.subUnitsPerUnit,1,mq(2,12))}u.setSubUnitsPerUnit=m;function v(B){var Z;let re=e.coreByProject.historic.sheetsById.sequence._ensure(B).tracksByObject;return re[Z=B.objectKey]!=null||(re[Z]={trackData:{},trackIdByPropPath:{}}),re[B.objectKey]}function g(B,Z){let re=v(B),D=Jr(B.pathToProp);if(typeof re.trackIdByPropPath[D]=="string")return;let G=KJ(),C={type:"BasicKeyframedTrack",__debugName:"".concat(B.objectKey,":").concat(D),keyframes:[]};re.trackData[G]=C,re.trackIdByPropPath[D]=G}u.setPrimitivePropAsSequenced=g;function h(B){let Z=v(B),re=Jr(B.pathToProp),D=Z.trackIdByPropPath[re];typeof D=="string"&&(delete Z.trackIdByPropPath[re],delete Z.trackData[D],e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(B))}u.setPrimitivePropAsStatic=h;function b(B){let Z=v(B);for(let re of Object.keys(Z.trackIdByPropPath)){let D=JSON.parse(re);if(B.pathToProp.every((G,C)=>D[C]===G)){let G=Z.trackIdByPropPath[re];if(typeof G!="string")continue;delete Z.trackIdByPropPath[re],delete Z.trackData[G]}}e.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfCompoundProp(B)}u.setCompoundPropAsStatic=b;function y(B){return v(B).trackData[B.trackId]}function k(B){let Z=y(B);if(Z)return Z.keyframes.find(re=>re.id===B.keyframeId)}function x(B){let Z=B.snappingFunction(B.position),re=y(B);if(!re)return;let{keyframes:D}=re,G=D.findIndex(xe=>xe.position===Z);if(G!==-1){let xe=D[G];xe.value=B.value;return}let C=m5(D,xe=>xe.position<Z);if(C===-1){D.unshift({id:p8(),position:Z,connectedRight:!0,handles:B.handles||[.5,1,.5,0],type:B.type||"bezier",value:B.value});return}let Q=D[C];D.splice(C+1,0,{id:p8(),position:Z,connectedRight:Q.connectedRight,handles:B.handles||[.5,1,.5,0],type:B.type||"bezier",value:B.value})}u.setKeyframeAtPosition=x;function S(B){let Z=y(B);if(!Z)return;let{keyframes:re}=Z,D=re.findIndex(G=>G.position===B.position);D!==-1&&re.splice(D,1)}u.unsetKeyframeAtPosition=S;function _(B){let Z=y(B);if(!Z)return;let re=gm(Z.keyframes).filter(D=>B.keyframeIds.includes(D.id)).map(D=>{let G=D.position,C=B.snappingFunction(Ioe(G,B));return he(L({},D),{position:C})});W(he(L({},B),{keyframes:re}))}u.transformKeyframes=_;function O(B){let Z=y(B);Z&&(Z.keyframes=Z.keyframes.map((re,D)=>{let G=Z.keyframes[D-1],C=B.keyframeIds.includes(re.id),Q=B.keyframeIds.includes(G==null?void 0:G.id);return C&&!Q?he(L({},re),{handles:[re.handles[0],re.handles[1],B.handles[0],B.handles[1]]}):C&&Q?he(L({},re),{handles:[B.handles[2],B.handles[3],B.handles[0],B.handles[1]]}):Q?he(L({},re),{handles:[B.handles[2],B.handles[3],re.handles[2],re.handles[3]]}):re}))}u.setTweenBetweenKeyframes=O;function j(B){var Z,re,D,G,C,Q,xe,q;let K=k(B);K&&(K.handles=[(re=(Z=B.end)==null?void 0:Z[0])!=null?re:K.handles[0],(G=(D=B.end)==null?void 0:D[1])!=null?G:K.handles[1],(Q=(C=B.start)==null?void 0:C[0])!=null?Q:K.handles[2],(q=(xe=B.start)==null?void 0:xe[1])!=null?q:K.handles[3]])}u.setHandlesForKeyframe=j;function z(B){let Z=y(B);Z&&(Z.keyframes=Z.keyframes.filter(re=>B.keyframeIds.indexOf(re.id)===-1))}u.deleteKeyframes=z;function V(B){let Z=k(B);Z&&(Z.type=B.keyframeType)}u.setKeyframeType=V;function W(B){let Z=y(B);if(!Z)return;let re=gm(Z.keyframes),D=B.keyframes.filter(q=>!(typeof q.value=="number"&&!isFinite(q.value)||!q.handles.every(K=>isFinite(K)))).map(q=>he(L({},q),{position:B.snappingFunction(q.position)})),G=vu(D,"id"),C=re.filter(q=>!G[q.id]),Q=vu(C,"position");D.forEach(({position:q})=>{let K=Q[q];K&&D5(C,K)});let xe=F5([...C,...D],"position");Z.keyframes=xe}u.replaceKeyframes=W})(o.sequence||(o.sequence={})),(u=>{(d=>{function f(h){var b;let y=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject;return y[b=h.objectKey]!=null||(y[b]={}),y[h.objectKey]}function m(h){let b=f(h);Cl(b,h.pathToProp,h.value)}d.setValueOfCompoundProp=m;function v(h){let b=f(h);Cl(b,h.pathToProp,h.value)}d.setValueOfPrimitiveProp=v;function g(h){let b=e.coreByProject.historic.sheetsById._ensure(h).staticOverrides.byObject[h.objectKey];b&&tH(b,h.pathToProp)}d.unsetValueOfPrimitiveProp=g})(u.byObject||(u.byObject={}))})(o.staticOverrides||(o.staticOverrides={}))})(n.sheetsById||(n.sheetsById={}))})(t.historic||(t.historic={}))})(e.coreByProject||(e.coreByProject={}))})(hw||(hw={}));function mw(){let e,t,n=new Promise((i,l)=>{e=s=>{i(s),o.status="resolved"},t=s=>{l(s),o.status="rejected"}}),o={resolve:e,reject:t,promise:n,status:"pending"};return o}var Moe=je();function Uoe(e){let t=e.getState(),n=new Moe.Atom(t);return e.subscribe(()=>{let o=e.getState();n.set(o),t=o}),n}__();function Voe(e){var t,n=e.Symbol;return typeof n=="function"?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}var Lc;typeof self<"u"?Lc=self:typeof window<"u"?Lc=window:typeof $n<"u"?Lc=$n:Lc=En;var Hoe=Voe(Lc),pH=Hoe,hH={INIT:"@@redux/INIT"};function mH(e,t,n){var o;if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error("Expected the enhancer to be a function.");return n(mH)(e,t)}if(typeof e!="function")throw new Error("Expected the reducer to be a function.");var i=e,l=t,s=[],u=s,d=!1;function f(){u===s&&(u=s.slice())}function m(){return l}function v(y){if(typeof y!="function")throw new Error("Expected listener to be a function.");var k=!0;return f(),u.push(y),function(){if(k){k=!1,f();var x=u.indexOf(y);u.splice(x,1)}}}function g(y){if(!sf(y))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(typeof y.type>"u")throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(d)throw new Error("Reducers may not dispatch actions.");try{d=!0,l=i(l,y)}finally{d=!1}for(var k=s=u,x=0;x<k.length;x++){var S=k[x];S()}return y}function h(y){if(typeof y!="function")throw new Error("Expected the nextReducer to be a function.");i=y,g({type:hH.INIT})}function b(){var y,k=v;return y={subscribe:function(x){if(typeof x!="object")throw new TypeError("Expected the observer to be an object.");function S(){x.next&&x.next(m())}S();var _=k(S);return{unsubscribe:_}}},y[pH]=function(){return this},y}return g({type:hH.INIT}),o={dispatch:g,subscribe:v,getState:m,replaceReducer:h},o[pH]=b,o}function Koe(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length===0?function(o){return o}:t.length===1?t[0]:t.reduce(function(o,i){return function(){return o(i.apply(void 0,arguments))}})}function Woe(e){let t=Koe();return mH(e.rootReducer,void 0,t)}qh(),c5();var gw=new WeakMap,qoe=(e,t,n)=>{let o=d=>{e.dispatch(xs.replacePersistentState(d))},i=gH(n),l=()=>e.getState().$persistent;u();let s=()=>{let d=l(),f=gw.get(e);d!==f&&(gw.set(e,d),localStorage.setItem(i,JSON.stringify(d)))};e.subscribe(Z0(s,1e3)),window&&window.addEventListener("beforeunload",s);function u(){let d=localStorage.getItem(i);if(d){let f,m=!0;try{f=JSON.parse(d),m=!1}catch{Wh.warn("Could not parse Theatre's persisted state. This must be a bug. Please report it.")}finally{m||o(f),t()}}else t()}},$oe=(e,t)=>{let n=gH(t),o=e.getState().$persistent;localStorage.removeItem(n),gw.set(e,o)};function gH(e){return e+".persistent"}ST(),ni(),pu(),k5(),Bg(),Sp();var bm=je();ha(),Ft(),sU();function vw(e){if(typeof e=="boolean"||typeof e=="string"||typeof e=="number")return e;if(sf(e)){let t={},n=!1;for(let[o,i]of Object.entries(e))vw(i)!==void 0&&(t[o]=i,n=!0);if(n)return t}else return}function vH(e,t,n){for(let[o,i]of Object.entries(e.props))if(i.type==="compound")vH(i,[...t,o],n);else{if(i.type==="enum")throw new Error("Not yet implemented");n(i,[...t,o])}}function Loe(e,t,n){return{set:(o,i)=>{e();let l=vw(i);if(typeof l>"u")return;let{root:s,path:u}=(0,bm.getPointerParts)(o);if(ur(s)){let d=s.template.getMapOfValidSequenceTracks_forStudio().getValue(),f=yp(s.template.staticConfig,u);if(!f)throw new Error("Object ".concat(s.address.objectKey," does not have a prop at ").concat(JSON.stringify(u)));let m=(v,g,h)=>{if(v==null)return;if(vw(g.deserializeAndSanitize(v))===void 0)throw new Error("Invalid value ".concat(Ck(v)," for object.props").concat(h.map(k=>"[".concat(JSON.stringify(k),"]")).join("")," is invalid"));let b=he(L({},s.address),{pathToProp:h}),y=ii(d,h);if(typeof y=="string"){let k=s.sheet.getSequence();k.position=k.closestGridPosition(k.position),t.coreByProject.historic.sheetsById.sequence.setKeyframeAtPosition(he(L({},b),{trackId:y,position:k.position,value:v,snappingFunction:k.closestGridPosition,type:"bezier"}))}else t.coreByProject.historic.sheetsById.staticOverrides.byObject.setValueOfPrimitiveProp(he(L({},b),{value:v}))};if(f.type==="compound"){let v=(0,bm.getPointerParts)(o).path,g=v.length;vH(f,v,(h,b)=>{let y=b.slice(g),k=ga(l,y);if(typeof k<"u")m(k,h,b);else throw new Error("Property object.props".concat(b.map(x=>"[".concat(JSON.stringify(x),"]")).join("")," is required but not provided"))})}else{if(f.type==="enum")throw new Error("Enums aren't implemented yet");m(l,f,u)}}else if(f2(s)){let[d]=u;if(d==="subUnitsPerUnit"){if(typeof l!="number"||!Y0(l)||l<1)throw new Error("Value ".concat(l," is not an integer, which is required for setting sequence prop ").concat(d));t.coreByProject.historic.sheetsById.sequence.setSubUnitsPerUnit(he(L({},s.address),{subUnitsPerUnit:l}))}else if(d==="length"){if(typeof l!="number"||l<=.001)throw new Error("Value ".concat(l," is not a positive number, which is required for setting sequence prop ").concat(d));t.coreByProject.historic.sheetsById.sequence.setLength(he(L({},s.address),{length:l}))}else throw new Error("Setting sequence prop ".concat(d," is not supported"))}else throw new Error("Only setting props of SheetObject-s and sequences is supported in a transaction so far")},unset:o=>{e();let{root:i,path:l}=(0,bm.getPointerParts)(o);if(ur(i)){let s=i.template.getMapOfValidSequenceTracks_forStudio().getValue(),u=ga(i.template.getDefaultValues().getValue(),l),d=yp(i.template.staticConfig,l),f=(m,v)=>{let g=he(L({},i.address),{pathToProp:v}),h=ii(s,v);typeof h=="string"?t.coreByProject.historic.sheetsById.sequence.unsetKeyframeAtPosition(he(L({},g),{trackId:h,position:i.sheet.getSequence().positionSnappedToGrid})):d!==void 0&&t.coreByProject.historic.sheetsById.staticOverrides.byObject.unsetValueOfPrimitiveProp(g)};d.type==="compound"?Bd(u,(m,v)=>{f(m,v)},(0,bm.getPointerParts)(o).path):f(u,l)}else throw new Error("Only setting props of SheetObject-s is supported in a transaction so far")},get drafts(){return e(),n},get stateEditors(){return t}}}var Zoe=class{constructor(){et(this,"_reduxStore"),et(this,"_atom"),et(this,"atomP"),this._reduxStore=Woe({rootReducer:Coe}),this._atom=Uoe(this._reduxStore),this.atomP=this._atom.pointer}initialize(e){let t=mw();return e.usePersistentStorage===!0?qoe(this._reduxStore,()=>{this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()},e.persistenceKey):(this.tempTransaction(({drafts:n})=>{n.ephemeral.initialised=!0}).commit(),t.resolve()),t.promise}getState(){return this._reduxStore.getState()}__experimental_clearPersistentStorage(e){return $oe(this._reduxStore,e),this.getState()}__dev_startHistoryFromScratch(e){this._reduxStore.dispatch(xs.historic.startHistoryFromScratch(xs.reduceParts(t=>he(L({},t),{historic:e}))))}tempTransaction(e){let t=Poe(),n,o=t.push(xs.reduceParts(i=>{let l={historic:dw(i.historic),ahistoric:dw(i.ahistoric),ephemeral:dw(i.ephemeral)},s=!0,u=()=>{if(!s)throw new Error("You seem to have called the transaction api after studio.transaction() has finished running")},d=fH(l),f=Loe(u,d,l);try{return e(f),s=!1,{historic:fw(l.historic),ahistoric:fw(l.ahistoric),ephemeral:fw(l.ephemeral)}}catch(m){return n=m,i}finally{fH(void 0)}}));if(this._reduxStore.dispatch(o),n)throw this._reduxStore.dispatch(t.discard()),n;return{commit:()=>{this._reduxStore.dispatch(t.commit())},discard:()=>{this._reduxStore.dispatch(t.discard())}}}undo(){this._reduxStore.dispatch(xs.historic.undo())}redo(){this._reduxStore.dispatch(xs.historic.redo())}createContentOfSaveFile(e){if(!this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e])throw new Error("Project ".concat(e," has not been initialized."));let t=xT();this.tempTransaction(({stateEditors:o})=>{o.coreByProject.historic.revisionHistory.add({projectId:e,revision:t})}).commit();let n=this._reduxStore.getState().$persistent.historic.innerState.coreByProject[e];return L({},n)}},Goe=je(),yw=class{constructor(){et(this,"_values",{})}get(e,t){if(this.has(e))return this._values[e];{let n=t();return this._values[e]=n,n}}has(e){return this._values.hasOwnProperty(e)}};ni(),ca(),Ne(),Ft(),Sk();var Xoe=class{constructor(e){et(this,"ui",{hide(){de().ui.hide()},get isHidden(){return de().ui.isHidden},restore(){de().ui.restore()},renderToolset(t,n){return de().ui.renderToolset(t,n)}}),et(this,"_cache",new yw),et(this,"__experimental",{__experimental_disblePlayPauseKeyboardShortcut(){tre()},__experimental_enablePlayPauseKeyboardShortcut(){nre()},__experimental_clearPersistentStorage(t){return de().clearPersistentStorage(t)},__experimental_createContentOfSaveFileTyped(t){return de().createContentOfSaveFile(t)}})}initialize(e){return de().initialize(e)}extend(e,t){de().extend(e,t)}transaction(e){return de().transaction(({set:t,unset:n,stateEditors:o})=>e({set:t,unset:n,__experimental_forgetObject:i=>{if(!Rg(i))throw new Error("object in transactionApi.__experimental_forgetObject(object) must be the return type of sheet.object(...)");o.coreByProject.historic.sheetsById.forgetObject(i.address)},__experimental_forgetSheet:i=>{if(!Fg(i))throw new Error("sheet in transactionApi.__experimental_forgetSheet(sheet) must be the return type of project.sheet()");o.coreByProject.historic.sheetsById.forgetSheet(i.address)}}))}_getSelectionPrism(){return this._cache.get("_getSelectionPrism()",()=>(0,Goe.prism)(()=>ua().filter(e=>e.type==="Theatre_SheetObject"||e.type==="Theatre_Sheet").map(e=>e.publicApi)))}_getSelection(){return this._getSelectionPrism().getValue()}setSelection(e){let t=[...e].filter(n=>Rg(n)||Fg(n)).map(n=>de().corePrivateAPI(n));de().transaction(({stateEditors:n})=>{n.studio.historic.panels.outline.selection.set(t)})}onSelectionChange(e){let t=de();return this._getSelectionPrism().onChange(t.ticker,e,!0)}get selection(){return this._getSelection()}scrub(){return de().scrub()}getStudioProject(){let e=de().core;if(!e)throw new Error("You're calling studio.getStudioProject() before `@theatre/core` is loaded. To fix this:\n1. Check if `@theatre/core` is import/required in your bundle.\n2. Check the stack trace of this error and make sure the funciton that calls getStudioProject() is run after `@theatre/core` is loaded.");return de().getStudioProject(e)}debouncedScrub(e=1e3){let t,n=Z0(()=>{let o=t;o&&(t=void 0,o.commit())},e);return{capture:o=>{t||(t=this.scrub());let i=!0;try{t.capture(o),i=!1}finally{if(i){let l=t;t=void 0,l.discard()}else n()}}}}createPane(e){return de().paneManager.createPane(e)}destroyPane(e){return de().paneManager.destroyPane(e)}createContentOfSaveFile(e){return de().createContentOfSaveFile(e)}};f8();var Ji=je(),Yoe=class{constructor(e){this._studio=e,et(this,"_cache",new yw),this._instantiatePanesAsTheyComeIn()}_instantiatePanesAsTheyComeIn(){let e=this._getAllPanes();e.onStale(()=>{e.getValue()})}_getAllPanes(){return this._cache.get("_getAllPanels()",()=>(0,Ji.prism)(()=>{if(!(0,Ji.val)(this._studio.coreP))return{};let e=(0,Ji.val)(this._studio.atomP.historic.panelInstanceDesceriptors),t=(0,Ji.val)(this._studio.atomP.ephemeral.extensions.paneClasses),n={};for(let o of Object.values(e)){if(!o)continue;let i=t[o.paneClass];if(!i)continue;let{instanceId:l}=o,{extensionId:s,classDefinition:u}=i,d=Ji.prism.memo("instance-".concat(o.instanceId),()=>({extensionId:s,instanceId:l,definition:u}),[u]);n[l]=d}return n}))}get allPanesD(){return this._getAllPanes()}createPane(e){if(!this._studio.core)throw new Error("Can't create a pane because @theatre/core is not yet loaded");let t=(0,Ji.val)(this._studio.atomP.ephemeral.extensions.paneClasses[e].extensionId),n=(0,Ji.val)(this._studio.atomP.historic.panelInstanceDesceriptors),o;for(let i=1;i<1e3&&(o="".concat(e," #").concat(i),!!n[o]);i++);if(!t)throw new Error('Pane class "'.concat(e,'" is not registered.'));return this._studio.transaction(({drafts:i})=>{i.historic.panelInstanceDesceriptors[o]={instanceId:o,paneClass:e}}),this._getAllPanes().getValue()[o]}destroyPane(e){if(!this._studio.core)throw new Error("Can't do this yet because @theatre/core is not yet loaded");this._studio.transaction(({drafts:t})=>{delete t.historic.panelInstanceDesceriptors[e]})}},km=je();Ne();var yH=30*60*1e3,Qoe=1e3*60*60;function Joe(){return Vt(this,null,function*(){let e=de().atomP.ahistoric.visibilityState;if((0,km.val)(e)==="everythingIsVisible")return;let t=mw(),n=(0,km.pointerToPrism)(e).onStale(()=>{(0,km.val)(e)==="everythingIsVisible"&&(n(),t.resolve(void 0))});return t.promise})}function eae(){return Vt(this,null,function*(){if(!"0.7.2".match(/COMPAT/))for(yield wm(500),yield Joe();;){let e=(0,km.val)(de().atomP.ahistoric.updateChecker);if(e&&e.result!=="error"){let t=e.lastChecked,n=Date.now(),o=Math.abs(n-t);o<yH&&(yield wm(yH-o))}try{let t=yield fetch(new Request("https://updates.theatrejs.com/updates/0.7.2"));if(t.ok){let n=yield t.json();if(!tae(n))throw new Error("Bad response");de().transaction(({drafts:o})=>{o.ahistoric.updateChecker={lastChecked:Date.now(),result:L({},n)}}),yield wm(1e3)}else throw new Error("HTTP Error ".concat(t.statusText))}catch{yield wm(Qoe)}}})}var wm=e=>new Promise(t=>setTimeout(t,e));function tae(e){if(typeof e!="object")return!1;let t=e;return typeof t.hasUpdates!="boolean"?!1:t.hasUpdates===!0&&typeof t.newVersion=="string"&&typeof t.releasePage=="string"||t.hasUpdates===!1}var nae=$(L5());function Wo(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function bH(e,t){let n=indexedDB.open(e);n.onupgradeneeded=()=>n.result.createObjectStore(t);let o=Wo(n);return(i,l)=>o.then(s=>l(s.transaction(t,i).objectStore(t)))}var bw;function _s(){return bw||(bw=bH("keyval-store","keyval")),bw}function rae(e,t=_s()){return t("readonly",n=>Wo(n.get(e)))}function oae(e,t,n=_s()){return n("readwrite",o=>(o.put(t,e),Wo(o.transaction)))}function aae(e,t=_s()){return t("readwrite",n=>(n.delete(e),Wo(n.transaction)))}function kw(e,t){return e.openCursor().onsuccess=function(){this.result&&(t(this.result),this.result.continue())},Wo(e.transaction)}function iae(e=_s()){return e("readonly",t=>{if(t.getAllKeys)return Wo(t.getAllKeys());let n=[];return kw(t,o=>n.push(o.key)).then(()=>n)})}function lae(e=_s()){return e("readonly",t=>{if(t.getAll)return Wo(t.getAll());let n=[];return kw(t,o=>n.push(o.value)).then(()=>n)})}function sae(e=_s()){return e("readonly",t=>{if(t.getAll&&t.getAllKeys)return Promise.all([Wo(t.getAllKeys()),Wo(t.getAll())]).then(([o,i])=>o.map((l,s)=>[l,i[s]]));let n=[];return e("readonly",o=>kw(o,i=>n.push([i.key,i.value])).then(()=>n))})}var uae=e=>{let t=bH("theatrejs-".concat(e),"default-store");return{set:(n,o)=>oae(n,o,t),get:n=>rae(n,t),del:n=>aae(n,t),keys:()=>iae(t),entries:()=>sae(t),values:()=>lae(t)}};Lz(),mc();var kH="theatre-0.4",cae=`You seem to have imported '@theatre/studio' but haven't initialized it. You can initialize the studio by:
\`\`\`
import studio from '@theatre/studio'
studio.initialize()
\`\`\`

* If you didn't mean to import '@theatre/studio', this means that your bundler is not tree-shaking it. This is most likely a bundler misconfiguration.

* If you meant to import '@theatre/studio' without showing its UI, you can do that by running:

\`\`\`
import studio from '@theatre/studio'
studio.initialize()
studio.ui.hide()
\`\`\`
`,dae="You seem to have imported '@theatre/studio' but called `studio.initialize()` after some delay.\nTheatre.js projects remain in pending mode (won't play their sequences) until the studio is initialized, so you should place the `studio.initialize()` line right after the import line:\n\n```\nimport studio from '@theatre/studio'\n// ... and other imports\n\nstudio.initialize()\n```\n",fae=class{constructor(){et(this,"ui"),et(this,"publicApi"),et(this,"address"),et(this,"_projectsProxy",new um.PointerProxy(new um.Atom({}).pointer)),et(this,"projectsP",this._projectsProxy.pointer),et(this,"_store",new Zoe),et(this,"_corePrivateApi"),et(this,"_cache",new yw),et(this,"paneManager"),et(this,"_coreAtom",new um.Atom({})),et(this,"_initializedDeferred",mw()),et(this,"_initializeFnCalled",!1),et(this,"_didWarnAboutNotInitializing",!1),et(this,"_coreBits"),et(this,"_rafDriver"),this.address={studioId:nc(10)},this.publicApi=new Xoe(this),this.ui=new aoe(this),this._attachToIncomingProjects(),this.paneManager=new Yoe(this),typeof window<"u"&&setTimeout(()=>{this._initializeFnCalled||(console.error(cae),this._didWarnAboutNotInitializing=!0)},100)}get ticker(){if(!this._rafDriver)throw new Error("`studio.ticker` was read before studio.initialize() was called.");return this._rafDriver.ticker}get atomP(){return this._store.atomP}initialize(e){return Vt(this,null,function*(){if(!this._coreBits)throw new Error("You seem to have imported `@theatre/studio` without importing `@theatre/core`. Make sure to include an import of `@theatre/core` before calling `studio.initializer()`.");if(this._initializeFnCalled)return this._initializedDeferred.promise;this._initializeFnCalled=!0,this._didWarnAboutNotInitializing&&console.warn(dae);let t={persistenceKey:kH,usePersistentStorage:!0};if(typeof(e==null?void 0:e.persistenceKey)=="string"&&(t.persistenceKey=e.persistenceKey),((e==null?void 0:e.usePersistentStorage)===!1||typeof window>"u")&&(t.usePersistentStorage=!1),e!=null&&e.__experimental_rafDriver){if(e.__experimental_rafDriver.type!=="Theatre_RafDriver_PublicAPI")throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` must be either be undefined, or the return type of core.createRafDriver()");let n=this._coreBits.privateAPI(e.__experimental_rafDriver);if(!n)throw new Error("parameter `rafDriver` in `studio.initialize({__experimental_rafDriver})` seems to come from a different version of `@theatre/core` than the version that is attached to `@theatre/studio`");this._rafDriver=n}else this._rafDriver=this._coreBits.getCoreRafDriver();try{yield this._store.initialize(t)}catch(n){this._initializedDeferred.reject(n);return}typeof window<"u"&&(yield this.ui.ready),this._initializedDeferred.resolve(),this.ui.render(),eae().catch(n=>{console.error(n)})})}get initialized(){return this._initializedDeferred.promise}_attachToIncomingProjects(){let e=(0,um.pointerToPrism)(this.projectsP),t=n=>{for(let o of Object.values(n))o.isAttachedToStudio||o.attachToStudio(this)};e.onStale(()=>{t(e.getValue())}),t(e.getValue())}setCoreBits(e){this._coreBits=e,this._corePrivateApi=e.privateAPI,this._coreAtom.setByPointer(t=>t.core,e.coreExports),this._setProjectsP(e.projectsP)}_setProjectsP(e){this._projectsProxy.setPointer(e)}scrub(){return new roe(this)}tempTransaction(e){return this._store.tempTransaction(e)}transaction(e){return this.tempTransaction(e).commit()}__dev_startHistoryFromScratch(e){return this._store.__dev_startHistoryFromScratch(e)}get corePrivateAPI(){return this._corePrivateApi}get core(){return this._coreAtom.get().core}get coreP(){return this._coreAtom.pointer.core}extend(e,t){if(!e||typeof e!="object")throw new Error("Extensions must be JS objects");if(typeof e.id!="string")throw new Error("extension.id must be a string");let n=(t==null?void 0:t.__experimental_reconfigure)===!0,o=e.id,i=this._store.getState().ephemeral.extensions.byId[o];if(i&&!n){if(e===i||(0,nae.default)(e,i))return;throw new Error('Extension id "'.concat(e.id,'" is already defined. If you mean to re-configure the extension, do it like this: studio.extend(extension, {__experimental_reconfigure: true})})'))}this.transaction(({drafts:l})=>{var s,u;l.ephemeral.extensions.byId[e.id]=e;let d=l.ephemeral.extensions.paneClasses;n&&i&&((s=i.panes)==null||s.forEach(f=>{delete d[f.class]})),(u=e.panes)==null||u.forEach(f=>{if(typeof f.class!="string")throw new Error("pane.class must be a string");if(f.class.length<3)throw new Error("pane.class should be a string with 3 or more characters");let m=d[f.class];if(m)if(n&&m.extensionId===e.id)console.warn('Pane class "'.concat(f.class,'" already exists. This is a bug in Theatre.js. Please report it at https://github.com/theatre-js/theatre/issues/new'));else throw new Error('Pane class "'.concat(f.class,'" already exists and is supplied by extension ').concat(m));d[f.class]={extensionId:e.id,classDefinition:f}})})}getStudioProject(e){return this._cache.get("getStudioProject",()=>e.getProject("Studio"))}getExtensionSheet(e,t){return this._cache.get("extensionSheet-"+e,()=>this.getStudioProject(t).sheet("Extension "+e))}undo(){this._store.undo()}redo(){this._store.redo()}createContentOfSaveFile(e){return this._store.createContentOfSaveFile(e)}createAssetStorage(e,t){return Vt(this,null,function*(){if(typeof window>"u")return{getAssetUrl:()=>"",createAsset:()=>Promise.resolve(null)};if(!("indexedDB"in window))return console.log("This browser doesn't support IndexedDB."),{getAssetUrl:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")},createAsset:f=>{throw new Error("IndexedDB is required by the default asset manager, but it's not supported by this browser. To use assets, please provide your own asset manager to the project config.")}};let n=uae("".concat(e.address.projectId,"-assets")),o=Tb(e),i=yield n.keys();yield Promise.all(i.map(f=>Vt(this,null,function*(){o.includes(f)||(yield n.del(f))}))),yield Promise.all(i.map(f=>Vt(this,null,function*(){var m,v;let g="".concat(t,"/").concat(f);try{(yield fetch(g,{method:"HEAD"})).ok&&(yield n.del(f))}catch{hc.error("Failed to access assets","Failed to access assets at ".concat((v=(m=e.config.assets)==null?void 0:m.baseUrl)!=null?v:"/",". This is likely due to a CORS issue."))}})));let l=new Map(yield n.entries()),s=new Map,u=f=>{if(s.has(f))return s.get(f);{let m=URL.createObjectURL(f);return s.set(f,m),m}},d=f=>{let m=l.get(f);if(!m)throw new Error("Asset with id ".concat(f," not found"));return u(m)};return{getAssetUrl:f=>l.has(f)?d(f):"".concat(t,"/").concat(f),createAsset:f=>Vt(this,null,function*(){var m,v,g;let h=Tb(e),b=!1;if(h.includes(f.name)){let y;try{y=(m=l.get(f.name))!=null?m:yield fetch("".concat(t,"/").concat(f.name)).then(k=>k.ok?k.blob():void 0)}catch{return hc.error("Failed to access assets","Failed to access assets at ".concat((g=(v=e.config.assets)==null?void 0:v.baseUrl)!=null?g:"/",". This is likely due to a CORS issue.")),Promise.resolve(null)}if(y){if(b=yield(yield Promise.resolve().then(()=>$(toe()))).default.isEqual(f,y),b)return f.name;{let k=x=>{let S=prompt(x,f.name);return S===null?!1:S===""?k("Asset name cannot be empty. Please choose a different file name for this asset."):h.includes(S)?(console.log(h),k("An asset with this name already exists. Please choose a different file name for this asset.")):(f=new File([f],S,{type:f.type}),!0)};if(!k("An asset with this name already exists. Please choose a different file name for this asset."))return null}}}return l.set(f.name,f),yield n.set(f.name,f),f.name})}})}clearPersistentStorage(e=kH){this._store.__experimental_clearPersistentStorage(e)}},ww="__TheatreJS_StudioBundle",pae="__TheatreJS_CoreBundle",hae="__TheatreJS_Notifications",mae=class{constructor(e){this._studio=e,et(this,"_coreBundle")}get type(){return"Theatre_StudioBundle"}registerCoreBundle(e){if(this._coreBundle)throw new Error("StudioBundle.coreBundle is already registered. This is a bug.");this._coreBundle=e;let t;e.getBitsForStudio(this._studio,n=>{t=n}),this._studio.setCoreBits(t)}},gae=$(X());be();var wH,vae=M.div(wH||(wH=F([""]))),yae=e=>gae.default.createElement(vae,null),bae=yae;mc();var xw=new fae;bq(xw);var kae=xw.publicApi,wae=kae;xae();function xae(){if(typeof window>"u")return;let e=window[ww];if(typeof e<"u")throw typeof e=="object"&&e&&typeof e.version=="string"?new Error(`It seems that the module '@theatre/studio' is loaded more than once. This could have two possible causes:
1. You might have two separate versions of Theatre.js in node_modules.
2. Or this might be a bundling misconfiguration, in case you're using a bundler like Webpack/ESBuild/Rollup.

Note that it **is okay** to import '@theatre/studio' multiple times. But those imports should point to the same module.`):new Error("The variable window.".concat(ww," seems to be already set by a module other than @theatre/core."));let t=new mae(xw);window[ww]=t;let n=window[pae];n&&n!==null&&n.type==="Theatre_CoreBundle"&&t.registerCoreBundle(n)}typeof window<"u"&&(window[hae]={notify:hc});/*! Bundled license information:

		lodash-es/lodash.js:
		  (**
		   * @license
		   * Lodash (Custom Build) <https://lodash.com/>
		   * Build: `lodash modularize exports="es" -o ./`
		   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
		   * Released under MIT license <https://lodash.com/license>
		   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
		   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
		   *)

		queue-microtask/index.js:
		  (*! queue-microtask. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> *)

		react/cjs/react.production.min.js:
		  (**
		   * @license React
		   * react.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		scheduler/cjs/scheduler.production.min.js:
		  (**
		   * @license React
		   * scheduler.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		react-dom/cjs/react-dom.production.min.js:
		  (**
		   * @license React
		   * react-dom.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		react-is/cjs/react-is.production.min.js:
		  (** @license React v17.0.2
		   * react-is.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		react-is/cjs/react-is.production.min.js:
		  (** @license React v16.13.1
		   * react-is.production.min.js
		   *
		   * Copyright (c) Facebook, Inc. and its affiliates.
		   *
		   * This source code is licensed under the MIT license found in the
		   * LICENSE file in the root directory of this source tree.
		   *)

		jszip/dist/jszip.min.js:
		  (*!
		  
		  JSZip v3.10.1 - A JavaScript class for generating and reading zip files
		  <http://stuartk.com/jszip>
		  
		  (c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
		  Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.
		  
		  JSZip uses the library pako released under the MIT license :
		  https://github.com/nodeca/pako/blob/main/LICENSE
		  *)

		jiff/lib/lcs.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/array.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/jsonPointerParse.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/jsonPointer.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/clone.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/lib/jsonPatch.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)

		jiff/jiff.js:
		  (** @license MIT License (c) copyright 2010-2014 original author or authors *)
		*/}(Dd,Dd.exports)),Dd.exports}var uq=vle();const yle=mle(uq),kle=gle({__proto__:null,default:yle},[uq]);export{kle as i};
